var FW=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var KOe=FW((x6e,$b)=>{function LW(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function vT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hx={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function BW(){if(tN)return vt;tN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function E(j,xe,U){this.props=j,this.context=xe,this.refs=w,this.updater=U||y}E.prototype.isReactComponent={},E.prototype.setState=function(j,xe){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,xe,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=E.prototype;function T(j,xe,U){this.props=j,this.context=xe,this.refs=w,this.updater=U||y}var S=T.prototype=new k;S.constructor=T,v(S,E.prototype),S.isPureReactComponent=!0;var P=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function A(j,xe,U,Q,Y,J){return U=J.ref,{$$typeof:n,type:j,key:xe,ref:U!==void 0?U:null,props:J}}function F(j,xe){return A(j.type,xe,void 0,void 0,void 0,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function K(j){var xe={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(U){return xe[U]})}var re=/\/+/g;function N(j,xe){return typeof j=="object"&&j!==null&&j.key!=null?K(""+j.key):xe.toString(36)}function te(){}function ye(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(te,te):(j.status="pending",j.then(function(xe){j.status==="pending"&&(j.status="fulfilled",j.value=xe)},function(xe){j.status==="pending"&&(j.status="rejected",j.reason=xe)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Ee(j,xe,U,Q,Y){var J=typeof j;(J==="undefined"||J==="boolean")&&(j=null);var ue=!1;if(j===null)ue=!0;else switch(J){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(j.$$typeof){case n:case e:ue=!0;break;case f:return ue=j._init,Ee(ue(j._payload),xe,U,Q,Y)}}if(ue)return Y=Y(j),ue=Q===""?"."+N(j,0):Q,P(Y)?(U="",ue!=null&&(U=ue.replace(re,"$&/")+"/"),Ee(Y,xe,U,"",function(Je){return Je})):Y!=null&&(V(Y)&&(Y=F(Y,U+(Y.key==null||j&&j.key===Y.key?"":(""+Y.key).replace(re,"$&/")+"/")+ue)),xe.push(Y)),1;ue=0;var Ye=Q===""?".":Q+":";if(P(j))for(var Be=0;Be<j.length;Be++)Q=j[Be],J=Ye+N(Q,Be),ue+=Ee(Q,xe,U,J,Y);else if(Be=p(j),typeof Be=="function")for(j=Be.call(j),Be=0;!(Q=j.next()).done;)Q=Q.value,J=Ye+N(Q,Be++),ue+=Ee(Q,xe,U,J,Y);else if(J==="object"){if(typeof j.then=="function")return Ee(ye(j),xe,U,Q,Y);throw xe=String(j),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.")}return ue}function ne(j,xe,U){if(j==null)return j;var Q=[],Y=0;return Ee(j,Q,"","",function(J){return xe.call(U,J,Y++)}),Q}function ke(j){if(j._status===-1){var xe=j._result;xe=xe(),xe.then(function(U){(j._status===0||j._status===-1)&&(j._status=1,j._result=U)},function(U){(j._status===0||j._status===-1)&&(j._status=2,j._result=U)}),j._status===-1&&(j._status=0,j._result=xe)}if(j._status===1)return j._result.default;throw j._result}var We=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Ie(){}return vt.Children={map:ne,forEach:function(j,xe,U){ne(j,function(){xe.apply(this,arguments)},U)},count:function(j){var xe=0;return ne(j,function(){xe++}),xe},toArray:function(j){return ne(j,function(xe){return xe})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},vt.Component=E,vt.Fragment=t,vt.Profiler=i,vt.PureComponent=T,vt.StrictMode=r,vt.Suspense=l,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},vt.cache=function(j){return function(){return j.apply(null,arguments)}},vt.cloneElement=function(j,xe,U){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Q=v({},j.props),Y=j.key,J=void 0;if(xe!=null)for(ue in xe.ref!==void 0&&(J=void 0),xe.key!==void 0&&(Y=""+xe.key),xe)!R.call(xe,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&xe.ref===void 0||(Q[ue]=xe[ue]);var ue=arguments.length-2;if(ue===1)Q.children=U;else if(1<ue){for(var Ye=Array(ue),Be=0;Be<ue;Be++)Ye[Be]=arguments[Be+2];Q.children=Ye}return A(j.type,Y,void 0,void 0,J,Q)},vt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},vt.createElement=function(j,xe,U){var Q,Y={},J=null;if(xe!=null)for(Q in xe.key!==void 0&&(J=""+xe.key),xe)R.call(xe,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(Y[Q]=xe[Q]);var ue=arguments.length-2;if(ue===1)Y.children=U;else if(1<ue){for(var Ye=Array(ue),Be=0;Be<ue;Be++)Ye[Be]=arguments[Be+2];Y.children=Ye}if(j&&j.defaultProps)for(Q in ue=j.defaultProps,ue)Y[Q]===void 0&&(Y[Q]=ue[Q]);return A(j,J,void 0,void 0,null,Y)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(j){return{$$typeof:a,render:j}},vt.isValidElement=V,vt.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:ke}},vt.memo=function(j,xe){return{$$typeof:u,type:j,compare:xe===void 0?null:xe}},vt.startTransition=function(j){var xe=I.T,U={};I.T=U;try{var Q=j(),Y=I.S;Y!==null&&Y(U,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ie,We)}catch(J){We(J)}finally{I.T=xe}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(j){return I.H.use(j)},vt.useActionState=function(j,xe,U){return I.H.useActionState(j,xe,U)},vt.useCallback=function(j,xe){return I.H.useCallback(j,xe)},vt.useContext=function(j){return I.H.useContext(j)},vt.useDebugValue=function(){},vt.useDeferredValue=function(j,xe){return I.H.useDeferredValue(j,xe)},vt.useEffect=function(j,xe,U){var Q=I.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(j,xe)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(j,xe,U){return I.H.useImperativeHandle(j,xe,U)},vt.useInsertionEffect=function(j,xe){return I.H.useInsertionEffect(j,xe)},vt.useLayoutEffect=function(j,xe){return I.H.useLayoutEffect(j,xe)},vt.useMemo=function(j,xe){return I.H.useMemo(j,xe)},vt.useOptimistic=function(j,xe){return I.H.useOptimistic(j,xe)},vt.useReducer=function(j,xe,U){return I.H.useReducer(j,xe,U)},vt.useRef=function(j){return I.H.useRef(j)},vt.useState=function(j){return I.H.useState(j)},vt.useSyncExternalStore=function(j,xe,U){return I.H.useSyncExternalStore(j,xe,U)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.1.0",vt}var nN;function sw(){return nN||(nN=1,Hx.exports=BW()),Hx.exports}var O=sw();const g=vT(O),rN=LW({__proto__:null,default:g},[O]);var $x={exports:{}},ym={},Wx={exports:{}},jx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function VW(){return iN||(iN=1,function(n){function e(ne,ke){var We=ne.length;ne.push(ke);e:for(;0<We;){var Ie=We-1>>>1,j=ne[Ie];if(0<i(j,ke))ne[Ie]=ke,ne[We]=j,We=Ie;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ke=ne[0],We=ne.pop();if(We!==ke){ne[0]=We;e:for(var Ie=0,j=ne.length,xe=j>>>1;Ie<xe;){var U=2*(Ie+1)-1,Q=ne[U],Y=U+1,J=ne[Y];if(0>i(Q,We))Y<j&&0>i(J,Q)?(ne[Ie]=J,ne[Y]=We,Ie=Y):(ne[Ie]=Q,ne[U]=We,Ie=U);else if(Y<j&&0>i(J,We))ne[Ie]=J,ne[Y]=We,Ie=Y;else break e}}return ke}function i(ne,ke){var We=ne.sortIndex-ke.sortIndex;return We!==0?We:ne.id-ke.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,m=null,p=3,y=!1,v=!1,w=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function P(ne){for(var ke=t(u);ke!==null;){if(ke.callback===null)r(u);else if(ke.startTime<=ne)r(u),ke.sortIndex=ke.expirationTime,e(l,ke);else break;ke=t(u)}}function I(ne){if(w=!1,P(ne),!v)if(t(l)!==null)v=!0,R||(R=!0,N());else{var ke=t(u);ke!==null&&Ee(I,ke.startTime-ne)}}var R=!1,A=-1,F=5,V=-1;function K(){return E?!0:!(n.unstable_now()-V<F)}function re(){if(E=!1,R){var ne=n.unstable_now();V=ne;var ke=!0;try{e:{v=!1,w&&(w=!1,T(A),A=-1),y=!0;var We=p;try{t:{for(P(ne),m=t(l);m!==null&&!(m.expirationTime>ne&&K());){var Ie=m.callback;if(typeof Ie=="function"){m.callback=null,p=m.priorityLevel;var j=Ie(m.expirationTime<=ne);if(ne=n.unstable_now(),typeof j=="function"){m.callback=j,P(ne),ke=!0;break t}m===t(l)&&r(l),P(ne)}else r(l);m=t(l)}if(m!==null)ke=!0;else{var xe=t(u);xe!==null&&Ee(I,xe.startTime-ne),ke=!1}}break e}finally{m=null,p=We,y=!1}ke=void 0}}finally{ke?N():R=!1}}}var N;if(typeof S=="function")N=function(){S(re)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ye=te.port2;te.port1.onmessage=re,N=function(){ye.postMessage(null)}}else N=function(){k(re,0)};function Ee(ne,ke){A=k(function(){ne(n.unstable_now())},ke)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_next=function(ne){switch(p){case 1:case 2:case 3:var ke=3;break;default:ke=p}var We=p;p=ke;try{return ne()}finally{p=We}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(ne,ke){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var We=p;p=ne;try{return ke()}finally{p=We}},n.unstable_scheduleCallback=function(ne,ke,We){var Ie=n.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?Ie+We:Ie):We=Ie,ne){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=We+j,ne={id:f++,callback:ke,priorityLevel:ne,startTime:We,expirationTime:j,sortIndex:-1},We>Ie?(ne.sortIndex=We,e(u,ne),t(l)===null&&ne===t(u)&&(w?(T(A),A=-1):w=!0,Ee(I,We-Ie))):(ne.sortIndex=j,e(l,ne),v||y||(v=!0,R||(R=!0,N()))),ne},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(ne){var ke=p;return function(){var We=p;p=ke;try{return ne.apply(this,arguments)}finally{p=We}}}}(jx)),jx}var sN;function UW(){return sN||(sN=1,Wx.exports=VW()),Wx.exports}var qx={exports:{}},ei={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function zW(){if(oN)return ei;oN=1;var n=sw();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:l,containerInfo:u,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ei.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ei.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,f)},ei.flushSync=function(l){var u=o.T,f=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=u,r.p=f,r.d.f()}},ei.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},ei.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},ei.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var f=u.as,m=a(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:y}):f==="script"&&r.d.X(l,{crossOrigin:m,integrity:p,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ei.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=a(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},ei.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,m=a(f,u.crossOrigin);r.d.L(l,f,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ei.preloadModule=function(l,u){if(typeof l=="string")if(u){var f=a(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},ei.requestFormReset=function(l){r.d.r(l)},ei.unstable_batchedUpdates=function(l,u){return l(u)},ei.useFormState=function(l,u,f){return o.H.useFormState(l,u,f)},ei.useFormStatus=function(){return o.H.useHostTransitionStatus()},ei.version="19.1.0",ei}var aN;function HW(){if(aN)return qx.exports;aN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qx.exports=zW(),qx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN;function $W(){if(lN)return ym;lN=1;var n=UW(),e=sw(),t=HW();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var d=c,h=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(h=d.return),c=d.return;while(c)}return d.tag===3?h:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(s(c)!==c)throw Error(r(188))}function l(c){var d=c.alternate;if(!d){if(d=s(c),d===null)throw Error(r(188));return d!==c?null:c}for(var h=c,b=d;;){var _=h.return;if(_===null)break;var x=_.alternate;if(x===null){if(b=_.return,b!==null){h=b;continue}break}if(_.child===x.child){for(x=_.child;x;){if(x===h)return a(_),c;if(x===b)return a(_),d;x=x.sibling}throw Error(r(188))}if(h.return!==b.return)h=_,b=x;else{for(var C=!1,D=_.child;D;){if(D===h){C=!0,h=_,b=x;break}if(D===b){C=!0,b=_,h=x;break}D=D.sibling}if(!C){for(D=x.child;D;){if(D===h){C=!0,h=x,b=_;break}if(D===b){C=!0,b=x,h=_;break}D=D.sibling}if(!C)throw Error(r(189))}}if(h.alternate!==b)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?c:d}function u(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=u(c),d!==null)return d;c=c.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),S=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function N(c){return c===null||typeof c!="object"?null:(c=re&&c[re]||c["@@iterator"],typeof c=="function"?c:null)}var te=Symbol.for("react.client.reference");function ye(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===te?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList";case V:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case S:return(c.displayName||"Context")+".Provider";case T:return(c._context.displayName||"Context")+".Consumer";case P:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case A:return d=c.displayName||null,d!==null?d:ye(c.type)||"Memo";case F:d=c._payload,c=c._init;try{return ye(c(d))}catch{}}return null}var Ee=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,We={pending:!1,data:null,method:null,action:null},Ie=[],j=-1;function xe(c){return{current:c}}function U(c){0>j||(c.current=Ie[j],Ie[j]=null,j--)}function Q(c,d){j++,Ie[j]=c.current,c.current=d}var Y=xe(null),J=xe(null),ue=xe(null),Ye=xe(null);function Be(c,d){switch(Q(ue,d),Q(J,c),Q(Y,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?N3(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=N3(d),c=P3(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}U(Y),Q(Y,c)}function Je(){U(Y),U(J),U(ue)}function je(c){c.memoizedState!==null&&Q(Ye,c);var d=Y.current,h=P3(d,c.type);d!==h&&(Q(J,c),Q(Y,h))}function Nt(c){J.current===c&&(U(Y),U(J)),Ye.current===c&&(U(Ye),hm._currentValue=We)}var kt=Object.prototype.hasOwnProperty,zn=n.unstable_scheduleCallback,Pt=n.unstable_cancelCallback,ki=n.unstable_shouldYield,wn=n.unstable_requestPaint,Ge=n.unstable_now,Qr=n.unstable_getCurrentPriorityLevel,ji=n.unstable_ImmediatePriority,qi=n.unstable_UserBlockingPriority,X=n.unstable_NormalPriority,le=n.unstable_LowPriority,we=n.unstable_IdlePriority,$e=n.log,Ve=n.unstable_setDisableYieldValue,Oe=null,Ze=null;function gt(c){if(typeof $e=="function"&&Ve(c),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Oe,c)}catch{}}var yt=Math.clz32?Math.clz32:Gi,Lr=Math.log,ba=Math.LN2;function Gi(c){return c>>>=0,c===0?32:31-(Lr(c)/ba|0)|0}var ya=256,Zs=4194304;function Ti(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function wl(c,d,h){var b=c.pendingLanes;if(b===0)return 0;var _=0,x=c.suspendedLanes,C=c.pingedLanes;c=c.warmLanes;var D=b&134217727;return D!==0?(b=D&~x,b!==0?_=Ti(b):(C&=D,C!==0?_=Ti(C):h||(h=D&~c,h!==0&&(_=Ti(h))))):(D=b&~x,D!==0?_=Ti(D):C!==0?_=Ti(C):h||(h=b&~c,h!==0&&(_=Ti(h)))),_===0?0:d!==0&&d!==_&&(d&x)===0&&(x=_&-_,h=d&-d,x>=h||x===32&&(h&4194048)!==0)?d:_}function Do(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Ju(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vl(){var c=ya;return ya<<=1,(ya&4194048)===0&&(ya=256),c}function _h(){var c=Zs;return Zs<<=1,(Zs&62914560)===0&&(Zs=4194304),c}function xh(c){for(var d=[],h=0;31>h;h++)d.push(c);return d}function xc(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Qu(c,d,h,b,_,x){var C=c.pendingLanes;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=h,c.entangledLanes&=h,c.errorRecoveryDisabledLanes&=h,c.shellSuspendCounter=0;var D=c.entanglements,G=c.expirationTimes,ae=c.hiddenUpdates;for(h=C&~h;0<h;){var Se=31-yt(h),Ae=1<<Se;D[Se]=0,G[Se]=-1;var fe=ae[Se];if(fe!==null)for(ae[Se]=null,Se=0;Se<fe.length;Se++){var ge=fe[Se];ge!==null&&(ge.lane&=-536870913)}h&=~Ae}b!==0&&up(c,b,0),x!==0&&_===0&&c.tag!==0&&(c.suspendedLanes|=x&~(C&~d))}function up(c,d,h){c.pendingLanes|=d,c.suspendedLanes&=~d;var b=31-yt(d);c.entangledLanes|=d,c.entanglements[b]=c.entanglements[b]|1073741824|h&4194090}function dp(c,d){var h=c.entangledLanes|=d;for(c=c.entanglements;h;){var b=31-yt(h),_=1<<b;_&d|c[b]&d&&(c[b]|=d),h&=~_}}function Eh(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function kh(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function fp(){var c=ke.p;return c!==0?c:(c=window.event,c===void 0?32:K3(c.type))}function Lv(c,d){var h=ke.p;try{return ke.p=c,d()}finally{ke.p=h}}var Fo=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Fo,Cr="__reactProps$"+Fo,_l="__reactContainer$"+Fo,Th="__reactEvents$"+Fo,Bv="__reactListeners$"+Fo,M="__reactHandles$"+Fo,H="__reactResources$"+Fo,L="__reactMarker$"+Fo;function B(c){delete c[Sr],delete c[Cr],delete c[Th],delete c[Bv],delete c[M]}function z(c){var d=c[Sr];if(d)return d;for(var h=c.parentNode;h;){if(d=h[_l]||h[Sr]){if(h=d.alternate,d.child!==null||h!==null&&h.child!==null)for(c=M3(c);c!==null;){if(h=c[Sr])return h;c=M3(c)}return d}c=h,h=c.parentNode}return null}function W(c){if(c=c[Sr]||c[_l]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function ce(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function ve(c){var d=c[H];return d||(d=c[H]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function se(c){c[L]=!0}var de=new Set,me={};function Re(c,d){Ue(c,d),Ue(c+"Capture",d)}function Ue(c,d){for(me[c]=d,c=0;c<d.length;c++)de.add(d[c])}var nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fe={},Xe={};function pt(c){return kt.call(Xe,c)?!0:kt.call(Fe,c)?!1:nt.test(c)?Xe[c]=!0:(Fe[c]=!0,!1)}function ln(c,d,h){if(pt(d))if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+h)}}function cn(c,d,h){if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+h)}}function En(c,d,h,b){if(b===null)c.removeAttribute(h);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttributeNS(d,h,""+b)}}var wa,xl;function ks(c){if(wa===void 0)try{throw Error()}catch(h){var d=h.stack.trim().match(/\n( *(at )?)/);wa=d&&d[1]||"",xl=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+c+xl}var eo=!1;function Ec(c,d){if(!c||eo)return"";eo=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(ge){var fe=ge}Reflect.construct(c,[],Ae)}else{try{Ae.call()}catch(ge){fe=ge}c.call(Ae.prototype)}}else{try{throw Error()}catch(ge){fe=ge}(Ae=c())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(ge){if(ge&&fe&&typeof ge.stack=="string")return[ge.stack,fe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=b.DetermineComponentFrameRoot(),C=x[0],D=x[1];if(C&&D){var G=C.split(`
`),ae=D.split(`
`);for(_=b=0;b<G.length&&!G[b].includes("DetermineComponentFrameRoot");)b++;for(;_<ae.length&&!ae[_].includes("DetermineComponentFrameRoot");)_++;if(b===G.length||_===ae.length)for(b=G.length-1,_=ae.length-1;1<=b&&0<=_&&G[b]!==ae[_];)_--;for(;1<=b&&0<=_;b--,_--)if(G[b]!==ae[_]){if(b!==1||_!==1)do if(b--,_--,0>_||G[b]!==ae[_]){var Se=`
`+G[b].replace(" at new "," at ");return c.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",c.displayName)),Se}while(1<=b&&0<=_);break}}}finally{eo=!1,Error.prepareStackTrace=h}return(h=c?c.displayName||c.name:"")?ks(h):""}function to(c){switch(c.tag){case 26:case 27:case 5:return ks(c.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return Ec(c.type,!1);case 11:return Ec(c.type.render,!1);case 1:return Ec(c.type,!0);case 31:return ks("Activity");default:return""}}function EA(c){try{var d="";do d+=to(c),c=c.return;while(c);return d}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Ts(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function kA(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function IH(c){var d=kA(c)?"checked":"value",h=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),b=""+c[d];if(!c.hasOwnProperty(d)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,x=h.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return _.call(this)},set:function(C){b=""+C,x.call(this,C)}}),Object.defineProperty(c,d,{enumerable:h.enumerable}),{getValue:function(){return b},setValue:function(C){b=""+C},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function hp(c){c._valueTracker||(c._valueTracker=IH(c))}function TA(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var h=d.getValue(),b="";return c&&(b=kA(c)?c.checked?"true":"false":c.value),c=b,c!==h?(d.setValue(c),!0):!1}function mp(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var RH=/[\n"\\]/g;function Ss(c){return c.replace(RH,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Vv(c,d,h,b,_,x,C,D){c.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?c.type=C:c.removeAttribute("type"),d!=null?C==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Ts(d)):c.value!==""+Ts(d)&&(c.value=""+Ts(d)):C!=="submit"&&C!=="reset"||c.removeAttribute("value"),d!=null?Uv(c,C,Ts(d)):h!=null?Uv(c,C,Ts(h)):b!=null&&c.removeAttribute("value"),_==null&&x!=null&&(c.defaultChecked=!!x),_!=null&&(c.checked=_&&typeof _!="function"&&typeof _!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?c.name=""+Ts(D):c.removeAttribute("name")}function SA(c,d,h,b,_,x,C,D){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(c.type=x),d!=null||h!=null){if(!(x!=="submit"&&x!=="reset"||d!=null))return;h=h!=null?""+Ts(h):"",d=d!=null?""+Ts(d):h,D||d===c.value||(c.value=d),c.defaultValue=d}b=b??_,b=typeof b!="function"&&typeof b!="symbol"&&!!b,c.checked=D?c.checked:!!b,c.defaultChecked=!!b,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(c.name=C)}function Uv(c,d,h){d==="number"&&mp(c.ownerDocument)===c||c.defaultValue===""+h||(c.defaultValue=""+h)}function Zu(c,d,h,b){if(c=c.options,d){d={};for(var _=0;_<h.length;_++)d["$"+h[_]]=!0;for(h=0;h<c.length;h++)_=d.hasOwnProperty("$"+c[h].value),c[h].selected!==_&&(c[h].selected=_),_&&b&&(c[h].defaultSelected=!0)}else{for(h=""+Ts(h),d=null,_=0;_<c.length;_++){if(c[_].value===h){c[_].selected=!0,b&&(c[_].defaultSelected=!0);return}d!==null||c[_].disabled||(d=c[_])}d!==null&&(d.selected=!0)}}function CA(c,d,h){if(d!=null&&(d=""+Ts(d),d!==c.value&&(c.value=d),h==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=h!=null?""+Ts(h):""}function AA(c,d,h,b){if(d==null){if(b!=null){if(h!=null)throw Error(r(92));if(Ee(b)){if(1<b.length)throw Error(r(93));b=b[0]}h=b}h==null&&(h=""),d=h}h=Ts(d),c.defaultValue=h,b=c.textContent,b===h&&b!==""&&b!==null&&(c.value=b)}function ed(c,d){if(d){var h=c.firstChild;if(h&&h===c.lastChild&&h.nodeType===3){h.nodeValue=d;return}}c.textContent=d}var OH=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function NA(c,d,h){var b=d.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?b?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":b?c.setProperty(d,h):typeof h!="number"||h===0||OH.has(d)?d==="float"?c.cssFloat=h:c[d]=(""+h).trim():c[d]=h+"px"}function PA(c,d,h){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,h!=null){for(var b in h)!h.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?c.setProperty(b,""):b==="float"?c.cssFloat="":c[b]="");for(var _ in d)b=d[_],d.hasOwnProperty(_)&&h[_]!==b&&NA(c,_,b)}else for(var x in d)d.hasOwnProperty(x)&&NA(c,x,d[x])}function zv(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MH=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DH=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gp(c){return DH.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Hv=null;function $v(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var td=null,nd=null;function IA(c){var d=W(c);if(d&&(c=d.stateNode)){var h=c[Cr]||null;e:switch(c=d.stateNode,d.type){case"input":if(Vv(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),d=h.name,h.type==="radio"&&d!=null){for(h=c;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ss(""+d)+'"][type="radio"]'),d=0;d<h.length;d++){var b=h[d];if(b!==c&&b.form===c.form){var _=b[Cr]||null;if(!_)throw Error(r(90));Vv(b,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(d=0;d<h.length;d++)b=h[d],b.form===c.form&&TA(b)}break e;case"textarea":CA(c,h.value,h.defaultValue);break e;case"select":d=h.value,d!=null&&Zu(c,!!h.multiple,d,!1)}}}var Wv=!1;function RA(c,d,h){if(Wv)return c(d,h);Wv=!0;try{var b=c(d);return b}finally{if(Wv=!1,(td!==null||nd!==null)&&(e1(),td&&(d=td,c=nd,nd=td=null,IA(d),c)))for(d=0;d<c.length;d++)IA(c[d])}}function Sh(c,d){var h=c.stateNode;if(h===null)return null;var b=h[Cr]||null;if(b===null)return null;h=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(h&&typeof h!="function")throw Error(r(231,d,typeof h));return h}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jv=!1;if(va)try{var Ch={};Object.defineProperty(Ch,"passive",{get:function(){jv=!0}}),window.addEventListener("test",Ch,Ch),window.removeEventListener("test",Ch,Ch)}catch{jv=!1}var El=null,qv=null,pp=null;function OA(){if(pp)return pp;var c,d=qv,h=d.length,b,_="value"in El?El.value:El.textContent,x=_.length;for(c=0;c<h&&d[c]===_[c];c++);var C=h-c;for(b=1;b<=C&&d[h-b]===_[x-b];b++);return pp=_.slice(c,1<b?1-b:void 0)}function bp(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function yp(){return!0}function MA(){return!1}function Si(c){function d(h,b,_,x,C){this._reactName=h,this._targetInst=_,this.type=b,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var D in c)c.hasOwnProperty(D)&&(h=c[D],this[D]=h?h(x):x[D]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?yp:MA,this.isPropagationStopped=MA,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),d}var kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wp=Si(kc),Ah=f({},kc,{view:0,detail:0}),FH=Si(Ah),Gv,Yv,Nh,vp=f({},Ah,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xv,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Nh&&(Nh&&c.type==="mousemove"?(Gv=c.screenX-Nh.screenX,Yv=c.screenY-Nh.screenY):Yv=Gv=0,Nh=c),Gv)},movementY:function(c){return"movementY"in c?c.movementY:Yv}}),DA=Si(vp),LH=f({},vp,{dataTransfer:0}),BH=Si(LH),VH=f({},Ah,{relatedTarget:0}),Kv=Si(VH),UH=f({},kc,{animationName:0,elapsedTime:0,pseudoElement:0}),zH=Si(UH),HH=f({},kc,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),$H=Si(HH),WH=f({},kc,{data:0}),FA=Si(WH),jH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YH(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=GH[c])?!!d[c]:!1}function Xv(){return YH}var KH=f({},Ah,{key:function(c){if(c.key){var d=jH[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=bp(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?qH[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xv,charCode:function(c){return c.type==="keypress"?bp(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?bp(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),XH=Si(KH),JH=f({},vp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LA=Si(JH),QH=f({},Ah,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xv}),ZH=Si(QH),e$=f({},kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),t$=Si(e$),n$=f({},vp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),r$=Si(n$),i$=f({},kc,{newState:0,oldState:0}),s$=Si(i$),o$=[9,13,27,32],Jv=va&&"CompositionEvent"in window,Ph=null;va&&"documentMode"in document&&(Ph=document.documentMode);var a$=va&&"TextEvent"in window&&!Ph,BA=va&&(!Jv||Ph&&8<Ph&&11>=Ph),VA=" ",UA=!1;function zA(c,d){switch(c){case"keyup":return o$.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HA(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var rd=!1;function l$(c,d){switch(c){case"compositionend":return HA(d);case"keypress":return d.which!==32?null:(UA=!0,VA);case"textInput":return c=d.data,c===VA&&UA?null:c;default:return null}}function c$(c,d){if(rd)return c==="compositionend"||!Jv&&zA(c,d)?(c=OA(),pp=qv=El=null,rd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return BA&&d.locale!=="ko"?null:d.data;default:return null}}var u$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $A(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!u$[c.type]:d==="textarea"}function WA(c,d,h,b){td?nd?nd.push(b):nd=[b]:td=b,d=o1(d,"onChange"),0<d.length&&(h=new wp("onChange","change",null,h,b),c.push({event:h,listeners:d}))}var Ih=null,Rh=null;function d$(c){k3(c,0)}function _p(c){var d=ce(c);if(TA(d))return c}function jA(c,d){if(c==="change")return d}var qA=!1;if(va){var Qv;if(va){var Zv="oninput"in document;if(!Zv){var GA=document.createElement("div");GA.setAttribute("oninput","return;"),Zv=typeof GA.oninput=="function"}Qv=Zv}else Qv=!1;qA=Qv&&(!document.documentMode||9<document.documentMode)}function YA(){Ih&&(Ih.detachEvent("onpropertychange",KA),Rh=Ih=null)}function KA(c){if(c.propertyName==="value"&&_p(Rh)){var d=[];WA(d,Rh,c,$v(c)),RA(d$,d)}}function f$(c,d,h){c==="focusin"?(YA(),Ih=d,Rh=h,Ih.attachEvent("onpropertychange",KA)):c==="focusout"&&YA()}function h$(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return _p(Rh)}function m$(c,d){if(c==="click")return _p(d)}function g$(c,d){if(c==="input"||c==="change")return _p(d)}function p$(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Yi=typeof Object.is=="function"?Object.is:p$;function Oh(c,d){if(Yi(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var h=Object.keys(c),b=Object.keys(d);if(h.length!==b.length)return!1;for(b=0;b<h.length;b++){var _=h[b];if(!kt.call(d,_)||!Yi(c[_],d[_]))return!1}return!0}function XA(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function JA(c,d){var h=XA(c);c=0;for(var b;h;){if(h.nodeType===3){if(b=c+h.textContent.length,c<=d&&b>=d)return{node:h,offset:d-c};c=b}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=XA(h)}}function QA(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?QA(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function ZA(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=mp(c.document);d instanceof c.HTMLIFrameElement;){try{var h=typeof d.contentWindow.location.href=="string"}catch{h=!1}if(h)c=d.contentWindow;else break;d=mp(c.document)}return d}function e_(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var b$=va&&"documentMode"in document&&11>=document.documentMode,id=null,t_=null,Mh=null,n_=!1;function e5(c,d,h){var b=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;n_||id==null||id!==mp(b)||(b=id,"selectionStart"in b&&e_(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Mh&&Oh(Mh,b)||(Mh=b,b=o1(t_,"onSelect"),0<b.length&&(d=new wp("onSelect","select",null,d,h),c.push({event:d,listeners:b}),d.target=id)))}function Tc(c,d){var h={};return h[c.toLowerCase()]=d.toLowerCase(),h["Webkit"+c]="webkit"+d,h["Moz"+c]="moz"+d,h}var sd={animationend:Tc("Animation","AnimationEnd"),animationiteration:Tc("Animation","AnimationIteration"),animationstart:Tc("Animation","AnimationStart"),transitionrun:Tc("Transition","TransitionRun"),transitionstart:Tc("Transition","TransitionStart"),transitioncancel:Tc("Transition","TransitionCancel"),transitionend:Tc("Transition","TransitionEnd")},r_={},t5={};va&&(t5=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function Sc(c){if(r_[c])return r_[c];if(!sd[c])return c;var d=sd[c],h;for(h in d)if(d.hasOwnProperty(h)&&h in t5)return r_[c]=d[h];return c}var n5=Sc("animationend"),r5=Sc("animationiteration"),i5=Sc("animationstart"),y$=Sc("transitionrun"),w$=Sc("transitionstart"),v$=Sc("transitioncancel"),s5=Sc("transitionend"),o5=new Map,i_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");i_.push("scrollEnd");function no(c,d){o5.set(c,d),Re(d,[c])}var a5=new WeakMap;function Cs(c,d){if(typeof c=="object"&&c!==null){var h=a5.get(c);return h!==void 0?h:(d={value:c,source:d,stack:EA(d)},a5.set(c,d),d)}return{value:c,source:d,stack:EA(d)}}var As=[],od=0,s_=0;function xp(){for(var c=od,d=s_=od=0;d<c;){var h=As[d];As[d++]=null;var b=As[d];As[d++]=null;var _=As[d];As[d++]=null;var x=As[d];if(As[d++]=null,b!==null&&_!==null){var C=b.pending;C===null?_.next=_:(_.next=C.next,C.next=_),b.pending=_}x!==0&&l5(h,_,x)}}function Ep(c,d,h,b){As[od++]=c,As[od++]=d,As[od++]=h,As[od++]=b,s_|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function o_(c,d,h,b){return Ep(c,d,h,b),kp(c)}function ad(c,d){return Ep(c,null,null,d),kp(c)}function l5(c,d,h){c.lanes|=h;var b=c.alternate;b!==null&&(b.lanes|=h);for(var _=!1,x=c.return;x!==null;)x.childLanes|=h,b=x.alternate,b!==null&&(b.childLanes|=h),x.tag===22&&(c=x.stateNode,c===null||c._visibility&1||(_=!0)),c=x,x=x.return;return c.tag===3?(x=c.stateNode,_&&d!==null&&(_=31-yt(h),c=x.hiddenUpdates,b=c[_],b===null?c[_]=[d]:b.push(d),d.lane=h|536870912),x):null}function kp(c){if(50<sm)throw sm=0,fx=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var ld={};function _$(c,d,h,b){this.tag=c,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(c,d,h,b){return new _$(c,d,h,b)}function a_(c){return c=c.prototype,!(!c||!c.isReactComponent)}function _a(c,d){var h=c.alternate;return h===null?(h=Ki(c.tag,d,c.key,c.mode),h.elementType=c.elementType,h.type=c.type,h.stateNode=c.stateNode,h.alternate=c,c.alternate=h):(h.pendingProps=d,h.type=c.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=c.flags&65011712,h.childLanes=c.childLanes,h.lanes=c.lanes,h.child=c.child,h.memoizedProps=c.memoizedProps,h.memoizedState=c.memoizedState,h.updateQueue=c.updateQueue,d=c.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},h.sibling=c.sibling,h.index=c.index,h.ref=c.ref,h.refCleanup=c.refCleanup,h}function c5(c,d){c.flags&=65011714;var h=c.alternate;return h===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,d=h.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Tp(c,d,h,b,_,x){var C=0;if(b=c,typeof c=="function")a_(c)&&(C=1);else if(typeof c=="string")C=EW(c,h,Y.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case V:return c=Ki(31,h,d,_),c.elementType=V,c.lanes=x,c;case v:return Cc(h.children,_,x,d);case w:C=8,_|=24;break;case E:return c=Ki(12,h,d,_|2),c.elementType=E,c.lanes=x,c;case I:return c=Ki(13,h,d,_),c.elementType=I,c.lanes=x,c;case R:return c=Ki(19,h,d,_),c.elementType=R,c.lanes=x,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case k:case S:C=10;break e;case T:C=9;break e;case P:C=11;break e;case A:C=14;break e;case F:C=16,b=null;break e}C=29,h=Error(r(130,c===null?"null":typeof c,"")),b=null}return d=Ki(C,h,d,_),d.elementType=c,d.type=b,d.lanes=x,d}function Cc(c,d,h,b){return c=Ki(7,c,b,d),c.lanes=h,c}function l_(c,d,h){return c=Ki(6,c,null,d),c.lanes=h,c}function c_(c,d,h){return d=Ki(4,c.children!==null?c.children:[],c.key,d),d.lanes=h,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var cd=[],ud=0,Sp=null,Cp=0,Ns=[],Ps=0,Ac=null,xa=1,Ea="";function Nc(c,d){cd[ud++]=Cp,cd[ud++]=Sp,Sp=c,Cp=d}function u5(c,d,h){Ns[Ps++]=xa,Ns[Ps++]=Ea,Ns[Ps++]=Ac,Ac=c;var b=xa;c=Ea;var _=32-yt(b)-1;b&=~(1<<_),h+=1;var x=32-yt(d)+_;if(30<x){var C=_-_%5;x=(b&(1<<C)-1).toString(32),b>>=C,_-=C,xa=1<<32-yt(d)+_|h<<_|b,Ea=x+c}else xa=1<<x|h<<_|b,Ea=c}function u_(c){c.return!==null&&(Nc(c,1),u5(c,1,0))}function d_(c){for(;c===Sp;)Sp=cd[--ud],cd[ud]=null,Cp=cd[--ud],cd[ud]=null;for(;c===Ac;)Ac=Ns[--Ps],Ns[Ps]=null,Ea=Ns[--Ps],Ns[Ps]=null,xa=Ns[--Ps],Ns[Ps]=null}var ui=null,Hn=null,Ht=!1,Pc=null,Lo=!1,f_=Error(r(519));function Ic(c){var d=Error(r(418,""));throw Lh(Cs(d,c)),f_}function d5(c){var d=c.stateNode,h=c.type,b=c.memoizedProps;switch(d[Sr]=c,d[Cr]=b,h){case"dialog":At("cancel",d),At("close",d);break;case"iframe":case"object":case"embed":At("load",d);break;case"video":case"audio":for(h=0;h<am.length;h++)At(am[h],d);break;case"source":At("error",d);break;case"img":case"image":case"link":At("error",d),At("load",d);break;case"details":At("toggle",d);break;case"input":At("invalid",d),SA(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),hp(d);break;case"select":At("invalid",d);break;case"textarea":At("invalid",d),AA(d,b.value,b.defaultValue,b.children),hp(d)}h=b.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||d.textContent===""+h||b.suppressHydrationWarning===!0||A3(d.textContent,h)?(b.popover!=null&&(At("beforetoggle",d),At("toggle",d)),b.onScroll!=null&&At("scroll",d),b.onScrollEnd!=null&&At("scrollend",d),b.onClick!=null&&(d.onclick=a1),d=!0):d=!1,d||Ic(c)}function f5(c){for(ui=c.return;ui;)switch(ui.tag){case 5:case 13:Lo=!1;return;case 27:case 3:Lo=!0;return;default:ui=ui.return}}function Dh(c){if(c!==ui)return!1;if(!Ht)return f5(c),Ht=!0,!1;var d=c.tag,h;if((h=d!==3&&d!==27)&&((h=d===5)&&(h=c.type,h=!(h!=="form"&&h!=="button")||Ax(c.type,c.memoizedProps)),h=!h),h&&Hn&&Ic(c),f5(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(h=c.data,h==="/$"){if(d===0){Hn=io(c.nextSibling);break e}d--}else h!=="$"&&h!=="$!"&&h!=="$?"||d++;c=c.nextSibling}Hn=null}}else d===27?(d=Hn,Vl(c.type)?(c=Rx,Rx=null,Hn=c):Hn=d):Hn=ui?io(c.stateNode.nextSibling):null;return!0}function Fh(){Hn=ui=null,Ht=!1}function h5(){var c=Pc;return c!==null&&(Ni===null?Ni=c:Ni.push.apply(Ni,c),Pc=null),c}function Lh(c){Pc===null?Pc=[c]:Pc.push(c)}var h_=xe(null),Rc=null,ka=null;function kl(c,d,h){Q(h_,d._currentValue),d._currentValue=h}function Ta(c){c._currentValue=h_.current,U(h_)}function m_(c,d,h){for(;c!==null;){var b=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),c===h)break;c=c.return}}function g_(c,d,h,b){var _=c.child;for(_!==null&&(_.return=c);_!==null;){var x=_.dependencies;if(x!==null){var C=_.child;x=x.firstContext;e:for(;x!==null;){var D=x;x=_;for(var G=0;G<d.length;G++)if(D.context===d[G]){x.lanes|=h,D=x.alternate,D!==null&&(D.lanes|=h),m_(x.return,h,c),b||(C=null);break e}x=D.next}}else if(_.tag===18){if(C=_.return,C===null)throw Error(r(341));C.lanes|=h,x=C.alternate,x!==null&&(x.lanes|=h),m_(C,h,c),C=null}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===c){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}}function Bh(c,d,h,b){c=null;for(var _=d,x=!1;_!==null;){if(!x){if((_.flags&524288)!==0)x=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var C=_.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var D=_.type;Yi(_.pendingProps.value,C.value)||(c!==null?c.push(D):c=[D])}}else if(_===Ye.current){if(C=_.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(c!==null?c.push(hm):c=[hm])}_=_.return}c!==null&&g_(d,c,h,b),d.flags|=262144}function Ap(c){for(c=c.firstContext;c!==null;){if(!Yi(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Oc(c){Rc=c,ka=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Zr(c){return m5(Rc,c)}function Np(c,d){return Rc===null&&Oc(c),m5(c,d)}function m5(c,d){var h=d._currentValue;if(d={context:d,memoizedValue:h,next:null},ka===null){if(c===null)throw Error(r(308));ka=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else ka=ka.next=d;return h}var x$=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(h,b){c.push(b)}};this.abort=function(){d.aborted=!0,c.forEach(function(h){return h()})}},E$=n.unstable_scheduleCallback,k$=n.unstable_NormalPriority,yr={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function p_(){return{controller:new x$,data:new Map,refCount:0}}function Vh(c){c.refCount--,c.refCount===0&&E$(k$,function(){c.controller.abort()})}var Uh=null,b_=0,dd=0,fd=null;function T$(c,d){if(Uh===null){var h=Uh=[];b_=0,dd=wx(),fd={status:"pending",value:void 0,then:function(b){h.push(b)}}}return b_++,d.then(g5,g5),d}function g5(){if(--b_===0&&Uh!==null){fd!==null&&(fd.status="fulfilled");var c=Uh;Uh=null,dd=0,fd=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function S$(c,d){var h=[],b={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return c.then(function(){b.status="fulfilled",b.value=d;for(var _=0;_<h.length;_++)(0,h[_])(d)},function(_){for(b.status="rejected",b.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),b}var p5=ne.S;ne.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&T$(c,d),p5!==null&&p5(c,d)};var Mc=xe(null);function y_(){var c=Mc.current;return c!==null?c:kn.pooledCache}function Pp(c,d){d===null?Q(Mc,Mc.current):Q(Mc,d.pool)}function b5(){var c=y_();return c===null?null:{parent:yr._currentValue,pool:c}}var zh=Error(r(460)),y5=Error(r(474)),Ip=Error(r(542)),w_={then:function(){}};function w5(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Rp(){}function v5(c,d,h){switch(h=c[h],h===void 0?c.push(d):h!==d&&(d.then(Rp,Rp),d=h),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,x5(c),c;default:if(typeof d.status=="string")d.then(Rp,Rp);else{if(c=kn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(b){if(d.status==="pending"){var _=d;_.status="fulfilled",_.value=b}},function(b){if(d.status==="pending"){var _=d;_.status="rejected",_.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,x5(c),c}throw Hh=d,zh}}var Hh=null;function _5(){if(Hh===null)throw Error(r(459));var c=Hh;return Hh=null,c}function x5(c){if(c===zh||c===Ip)throw Error(r(483))}var Tl=!1;function v_(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function __(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Sl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Cl(c,d,h){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(Jt&2)!==0){var _=b.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),b.pending=d,d=kp(c),l5(c,null,h),d}return Ep(c,b,d,h),kp(c)}function $h(c,d,h){if(d=d.updateQueue,d!==null&&(d=d.shared,(h&4194048)!==0)){var b=d.lanes;b&=c.pendingLanes,h|=b,d.lanes=h,dp(c,h)}}function x_(c,d){var h=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,h===b)){var _=null,x=null;if(h=h.firstBaseUpdate,h!==null){do{var C={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};x===null?_=x=C:x=x.next=C,h=h.next}while(h!==null);x===null?_=x=d:x=x.next=d}else _=x=d;h={baseState:b.baseState,firstBaseUpdate:_,lastBaseUpdate:x,shared:b.shared,callbacks:b.callbacks},c.updateQueue=h;return}c=h.lastBaseUpdate,c===null?h.firstBaseUpdate=d:c.next=d,h.lastBaseUpdate=d}var E_=!1;function Wh(){if(E_){var c=fd;if(c!==null)throw c}}function jh(c,d,h,b){E_=!1;var _=c.updateQueue;Tl=!1;var x=_.firstBaseUpdate,C=_.lastBaseUpdate,D=_.shared.pending;if(D!==null){_.shared.pending=null;var G=D,ae=G.next;G.next=null,C===null?x=ae:C.next=ae,C=G;var Se=c.alternate;Se!==null&&(Se=Se.updateQueue,D=Se.lastBaseUpdate,D!==C&&(D===null?Se.firstBaseUpdate=ae:D.next=ae,Se.lastBaseUpdate=G))}if(x!==null){var Ae=_.baseState;C=0,Se=ae=G=null,D=x;do{var fe=D.lane&-536870913,ge=fe!==D.lane;if(ge?(Ot&fe)===fe:(b&fe)===fe){fe!==0&&fe===dd&&(E_=!0),Se!==null&&(Se=Se.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ht=c,ut=D;fe=d;var fn=h;switch(ut.tag){case 1:if(ht=ut.payload,typeof ht=="function"){Ae=ht.call(fn,Ae,fe);break e}Ae=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ut.payload,fe=typeof ht=="function"?ht.call(fn,Ae,fe):ht,fe==null)break e;Ae=f({},Ae,fe);break e;case 2:Tl=!0}}fe=D.callback,fe!==null&&(c.flags|=64,ge&&(c.flags|=8192),ge=_.callbacks,ge===null?_.callbacks=[fe]:ge.push(fe))}else ge={lane:fe,tag:D.tag,payload:D.payload,callback:D.callback,next:null},Se===null?(ae=Se=ge,G=Ae):Se=Se.next=ge,C|=fe;if(D=D.next,D===null){if(D=_.shared.pending,D===null)break;ge=D,D=ge.next,ge.next=null,_.lastBaseUpdate=ge,_.shared.pending=null}}while(!0);Se===null&&(G=Ae),_.baseState=G,_.firstBaseUpdate=ae,_.lastBaseUpdate=Se,x===null&&(_.shared.lanes=0),Dl|=C,c.lanes=C,c.memoizedState=Ae}}function E5(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function k5(c,d){var h=c.callbacks;if(h!==null)for(c.callbacks=null,c=0;c<h.length;c++)E5(h[c],d)}var hd=xe(null),Op=xe(0);function T5(c,d){c=Ra,Q(Op,c),Q(hd,d),Ra=c|d.baseLanes}function k_(){Q(Op,Ra),Q(hd,hd.current)}function T_(){Ra=Op.current,U(hd),U(Op)}var Al=0,Tt=null,un=null,or=null,Mp=!1,md=!1,Dc=!1,Dp=0,qh=0,gd=null,C$=0;function Qn(){throw Error(r(321))}function S_(c,d){if(d===null)return!1;for(var h=0;h<d.length&&h<c.length;h++)if(!Yi(c[h],d[h]))return!1;return!0}function C_(c,d,h,b,_,x){return Al=x,Tt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ne.H=c===null||c.memoizedState===null?l4:c4,Dc=!1,x=h(b,_),Dc=!1,md&&(x=C5(d,h,b,_)),S5(c),x}function S5(c){ne.H=zp;var d=un!==null&&un.next!==null;if(Al=0,or=un=Tt=null,Mp=!1,qh=0,gd=null,d)throw Error(r(300));c===null||Ar||(c=c.dependencies,c!==null&&Ap(c)&&(Ar=!0))}function C5(c,d,h,b){Tt=c;var _=0;do{if(md&&(gd=null),qh=0,md=!1,25<=_)throw Error(r(301));if(_+=1,or=un=null,c.updateQueue!=null){var x=c.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}ne.H=M$,x=d(h,b)}while(md);return x}function A$(){var c=ne.H,d=c.useState()[0];return d=typeof d.then=="function"?Gh(d):d,c=c.useState()[0],(un!==null?un.memoizedState:null)!==c&&(Tt.flags|=1024),d}function A_(){var c=Dp!==0;return Dp=0,c}function N_(c,d,h){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~h}function P_(c){if(Mp){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Mp=!1}Al=0,or=un=Tt=null,md=!1,qh=Dp=0,gd=null}function Ci(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Tt.memoizedState=or=c:or=or.next=c,or}function ar(){if(un===null){var c=Tt.alternate;c=c!==null?c.memoizedState:null}else c=un.next;var d=or===null?Tt.memoizedState:or.next;if(d!==null)or=d,un=c;else{if(c===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));un=c,c={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},or===null?Tt.memoizedState=or=c:or=or.next=c}return or}function I_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gh(c){var d=qh;return qh+=1,gd===null&&(gd=[]),c=v5(gd,c,d),d=Tt,(or===null?d.memoizedState:or.next)===null&&(d=d.alternate,ne.H=d===null||d.memoizedState===null?l4:c4),c}function Fp(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Gh(c);if(c.$$typeof===S)return Zr(c)}throw Error(r(438,String(c)))}function R_(c){var d=null,h=Tt.updateQueue;if(h!==null&&(d=h.memoCache),d==null){var b=Tt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(_){return _.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),h===null&&(h=I_(),Tt.updateQueue=h),h.memoCache=d,h=d.data[d.index],h===void 0)for(h=d.data[d.index]=Array(c),b=0;b<c;b++)h[b]=K;return d.index++,h}function Sa(c,d){return typeof d=="function"?d(c):d}function Lp(c){var d=ar();return O_(d,un,c)}function O_(c,d,h){var b=c.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var _=c.baseQueue,x=b.pending;if(x!==null){if(_!==null){var C=_.next;_.next=x.next,x.next=C}d.baseQueue=_=x,b.pending=null}if(x=c.baseState,_===null)c.memoizedState=x;else{d=_.next;var D=C=null,G=null,ae=d,Se=!1;do{var Ae=ae.lane&-536870913;if(Ae!==ae.lane?(Ot&Ae)===Ae:(Al&Ae)===Ae){var fe=ae.revertLane;if(fe===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),Ae===dd&&(Se=!0);else if((Al&fe)===fe){ae=ae.next,fe===dd&&(Se=!0);continue}else Ae={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(D=G=Ae,C=x):G=G.next=Ae,Tt.lanes|=fe,Dl|=fe;Ae=ae.action,Dc&&h(x,Ae),x=ae.hasEagerState?ae.eagerState:h(x,Ae)}else fe={lane:Ae,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(D=G=fe,C=x):G=G.next=fe,Tt.lanes|=Ae,Dl|=Ae;ae=ae.next}while(ae!==null&&ae!==d);if(G===null?C=x:G.next=D,!Yi(x,c.memoizedState)&&(Ar=!0,Se&&(h=fd,h!==null)))throw h;c.memoizedState=x,c.baseState=C,c.baseQueue=G,b.lastRenderedState=x}return _===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function M_(c){var d=ar(),h=d.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var b=h.dispatch,_=h.pending,x=d.memoizedState;if(_!==null){h.pending=null;var C=_=_.next;do x=c(x,C.action),C=C.next;while(C!==_);Yi(x,d.memoizedState)||(Ar=!0),d.memoizedState=x,d.baseQueue===null&&(d.baseState=x),h.lastRenderedState=x}return[x,b]}function A5(c,d,h){var b=Tt,_=ar(),x=Ht;if(x){if(h===void 0)throw Error(r(407));h=h()}else h=d();var C=!Yi((un||_).memoizedState,h);C&&(_.memoizedState=h,Ar=!0),_=_.queue;var D=I5.bind(null,b,_,c);if(Yh(2048,8,D,[c]),_.getSnapshot!==d||C||or!==null&&or.memoizedState.tag&1){if(b.flags|=2048,pd(9,Bp(),P5.bind(null,b,_,h,d),null),kn===null)throw Error(r(349));x||(Al&124)!==0||N5(b,d,h)}return h}function N5(c,d,h){c.flags|=16384,c={getSnapshot:d,value:h},d=Tt.updateQueue,d===null?(d=I_(),Tt.updateQueue=d,d.stores=[c]):(h=d.stores,h===null?d.stores=[c]:h.push(c))}function P5(c,d,h,b){d.value=h,d.getSnapshot=b,R5(d)&&O5(c)}function I5(c,d,h){return h(function(){R5(d)&&O5(c)})}function R5(c){var d=c.getSnapshot;c=c.value;try{var h=d();return!Yi(c,h)}catch{return!0}}function O5(c){var d=ad(c,2);d!==null&&es(d,c,2)}function D_(c){var d=Ci();if(typeof c=="function"){var h=c;if(c=h(),Dc){gt(!0);try{h()}finally{gt(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:c},d}function M5(c,d,h,b){return c.baseState=h,O_(c,un,typeof b=="function"?b:Sa)}function N$(c,d,h,b,_){if(Up(c))throw Error(r(485));if(c=d.action,c!==null){var x={payload:_,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};ne.T!==null?h(!0):x.isTransition=!1,b(x),h=d.pending,h===null?(x.next=d.pending=x,D5(d,x)):(x.next=h.next,d.pending=h.next=x)}}function D5(c,d){var h=d.action,b=d.payload,_=c.state;if(d.isTransition){var x=ne.T,C={};ne.T=C;try{var D=h(_,b),G=ne.S;G!==null&&G(C,D),F5(c,d,D)}catch(ae){F_(c,d,ae)}finally{ne.T=x}}else try{x=h(_,b),F5(c,d,x)}catch(ae){F_(c,d,ae)}}function F5(c,d,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(b){L5(c,d,b)},function(b){return F_(c,d,b)}):L5(c,d,h)}function L5(c,d,h){d.status="fulfilled",d.value=h,B5(d),c.state=h,d=c.pending,d!==null&&(h=d.next,h===d?c.pending=null:(h=h.next,d.next=h,D5(c,h)))}function F_(c,d,h){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=h,B5(d),d=d.next;while(d!==b)}c.action=null}function B5(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function V5(c,d){return d}function U5(c,d){if(Ht){var h=kn.formState;if(h!==null){e:{var b=Tt;if(Ht){if(Hn){t:{for(var _=Hn,x=Lo;_.nodeType!==8;){if(!x){_=null;break t}if(_=io(_.nextSibling),_===null){_=null;break t}}x=_.data,_=x==="F!"||x==="F"?_:null}if(_){Hn=io(_.nextSibling),b=_.data==="F!";break e}}Ic(b)}b=!1}b&&(d=h[0])}}return h=Ci(),h.memoizedState=h.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V5,lastRenderedState:d},h.queue=b,h=s4.bind(null,Tt,b),b.dispatch=h,b=D_(!1),x=z_.bind(null,Tt,!1,b.queue),b=Ci(),_={state:d,dispatch:null,action:c,pending:null},b.queue=_,h=N$.bind(null,Tt,_,x,h),_.dispatch=h,b.memoizedState=c,[d,h,!1]}function z5(c){var d=ar();return H5(d,un,c)}function H5(c,d,h){if(d=O_(c,d,V5)[0],c=Lp(Sa)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=Gh(d)}catch(C){throw C===zh?Ip:C}else b=d;d=ar();var _=d.queue,x=_.dispatch;return h!==d.memoizedState&&(Tt.flags|=2048,pd(9,Bp(),P$.bind(null,_,h),null)),[b,x,c]}function P$(c,d){c.action=d}function $5(c){var d=ar(),h=un;if(h!==null)return H5(d,h,c);ar(),d=d.memoizedState,h=ar();var b=h.queue.dispatch;return h.memoizedState=c,[d,b,!1]}function pd(c,d,h,b){return c={tag:c,create:h,deps:b,inst:d,next:null},d=Tt.updateQueue,d===null&&(d=I_(),Tt.updateQueue=d),h=d.lastEffect,h===null?d.lastEffect=c.next=c:(b=h.next,h.next=c,c.next=b,d.lastEffect=c),c}function Bp(){return{destroy:void 0,resource:void 0}}function W5(){return ar().memoizedState}function Vp(c,d,h,b){var _=Ci();b=b===void 0?null:b,Tt.flags|=c,_.memoizedState=pd(1|d,Bp(),h,b)}function Yh(c,d,h,b){var _=ar();b=b===void 0?null:b;var x=_.memoizedState.inst;un!==null&&b!==null&&S_(b,un.memoizedState.deps)?_.memoizedState=pd(d,x,h,b):(Tt.flags|=c,_.memoizedState=pd(1|d,x,h,b))}function j5(c,d){Vp(8390656,8,c,d)}function q5(c,d){Yh(2048,8,c,d)}function G5(c,d){return Yh(4,2,c,d)}function Y5(c,d){return Yh(4,4,c,d)}function K5(c,d){if(typeof d=="function"){c=c();var h=d(c);return function(){typeof h=="function"?h():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function X5(c,d,h){h=h!=null?h.concat([c]):null,Yh(4,4,K5.bind(null,d,c),h)}function L_(){}function J5(c,d){var h=ar();d=d===void 0?null:d;var b=h.memoizedState;return d!==null&&S_(d,b[1])?b[0]:(h.memoizedState=[c,d],c)}function Q5(c,d){var h=ar();d=d===void 0?null:d;var b=h.memoizedState;if(d!==null&&S_(d,b[1]))return b[0];if(b=c(),Dc){gt(!0);try{c()}finally{gt(!1)}}return h.memoizedState=[b,d],b}function B_(c,d,h){return h===void 0||(Al&1073741824)!==0?c.memoizedState=d:(c.memoizedState=h,c=t3(),Tt.lanes|=c,Dl|=c,h)}function Z5(c,d,h,b){return Yi(h,d)?h:hd.current!==null?(c=B_(c,h,b),Yi(c,d)||(Ar=!0),c):(Al&42)===0?(Ar=!0,c.memoizedState=h):(c=t3(),Tt.lanes|=c,Dl|=c,d)}function e4(c,d,h,b,_){var x=ke.p;ke.p=x!==0&&8>x?x:8;var C=ne.T,D={};ne.T=D,z_(c,!1,d,h);try{var G=_(),ae=ne.S;if(ae!==null&&ae(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var Se=S$(G,b);Kh(c,d,Se,Zi(c))}else Kh(c,d,b,Zi(c))}catch(Ae){Kh(c,d,{then:function(){},status:"rejected",reason:Ae},Zi())}finally{ke.p=x,ne.T=C}}function I$(){}function V_(c,d,h,b){if(c.tag!==5)throw Error(r(476));var _=t4(c).queue;e4(c,_,d,We,h===null?I$:function(){return n4(c),h(b)})}function t4(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:We,baseState:We,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:We},next:null};var h={};return d.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:h},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function n4(c){var d=t4(c).next.queue;Kh(c,d,{},Zi())}function U_(){return Zr(hm)}function r4(){return ar().memoizedState}function i4(){return ar().memoizedState}function R$(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var h=Zi();c=Sl(h);var b=Cl(d,c,h);b!==null&&(es(b,d,h),$h(b,d,h)),d={cache:p_()},c.payload=d;return}d=d.return}}function O$(c,d,h){var b=Zi();h={lane:b,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Up(c)?o4(d,h):(h=o_(c,d,h,b),h!==null&&(es(h,c,b),a4(h,d,b)))}function s4(c,d,h){var b=Zi();Kh(c,d,h,b)}function Kh(c,d,h,b){var _={lane:b,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Up(c))o4(d,_);else{var x=c.alternate;if(c.lanes===0&&(x===null||x.lanes===0)&&(x=d.lastRenderedReducer,x!==null))try{var C=d.lastRenderedState,D=x(C,h);if(_.hasEagerState=!0,_.eagerState=D,Yi(D,C))return Ep(c,d,_,0),kn===null&&xp(),!1}catch{}finally{}if(h=o_(c,d,_,b),h!==null)return es(h,c,b),a4(h,d,b),!0}return!1}function z_(c,d,h,b){if(b={lane:2,revertLane:wx(),action:b,hasEagerState:!1,eagerState:null,next:null},Up(c)){if(d)throw Error(r(479))}else d=o_(c,h,b,2),d!==null&&es(d,c,2)}function Up(c){var d=c.alternate;return c===Tt||d!==null&&d===Tt}function o4(c,d){md=Mp=!0;var h=c.pending;h===null?d.next=d:(d.next=h.next,h.next=d),c.pending=d}function a4(c,d,h){if((h&4194048)!==0){var b=d.lanes;b&=c.pendingLanes,h|=b,d.lanes=h,dp(c,h)}}var zp={readContext:Zr,use:Fp,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useLayoutEffect:Qn,useInsertionEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useSyncExternalStore:Qn,useId:Qn,useHostTransitionStatus:Qn,useFormState:Qn,useActionState:Qn,useOptimistic:Qn,useMemoCache:Qn,useCacheRefresh:Qn},l4={readContext:Zr,use:Fp,useCallback:function(c,d){return Ci().memoizedState=[c,d===void 0?null:d],c},useContext:Zr,useEffect:j5,useImperativeHandle:function(c,d,h){h=h!=null?h.concat([c]):null,Vp(4194308,4,K5.bind(null,d,c),h)},useLayoutEffect:function(c,d){return Vp(4194308,4,c,d)},useInsertionEffect:function(c,d){Vp(4,2,c,d)},useMemo:function(c,d){var h=Ci();d=d===void 0?null:d;var b=c();if(Dc){gt(!0);try{c()}finally{gt(!1)}}return h.memoizedState=[b,d],b},useReducer:function(c,d,h){var b=Ci();if(h!==void 0){var _=h(d);if(Dc){gt(!0);try{h(d)}finally{gt(!1)}}}else _=d;return b.memoizedState=b.baseState=_,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:_},b.queue=c,c=c.dispatch=O$.bind(null,Tt,c),[b.memoizedState,c]},useRef:function(c){var d=Ci();return c={current:c},d.memoizedState=c},useState:function(c){c=D_(c);var d=c.queue,h=s4.bind(null,Tt,d);return d.dispatch=h,[c.memoizedState,h]},useDebugValue:L_,useDeferredValue:function(c,d){var h=Ci();return B_(h,c,d)},useTransition:function(){var c=D_(!1);return c=e4.bind(null,Tt,c.queue,!0,!1),Ci().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,h){var b=Tt,_=Ci();if(Ht){if(h===void 0)throw Error(r(407));h=h()}else{if(h=d(),kn===null)throw Error(r(349));(Ot&124)!==0||N5(b,d,h)}_.memoizedState=h;var x={value:h,getSnapshot:d};return _.queue=x,j5(I5.bind(null,b,x,c),[c]),b.flags|=2048,pd(9,Bp(),P5.bind(null,b,x,h,d),null),h},useId:function(){var c=Ci(),d=kn.identifierPrefix;if(Ht){var h=Ea,b=xa;h=(b&~(1<<32-yt(b)-1)).toString(32)+h,d=""+d+"R"+h,h=Dp++,0<h&&(d+="H"+h.toString(32)),d+=""}else h=C$++,d=""+d+"r"+h.toString(32)+"";return c.memoizedState=d},useHostTransitionStatus:U_,useFormState:U5,useActionState:U5,useOptimistic:function(c){var d=Ci();d.memoizedState=d.baseState=c;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=h,d=z_.bind(null,Tt,!0,h),h.dispatch=d,[c,d]},useMemoCache:R_,useCacheRefresh:function(){return Ci().memoizedState=R$.bind(null,Tt)}},c4={readContext:Zr,use:Fp,useCallback:J5,useContext:Zr,useEffect:q5,useImperativeHandle:X5,useInsertionEffect:G5,useLayoutEffect:Y5,useMemo:Q5,useReducer:Lp,useRef:W5,useState:function(){return Lp(Sa)},useDebugValue:L_,useDeferredValue:function(c,d){var h=ar();return Z5(h,un.memoizedState,c,d)},useTransition:function(){var c=Lp(Sa)[0],d=ar().memoizedState;return[typeof c=="boolean"?c:Gh(c),d]},useSyncExternalStore:A5,useId:r4,useHostTransitionStatus:U_,useFormState:z5,useActionState:z5,useOptimistic:function(c,d){var h=ar();return M5(h,un,c,d)},useMemoCache:R_,useCacheRefresh:i4},M$={readContext:Zr,use:Fp,useCallback:J5,useContext:Zr,useEffect:q5,useImperativeHandle:X5,useInsertionEffect:G5,useLayoutEffect:Y5,useMemo:Q5,useReducer:M_,useRef:W5,useState:function(){return M_(Sa)},useDebugValue:L_,useDeferredValue:function(c,d){var h=ar();return un===null?B_(h,c,d):Z5(h,un.memoizedState,c,d)},useTransition:function(){var c=M_(Sa)[0],d=ar().memoizedState;return[typeof c=="boolean"?c:Gh(c),d]},useSyncExternalStore:A5,useId:r4,useHostTransitionStatus:U_,useFormState:$5,useActionState:$5,useOptimistic:function(c,d){var h=ar();return un!==null?M5(h,un,c,d):(h.baseState=c,[c,h.queue.dispatch])},useMemoCache:R_,useCacheRefresh:i4},bd=null,Xh=0;function Hp(c){var d=Xh;return Xh+=1,bd===null&&(bd=[]),v5(bd,c,d)}function Jh(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function $p(c,d){throw d.$$typeof===m?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function u4(c){var d=c._init;return d(c._payload)}function d4(c){function d(ie,Z){if(c){var oe=ie.deletions;oe===null?(ie.deletions=[Z],ie.flags|=16):oe.push(Z)}}function h(ie,Z){if(!c)return null;for(;Z!==null;)d(ie,Z),Z=Z.sibling;return null}function b(ie){for(var Z=new Map;ie!==null;)ie.key!==null?Z.set(ie.key,ie):Z.set(ie.index,ie),ie=ie.sibling;return Z}function _(ie,Z){return ie=_a(ie,Z),ie.index=0,ie.sibling=null,ie}function x(ie,Z,oe){return ie.index=oe,c?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<Z?(ie.flags|=67108866,Z):oe):(ie.flags|=67108866,Z)):(ie.flags|=1048576,Z)}function C(ie){return c&&ie.alternate===null&&(ie.flags|=67108866),ie}function D(ie,Z,oe,Ce){return Z===null||Z.tag!==6?(Z=l_(oe,ie.mode,Ce),Z.return=ie,Z):(Z=_(Z,oe),Z.return=ie,Z)}function G(ie,Z,oe,Ce){var it=oe.type;return it===v?Se(ie,Z,oe.props.children,Ce,oe.key):Z!==null&&(Z.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===F&&u4(it)===Z.type)?(Z=_(Z,oe.props),Jh(Z,oe),Z.return=ie,Z):(Z=Tp(oe.type,oe.key,oe.props,null,ie.mode,Ce),Jh(Z,oe),Z.return=ie,Z)}function ae(ie,Z,oe,Ce){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=c_(oe,ie.mode,Ce),Z.return=ie,Z):(Z=_(Z,oe.children||[]),Z.return=ie,Z)}function Se(ie,Z,oe,Ce,it){return Z===null||Z.tag!==7?(Z=Cc(oe,ie.mode,Ce,it),Z.return=ie,Z):(Z=_(Z,oe),Z.return=ie,Z)}function Ae(ie,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=l_(""+Z,ie.mode,oe),Z.return=ie,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case p:return oe=Tp(Z.type,Z.key,Z.props,null,ie.mode,oe),Jh(oe,Z),oe.return=ie,oe;case y:return Z=c_(Z,ie.mode,oe),Z.return=ie,Z;case F:var Ce=Z._init;return Z=Ce(Z._payload),Ae(ie,Z,oe)}if(Ee(Z)||N(Z))return Z=Cc(Z,ie.mode,oe,null),Z.return=ie,Z;if(typeof Z.then=="function")return Ae(ie,Hp(Z),oe);if(Z.$$typeof===S)return Ae(ie,Np(ie,Z),oe);$p(ie,Z)}return null}function fe(ie,Z,oe,Ce){var it=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return it!==null?null:D(ie,Z,""+oe,Ce);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case p:return oe.key===it?G(ie,Z,oe,Ce):null;case y:return oe.key===it?ae(ie,Z,oe,Ce):null;case F:return it=oe._init,oe=it(oe._payload),fe(ie,Z,oe,Ce)}if(Ee(oe)||N(oe))return it!==null?null:Se(ie,Z,oe,Ce,null);if(typeof oe.then=="function")return fe(ie,Z,Hp(oe),Ce);if(oe.$$typeof===S)return fe(ie,Z,Np(ie,oe),Ce);$p(ie,oe)}return null}function ge(ie,Z,oe,Ce,it){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ie=ie.get(oe)||null,D(Z,ie,""+Ce,it);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case p:return ie=ie.get(Ce.key===null?oe:Ce.key)||null,G(Z,ie,Ce,it);case y:return ie=ie.get(Ce.key===null?oe:Ce.key)||null,ae(Z,ie,Ce,it);case F:var St=Ce._init;return Ce=St(Ce._payload),ge(ie,Z,oe,Ce,it)}if(Ee(Ce)||N(Ce))return ie=ie.get(oe)||null,Se(Z,ie,Ce,it,null);if(typeof Ce.then=="function")return ge(ie,Z,oe,Hp(Ce),it);if(Ce.$$typeof===S)return ge(ie,Z,oe,Np(Z,Ce),it);$p(Z,Ce)}return null}function ht(ie,Z,oe,Ce){for(var it=null,St=null,at=Z,dt=Z=0,Pr=null;at!==null&&dt<oe.length;dt++){at.index>dt?(Pr=at,at=null):Pr=at.sibling;var Lt=fe(ie,at,oe[dt],Ce);if(Lt===null){at===null&&(at=Pr);break}c&&at&&Lt.alternate===null&&d(ie,at),Z=x(Lt,Z,dt),St===null?it=Lt:St.sibling=Lt,St=Lt,at=Pr}if(dt===oe.length)return h(ie,at),Ht&&Nc(ie,dt),it;if(at===null){for(;dt<oe.length;dt++)at=Ae(ie,oe[dt],Ce),at!==null&&(Z=x(at,Z,dt),St===null?it=at:St.sibling=at,St=at);return Ht&&Nc(ie,dt),it}for(at=b(at);dt<oe.length;dt++)Pr=ge(at,ie,dt,oe[dt],Ce),Pr!==null&&(c&&Pr.alternate!==null&&at.delete(Pr.key===null?dt:Pr.key),Z=x(Pr,Z,dt),St===null?it=Pr:St.sibling=Pr,St=Pr);return c&&at.forEach(function(Wl){return d(ie,Wl)}),Ht&&Nc(ie,dt),it}function ut(ie,Z,oe,Ce){if(oe==null)throw Error(r(151));for(var it=null,St=null,at=Z,dt=Z=0,Pr=null,Lt=oe.next();at!==null&&!Lt.done;dt++,Lt=oe.next()){at.index>dt?(Pr=at,at=null):Pr=at.sibling;var Wl=fe(ie,at,Lt.value,Ce);if(Wl===null){at===null&&(at=Pr);break}c&&at&&Wl.alternate===null&&d(ie,at),Z=x(Wl,Z,dt),St===null?it=Wl:St.sibling=Wl,St=Wl,at=Pr}if(Lt.done)return h(ie,at),Ht&&Nc(ie,dt),it;if(at===null){for(;!Lt.done;dt++,Lt=oe.next())Lt=Ae(ie,Lt.value,Ce),Lt!==null&&(Z=x(Lt,Z,dt),St===null?it=Lt:St.sibling=Lt,St=Lt);return Ht&&Nc(ie,dt),it}for(at=b(at);!Lt.done;dt++,Lt=oe.next())Lt=ge(at,ie,dt,Lt.value,Ce),Lt!==null&&(c&&Lt.alternate!==null&&at.delete(Lt.key===null?dt:Lt.key),Z=x(Lt,Z,dt),St===null?it=Lt:St.sibling=Lt,St=Lt);return c&&at.forEach(function(DW){return d(ie,DW)}),Ht&&Nc(ie,dt),it}function fn(ie,Z,oe,Ce){if(typeof oe=="object"&&oe!==null&&oe.type===v&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case p:e:{for(var it=oe.key;Z!==null;){if(Z.key===it){if(it=oe.type,it===v){if(Z.tag===7){h(ie,Z.sibling),Ce=_(Z,oe.props.children),Ce.return=ie,ie=Ce;break e}}else if(Z.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===F&&u4(it)===Z.type){h(ie,Z.sibling),Ce=_(Z,oe.props),Jh(Ce,oe),Ce.return=ie,ie=Ce;break e}h(ie,Z);break}else d(ie,Z);Z=Z.sibling}oe.type===v?(Ce=Cc(oe.props.children,ie.mode,Ce,oe.key),Ce.return=ie,ie=Ce):(Ce=Tp(oe.type,oe.key,oe.props,null,ie.mode,Ce),Jh(Ce,oe),Ce.return=ie,ie=Ce)}return C(ie);case y:e:{for(it=oe.key;Z!==null;){if(Z.key===it)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){h(ie,Z.sibling),Ce=_(Z,oe.children||[]),Ce.return=ie,ie=Ce;break e}else{h(ie,Z);break}else d(ie,Z);Z=Z.sibling}Ce=c_(oe,ie.mode,Ce),Ce.return=ie,ie=Ce}return C(ie);case F:return it=oe._init,oe=it(oe._payload),fn(ie,Z,oe,Ce)}if(Ee(oe))return ht(ie,Z,oe,Ce);if(N(oe)){if(it=N(oe),typeof it!="function")throw Error(r(150));return oe=it.call(oe),ut(ie,Z,oe,Ce)}if(typeof oe.then=="function")return fn(ie,Z,Hp(oe),Ce);if(oe.$$typeof===S)return fn(ie,Z,Np(ie,oe),Ce);$p(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Z!==null&&Z.tag===6?(h(ie,Z.sibling),Ce=_(Z,oe),Ce.return=ie,ie=Ce):(h(ie,Z),Ce=l_(oe,ie.mode,Ce),Ce.return=ie,ie=Ce),C(ie)):h(ie,Z)}return function(ie,Z,oe,Ce){try{Xh=0;var it=fn(ie,Z,oe,Ce);return bd=null,it}catch(at){if(at===zh||at===Ip)throw at;var St=Ki(29,at,null,ie.mode);return St.lanes=Ce,St.return=ie,St}finally{}}}var yd=d4(!0),f4=d4(!1),Is=xe(null),Bo=null;function Nl(c){var d=c.alternate;Q(wr,wr.current&1),Q(Is,c),Bo===null&&(d===null||hd.current!==null||d.memoizedState!==null)&&(Bo=c)}function h4(c){if(c.tag===22){if(Q(wr,wr.current),Q(Is,c),Bo===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(Bo=c)}}else Pl()}function Pl(){Q(wr,wr.current),Q(Is,Is.current)}function Ca(c){U(Is),Bo===c&&(Bo=null),U(wr)}var wr=xe(0);function Wp(c){for(var d=c;d!==null;){if(d.tag===13){var h=d.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Ix(h)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function H_(c,d,h,b){d=c.memoizedState,h=h(b,d),h=h==null?d:f({},d,h),c.memoizedState=h,c.lanes===0&&(c.updateQueue.baseState=h)}var $_={enqueueSetState:function(c,d,h){c=c._reactInternals;var b=Zi(),_=Sl(b);_.payload=d,h!=null&&(_.callback=h),d=Cl(c,_,b),d!==null&&(es(d,c,b),$h(d,c,b))},enqueueReplaceState:function(c,d,h){c=c._reactInternals;var b=Zi(),_=Sl(b);_.tag=1,_.payload=d,h!=null&&(_.callback=h),d=Cl(c,_,b),d!==null&&(es(d,c,b),$h(d,c,b))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var h=Zi(),b=Sl(h);b.tag=2,d!=null&&(b.callback=d),d=Cl(c,b,h),d!==null&&(es(d,c,h),$h(d,c,h))}};function m4(c,d,h,b,_,x,C){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,x,C):d.prototype&&d.prototype.isPureReactComponent?!Oh(h,b)||!Oh(_,x):!0}function g4(c,d,h,b){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(h,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(h,b),d.state!==c&&$_.enqueueReplaceState(d,d.state,null)}function Fc(c,d){var h=d;if("ref"in d){h={};for(var b in d)b!=="ref"&&(h[b]=d[b])}if(c=c.defaultProps){h===d&&(h=f({},h));for(var _ in c)h[_]===void 0&&(h[_]=c[_])}return h}var jp=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function p4(c){jp(c)}function b4(c){console.error(c)}function y4(c){jp(c)}function qp(c,d){try{var h=c.onUncaughtError;h(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function w4(c,d,h){try{var b=c.onCaughtError;b(h.value,{componentStack:h.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function W_(c,d,h){return h=Sl(h),h.tag=3,h.payload={element:null},h.callback=function(){qp(c,d)},h}function v4(c){return c=Sl(c),c.tag=3,c}function _4(c,d,h,b){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var x=b.value;c.payload=function(){return _(x)},c.callback=function(){w4(d,h,b)}}var C=h.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(c.callback=function(){w4(d,h,b),typeof _!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var D=b.stack;this.componentDidCatch(b.value,{componentStack:D!==null?D:""})})}function D$(c,d,h,b,_){if(h.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=h.alternate,d!==null&&Bh(d,h,_,!0),h=Is.current,h!==null){switch(h.tag){case 13:return Bo===null?mx():h.alternate===null&&$n===0&&($n=3),h.flags&=-257,h.flags|=65536,h.lanes=_,b===w_?h.flags|=16384:(d=h.updateQueue,d===null?h.updateQueue=new Set([b]):d.add(b),px(c,b,_)),!1;case 22:return h.flags|=65536,b===w_?h.flags|=16384:(d=h.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},h.updateQueue=d):(h=d.retryQueue,h===null?d.retryQueue=new Set([b]):h.add(b)),px(c,b,_)),!1}throw Error(r(435,h.tag))}return px(c,b,_),mx(),!1}if(Ht)return d=Is.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=_,b!==f_&&(c=Error(r(422),{cause:b}),Lh(Cs(c,h)))):(b!==f_&&(d=Error(r(423),{cause:b}),Lh(Cs(d,h))),c=c.current.alternate,c.flags|=65536,_&=-_,c.lanes|=_,b=Cs(b,h),_=W_(c.stateNode,b,_),x_(c,_),$n!==4&&($n=2)),!1;var x=Error(r(520),{cause:b});if(x=Cs(x,h),im===null?im=[x]:im.push(x),$n!==4&&($n=2),d===null)return!0;b=Cs(b,h),h=d;do{switch(h.tag){case 3:return h.flags|=65536,c=_&-_,h.lanes|=c,c=W_(h.stateNode,b,c),x_(h,c),!1;case 1:if(d=h.type,x=h.stateNode,(h.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Fl===null||!Fl.has(x))))return h.flags|=65536,_&=-_,h.lanes|=_,_=v4(_),_4(_,c,h,b),x_(h,_),!1}h=h.return}while(h!==null);return!1}var x4=Error(r(461)),Ar=!1;function Br(c,d,h,b){d.child=c===null?f4(d,null,h,b):yd(d,c.child,h,b)}function E4(c,d,h,b,_){h=h.render;var x=d.ref;if("ref"in b){var C={};for(var D in b)D!=="ref"&&(C[D]=b[D])}else C=b;return Oc(d),b=C_(c,d,h,C,x,_),D=A_(),c!==null&&!Ar?(N_(c,d,_),Aa(c,d,_)):(Ht&&D&&u_(d),d.flags|=1,Br(c,d,b,_),d.child)}function k4(c,d,h,b,_){if(c===null){var x=h.type;return typeof x=="function"&&!a_(x)&&x.defaultProps===void 0&&h.compare===null?(d.tag=15,d.type=x,T4(c,d,x,b,_)):(c=Tp(h.type,null,b,d,d.mode,_),c.ref=d.ref,c.return=d,d.child=c)}if(x=c.child,!Q_(c,_)){var C=x.memoizedProps;if(h=h.compare,h=h!==null?h:Oh,h(C,b)&&c.ref===d.ref)return Aa(c,d,_)}return d.flags|=1,c=_a(x,b),c.ref=d.ref,c.return=d,d.child=c}function T4(c,d,h,b,_){if(c!==null){var x=c.memoizedProps;if(Oh(x,b)&&c.ref===d.ref)if(Ar=!1,d.pendingProps=b=x,Q_(c,_))(c.flags&131072)!==0&&(Ar=!0);else return d.lanes=c.lanes,Aa(c,d,_)}return j_(c,d,h,b,_)}function S4(c,d,h){var b=d.pendingProps,_=b.children,x=c!==null?c.memoizedState:null;if(b.mode==="hidden"){if((d.flags&128)!==0){if(b=x!==null?x.baseLanes|h:h,c!==null){for(_=d.child=c.child,x=0;_!==null;)x=x|_.lanes|_.childLanes,_=_.sibling;d.childLanes=x&~b}else d.childLanes=0,d.child=null;return C4(c,d,b,h)}if((h&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Pp(d,x!==null?x.cachePool:null),x!==null?T5(d,x):k_(),h4(d);else return d.lanes=d.childLanes=536870912,C4(c,d,x!==null?x.baseLanes|h:h,h)}else x!==null?(Pp(d,x.cachePool),T5(d,x),Pl(),d.memoizedState=null):(c!==null&&Pp(d,null),k_(),Pl());return Br(c,d,_,h),d.child}function C4(c,d,h,b){var _=y_();return _=_===null?null:{parent:yr._currentValue,pool:_},d.memoizedState={baseLanes:h,cachePool:_},c!==null&&Pp(d,null),k_(),h4(d),c!==null&&Bh(c,d,b,!0),null}function Gp(c,d){var h=d.ref;if(h===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(c===null||c.ref!==h)&&(d.flags|=4194816)}}function j_(c,d,h,b,_){return Oc(d),h=C_(c,d,h,b,void 0,_),b=A_(),c!==null&&!Ar?(N_(c,d,_),Aa(c,d,_)):(Ht&&b&&u_(d),d.flags|=1,Br(c,d,h,_),d.child)}function A4(c,d,h,b,_,x){return Oc(d),d.updateQueue=null,h=C5(d,b,h,_),S5(c),b=A_(),c!==null&&!Ar?(N_(c,d,x),Aa(c,d,x)):(Ht&&b&&u_(d),d.flags|=1,Br(c,d,h,x),d.child)}function N4(c,d,h,b,_){if(Oc(d),d.stateNode===null){var x=ld,C=h.contextType;typeof C=="object"&&C!==null&&(x=Zr(C)),x=new h(b,x),d.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=$_,d.stateNode=x,x._reactInternals=d,x=d.stateNode,x.props=b,x.state=d.memoizedState,x.refs={},v_(d),C=h.contextType,x.context=typeof C=="object"&&C!==null?Zr(C):ld,x.state=d.memoizedState,C=h.getDerivedStateFromProps,typeof C=="function"&&(H_(d,h,C,b),x.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&$_.enqueueReplaceState(x,x.state,null),jh(d,b,x,_),Wh(),x.state=d.memoizedState),typeof x.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(c===null){x=d.stateNode;var D=d.memoizedProps,G=Fc(h,D);x.props=G;var ae=x.context,Se=h.contextType;C=ld,typeof Se=="object"&&Se!==null&&(C=Zr(Se));var Ae=h.getDerivedStateFromProps;Se=typeof Ae=="function"||typeof x.getSnapshotBeforeUpdate=="function",D=d.pendingProps!==D,Se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D||ae!==C)&&g4(d,x,b,C),Tl=!1;var fe=d.memoizedState;x.state=fe,jh(d,b,x,_),Wh(),ae=d.memoizedState,D||fe!==ae||Tl?(typeof Ae=="function"&&(H_(d,h,Ae,b),ae=d.memoizedState),(G=Tl||m4(d,h,G,b,fe,ae,C))?(Se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(d.flags|=4194308)):(typeof x.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=ae),x.props=b,x.state=ae,x.context=C,b=G):(typeof x.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{x=d.stateNode,__(c,d),C=d.memoizedProps,Se=Fc(h,C),x.props=Se,Ae=d.pendingProps,fe=x.context,ae=h.contextType,G=ld,typeof ae=="object"&&ae!==null&&(G=Zr(ae)),D=h.getDerivedStateFromProps,(ae=typeof D=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==Ae||fe!==G)&&g4(d,x,b,G),Tl=!1,fe=d.memoizedState,x.state=fe,jh(d,b,x,_),Wh();var ge=d.memoizedState;C!==Ae||fe!==ge||Tl||c!==null&&c.dependencies!==null&&Ap(c.dependencies)?(typeof D=="function"&&(H_(d,h,D,b),ge=d.memoizedState),(Se=Tl||m4(d,h,Se,b,fe,ge,G)||c!==null&&c.dependencies!==null&&Ap(c.dependencies))?(ae||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(b,ge,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(b,ge,G)),typeof x.componentDidUpdate=="function"&&(d.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===c.memoizedProps&&fe===c.memoizedState||(d.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=ge),x.props=b,x.state=ge,x.context=G,b=Se):(typeof x.componentDidUpdate!="function"||C===c.memoizedProps&&fe===c.memoizedState||(d.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),b=!1)}return x=b,Gp(c,d),b=(d.flags&128)!==0,x||b?(x=d.stateNode,h=b&&typeof h.getDerivedStateFromError!="function"?null:x.render(),d.flags|=1,c!==null&&b?(d.child=yd(d,c.child,null,_),d.child=yd(d,null,h,_)):Br(c,d,h,_),d.memoizedState=x.state,c=d.child):c=Aa(c,d,_),c}function P4(c,d,h,b){return Fh(),d.flags|=256,Br(c,d,h,b),d.child}var q_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G_(c){return{baseLanes:c,cachePool:b5()}}function Y_(c,d,h){return c=c!==null?c.childLanes&~h:0,d&&(c|=Rs),c}function I4(c,d,h){var b=d.pendingProps,_=!1,x=(d.flags&128)!==0,C;if((C=x)||(C=c!==null&&c.memoizedState===null?!1:(wr.current&2)!==0),C&&(_=!0,d.flags&=-129),C=(d.flags&32)!==0,d.flags&=-33,c===null){if(Ht){if(_?Nl(d):Pl(),Ht){var D=Hn,G;if(G=D){e:{for(G=D,D=Lo;G.nodeType!==8;){if(!D){D=null;break e}if(G=io(G.nextSibling),G===null){D=null;break e}}D=G}D!==null?(d.memoizedState={dehydrated:D,treeContext:Ac!==null?{id:xa,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},G=Ki(18,null,null,0),G.stateNode=D,G.return=d,d.child=G,ui=d,Hn=null,G=!0):G=!1}G||Ic(d)}if(D=d.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Ix(D)?d.lanes=32:d.lanes=536870912,null;Ca(d)}return D=b.children,b=b.fallback,_?(Pl(),_=d.mode,D=Yp({mode:"hidden",children:D},_),b=Cc(b,_,h,null),D.return=d,b.return=d,D.sibling=b,d.child=D,_=d.child,_.memoizedState=G_(h),_.childLanes=Y_(c,C,h),d.memoizedState=q_,b):(Nl(d),K_(d,D))}if(G=c.memoizedState,G!==null&&(D=G.dehydrated,D!==null)){if(x)d.flags&256?(Nl(d),d.flags&=-257,d=X_(c,d,h)):d.memoizedState!==null?(Pl(),d.child=c.child,d.flags|=128,d=null):(Pl(),_=b.fallback,D=d.mode,b=Yp({mode:"visible",children:b.children},D),_=Cc(_,D,h,null),_.flags|=2,b.return=d,_.return=d,b.sibling=_,d.child=b,yd(d,c.child,null,h),b=d.child,b.memoizedState=G_(h),b.childLanes=Y_(c,C,h),d.memoizedState=q_,d=_);else if(Nl(d),Ix(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var ae=C.dgst;C=ae,b=Error(r(419)),b.stack="",b.digest=C,Lh({value:b,source:null,stack:null}),d=X_(c,d,h)}else if(Ar||Bh(c,d,h,!1),C=(h&c.childLanes)!==0,Ar||C){if(C=kn,C!==null&&(b=h&-h,b=(b&42)!==0?1:Eh(b),b=(b&(C.suspendedLanes|h))!==0?0:b,b!==0&&b!==G.retryLane))throw G.retryLane=b,ad(c,b),es(C,c,b),x4;D.data==="$?"||mx(),d=X_(c,d,h)}else D.data==="$?"?(d.flags|=192,d.child=c.child,d=null):(c=G.treeContext,Hn=io(D.nextSibling),ui=d,Ht=!0,Pc=null,Lo=!1,c!==null&&(Ns[Ps++]=xa,Ns[Ps++]=Ea,Ns[Ps++]=Ac,xa=c.id,Ea=c.overflow,Ac=d),d=K_(d,b.children),d.flags|=4096);return d}return _?(Pl(),_=b.fallback,D=d.mode,G=c.child,ae=G.sibling,b=_a(G,{mode:"hidden",children:b.children}),b.subtreeFlags=G.subtreeFlags&65011712,ae!==null?_=_a(ae,_):(_=Cc(_,D,h,null),_.flags|=2),_.return=d,b.return=d,b.sibling=_,d.child=b,b=_,_=d.child,D=c.child.memoizedState,D===null?D=G_(h):(G=D.cachePool,G!==null?(ae=yr._currentValue,G=G.parent!==ae?{parent:ae,pool:ae}:G):G=b5(),D={baseLanes:D.baseLanes|h,cachePool:G}),_.memoizedState=D,_.childLanes=Y_(c,C,h),d.memoizedState=q_,b):(Nl(d),h=c.child,c=h.sibling,h=_a(h,{mode:"visible",children:b.children}),h.return=d,h.sibling=null,c!==null&&(C=d.deletions,C===null?(d.deletions=[c],d.flags|=16):C.push(c)),d.child=h,d.memoizedState=null,h)}function K_(c,d){return d=Yp({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function Yp(c,d){return c=Ki(22,c,null,d),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function X_(c,d,h){return yd(d,c.child,null,h),c=K_(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function R4(c,d,h){c.lanes|=d;var b=c.alternate;b!==null&&(b.lanes|=d),m_(c.return,d,h)}function J_(c,d,h,b,_){var x=c.memoizedState;x===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:h,tailMode:_}:(x.isBackwards=d,x.rendering=null,x.renderingStartTime=0,x.last=b,x.tail=h,x.tailMode=_)}function O4(c,d,h){var b=d.pendingProps,_=b.revealOrder,x=b.tail;if(Br(c,d,b.children,h),b=wr.current,(b&2)!==0)b=b&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&R4(c,h,d);else if(c.tag===19)R4(c,h,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}switch(Q(wr,b),_){case"forwards":for(h=d.child,_=null;h!==null;)c=h.alternate,c!==null&&Wp(c)===null&&(_=h),h=h.sibling;h=_,h===null?(_=d.child,d.child=null):(_=h.sibling,h.sibling=null),J_(d,!1,_,h,x);break;case"backwards":for(h=null,_=d.child,d.child=null;_!==null;){if(c=_.alternate,c!==null&&Wp(c)===null){d.child=_;break}c=_.sibling,_.sibling=h,h=_,_=c}J_(d,!0,h,null,x);break;case"together":J_(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Aa(c,d,h){if(c!==null&&(d.dependencies=c.dependencies),Dl|=d.lanes,(h&d.childLanes)===0)if(c!==null){if(Bh(c,d,h,!1),(h&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,h=_a(c,c.pendingProps),d.child=h,h.return=d;c.sibling!==null;)c=c.sibling,h=h.sibling=_a(c,c.pendingProps),h.return=d;h.sibling=null}return d.child}function Q_(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Ap(c)))}function F$(c,d,h){switch(d.tag){case 3:Be(d,d.stateNode.containerInfo),kl(d,yr,c.memoizedState.cache),Fh();break;case 27:case 5:je(d);break;case 4:Be(d,d.stateNode.containerInfo);break;case 10:kl(d,d.type,d.memoizedProps.value);break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(Nl(d),d.flags|=128,null):(h&d.child.childLanes)!==0?I4(c,d,h):(Nl(d),c=Aa(c,d,h),c!==null?c.sibling:null);Nl(d);break;case 19:var _=(c.flags&128)!==0;if(b=(h&d.childLanes)!==0,b||(Bh(c,d,h,!1),b=(h&d.childLanes)!==0),_){if(b)return O4(c,d,h);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Q(wr,wr.current),b)break;return null;case 22:case 23:return d.lanes=0,S4(c,d,h);case 24:kl(d,yr,c.memoizedState.cache)}return Aa(c,d,h)}function M4(c,d,h){if(c!==null)if(c.memoizedProps!==d.pendingProps)Ar=!0;else{if(!Q_(c,h)&&(d.flags&128)===0)return Ar=!1,F$(c,d,h);Ar=(c.flags&131072)!==0}else Ar=!1,Ht&&(d.flags&1048576)!==0&&u5(d,Cp,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var b=d.elementType,_=b._init;if(b=_(b._payload),d.type=b,typeof b=="function")a_(b)?(c=Fc(b,c),d.tag=1,d=N4(null,d,b,c,h)):(d.tag=0,d=j_(null,d,b,c,h));else{if(b!=null){if(_=b.$$typeof,_===P){d.tag=11,d=E4(null,d,b,c,h);break e}else if(_===A){d.tag=14,d=k4(null,d,b,c,h);break e}}throw d=ye(b)||b,Error(r(306,d,""))}}return d;case 0:return j_(c,d,d.type,d.pendingProps,h);case 1:return b=d.type,_=Fc(b,d.pendingProps),N4(c,d,b,_,h);case 3:e:{if(Be(d,d.stateNode.containerInfo),c===null)throw Error(r(387));b=d.pendingProps;var x=d.memoizedState;_=x.element,__(c,d),jh(d,b,null,h);var C=d.memoizedState;if(b=C.cache,kl(d,yr,b),b!==x.cache&&g_(d,[yr],h,!0),Wh(),b=C.element,x.isDehydrated)if(x={element:b,isDehydrated:!1,cache:C.cache},d.updateQueue.baseState=x,d.memoizedState=x,d.flags&256){d=P4(c,d,b,h);break e}else if(b!==_){_=Cs(Error(r(424)),d),Lh(_),d=P4(c,d,b,h);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Hn=io(c.firstChild),ui=d,Ht=!0,Pc=null,Lo=!0,h=f4(d,null,b,h),d.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Fh(),b===_){d=Aa(c,d,h);break e}Br(c,d,b,h)}d=d.child}return d;case 26:return Gp(c,d),c===null?(h=B3(d.type,null,d.pendingProps,null))?d.memoizedState=h:Ht||(h=d.type,c=d.pendingProps,b=l1(ue.current).createElement(h),b[Sr]=d,b[Cr]=c,Ur(b,h,c),se(b),d.stateNode=b):d.memoizedState=B3(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return je(d),c===null&&Ht&&(b=d.stateNode=D3(d.type,d.pendingProps,ue.current),ui=d,Lo=!0,_=Hn,Vl(d.type)?(Rx=_,Hn=io(b.firstChild)):Hn=_),Br(c,d,d.pendingProps.children,h),Gp(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Ht&&((_=b=Hn)&&(b=uW(b,d.type,d.pendingProps,Lo),b!==null?(d.stateNode=b,ui=d,Hn=io(b.firstChild),Lo=!1,_=!0):_=!1),_||Ic(d)),je(d),_=d.type,x=d.pendingProps,C=c!==null?c.memoizedProps:null,b=x.children,Ax(_,x)?b=null:C!==null&&Ax(_,C)&&(d.flags|=32),d.memoizedState!==null&&(_=C_(c,d,A$,null,null,h),hm._currentValue=_),Gp(c,d),Br(c,d,b,h),d.child;case 6:return c===null&&Ht&&((c=h=Hn)&&(h=dW(h,d.pendingProps,Lo),h!==null?(d.stateNode=h,ui=d,Hn=null,c=!0):c=!1),c||Ic(d)),null;case 13:return I4(c,d,h);case 4:return Be(d,d.stateNode.containerInfo),b=d.pendingProps,c===null?d.child=yd(d,null,b,h):Br(c,d,b,h),d.child;case 11:return E4(c,d,d.type,d.pendingProps,h);case 7:return Br(c,d,d.pendingProps,h),d.child;case 8:return Br(c,d,d.pendingProps.children,h),d.child;case 12:return Br(c,d,d.pendingProps.children,h),d.child;case 10:return b=d.pendingProps,kl(d,d.type,b.value),Br(c,d,b.children,h),d.child;case 9:return _=d.type._context,b=d.pendingProps.children,Oc(d),_=Zr(_),b=b(_),d.flags|=1,Br(c,d,b,h),d.child;case 14:return k4(c,d,d.type,d.pendingProps,h);case 15:return T4(c,d,d.type,d.pendingProps,h);case 19:return O4(c,d,h);case 31:return b=d.pendingProps,h=d.mode,b={mode:b.mode,children:b.children},c===null?(h=Yp(b,h),h.ref=d.ref,d.child=h,h.return=d,d=h):(h=_a(c.child,b),h.ref=d.ref,d.child=h,h.return=d,d=h),d;case 22:return S4(c,d,h);case 24:return Oc(d),b=Zr(yr),c===null?(_=y_(),_===null&&(_=kn,x=p_(),_.pooledCache=x,x.refCount++,x!==null&&(_.pooledCacheLanes|=h),_=x),d.memoizedState={parent:b,cache:_},v_(d),kl(d,yr,_)):((c.lanes&h)!==0&&(__(c,d),jh(d,null,null,h),Wh()),_=c.memoizedState,x=d.memoizedState,_.parent!==b?(_={parent:b,cache:b},d.memoizedState=_,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=_),kl(d,yr,b)):(b=x.cache,kl(d,yr,b),b!==_.cache&&g_(d,[yr],h,!0))),Br(c,d,d.pendingProps.children,h),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Na(c){c.flags|=4}function D4(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!$3(d)){if(d=Is.current,d!==null&&((Ot&4194048)===Ot?Bo!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||d!==Bo))throw Hh=w_,y5;c.flags|=8192}}function Kp(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?_h():536870912,c.lanes|=d,xd|=d)}function Qh(c,d){if(!Ht)switch(c.tailMode){case"hidden":d=c.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?c.tail=null:h.sibling=null;break;case"collapsed":h=c.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function Ln(c){var d=c.alternate!==null&&c.alternate.child===c.child,h=0,b=0;if(d)for(var _=c.child;_!==null;)h|=_.lanes|_.childLanes,b|=_.subtreeFlags&65011712,b|=_.flags&65011712,_.return=c,_=_.sibling;else for(_=c.child;_!==null;)h|=_.lanes|_.childLanes,b|=_.subtreeFlags,b|=_.flags,_.return=c,_=_.sibling;return c.subtreeFlags|=b,c.childLanes=h,d}function L$(c,d,h){var b=d.pendingProps;switch(d_(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(d),null;case 1:return Ln(d),null;case 3:return h=d.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),Ta(yr),Je(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(c===null||c.child===null)&&(Dh(d)?Na(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,h5())),Ln(d),null;case 26:return h=d.memoizedState,c===null?(Na(d),h!==null?(Ln(d),D4(d,h)):(Ln(d),d.flags&=-16777217)):h?h!==c.memoizedState?(Na(d),Ln(d),D4(d,h)):(Ln(d),d.flags&=-16777217):(c.memoizedProps!==b&&Na(d),Ln(d),d.flags&=-16777217),null;case 27:Nt(d),h=ue.current;var _=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==b&&Na(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Ln(d),null}c=Y.current,Dh(d)?d5(d):(c=D3(_,b,h),d.stateNode=c,Na(d))}return Ln(d),null;case 5:if(Nt(d),h=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==b&&Na(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Ln(d),null}if(c=Y.current,Dh(d))d5(d);else{switch(_=l1(ue.current),c){case 1:c=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:c=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":c=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":c=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":c=_.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof b.is=="string"?_.createElement("select",{is:b.is}):_.createElement("select"),b.multiple?c.multiple=!0:b.size&&(c.size=b.size);break;default:c=typeof b.is=="string"?_.createElement(h,{is:b.is}):_.createElement(h)}}c[Sr]=d,c[Cr]=b;e:for(_=d.child;_!==null;){if(_.tag===5||_.tag===6)c.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break e;for(;_.sibling===null;){if(_.return===null||_.return===d)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}d.stateNode=c;e:switch(Ur(c,h,b),h){case"button":case"input":case"select":case"textarea":c=!!b.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Na(d)}}return Ln(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==b&&Na(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(c=ue.current,Dh(d)){if(c=d.stateNode,h=d.memoizedProps,b=null,_=ui,_!==null)switch(_.tag){case 27:case 5:b=_.memoizedProps}c[Sr]=d,c=!!(c.nodeValue===h||b!==null&&b.suppressHydrationWarning===!0||A3(c.nodeValue,h)),c||Ic(d)}else c=l1(c).createTextNode(b),c[Sr]=d,d.stateNode=c}return Ln(d),null;case 13:if(b=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(_=Dh(d),b!==null&&b.dehydrated!==null){if(c===null){if(!_)throw Error(r(318));if(_=d.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Sr]=d}else Fh(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ln(d),_=!1}else _=h5(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=_),_=!0;if(!_)return d.flags&256?(Ca(d),d):(Ca(d),null)}if(Ca(d),(d.flags&128)!==0)return d.lanes=h,d;if(h=b!==null,c=c!==null&&c.memoizedState!==null,h){b=d.child,_=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(_=b.alternate.memoizedState.cachePool.pool);var x=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(x=b.memoizedState.cachePool.pool),x!==_&&(b.flags|=2048)}return h!==c&&h&&(d.child.flags|=8192),Kp(d,d.updateQueue),Ln(d),null;case 4:return Je(),c===null&&Ex(d.stateNode.containerInfo),Ln(d),null;case 10:return Ta(d.type),Ln(d),null;case 19:if(U(wr),_=d.memoizedState,_===null)return Ln(d),null;if(b=(d.flags&128)!==0,x=_.rendering,x===null)if(b)Qh(_,!1);else{if($n!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(x=Wp(c),x!==null){for(d.flags|=128,Qh(_,!1),c=x.updateQueue,d.updateQueue=c,Kp(d,c),d.subtreeFlags=0,c=h,h=d.child;h!==null;)c5(h,c),h=h.sibling;return Q(wr,wr.current&1|2),d.child}c=c.sibling}_.tail!==null&&Ge()>Qp&&(d.flags|=128,b=!0,Qh(_,!1),d.lanes=4194304)}else{if(!b)if(c=Wp(x),c!==null){if(d.flags|=128,b=!0,c=c.updateQueue,d.updateQueue=c,Kp(d,c),Qh(_,!0),_.tail===null&&_.tailMode==="hidden"&&!x.alternate&&!Ht)return Ln(d),null}else 2*Ge()-_.renderingStartTime>Qp&&h!==536870912&&(d.flags|=128,b=!0,Qh(_,!1),d.lanes=4194304);_.isBackwards?(x.sibling=d.child,d.child=x):(c=_.last,c!==null?c.sibling=x:d.child=x,_.last=x)}return _.tail!==null?(d=_.tail,_.rendering=d,_.tail=d.sibling,_.renderingStartTime=Ge(),d.sibling=null,c=wr.current,Q(wr,b?c&1|2:c&1),d):(Ln(d),null);case 22:case 23:return Ca(d),T_(),b=d.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(h&536870912)!==0&&(d.flags&128)===0&&(Ln(d),d.subtreeFlags&6&&(d.flags|=8192)):Ln(d),h=d.updateQueue,h!==null&&Kp(d,h.retryQueue),h=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==h&&(d.flags|=2048),c!==null&&U(Mc),null;case 24:return h=null,c!==null&&(h=c.memoizedState.cache),d.memoizedState.cache!==h&&(d.flags|=2048),Ta(yr),Ln(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function B$(c,d){switch(d_(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Ta(yr),Je(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return Nt(d),null;case 13:if(Ca(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Fh()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return U(wr),null;case 4:return Je(),null;case 10:return Ta(d.type),null;case 22:case 23:return Ca(d),T_(),c!==null&&U(Mc),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Ta(yr),null;case 25:return null;default:return null}}function F4(c,d){switch(d_(d),d.tag){case 3:Ta(yr),Je();break;case 26:case 27:case 5:Nt(d);break;case 4:Je();break;case 13:Ca(d);break;case 19:U(wr);break;case 10:Ta(d.type);break;case 22:case 23:Ca(d),T_(),c!==null&&U(Mc);break;case 24:Ta(yr)}}function Zh(c,d){try{var h=d.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var _=b.next;h=_;do{if((h.tag&c)===c){b=void 0;var x=h.create,C=h.inst;b=x(),C.destroy=b}h=h.next}while(h!==_)}}catch(D){vn(d,d.return,D)}}function Il(c,d,h){try{var b=d.updateQueue,_=b!==null?b.lastEffect:null;if(_!==null){var x=_.next;b=x;do{if((b.tag&c)===c){var C=b.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,_=d;var G=h,ae=D;try{ae()}catch(Se){vn(_,G,Se)}}}b=b.next}while(b!==x)}}catch(Se){vn(d,d.return,Se)}}function L4(c){var d=c.updateQueue;if(d!==null){var h=c.stateNode;try{k5(d,h)}catch(b){vn(c,c.return,b)}}}function B4(c,d,h){h.props=Fc(c.type,c.memoizedProps),h.state=c.memoizedState;try{h.componentWillUnmount()}catch(b){vn(c,d,b)}}function em(c,d){try{var h=c.ref;if(h!==null){switch(c.tag){case 26:case 27:case 5:var b=c.stateNode;break;case 30:b=c.stateNode;break;default:b=c.stateNode}typeof h=="function"?c.refCleanup=h(b):h.current=b}}catch(_){vn(c,d,_)}}function Vo(c,d){var h=c.ref,b=c.refCleanup;if(h!==null)if(typeof b=="function")try{b()}catch(_){vn(c,d,_)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){vn(c,d,_)}else h.current=null}function V4(c){var d=c.type,h=c.memoizedProps,b=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":h.autoFocus&&b.focus();break e;case"img":h.src?b.src=h.src:h.srcSet&&(b.srcset=h.srcSet)}}catch(_){vn(c,c.return,_)}}function Z_(c,d,h){try{var b=c.stateNode;sW(b,c.type,h,d),b[Cr]=d}catch(_){vn(c,c.return,_)}}function U4(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Vl(c.type)||c.tag===4}function ex(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||U4(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Vl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function tx(c,d,h){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(c,d):(d=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,d.appendChild(c),h=h._reactRootContainer,h!=null||d.onclick!==null||(d.onclick=a1));else if(b!==4&&(b===27&&Vl(c.type)&&(h=c.stateNode,d=null),c=c.child,c!==null))for(tx(c,d,h),c=c.sibling;c!==null;)tx(c,d,h),c=c.sibling}function Xp(c,d,h){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?h.insertBefore(c,d):h.appendChild(c);else if(b!==4&&(b===27&&Vl(c.type)&&(h=c.stateNode),c=c.child,c!==null))for(Xp(c,d,h),c=c.sibling;c!==null;)Xp(c,d,h),c=c.sibling}function z4(c){var d=c.stateNode,h=c.memoizedProps;try{for(var b=c.type,_=d.attributes;_.length;)d.removeAttributeNode(_[0]);Ur(d,b,h),d[Sr]=c,d[Cr]=h}catch(x){vn(c,c.return,x)}}var Pa=!1,Zn=!1,nx=!1,H4=typeof WeakSet=="function"?WeakSet:Set,Nr=null;function V$(c,d){if(c=c.containerInfo,Sx=m1,c=ZA(c),e_(c)){if("selectionStart"in c)var h={start:c.selectionStart,end:c.selectionEnd};else e:{h=(h=c.ownerDocument)&&h.defaultView||window;var b=h.getSelection&&h.getSelection();if(b&&b.rangeCount!==0){h=b.anchorNode;var _=b.anchorOffset,x=b.focusNode;b=b.focusOffset;try{h.nodeType,x.nodeType}catch{h=null;break e}var C=0,D=-1,G=-1,ae=0,Se=0,Ae=c,fe=null;t:for(;;){for(var ge;Ae!==h||_!==0&&Ae.nodeType!==3||(D=C+_),Ae!==x||b!==0&&Ae.nodeType!==3||(G=C+b),Ae.nodeType===3&&(C+=Ae.nodeValue.length),(ge=Ae.firstChild)!==null;)fe=Ae,Ae=ge;for(;;){if(Ae===c)break t;if(fe===h&&++ae===_&&(D=C),fe===x&&++Se===b&&(G=C),(ge=Ae.nextSibling)!==null)break;Ae=fe,fe=Ae.parentNode}Ae=ge}h=D===-1||G===-1?null:{start:D,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(Cx={focusedElem:c,selectionRange:h},m1=!1,Nr=d;Nr!==null;)if(d=Nr,c=d.child,(d.subtreeFlags&1024)!==0&&c!==null)c.return=d,Nr=c;else for(;Nr!==null;){switch(d=Nr,x=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&x!==null){c=void 0,h=d,_=x.memoizedProps,x=x.memoizedState,b=h.stateNode;try{var ht=Fc(h.type,_,h.elementType===h.type);c=b.getSnapshotBeforeUpdate(ht,x),b.__reactInternalSnapshotBeforeUpdate=c}catch(ut){vn(h,h.return,ut)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,h=c.nodeType,h===9)Px(c);else if(h===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Px(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,Nr=c;break}Nr=d.return}}function $4(c,d,h){var b=h.flags;switch(h.tag){case 0:case 11:case 15:Rl(c,h),b&4&&Zh(5,h);break;case 1:if(Rl(c,h),b&4)if(c=h.stateNode,d===null)try{c.componentDidMount()}catch(C){vn(h,h.return,C)}else{var _=Fc(h.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(_,d,c.__reactInternalSnapshotBeforeUpdate)}catch(C){vn(h,h.return,C)}}b&64&&L4(h),b&512&&em(h,h.return);break;case 3:if(Rl(c,h),b&64&&(c=h.updateQueue,c!==null)){if(d=null,h.child!==null)switch(h.child.tag){case 27:case 5:d=h.child.stateNode;break;case 1:d=h.child.stateNode}try{k5(c,d)}catch(C){vn(h,h.return,C)}}break;case 27:d===null&&b&4&&z4(h);case 26:case 5:Rl(c,h),d===null&&b&4&&V4(h),b&512&&em(h,h.return);break;case 12:Rl(c,h);break;case 13:Rl(c,h),b&4&&q4(c,h),b&64&&(c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(h=Y$.bind(null,h),fW(c,h))));break;case 22:if(b=h.memoizedState!==null||Pa,!b){d=d!==null&&d.memoizedState!==null||Zn,_=Pa;var x=Zn;Pa=b,(Zn=d)&&!x?Ol(c,h,(h.subtreeFlags&8772)!==0):Rl(c,h),Pa=_,Zn=x}break;case 30:break;default:Rl(c,h)}}function W4(c){var d=c.alternate;d!==null&&(c.alternate=null,W4(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&B(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var In=null,Ai=!1;function Ia(c,d,h){for(h=h.child;h!==null;)j4(c,d,h),h=h.sibling}function j4(c,d,h){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Oe,h)}catch{}switch(h.tag){case 26:Zn||Vo(h,d),Ia(c,d,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Zn||Vo(h,d);var b=In,_=Ai;Vl(h.type)&&(In=h.stateNode,Ai=!1),Ia(c,d,h),cm(h.stateNode),In=b,Ai=_;break;case 5:Zn||Vo(h,d);case 6:if(b=In,_=Ai,In=null,Ia(c,d,h),In=b,Ai=_,In!==null)if(Ai)try{(In.nodeType===9?In.body:In.nodeName==="HTML"?In.ownerDocument.body:In).removeChild(h.stateNode)}catch(x){vn(h,d,x)}else try{In.removeChild(h.stateNode)}catch(x){vn(h,d,x)}break;case 18:In!==null&&(Ai?(c=In,O3(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,h.stateNode),bm(c)):O3(In,h.stateNode));break;case 4:b=In,_=Ai,In=h.stateNode.containerInfo,Ai=!0,Ia(c,d,h),In=b,Ai=_;break;case 0:case 11:case 14:case 15:Zn||Il(2,h,d),Zn||Il(4,h,d),Ia(c,d,h);break;case 1:Zn||(Vo(h,d),b=h.stateNode,typeof b.componentWillUnmount=="function"&&B4(h,d,b)),Ia(c,d,h);break;case 21:Ia(c,d,h);break;case 22:Zn=(b=Zn)||h.memoizedState!==null,Ia(c,d,h),Zn=b;break;default:Ia(c,d,h)}}function q4(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{bm(c)}catch(h){vn(d,d.return,h)}}function U$(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new H4),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new H4),d;default:throw Error(r(435,c.tag))}}function rx(c,d){var h=U$(c);d.forEach(function(b){var _=K$.bind(null,c,b);h.has(b)||(h.add(b),b.then(_,_))})}function Xi(c,d){var h=d.deletions;if(h!==null)for(var b=0;b<h.length;b++){var _=h[b],x=c,C=d,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(Vl(D.type)){In=D.stateNode,Ai=!1;break e}break;case 5:In=D.stateNode,Ai=!1;break e;case 3:case 4:In=D.stateNode.containerInfo,Ai=!0;break e}D=D.return}if(In===null)throw Error(r(160));j4(x,C,_),In=null,Ai=!1,x=_.alternate,x!==null&&(x.return=null),_.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)G4(d,c),d=d.sibling}var ro=null;function G4(c,d){var h=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Xi(d,c),Ji(c),b&4&&(Il(3,c,c.return),Zh(3,c),Il(5,c,c.return));break;case 1:Xi(d,c),Ji(c),b&512&&(Zn||h===null||Vo(h,h.return)),b&64&&Pa&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(h=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=h===null?b:h.concat(b))));break;case 26:var _=ro;if(Xi(d,c),Ji(c),b&512&&(Zn||h===null||Vo(h,h.return)),b&4){var x=h!==null?h.memoizedState:null;if(b=c.memoizedState,h===null)if(b===null)if(c.stateNode===null){e:{b=c.type,h=c.memoizedProps,_=_.ownerDocument||_;t:switch(b){case"title":x=_.getElementsByTagName("title")[0],(!x||x[L]||x[Sr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=_.createElement(b),_.head.insertBefore(x,_.querySelector("head > title"))),Ur(x,b,h),x[Sr]=c,se(x),b=x;break e;case"link":var C=z3("link","href",_).get(b+(h.href||""));if(C){for(var D=0;D<C.length;D++)if(x=C[D],x.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&x.getAttribute("rel")===(h.rel==null?null:h.rel)&&x.getAttribute("title")===(h.title==null?null:h.title)&&x.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){C.splice(D,1);break t}}x=_.createElement(b),Ur(x,b,h),_.head.appendChild(x);break;case"meta":if(C=z3("meta","content",_).get(b+(h.content||""))){for(D=0;D<C.length;D++)if(x=C[D],x.getAttribute("content")===(h.content==null?null:""+h.content)&&x.getAttribute("name")===(h.name==null?null:h.name)&&x.getAttribute("property")===(h.property==null?null:h.property)&&x.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&x.getAttribute("charset")===(h.charSet==null?null:h.charSet)){C.splice(D,1);break t}}x=_.createElement(b),Ur(x,b,h),_.head.appendChild(x);break;default:throw Error(r(468,b))}x[Sr]=c,se(x),b=x}c.stateNode=b}else H3(_,c.type,c.stateNode);else c.stateNode=U3(_,b,c.memoizedProps);else x!==b?(x===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):x.count--,b===null?H3(_,c.type,c.stateNode):U3(_,b,c.memoizedProps)):b===null&&c.stateNode!==null&&Z_(c,c.memoizedProps,h.memoizedProps)}break;case 27:Xi(d,c),Ji(c),b&512&&(Zn||h===null||Vo(h,h.return)),h!==null&&b&4&&Z_(c,c.memoizedProps,h.memoizedProps);break;case 5:if(Xi(d,c),Ji(c),b&512&&(Zn||h===null||Vo(h,h.return)),c.flags&32){_=c.stateNode;try{ed(_,"")}catch(ge){vn(c,c.return,ge)}}b&4&&c.stateNode!=null&&(_=c.memoizedProps,Z_(c,_,h!==null?h.memoizedProps:_)),b&1024&&(nx=!0);break;case 6:if(Xi(d,c),Ji(c),b&4){if(c.stateNode===null)throw Error(r(162));b=c.memoizedProps,h=c.stateNode;try{h.nodeValue=b}catch(ge){vn(c,c.return,ge)}}break;case 3:if(d1=null,_=ro,ro=c1(d.containerInfo),Xi(d,c),ro=_,Ji(c),b&4&&h!==null&&h.memoizedState.isDehydrated)try{bm(d.containerInfo)}catch(ge){vn(c,c.return,ge)}nx&&(nx=!1,Y4(c));break;case 4:b=ro,ro=c1(c.stateNode.containerInfo),Xi(d,c),Ji(c),ro=b;break;case 12:Xi(d,c),Ji(c);break;case 13:Xi(d,c),Ji(c),c.child.flags&8192&&c.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(cx=Ge()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,rx(c,b)));break;case 22:_=c.memoizedState!==null;var G=h!==null&&h.memoizedState!==null,ae=Pa,Se=Zn;if(Pa=ae||_,Zn=Se||G,Xi(d,c),Zn=Se,Pa=ae,Ji(c),b&8192)e:for(d=c.stateNode,d._visibility=_?d._visibility&-2:d._visibility|1,_&&(h===null||G||Pa||Zn||Lc(c)),h=null,d=c;;){if(d.tag===5||d.tag===26){if(h===null){G=h=d;try{if(x=G.stateNode,_)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=G.stateNode;var Ae=G.memoizedProps.style,fe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;D.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(ge){vn(G,G.return,ge)}}}else if(d.tag===6){if(h===null){G=d;try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(ge){vn(G,G.return,ge)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=c.updateQueue,b!==null&&(h=b.retryQueue,h!==null&&(b.retryQueue=null,rx(c,h))));break;case 19:Xi(d,c),Ji(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,rx(c,b)));break;case 30:break;case 21:break;default:Xi(d,c),Ji(c)}}function Ji(c){var d=c.flags;if(d&2){try{for(var h,b=c.return;b!==null;){if(U4(b)){h=b;break}b=b.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var _=h.stateNode,x=ex(c);Xp(c,x,_);break;case 5:var C=h.stateNode;h.flags&32&&(ed(C,""),h.flags&=-33);var D=ex(c);Xp(c,D,C);break;case 3:case 4:var G=h.stateNode.containerInfo,ae=ex(c);tx(c,ae,G);break;default:throw Error(r(161))}}catch(Se){vn(c,c.return,Se)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function Y4(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;Y4(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Rl(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)$4(c,d.alternate,d),d=d.sibling}function Lc(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Il(4,d,d.return),Lc(d);break;case 1:Vo(d,d.return);var h=d.stateNode;typeof h.componentWillUnmount=="function"&&B4(d,d.return,h),Lc(d);break;case 27:cm(d.stateNode);case 26:case 5:Vo(d,d.return),Lc(d);break;case 22:d.memoizedState===null&&Lc(d);break;case 30:Lc(d);break;default:Lc(d)}c=c.sibling}}function Ol(c,d,h){for(h=h&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,_=c,x=d,C=x.flags;switch(x.tag){case 0:case 11:case 15:Ol(_,x,h),Zh(4,x);break;case 1:if(Ol(_,x,h),b=x,_=b.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ae){vn(b,b.return,ae)}if(b=x,_=b.updateQueue,_!==null){var D=b.stateNode;try{var G=_.shared.hiddenCallbacks;if(G!==null)for(_.shared.hiddenCallbacks=null,_=0;_<G.length;_++)E5(G[_],D)}catch(ae){vn(b,b.return,ae)}}h&&C&64&&L4(x),em(x,x.return);break;case 27:z4(x);case 26:case 5:Ol(_,x,h),h&&b===null&&C&4&&V4(x),em(x,x.return);break;case 12:Ol(_,x,h);break;case 13:Ol(_,x,h),h&&C&4&&q4(_,x);break;case 22:x.memoizedState===null&&Ol(_,x,h),em(x,x.return);break;case 30:break;default:Ol(_,x,h)}d=d.sibling}}function ix(c,d){var h=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==h&&(c!=null&&c.refCount++,h!=null&&Vh(h))}function sx(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Vh(c))}function Uo(c,d,h,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)K4(c,d,h,b),d=d.sibling}function K4(c,d,h,b){var _=d.flags;switch(d.tag){case 0:case 11:case 15:Uo(c,d,h,b),_&2048&&Zh(9,d);break;case 1:Uo(c,d,h,b);break;case 3:Uo(c,d,h,b),_&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Vh(c)));break;case 12:if(_&2048){Uo(c,d,h,b),c=d.stateNode;try{var x=d.memoizedProps,C=x.id,D=x.onPostCommit;typeof D=="function"&&D(C,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(G){vn(d,d.return,G)}}else Uo(c,d,h,b);break;case 13:Uo(c,d,h,b);break;case 23:break;case 22:x=d.stateNode,C=d.alternate,d.memoizedState!==null?x._visibility&2?Uo(c,d,h,b):tm(c,d):x._visibility&2?Uo(c,d,h,b):(x._visibility|=2,wd(c,d,h,b,(d.subtreeFlags&10256)!==0)),_&2048&&ix(C,d);break;case 24:Uo(c,d,h,b),_&2048&&sx(d.alternate,d);break;default:Uo(c,d,h,b)}}function wd(c,d,h,b,_){for(_=_&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var x=c,C=d,D=h,G=b,ae=C.flags;switch(C.tag){case 0:case 11:case 15:wd(x,C,D,G,_),Zh(8,C);break;case 23:break;case 22:var Se=C.stateNode;C.memoizedState!==null?Se._visibility&2?wd(x,C,D,G,_):tm(x,C):(Se._visibility|=2,wd(x,C,D,G,_)),_&&ae&2048&&ix(C.alternate,C);break;case 24:wd(x,C,D,G,_),_&&ae&2048&&sx(C.alternate,C);break;default:wd(x,C,D,G,_)}d=d.sibling}}function tm(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var h=c,b=d,_=b.flags;switch(b.tag){case 22:tm(h,b),_&2048&&ix(b.alternate,b);break;case 24:tm(h,b),_&2048&&sx(b.alternate,b);break;default:tm(h,b)}d=d.sibling}}var nm=8192;function vd(c){if(c.subtreeFlags&nm)for(c=c.child;c!==null;)X4(c),c=c.sibling}function X4(c){switch(c.tag){case 26:vd(c),c.flags&nm&&c.memoizedState!==null&&TW(ro,c.memoizedState,c.memoizedProps);break;case 5:vd(c);break;case 3:case 4:var d=ro;ro=c1(c.stateNode.containerInfo),vd(c),ro=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=nm,nm=16777216,vd(c),nm=d):vd(c));break;default:vd(c)}}function J4(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function rm(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var b=d[h];Nr=b,Z4(b,c)}J4(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Q4(c),c=c.sibling}function Q4(c){switch(c.tag){case 0:case 11:case 15:rm(c),c.flags&2048&&Il(9,c,c.return);break;case 3:rm(c);break;case 12:rm(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,Jp(c)):rm(c);break;default:rm(c)}}function Jp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var b=d[h];Nr=b,Z4(b,c)}J4(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Il(8,d,d.return),Jp(d);break;case 22:h=d.stateNode,h._visibility&2&&(h._visibility&=-3,Jp(d));break;default:Jp(d)}c=c.sibling}}function Z4(c,d){for(;Nr!==null;){var h=Nr;switch(h.tag){case 0:case 11:case 15:Il(8,h,d);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var b=h.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Vh(h.memoizedState.cache)}if(b=h.child,b!==null)b.return=h,Nr=b;else e:for(h=c;Nr!==null;){b=Nr;var _=b.sibling,x=b.return;if(W4(b),b===h){Nr=null;break e}if(_!==null){_.return=x,Nr=_;break e}Nr=x}}}var z$={getCacheForType:function(c){var d=Zr(yr),h=d.data.get(c);return h===void 0&&(h=c(),d.data.set(c,h)),h}},H$=typeof WeakMap=="function"?WeakMap:Map,Jt=0,kn=null,Ct=null,Ot=0,Qt=0,Qi=null,Ml=!1,_d=!1,ox=!1,Ra=0,$n=0,Dl=0,Bc=0,ax=0,Rs=0,xd=0,im=null,Ni=null,lx=!1,cx=0,Qp=1/0,Zp=null,Fl=null,Vr=0,Ll=null,Ed=null,kd=0,ux=0,dx=null,e3=null,sm=0,fx=null;function Zi(){if((Jt&2)!==0&&Ot!==0)return Ot&-Ot;if(ne.T!==null){var c=dd;return c!==0?c:wx()}return fp()}function t3(){Rs===0&&(Rs=(Ot&536870912)===0||Ht?vl():536870912);var c=Is.current;return c!==null&&(c.flags|=32),Rs}function es(c,d,h){(c===kn&&(Qt===2||Qt===9)||c.cancelPendingCommit!==null)&&(Td(c,0),Bl(c,Ot,Rs,!1)),xc(c,h),((Jt&2)===0||c!==kn)&&(c===kn&&((Jt&2)===0&&(Bc|=h),$n===4&&Bl(c,Ot,Rs,!1)),zo(c))}function n3(c,d,h){if((Jt&6)!==0)throw Error(r(327));var b=!h&&(d&124)===0&&(d&c.expiredLanes)===0||Do(c,d),_=b?j$(c,d):gx(c,d,!0),x=b;do{if(_===0){_d&&!b&&Bl(c,d,0,!1);break}else{if(h=c.current.alternate,x&&!$$(h)){_=gx(c,d,!1),x=!1;continue}if(_===2){if(x=d,c.errorRecoveryDisabledLanes&x)var C=0;else C=c.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){d=C;e:{var D=c;_=im;var G=D.current.memoizedState.isDehydrated;if(G&&(Td(D,C).flags|=256),C=gx(D,C,!1),C!==2){if(ox&&!G){D.errorRecoveryDisabledLanes|=x,Bc|=x,_=4;break e}x=Ni,Ni=_,x!==null&&(Ni===null?Ni=x:Ni.push.apply(Ni,x))}_=C}if(x=!1,_!==2)continue}}if(_===1){Td(c,0),Bl(c,d,0,!0);break}e:{switch(b=c,x=_,x){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Bl(b,d,Rs,!Ml);break e;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(_=cx+300-Ge(),10<_)){if(Bl(b,d,Rs,!Ml),wl(b,0,!0)!==0)break e;b.timeoutHandle=I3(r3.bind(null,b,h,Ni,Zp,lx,d,Rs,Bc,xd,Ml,x,2,-0,0),_);break e}r3(b,h,Ni,Zp,lx,d,Rs,Bc,xd,Ml,x,0,-0,0)}}break}while(!0);zo(c)}function r3(c,d,h,b,_,x,C,D,G,ae,Se,Ae,fe,ge){if(c.timeoutHandle=-1,Ae=d.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(fm={stylesheets:null,count:0,unsuspend:kW},X4(d),Ae=SW(),Ae!==null)){c.cancelPendingCommit=Ae(u3.bind(null,c,d,x,h,b,_,C,D,G,Se,1,fe,ge)),Bl(c,x,C,!ae);return}u3(c,d,x,h,b,_,C,D,G)}function $$(c){for(var d=c;;){var h=d.tag;if((h===0||h===11||h===15)&&d.flags&16384&&(h=d.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var b=0;b<h.length;b++){var _=h[b],x=_.getSnapshot;_=_.value;try{if(!Yi(x(),_))return!1}catch{return!1}}if(h=d.child,d.subtreeFlags&16384&&h!==null)h.return=d,d=h;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Bl(c,d,h,b){d&=~ax,d&=~Bc,c.suspendedLanes|=d,c.pingedLanes&=~d,b&&(c.warmLanes|=d),b=c.expirationTimes;for(var _=d;0<_;){var x=31-yt(_),C=1<<x;b[x]=-1,_&=~C}h!==0&&up(c,h,d)}function e1(){return(Jt&6)===0?(om(0),!1):!0}function hx(){if(Ct!==null){if(Qt===0)var c=Ct.return;else c=Ct,ka=Rc=null,P_(c),bd=null,Xh=0,c=Ct;for(;c!==null;)F4(c.alternate,c),c=c.return;Ct=null}}function Td(c,d){var h=c.timeoutHandle;h!==-1&&(c.timeoutHandle=-1,aW(h)),h=c.cancelPendingCommit,h!==null&&(c.cancelPendingCommit=null,h()),hx(),kn=c,Ct=h=_a(c.current,null),Ot=d,Qt=0,Qi=null,Ml=!1,_d=Do(c,d),ox=!1,xd=Rs=ax=Bc=Dl=$n=0,Ni=im=null,lx=!1,(d&8)!==0&&(d|=d&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=d;0<b;){var _=31-yt(b),x=1<<_;d|=c[_],b&=~x}return Ra=d,xp(),h}function i3(c,d){Tt=null,ne.H=zp,d===zh||d===Ip?(d=_5(),Qt=3):d===y5?(d=_5(),Qt=4):Qt=d===x4?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Qi=d,Ct===null&&($n=1,qp(c,Cs(d,c.current)))}function s3(){var c=ne.H;return ne.H=zp,c===null?zp:c}function o3(){var c=ne.A;return ne.A=z$,c}function mx(){$n=4,Ml||(Ot&4194048)!==Ot&&Is.current!==null||(_d=!0),(Dl&134217727)===0&&(Bc&134217727)===0||kn===null||Bl(kn,Ot,Rs,!1)}function gx(c,d,h){var b=Jt;Jt|=2;var _=s3(),x=o3();(kn!==c||Ot!==d)&&(Zp=null,Td(c,d)),d=!1;var C=$n;e:do try{if(Qt!==0&&Ct!==null){var D=Ct,G=Qi;switch(Qt){case 8:hx(),C=6;break e;case 3:case 2:case 9:case 6:Is.current===null&&(d=!0);var ae=Qt;if(Qt=0,Qi=null,Sd(c,D,G,ae),h&&_d){C=0;break e}break;default:ae=Qt,Qt=0,Qi=null,Sd(c,D,G,ae)}}W$(),C=$n;break}catch(Se){i3(c,Se)}while(!0);return d&&c.shellSuspendCounter++,ka=Rc=null,Jt=b,ne.H=_,ne.A=x,Ct===null&&(kn=null,Ot=0,xp()),C}function W$(){for(;Ct!==null;)a3(Ct)}function j$(c,d){var h=Jt;Jt|=2;var b=s3(),_=o3();kn!==c||Ot!==d?(Zp=null,Qp=Ge()+500,Td(c,d)):_d=Do(c,d);e:do try{if(Qt!==0&&Ct!==null){d=Ct;var x=Qi;t:switch(Qt){case 1:Qt=0,Qi=null,Sd(c,d,x,1);break;case 2:case 9:if(w5(x)){Qt=0,Qi=null,l3(d);break}d=function(){Qt!==2&&Qt!==9||kn!==c||(Qt=7),zo(c)},x.then(d,d);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:w5(x)?(Qt=0,Qi=null,l3(d)):(Qt=0,Qi=null,Sd(c,d,x,7));break;case 5:var C=null;switch(Ct.tag){case 26:C=Ct.memoizedState;case 5:case 27:var D=Ct;if(!C||$3(C)){Qt=0,Qi=null;var G=D.sibling;if(G!==null)Ct=G;else{var ae=D.return;ae!==null?(Ct=ae,t1(ae)):Ct=null}break t}}Qt=0,Qi=null,Sd(c,d,x,5);break;case 6:Qt=0,Qi=null,Sd(c,d,x,6);break;case 8:hx(),$n=6;break e;default:throw Error(r(462))}}q$();break}catch(Se){i3(c,Se)}while(!0);return ka=Rc=null,ne.H=b,ne.A=_,Jt=h,Ct!==null?0:(kn=null,Ot=0,xp(),$n)}function q$(){for(;Ct!==null&&!ki();)a3(Ct)}function a3(c){var d=M4(c.alternate,c,Ra);c.memoizedProps=c.pendingProps,d===null?t1(c):Ct=d}function l3(c){var d=c,h=d.alternate;switch(d.tag){case 15:case 0:d=A4(h,d,d.pendingProps,d.type,void 0,Ot);break;case 11:d=A4(h,d,d.pendingProps,d.type.render,d.ref,Ot);break;case 5:P_(d);default:F4(h,d),d=Ct=c5(d,Ra),d=M4(h,d,Ra)}c.memoizedProps=c.pendingProps,d===null?t1(c):Ct=d}function Sd(c,d,h,b){ka=Rc=null,P_(d),bd=null,Xh=0;var _=d.return;try{if(D$(c,_,d,h,Ot)){$n=1,qp(c,Cs(h,c.current)),Ct=null;return}}catch(x){if(_!==null)throw Ct=_,x;$n=1,qp(c,Cs(h,c.current)),Ct=null;return}d.flags&32768?(Ht||b===1?c=!0:_d||(Ot&536870912)!==0?c=!1:(Ml=c=!0,(b===2||b===9||b===3||b===6)&&(b=Is.current,b!==null&&b.tag===13&&(b.flags|=16384))),c3(d,c)):t1(d)}function t1(c){var d=c;do{if((d.flags&32768)!==0){c3(d,Ml);return}c=d.return;var h=L$(d.alternate,d,Ra);if(h!==null){Ct=h;return}if(d=d.sibling,d!==null){Ct=d;return}Ct=d=c}while(d!==null);$n===0&&($n=5)}function c3(c,d){do{var h=B$(c.alternate,c);if(h!==null){h.flags&=32767,Ct=h;return}if(h=c.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!d&&(c=c.sibling,c!==null)){Ct=c;return}Ct=c=h}while(c!==null);$n=6,Ct=null}function u3(c,d,h,b,_,x,C,D,G){c.cancelPendingCommit=null;do n1();while(Vr!==0);if((Jt&6)!==0)throw Error(r(327));if(d!==null){if(d===c.current)throw Error(r(177));if(x=d.lanes|d.childLanes,x|=s_,Qu(c,h,x,C,D,G),c===kn&&(Ct=kn=null,Ot=0),Ed=d,Ll=c,kd=h,ux=x,dx=_,e3=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,X$(X,function(){return g3(),null})):(c.callbackNode=null,c.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=ne.T,ne.T=null,_=ke.p,ke.p=2,C=Jt,Jt|=4;try{V$(c,d,h)}finally{Jt=C,ke.p=_,ne.T=b}}Vr=1,d3(),f3(),h3()}}function d3(){if(Vr===1){Vr=0;var c=Ll,d=Ed,h=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||h){h=ne.T,ne.T=null;var b=ke.p;ke.p=2;var _=Jt;Jt|=4;try{G4(d,c);var x=Cx,C=ZA(c.containerInfo),D=x.focusedElem,G=x.selectionRange;if(C!==D&&D&&D.ownerDocument&&QA(D.ownerDocument.documentElement,D)){if(G!==null&&e_(D)){var ae=G.start,Se=G.end;if(Se===void 0&&(Se=ae),"selectionStart"in D)D.selectionStart=ae,D.selectionEnd=Math.min(Se,D.value.length);else{var Ae=D.ownerDocument||document,fe=Ae&&Ae.defaultView||window;if(fe.getSelection){var ge=fe.getSelection(),ht=D.textContent.length,ut=Math.min(G.start,ht),fn=G.end===void 0?ut:Math.min(G.end,ht);!ge.extend&&ut>fn&&(C=fn,fn=ut,ut=C);var ie=JA(D,ut),Z=JA(D,fn);if(ie&&Z&&(ge.rangeCount!==1||ge.anchorNode!==ie.node||ge.anchorOffset!==ie.offset||ge.focusNode!==Z.node||ge.focusOffset!==Z.offset)){var oe=Ae.createRange();oe.setStart(ie.node,ie.offset),ge.removeAllRanges(),ut>fn?(ge.addRange(oe),ge.extend(Z.node,Z.offset)):(oe.setEnd(Z.node,Z.offset),ge.addRange(oe))}}}}for(Ae=[],ge=D;ge=ge.parentNode;)ge.nodeType===1&&Ae.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<Ae.length;D++){var Ce=Ae[D];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}m1=!!Sx,Cx=Sx=null}finally{Jt=_,ke.p=b,ne.T=h}}c.current=d,Vr=2}}function f3(){if(Vr===2){Vr=0;var c=Ll,d=Ed,h=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||h){h=ne.T,ne.T=null;var b=ke.p;ke.p=2;var _=Jt;Jt|=4;try{$4(c,d.alternate,d)}finally{Jt=_,ke.p=b,ne.T=h}}Vr=3}}function h3(){if(Vr===4||Vr===3){Vr=0,wn();var c=Ll,d=Ed,h=kd,b=e3;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Vr=5:(Vr=0,Ed=Ll=null,m3(c,c.pendingLanes));var _=c.pendingLanes;if(_===0&&(Fl=null),kh(h),d=d.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Oe,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=ne.T,_=ke.p,ke.p=2,ne.T=null;try{for(var x=c.onRecoverableError,C=0;C<b.length;C++){var D=b[C];x(D.value,{componentStack:D.stack})}}finally{ne.T=d,ke.p=_}}(kd&3)!==0&&n1(),zo(c),_=c.pendingLanes,(h&4194090)!==0&&(_&42)!==0?c===fx?sm++:(sm=0,fx=c):sm=0,om(0)}}function m3(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Vh(d)))}function n1(c){return d3(),f3(),h3(),g3()}function g3(){if(Vr!==5)return!1;var c=Ll,d=ux;ux=0;var h=kh(kd),b=ne.T,_=ke.p;try{ke.p=32>h?32:h,ne.T=null,h=dx,dx=null;var x=Ll,C=kd;if(Vr=0,Ed=Ll=null,kd=0,(Jt&6)!==0)throw Error(r(331));var D=Jt;if(Jt|=4,Q4(x.current),K4(x,x.current,C,h),Jt=D,om(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Oe,x)}catch{}return!0}finally{ke.p=_,ne.T=b,m3(c,d)}}function p3(c,d,h){d=Cs(h,d),d=W_(c.stateNode,d,2),c=Cl(c,d,2),c!==null&&(xc(c,2),zo(c))}function vn(c,d,h){if(c.tag===3)p3(c,c,h);else for(;d!==null;){if(d.tag===3){p3(d,c,h);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Fl===null||!Fl.has(b))){c=Cs(h,c),h=v4(2),b=Cl(d,h,2),b!==null&&(_4(h,b,d,c),xc(b,2),zo(b));break}}d=d.return}}function px(c,d,h){var b=c.pingCache;if(b===null){b=c.pingCache=new H$;var _=new Set;b.set(d,_)}else _=b.get(d),_===void 0&&(_=new Set,b.set(d,_));_.has(h)||(ox=!0,_.add(h),c=G$.bind(null,c,d,h),d.then(c,c))}function G$(c,d,h){var b=c.pingCache;b!==null&&b.delete(d),c.pingedLanes|=c.suspendedLanes&h,c.warmLanes&=~h,kn===c&&(Ot&h)===h&&($n===4||$n===3&&(Ot&62914560)===Ot&&300>Ge()-cx?(Jt&2)===0&&Td(c,0):ax|=h,xd===Ot&&(xd=0)),zo(c)}function b3(c,d){d===0&&(d=_h()),c=ad(c,d),c!==null&&(xc(c,d),zo(c))}function Y$(c){var d=c.memoizedState,h=0;d!==null&&(h=d.retryLane),b3(c,h)}function K$(c,d){var h=0;switch(c.tag){case 13:var b=c.stateNode,_=c.memoizedState;_!==null&&(h=_.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),b3(c,h)}function X$(c,d){return zn(c,d)}var r1=null,Cd=null,bx=!1,i1=!1,yx=!1,Vc=0;function zo(c){c!==Cd&&c.next===null&&(Cd===null?r1=Cd=c:Cd=Cd.next=c),i1=!0,bx||(bx=!0,Q$())}function om(c,d){if(!yx&&i1){yx=!0;do for(var h=!1,b=r1;b!==null;){if(c!==0){var _=b.pendingLanes;if(_===0)var x=0;else{var C=b.suspendedLanes,D=b.pingedLanes;x=(1<<31-yt(42|c)+1)-1,x&=_&~(C&~D),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(h=!0,_3(b,x))}else x=Ot,x=wl(b,b===kn?x:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(x&3)===0||Do(b,x)||(h=!0,_3(b,x));b=b.next}while(h);yx=!1}}function J$(){y3()}function y3(){i1=bx=!1;var c=0;Vc!==0&&(oW()&&(c=Vc),Vc=0);for(var d=Ge(),h=null,b=r1;b!==null;){var _=b.next,x=w3(b,d);x===0?(b.next=null,h===null?r1=_:h.next=_,_===null&&(Cd=h)):(h=b,(c!==0||(x&3)!==0)&&(i1=!0)),b=_}om(c)}function w3(c,d){for(var h=c.suspendedLanes,b=c.pingedLanes,_=c.expirationTimes,x=c.pendingLanes&-62914561;0<x;){var C=31-yt(x),D=1<<C,G=_[C];G===-1?((D&h)===0||(D&b)!==0)&&(_[C]=Ju(D,d)):G<=d&&(c.expiredLanes|=D),x&=~D}if(d=kn,h=Ot,h=wl(c,c===d?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b=c.callbackNode,h===0||c===d&&(Qt===2||Qt===9)||c.cancelPendingCommit!==null)return b!==null&&b!==null&&Pt(b),c.callbackNode=null,c.callbackPriority=0;if((h&3)===0||Do(c,h)){if(d=h&-h,d===c.callbackPriority)return d;switch(b!==null&&Pt(b),kh(h)){case 2:case 8:h=qi;break;case 32:h=X;break;case 268435456:h=we;break;default:h=X}return b=v3.bind(null,c),h=zn(h,b),c.callbackPriority=d,c.callbackNode=h,d}return b!==null&&b!==null&&Pt(b),c.callbackPriority=2,c.callbackNode=null,2}function v3(c,d){if(Vr!==0&&Vr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var h=c.callbackNode;if(n1()&&c.callbackNode!==h)return null;var b=Ot;return b=wl(c,c===kn?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b===0?null:(n3(c,b,d),w3(c,Ge()),c.callbackNode!=null&&c.callbackNode===h?v3.bind(null,c):null)}function _3(c,d){if(n1())return null;n3(c,d,!0)}function Q$(){lW(function(){(Jt&6)!==0?zn(ji,J$):y3()})}function wx(){return Vc===0&&(Vc=vl()),Vc}function x3(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:gp(""+c)}function E3(c,d){var h=d.ownerDocument.createElement("input");return h.name=d.name,h.value=d.value,c.id&&h.setAttribute("form",c.id),d.parentNode.insertBefore(h,d),c=new FormData(c),h.parentNode.removeChild(h),c}function Z$(c,d,h,b,_){if(d==="submit"&&h&&h.stateNode===_){var x=x3((_[Cr]||null).action),C=b.submitter;C&&(d=(d=C[Cr]||null)?x3(d.formAction):C.getAttribute("formAction"),d!==null&&(x=d,C=null));var D=new wp("action","action",null,b,_);c.push({event:D,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Vc!==0){var G=C?E3(_,C):new FormData(_);V_(h,{pending:!0,data:G,method:_.method,action:x},null,G)}}else typeof x=="function"&&(D.preventDefault(),G=C?E3(_,C):new FormData(_),V_(h,{pending:!0,data:G,method:_.method,action:x},x,G))},currentTarget:_}]})}}for(var vx=0;vx<i_.length;vx++){var _x=i_[vx],eW=_x.toLowerCase(),tW=_x[0].toUpperCase()+_x.slice(1);no(eW,"on"+tW)}no(n5,"onAnimationEnd"),no(r5,"onAnimationIteration"),no(i5,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(y$,"onTransitionRun"),no(w$,"onTransitionStart"),no(v$,"onTransitionCancel"),no(s5,"onTransitionEnd"),Ue("onMouseEnter",["mouseout","mouseover"]),Ue("onMouseLeave",["mouseout","mouseover"]),Ue("onPointerEnter",["pointerout","pointerover"]),Ue("onPointerLeave",["pointerout","pointerover"]),Re("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Re("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Re("onBeforeInput",["compositionend","keypress","textInput","paste"]),Re("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var am="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(am));function k3(c,d){d=(d&4)!==0;for(var h=0;h<c.length;h++){var b=c[h],_=b.event;b=b.listeners;e:{var x=void 0;if(d)for(var C=b.length-1;0<=C;C--){var D=b[C],G=D.instance,ae=D.currentTarget;if(D=D.listener,G!==x&&_.isPropagationStopped())break e;x=D,_.currentTarget=ae;try{x(_)}catch(Se){jp(Se)}_.currentTarget=null,x=G}else for(C=0;C<b.length;C++){if(D=b[C],G=D.instance,ae=D.currentTarget,D=D.listener,G!==x&&_.isPropagationStopped())break e;x=D,_.currentTarget=ae;try{x(_)}catch(Se){jp(Se)}_.currentTarget=null,x=G}}}}function At(c,d){var h=d[Th];h===void 0&&(h=d[Th]=new Set);var b=c+"__bubble";h.has(b)||(T3(d,c,2,!1),h.add(b))}function xx(c,d,h){var b=0;d&&(b|=4),T3(h,c,b,d)}var s1="_reactListening"+Math.random().toString(36).slice(2);function Ex(c){if(!c[s1]){c[s1]=!0,de.forEach(function(h){h!=="selectionchange"&&(nW.has(h)||xx(h,!1,c),xx(h,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[s1]||(d[s1]=!0,xx("selectionchange",!1,d))}}function T3(c,d,h,b){switch(K3(d)){case 2:var _=NW;break;case 8:_=PW;break;default:_=Lx}h=_.bind(null,d,h,c),_=void 0,!jv||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),b?_!==void 0?c.addEventListener(d,h,{capture:!0,passive:_}):c.addEventListener(d,h,!0):_!==void 0?c.addEventListener(d,h,{passive:_}):c.addEventListener(d,h,!1)}function kx(c,d,h,b,_){var x=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var C=b.tag;if(C===3||C===4){var D=b.stateNode.containerInfo;if(D===_)break;if(C===4)for(C=b.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===_)return;C=C.return}for(;D!==null;){if(C=z(D),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){b=x=C;continue e}D=D.parentNode}}b=b.return}RA(function(){var ae=x,Se=$v(h),Ae=[];e:{var fe=o5.get(c);if(fe!==void 0){var ge=wp,ht=c;switch(c){case"keypress":if(bp(h)===0)break e;case"keydown":case"keyup":ge=XH;break;case"focusin":ht="focus",ge=Kv;break;case"focusout":ht="blur",ge=Kv;break;case"beforeblur":case"afterblur":ge=Kv;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=DA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=BH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=ZH;break;case n5:case r5:case i5:ge=zH;break;case s5:ge=t$;break;case"scroll":case"scrollend":ge=FH;break;case"wheel":ge=r$;break;case"copy":case"cut":case"paste":ge=$H;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=LA;break;case"toggle":case"beforetoggle":ge=s$}var ut=(d&4)!==0,fn=!ut&&(c==="scroll"||c==="scrollend"),ie=ut?fe!==null?fe+"Capture":null:fe;ut=[];for(var Z=ae,oe;Z!==null;){var Ce=Z;if(oe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||oe===null||ie===null||(Ce=Sh(Z,ie),Ce!=null&&ut.push(lm(Z,Ce,oe))),fn)break;Z=Z.return}0<ut.length&&(fe=new ge(fe,ht,null,h,Se),Ae.push({event:fe,listeners:ut}))}}if((d&7)===0){e:{if(fe=c==="mouseover"||c==="pointerover",ge=c==="mouseout"||c==="pointerout",fe&&h!==Hv&&(ht=h.relatedTarget||h.fromElement)&&(z(ht)||ht[_l]))break e;if((ge||fe)&&(fe=Se.window===Se?Se:(fe=Se.ownerDocument)?fe.defaultView||fe.parentWindow:window,ge?(ht=h.relatedTarget||h.toElement,ge=ae,ht=ht?z(ht):null,ht!==null&&(fn=s(ht),ut=ht.tag,ht!==fn||ut!==5&&ut!==27&&ut!==6)&&(ht=null)):(ge=null,ht=ae),ge!==ht)){if(ut=DA,Ce="onMouseLeave",ie="onMouseEnter",Z="mouse",(c==="pointerout"||c==="pointerover")&&(ut=LA,Ce="onPointerLeave",ie="onPointerEnter",Z="pointer"),fn=ge==null?fe:ce(ge),oe=ht==null?fe:ce(ht),fe=new ut(Ce,Z+"leave",ge,h,Se),fe.target=fn,fe.relatedTarget=oe,Ce=null,z(Se)===ae&&(ut=new ut(ie,Z+"enter",ht,h,Se),ut.target=oe,ut.relatedTarget=fn,Ce=ut),fn=Ce,ge&&ht)t:{for(ut=ge,ie=ht,Z=0,oe=ut;oe;oe=Ad(oe))Z++;for(oe=0,Ce=ie;Ce;Ce=Ad(Ce))oe++;for(;0<Z-oe;)ut=Ad(ut),Z--;for(;0<oe-Z;)ie=Ad(ie),oe--;for(;Z--;){if(ut===ie||ie!==null&&ut===ie.alternate)break t;ut=Ad(ut),ie=Ad(ie)}ut=null}else ut=null;ge!==null&&S3(Ae,fe,ge,ut,!1),ht!==null&&fn!==null&&S3(Ae,fn,ht,ut,!0)}}e:{if(fe=ae?ce(ae):window,ge=fe.nodeName&&fe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&fe.type==="file")var it=jA;else if($A(fe))if(qA)it=g$;else{it=h$;var St=f$}else ge=fe.nodeName,!ge||ge.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ae&&zv(ae.elementType)&&(it=jA):it=m$;if(it&&(it=it(c,ae))){WA(Ae,it,h,Se);break e}St&&St(c,fe,ae),c==="focusout"&&ae&&fe.type==="number"&&ae.memoizedProps.value!=null&&Uv(fe,"number",fe.value)}switch(St=ae?ce(ae):window,c){case"focusin":($A(St)||St.contentEditable==="true")&&(id=St,t_=ae,Mh=null);break;case"focusout":Mh=t_=id=null;break;case"mousedown":n_=!0;break;case"contextmenu":case"mouseup":case"dragend":n_=!1,e5(Ae,h,Se);break;case"selectionchange":if(b$)break;case"keydown":case"keyup":e5(Ae,h,Se)}var at;if(Jv)e:{switch(c){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else rd?zA(c,h)&&(dt="onCompositionEnd"):c==="keydown"&&h.keyCode===229&&(dt="onCompositionStart");dt&&(BA&&h.locale!=="ko"&&(rd||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&rd&&(at=OA()):(El=Se,qv="value"in El?El.value:El.textContent,rd=!0)),St=o1(ae,dt),0<St.length&&(dt=new FA(dt,c,null,h,Se),Ae.push({event:dt,listeners:St}),at?dt.data=at:(at=HA(h),at!==null&&(dt.data=at)))),(at=a$?l$(c,h):c$(c,h))&&(dt=o1(ae,"onBeforeInput"),0<dt.length&&(St=new FA("onBeforeInput","beforeinput",null,h,Se),Ae.push({event:St,listeners:dt}),St.data=at)),Z$(Ae,c,ae,h,Se)}k3(Ae,d)})}function lm(c,d,h){return{instance:c,listener:d,currentTarget:h}}function o1(c,d){for(var h=d+"Capture",b=[];c!==null;){var _=c,x=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||x===null||(_=Sh(c,h),_!=null&&b.unshift(lm(c,_,x)),_=Sh(c,d),_!=null&&b.push(lm(c,_,x))),c.tag===3)return b;c=c.return}return[]}function Ad(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function S3(c,d,h,b,_){for(var x=d._reactName,C=[];h!==null&&h!==b;){var D=h,G=D.alternate,ae=D.stateNode;if(D=D.tag,G!==null&&G===b)break;D!==5&&D!==26&&D!==27||ae===null||(G=ae,_?(ae=Sh(h,x),ae!=null&&C.unshift(lm(h,ae,G))):_||(ae=Sh(h,x),ae!=null&&C.push(lm(h,ae,G)))),h=h.return}C.length!==0&&c.push({event:d,listeners:C})}var rW=/\r\n?/g,iW=/\u0000|\uFFFD/g;function C3(c){return(typeof c=="string"?c:""+c).replace(rW,`
`).replace(iW,"")}function A3(c,d){return d=C3(d),C3(c)===d}function a1(){}function dn(c,d,h,b,_,x){switch(h){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||ed(c,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&ed(c,""+b);break;case"className":cn(c,"class",b);break;case"tabIndex":cn(c,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(c,h,b);break;case"style":PA(c,b,x);break;case"data":if(d!=="object"){cn(c,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||h!=="href")){c.removeAttribute(h);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(h);break}b=gp(""+b),c.setAttribute(h,b);break;case"action":case"formAction":if(typeof b=="function"){c.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(h==="formAction"?(d!=="input"&&dn(c,d,"name",_.name,_,null),dn(c,d,"formEncType",_.formEncType,_,null),dn(c,d,"formMethod",_.formMethod,_,null),dn(c,d,"formTarget",_.formTarget,_,null)):(dn(c,d,"encType",_.encType,_,null),dn(c,d,"method",_.method,_,null),dn(c,d,"target",_.target,_,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(h);break}b=gp(""+b),c.setAttribute(h,b);break;case"onClick":b!=null&&(c.onclick=a1);break;case"onScroll":b!=null&&At("scroll",c);break;case"onScrollEnd":b!=null&&At("scrollend",c);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=h}}break;case"multiple":c.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":c.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){c.removeAttribute("xlink:href");break}h=gp(""+b),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(h,""+b):c.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(h,""):c.removeAttribute(h);break;case"capture":case"download":b===!0?c.setAttribute(h,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(h,b):c.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?c.setAttribute(h,b):c.removeAttribute(h);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?c.removeAttribute(h):c.setAttribute(h,b);break;case"popover":At("beforetoggle",c),At("toggle",c),ln(c,"popover",b);break;case"xlinkActuate":En(c,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":En(c,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":En(c,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":En(c,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":En(c,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":En(c,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":En(c,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":En(c,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":En(c,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ln(c,"is",b);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=MH.get(h)||h,ln(c,h,b))}}function Tx(c,d,h,b,_,x){switch(h){case"style":PA(c,b,x);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=h}}break;case"children":typeof b=="string"?ed(c,b):(typeof b=="number"||typeof b=="bigint")&&ed(c,""+b);break;case"onScroll":b!=null&&At("scroll",c);break;case"onScrollEnd":b!=null&&At("scrollend",c);break;case"onClick":b!=null&&(c.onclick=a1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!me.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),d=h.slice(2,_?h.length-7:void 0),x=c[Cr]||null,x=x!=null?x[h]:null,typeof x=="function"&&c.removeEventListener(d,x,_),typeof b=="function")){typeof x!="function"&&x!==null&&(h in c?c[h]=null:c.hasAttribute(h)&&c.removeAttribute(h)),c.addEventListener(d,b,_);break e}h in c?c[h]=b:b===!0?c.setAttribute(h,""):ln(c,h,b)}}}function Ur(c,d,h){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",c),At("load",c);var b=!1,_=!1,x;for(x in h)if(h.hasOwnProperty(x)){var C=h[x];if(C!=null)switch(x){case"src":b=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:dn(c,d,x,C,h,null)}}_&&dn(c,d,"srcSet",h.srcSet,h,null),b&&dn(c,d,"src",h.src,h,null);return;case"input":At("invalid",c);var D=x=C=_=null,G=null,ae=null;for(b in h)if(h.hasOwnProperty(b)){var Se=h[b];if(Se!=null)switch(b){case"name":_=Se;break;case"type":C=Se;break;case"checked":G=Se;break;case"defaultChecked":ae=Se;break;case"value":x=Se;break;case"defaultValue":D=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,d));break;default:dn(c,d,b,Se,h,null)}}SA(c,x,D,G,ae,C,_,!1),hp(c);return;case"select":At("invalid",c),b=C=x=null;for(_ in h)if(h.hasOwnProperty(_)&&(D=h[_],D!=null))switch(_){case"value":x=D;break;case"defaultValue":C=D;break;case"multiple":b=D;default:dn(c,d,_,D,h,null)}d=x,h=C,c.multiple=!!b,d!=null?Zu(c,!!b,d,!1):h!=null&&Zu(c,!!b,h,!0);return;case"textarea":At("invalid",c),x=_=b=null;for(C in h)if(h.hasOwnProperty(C)&&(D=h[C],D!=null))switch(C){case"value":b=D;break;case"defaultValue":_=D;break;case"children":x=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:dn(c,d,C,D,h,null)}AA(c,b,_,x),hp(c);return;case"option":for(G in h)if(h.hasOwnProperty(G)&&(b=h[G],b!=null))switch(G){case"selected":c.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:dn(c,d,G,b,h,null)}return;case"dialog":At("beforetoggle",c),At("toggle",c),At("cancel",c),At("close",c);break;case"iframe":case"object":At("load",c);break;case"video":case"audio":for(b=0;b<am.length;b++)At(am[b],c);break;case"image":At("error",c),At("load",c);break;case"details":At("toggle",c);break;case"embed":case"source":case"link":At("error",c),At("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in h)if(h.hasOwnProperty(ae)&&(b=h[ae],b!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:dn(c,d,ae,b,h,null)}return;default:if(zv(d)){for(Se in h)h.hasOwnProperty(Se)&&(b=h[Se],b!==void 0&&Tx(c,d,Se,b,h,void 0));return}}for(D in h)h.hasOwnProperty(D)&&(b=h[D],b!=null&&dn(c,d,D,b,h,null))}function sW(c,d,h,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,x=null,C=null,D=null,G=null,ae=null,Se=null;for(ge in h){var Ae=h[ge];if(h.hasOwnProperty(ge)&&Ae!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":G=Ae;default:b.hasOwnProperty(ge)||dn(c,d,ge,null,b,Ae)}}for(var fe in b){var ge=b[fe];if(Ae=h[fe],b.hasOwnProperty(fe)&&(ge!=null||Ae!=null))switch(fe){case"type":x=ge;break;case"name":_=ge;break;case"checked":ae=ge;break;case"defaultChecked":Se=ge;break;case"value":C=ge;break;case"defaultValue":D=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,d));break;default:ge!==Ae&&dn(c,d,fe,ge,b,Ae)}}Vv(c,C,D,G,ae,Se,x,_);return;case"select":ge=C=D=fe=null;for(x in h)if(G=h[x],h.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":ge=G;default:b.hasOwnProperty(x)||dn(c,d,x,null,b,G)}for(_ in b)if(x=b[_],G=h[_],b.hasOwnProperty(_)&&(x!=null||G!=null))switch(_){case"value":fe=x;break;case"defaultValue":D=x;break;case"multiple":C=x;default:x!==G&&dn(c,d,_,x,b,G)}d=D,h=C,b=ge,fe!=null?Zu(c,!!h,fe,!1):!!b!=!!h&&(d!=null?Zu(c,!!h,d,!0):Zu(c,!!h,h?[]:"",!1));return;case"textarea":ge=fe=null;for(D in h)if(_=h[D],h.hasOwnProperty(D)&&_!=null&&!b.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:dn(c,d,D,null,b,_)}for(C in b)if(_=b[C],x=h[C],b.hasOwnProperty(C)&&(_!=null||x!=null))switch(C){case"value":fe=_;break;case"defaultValue":ge=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==x&&dn(c,d,C,_,b,x)}CA(c,fe,ge);return;case"option":for(var ht in h)if(fe=h[ht],h.hasOwnProperty(ht)&&fe!=null&&!b.hasOwnProperty(ht))switch(ht){case"selected":c.selected=!1;break;default:dn(c,d,ht,null,b,fe)}for(G in b)if(fe=b[G],ge=h[G],b.hasOwnProperty(G)&&fe!==ge&&(fe!=null||ge!=null))switch(G){case"selected":c.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:dn(c,d,G,fe,b,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in h)fe=h[ut],h.hasOwnProperty(ut)&&fe!=null&&!b.hasOwnProperty(ut)&&dn(c,d,ut,null,b,fe);for(ae in b)if(fe=b[ae],ge=h[ae],b.hasOwnProperty(ae)&&fe!==ge&&(fe!=null||ge!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,d));break;default:dn(c,d,ae,fe,b,ge)}return;default:if(zv(d)){for(var fn in h)fe=h[fn],h.hasOwnProperty(fn)&&fe!==void 0&&!b.hasOwnProperty(fn)&&Tx(c,d,fn,void 0,b,fe);for(Se in b)fe=b[Se],ge=h[Se],!b.hasOwnProperty(Se)||fe===ge||fe===void 0&&ge===void 0||Tx(c,d,Se,fe,b,ge);return}}for(var ie in h)fe=h[ie],h.hasOwnProperty(ie)&&fe!=null&&!b.hasOwnProperty(ie)&&dn(c,d,ie,null,b,fe);for(Ae in b)fe=b[Ae],ge=h[Ae],!b.hasOwnProperty(Ae)||fe===ge||fe==null&&ge==null||dn(c,d,Ae,fe,b,ge)}var Sx=null,Cx=null;function l1(c){return c.nodeType===9?c:c.ownerDocument}function N3(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P3(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function Ax(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Nx=null;function oW(){var c=window.event;return c&&c.type==="popstate"?c===Nx?!1:(Nx=c,!0):(Nx=null,!1)}var I3=typeof setTimeout=="function"?setTimeout:void 0,aW=typeof clearTimeout=="function"?clearTimeout:void 0,R3=typeof Promise=="function"?Promise:void 0,lW=typeof queueMicrotask=="function"?queueMicrotask:typeof R3<"u"?function(c){return R3.resolve(null).then(c).catch(cW)}:I3;function cW(c){setTimeout(function(){throw c})}function Vl(c){return c==="head"}function O3(c,d){var h=d,b=0,_=0;do{var x=h.nextSibling;if(c.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(0<b&&8>b){h=b;var C=c.ownerDocument;if(h&1&&cm(C.documentElement),h&2&&cm(C.body),h&4)for(h=C.head,cm(h),C=h.firstChild;C;){var D=C.nextSibling,G=C.nodeName;C[L]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=D}}if(_===0){c.removeChild(x),bm(d);return}_--}else h==="$"||h==="$?"||h==="$!"?_++:b=h.charCodeAt(0)-48;else b=0;h=x}while(h);bm(d)}function Px(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var h=d;switch(d=d.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Px(h),B(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}c.removeChild(h)}}function uW(c,d,h,b){for(;c.nodeType===1;){var _=h;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(b){if(!c[L])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(x=c.getAttribute("rel"),x==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(x!==_.rel||c.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||c.getAttribute("title")!==(_.title==null?null:_.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(x=c.getAttribute("src"),(x!==(_.src==null?null:_.src)||c.getAttribute("type")!==(_.type==null?null:_.type)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&x&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var x=_.name==null?null:""+_.name;if(_.type==="hidden"&&c.getAttribute("name")===x)return c}else return c;if(c=io(c.nextSibling),c===null)break}return null}function dW(c,d,h){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=io(c.nextSibling),c===null))return null;return c}function Ix(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function fW(c,d){var h=c.ownerDocument;if(c.data!=="$?"||h.readyState==="complete")d();else{var b=function(){d(),h.removeEventListener("DOMContentLoaded",b)};h.addEventListener("DOMContentLoaded",b),c._reactRetry=b}}function io(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}var Rx=null;function M3(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var h=c.data;if(h==="$"||h==="$!"||h==="$?"){if(d===0)return c;d--}else h==="/$"&&d++}c=c.previousSibling}return null}function D3(c,d,h){switch(d=l1(h),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function cm(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);B(c)}var Os=new Map,F3=new Set;function c1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Oa=ke.d;ke.d={f:hW,r:mW,D:gW,C:pW,L:bW,m:yW,X:vW,S:wW,M:_W};function hW(){var c=Oa.f(),d=e1();return c||d}function mW(c){var d=W(c);d!==null&&d.tag===5&&d.type==="form"?n4(d):Oa.r(c)}var Nd=typeof document>"u"?null:document;function L3(c,d,h){var b=Nd;if(b&&typeof d=="string"&&d){var _=Ss(d);_='link[rel="'+c+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),F3.has(_)||(F3.add(_),c={rel:c,crossOrigin:h,href:d},b.querySelector(_)===null&&(d=b.createElement("link"),Ur(d,"link",c),se(d),b.head.appendChild(d)))}}function gW(c){Oa.D(c),L3("dns-prefetch",c,null)}function pW(c,d){Oa.C(c,d),L3("preconnect",c,d)}function bW(c,d,h){Oa.L(c,d,h);var b=Nd;if(b&&c&&d){var _='link[rel="preload"][as="'+Ss(d)+'"]';d==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+Ss(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+Ss(h.imageSizes)+'"]')):_+='[href="'+Ss(c)+'"]';var x=_;switch(d){case"style":x=Pd(c);break;case"script":x=Id(c)}Os.has(x)||(c=f({rel:"preload",href:d==="image"&&h&&h.imageSrcSet?void 0:c,as:d},h),Os.set(x,c),b.querySelector(_)!==null||d==="style"&&b.querySelector(um(x))||d==="script"&&b.querySelector(dm(x))||(d=b.createElement("link"),Ur(d,"link",c),se(d),b.head.appendChild(d)))}}function yW(c,d){Oa.m(c,d);var h=Nd;if(h&&c){var b=d&&typeof d.as=="string"?d.as:"script",_='link[rel="modulepreload"][as="'+Ss(b)+'"][href="'+Ss(c)+'"]',x=_;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Id(c)}if(!Os.has(x)&&(c=f({rel:"modulepreload",href:c},d),Os.set(x,c),h.querySelector(_)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(dm(x)))return}b=h.createElement("link"),Ur(b,"link",c),se(b),h.head.appendChild(b)}}}function wW(c,d,h){Oa.S(c,d,h);var b=Nd;if(b&&c){var _=ve(b).hoistableStyles,x=Pd(c);d=d||"default";var C=_.get(x);if(!C){var D={loading:0,preload:null};if(C=b.querySelector(um(x)))D.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":d},h),(h=Os.get(x))&&Ox(c,h);var G=C=b.createElement("link");se(G),Ur(G,"link",c),G._p=new Promise(function(ae,Se){G.onload=ae,G.onerror=Se}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,u1(C,d,b)}C={type:"stylesheet",instance:C,count:1,state:D},_.set(x,C)}}}function vW(c,d){Oa.X(c,d);var h=Nd;if(h&&c){var b=ve(h).hoistableScripts,_=Id(c),x=b.get(_);x||(x=h.querySelector(dm(_)),x||(c=f({src:c,async:!0},d),(d=Os.get(_))&&Mx(c,d),x=h.createElement("script"),se(x),Ur(x,"link",c),h.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},b.set(_,x))}}function _W(c,d){Oa.M(c,d);var h=Nd;if(h&&c){var b=ve(h).hoistableScripts,_=Id(c),x=b.get(_);x||(x=h.querySelector(dm(_)),x||(c=f({src:c,async:!0,type:"module"},d),(d=Os.get(_))&&Mx(c,d),x=h.createElement("script"),se(x),Ur(x,"link",c),h.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},b.set(_,x))}}function B3(c,d,h,b){var _=(_=ue.current)?c1(_):null;if(!_)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(d=Pd(h.href),h=ve(_).hoistableStyles,b=h.get(d),b||(b={type:"style",instance:null,count:0,state:null},h.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){c=Pd(h.href);var x=ve(_).hoistableStyles,C=x.get(c);if(C||(_=_.ownerDocument||_,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(c,C),(x=_.querySelector(um(c)))&&!x._p&&(C.instance=x,C.state.loading=5),Os.has(c)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Os.set(c,h),x||xW(_,c,h,C.state))),d&&b===null)throw Error(r(528,""));return C}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=h.async,h=h.src,typeof h=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Id(h),h=ve(_).hoistableScripts,b=h.get(d),b||(b={type:"script",instance:null,count:0,state:null},h.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Pd(c){return'href="'+Ss(c)+'"'}function um(c){return'link[rel="stylesheet"]['+c+"]"}function V3(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function xW(c,d,h,b){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=c.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),Ur(d,"link",h),se(d),c.head.appendChild(d))}function Id(c){return'[src="'+Ss(c)+'"]'}function dm(c){return"script[async]"+c}function U3(c,d,h){if(d.count++,d.instance===null)switch(d.type){case"style":var b=c.querySelector('style[data-href~="'+Ss(h.href)+'"]');if(b)return d.instance=b,se(b),b;var _=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return b=(c.ownerDocument||c).createElement("style"),se(b),Ur(b,"style",_),u1(b,h.precedence,c),d.instance=b;case"stylesheet":_=Pd(h.href);var x=c.querySelector(um(_));if(x)return d.state.loading|=4,d.instance=x,se(x),x;b=V3(h),(_=Os.get(_))&&Ox(b,_),x=(c.ownerDocument||c).createElement("link"),se(x);var C=x;return C._p=new Promise(function(D,G){C.onload=D,C.onerror=G}),Ur(x,"link",b),d.state.loading|=4,u1(x,h.precedence,c),d.instance=x;case"script":return x=Id(h.src),(_=c.querySelector(dm(x)))?(d.instance=_,se(_),_):(b=h,(_=Os.get(x))&&(b=f({},h),Mx(b,_)),c=c.ownerDocument||c,_=c.createElement("script"),se(_),Ur(_,"link",b),c.head.appendChild(_),d.instance=_);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,u1(b,h.precedence,c));return d.instance}function u1(c,d,h){for(var b=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=b.length?b[b.length-1]:null,x=_,C=0;C<b.length;C++){var D=b[C];if(D.dataset.precedence===d)x=D;else if(x!==_)break}x?x.parentNode.insertBefore(c,x.nextSibling):(d=h.nodeType===9?h.head:h,d.insertBefore(c,d.firstChild))}function Ox(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function Mx(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var d1=null;function z3(c,d,h){if(d1===null){var b=new Map,_=d1=new Map;_.set(h,b)}else _=d1,b=_.get(h),b||(b=new Map,_.set(h,b));if(b.has(c))return b;for(b.set(c,null),h=h.getElementsByTagName(c),_=0;_<h.length;_++){var x=h[_];if(!(x[L]||x[Sr]||c==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(d)||"";C=c+C;var D=b.get(C);D?D.push(x):b.set(C,[x])}}return b}function H3(c,d,h){c=c.ownerDocument||c,c.head.insertBefore(h,d==="title"?c.querySelector("head > title"):null)}function EW(c,d,h){if(h===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function $3(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var fm=null;function kW(){}function TW(c,d,h){if(fm===null)throw Error(r(475));var b=fm;if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=Pd(h.href),x=c.querySelector(um(_));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(b.count++,b=f1.bind(b),c.then(b,b)),d.state.loading|=4,d.instance=x,se(x);return}x=c.ownerDocument||c,h=V3(h),(_=Os.get(_))&&Ox(h,_),x=x.createElement("link"),se(x);var C=x;C._p=new Promise(function(D,G){C.onload=D,C.onerror=G}),Ur(x,"link",h),d.instance=x}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(b.count++,d=f1.bind(b),c.addEventListener("load",d),c.addEventListener("error",d))}}function SW(){if(fm===null)throw Error(r(475));var c=fm;return c.stylesheets&&c.count===0&&Dx(c,c.stylesheets),0<c.count?function(d){var h=setTimeout(function(){if(c.stylesheets&&Dx(c,c.stylesheets),c.unsuspend){var b=c.unsuspend;c.unsuspend=null,b()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(h)}}:null}function f1(){if(this.count--,this.count===0){if(this.stylesheets)Dx(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var h1=null;function Dx(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,h1=new Map,d.forEach(CW,c),h1=null,f1.call(c))}function CW(c,d){if(!(d.state.loading&4)){var h=h1.get(c);if(h)var b=h.get(null);else{h=new Map,h1.set(c,h);for(var _=c.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<_.length;x++){var C=_[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(h.set(C.dataset.precedence,C),b=C)}b&&h.set(null,b)}_=d.instance,C=_.getAttribute("data-precedence"),x=h.get(C)||b,x===b&&h.set(null,_),h.set(C,_),this.count++,b=f1.bind(this),_.addEventListener("load",b),_.addEventListener("error",b),x?x.parentNode.insertBefore(_,x.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(_,c.firstChild)),d.state.loading|=4}}var hm={$$typeof:S,Provider:null,Consumer:null,_currentValue:We,_currentValue2:We,_threadCount:0};function AW(c,d,h,b,_,x,C,D){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.hiddenUpdates=xh(null),this.identifierPrefix=b,this.onUncaughtError=_,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function W3(c,d,h,b,_,x,C,D,G,ae,Se,Ae){return c=new AW(c,d,h,C,D,G,ae,Ae),d=1,x===!0&&(d|=24),x=Ki(3,null,null,d),c.current=x,x.stateNode=c,d=p_(),d.refCount++,c.pooledCache=d,d.refCount++,x.memoizedState={element:b,isDehydrated:h,cache:d},v_(x),c}function j3(c){return c?(c=ld,c):ld}function q3(c,d,h,b,_,x){_=j3(_),b.context===null?b.context=_:b.pendingContext=_,b=Sl(d),b.payload={element:h},x=x===void 0?null:x,x!==null&&(b.callback=x),h=Cl(c,b,d),h!==null&&(es(h,c,d),$h(h,c,d))}function G3(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var h=c.retryLane;c.retryLane=h!==0&&h<d?h:d}}function Fx(c,d){G3(c,d),(c=c.alternate)&&G3(c,d)}function Y3(c){if(c.tag===13){var d=ad(c,67108864);d!==null&&es(d,c,67108864),Fx(c,67108864)}}var m1=!0;function NW(c,d,h,b){var _=ne.T;ne.T=null;var x=ke.p;try{ke.p=2,Lx(c,d,h,b)}finally{ke.p=x,ne.T=_}}function PW(c,d,h,b){var _=ne.T;ne.T=null;var x=ke.p;try{ke.p=8,Lx(c,d,h,b)}finally{ke.p=x,ne.T=_}}function Lx(c,d,h,b){if(m1){var _=Bx(b);if(_===null)kx(c,d,b,g1,h),X3(c,b);else if(RW(_,c,d,h,b))b.stopPropagation();else if(X3(c,b),d&4&&-1<IW.indexOf(c)){for(;_!==null;){var x=W(_);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=Ti(x.pendingLanes);if(C!==0){var D=x;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var G=1<<31-yt(C);D.entanglements[1]|=G,C&=~G}zo(x),(Jt&6)===0&&(Qp=Ge()+500,om(0))}}break;case 13:D=ad(x,2),D!==null&&es(D,x,2),e1(),Fx(x,2)}if(x=Bx(b),x===null&&kx(c,d,b,g1,h),x===_)break;_=x}_!==null&&b.stopPropagation()}else kx(c,d,b,null,h)}}function Bx(c){return c=$v(c),Vx(c)}var g1=null;function Vx(c){if(g1=null,c=z(c),c!==null){var d=s(c);if(d===null)c=null;else{var h=d.tag;if(h===13){if(c=o(d),c!==null)return c;c=null}else if(h===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return g1=c,null}function K3(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case ji:return 2;case qi:return 8;case X:case le:return 32;case we:return 268435456;default:return 32}default:return 32}}var Ux=!1,Ul=null,zl=null,Hl=null,mm=new Map,gm=new Map,$l=[],IW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X3(c,d){switch(c){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":mm.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":gm.delete(d.pointerId)}}function pm(c,d,h,b,_,x){return c===null||c.nativeEvent!==x?(c={blockedOn:d,domEventName:h,eventSystemFlags:b,nativeEvent:x,targetContainers:[_]},d!==null&&(d=W(d),d!==null&&Y3(d)),c):(c.eventSystemFlags|=b,d=c.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),c)}function RW(c,d,h,b,_){switch(d){case"focusin":return Ul=pm(Ul,c,d,h,b,_),!0;case"dragenter":return zl=pm(zl,c,d,h,b,_),!0;case"mouseover":return Hl=pm(Hl,c,d,h,b,_),!0;case"pointerover":var x=_.pointerId;return mm.set(x,pm(mm.get(x)||null,c,d,h,b,_)),!0;case"gotpointercapture":return x=_.pointerId,gm.set(x,pm(gm.get(x)||null,c,d,h,b,_)),!0}return!1}function J3(c){var d=z(c.target);if(d!==null){var h=s(d);if(h!==null){if(d=h.tag,d===13){if(d=o(h),d!==null){c.blockedOn=d,Lv(c.priority,function(){if(h.tag===13){var b=Zi();b=Eh(b);var _=ad(h,b);_!==null&&es(_,h,b),Fx(h,b)}});return}}else if(d===3&&h.stateNode.current.memoizedState.isDehydrated){c.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}c.blockedOn=null}function p1(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var h=Bx(c.nativeEvent);if(h===null){h=c.nativeEvent;var b=new h.constructor(h.type,h);Hv=b,h.target.dispatchEvent(b),Hv=null}else return d=W(h),d!==null&&Y3(d),c.blockedOn=h,!1;d.shift()}return!0}function Q3(c,d,h){p1(c)&&h.delete(d)}function OW(){Ux=!1,Ul!==null&&p1(Ul)&&(Ul=null),zl!==null&&p1(zl)&&(zl=null),Hl!==null&&p1(Hl)&&(Hl=null),mm.forEach(Q3),gm.forEach(Q3)}function b1(c,d){c.blockedOn===d&&(c.blockedOn=null,Ux||(Ux=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,OW)))}var y1=null;function Z3(c){y1!==c&&(y1=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){y1===c&&(y1=null);for(var d=0;d<c.length;d+=3){var h=c[d],b=c[d+1],_=c[d+2];if(typeof b!="function"){if(Vx(b||h)===null)continue;break}var x=W(h);x!==null&&(c.splice(d,3),d-=3,V_(x,{pending:!0,data:_,method:h.method,action:b},b,_))}}))}function bm(c){function d(G){return b1(G,c)}Ul!==null&&b1(Ul,c),zl!==null&&b1(zl,c),Hl!==null&&b1(Hl,c),mm.forEach(d),gm.forEach(d);for(var h=0;h<$l.length;h++){var b=$l[h];b.blockedOn===c&&(b.blockedOn=null)}for(;0<$l.length&&(h=$l[0],h.blockedOn===null);)J3(h),h.blockedOn===null&&$l.shift();if(h=(c.ownerDocument||c).$$reactFormReplay,h!=null)for(b=0;b<h.length;b+=3){var _=h[b],x=h[b+1],C=_[Cr]||null;if(typeof x=="function")C||Z3(h);else if(C){var D=null;if(x&&x.hasAttribute("formAction")){if(_=x,C=x[Cr]||null)D=C.formAction;else if(Vx(_)!==null)continue}else D=C.action;typeof D=="function"?h[b+1]=D:(h.splice(b,3),b-=3),Z3(h)}}}function zx(c){this._internalRoot=c}w1.prototype.render=zx.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var h=d.current,b=Zi();q3(h,b,c,d,null,null)},w1.prototype.unmount=zx.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;q3(c.current,2,null,c,null,null),e1(),d[_l]=null}};function w1(c){this._internalRoot=c}w1.prototype.unstable_scheduleHydration=function(c){if(c){var d=fp();c={blockedOn:null,target:c,priority:d};for(var h=0;h<$l.length&&d!==0&&d<$l[h].priority;h++);$l.splice(h,0,c),h===0&&J3(c)}};var eN=e.version;if(eN!=="19.1.0")throw Error(r(527,eN,"19.1.0"));ke.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=l(d),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var MW={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v1.isDisabled&&v1.supportsFiber)try{Oe=v1.inject(MW),Ze=v1}catch{}}return ym.createRoot=function(c,d){if(!i(c))throw Error(r(299));var h=!1,b="",_=p4,x=b4,C=y4,D=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(x=d.onCaughtError),d.onRecoverableError!==void 0&&(C=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(D=d.unstable_transitionCallbacks)),d=W3(c,1,!1,null,null,h,b,_,x,C,D,null),c[_l]=d.current,Ex(c),new zx(d)},ym.hydrateRoot=function(c,d,h){if(!i(c))throw Error(r(299));var b=!1,_="",x=p4,C=b4,D=y4,G=null,ae=null;return h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(x=h.onUncaughtError),h.onCaughtError!==void 0&&(C=h.onCaughtError),h.onRecoverableError!==void 0&&(D=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(G=h.unstable_transitionCallbacks),h.formState!==void 0&&(ae=h.formState)),d=W3(c,1,!0,d,h??null,b,_,x,C,D,G,ae),d.context=j3(null),h=d.current,b=Zi(),b=Eh(b),_=Sl(b),_.callback=null,Cl(h,_,b),h=b,d.current.lanes=h,xc(d,h),zo(d),c[_l]=d.current,Ex(c),new w1(d)},ym.version="19.1.0",ym}var cN;function WW(){if(cN)return $x.exports;cN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$x.exports=$W(),$x.exports}var jW=WW(),wm={},uN;function qW(){if(uN)return wm;uN=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.parse=o,wm.serialize=u;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,y){const v=new s,w=p.length;if(w<2)return v;const E=y?.decode||f;let k=0;do{const T=p.indexOf("=",k);if(T===-1)break;const S=p.indexOf(";",k),P=S===-1?w:S;if(T>P){k=p.lastIndexOf(";",T-1)+1;continue}const I=a(p,k,T),R=l(p,T,I),A=p.slice(I,R);if(v[A]===void 0){let F=a(p,T+1,P),V=l(p,P,F);const K=E(p.slice(F,V));v[A]=K}k=P+1}while(k<w);return v}function a(p,y,v){do{const w=p.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<v);return v}function l(p,y,v){for(;y>v;){const w=p.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return v}function u(p,y,v){const w=v?.encode||encodeURIComponent;if(!n.test(p))throw new TypeError(`argument name is invalid: ${p}`);const E=w(y);if(!e.test(E))throw new TypeError(`argument val is invalid: ${y}`);let k=p+"="+E;if(!v)return k;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);k+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);k+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);k+="; Path="+v.path}if(v.expires){if(!m(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);k+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(k+="; HttpOnly"),v.secure&&(k+="; Secure"),v.partitioned&&(k+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return k}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function m(p){return i.call(p)==="[object Date]"}return wm}qW();var dN="popstate";function GW(n={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return RE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Og(i)}return KW(e,t,null,n)}function Fn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $s(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YW(){return Math.random().toString(36).substring(2,10)}function fN(n,e){return{usr:n.state,key:n.key,idx:e}}function RE(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?eh(e):e,state:t,key:e&&e.key||r||YW()}}function Og({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function eh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function KW(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function m(){a="POP";let E=f(),k=E==null?null:E-u;u=E,l&&l({action:a,location:w.location,delta:k})}function p(E,k){a="PUSH";let T=RE(w.location,E,k);u=f()+1;let S=fN(T,u),P=w.createHref(T);try{o.pushState(S,"",P)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(P)}s&&l&&l({action:a,location:w.location,delta:1})}function y(E,k){a="REPLACE";let T=RE(w.location,E,k);u=f();let S=fN(T,u),P=w.createHref(T);o.replaceState(S,"",P),s&&l&&l({action:a,location:w.location,delta:0})}function v(E){return XW(E)}let w={get action(){return a},get location(){return n(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dN,m),l=E,()=>{i.removeEventListener(dN,m),l=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let k=v(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:p,replace:y,go(E){return o.go(E)}};return w}function XW(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Fn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Og(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function oD(n,e,t="/"){return JW(n,e,t,!1)}function JW(n,e,t,r){let i=typeof e=="string"?eh(e):e,s=il(i.pathname||"/",t);if(s==null)return null;let o=aD(n);QW(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=cj(s);a=aj(o[l],u,r)}return a}function aD(n,e=[],t=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Fn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Ga([r,l.relativePath]),f=t.concat(l);s.children&&s.children.length>0&&(Fn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),aD(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:sj(u,s.index),routesMeta:f})};return n.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of lD(s.path))i(s,o,a)}),e}function lD(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function QW(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:oj(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var ZW=/^:[\w-]+$/,ej=3,tj=2,nj=1,rj=10,ij=-2,hN=n=>n==="*";function sj(n,e){let t=n.split("/"),r=t.length;return t.some(hN)&&(r+=ij),e&&(r+=tj),t.filter(i=>!hN(i)).reduce((i,s)=>i+(ZW.test(s)?ej:s===""?nj:rj),r)}function oj(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function aj(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Wb({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!m&&u&&t&&!r[r.length-1].route.index&&(m=Wb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Ga([s,m.pathname]),pathnameBase:hj(Ga([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Ga([s,m.pathnameBase]))}return o}function Wb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=lj(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:m},p)=>{if(f==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[p];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function lj(n,e=!1,t=!0){$s(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $s(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function il(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function uj(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?eh(n):n;return{pathname:t?t.startsWith("/")?t:dj(t,e):e,search:mj(r),hash:gj(i)}}function dj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Gx(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _T(n){let e=fj(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function xT(n,e,t,r=!1){let i;typeof n=="string"?i=eh(n):(i={...n},Fn(!i.pathname||!i.pathname.includes("?"),Gx("?","pathname","search",i)),Fn(!i.pathname||!i.pathname.includes("#"),Gx("#","pathname","hash",i)),Fn(!i.search||!i.search.includes("#"),Gx("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}a=m>=0?e[m]:"/"}let l=uj(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var Ga=n=>n.join("/").replace(/\/\/+/g,"/"),hj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cD=["POST","PUT","PATCH","DELETE"];new Set(cD);var bj=["GET",...cD];new Set(bj);var th=O.createContext(null);th.displayName="DataRouter";var ow=O.createContext(null);ow.displayName="DataRouterState";var uD=O.createContext({isTransitioning:!1});uD.displayName="ViewTransition";var yj=O.createContext(new Map);yj.displayName="Fetchers";var wj=O.createContext(null);wj.displayName="Await";var Po=O.createContext(null);Po.displayName="Navigation";var E0=O.createContext(null);E0.displayName="Location";var qs=O.createContext({outlet:null,matches:[],isDataRoute:!1});qs.displayName="Route";var ET=O.createContext(null);ET.displayName="RouteError";function vj(n,{relative:e}={}){Fn(nh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Po),{hash:i,pathname:s,search:o}=T0(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:Ga([t,s])),r.createHref({pathname:a,search:o,hash:i})}function nh(){return O.useContext(E0)!=null}function ha(){return Fn(nh(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(E0).location}var dD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fD(n){O.useContext(Po).static||O.useLayoutEffect(n)}function mr(){let{isDataRoute:n}=O.useContext(qs);return n?Dj():_j()}function _j(){Fn(nh(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(th),{basename:e,navigator:t}=O.useContext(Po),{matches:r}=O.useContext(qs),{pathname:i}=ha(),s=JSON.stringify(_T(r)),o=O.useRef(!1);return fD(()=>{o.current=!0}),O.useCallback((l,u={})=>{if($s(o.current,dD),!o.current)return;if(typeof l=="number"){t.go(l);return}let f=xT(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ga([e,f.pathname])),(u.replace?t.replace:t.push)(f,u.state,u)},[e,t,s,i,n])}var xj=O.createContext(null);function Ej(n){let e=O.useContext(qs).outlet;return e&&O.createElement(xj.Provider,{value:n},e)}function k0(){let{matches:n}=O.useContext(qs),e=n[n.length-1];return e?e.params:{}}function T0(n,{relative:e}={}){let{matches:t}=O.useContext(qs),{pathname:r}=ha(),i=JSON.stringify(_T(t));return O.useMemo(()=>xT(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function kj(n,e){return hD(n,e)}function hD(n,e,t,r){Fn(nh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=O.useContext(Po),{matches:s}=O.useContext(qs),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";mD(l,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let m=ha(),p;if(e){let k=typeof e=="string"?eh(e):e;Fn(u==="/"||k.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${k.pathname}" was given in the \`location\` prop.`),p=k}else p=m;let y=p.pathname||"/",v=y;if(u!=="/"){let k=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=oD(n,{pathname:v});$s(f||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),$s(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Nj(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Ga([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:Ga([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,t,r);return e&&E?O.createElement(E0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},E):E}function Tj(){let n=Mj(),e=pj(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:i},t):null,o)}var Sj=O.createElement(Tj,null),Cj=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(qs.Provider,{value:this.props.routeContext},O.createElement(ET.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Aj({routeContext:n,match:e,children:t}){let r=O.useContext(th);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(qs.Provider,{value:n},t)}function Nj(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t?.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);Fn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(t)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:f,errors:m}=t,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,f)=>{let m,p=!1,y=null,v=null;t&&(m=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||Sj,o&&(a<0&&f===0?(mD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):a===f&&(p=!0,v=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,f+1)),E=()=>{let k;return m?k=y:p?k=v:u.route.Component?k=O.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=l,O.createElement(Aj,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:t!=null},children:k})};return t&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?O.createElement(Cj,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}function kT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pj(n){let e=O.useContext(th);return Fn(e,kT(n)),e}function Ij(n){let e=O.useContext(ow);return Fn(e,kT(n)),e}function Rj(n){let e=O.useContext(qs);return Fn(e,kT(n)),e}function TT(n){let e=Rj(n),t=e.matches[e.matches.length-1];return Fn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Oj(){return TT("useRouteId")}function Mj(){let n=O.useContext(ET),e=Ij("useRouteError"),t=TT("useRouteError");return n!==void 0?n:e.errors?.[t]}function Dj(){let{router:n}=Pj("useNavigate"),e=TT("useNavigate"),t=O.useRef(!1);return fD(()=>{t.current=!0}),O.useCallback(async(i,s={})=>{$s(t.current,dD),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var mN={};function mD(n,e,t){!e&&!mN[n]&&(mN[n]=!0,$s(!1,t))}O.memo(Fj);function Fj({routes:n,future:e,state:t}){return hD(n,void 0,t,e)}function bf({to:n,replace:e,state:t,relative:r}){Fn(nh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=O.useContext(Po);$s(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=O.useContext(qs),{pathname:o}=ha(),a=mr(),l=xT(n,_T(s),o,r==="path"),u=JSON.stringify(l);return O.useEffect(()=>{a(JSON.parse(u),{replace:e,state:t,relative:r})},[a,u,r,e,t]),null}function gD(n){return Ej(n.context)}function tn(n){Fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lj({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Fn(!nh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=O.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=eh(t));let{pathname:l="/",search:u="",hash:f="",state:m=null,key:p="default"}=t,y=O.useMemo(()=>{let v=il(l,o);return v==null?null:{location:{pathname:v,search:u,hash:f,state:m,key:p},navigationType:r}},[o,l,u,f,m,p,r]);return $s(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:O.createElement(Po.Provider,{value:a},O.createElement(E0.Provider,{children:e,value:y}))}function Bj({children:n,location:e}){return kj(OE(n),e)}function OE(n,e=[]){let t=[];return O.Children.forEach(n,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){t.push.apply(t,OE(r.props.children,s));return}Fn(r.type===tn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=OE(r.props.children,s)),t.push(o)}),t}var db="get",fb="application/x-www-form-urlencoded";function aw(n){return n!=null&&typeof n.tagName=="string"}function Vj(n){return aw(n)&&n.tagName.toLowerCase()==="button"}function Uj(n){return aw(n)&&n.tagName.toLowerCase()==="form"}function zj(n){return aw(n)&&n.tagName.toLowerCase()==="input"}function Hj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $j(n,e){return n.button===0&&(!e||e==="_self")&&!Hj(n)}function ME(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function Wj(n,e){let t=ME(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var _1=null;function jj(){if(_1===null)try{new FormData(document.createElement("form"),0),_1=!1}catch{_1=!0}return _1}var qj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yx(n){return n!=null&&!qj.has(n)?($s(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fb}"`),null):n}function Gj(n,e){let t,r,i,s,o;if(Uj(n)){let a=n.getAttribute("action");r=a?il(a,e):null,t=n.getAttribute("method")||db,i=Yx(n.getAttribute("enctype"))||fb,s=new FormData(n)}else if(Vj(n)||zj(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(r=l?il(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||db,i=Yx(n.getAttribute("formenctype"))||Yx(a.getAttribute("enctype"))||fb,s=new FormData(a,n),!jj()){let{name:u,type:f,value:m}=n;if(f==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,m)}}else{if(aw(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=db,r=null,i=fb,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function ST(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Yj(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kj(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Xj(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await Yj(s,t);return o.links?o.links():[]}return[]}));return eq(r.flat(1).filter(Kj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gN(n,e,t,r,i,s){let o=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,a=(l,u)=>t[u].pathname!==l.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Jj(n,e,{includeHydrateFallback:t}={}){return Qj(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Qj(n){return[...new Set(n)]}function Zj(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function eq(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Zj(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tq=new Set([100,101,204,205]);function nq(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&il(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function pD(){let n=O.useContext(th);return ST(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function rq(){let n=O.useContext(ow);return ST(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var CT=O.createContext(void 0);CT.displayName="FrameworkContext";function bD(){let n=O.useContext(CT);return ST(n,"You must render this element inside a <HydratedRouter> element"),n}function iq(n,e){let t=O.useContext(CT),[r,i]=O.useState(!1),[s,o]=O.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:m}=e,p=O.useRef(null);O.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let w=k=>{k.forEach(T=>{o(T.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[n]),O.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,p,{}]:[s,p,{onFocus:vm(a,y),onBlur:vm(l,v),onMouseEnter:vm(u,y),onMouseLeave:vm(f,v),onTouchStart:vm(m,y)}]:[!1,p,{}]}function vm(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sq({page:n,...e}){let{router:t}=pD(),r=O.useMemo(()=>oD(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(aq,{page:n,matches:r,...e}):null}function oq(n){let{manifest:e,routeModules:t}=bD(),[r,i]=O.useState([]);return O.useEffect(()=>{let s=!1;return Xj(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function aq({page:n,matches:e,...t}){let r=ha(),{manifest:i,routeModules:s}=bD(),{basename:o}=pD(),{loaderData:a,matches:l}=rq(),u=O.useMemo(()=>gN(n,e,l,i,r,"data"),[n,e,l,i,r]),f=O.useMemo(()=>gN(n,e,l,i,r,"assets"),[n,e,l,i,r]),m=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(k=>{let T=i.routes[k.route.id];!T||!T.hasLoader||(!u.some(S=>S.route.id===k.route.id)&&k.route.id in a&&s[k.route.id]?.shouldRevalidate||T.hasClientLoader?w=!0:v.add(k.route.id))}),v.size===0)return[];let E=nq(n,o);return w&&v.size>0&&E.searchParams.set("_routes",e.filter(k=>v.has(k.route.id)).map(k=>k.route.id).join(",")),[E.pathname+E.search]},[o,a,r,i,u,e,n,s]),p=O.useMemo(()=>Jj(f,i),[f,i]),y=oq(f);return O.createElement(O.Fragment,null,m.map(v=>O.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),p.map(v=>O.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),y.map(({key:v,link:w})=>O.createElement("link",{key:v,...w})))}function lq(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var yD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yD&&(window.__reactRouterVersion="7.6.3")}catch{}function cq({basename:n,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=GW({window:t,v5Compat:!0}));let i=r.current,[s,o]=O.useState({action:i.action,location:i.location}),a=O.useCallback(l=>{O.startTransition(()=>o(l))},[o]);return O.useLayoutEffect(()=>i.listen(a),[i,a]),O.createElement(Lj,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var wD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vD=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:m,...p},y){let{basename:v}=O.useContext(Po),w=typeof u=="string"&&wD.test(u),E,k=!1;if(typeof u=="string"&&w&&(E=u,yD))try{let V=new URL(window.location.href),K=u.startsWith("//")?new URL(V.protocol+u):new URL(u),re=il(K.pathname,v);K.origin===V.origin&&re!=null?u=re+K.search+K.hash:k=!0}catch{$s(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=vj(u,{relative:i}),[S,P,I]=iq(r,p),R=fq(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:m});function A(V){e&&e(V),V.defaultPrevented||R(V)}let F=O.createElement("a",{...p,...I,href:E||T,onClick:k||s?e:A,ref:lq(y,P),target:l,"data-discover":!w&&t==="render"?"true":void 0});return S&&!w?O.createElement(O.Fragment,null,F,O.createElement(sq,{page:T})):F});vD.displayName="Link";var ec=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},f){let m=T0(o,{relative:u.relative}),p=ha(),y=O.useContext(ow),{navigator:v,basename:w}=O.useContext(Po),E=y!=null&&bq(m)&&a===!0,k=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,T=p.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&w&&(S=il(S,w)||S);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let I=T===k||!i&&T.startsWith(k)&&T.charAt(P)==="/",R=S!=null&&(S===k||!i&&S.startsWith(k)&&S.charAt(k.length)==="/"),A={isActive:I,isPending:R,isTransitioning:E},F=I?e:void 0,V;typeof r=="function"?V=r(A):V=[r,I?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(A):s;return O.createElement(vD,{...u,"aria-current":F,className:V,ref:f,style:K,to:o,viewTransition:a},typeof l=="function"?l(A):l)});ec.displayName="NavLink";var uq=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=db,action:a,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:m,...p},y)=>{let v=gq(),w=pq(a,{relative:u}),E=o.toLowerCase()==="get"?"get":"post",k=typeof a=="string"&&wD.test(a),T=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let P=S.nativeEvent.submitter,I=P?.getAttribute("formmethod")||o;v(P||S.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:m})};return O.createElement("form",{ref:y,method:E,action:w,onSubmit:r?l:T,...p,"data-discover":!k&&n==="render"?"true":void 0})});uq.displayName="Form";function dq(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _D(n){let e=O.useContext(th);return Fn(e,dq(n)),e}function fq(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=mr(),l=ha(),u=T0(n,{relative:s});return O.useCallback(f=>{if($j(f,e)){f.preventDefault();let m=t!==void 0?t:Og(l)===Og(u);a(n,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,t,r,e,n,i,s,o])}function xD(n){$s(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(ME(n)),t=O.useRef(!1),r=ha(),i=O.useMemo(()=>Wj(r.search,t.current?null:e.current),[r.search]),s=mr(),o=O.useCallback((a,l)=>{const u=ME(typeof a=="function"?a(i):a);t.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var hq=0,mq=()=>`__${String(++hq)}__`;function gq(){let{router:n}=_D("useSubmit"),{basename:e}=O.useContext(Po),t=Oj();return O.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=Gj(r,e);if(i.navigate===!1){let f=i.fetcherKey||mq();await n.fetch(f,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function pq(n,{relative:e}={}){let{basename:t}=O.useContext(Po),r=O.useContext(qs);Fn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...T0(n||".",{relative:e})},o=ha();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(m=>m).forEach(m=>a.append("index",m));let f=a.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ga([t,s.pathname])),Og(s)}function bq(n,e={}){let t=O.useContext(uD);Fn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_D("useViewTransitionState"),i=T0(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=il(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=il(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Wb(i.pathname,o)!=null||Wb(i.pathname,s)!=null}[...tq];var Kx={exports:{}},Xx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function yq(){if(pN)return Xx;pN=1;var n=sw();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,o=n.useMemo,a=n.useDebugValue;return Xx.useSyncExternalStoreWithSelector=function(l,u,f,m,p){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function E(I){if(!k){if(k=!0,T=I,I=m(I),p!==void 0&&v.hasValue){var R=v.value;if(p(R,I))return S=R}return S=I}if(R=S,t(T,I))return R;var A=m(I);return p!==void 0&&p(R,A)?(T=I,R):(T=I,S=A)}var k=!1,T,S,P=f===void 0?null:f;return[function(){return E(u())},P===null?void 0:function(){return E(P())}]},[u,f,m,p]);var w=r(l,y[0],y[1]);return s(function(){v.hasValue=!0,v.value=w},[w]),a(w),w},Xx}var bN;function wq(){return bN||(bN=1,Kx.exports=yq()),Kx.exports}var vq=wq();function _q(n){n()}function xq(){let n=null,e=null;return{clear(){n=null,e=null},notify(){_q(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var yN={notify(){},get:()=>[]};function Eq(n,e){let t,r=yN,i=0,s=!1;function o(w){f();const E=r.subscribe(w);let k=!1;return()=>{k||(k=!0,E(),m())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return s}function f(){i++,t||(t=n.subscribe(l),r=xq())}function m(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=yN)}function p(){s||(s=!0,f())}function y(){s&&(s=!1,m())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return v}var kq=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tq=kq(),Sq=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Cq=Sq(),Aq=()=>Tq||Cq?O.useLayoutEffect:O.useEffect,Nq=Aq(),Pq=Symbol.for("react-redux-context"),Iq=typeof globalThis<"u"?globalThis:{};function Rq(){if(!O.createContext)return{};const n=Iq[Pq]??=new Map;let e=n.get(O.createContext);return e||(e=O.createContext(null),n.set(O.createContext,e)),e}var ic=Rq();function Oq(n){const{children:e,context:t,serverState:r,store:i}=n,s=O.useMemo(()=>{const l=Eq(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=O.useMemo(()=>i.getState(),[i]);Nq(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=t||ic;return O.createElement(a.Provider,{value:s},e)}var Mq=Oq;function AT(n=ic){return function(){return O.useContext(n)}}var ED=AT();function kD(n=ic){const e=n===ic?ED:AT(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var Dq=kD();function Fq(n=ic){const e=n===ic?Dq:kD(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var gr=Fq(),Lq=(n,e)=>n===e;function Bq(n=ic){const e=n===ic?ED:AT(n),t=(r,i={})=>{const{equalityFn:s=Lq}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:a,subscription:l,getServerState:u}=o;O.useRef(!0);const f=O.useCallback({[r.name](p){return r(p)}}[r.name],[r]),m=vq.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,f,s);return O.useDebugValue(m),m};return Object.assign(t,{withTypes:()=>t}),t}var Un=Bq();/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uq=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),wN=n=>{const e=Uq(n);return e.charAt(0).toUpperCase()+e.slice(1)},TD=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),zq=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>O.createElement("svg",{ref:l,...Hq,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:TD("lucide",i),...!s&&!zq(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,f])=>O.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(n,e)=>{const t=O.forwardRef(({className:r,...i},s)=>O.createElement($q,{ref:s,iconNode:e,className:TD(`lucide-${Vq(wN(n))}`,`lucide-${n}`,r),...i}));return t.displayName=wN(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jq=ot("activity",Wq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],NT=ot("arrow-right",qq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Yq=ot("arrow-up",Gq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],Xq=ot("book-check",Kq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qq=ot("book-open",Jq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]],eG=ot("book-x",Zq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],vN=ot("briefcase",tG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rG=ot("calendar",nG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sG=ot("check",iG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lw=ot("chevron-down",oG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gc=ot("chevron-left",aG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xo=ot("chevron-right",lG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],SD=ot("chevrons-left",cG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],CD=ot("chevrons-right",uG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_N=ot("circle-check-big",dG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hG=ot("circle-check",fG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gG=ot("clock",mG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bG=ot("database",pG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wG=ot("eye-off",yG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_G=ot("eye",vG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],AD=ot("file-down",xG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],kG=ot("folder-input",EG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],SG=ot("folder",TG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],AG=ot("funnel",CG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],PG=ot("globe",NG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],xN=ot("headphones",IG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],EN=ot("heart-handshake",RG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],MG=ot("heart",OG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],FG=ot("house",DG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kN=ot("image",LG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ND=ot("layers",BG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],UG=ot("layout-grid",VG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cu=ot("loader-circle",zG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$G=ot("log-out",HG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],PT=ot("mail",WG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],PD=ot("map-pin",jG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],ID=ot("menu",qG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],YG=ot("message-square",GG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],XG=ot("newspaper",KG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],RD=ot("package-plus",JG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],DE=ot("package",QG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],OD=ot("pen-line",ZG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],MD=ot("pen",eY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],DD=ot("pencil",tY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Bf=ot("phone",nY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pu=ot("plus",rY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sY=ot("radio",iY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aY=ot("refresh-cw",oY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],FD=ot("rotate-ccw",lY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cw=ot("save",cY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S0=ot("search",uY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fY=ot("settings",dY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mY=ot("shield-check",hY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],LD=ot("square-pen",gY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],BD=ot("tag",pY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Iu=ot("trash-2",bY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],wY=ot("trending-down",yY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],_Y=ot("truck",vY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EY=ot("user-check",xY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jb=ot("user",kY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],VD=ot("users",TY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],CY=ot("volume-2",SY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vf=ot("x",AY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],PY=ot("zap",NY);function IY({isSidebarOpen:n,onToggleSidebar:e}){const{userInfo:t}=Un(l=>l.auth),r=mr(),[i,s]=O.useState("system"),o=l=>{s(u=>u===l?null:l)},a=[{id:"system",label:"H thng",icon:fY,items:[{label:"Trang ch",path:"/home"},{label:"i mt khu",path:"/profile/change-password"},t.role==="admin"&&{label:"Lm mi mt khu NV",path:"/profile/change-password-staff"},{label:"Thng tin ti khon",path:"/profile/info"}].filter(Boolean)},{id:"products",label:"Sn phm",icon:DE,items:[{label:"Danh mc chung",path:"/products/categories"},{label:"Danh sch sn phm",path:"/products/list"}]},{id:"post",label:"Bi vit",icon:XG,items:[{label:"ng tin mi",path:"/news/detail"},{label:"Danh sch bi vit",path:"/news/manager"}]},t.role==="admin"&&{id:"hr",label:"Qun l nhn s",icon:rG,items:[{label:"Danh sch nhn vin",path:"/hr/employees"}]}].filter(Boolean);return g.createElement("aside",{className:`fixed top-0 left-0 h-screen flex flex-col text-white transition-all duration-300 z-50 shadow-xl
        ${n?"w-[288px]":"w-0 lg:w-[80px]"} 
        bg-gradient-to-b from-[#0081cd] to-[#026aa8]`},g.createElement("div",{className:`h-full flex flex-col overflow-hidden ${!n&&"lg:flex hidden"}`},g.createElement("div",{className:"flex-shrink-0"},n?g.createElement(g.Fragment,null,g.createElement("div",{className:"bg-[#026aa8] p-4 flex items-center justify-between shadow-md"},g.createElement("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>r("/profile/info")},g.createElement("img",{src:"/logo.png",alt:"logo",className:"w-10 h-10 object-contain rounded-lg"}),g.createElement("span",{className:"font-bold text-base lg:text-lg whitespace-nowrap"},"CMICSTUDIO")),g.createElement("button",{onClick:e,className:"lg:hidden p-1 hover:bg-white/10 rounded-lg"},g.createElement(Vf,{className:"w-6 h-6"}))),g.createElement("div",{className:"p-4 flex items-center gap-3 border-b border-white/20 bg-[#026aa8]/50"},g.createElement("div",{className:"bg-white rounded-full p-1 flex-shrink-0 shadow-md"},g.createElement("div",{className:"bg-gradient-to-br from-gray-200 to-gray-300 rounded-full w-12 h-12 flex items-center justify-center"},g.createElement(jb,{className:"w-7 h-7 text-gray-600"}))),g.createElement("div",{className:"overflow-hidden"},g.createElement("div",{className:"text-xs text-white/80"},"Xin cho,"),g.createElement("div",{className:"font-semibold text-sm truncate"},t?.userName||"Ngi dng")))):g.createElement("div",{className:"hidden lg:flex p-4 items-center justify-center h-20 border-b border-white/20"},g.createElement("img",{src:"/logo.png",alt:"logo",className:"w-10 h-10 object-contain rounded-lg shadow-md cursor-pointer",onClick:e}))),g.createElement("nav",{className:"flex-1 overflow-y-auto py-2 scrollbar-hide"},n?g.createElement("div",{className:"px-2 space-y-1"},a.map(l=>g.createElement("div",{key:l.id},g.createElement("button",{onClick:()=>o(l.id),className:`w-full px-3 py-2.5 flex items-center gap-3 rounded-lg hover:bg-white/10 transition-all ${i===l.id?"bg-white/15 shadow-sm":""}`},g.createElement(l.icon,{className:"w-5 h-5 flex-shrink-0"}),g.createElement("span",{className:"flex-1 text-left text-sm font-medium"},l.label),g.createElement(lw,{className:`w-4 h-4 transition-transform ${i===l.id?"rotate-180":""}`})),i===l.id&&g.createElement("div",{className:"mt-1 ml-2 space-y-0.5"},l.items.map(u=>g.createElement(ec,{key:u.path,to:u.path,onClick:()=>window.innerWidth<1024&&e?.(),className:({isActive:f})=>`flex items-center gap-2 px-3 py-2 pl-10 rounded-lg transition-all text-sm text-white no-underline ${f?"bg-white/20 font-semibold":"hover:bg-white/10"}`},g.createElement("div",{className:"w-1.5 h-1.5 bg-white rounded-full flex-shrink-0"}),g.createElement("span",{className:"truncate"},u.label)))))),g.createElement(ec,{to:"/recruitment/manager",className:({isActive:l})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm text-white no-underline ${l?"bg-white/20 font-semibold":"hover:bg-white/10"}`},g.createElement(vN,{className:"w-5 h-5 flex-shrink-0"}),g.createElement("span",{className:"flex-1 text-left font-medium"},"ng tuyn dng"))):g.createElement("div",{className:"hidden lg:flex flex-col items-center gap-4 px-2"},a.map(l=>g.createElement("button",{key:l.id,onClick:()=>{e(),s(l.id)},className:"p-3 hover:bg-white/10 rounded-lg transition-colors w-full flex justify-center",title:l.label},g.createElement(l.icon,{className:"w-6 h-6"}))),g.createElement(ec,{to:"/recruitment/post-job",className:"p-3 hover:bg-white/10 rounded-lg w-full flex justify-center text-white",title:"ng tuyn dng"},g.createElement(vN,{className:"w-6 h-6"}))))))}function Hr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var RY=typeof Symbol=="function"&&Symbol.observable||"@@observable",TN=RY,Jx=()=>Math.random().toString(36).substring(7).split("").join("."),OY={INIT:`@@redux/INIT${Jx()}`,REPLACE:`@@redux/REPLACE${Jx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jx()}`},qb=OY;function IT(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function UD(n,e,t){if(typeof n!="function")throw new Error(Hr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Hr(1));return t(UD)(n,e)}let r=n,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((E,k)=>{o.set(k,E)}))}function f(){if(l)throw new Error(Hr(3));return i}function m(E){if(typeof E!="function")throw new Error(Hr(4));if(l)throw new Error(Hr(5));let k=!0;u();const T=a++;return o.set(T,E),function(){if(k){if(l)throw new Error(Hr(6));k=!1,u(),o.delete(T),s=null}}}function p(E){if(!IT(E))throw new Error(Hr(7));if(typeof E.type>"u")throw new Error(Hr(8));if(typeof E.type!="string")throw new Error(Hr(17));if(l)throw new Error(Hr(9));try{l=!0,i=r(i,E)}finally{l=!1}return(s=o).forEach(T=>{T()}),E}function y(E){if(typeof E!="function")throw new Error(Hr(10));r=E,p({type:qb.REPLACE})}function v(){const E=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Hr(11));function T(){const P=k;P.next&&P.next(f())}return T(),{unsubscribe:E(T)}},[TN](){return this}}}return p({type:qb.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:y,[TN]:v}}function MY(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:qb.INIT})>"u")throw new Error(Hr(12));if(typeof t(void 0,{type:qb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function DY(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const r=Object.keys(t);let i;try{MY(t)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let f=0;f<r.length;f++){const m=r[f],p=t[m],y=o[m],v=p(y,a);if(typeof v>"u")throw a&&a.type,new Error(Hr(14));u[m]=v,l=l||v!==y}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Gb(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function FY(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(Hr(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=n.map(l=>l(o));return s=Gb(...a)(i.dispatch),{...i,dispatch:s}}}function LY(n){return IT(n)&&"type"in n&&typeof n.type=="string"}var zD=Symbol.for("immer-nothing"),SN=Symbol.for("immer-draftable"),bs=Symbol.for("immer-state");function uo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Uf=Object.getPrototypeOf;function bu(n){return!!n&&!!n[bs]}function sl(n){return n?HD(n)||Array.isArray(n)||!!n[SN]||!!n.constructor?.[SN]||dw(n)||fw(n):!1}var BY=Object.prototype.constructor.toString();function HD(n){if(!n||typeof n!="object")return!1;const e=Uf(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===BY}function Yb(n,e){uw(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function uw(n){const e=n[bs];return e?e.type_:Array.isArray(n)?1:dw(n)?2:fw(n)?3:0}function FE(n,e){return uw(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function $D(n,e,t){const r=uw(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function VY(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function dw(n){return n instanceof Map}function fw(n){return n instanceof Set}function Gc(n){return n.copy_||n.base_}function LE(n,e){if(dw(n))return new Map(n);if(fw(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=HD(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[bs];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Uf(n),r)}else{const r=Uf(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function RT(n,e=!1){return hw(n)||bu(n)||!sl(n)||(uw(n)>1&&(n.set=n.add=n.clear=n.delete=UY),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>RT(r,!0))),n}function UY(){uo(2)}function hw(n){return Object.isFrozen(n)}var zY={};function yu(n){const e=zY[n];return e||uo(0,n),e}var Mg;function WD(){return Mg}function HY(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CN(n,e){e&&(yu("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function BE(n){VE(n),n.drafts_.forEach($Y),n.drafts_=null}function VE(n){n===Mg&&(Mg=n.parent_)}function AN(n){return Mg=HY(Mg,n)}function $Y(n){const e=n[bs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function NN(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[bs].modified_&&(BE(e),uo(4)),sl(n)&&(n=Kb(e,n),e.parent_||Xb(e,n)),e.patches_&&yu("Patches").generateReplacementPatches_(t[bs].base_,n,e.patches_,e.inversePatches_)):n=Kb(e,t,[]),BE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==zD?n:void 0}function Kb(n,e,t){if(hw(e))return e;const r=e[bs];if(!r)return Yb(e,(i,s)=>PN(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return Xb(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Yb(s,(a,l)=>PN(n,r,i,a,l,t,o)),Xb(n,i,!1),t&&n.patches_&&yu("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function PN(n,e,t,r,i,s,o){if(bu(i)){const a=s&&e&&e.type_!==3&&!FE(e.assigned_,r)?s.concat(r):void 0,l=Kb(n,i,a);if($D(t,r,l),bu(l))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if(sl(i)&&!hw(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Kb(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&Xb(n,i)}}function Xb(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&RT(e,t)}function WY(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:WD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=OT;t&&(i=[r],s=Dg);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var OT={get(n,e){if(e===bs)return n;const t=Gc(n);if(!FE(t,e))return jY(n,t,e);const r=t[e];return n.finalized_||!sl(r)?r:r===Qx(n.base_,e)?(Zx(n),n.copy_[e]=zE(r,n)):r},has(n,e){return e in Gc(n)},ownKeys(n){return Reflect.ownKeys(Gc(n))},set(n,e,t){const r=jD(Gc(n),e);if(r?.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=Qx(Gc(n),e),s=i?.[bs];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(VY(t,i)&&(t!==void 0||FE(n.base_,e)))return!0;Zx(n),UE(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Qx(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Zx(n),UE(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Gc(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){uo(11)},getPrototypeOf(n){return Uf(n.base_)},setPrototypeOf(){uo(12)}},Dg={};Yb(OT,(n,e)=>{Dg[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Dg.deleteProperty=function(n,e){return Dg.set.call(this,n,e,void 0)};Dg.set=function(n,e,t){return OT.set.call(this,n[0],e,t,n[0])};function Qx(n,e){const t=n[bs];return(t?Gc(t):n)[e]}function jY(n,e,t){const r=jD(e,t);return r?"value"in r?r.value:r.get?.call(n.draft_):void 0}function jD(n,e){if(!(e in n))return;let t=Uf(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Uf(t)}}function UE(n){n.modified_||(n.modified_=!0,n.parent_&&UE(n.parent_))}function Zx(n){n.copy_||(n.copy_=LE(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var qY=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...u){return o.produce(l,f=>t.call(this,f,...u))}}typeof t!="function"&&uo(6),r!==void 0&&typeof r!="function"&&uo(7);let i;if(sl(e)){const s=AN(this),o=zE(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?BE(s):VE(s)}return CN(s,r),NN(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===zD&&(i=void 0),this.autoFreeze_&&RT(i,!0),r){const s=[],o=[];yu("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else uo(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){sl(n)||uo(8),bu(n)&&(n=GY(n));const e=AN(this),t=zE(n,void 0);return t[bs].isManual_=!0,VE(e),t}finishDraft(n,e){const t=n&&n[bs];(!t||!t.isManual_)&&uo(9);const{scope_:r}=t;return CN(r,e),NN(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=yu("Patches").applyPatches_;return bu(n)?r(n,e):this.produce(n,i=>r(i,e))}};function zE(n,e){const t=dw(n)?yu("MapSet").proxyMap_(n,e):fw(n)?yu("MapSet").proxySet_(n,e):WY(n,e);return(e?e.scope_:WD()).drafts_.push(t),t}function GY(n){return bu(n)||uo(10,n),qD(n)}function qD(n){if(!sl(n)||hw(n))return n;const e=n[bs];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=LE(n,e.scope_.immer_.useStrictShallowCopy_)}else t=LE(n,!0);return Yb(t,(r,i)=>{$D(t,r,qD(i))}),e&&(e.finalized_=!1),t}var ys=new qY,GD=ys.produce;ys.produceWithPatches.bind(ys);ys.setAutoFreeze.bind(ys);ys.setUseStrictShallowCopy.bind(ys);ys.applyPatches.bind(ys);ys.createDraft.bind(ys);ys.finishDraft.bind(ys);function YD(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var YY=YD(),KY=YD,XY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gb:Gb.apply(null,arguments)},JY=n=>n&&typeof n.match=="function";function ig(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(Ya(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>LY(r)&&r.type===n,t}var KD=class jm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jm.prototype)}static get[Symbol.species](){return jm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jm(...e[0].concat(this)):new jm(...e.concat(this))}};function IN(n){return sl(n)?GD(n,()=>{}):n}function x1(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function QY(n){return typeof n=="boolean"}var ZY=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new KD;return t&&(QY(t)?o.push(YY):o.push(KY(t.extraArgument))),o},eK="RTK_autoBatch",RN=n=>e=>{setTimeout(e,n)},tK=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RN(10):n.type==="callback"?n.queueNotification:RN(n.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),p=r.subscribe(m);return a.add(f),()=>{p(),a.delete(f)}},dispatch(f){try{return i=!f?.meta?.[eK],s=!i,s&&(o||(o=!0,l(u))),r.dispatch(f)}finally{i=!0}}})},nK=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new KD(n);return r&&i.push(tK(typeof r=="object"?r:void 0)),i};function rK(n){const e=ZY(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(IT(t))a=DY(t);else throw new Error(Ya(1));let l;typeof r=="function"?l=r(e):l=e();let u=Gb;i&&(u=XY({trace:!1,...typeof i=="object"&&i}));const f=FY(...l),m=nK(f);let p=typeof o=="function"?o(m):m();const y=u(...p);return UD(a,s,y)}function XD(n){const e={},t=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Ya(28));if(a in e)throw new Error(Ya(29));return e[a]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function iK(n){return typeof n=="function"}function sK(n,e){let[t,r,i]=XD(e),s;if(iK(n))s=()=>IN(n());else{const a=IN(n);s=()=>a}function o(a=s(),l){let u=[t[l.type],...r.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[i]),u.reduce((f,m)=>{if(m)if(bu(f)){const y=m(f,l);return y===void 0?f:y}else{if(sl(f))return GD(f,p=>m(p,l));{const p=m(f,l);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},a)}return o.getInitialState=s,o}var oK=(n,e)=>JY(n)?n.match(e):n(e);function aK(...n){return e=>n.some(t=>oK(t,e))}var lK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cK=(n=21)=>{let e="",t=n;for(;t--;)e+=lK[Math.random()*64|0];return e},uK=["name","message","stack","code"],e2=class{constructor(n,e){this.payload=n,this.meta=e}_type},ON=class{constructor(n,e){this.payload=n,this.meta=e}_type},dK=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of uK)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},MN="External signal was aborted",Gs=(()=>{function n(e,t,r){const i=ig(e+"/fulfilled",(l,u,f,m)=>({payload:l,meta:{...m||{},arg:f,requestId:u,requestStatus:"fulfilled"}})),s=ig(e+"/pending",(l,u,f)=>({payload:void 0,meta:{...f||{},arg:u,requestId:l,requestStatus:"pending"}})),o=ig(e+"/rejected",(l,u,f,m,p)=>({payload:m,error:(r&&r.serializeError||dK)(l||"Rejected"),meta:{...p||{},arg:f,requestId:u,rejectedWithValue:!!m,requestStatus:"rejected",aborted:l?.name==="AbortError",condition:l?.name==="ConditionError"}}));function a(l,{signal:u}={}){return(f,m,p)=>{const y=r?.idGenerator?r.idGenerator(l):cK(),v=new AbortController;let w,E;function k(S){E=S,v.abort()}u&&(u.aborted?k(MN):u.addEventListener("abort",()=>k(MN),{once:!0}));const T=async function(){let S;try{let I=r?.condition?.(l,{getState:m,extra:p});if(hK(I)&&(I=await I),I===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((A,F)=>{w=()=>{F({name:"AbortError",message:E||"Aborted"})},v.signal.addEventListener("abort",w)});f(s(y,l,r?.getPendingMeta?.({requestId:y,arg:l},{getState:m,extra:p}))),S=await Promise.race([R,Promise.resolve(t(l,{dispatch:f,getState:m,extra:p,requestId:y,signal:v.signal,abort:k,rejectWithValue:(A,F)=>new e2(A,F),fulfillWithValue:(A,F)=>new ON(A,F)})).then(A=>{if(A instanceof e2)throw A;return A instanceof ON?i(A.payload,y,l,A.meta):i(A,y,l)})])}catch(I){S=I instanceof e2?o(null,y,l,I.payload,I.meta):o(I,y,l)}finally{w&&v.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition||f(S),S}();return Object.assign(T,{abort:k,requestId:y,arg:l,unwrap(){return T.then(fK)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:aK(o,i),typePrefix:e})}return n.withTypes=()=>n,n})();function fK(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function hK(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var mK=Symbol.for("rtk-slice-createasyncthunk");function gK(n,e){return`${n}/${e}`}function pK({creators:n}={}){const e=n?.asyncThunk?.[mK];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Ya(11));const o=(typeof r.reducers=="function"?r.reducers(yK()):r.reducers)||{},a=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,P){const I=typeof S=="string"?S:S.type;if(!I)throw new Error(Ya(12));if(I in l.sliceCaseReducersByType)throw new Error(Ya(13));return l.sliceCaseReducersByType[I]=P,u},addMatcher(S,P){return l.sliceMatchers.push({matcher:S,reducer:P}),u},exposeAction(S,P){return l.actionCreators[S]=P,u},exposeCaseReducer(S,P){return l.sliceCaseReducersByName[S]=P,u}};a.forEach(S=>{const P=o[S],I={reducerName:S,type:gK(i,S),createNotation:typeof r.reducers=="function"};vK(P)?xK(I,P,u,e):wK(I,P,u)});function f(){const[S={},P=[],I=void 0]=typeof r.extraReducers=="function"?XD(r.extraReducers):[r.extraReducers],R={...S,...l.sliceCaseReducersByType};return sK(r.initialState,A=>{for(let F in R)A.addCase(F,R[F]);for(let F of l.sliceMatchers)A.addMatcher(F.matcher,F.reducer);for(let F of P)A.addMatcher(F.matcher,F.reducer);I&&A.addDefaultCase(I)})}const m=S=>S,p=new Map,y=new WeakMap;let v;function w(S,P){return v||(v=f()),v(S,P)}function E(){return v||(v=f()),v.getInitialState()}function k(S,P=!1){function I(A){let F=A[S];return typeof F>"u"&&P&&(F=x1(y,I,E)),F}function R(A=m){const F=x1(p,P,()=>new WeakMap);return x1(F,A,()=>{const V={};for(const[K,re]of Object.entries(r.selectors??{}))V[K]=bK(re,A,()=>x1(y,A,E),P);return V})}return{reducerPath:S,getSelectors:R,get selectors(){return R(I)},selectSlice:I}}const T={name:i,reducer:w,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:E,...k(s),injectInto(S,{reducerPath:P,...I}={}){const R=P??s;return S.inject({reducerPath:R,reducer:w},I),{...T,...k(R,!0)}}};return T}}function bK(n,e,t,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=t()),n(a,...o)}return i.unwrapped=n,i}var rh=pK();function yK(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function wK({type:n,reducerName:e,createNotation:t},r,i){let s,o;if("reducer"in r){if(t&&!_K(r))throw new Error(Ya(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?ig(n,o):ig(n))}function vK(n){return n._reducerDefinitionType==="asyncThunk"}function _K(n){return n._reducerDefinitionType==="reducerWithPrepare"}function xK({type:n,reducerName:e},t,r,i){if(!i)throw new Error(Ya(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:f}=t,m=i(n,s,f);r.exposeAction(e,m),o&&r.addCase(m.fulfilled,o),a&&r.addCase(m.pending,a),l&&r.addCase(m.rejected,l),u&&r.addMatcher(m.settled,u),r.exposeCaseReducer(e,{fulfilled:o||E1,pending:a||E1,rejected:l||E1,settled:u||E1})}function E1(){}function Ya(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}function JD(n,e){return function(){return n.apply(e,arguments)}}const{toString:EK}=Object.prototype,{getPrototypeOf:MT}=Object,{iterator:mw,toStringTag:QD}=Symbol,gw=(n=>e=>{const t=EK.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Io=n=>(n=n.toLowerCase(),e=>gw(e)===n),pw=n=>e=>typeof e===n,{isArray:ih}=Array,Fg=pw("undefined");function kK(n){return n!==null&&!Fg(n)&&n.constructor!==null&&!Fg(n.constructor)&&Fi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ZD=Io("ArrayBuffer");function TK(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ZD(n.buffer),e}const SK=pw("string"),Fi=pw("function"),e7=pw("number"),bw=n=>n!==null&&typeof n=="object",CK=n=>n===!0||n===!1,hb=n=>{if(gw(n)!=="object")return!1;const e=MT(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(QD in n)&&!(mw in n)},AK=Io("Date"),NK=Io("File"),PK=Io("Blob"),IK=Io("FileList"),RK=n=>bw(n)&&Fi(n.pipe),OK=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Fi(n.append)&&((e=gw(n))==="formdata"||e==="object"&&Fi(n.toString)&&n.toString()==="[object FormData]"))},MK=Io("URLSearchParams"),[DK,FK,LK,BK]=["ReadableStream","Request","Response","Headers"].map(Io),VK=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function C0(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),ih(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function t7(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ru=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,n7=n=>!Fg(n)&&n!==ru;function HE(){const{caseless:n}=n7(this)&&this||{},e={},t=(r,i)=>{const s=n&&t7(e,i)||i;hb(e[s])&&hb(r)?e[s]=HE(e[s],r):hb(r)?e[s]=HE({},r):ih(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&C0(arguments[r],t);return e}const UK=(n,e,t,{allOwnKeys:r}={})=>(C0(e,(i,s)=>{t&&Fi(i)?n[s]=JD(i,t):n[s]=i},{allOwnKeys:r}),n),zK=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),HK=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},$K=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&MT(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},WK=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},jK=n=>{if(!n)return null;if(ih(n))return n;let e=n.length;if(!e7(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},qK=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&MT(Uint8Array)),GK=(n,e)=>{const r=(n&&n[mw]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},YK=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},KK=Io("HTMLFormElement"),XK=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),DN=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),JK=Io("RegExp"),r7=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};C0(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},QK=n=>{r7(n,(e,t)=>{if(Fi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Fi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ZK=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return ih(n)?r(n):r(String(n).split(e)),t},eX=()=>{},tX=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function nX(n){return!!(n&&Fi(n.append)&&n[QD]==="FormData"&&n[mw])}const rX=n=>{const e=new Array(10),t=(r,i)=>{if(bw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ih(r)?[]:{};return C0(r,(o,a)=>{const l=t(o,i+1);!Fg(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},iX=Io("AsyncFunction"),sX=n=>n&&(bw(n)||Fi(n))&&Fi(n.then)&&Fi(n.catch),i7=((n,e)=>n?setImmediate:e?((t,r)=>(ru.addEventListener("message",({source:i,data:s})=>{i===ru&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ru.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Fi(ru.postMessage)),oX=typeof queueMicrotask<"u"?queueMicrotask.bind(ru):typeof process<"u"&&process.nextTick||i7,aX=n=>n!=null&&Fi(n[mw]),pe={isArray:ih,isArrayBuffer:ZD,isBuffer:kK,isFormData:OK,isArrayBufferView:TK,isString:SK,isNumber:e7,isBoolean:CK,isObject:bw,isPlainObject:hb,isReadableStream:DK,isRequest:FK,isResponse:LK,isHeaders:BK,isUndefined:Fg,isDate:AK,isFile:NK,isBlob:PK,isRegExp:JK,isFunction:Fi,isStream:RK,isURLSearchParams:MK,isTypedArray:qK,isFileList:IK,forEach:C0,merge:HE,extend:UK,trim:VK,stripBOM:zK,inherits:HK,toFlatObject:$K,kindOf:gw,kindOfTest:Io,endsWith:WK,toArray:jK,forEachEntry:GK,matchAll:YK,isHTMLForm:KK,hasOwnProperty:DN,hasOwnProp:DN,reduceDescriptors:r7,freezeMethods:QK,toObjectSet:ZK,toCamelCase:XK,noop:eX,toFiniteNumber:tX,findKey:t7,global:ru,isContextDefined:n7,isSpecCompliantForm:nX,toJSONObject:rX,isAsyncFn:iX,isThenable:sX,setImmediate:i7,asap:oX,isIterable:aX};function wt(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const s7=wt.prototype,o7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{o7[n]={value:n}});Object.defineProperties(wt,o7);Object.defineProperty(s7,"isAxiosError",{value:!0});wt.from=(n,e,t,r,i,s)=>{const o=Object.create(s7);return pe.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),wt.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const lX=null;function $E(n){return pe.isPlainObject(n)||pe.isArray(n)}function a7(n){return pe.endsWith(n,"[]")?n.slice(0,-2):n}function FN(n,e,t){return n?n.concat(e).map(function(i,s){return i=a7(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function cX(n){return pe.isArray(n)&&!n.some($E)}const uX=pe.toFlatObject(pe,{},null,function(e){return/^is[A-Z]/.test(e)});function yw(n,e,t){if(!pe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=pe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,E){return!pe.isUndefined(E[w])});const r=t.metaTokens,i=t.visitor||f,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(e);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(pe.isDate(v))return v.toISOString();if(pe.isBoolean(v))return v.toString();if(!l&&pe.isBlob(v))throw new wt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(v)||pe.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,w,E){let k=v;if(v&&!E&&typeof v=="object"){if(pe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(pe.isArray(v)&&cX(v)||(pe.isFileList(v)||pe.endsWith(w,"[]"))&&(k=pe.toArray(v)))return w=a7(w),k.forEach(function(S,P){!(pe.isUndefined(S)||S===null)&&e.append(o===!0?FN([w],P,s):o===null?w:w+"[]",u(S))}),!1}return $E(v)?!0:(e.append(FN(E,w,s),u(v)),!1)}const m=[],p=Object.assign(uX,{defaultVisitor:f,convertValue:u,isVisitable:$E});function y(v,w){if(!pe.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(v),pe.forEach(v,function(k,T){(!(pe.isUndefined(k)||k===null)&&i.call(e,k,pe.isString(T)?T.trim():T,w,p))===!0&&y(k,w?w.concat(T):[T])}),m.pop()}}if(!pe.isObject(n))throw new TypeError("data must be an object");return y(n),e}function LN(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function DT(n,e){this._pairs=[],n&&yw(n,this,e)}const l7=DT.prototype;l7.append=function(e,t){this._pairs.push([e,t])};l7.toString=function(e){const t=e?function(r){return e.call(this,r,LN)}:LN;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function dX(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function c7(n,e,t){if(!e)return n;const r=t&&t.encode||dX;pe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=pe.isURLSearchParams(e)?e.toString():new DT(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class BN{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const u7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fX=typeof URLSearchParams<"u"?URLSearchParams:DT,hX=typeof FormData<"u"?FormData:null,mX=typeof Blob<"u"?Blob:null,gX={isBrowser:!0,classes:{URLSearchParams:fX,FormData:hX,Blob:mX},protocols:["http","https","file","blob","url","data"]},FT=typeof window<"u"&&typeof document<"u",WE=typeof navigator=="object"&&navigator||void 0,pX=FT&&(!WE||["ReactNative","NativeScript","NS"].indexOf(WE.product)<0),bX=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yX=FT&&window.location.href||"http://localhost",wX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FT,hasStandardBrowserEnv:pX,hasStandardBrowserWebWorkerEnv:bX,navigator:WE,origin:yX},Symbol.toStringTag,{value:"Module"})),si={...wX,...gX};function vX(n,e){return yw(n,new si.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return si.isNode&&pe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function _X(n){return pe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xX(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function d7(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&pe.isArray(i)?i.length:o,l?(pe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!pe.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&pe.isArray(i[o])&&(i[o]=xX(i[o])),!a)}if(pe.isFormData(n)&&pe.isFunction(n.entries)){const t={};return pe.forEachEntry(n,(r,i)=>{e(_X(r),i,t,0)}),t}return null}function EX(n,e,t){if(pe.isString(n))try{return(e||JSON.parse)(n),pe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const A0={transitional:u7,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=pe.isObject(e);if(s&&pe.isHTMLForm(e)&&(e=new FormData(e)),pe.isFormData(e))return i?JSON.stringify(d7(e)):e;if(pe.isArrayBuffer(e)||pe.isBuffer(e)||pe.isStream(e)||pe.isFile(e)||pe.isBlob(e)||pe.isReadableStream(e))return e;if(pe.isArrayBufferView(e))return e.buffer;if(pe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vX(e,this.formSerializer).toString();if((a=pe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return yw(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),EX(e)):e}],transformResponse:[function(e){const t=this.transitional||A0.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(e)||pe.isReadableStream(e))return e;if(e&&pe.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?wt.from(a,wt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:si.classes.FormData,Blob:si.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],n=>{A0.headers[n]={}});const kX=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TX=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&kX[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},VN=Symbol("internals");function _m(n){return n&&String(n).trim().toLowerCase()}function mb(n){return n===!1||n==null?n:pe.isArray(n)?n.map(mb):String(n)}function SX(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const CX=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function t2(n,e,t,r,i){if(pe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!pe.isString(e)){if(pe.isString(r))return e.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(e)}}function AX(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function NX(n,e){const t=pe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Li=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const f=_m(l);if(!f)throw new Error("header name must be a non-empty string");const m=pe.findKey(i,f);(!m||i[m]===void 0||u===!0||u===void 0&&i[m]!==!1)&&(i[m||l]=mb(a))}const o=(a,l)=>pe.forEach(a,(u,f)=>s(u,f,l));if(pe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(pe.isString(e)&&(e=e.trim())&&!CX(e))o(TX(e),t);else if(pe.isObject(e)&&pe.isIterable(e)){let a={},l,u;for(const f of e){if(!pe.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(l=a[u])?pe.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=_m(e),e){const r=pe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return SX(i);if(pe.isFunction(t))return t.call(this,i,r);if(pe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_m(e),e){const r=pe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||t2(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=_m(o),o){const a=pe.findKey(r,o);a&&(!t||t2(r,r[a],a,t))&&(delete r[a],i=!0)}}return pe.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||t2(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return pe.forEach(this,(i,s)=>{const o=pe.findKey(r,s);if(o){t[o]=mb(i),delete t[s];return}const a=e?AX(s):String(s).trim();a!==s&&delete t[s],t[a]=mb(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&pe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[VN]=this[VN]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=_m(o);r[a]||(NX(i,o),r[a]=!0)}return pe.isArray(e)?e.forEach(s):s(e),this}};Li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Li.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});pe.freezeMethods(Li);function n2(n,e){const t=this||A0,r=e||t,i=Li.from(r.headers);let s=r.data;return pe.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function f7(n){return!!(n&&n.__CANCEL__)}function sh(n,e,t){wt.call(this,n??"canceled",wt.ERR_CANCELED,e,t),this.name="CanceledError"}pe.inherits(sh,wt,{__CANCEL__:!0});function h7(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new wt("Request failed with status code "+t.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function PX(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function IX(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[s];o||(o=u),t[i]=l,r[i]=u;let m=s,p=0;for(;m!==i;)p+=t[m++],m=m%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const y=f&&u-f;return y?Math.round(p*1e3/y):void 0}}function RX(n,e){let t=0,r=1e3/e,i,s;const o=(u,f=Date.now())=>{t=f,i=null,s&&(clearTimeout(s),s=null),n.apply(null,u)};return[(...u)=>{const f=Date.now(),m=f-t;m>=r?o(u,f):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-m)))},()=>i&&o(i)]}const Jb=(n,e,t=3)=>{let r=0;const i=IX(50,250);return RX(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),f=o<=a;r=o;const m={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&f?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(m)},t)},UN=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},zN=n=>(...e)=>pe.asap(()=>n(...e)),OX=si.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,si.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(si.origin),si.navigator&&/(msie|trident)/i.test(si.navigator.userAgent)):()=>!0,MX=si.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];pe.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),pe.isString(r)&&o.push("path="+r),pe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function DX(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function FX(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function m7(n,e,t){let r=!DX(e);return n&&(r||t==!1)?FX(n,e):e}const HN=n=>n instanceof Li?{...n}:n;function wu(n,e){e=e||{};const t={};function r(u,f,m,p){return pe.isPlainObject(u)&&pe.isPlainObject(f)?pe.merge.call({caseless:p},u,f):pe.isPlainObject(f)?pe.merge({},f):pe.isArray(f)?f.slice():f}function i(u,f,m,p){if(pe.isUndefined(f)){if(!pe.isUndefined(u))return r(void 0,u,m,p)}else return r(u,f,m,p)}function s(u,f){if(!pe.isUndefined(f))return r(void 0,f)}function o(u,f){if(pe.isUndefined(f)){if(!pe.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,m){if(m in e)return r(u,f);if(m in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,f,m)=>i(HN(u),HN(f),m,!0)};return pe.forEach(Object.keys(Object.assign({},n,e)),function(f){const m=l[f]||i,p=m(n[f],e[f],f);pe.isUndefined(p)&&m!==a||(t[f]=p)}),t}const g7=n=>{const e=wu({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Li.from(o),e.url=c7(m7(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(pe.isFormData(t)){if(si.hasStandardBrowserEnv||si.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...f]=l?l.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...f].join("; "))}}if(si.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(e)),r||r!==!1&&OX(e.url))){const u=i&&s&&MX.read(s);u&&o.set(i,u)}return e},LX=typeof XMLHttpRequest<"u",BX=LX&&function(n){return new Promise(function(t,r){const i=g7(n);let s=i.data;const o=Li.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,f,m,p,y,v;function w(){y&&y(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function k(){if(!E)return;const S=Li.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),I={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:S,config:n,request:E};h7(function(A){t(A),w()},function(A){r(A),w()},I),E=null}"onloadend"in E?E.onloadend=k:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(k)},E.onabort=function(){E&&(r(new wt("Request aborted",wt.ECONNABORTED,n,E)),E=null)},E.onerror=function(){r(new wt("Network Error",wt.ERR_NETWORK,n,E)),E=null},E.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||u7;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new wt(P,I.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,n,E)),E=null},s===void 0&&o.setContentType(null),"setRequestHeader"in E&&pe.forEach(o.toJSON(),function(P,I){E.setRequestHeader(I,P)}),pe.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),a&&a!=="json"&&(E.responseType=i.responseType),u&&([p,v]=Jb(u,!0),E.addEventListener("progress",p)),l&&E.upload&&([m,y]=Jb(l),E.upload.addEventListener("progress",m),E.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(f=S=>{E&&(r(!S||S.type?new sh(null,n,E):S),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const T=PX(i.url);if(T&&si.protocols.indexOf(T)===-1){r(new wt("Unsupported protocol "+T+":",wt.ERR_BAD_REQUEST,n));return}E.send(s||null)})},VX=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof wt?f:new sh(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new wt(`timeout ${e} of ms exceeded`,wt.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>pe.asap(a),l}},UX=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},zX=async function*(n,e){for await(const t of HX(n))yield*UX(t,e)},HX=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},$N=(n,e,t,r)=>{const i=zX(n,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){a(),l.close();return}let m=f.byteLength;if(t){let p=s+=m;t(p)}l.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},ww=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",p7=ww&&typeof ReadableStream=="function",$X=ww&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),b7=(n,...e)=>{try{return!!n(...e)}catch{return!1}},WX=p7&&b7(()=>{let n=!1;const e=new Request(si.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),WN=64*1024,jE=p7&&b7(()=>pe.isReadableStream(new Response("").body)),Qb={stream:jE&&(n=>n.body)};ww&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qb[e]&&(Qb[e]=pe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new wt(`Response type '${e}' is not supported`,wt.ERR_NOT_SUPPORT,r)})})})(new Response);const jX=async n=>{if(n==null)return 0;if(pe.isBlob(n))return n.size;if(pe.isSpecCompliantForm(n))return(await new Request(si.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(n)||pe.isArrayBuffer(n))return n.byteLength;if(pe.isURLSearchParams(n)&&(n=n+""),pe.isString(n))return(await $X(n)).byteLength},qX=async(n,e)=>{const t=pe.toFiniteNumber(n.getContentLength());return t??jX(e)},GX=ww&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:f,withCredentials:m="same-origin",fetchOptions:p}=g7(n);u=u?(u+"").toLowerCase():"text";let y=VX([i,s&&s.toAbortSignal()],o),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let E;try{if(l&&WX&&t!=="get"&&t!=="head"&&(E=await qX(f,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),R;if(pe.isFormData(r)&&(R=I.headers.get("content-type"))&&f.setContentType(R),I.body){const[A,F]=UN(E,Jb(zN(l)));r=$N(I.body,WN,A,F)}}pe.isString(m)||(m=m?"include":"omit");const k="credentials"in Request.prototype;v=new Request(e,{...p,signal:y,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:k?m:void 0});let T=await fetch(v,p);const S=jE&&(u==="stream"||u==="response");if(jE&&(a||S&&w)){const I={};["status","statusText","headers"].forEach(V=>{I[V]=T[V]});const R=pe.toFiniteNumber(T.headers.get("content-length")),[A,F]=a&&UN(R,Jb(zN(a),!0))||[];T=new Response($N(T.body,WN,A,()=>{F&&F(),w&&w()}),I)}u=u||"text";let P=await Qb[pe.findKey(Qb,u)||"text"](T,n);return!S&&w&&w(),await new Promise((I,R)=>{h7(I,R,{data:P,headers:Li.from(T.headers),status:T.status,statusText:T.statusText,config:n,request:v})})}catch(k){throw w&&w(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,n,v),{cause:k.cause||k}):wt.from(k,k&&k.code,n,v)}}),qE={http:lX,xhr:BX,fetch:GX};pe.forEach(qE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const jN=n=>`- ${n}`,YX=n=>pe.isFunction(n)||n===null||n===!1,y7={getAdapter:n=>{n=pe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!YX(t)&&(r=qE[(o=String(t)).toLowerCase()],r===void 0))throw new wt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(jN).join(`
`):" "+jN(s[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:qE};function r2(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new sh(null,n)}function qN(n){return r2(n),n.headers=Li.from(n.headers),n.data=n2.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),y7.getAdapter(n.adapter||A0.adapter)(n).then(function(r){return r2(n),r.data=n2.call(n,n.transformResponse,r),r.headers=Li.from(r.headers),r},function(r){return f7(r)||(r2(n),r&&r.response&&(r.response.data=n2.call(n,n.transformResponse,r.response),r.response.headers=Li.from(r.response.headers))),Promise.reject(r)})}const w7="1.10.0",vw={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{vw[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const GN={};vw.transitional=function(e,t,r){function i(s,o){return"[Axios v"+w7+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new wt(i(o," has been removed"+(t?" in "+t:"")),wt.ERR_DEPRECATED);return t&&!GN[o]&&(GN[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};vw.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function KX(n,e,t){if(typeof n!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new wt("option "+s+" must be "+l,wt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new wt("Unknown option "+s,wt.ERR_BAD_OPTION)}}const gb={assertOptions:KX,validators:vw},Ho=gb.validators;let uu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new BN,response:new BN}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=wu(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&gb.assertOptions(r,{silentJSONParsing:Ho.transitional(Ho.boolean),forcedJSONParsing:Ho.transitional(Ho.boolean),clarifyTimeoutError:Ho.transitional(Ho.boolean)},!1),i!=null&&(pe.isFunction(i)?t.paramsSerializer={serialize:i}:gb.assertOptions(i,{encode:Ho.function,serialize:Ho.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gb.assertOptions(t,{baseUrl:Ho.spelling("baseURL"),withXsrfToken:Ho.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&pe.merge(s.common,s[t.method]);s&&pe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=Li.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let f,m=0,p;if(!l){const v=[qN.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),p=v.length,f=Promise.resolve(t);m<p;)f=f.then(v[m++],v[m++]);return f}p=a.length;let y=t;for(m=0;m<p;){const v=a[m++],w=a[m++];try{y=v(y)}catch(E){w.call(this,E);break}}try{f=qN.call(this,y)}catch(v){return Promise.reject(v)}for(m=0,p=u.length;m<p;)f=f.then(u[m++],u[m++]);return f}getUri(e){e=wu(this.defaults,e);const t=m7(e.baseURL,e.url,e.allowAbsoluteUrls);return c7(t,e.params,e.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(e){uu.prototype[e]=function(t,r){return this.request(wu(r||{},{method:e,url:t,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(wu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}uu.prototype[e]=t(),uu.prototype[e+"Form"]=t(!0)});let XX=class v7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new sh(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new v7(function(i){e=i}),cancel:e}}};function JX(n){return function(t){return n.apply(null,t)}}function QX(n){return pe.isObject(n)&&n.isAxiosError===!0}const GE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(GE).forEach(([n,e])=>{GE[e]=n});function _7(n){const e=new uu(n),t=JD(uu.prototype.request,e);return pe.extend(t,uu.prototype,e,{allOwnKeys:!0}),pe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return _7(wu(n,i))},t}const rr=_7(A0);rr.Axios=uu;rr.CanceledError=sh;rr.CancelToken=XX;rr.isCancel=f7;rr.VERSION=w7;rr.toFormData=yw;rr.AxiosError=wt;rr.Cancel=rr.CanceledError;rr.all=function(e){return Promise.all(e)};rr.spread=JX;rr.isAxiosError=QX;rr.mergeConfig=wu;rr.AxiosHeaders=Li;rr.formToJSON=n=>d7(pe.isHTMLForm(n)?new FormData(n):n);rr.getAdapter=y7.getAdapter;rr.HttpStatusCode=GE;rr.default=rr;const{Axios:ZOe,AxiosError:e6e,CanceledError:t6e,isCancel:n6e,CancelToken:r6e,VERSION:i6e,all:s6e,Cancel:o6e,isAxiosError:a6e,spread:l6e,toFormData:c6e,AxiosHeaders:u6e,HttpStatusCode:d6e,formToJSON:f6e,getAdapter:h6e,mergeConfig:m6e}=rr;function x7(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=x7(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Bi(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=x7(n))&&(r&&(r+=" "),r+=e);return r}function ZX(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}ZX(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var N0=n=>typeof n=="number"&&!isNaN(n),vu=n=>typeof n=="string",ol=n=>typeof n=="function",eJ=n=>vu(n)||N0(n),YE=n=>vu(n)||ol(n)?n:null,tJ=(n,e)=>n===!1||N0(n)&&n>0?n:e,KE=n=>O.isValidElement(n)||vu(n)||ol(n)||N0(n);function nJ(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function rJ({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:f,playToast:m}){let p=t?`${n}--${o}`:n,y=t?`${e}--${o}`:e,v=O.useRef(0);return O.useLayoutEffect(()=>{let w=u.current,E=p.split(" "),k=T=>{T.target===u.current&&(m(),w.removeEventListener("animationend",k),w.removeEventListener("animationcancel",k),v.current===0&&T.type!=="animationcancel"&&w.classList.remove(...E))};w.classList.add(...E),w.addEventListener("animationend",k),w.addEventListener("animationcancel",k)},[]),O.useEffect(()=>{let w=u.current,E=()=>{w.removeEventListener("animationend",E),r?nJ(w,l,i):l()};f||(a?E():(v.current=1,w.className+=` ${y}`,w.addEventListener("animationend",E)))},[f]),g.createElement(g.Fragment,null,s)}}function YN(n,e){return{content:E7(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function E7(n,e,t=!1){return O.isValidElement(n)&&!vu(n.type)?O.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):ol(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function iJ({closeToast:n,theme:e,ariaLabel:t="close"}){return g.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},g.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},g.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function sJ({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:f}){let m=i||o&&a===0,p={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let y=Bi("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),v=ol(s)?s({rtl:l,type:r,defaultClassName:y}):Bi(y,s),w={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&t()}};return g.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},g.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),g.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:v,style:p,...w}))}var oJ=1,k7=()=>`${oJ++}`;function aJ(n,e,t){let r=1,i=0,s=[],o=[],a=e,l=new Map,u=new Set,f=T=>(u.add(T),()=>u.delete(T)),m=()=>{o=Array.from(l.values()),u.forEach(T=>T())},p=({containerId:T,toastId:S,updateId:P})=>{let I=T?T!==n:n!==1,R=l.has(S)&&P==null;return I||R},y=(T,S)=>{l.forEach(P=>{var I;(S==null||S===P.props.toastId)&&((I=P.toggle)==null||I.call(P,T))})},v=T=>{var S,P;(P=(S=T.props)==null?void 0:S.onClose)==null||P.call(S,T.removalReason),T.isActive=!1},w=T=>{if(T==null)l.forEach(v);else{let S=l.get(T);S&&v(S)}m()},E=()=>{i-=s.length,s=[]},k=T=>{var S,P;let{toastId:I,updateId:R}=T.props,A=R==null;T.staleId&&l.delete(T.staleId),T.isActive=!0,l.set(I,T),m(),t(YN(T,A?"added":"updated")),A&&((P=(S=T.props).onOpen)==null||P.call(S))};return{id:n,props:a,observe:f,toggle:y,removeToast:w,toasts:l,clearQueue:E,buildToast:(T,S)=>{if(p(S))return;let{toastId:P,updateId:I,data:R,staleId:A,delay:F}=S,V=I==null;V&&i++;let K={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(S).filter(([N,te])=>te!=null)),toastId:P,updateId:I,data:R,isIn:!1,className:YE(S.className||a.toastClassName),progressClassName:YE(S.progressClassName||a.progressClassName),autoClose:S.isLoading?!1:tJ(S.autoClose,a.autoClose),closeToast(N){l.get(P).removalReason=N,w(P)},deleteToast(){let N=l.get(P);if(N!=null){if(t(YN(N,"removed")),l.delete(P),i--,i<0&&(i=0),s.length>0){k(s.shift());return}m()}}};K.closeButton=a.closeButton,S.closeButton===!1||KE(S.closeButton)?K.closeButton=S.closeButton:S.closeButton===!0&&(K.closeButton=KE(a.closeButton)?a.closeButton:!0);let re={content:T,props:K,staleId:A};a.limit&&a.limit>0&&i>a.limit&&V?s.push(re):N0(F)?setTimeout(()=>{k(re)},F):k(re)},setProps(T){a=T},setToggle:(T,S)=>{let P=l.get(T);P&&(P.toggle=S)},isToastActive:T=>{var S;return(S=l.get(T))==null?void 0:S.isActive},getSnapshot:()=>o}}var yi=new Map,Lg=[],XE=new Set,lJ=n=>XE.forEach(e=>e(n)),T7=()=>yi.size>0;function cJ(){Lg.forEach(n=>C7(n.content,n.options)),Lg=[]}var uJ=(n,{containerId:e})=>{var t;return(t=yi.get(e||1))==null?void 0:t.toasts.get(n)};function S7(n,e){var t;if(e)return!!((t=yi.get(e))!=null&&t.isToastActive(n));let r=!1;return yi.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function dJ(n){if(!T7()){Lg=Lg.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||eJ(n))yi.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=yi.get(n.containerId);e?e.removeToast(n.id):yi.forEach(t=>{t.removeToast(n.id)})}}var fJ=(n={})=>{yi.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function C7(n,e){KE(n)&&(T7()||Lg.push({content:n,options:e}),yi.forEach(t=>{t.buildToast(n,e)}))}function hJ(n){var e;(e=yi.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function A7(n,e){yi.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function mJ(n){let e=n.containerId||1;return{subscribe(t){let r=aJ(e,n,lJ);yi.set(e,r);let i=r.observe(t);return cJ(),()=>{i(),yi.delete(e)}},setProps(t){var r;(r=yi.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=yi.get(e))==null?void 0:t.getSnapshot()}}}function gJ(n){return XE.add(n),()=>{XE.delete(n)}}function pJ(n){return n&&(vu(n.toastId)||N0(n.toastId))?n.toastId:k7()}function P0(n,e){return C7(n,e),e.toastId}function _w(n,e){return{...e,type:e&&e.type||n,toastId:pJ(e)}}function xw(n){return(e,t)=>P0(e,_w(n,t))}function be(n,e){return P0(n,_w("default",e))}be.loading=(n,e)=>P0(n,_w("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function bJ(n,{pending:e,error:t,success:r},i){let s;e&&(s=vu(e)?be.loading(e,i):be.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,f,m)=>{if(f==null){be.dismiss(s);return}let p={type:u,...o,...i,data:m},y=vu(f)?{render:f}:f;return s?be.update(s,{...p,...y}):be(y.render,{...p,...y}),m},l=ol(n)?n():n;return l.then(u=>a("success",r,u)).catch(u=>a("error",t,u)),l}be.promise=bJ;be.success=xw("success");be.info=xw("info");be.error=xw("error");be.warning=xw("warning");be.warn=be.warning;be.dark=(n,e)=>P0(n,_w("default",{theme:"dark",...e}));function yJ(n){dJ(n)}be.dismiss=yJ;be.clearWaitingQueue=fJ;be.isActive=S7;be.update=(n,e={})=>{let t=uJ(n,e);if(t){let{props:r,content:i}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:k7()};s.toastId!==n&&(s.staleId=n);let o=s.render||i;delete s.render,P0(o,s)}};be.done=n=>{be.update(n,{progress:1})};be.onChange=gJ;be.play=n=>A7(!0,n);be.pause=n=>A7(!1,n);function wJ(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=O.useRef(mJ(n)).current;i(n);let s=(e=O.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return n.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:f}=u.props;l.has(f)||l.set(f,[]),l.get(f).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:S7,count:s?.length}}function vJ(n){let[e,t]=O.useState(!1),[r,i]=O.useState(!1),s=O.useRef(null),o=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:f,closeOnClick:m}=n;hJ({id:n.toastId,containerId:n.containerId,fn:t}),O.useEffect(()=>{if(n.pauseOnFocusLoss)return p(),()=>{y()}},[n.pauseOnFocusLoss]);function p(){document.hasFocus()||k(),window.addEventListener("focus",E),window.addEventListener("blur",k)}function y(){window.removeEventListener("focus",E),window.removeEventListener("blur",k)}function v(A){if(n.draggable===!0||n.draggable===A.pointerType){T();let F=s.current;o.canCloseOnClick=!0,o.canDrag=!0,F.style.transition="none",n.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=F.offsetWidth*(n.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=F.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function w(A){let{top:F,bottom:V,left:K,right:re}=s.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&n.pauseOnHover&&A.clientX>=K&&A.clientX<=re&&A.clientY>=F&&A.clientY<=V?k():E()}function E(){t(!0)}function k(){t(!1)}function T(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",I)}function S(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",I)}function P(A){let F=s.current;if(o.canDrag&&F){o.didMove=!0,e&&k(),n.draggableDirection==="x"?o.delta=A.clientX-o.start:o.delta=A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1);let V=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;F.style.transform=`translate3d(${V},0)`,F.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function I(){S();let A=s.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let R={onPointerDown:v,onPointerUp:w};return a&&l&&(R.onMouseEnter=k,n.stacked||(R.onMouseLeave=E)),m&&(R.onClick=A=>{f&&f(A),o.canCloseOnClick&&u(!0)}),{playToast:E,pauseToast:k,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:R}}var _J=typeof window<"u"?O.useLayoutEffect:O.useEffect,Ew=({theme:n,type:e,isLoading:t,...r})=>g.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function xJ(n){return g.createElement(Ew,{...n},g.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function EJ(n){return g.createElement(Ew,{...n},g.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kJ(n){return g.createElement(Ew,{...n},g.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function TJ(n){return g.createElement(Ew,{...n},g.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function SJ(){return g.createElement("div",{className:"Toastify__spinner"})}var JE={info:EJ,warning:xJ,success:kJ,error:TJ,spinner:SJ},CJ=n=>n in JE;function AJ({theme:n,type:e,isLoading:t,icon:r}){let i=null,s={theme:n,type:e};return r===!1||(ol(r)?i=r({...s,isLoading:t}):O.isValidElement(r)?i=O.cloneElement(r,s):t?i=JE.spinner():CJ(e)&&(i=JE[e](s))),i}var NJ=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:s}=vJ(n),{closeButton:o,children:a,autoClose:l,onClick:u,type:f,hideProgressBar:m,closeToast:p,transition:y,position:v,className:w,style:E,progressClassName:k,updateId:T,role:S,progress:P,rtl:I,toastId:R,deleteToast:A,isIn:F,isLoading:V,closeOnClick:K,theme:re,ariaLabel:N}=n,te=Bi("Toastify__toast",`Toastify__toast-theme--${re}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":K}),ye=ol(w)?w({rtl:I,position:v,type:f,defaultClassName:te}):Bi(te,w),Ee=AJ(n),ne=!!P||!l,ke={closeToast:p,type:f,theme:re},We=null;return o===!1||(ol(o)?We=o(ke):O.isValidElement(o)?We=O.cloneElement(o,ke):We=iJ(ke)),g.createElement(y,{isIn:F,done:A,position:v,preventExitTransition:t,nodeRef:r,playToast:s},g.createElement("div",{id:R,tabIndex:0,onClick:u,"data-in":F,className:ye,...i,style:E,ref:r,...F&&{role:S,"aria-label":N}},Ee!=null&&g.createElement("div",{className:Bi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},Ee),E7(a,n,!e),We,!n.customProgressBar&&g.createElement(sJ,{...T&&!ne?{key:`p-${T}`}:{},rtl:I,theme:re,delay:l,isRunning:e,isIn:F,closeToast:p,hide:m,type:f,className:k,controlledProgress:ne,progress:P||0})))},PJ=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),IJ=rJ(PJ("bounce",!0)),RJ={position:"top-right",transition:IJ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function N7(n){let e={...RJ,...n},t=n.stacked,[r,i]=O.useState(!0),s=O.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=wJ(e),{className:u,style:f,rtl:m,containerId:p,hotKeys:y}=e;function v(E){let k=Bi("Toastify__toast-container",`Toastify__toast-container--${E}`,{"Toastify__toast-container--rtl":m});return ol(u)?u({position:E,rtl:m,defaultClassName:k}):Bi(k,YE(u))}function w(){t&&(i(!0),be.play())}return _J(()=>{var E;if(t){let k=s.current.querySelectorAll('[data-in="true"]'),T=12,S=(E=e.position)==null?void 0:E.includes("top"),P=0,I=0;Array.from(k).reverse().forEach((R,A)=>{let F=R;F.classList.add("Toastify__toast--stacked"),A>0&&(F.dataset.collapsed=`${r}`),F.dataset.pos||(F.dataset.pos=S?"top":"bot");let V=P*(r?.2:1)+(r?0:T*A);F.style.setProperty("--y",`${S?V:V*-1}px`),F.style.setProperty("--g",`${T}`),F.style.setProperty("--s",`${1-(r?I:0)}`),P+=F.offsetHeight,I+=.025})}},[r,l,t]),O.useEffect(()=>{function E(k){var T;let S=s.current;y(k)&&((T=S.querySelector('[tabIndex="0"]'))==null||T.focus(),i(!1),be.pause()),k.key==="Escape"&&(document.activeElement===S||S!=null&&S.contains(document.activeElement))&&(i(!0),be.play())}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[y]),g.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{t&&(i(!1),be.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((E,k)=>{let T=k.length?{...f}:{...f,pointerEvents:"none"};return g.createElement("div",{tabIndex:-1,className:v(E),"data-stacked":t,style:T,key:`c-${E}`},k.map(({content:S,props:P})=>g.createElement(NJ,{...P,stacked:t,collapseAll:w,isIn:a(P.toastId,P.containerId),key:`t-${P.key}`},S)))}))}/*! js-cookie v3.0.5 | MIT */function k1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}var OJ={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function QE(n,e){function t(i,s,o){if(!(typeof document>"u")){o=k1({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+n.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),u=l.slice(1).join("=");try{var f=decodeURIComponent(l[0]);if(o[f]=n.read(u,f),i===f)break}catch{}}return i?o[i]:o}}return Object.create({set:t,get:r,remove:function(i,s){t(i,"",k1({},s,{expires:-1}))},withAttributes:function(i){return QE(this.converter,k1({},this.attributes,i))},withConverter:function(i){return QE(k1({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var du=QE(OJ,{path:"/"}),i2,KN;function MJ(){if(KN)return i2;KN=1;const n=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return i2=e=>!n.has(e&&e.code),i2}var DJ=MJ();const FJ=vT(DJ),LT="axios-retry";function P7(n){const e=["ERR_CANCELED","ECONNABORTED"];return n.response||!n.code||e.includes(n.code)?!1:FJ(n)}const I7=["get","head","options"],LJ=I7.concat(["put","delete"]);function BT(n){return n.code!=="ECONNABORTED"&&(!n.response||n.response.status===429||n.response.status>=500&&n.response.status<=599)}function BJ(n){return n.config?.method?BT(n)&&I7.indexOf(n.config.method)!==-1:!1}function R7(n){return n.config?.method?BT(n)&&LJ.indexOf(n.config.method)!==-1:!1}function O7(n){return P7(n)||R7(n)}function VT(n=void 0){const e=n?.response?.headers["retry-after"];if(!e)return 0;let t=(Number(e)||0)*1e3;return t===0&&(t=(new Date(e).valueOf()||0)-Date.now()),Math.max(0,t)}function VJ(n=0,e=void 0){return Math.max(0,VT(e))}function UJ(n=0,e=void 0,t=100){const r=2**n*t,i=Math.max(r,VT(e)),s=i*.2*Math.random();return i+s}function zJ(n=100){return(e=0,t=void 0)=>{const r=e*n;return Math.max(r,VT(t))}}const HJ={retries:3,retryCondition:O7,retryDelay:VJ,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function $J(n,e){return{...HJ,...e,...n[LT]}}function XN(n,e,t=!1){const r=$J(n,e||{});return r.retryCount=r.retryCount||0,(!r.lastRequestTime||t)&&(r.lastRequestTime=Date.now()),n[LT]=r,r}function WJ(n,e){n.defaults.agent===e.agent&&delete e.agent,n.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,n.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}async function jJ(n,e){const{retries:t,retryCondition:r}=n,i=(n.retryCount||0)<t&&r(e);if(typeof i=="object")try{return await i!==!1}catch{return!1}return i}async function qJ(n,e,t,r){e.retryCount+=1;const{retryDelay:i,shouldResetTimeout:s,onRetry:o}=e,a=i(e.retryCount,t);if(WJ(n,r),!s&&r.timeout&&e.lastRequestTime){const l=Date.now()-e.lastRequestTime,u=r.timeout-l-a;if(u<=0)return Promise.reject(t);r.timeout=u}return r.transformRequest=[l=>l],await o(e.retryCount,t,r),r.signal?.aborted?Promise.resolve(n(r)):new Promise(l=>{const u=()=>{clearTimeout(f),l(n(r))},f=setTimeout(()=>{l(n(r)),r.signal?.removeEventListener&&r.signal.removeEventListener("abort",u)},a);r.signal?.addEventListener&&r.signal.addEventListener("abort",u,{once:!0})})}async function GJ(n,e){n.retryCount>=n.retries&&await n.onMaxRetryTimesExceeded(e,n.retryCount)}const pc=(n,e)=>{const t=n.interceptors.request.use(i=>(XN(i,e,!0),i[LT]?.validateResponse&&(i.validateStatus=()=>!1),i)),r=n.interceptors.response.use(null,async i=>{const{config:s}=i;if(!s)return Promise.reject(i);const o=XN(s,e);return i.response&&o.validateResponse?.(i.response)?i.response:await jJ(o,i)?qJ(n,o,i,s):(await GJ(o,i),Promise.reject(i))});return{requestInterceptorId:t,responseInterceptorId:r}};pc.isNetworkError=P7;pc.isSafeRequestError=BJ;pc.isIdempotentRequestError=R7;pc.isNetworkOrIdempotentRequestError=O7;pc.exponentialDelay=UJ;pc.linearDelay=zJ;pc.isRetryableError=BT;const YJ="https://api.cmicstudio.vn/api",rs=rr.create({baseURL:YJ,withCredentials:!0,headers:{"Content-Type":"application/json"},responseType:"json"});pc(rs,{retries:2,retryDelay:n=>n*100,retryCondition:n=>n.response?.status===403});rs.interceptors.request.use(n=>{const e=du.get("fr"),t=JSON.parse(localStorage.getItem("userInfo"));return e&&t&&(n.headers.Authorization=`Bearer ${e}`,n.headers.UserID=t.id,n.headers.UserName=encodeURIComponent(t.userName)),n});rs.interceptors.response.use(n=>n&&n.data?n.data:n,async n=>{switch(n.response?.status||500){case 401:{const t=window.location.pathname;return["/","/login","/register","/forgot-password"].includes(t)||n.config?.url?.includes("/auth/account")||(du.remove("fr"),localStorage.removeItem("userInfo"),window.location.href="/login"),Promise.reject(n)}case 400:return n.response.data;case 403:try{const r=(await rs.post("/auth/refreshToken")).DT.accessToken;du.set("fr",r);const i=n.config;return i.headers.Authorization=`Bearer ${r}`,rs.request(i)}catch{return du.remove("fr"),window.location.href="/login",Promise.reject(n)}case 404:return be.error("Khng tm thy ti nguyn."),Promise.reject(n);case 409:return Promise.reject(n);case 422:return Promise.reject(n);default:return Promise.reject(n)}});const mt={get:async(n,{params:e}={})=>await rs.get(n,{params:e}),post:async(n,e,t)=>{if(e instanceof FormData){const i={params:t};return i.headers={"Content-Type":"multipart/form-data"},await rs.post(n,e,i)}return await rs.post(n,e,{params:t})},put:async(n,e,t)=>{if(e instanceof FormData){const i={params:t};return i.headers={"Content-Type":"multipart/form-data"},await rs.put(n,e,i)}return await rs.put(n,e)},delete:async(n,e)=>await rs.delete(n,{data:e}),patch:async(n,e)=>await rs.patch(n,e),getImageBinary:async n=>await rs.get(n,{responseType:"arraybuffer"})},Ka={LoginApi:n=>mt.post("/auth/login",n),RegisterApi:n=>mt.post("/auth/register",n),GetAccountApi:()=>mt.get("/auth/account"),ChangePasswordApi:n=>mt.post("/auth/change-password",n),UpdateProfileApi:n=>mt.put("/auth/update-profile",n),getListUserApi:(n,e)=>mt.get(`/auth/getListUser?page=${n}&limit=${e}`),createUserApi:n=>mt.post("/auth/create-user",n),updateUserApi:(n,e)=>mt.put(`/auth/update-user/${n}`,e),deleteUserApi:n=>mt.delete(`/auth/delete-user/${n}`)},KJ=()=>{try{const n=localStorage.getItem("userInfo");return n?JSON.parse(n):{}}catch{return{}}},XJ={userInfo:KJ(),isLoading:!1,hasCheckedAuth:!1,UserList:[],UserTotal:0},pb=Gs("auth/Login",async(n,e)=>await Ka.LoginApi(n)),bb=Gs("auth/Register",async(n,e)=>await Ka.RegisterApi(n)),yb=Gs("auth/UpdateProfile",async(n,e)=>await Ka.UpdateProfileApi(n)),wb=Gs("auth/GetAccount",async(n,e)=>await Ka.GetAccountApi(n)),vb=Gs("auth/getListUser",async({page:n,limit:e},t)=>await Ka.getListUserApi(n,e)),M7=Gs("auth/Logout",async(n,{dispatch:e})=>(du.remove("fr"),du.remove("refreshToken"),localStorage.removeItem("userInfo"),null)),JJ=rh({name:"auth",initialState:XJ,reducers:{},extraReducers:n=>{n.addCase(pb.pending,e=>{e.isLoading=!0}).addCase(pb.fulfilled,(e,t)=>{e.isLoading=!1,t.payload.EC===0&&(e.userInfo=t.payload.DT||{},localStorage.setItem("userInfo",JSON.stringify(t.payload.DT)))}).addCase(pb.rejected,(e,t)=>{e.isLoading=!1}),n.addCase(bb.pending,e=>{}).addCase(bb.fulfilled,(e,t)=>{}).addCase(bb.rejected,(e,t)=>{}),n.addCase(wb.pending,e=>{e.isLoading=!0}).addCase(wb.fulfilled,(e,t)=>{t.payload.EC===0&&(e.userInfo=t.payload.DT||{},localStorage.setItem("userInfo",JSON.stringify(t.payload.DT))),e.isLoading=!1,e.hasCheckedAuth=!0}).addCase(wb.rejected,(e,t)=>{e.isLoading=!1,e.hasCheckedAuth=!0,e.userInfo={},localStorage.removeItem("userInfo")}),n.addCase(M7.fulfilled,e=>{e.userInfo={},e.isLoading=!1,e.hasCheckedAuth=!0}),n.addCase(yb.pending,e=>{e.isLoading=!0}).addCase(yb.fulfilled,(e,t)=>{t.payload.EC===0&&(e.userInfo=t.payload.DT||{},localStorage.setItem("userInfo",JSON.stringify(t.payload.DT))),e.isLoading=!1}).addCase(yb.rejected,(e,t)=>{e.isLoading=!1}),n.addCase(vb.pending,e=>{}).addCase(vb.fulfilled,(e,t)=>{e.UserList=t.payload.DT.user,e.UserTotal=t.payload.DT.total}).addCase(vb.rejected,(e,t)=>{})}}),QJ=JJ.reducer;function ZJ({toggleSidebar:n}){const[e,t]=O.useState(!1),{userInfo:r}=Un(u=>u.auth),i=gr(),s=O.useRef(null),o=mr(),a=()=>t(u=>!u);O.useEffect(()=>{const u=f=>{s.current&&!s.current.contains(f.target)&&t(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=async()=>{i(M7()),o("/login")};return g.createElement("header",{className:"bg-white shadow-sm border-b border-gray-200"},g.createElement("div",{className:"flex items-center justify-between px-4 py-3"},g.createElement("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors"},g.createElement(ID,{className:"w-6 h-6 text-gray-600"})),g.createElement("div",{className:"flex items-center gap-4"},g.createElement("button",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors"},g.createElement(PT,{className:"w-6 h-6 text-gray-600"}),g.createElement("span",{className:"absolute -top-1 -right-1 bg-teal-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center"},"6")),g.createElement("div",{className:"relative",ref:s},g.createElement("button",{onClick:a,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-2 rounded-lg transition-colors"},g.createElement("div",{className:"bg-gray-300 rounded-full w-9 h-9 flex items-center justify-center"},g.createElement(jb,{className:"w-5 h-5 text-gray-600"})),g.createElement("span",{className:"text-gray-700 font-medium"},r?.userName||"Ngi dng"),g.createElement(lw,{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`})),e&&g.createElement("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50"},g.createElement("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors flex items-center gap-3",onClick:()=>o("account")},g.createElement(jb,{className:"w-5 h-5 text-gray-600"}),g.createElement("span",{className:"text-gray-700"},"Thng tin Ti khon")),g.createElement("div",{className:"border-t border-gray-200 my-1"}),g.createElement("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors flex items-center gap-3",onClick:()=>l()},g.createElement($G,{className:"w-5 h-5 text-gray-600"}),g.createElement("span",{className:"text-gray-700"},"ng xut")))))))}const JN=1024;function eQ(){const[n,e]=O.useState(!0),[t,r]=O.useState(window.innerWidth<JN),{type:i}=Un(l=>l.auth);O.useEffect(()=>{const l=()=>{const u=window.innerWidth<JN;r(u),e(!u)};return window.addEventListener("resize",l),l(),()=>window.removeEventListener("resize",l)},[]);const s=O.useRef(null),o=()=>{e(l=>!l)},a=t?"0px":n?"288px":"80px";return g.createElement("div",{className:"h-screen w-full bg-gray-50 text-gray-800 font-sans"},t&&n&&g.createElement("div",{className:"fixed inset-0 bg-black opacity-10 z-10 lg:hidden",onClick:o}),g.createElement("div",{ref:s},g.createElement(IY,{isSidebarOpen:n,onToggleSidebar:o})),g.createElement("div",{className:"flex flex-col h-full transition-all duration-300 relative",style:{marginLeft:a}},g.createElement(ZJ,{toggleSidebar:o}),g.createElement("main",{className:"flex-grow overflow-auto"},g.createElement(gD,null))))}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var D7;function tt(){return D7.apply(null,arguments)}function tQ(n){D7=n}function Eo(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function fu(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function Ut(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function UT(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(Ut(n,e))return!1;return!0}function Pi(n){return n===void 0}function al(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function I0(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function F7(n,e){var t=[],r,i=n.length;for(r=0;r<i;++r)t.push(e(n[r],r));return t}function Xl(n,e){for(var t in e)Ut(e,t)&&(n[t]=e[t]);return Ut(e,"toString")&&(n.toString=e.toString),Ut(e,"valueOf")&&(n.valueOf=e.valueOf),n}function ma(n,e,t,r){return s8(n,e,t,r,!0).utc()}function nQ(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _t(n){return n._pf==null&&(n._pf=nQ()),n._pf}var ZE;Array.prototype.some?ZE=Array.prototype.some:ZE=function(n){var e=Object(this),t=e.length>>>0,r;for(r=0;r<t;r++)if(r in e&&n.call(this,e[r],r,e))return!0;return!1};function zT(n){var e=null,t=!1,r=n._d&&!isNaN(n._d.getTime());if(r&&(e=_t(n),t=ZE.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),n._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=r;else return r;return n._isValid}function kw(n){var e=ma(NaN);return n!=null?Xl(_t(e),n):_t(e).userInvalidated=!0,e}var QN=tt.momentProperties=[],s2=!1;function HT(n,e){var t,r,i,s=QN.length;if(Pi(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),Pi(e._i)||(n._i=e._i),Pi(e._f)||(n._f=e._f),Pi(e._l)||(n._l=e._l),Pi(e._strict)||(n._strict=e._strict),Pi(e._tzm)||(n._tzm=e._tzm),Pi(e._isUTC)||(n._isUTC=e._isUTC),Pi(e._offset)||(n._offset=e._offset),Pi(e._pf)||(n._pf=_t(e)),Pi(e._locale)||(n._locale=e._locale),s>0)for(t=0;t<s;t++)r=QN[t],i=e[r],Pi(i)||(n[r]=i);return n}function R0(n){HT(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),s2===!1&&(s2=!0,tt.updateOffset(this),s2=!1)}function ko(n){return n instanceof R0||n!=null&&n._isAMomentObject!=null}function L7(n){tt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function Ys(n,e){var t=!0;return Xl(function(){if(tt.deprecationHandler!=null&&tt.deprecationHandler(null,n),t){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Ut(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}L7(n+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var ZN={};function B7(n,e){tt.deprecationHandler!=null&&tt.deprecationHandler(n,e),ZN[n]||(L7(e),ZN[n]=!0)}tt.suppressDeprecationWarnings=!1;tt.deprecationHandler=null;function ga(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function rQ(n){var e,t;for(t in n)Ut(n,t)&&(e=n[t],ga(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ek(n,e){var t=Xl({},n),r;for(r in e)Ut(e,r)&&(fu(n[r])&&fu(e[r])?(t[r]={},Xl(t[r],n[r]),Xl(t[r],e[r])):e[r]!=null?t[r]=e[r]:delete t[r]);for(r in n)Ut(n,r)&&!Ut(e,r)&&fu(n[r])&&(t[r]=Xl({},t[r]));return t}function $T(n){n!=null&&this.set(n)}var tk;Object.keys?tk=Object.keys:tk=function(n){var e,t=[];for(e in n)Ut(n,e)&&t.push(e);return t};var iQ={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function sQ(n,e,t){var r=this._calendar[n]||this._calendar.sameElse;return ga(r)?r.call(e,t):r}function sa(n,e,t){var r=""+Math.abs(n),i=e-r.length,s=n>=0;return(s?t?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var WT=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,T1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,o2={},yf={};function ct(n,e,t,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),n&&(yf[n]=i),e&&(yf[e[0]]=function(){return sa(i.apply(this,arguments),e[1],e[2])}),t&&(yf[t]=function(){return this.localeData().ordinal(i.apply(this,arguments),n)})}function oQ(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function aQ(n){var e=n.match(WT),t,r;for(t=0,r=e.length;t<r;t++)yf[e[t]]?e[t]=yf[e[t]]:e[t]=oQ(e[t]);return function(i){var s="",o;for(o=0;o<r;o++)s+=ga(e[o])?e[o].call(i,n):e[o];return s}}function _b(n,e){return n.isValid()?(e=V7(e,n.localeData()),o2[e]=o2[e]||aQ(e),o2[e](n)):n.localeData().invalidDate()}function V7(n,e){var t=5;function r(i){return e.longDateFormat(i)||i}for(T1.lastIndex=0;t>=0&&T1.test(n);)n=n.replace(T1,r),T1.lastIndex=0,t-=1;return n}var lQ={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function cQ(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(WT).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[n])}var uQ="Invalid date";function dQ(){return this._invalidDate}var fQ="%d",hQ=/\d{1,2}/;function mQ(n){return this._ordinal.replace("%d",n)}var gQ={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pQ(n,e,t,r){var i=this._relativeTime[t];return ga(i)?i(n,e,t,r):i.replace(/%d/i,n)}function bQ(n,e){var t=this._relativeTime[n>0?"future":"past"];return ga(t)?t(e):t.replace(/%s/i,e)}var eP={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ks(n){return typeof n=="string"?eP[n]||eP[n.toLowerCase()]:void 0}function jT(n){var e={},t,r;for(r in n)Ut(n,r)&&(t=Ks(r),t&&(e[t]=n[r]));return e}var yQ={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function wQ(n){var e=[],t;for(t in n)Ut(n,t)&&e.push({unit:t,priority:yQ[t]});return e.sort(function(r,i){return r.priority-i.priority}),e}var U7=/\d/,Es=/\d\d/,z7=/\d{3}/,qT=/\d{4}/,Tw=/[+-]?\d{6}/,Pn=/\d\d?/,H7=/\d\d\d\d?/,$7=/\d\d\d\d\d\d?/,Sw=/\d{1,3}/,GT=/\d{1,4}/,Cw=/[+-]?\d{1,6}/,oh=/\d+/,Aw=/[+-]?\d+/,vQ=/Z|[+-]\d\d:?\d\d/gi,Nw=/Z|[+-]\d\d(?::?\d\d)?/gi,_Q=/[+-]?\d+(\.\d{1,3})?/,O0=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ah=/^[1-9]\d?/,YT=/^([1-9]\d|\d)/,Zb;Zb={};function rt(n,e,t){Zb[n]=ga(e)?e:function(r,i){return r&&t?t:e}}function xQ(n,e){return Ut(Zb,n)?Zb[n](e._strict,e._locale):new RegExp(EQ(n))}function EQ(n){return Xa(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,i,s){return t||r||i||s}))}function Xa(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Vs(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function It(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=Vs(e)),t}var nk={};function yn(n,e){var t,r=e,i;for(typeof n=="string"&&(n=[n]),al(e)&&(r=function(s,o){o[e]=It(s)}),i=n.length,t=0;t<i;t++)nk[n[t]]=r}function M0(n,e){yn(n,function(t,r,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function kQ(n,e,t){e!=null&&Ut(nk,n)&&nk[n](e,t._a,t,n)}function Pw(n){return n%4===0&&n%100!==0||n%400===0}var oi=0,Wa=1,Qo=2,xr=3,go=4,ja=5,iu=6,TQ=7,SQ=8;ct("Y",0,0,function(){var n=this.year();return n<=9999?sa(n,4):"+"+n});ct(0,["YY",2],0,function(){return this.year()%100});ct(0,["YYYY",4],0,"year");ct(0,["YYYYY",5],0,"year");ct(0,["YYYYYY",6,!0],0,"year");rt("Y",Aw);rt("YY",Pn,Es);rt("YYYY",GT,qT);rt("YYYYY",Cw,Tw);rt("YYYYYY",Cw,Tw);yn(["YYYYY","YYYYYY"],oi);yn("YYYY",function(n,e){e[oi]=n.length===2?tt.parseTwoDigitYear(n):It(n)});yn("YY",function(n,e){e[oi]=tt.parseTwoDigitYear(n)});yn("Y",function(n,e){e[oi]=parseInt(n,10)});function sg(n){return Pw(n)?366:365}tt.parseTwoDigitYear=function(n){return It(n)+(It(n)>68?1900:2e3)};var W7=lh("FullYear",!0);function CQ(){return Pw(this.year())}function lh(n,e){return function(t){return t!=null?(j7(this,n,t),tt.updateOffset(this,e),this):Bg(this,n)}}function Bg(n,e){if(!n.isValid())return NaN;var t=n._d,r=n._isUTC;switch(e){case"Milliseconds":return r?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return r?t.getUTCSeconds():t.getSeconds();case"Minutes":return r?t.getUTCMinutes():t.getMinutes();case"Hours":return r?t.getUTCHours():t.getHours();case"Date":return r?t.getUTCDate():t.getDate();case"Day":return r?t.getUTCDay():t.getDay();case"Month":return r?t.getUTCMonth():t.getMonth();case"FullYear":return r?t.getUTCFullYear():t.getFullYear();default:return NaN}}function j7(n,e,t){var r,i,s,o,a;if(!(!n.isValid()||isNaN(t))){switch(r=n._d,i=n._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(t):r.setMilliseconds(t));case"Seconds":return void(i?r.setUTCSeconds(t):r.setSeconds(t));case"Minutes":return void(i?r.setUTCMinutes(t):r.setMinutes(t));case"Hours":return void(i?r.setUTCHours(t):r.setHours(t));case"Date":return void(i?r.setUTCDate(t):r.setDate(t));case"FullYear":break;default:return}s=t,o=n.month(),a=n.date(),a=a===29&&o===1&&!Pw(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function AQ(n){return n=Ks(n),ga(this[n])?this[n]():this}function NQ(n,e){if(typeof n=="object"){n=jT(n);var t=wQ(n),r,i=t.length;for(r=0;r<i;r++)this[t[r].unit](n[t[r].unit])}else if(n=Ks(n),ga(this[n]))return this[n](e);return this}function PQ(n,e){return(n%e+e)%e}var er;Array.prototype.indexOf?er=Array.prototype.indexOf:er=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function KT(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=PQ(e,12);return n+=(e-t)/12,t===1?Pw(n)?29:28:31-t%7%2}ct("M",["MM",2],"Mo",function(){return this.month()+1});ct("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});ct("MMMM",0,0,function(n){return this.localeData().months(this,n)});rt("M",Pn,ah);rt("MM",Pn,Es);rt("MMM",function(n,e){return e.monthsShortRegex(n)});rt("MMMM",function(n,e){return e.monthsRegex(n)});yn(["M","MM"],function(n,e){e[Wa]=It(n)-1});yn(["MMM","MMMM"],function(n,e,t,r){var i=t._locale.monthsParse(n,r,t._strict);i!=null?e[Wa]=i:_t(t).invalidMonth=n});var IQ="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),q7="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),G7=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,RQ=O0,OQ=O0;function MQ(n,e){return n?Eo(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||G7).test(e)?"format":"standalone"][n.month()]:Eo(this._months)?this._months:this._months.standalone}function DQ(n,e){return n?Eo(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[G7.test(e)?"format":"standalone"][n.month()]:Eo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function FQ(n,e,t){var r,i,s,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=ma([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return t?e==="MMM"?(i=er.call(this._shortMonthsParse,o),i!==-1?i:null):(i=er.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=er.call(this._shortMonthsParse,o),i!==-1?i:(i=er.call(this._longMonthsParse,o),i!==-1?i:null)):(i=er.call(this._longMonthsParse,o),i!==-1?i:(i=er.call(this._shortMonthsParse,o),i!==-1?i:null))}function LQ(n,e,t){var r,i,s;if(this._monthsParseExact)return FQ.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=ma([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!t&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[r].test(n))return r;if(t&&e==="MMM"&&this._shortMonthsParse[r].test(n))return r;if(!t&&this._monthsParse[r].test(n))return r}}function Y7(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=It(e);else if(e=n.localeData().monthsParse(e),!al(e))return n}var t=e,r=n.date();return r=r<29?r:Math.min(r,KT(n.year(),t)),n._isUTC?n._d.setUTCMonth(t,r):n._d.setMonth(t,r),n}function K7(n){return n!=null?(Y7(this,n),tt.updateOffset(this,!0),this):Bg(this,"Month")}function BQ(){return KT(this.year(),this.month())}function VQ(n){return this._monthsParseExact?(Ut(this,"_monthsRegex")||X7.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Ut(this,"_monthsShortRegex")||(this._monthsShortRegex=RQ),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function UQ(n){return this._monthsParseExact?(Ut(this,"_monthsRegex")||X7.call(this),n?this._monthsStrictRegex:this._monthsRegex):(Ut(this,"_monthsRegex")||(this._monthsRegex=OQ),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function X7(){function n(l,u){return u.length-l.length}var e=[],t=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=ma([2e3,i]),o=Xa(this.monthsShort(s,"")),a=Xa(this.months(s,"")),e.push(o),t.push(a),r.push(a),r.push(o);e.sort(n),t.sort(n),r.sort(n),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function zQ(n,e,t,r,i,s,o){var a;return n<100&&n>=0?(a=new Date(n+400,e,t,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,e,t,r,i,s,o),a}function Vg(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function ey(n,e,t){var r=7+e-t,i=(7+Vg(n,0,r).getUTCDay()-e)%7;return-i+r-1}function J7(n,e,t,r,i){var s=(7+t-r)%7,o=ey(n,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=n-1,u=sg(l)+a):a>sg(n)?(l=n+1,u=a-sg(n)):(l=n,u=a),{year:l,dayOfYear:u}}function Ug(n,e,t){var r=ey(n.year(),e,t),i=Math.floor((n.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=n.year()-1,s=i+Ja(o,e,t)):i>Ja(n.year(),e,t)?(s=i-Ja(n.year(),e,t),o=n.year()+1):(o=n.year(),s=i),{week:s,year:o}}function Ja(n,e,t){var r=ey(n,e,t),i=ey(n+1,e,t);return(sg(n)-r+i)/7}ct("w",["ww",2],"wo","week");ct("W",["WW",2],"Wo","isoWeek");rt("w",Pn,ah);rt("ww",Pn,Es);rt("W",Pn,ah);rt("WW",Pn,Es);M0(["w","ww","W","WW"],function(n,e,t,r){e[r.substr(0,1)]=It(n)});function HQ(n){return Ug(n,this._week.dow,this._week.doy).week}var $Q={dow:0,doy:6};function WQ(){return this._week.dow}function jQ(){return this._week.doy}function qQ(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function GQ(n){var e=Ug(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}ct("d",0,"do","day");ct("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});ct("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});ct("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});ct("e",0,0,"weekday");ct("E",0,0,"isoWeekday");rt("d",Pn);rt("e",Pn);rt("E",Pn);rt("dd",function(n,e){return e.weekdaysMinRegex(n)});rt("ddd",function(n,e){return e.weekdaysShortRegex(n)});rt("dddd",function(n,e){return e.weekdaysRegex(n)});M0(["dd","ddd","dddd"],function(n,e,t,r){var i=t._locale.weekdaysParse(n,r,t._strict);i!=null?e.d=i:_t(t).invalidWeekday=n});M0(["d","e","E"],function(n,e,t,r){e[r]=It(n)});function YQ(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function KQ(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function XT(n,e){return n.slice(e,7).concat(n.slice(0,e))}var XQ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Q7="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),JQ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),QQ=O0,ZQ=O0,eZ=O0;function tZ(n,e){var t=Eo(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?XT(t,this._week.dow):n?t[n.day()]:t}function nZ(n){return n===!0?XT(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function rZ(n){return n===!0?XT(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function iZ(n,e,t){var r,i,s,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=ma([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return t?e==="dddd"?(i=er.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=er.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=er.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=er.call(this._weekdaysParse,o),i!==-1||(i=er.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=er.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=er.call(this._shortWeekdaysParse,o),i!==-1||(i=er.call(this._weekdaysParse,o),i!==-1)?i:(i=er.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=er.call(this._minWeekdaysParse,o),i!==-1||(i=er.call(this._weekdaysParse,o),i!==-1)?i:(i=er.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function sZ(n,e,t){var r,i,s;if(this._weekdaysParseExact)return iZ.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=ma([2e3,1]).day(r),t&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[r].test(n))return r;if(t&&e==="ddd"&&this._shortWeekdaysParse[r].test(n))return r;if(t&&e==="dd"&&this._minWeekdaysParse[r].test(n))return r;if(!t&&this._weekdaysParse[r].test(n))return r}}function oZ(n){if(!this.isValid())return n!=null?this:NaN;var e=Bg(this,"Day");return n!=null?(n=YQ(n,this.localeData()),this.add(n-e,"d")):e}function aZ(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function lZ(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=KQ(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function cZ(n){return this._weekdaysParseExact?(Ut(this,"_weekdaysRegex")||JT.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Ut(this,"_weekdaysRegex")||(this._weekdaysRegex=QQ),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function uZ(n){return this._weekdaysParseExact?(Ut(this,"_weekdaysRegex")||JT.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ut(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ZQ),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function dZ(n){return this._weekdaysParseExact?(Ut(this,"_weekdaysRegex")||JT.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ut(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=eZ),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function JT(){function n(f,m){return m.length-f.length}var e=[],t=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=ma([2e3,1]).day(s),a=Xa(this.weekdaysMin(o,"")),l=Xa(this.weekdaysShort(o,"")),u=Xa(this.weekdays(o,"")),e.push(a),t.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(n),t.sort(n),r.sort(n),i.sort(n),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function QT(){return this.hours()%12||12}function fZ(){return this.hours()||24}ct("H",["HH",2],0,"hour");ct("h",["hh",2],0,QT);ct("k",["kk",2],0,fZ);ct("hmm",0,0,function(){return""+QT.apply(this)+sa(this.minutes(),2)});ct("hmmss",0,0,function(){return""+QT.apply(this)+sa(this.minutes(),2)+sa(this.seconds(),2)});ct("Hmm",0,0,function(){return""+this.hours()+sa(this.minutes(),2)});ct("Hmmss",0,0,function(){return""+this.hours()+sa(this.minutes(),2)+sa(this.seconds(),2)});function Z7(n,e){ct(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Z7("a",!0);Z7("A",!1);function e8(n,e){return e._meridiemParse}rt("a",e8);rt("A",e8);rt("H",Pn,YT);rt("h",Pn,ah);rt("k",Pn,ah);rt("HH",Pn,Es);rt("hh",Pn,Es);rt("kk",Pn,Es);rt("hmm",H7);rt("hmmss",$7);rt("Hmm",H7);rt("Hmmss",$7);yn(["H","HH"],xr);yn(["k","kk"],function(n,e,t){var r=It(n);e[xr]=r===24?0:r});yn(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});yn(["h","hh"],function(n,e,t){e[xr]=It(n),_t(t).bigHour=!0});yn("hmm",function(n,e,t){var r=n.length-2;e[xr]=It(n.substr(0,r)),e[go]=It(n.substr(r)),_t(t).bigHour=!0});yn("hmmss",function(n,e,t){var r=n.length-4,i=n.length-2;e[xr]=It(n.substr(0,r)),e[go]=It(n.substr(r,2)),e[ja]=It(n.substr(i)),_t(t).bigHour=!0});yn("Hmm",function(n,e,t){var r=n.length-2;e[xr]=It(n.substr(0,r)),e[go]=It(n.substr(r))});yn("Hmmss",function(n,e,t){var r=n.length-4,i=n.length-2;e[xr]=It(n.substr(0,r)),e[go]=It(n.substr(r,2)),e[ja]=It(n.substr(i))});function hZ(n){return(n+"").toLowerCase().charAt(0)==="p"}var mZ=/[ap]\.?m?\.?/i,gZ=lh("Hours",!0);function pZ(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var t8={calendar:iQ,longDateFormat:lQ,invalidDate:uQ,ordinal:fQ,dayOfMonthOrdinalParse:hQ,relativeTime:gQ,months:IQ,monthsShort:q7,week:$Q,weekdays:XQ,weekdaysMin:JQ,weekdaysShort:Q7,meridiemParse:mZ},On={},xm={},zg;function bZ(n,e){var t,r=Math.min(n.length,e.length);for(t=0;t<r;t+=1)if(n[t]!==e[t])return t;return r}function tP(n){return n&&n.toLowerCase().replace("_","-")}function yZ(n){for(var e=0,t,r,i,s;e<n.length;){for(s=tP(n[e]).split("-"),t=s.length,r=tP(n[e+1]),r=r?r.split("-"):null;t>0;){if(i=Iw(s.slice(0,t).join("-")),i)return i;if(r&&r.length>=t&&bZ(s,r)>=t-1)break;t--}e++}return zg}function wZ(n){return!!(n&&n.match("^[^/\\\\]*$"))}function Iw(n){var e=null,t;if(On[n]===void 0&&typeof $b<"u"&&$b&&$b.exports&&wZ(n))try{e=zg._abbr,t=require,t("./locale/"+n),tc(e)}catch{On[n]=null}return On[n]}function tc(n,e){var t;return n&&(Pi(e)?t=ml(n):t=ZT(n,e),t?zg=t:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),zg._abbr}function ZT(n,e){if(e!==null){var t,r=t8;if(e.abbr=n,On[n]!=null)B7("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=On[n]._config;else if(e.parentLocale!=null)if(On[e.parentLocale]!=null)r=On[e.parentLocale]._config;else if(t=Iw(e.parentLocale),t!=null)r=t._config;else return xm[e.parentLocale]||(xm[e.parentLocale]=[]),xm[e.parentLocale].push({name:n,config:e}),null;return On[n]=new $T(ek(r,e)),xm[n]&&xm[n].forEach(function(i){ZT(i.name,i.config)}),tc(n),On[n]}else return delete On[n],null}function vZ(n,e){if(e!=null){var t,r,i=t8;On[n]!=null&&On[n].parentLocale!=null?On[n].set(ek(On[n]._config,e)):(r=Iw(n),r!=null&&(i=r._config),e=ek(i,e),r==null&&(e.abbr=n),t=new $T(e),t.parentLocale=On[n],On[n]=t),tc(n)}else On[n]!=null&&(On[n].parentLocale!=null?(On[n]=On[n].parentLocale,n===tc()&&tc(n)):On[n]!=null&&delete On[n]);return On[n]}function ml(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return zg;if(!Eo(n)){if(e=Iw(n),e)return e;n=[n]}return yZ(n)}function _Z(){return tk(On)}function eS(n){var e,t=n._a;return t&&_t(n).overflow===-2&&(e=t[Wa]<0||t[Wa]>11?Wa:t[Qo]<1||t[Qo]>KT(t[oi],t[Wa])?Qo:t[xr]<0||t[xr]>24||t[xr]===24&&(t[go]!==0||t[ja]!==0||t[iu]!==0)?xr:t[go]<0||t[go]>59?go:t[ja]<0||t[ja]>59?ja:t[iu]<0||t[iu]>999?iu:-1,_t(n)._overflowDayOfYear&&(e<oi||e>Qo)&&(e=Qo),_t(n)._overflowWeeks&&e===-1&&(e=TQ),_t(n)._overflowWeekday&&e===-1&&(e=SQ),_t(n).overflow=e),n}var xZ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,EZ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kZ=/Z|[+-]\d\d(?::?\d\d)?/,S1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],a2=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],TZ=/^\/?Date\((-?\d+)/i,SZ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,CZ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function n8(n){var e,t,r=n._i,i=xZ.exec(r)||EZ.exec(r),s,o,a,l,u=S1.length,f=a2.length;if(i){for(_t(n).iso=!0,e=0,t=u;e<t;e++)if(S1[e][1].exec(i[1])){o=S1[e][0],s=S1[e][2]!==!1;break}if(o==null){n._isValid=!1;return}if(i[3]){for(e=0,t=f;e<t;e++)if(a2[e][1].exec(i[3])){a=(i[2]||" ")+a2[e][0];break}if(a==null){n._isValid=!1;return}}if(!s&&a!=null){n._isValid=!1;return}if(i[4])if(kZ.exec(i[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),nS(n)}else n._isValid=!1}function AZ(n,e,t,r,i,s){var o=[NZ(n),q7.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function NZ(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function PZ(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function IZ(n,e,t){if(n){var r=Q7.indexOf(n),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return _t(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function RZ(n,e,t){if(n)return CZ[n];if(e)return 0;var r=parseInt(t,10),i=r%100,s=(r-i)/100;return s*60+i}function r8(n){var e=SZ.exec(PZ(n._i)),t;if(e){if(t=AZ(e[4],e[3],e[2],e[5],e[6],e[7]),!IZ(e[1],t,n))return;n._a=t,n._tzm=RZ(e[8],e[9],e[10]),n._d=Vg.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),_t(n).rfc2822=!0}else n._isValid=!1}function OZ(n){var e=TZ.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(n8(n),n._isValid===!1)delete n._isValid;else return;if(r8(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:tt.createFromInputFallback(n)}tt.createFromInputFallback=Ys("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function Jd(n,e,t){return n??e??t}function MZ(n){var e=new Date(tt.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function tS(n){var e,t,r=[],i,s,o;if(!n._d){for(i=MZ(n),n._w&&n._a[Qo]==null&&n._a[Wa]==null&&DZ(n),n._dayOfYear!=null&&(o=Jd(n._a[oi],i[oi]),(n._dayOfYear>sg(o)||n._dayOfYear===0)&&(_t(n)._overflowDayOfYear=!0),t=Vg(o,0,n._dayOfYear),n._a[Wa]=t.getUTCMonth(),n._a[Qo]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=r[e]=i[e];for(;e<7;e++)n._a[e]=r[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[xr]===24&&n._a[go]===0&&n._a[ja]===0&&n._a[iu]===0&&(n._nextDay=!0,n._a[xr]=0),n._d=(n._useUTC?Vg:zQ).apply(null,r),s=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[xr]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==s&&(_t(n).weekdayMismatch=!0)}}function DZ(n){var e,t,r,i,s,o,a,l,u;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,t=Jd(e.GG,n._a[oi],Ug(An(),1,4).year),r=Jd(e.W,1),i=Jd(e.E,1),(i<1||i>7)&&(l=!0)):(s=n._locale._week.dow,o=n._locale._week.doy,u=Ug(An(),s,o),t=Jd(e.gg,n._a[oi],u.year),r=Jd(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Ja(t,s,o)?_t(n)._overflowWeeks=!0:l!=null?_t(n)._overflowWeekday=!0:(a=J7(t,r,i,s,o),n._a[oi]=a.year,n._dayOfYear=a.dayOfYear)}tt.ISO_8601=function(){};tt.RFC_2822=function(){};function nS(n){if(n._f===tt.ISO_8601){n8(n);return}if(n._f===tt.RFC_2822){r8(n);return}n._a=[],_t(n).empty=!0;var e=""+n._i,t,r,i,s,o,a=e.length,l=0,u,f;for(i=V7(n._f,n._locale).match(WT)||[],f=i.length,t=0;t<f;t++)s=i[t],r=(e.match(xQ(s,n))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&_t(n).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),yf[s]?(r?_t(n).empty=!1:_t(n).unusedTokens.push(s),kQ(s,r,n)):n._strict&&!r&&_t(n).unusedTokens.push(s);_t(n).charsLeftOver=a-l,e.length>0&&_t(n).unusedInput.push(e),n._a[xr]<=12&&_t(n).bigHour===!0&&n._a[xr]>0&&(_t(n).bigHour=void 0),_t(n).parsedDateParts=n._a.slice(0),_t(n).meridiem=n._meridiem,n._a[xr]=FZ(n._locale,n._a[xr],n._meridiem),u=_t(n).era,u!==null&&(n._a[oi]=n._locale.erasConvertYear(u,n._a[oi])),tS(n),eS(n)}function FZ(n,e,t){var r;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(r=n.isPM(t),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function LZ(n){var e,t,r,i,s,o,a=!1,l=n._f.length;if(l===0){_t(n).invalidFormat=!0,n._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=HT({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[i],nS(e),zT(e)&&(o=!0),s+=_t(e).charsLeftOver,s+=_t(e).unusedTokens.length*10,_t(e).score=s,a?s<r&&(r=s,t=e):(r==null||s<r||o)&&(r=s,t=e,o&&(a=!0));Xl(n,t||e)}function BZ(n){if(!n._d){var e=jT(n._i),t=e.day===void 0?e.date:e.day;n._a=F7([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),tS(n)}}function VZ(n){var e=new R0(eS(i8(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function i8(n){var e=n._i,t=n._f;return n._locale=n._locale||ml(n._l),e===null||t===void 0&&e===""?kw({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),ko(e)?new R0(eS(e)):(I0(e)?n._d=e:Eo(t)?LZ(n):t?nS(n):UZ(n),zT(n)||(n._d=null),n))}function UZ(n){var e=n._i;Pi(e)?n._d=new Date(tt.now()):I0(e)?n._d=new Date(e.valueOf()):typeof e=="string"?OZ(n):Eo(e)?(n._a=F7(e.slice(0),function(t){return parseInt(t,10)}),tS(n)):fu(e)?BZ(n):al(e)?n._d=new Date(e):tt.createFromInputFallback(n)}function s8(n,e,t,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(t===!0||t===!1)&&(r=t,t=void 0),(fu(n)&&UT(n)||Eo(n)&&n.length===0)&&(n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=t,s._i=n,s._f=e,s._strict=r,VZ(s)}function An(n,e,t,r){return s8(n,e,t,r,!1)}var zZ=Ys("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=An.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:kw()}),HZ=Ys("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=An.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:kw()});function o8(n,e){var t,r;if(e.length===1&&Eo(e[0])&&(e=e[0]),!e.length)return An();for(t=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][n](t))&&(t=e[r]);return t}function $Z(){var n=[].slice.call(arguments,0);return o8("isBefore",n)}function WZ(){var n=[].slice.call(arguments,0);return o8("isAfter",n)}var jZ=function(){return Date.now?Date.now():+new Date},Em=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qZ(n){var e,t=!1,r,i=Em.length;for(e in n)if(Ut(n,e)&&!(er.call(Em,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(r=0;r<i;++r)if(n[Em[r]]){if(t)return!1;parseFloat(n[Em[r]])!==It(n[Em[r]])&&(t=!0)}return!0}function GZ(){return this._isValid}function YZ(){return Ro(NaN)}function Rw(n){var e=jT(n),t=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,f=e.millisecond||0;this._isValid=qZ(e),this._milliseconds=+f+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+t*12,this._data={},this._locale=ml(),this._bubble()}function xb(n){return n instanceof Rw}function rk(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function KZ(n,e,t){var r=Math.min(n.length,e.length),i=Math.abs(n.length-e.length),s=0,o;for(o=0;o<r;o++)It(n[o])!==It(e[o])&&s++;return s+i}function a8(n,e){ct(n,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+sa(~~(t/60),2)+e+sa(~~t%60,2)})}a8("Z",":");a8("ZZ","");rt("Z",Nw);rt("ZZ",Nw);yn(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=rS(Nw,n)});var XZ=/([\+\-]|\d\d)/gi;function rS(n,e){var t=(e||"").match(n),r,i,s;return t===null?null:(r=t[t.length-1]||[],i=(r+"").match(XZ)||["-",0,0],s=+(i[1]*60)+It(i[2]),s===0?0:i[0]==="+"?s:-s)}function iS(n,e){var t,r;return e._isUTC?(t=e.clone(),r=(ko(n)||I0(n)?n.valueOf():An(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+r),tt.updateOffset(t,!1),t):An(n).local()}function ik(n){return-Math.round(n._d.getTimezoneOffset())}tt.updateOffset=function(){};function JZ(n,e,t){var r=this._offset||0,i;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=rS(Nw,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(i=ik(this)),this._offset=n,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==n&&(!e||this._changeInProgress?u8(this,Ro(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,tt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:ik(this)}function QZ(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function ZZ(n){return this.utcOffset(0,n)}function eee(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(ik(this),"m")),this}function tee(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=rS(vQ,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function nee(n){return this.isValid()?(n=n?An(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function ree(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function iee(){if(!Pi(this._isDSTShifted))return this._isDSTShifted;var n={},e;return HT(n,this),n=i8(n),n._a?(e=n._isUTC?ma(n._a):An(n._a),this._isDSTShifted=this.isValid()&&KZ(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function see(){return this.isValid()?!this._isUTC:!1}function oee(){return this.isValid()?this._isUTC:!1}function l8(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aee=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,lee=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ro(n,e){var t=n,r=null,i,s,o;return xb(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:al(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(r=aee.exec(n))?(i=r[1]==="-"?-1:1,t={y:0,d:It(r[Qo])*i,h:It(r[xr])*i,m:It(r[go])*i,s:It(r[ja])*i,ms:It(rk(r[iu]*1e3))*i}):(r=lee.exec(n))?(i=r[1]==="-"?-1:1,t={y:Uc(r[2],i),M:Uc(r[3],i),w:Uc(r[4],i),d:Uc(r[5],i),h:Uc(r[6],i),m:Uc(r[7],i),s:Uc(r[8],i)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=cee(An(t.from),An(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new Rw(t),xb(n)&&Ut(n,"_locale")&&(s._locale=n._locale),xb(n)&&Ut(n,"_isValid")&&(s._isValid=n._isValid),s}Ro.fn=Rw.prototype;Ro.invalid=YZ;function Uc(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function nP(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function cee(n,e){var t;return n.isValid()&&e.isValid()?(e=iS(e,n),n.isBefore(e)?t=nP(n,e):(t=nP(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function c8(n,e){return function(t,r){var i,s;return r!==null&&!isNaN(+r)&&(B7(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=r,r=s),i=Ro(t,r),u8(this,i,n),this}}function u8(n,e,t,r){var i=e._milliseconds,s=rk(e._days),o=rk(e._months);n.isValid()&&(r=r??!0,o&&Y7(n,Bg(n,"Month")+o*t),s&&j7(n,"Date",Bg(n,"Date")+s*t),i&&n._d.setTime(n._d.valueOf()+i*t),r&&tt.updateOffset(n,s||o))}var uee=c8(1,"add"),dee=c8(-1,"subtract");function d8(n){return typeof n=="string"||n instanceof String}function fee(n){return ko(n)||I0(n)||d8(n)||al(n)||mee(n)||hee(n)||n===null||n===void 0}function hee(n){var e=fu(n)&&!UT(n),t=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],t=t||Ut(n,s);return e&&t}function mee(n){var e=Eo(n),t=!1;return e&&(t=n.filter(function(r){return!al(r)&&d8(n)}).length===0),e&&t}function gee(n){var e=fu(n)&&!UT(n),t=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],t=t||Ut(n,s);return e&&t}function pee(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function bee(n,e){arguments.length===1&&(arguments[0]?fee(arguments[0])?(n=arguments[0],e=void 0):gee(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||An(),r=iS(t,this).startOf("day"),i=tt.calendarFormat(this,r)||"sameElse",s=e&&(ga(e[i])?e[i].call(this,t):e[i]);return this.format(s||this.localeData().calendar(i,this,An(t)))}function yee(){return new R0(this)}function wee(n,e){var t=ko(n)?n:An(n);return this.isValid()&&t.isValid()?(e=Ks(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function vee(n,e){var t=ko(n)?n:An(n);return this.isValid()&&t.isValid()?(e=Ks(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function _ee(n,e,t,r){var i=ko(n)?n:An(n),s=ko(e)?e:An(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,t):!this.isBefore(i,t))&&(r[1]===")"?this.isBefore(s,t):!this.isAfter(s,t))):!1}function xee(n,e){var t=ko(n)?n:An(n),r;return this.isValid()&&t.isValid()?(e=Ks(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(r=t.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function Eee(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function kee(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function Tee(n,e,t){var r,i,s;if(!this.isValid())return NaN;if(r=iS(n,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Ks(e),e){case"year":s=Eb(this,r)/12;break;case"month":s=Eb(this,r);break;case"quarter":s=Eb(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return t?s:Vs(s)}function Eb(n,e){if(n.date()<e.date())return-Eb(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),r=n.clone().add(t,"months"),i,s;return e-r<0?(i=n.clone().add(t-1,"months"),s=(e-r)/(r-i)):(i=n.clone().add(t+1,"months"),s=(e-r)/(i-r)),-(t+s)||0}tt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";tt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function See(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Cee(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?_b(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ga(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_b(t,"Z")):_b(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Aee(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,r,i,s;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(t+r+i+s)}function Nee(n){n||(n=this.isUtc()?tt.defaultFormatUtc:tt.defaultFormat);var e=_b(this,n);return this.localeData().postformat(e)}function Pee(n,e){return this.isValid()&&(ko(n)&&n.isValid()||An(n).isValid())?Ro({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Iee(n){return this.from(An(),n)}function Ree(n,e){return this.isValid()&&(ko(n)&&n.isValid()||An(n).isValid())?Ro({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Oee(n){return this.to(An(),n)}function f8(n){var e;return n===void 0?this._locale._abbr:(e=ml(n),e!=null&&(this._locale=e),this)}var h8=Ys("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function m8(){return this._locale}var ty=1e3,wf=60*ty,ny=60*wf,g8=(365*400+97)*24*ny;function vf(n,e){return(n%e+e)%e}function p8(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-g8:new Date(n,e,t).valueOf()}function b8(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-g8:Date.UTC(n,e,t)}function Mee(n){var e,t;if(n=Ks(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?b8:p8,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=vf(e+(this._isUTC?0:this.utcOffset()*wf),ny);break;case"minute":e=this._d.valueOf(),e-=vf(e,wf);break;case"second":e=this._d.valueOf(),e-=vf(e,ty);break}return this._d.setTime(e),tt.updateOffset(this,!0),this}function Dee(n){var e,t;if(n=Ks(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?b8:p8,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ny-vf(e+(this._isUTC?0:this.utcOffset()*wf),ny)-1;break;case"minute":e=this._d.valueOf(),e+=wf-vf(e,wf)-1;break;case"second":e=this._d.valueOf(),e+=ty-vf(e,ty)-1;break}return this._d.setTime(e),tt.updateOffset(this,!0),this}function Fee(){return this._d.valueOf()-(this._offset||0)*6e4}function Lee(){return Math.floor(this.valueOf()/1e3)}function Bee(){return new Date(this.valueOf())}function Vee(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function Uee(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function zee(){return this.isValid()?this.toISOString():null}function Hee(){return zT(this)}function $ee(){return Xl({},_t(this))}function Wee(){return _t(this).overflow}function jee(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ct("N",0,0,"eraAbbr");ct("NN",0,0,"eraAbbr");ct("NNN",0,0,"eraAbbr");ct("NNNN",0,0,"eraName");ct("NNNNN",0,0,"eraNarrow");ct("y",["y",1],"yo","eraYear");ct("y",["yy",2],0,"eraYear");ct("y",["yyy",3],0,"eraYear");ct("y",["yyyy",4],0,"eraYear");rt("N",sS);rt("NN",sS);rt("NNN",sS);rt("NNNN",nte);rt("NNNNN",rte);yn(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,r){var i=t._locale.erasParse(n,r,t._strict);i?_t(t).era=i:_t(t).invalidEra=n});rt("y",oh);rt("yy",oh);rt("yyy",oh);rt("yyyy",oh);rt("yo",ite);yn(["y","yy","yyy","yyyy"],oi);yn(["yo"],function(n,e,t,r){var i;t._locale._eraYearOrdinalRegex&&(i=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[oi]=t._locale.eraYearOrdinalParse(n,i):e[oi]=parseInt(n,10)});function qee(n,e){var t,r,i,s=this._eras||ml("en")._eras;for(t=0,r=s.length;t<r;++t){switch(typeof s[t].since){case"string":i=tt(s[t].since).startOf("day"),s[t].since=i.valueOf();break}switch(typeof s[t].until){case"undefined":s[t].until=1/0;break;case"string":i=tt(s[t].until).startOf("day").valueOf(),s[t].until=i.valueOf();break}}return s}function Gee(n,e,t){var r,i,s=this.eras(),o,a,l;for(n=n.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===n)return s[r];break;case"NNNN":if(o===n)return s[r];break;case"NNNNN":if(l===n)return s[r];break}else if([o,a,l].indexOf(n)>=0)return s[r]}function Yee(n,e){var t=n.since<=n.until?1:-1;return e===void 0?tt(n.since).year():tt(n.since).year()+(e-n.offset)*t}function Kee(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].name;return""}function Xee(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].narrow;return""}function Jee(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].abbr;return""}function Qee(){var n,e,t,r,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=i[n].since<=i[n].until?1:-1,r=this.clone().startOf("day").valueOf(),i[n].since<=r&&r<=i[n].until||i[n].until<=r&&r<=i[n].since)return(this.year()-tt(i[n].since).year())*t+i[n].offset;return this.year()}function Zee(n){return Ut(this,"_erasNameRegex")||oS.call(this),n?this._erasNameRegex:this._erasRegex}function ete(n){return Ut(this,"_erasAbbrRegex")||oS.call(this),n?this._erasAbbrRegex:this._erasRegex}function tte(n){return Ut(this,"_erasNarrowRegex")||oS.call(this),n?this._erasNarrowRegex:this._erasRegex}function sS(n,e){return e.erasAbbrRegex(n)}function nte(n,e){return e.erasNameRegex(n)}function rte(n,e){return e.erasNarrowRegex(n)}function ite(n,e){return e._eraYearOrdinalRegex||oh}function oS(){var n=[],e=[],t=[],r=[],i,s,o,a,l,u=this.eras();for(i=0,s=u.length;i<s;++i)o=Xa(u[i].name),a=Xa(u[i].abbr),l=Xa(u[i].narrow),e.push(o),n.push(a),t.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}ct(0,["gg",2],0,function(){return this.weekYear()%100});ct(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ow(n,e){ct(0,[n,n.length],0,e)}Ow("gggg","weekYear");Ow("ggggg","weekYear");Ow("GGGG","isoWeekYear");Ow("GGGGG","isoWeekYear");rt("G",Aw);rt("g",Aw);rt("GG",Pn,Es);rt("gg",Pn,Es);rt("GGGG",GT,qT);rt("gggg",GT,qT);rt("GGGGG",Cw,Tw);rt("ggggg",Cw,Tw);M0(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){e[r.substr(0,2)]=It(n)});M0(["gg","GG"],function(n,e,t,r){e[r]=tt.parseTwoDigitYear(n)});function ste(n){return y8.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ote(n){return y8.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function ate(){return Ja(this.year(),1,4)}function lte(){return Ja(this.isoWeekYear(),1,4)}function cte(){var n=this.localeData()._week;return Ja(this.year(),n.dow,n.doy)}function ute(){var n=this.localeData()._week;return Ja(this.weekYear(),n.dow,n.doy)}function y8(n,e,t,r,i){var s;return n==null?Ug(this,r,i).year:(s=Ja(n,r,i),e>s&&(e=s),dte.call(this,n,e,t,r,i))}function dte(n,e,t,r,i){var s=J7(n,e,t,r,i),o=Vg(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}ct("Q",0,"Qo","quarter");rt("Q",U7);yn("Q",function(n,e){e[Wa]=(It(n)-1)*3});function fte(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}ct("D",["DD",2],"Do","date");rt("D",Pn,ah);rt("DD",Pn,Es);rt("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});yn(["D","DD"],Qo);yn("Do",function(n,e){e[Qo]=It(n.match(Pn)[0])});var w8=lh("Date",!0);ct("DDD",["DDDD",3],"DDDo","dayOfYear");rt("DDD",Sw);rt("DDDD",z7);yn(["DDD","DDDD"],function(n,e,t){t._dayOfYear=It(n)});function hte(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}ct("m",["mm",2],0,"minute");rt("m",Pn,YT);rt("mm",Pn,Es);yn(["m","mm"],go);var mte=lh("Minutes",!1);ct("s",["ss",2],0,"second");rt("s",Pn,YT);rt("ss",Pn,Es);yn(["s","ss"],ja);var gte=lh("Seconds",!1);ct("S",0,0,function(){return~~(this.millisecond()/100)});ct(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ct(0,["SSS",3],0,"millisecond");ct(0,["SSSS",4],0,function(){return this.millisecond()*10});ct(0,["SSSSS",5],0,function(){return this.millisecond()*100});ct(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ct(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ct(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ct(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});rt("S",Sw,U7);rt("SS",Sw,Es);rt("SSS",Sw,z7);var Jl,v8;for(Jl="SSSS";Jl.length<=9;Jl+="S")rt(Jl,oh);function pte(n,e){e[iu]=It(("0."+n)*1e3)}for(Jl="S";Jl.length<=9;Jl+="S")yn(Jl,pte);v8=lh("Milliseconds",!1);ct("z",0,0,"zoneAbbr");ct("zz",0,0,"zoneName");function bte(){return this._isUTC?"UTC":""}function yte(){return this._isUTC?"Coordinated Universal Time":""}var De=R0.prototype;De.add=uee;De.calendar=bee;De.clone=yee;De.diff=Tee;De.endOf=Dee;De.format=Nee;De.from=Pee;De.fromNow=Iee;De.to=Ree;De.toNow=Oee;De.get=AQ;De.invalidAt=Wee;De.isAfter=wee;De.isBefore=vee;De.isBetween=_ee;De.isSame=xee;De.isSameOrAfter=Eee;De.isSameOrBefore=kee;De.isValid=Hee;De.lang=h8;De.locale=f8;De.localeData=m8;De.max=HZ;De.min=zZ;De.parsingFlags=$ee;De.set=NQ;De.startOf=Mee;De.subtract=dee;De.toArray=Vee;De.toObject=Uee;De.toDate=Bee;De.toISOString=Cee;De.inspect=Aee;typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});De.toJSON=zee;De.toString=See;De.unix=Lee;De.valueOf=Fee;De.creationData=jee;De.eraName=Kee;De.eraNarrow=Xee;De.eraAbbr=Jee;De.eraYear=Qee;De.year=W7;De.isLeapYear=CQ;De.weekYear=ste;De.isoWeekYear=ote;De.quarter=De.quarters=fte;De.month=K7;De.daysInMonth=BQ;De.week=De.weeks=qQ;De.isoWeek=De.isoWeeks=GQ;De.weeksInYear=cte;De.weeksInWeekYear=ute;De.isoWeeksInYear=ate;De.isoWeeksInISOWeekYear=lte;De.date=w8;De.day=De.days=oZ;De.weekday=aZ;De.isoWeekday=lZ;De.dayOfYear=hte;De.hour=De.hours=gZ;De.minute=De.minutes=mte;De.second=De.seconds=gte;De.millisecond=De.milliseconds=v8;De.utcOffset=JZ;De.utc=ZZ;De.local=eee;De.parseZone=tee;De.hasAlignedHourOffset=nee;De.isDST=ree;De.isLocal=see;De.isUtcOffset=oee;De.isUtc=l8;De.isUTC=l8;De.zoneAbbr=bte;De.zoneName=yte;De.dates=Ys("dates accessor is deprecated. Use date instead.",w8);De.months=Ys("months accessor is deprecated. Use month instead",K7);De.years=Ys("years accessor is deprecated. Use year instead",W7);De.zone=Ys("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",QZ);De.isDSTShifted=Ys("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",iee);function wte(n){return An(n*1e3)}function vte(){return An.apply(null,arguments).parseZone()}function _8(n){return n}var zt=$T.prototype;zt.calendar=sQ;zt.longDateFormat=cQ;zt.invalidDate=dQ;zt.ordinal=mQ;zt.preparse=_8;zt.postformat=_8;zt.relativeTime=pQ;zt.pastFuture=bQ;zt.set=rQ;zt.eras=qee;zt.erasParse=Gee;zt.erasConvertYear=Yee;zt.erasAbbrRegex=ete;zt.erasNameRegex=Zee;zt.erasNarrowRegex=tte;zt.months=MQ;zt.monthsShort=DQ;zt.monthsParse=LQ;zt.monthsRegex=UQ;zt.monthsShortRegex=VQ;zt.week=HQ;zt.firstDayOfYear=jQ;zt.firstDayOfWeek=WQ;zt.weekdays=tZ;zt.weekdaysMin=rZ;zt.weekdaysShort=nZ;zt.weekdaysParse=sZ;zt.weekdaysRegex=cZ;zt.weekdaysShortRegex=uZ;zt.weekdaysMinRegex=dZ;zt.isPM=hZ;zt.meridiem=pZ;function ry(n,e,t,r){var i=ml(),s=ma().set(r,e);return i[t](s,n)}function x8(n,e,t){if(al(n)&&(e=n,n=void 0),n=n||"",e!=null)return ry(n,e,t,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ry(n,r,t,"month");return i}function aS(n,e,t,r){typeof n=="boolean"?(al(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,al(e)&&(t=e,e=void 0),e=e||"");var i=ml(),s=n?i._week.dow:0,o,a=[];if(t!=null)return ry(e,(t+s)%7,r,"day");for(o=0;o<7;o++)a[o]=ry(e,(o+s)%7,r,"day");return a}function _te(n,e){return x8(n,e,"months")}function xte(n,e){return x8(n,e,"monthsShort")}function Ete(n,e,t){return aS(n,e,t,"weekdays")}function kte(n,e,t){return aS(n,e,t,"weekdaysShort")}function Tte(n,e,t){return aS(n,e,t,"weekdaysMin")}tc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=It(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});tt.lang=Ys("moment.lang is deprecated. Use moment.locale instead.",tc);tt.langData=Ys("moment.langData is deprecated. Use moment.localeData instead.",ml);var Ma=Math.abs;function Ste(){var n=this._data;return this._milliseconds=Ma(this._milliseconds),this._days=Ma(this._days),this._months=Ma(this._months),n.milliseconds=Ma(n.milliseconds),n.seconds=Ma(n.seconds),n.minutes=Ma(n.minutes),n.hours=Ma(n.hours),n.months=Ma(n.months),n.years=Ma(n.years),this}function E8(n,e,t,r){var i=Ro(e,t);return n._milliseconds+=r*i._milliseconds,n._days+=r*i._days,n._months+=r*i._months,n._bubble()}function Cte(n,e){return E8(this,n,e,1)}function Ate(n,e){return E8(this,n,e,-1)}function rP(n){return n<0?Math.floor(n):Math.ceil(n)}function Nte(){var n=this._milliseconds,e=this._days,t=this._months,r=this._data,i,s,o,a,l;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=rP(sk(t)+e)*864e5,e=0,t=0),r.milliseconds=n%1e3,i=Vs(n/1e3),r.seconds=i%60,s=Vs(i/60),r.minutes=s%60,o=Vs(s/60),r.hours=o%24,e+=Vs(o/24),l=Vs(k8(e)),t+=l,e-=rP(sk(l)),a=Vs(t/12),t%=12,r.days=e,r.months=t,r.years=a,this}function k8(n){return n*4800/146097}function sk(n){return n*146097/4800}function Pte(n){if(!this.isValid())return NaN;var e,t,r=this._milliseconds;if(n=Ks(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+r/864e5,t=this._months+k8(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(sk(this._months)),n){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+n)}}function gl(n){return function(){return this.as(n)}}var T8=gl("ms"),Ite=gl("s"),Rte=gl("m"),Ote=gl("h"),Mte=gl("d"),Dte=gl("w"),Fte=gl("M"),Lte=gl("Q"),Bte=gl("y"),Vte=T8;function Ute(){return Ro(this)}function zte(n){return n=Ks(n),this.isValid()?this[n+"s"]():NaN}function Ru(n){return function(){return this.isValid()?this._data[n]:NaN}}var Hte=Ru("milliseconds"),$te=Ru("seconds"),Wte=Ru("minutes"),jte=Ru("hours"),qte=Ru("days"),Gte=Ru("months"),Yte=Ru("years");function Kte(){return Vs(this.days()/7)}var Ua=Math.round,of={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Xte(n,e,t,r,i){return i.relativeTime(e||1,!!t,n,r)}function Jte(n,e,t,r){var i=Ro(n).abs(),s=Ua(i.as("s")),o=Ua(i.as("m")),a=Ua(i.as("h")),l=Ua(i.as("d")),u=Ua(i.as("M")),f=Ua(i.as("w")),m=Ua(i.as("y")),p=s<=t.ss&&["s",s]||s<t.s&&["ss",s]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(p=p||f<=1&&["w"]||f<t.w&&["ww",f]),p=p||u<=1&&["M"]||u<t.M&&["MM",u]||m<=1&&["y"]||["yy",m],p[2]=e,p[3]=+n>0,p[4]=r,Xte.apply(null,p)}function Qte(n){return n===void 0?Ua:typeof n=="function"?(Ua=n,!0):!1}function Zte(n,e){return of[n]===void 0?!1:e===void 0?of[n]:(of[n]=e,n==="s"&&(of.ss=e-1),!0)}function ene(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,r=of,i,s;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(r=Object.assign({},of,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=Jte(this,!t,r,i),t&&(s=i.pastFuture(+this,s)),i.postformat(s)}var l2=Math.abs;function Rd(n){return(n>0)-(n<0)||+n}function Mw(){if(!this.isValid())return this.localeData().invalidDate();var n=l2(this._milliseconds)/1e3,e=l2(this._days),t=l2(this._months),r,i,s,o,a=this.asSeconds(),l,u,f,m;return a?(r=Vs(n/60),i=Vs(r/60),n%=60,r%=60,s=Vs(t/12),t%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Rd(this._months)!==Rd(a)?"-":"",f=Rd(this._days)!==Rd(a)?"-":"",m=Rd(this._milliseconds)!==Rd(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(t?u+t+"M":"")+(e?f+e+"D":"")+(i||r||n?"T":"")+(i?m+i+"H":"")+(r?m+r+"M":"")+(n?m+o+"S":"")):"P0D"}var Dt=Rw.prototype;Dt.isValid=GZ;Dt.abs=Ste;Dt.add=Cte;Dt.subtract=Ate;Dt.as=Pte;Dt.asMilliseconds=T8;Dt.asSeconds=Ite;Dt.asMinutes=Rte;Dt.asHours=Ote;Dt.asDays=Mte;Dt.asWeeks=Dte;Dt.asMonths=Fte;Dt.asQuarters=Lte;Dt.asYears=Bte;Dt.valueOf=Vte;Dt._bubble=Nte;Dt.clone=Ute;Dt.get=zte;Dt.milliseconds=Hte;Dt.seconds=$te;Dt.minutes=Wte;Dt.hours=jte;Dt.days=qte;Dt.weeks=Kte;Dt.months=Gte;Dt.years=Yte;Dt.humanize=ene;Dt.toISOString=Mw;Dt.toString=Mw;Dt.toJSON=Mw;Dt.locale=f8;Dt.localeData=m8;Dt.toIsoString=Ys("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mw);Dt.lang=h8;ct("X",0,0,"unix");ct("x",0,0,"valueOf");rt("x",Aw);rt("X",_Q);yn("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});yn("x",function(n,e,t){t._d=new Date(It(n))});//! moment.js
tt.version="2.30.1";tQ(An);tt.fn=De;tt.min=$Z;tt.max=WZ;tt.now=jZ;tt.utc=ma;tt.unix=wte;tt.months=_te;tt.isDate=I0;tt.locale=tc;tt.invalid=kw;tt.duration=Ro;tt.isMoment=ko;tt.weekdays=Ete;tt.parseZone=vte;tt.localeData=ml;tt.isDuration=xb;tt.monthsShort=xte;tt.weekdaysMin=Tte;tt.defineLocale=ZT;tt.updateLocale=vZ;tt.locales=_Z;tt.weekdaysShort=kte;tt.normalizeUnits=Ks;tt.relativeTimeRounding=Qte;tt.relativeTimeThreshold=Zte;tt.calendarFormat=pee;tt.prototype=De;tt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const zf={UploadFileApi:n=>mt.post("/file/upload",n),GetFileApi:n=>mt.getImageBinary(`/file/getFile?fileName=${n}`),uploadApi:()=>mt.get("/file/upload")},tne={client:"client",staff:"staff",admin:"admin"},c2={comboLivestream:1,resPhuKienThuAm:11,Loa:12},D0=async n=>{try{if(!n)return null;const e=await zf.GetFileApi(n),t=new Blob([e]);return URL.createObjectURL(t)}catch(e){return console.error("Li khi ti nh:",e),null}},Hf=n=>n.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),nne=({categories:n})=>{const[e,t]=O.useState(null),[r,i]=O.useState(null),s=O.useRef(null),o=mr();O.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]);const a=(u,f,m)=>{m.stopPropagation(),o(`/${Hf(f.name)}/${u.id}/${f.id}`)},l=(u,f)=>{f.stopPropagation(),o(`/${Hf(u.name)}/${u.id}/all`)};return g.createElement("div",{className:"w-64 bg-white border border-gray-200 rounded-xl shadow-2xl p-2 z-[2001]"},g.createElement("ul",{className:"space-y-1"},n?.map(u=>{const f=u.children?.length>0||u.product?.length>0;return g.createElement("li",{key:u.id,className:"relative",onMouseEnter:()=>{s.current&&clearTimeout(s.current),t(u.id)},onMouseLeave:()=>{s.current=setTimeout(()=>{t(null),i(null)},300)}},g.createElement("div",{onClick:m=>l(u,m),className:`flex items-center justify-between p-3 rounded-md cursor-pointer transition-colors ${e===u.id?"bg-orange-50 text-orange-600":"text-gray-800 hover:bg-gray-50"}`},g.createElement("span",{className:"font-medium"},u.name),f&&g.createElement(xo,{className:"w-4 h-4 opacity-50"})),e===u.id&&f&&g.createElement("div",{className:"absolute top-0 left-full ml-2 w-64 bg-white border border-gray-200 rounded-xl shadow-xl p-2 z-[2002]"},g.createElement("ul",{className:"space-y-1"},u.children?.map(m=>g.createElement("li",{key:m.id,className:"relative",onMouseEnter:()=>i(m.id)},g.createElement("div",{onClick:p=>l(m,p),className:`flex items-center justify-between p-3 rounded-md cursor-pointer transition-colors ${r===m.id?"bg-orange-50 text-orange-600":"text-gray-800 hover:bg-gray-50"}`},g.createElement("span",{className:"font-medium text-sm"},m.name),m.product?.length>0&&g.createElement(xo,{className:"w-4 h-4 opacity-50"})),m.product?.length>0&&r===m.id&&g.createElement("div",{className:"absolute top-0 left-full ml-2 w-64 bg-white border border-gray-200 rounded-xl shadow-xl p-2 z-[2003] animate-in fade-in slide-in-from-left-2 duration-200"},g.createElement("div",{className:"space-y-1"},m.product.map(p=>g.createElement("div",{key:p.id,onClick:y=>a(m,p,y),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-orange-50 hover:text-orange-600 cursor-pointer text-sm transition-all group"},g.createElement(DE,{className:"w-3.5 h-3.5 text-gray-300 group-hover:text-orange-400"}),g.createElement("div",{className:"flex-1 line-clamp-1 font-medium"},p.name))))))),u.product?.length>0&&g.createElement(g.Fragment,null,u.children?.length>0&&g.createElement("div",{className:"my-2 border-t border-gray-100"}),u.product.map(m=>g.createElement("div",{key:m.id,onClick:p=>a(u,m,p),className:"flex items-center gap-2 p-3 rounded-md hover:bg-orange-50 hover:text-orange-600 cursor-pointer text-sm transition-colors group"},g.createElement(DE,{className:"w-4 h-4 text-gray-300 group-hover:text-orange-400"}),g.createElement("span",{className:"font-medium line-clamp-1"},m.name)))))))})))};function F0({options:n=[],placeholder:e="Select option",labelKey:t="label",valueKey:r="value",onChange:i,value:s}){const[o,a]=O.useState(""),[l,u]=O.useState(!1),[f,m]=O.useState(null);O.useEffect(()=>{if(s){const v=n.find(w=>w[r]===s);v&&m(v)}else m(null)},[s,n,r]);const p=n.filter(v=>v[t]?.toLowerCase().includes(o.toLowerCase()));O.useEffect(()=>{const v=w=>{l&&!w.target.closest(".dropdown-container")&&(u(!1),a(""))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[l]);const y=v=>{m(v),u(!1),a(""),i&&i(v)};return g.createElement("div",{className:"relative w-full dropdown-container"},l?g.createElement("input",{type:"text",className:"w-full border rounded-md px-4 py-2 shadow-sm focus:outline-none",placeholder:"Search...",value:o,onChange:v=>a(v.target.value),autoFocus:!0}):g.createElement("button",{onClick:()=>u(!0),className:"w-full text-gray-600 bg-white border border-gray-200 rounded-md px-4 py-2 text-left shadow-sm focus:outline-none focus:border-indigo-400 transition"},f?f[t]:e),l&&g.createElement("div",{className:"absolute w-full mt-2 bg-white border rounded-md shadow-lg p-2 z-10"},g.createElement("div",{className:"max-h-100 overflow-auto"},p.length>0?p.map(v=>g.createElement("div",{key:v[r],onClick:()=>y(v),className:"px-3 py-2 cursor-pointer rounded-md hover:bg-gray-100"},v[t])):g.createElement("div",{className:"text-sm text-gray-500 px-3 py-2 text-center"},"No results"))))}function rne({categories:n,isMobileMenuOpen:e,setIsMobileMenuOpen:t}){const r=mr(),[i,s]=O.useState(null),[o,a]=O.useState(!1),{ProductDropdown:l}=Un(y=>y.product),u=[{label:"TRANG CH",path:"/home"},{label:"GII THIU",path:"/about"},{label:"SN PHM",path:"/product/all/all"},{label:"DCH V",path:"/service"},{label:"TIN TC",path:"/post"},{label:"TUYN DNG",path:"/careers"},{label:"LIN H",path:"/contact"}],f=O.useRef(null);O.useEffect(()=>{const y=v=>{f.current&&!f.current.contains(v.target)&&a(!1)};return document.addEventListener("click",y),()=>document.removeEventListener("click",y)},[]);const m=y=>{s(y)},p=y=>{y.id?r(`/${Hf(y.name)}/all/${y.id}`):be.warning("Vui lng chn sn phm  tm kim!")};return g.createElement("header",{className:"bg-[#ed792f] shadow-md sticky top-0 z-50"},g.createElement("div",{className:"max-w-0xl mx-auto px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"py-1 flex items-center justify-between gap-3"},g.createElement("img",{src:"/logo1.png",alt:"logo",className:"w-20 h-20 object-contain rounded-lg"}),g.createElement("div",{className:"hidden md:flex flex-1 w-full max-w-2xl h-[45px] bg-white items-center border border-black/10 shadow-sm"},g.createElement(F0,{options:l,placeholder:"VD: Micro ci tai khng dy ....",labelKey:"name",valueKey:"id",onChange:y=>m(y)}),g.createElement("div",{ref:f,className:"relative h-full border-l border-r border-gray-300"},g.createElement("div",{onClick:()=>a(!o),className:"h-full flex items-center px-4 cursor-pointer hover:bg-gray-50 transition-colors whitespace-nowrap select-none"},g.createElement("span",{className:"text-black font-bold text-sm mr-2"},"DANH MC"),g.createElement(lw,{className:`w-4 h-4 text-black transition-transform duration-200 ${o?"rotate-180":""}`})),o&&g.createElement("div",{className:"absolute top-full left-0 w-[800px] z-50"},g.createElement(nne,{categories:n||[]}))),g.createElement("button",{className:"h-full px-5 flex items-center justify-center hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{p(i)}},g.createElement(S0,{className:"w-6 h-6 text-black"}))),g.createElement("div",{className:"flex items-center gap-6 ml-2"},g.createElement("div",{className:"hidden lg:flex flex-col space-y-1 flex-shrink-0 text-right"},g.createElement("a",{href:"tel:0372672396",className:"flex items-center justify-end gap-2 text-white transition-colors font-bold text-sm"},g.createElement(Bf,{className:"w-4 h-4"})," 037.2672.396"),g.createElement("a",{href:"tel:0347577034",className:"flex items-center justify-end gap-2 text-white/90 transition-colors font-medium text-xs"},"Hotline t hng")),g.createElement("div",{className:"hidden lg:flex flex-col space-y-1 flex-shrink-0 text-right"},g.createElement("a",{href:"tel:0372672396",className:"flex items-center justify-end gap-2 text-white transition-colors font-bold text-sm"},g.createElement(Bf,{className:"w-4 h-4"})," 034.7577.034"),g.createElement("a",{href:"tel:0347577034",className:"flex items-center justify-end gap-2 text-white/90 transition-colors font-medium text-xs"},"Hp tc truyn thng"))),g.createElement("button",{onClick:()=>t(!e),className:"p-3 bg-white/20 text-white rounded-xl md:hidden hover:bg-white/30 transition-all"},g.createElement(ID,{className:"w-6 h-6"})))),g.createElement("nav",{className:"bg-white hidden md:block border-t border-gray-100"},g.createElement("div",{className:"max-w-0xl mx-auto px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"flex justify-center space-x-8"},u.map(y=>g.createElement(ec,{key:y.label,to:y.path,className:({isActive:v})=>`relative px-6 py-4 text-sm font-bold transition-all group
                  ${v?"text-[#ed792f]":"text-gray-700 hover:text-[#ed792f]"}`},({isActive:v})=>g.createElement(g.Fragment,null,y.label,v&&g.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#ed792f]"}),!v&&g.createElement("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-1 bg-[#ed792f] group-hover:w-full transition-all duration-300"}))))))),e&&g.createElement("div",{className:"md:hidden fixed inset-0 bg-black/50 z-50",onClick:()=>t(!1)},g.createElement("div",{className:"fixed top-0 right-0 w-3/4 max-w-sm h-full bg-white shadow-2xl p-6 overflow-y-auto",onClick:y=>y.stopPropagation()},g.createElement("div",{className:"flex items-center justify-between mb-6"},g.createElement("h3",{className:"text-2xl font-black text-[#ed792f]"},"Menu"),g.createElement("button",{onClick:()=>t(!1),className:"p-2 rounded hover:bg-gray-100 transition-colors"},"")),g.createElement("nav",null,g.createElement("ul",{className:"space-y-2"},u.map(y=>g.createElement("li",{key:y.label},g.createElement(ec,{to:y.path,className:({isActive:v})=>`block p-3 text-gray-800 font-bold hover:bg-[#ed792f] hover:text-[#ed792f] rounded-lg transition-colors
                         ${v?"text-[#ed792f]":""}`,onClick:()=>t(!1)},y.label))))))))}const S8={sendContactApi:n=>mt.post("/contact/send",n)},C1=({icon:n,title:e,description:t})=>g.createElement("div",{className:"group text-center p-3 bg-white rounded-xl hover:shadow-lg transition-all duration-500 hover:-translate-y-1 w-full max-w-[150px] aspect-square flex flex-col justify-center items-center mx-auto border border-gray-50"},g.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-pink-500 rounded-lg flex items-center justify-center mb-2 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 shadow-md"},g.createElement(n,{className:"w-5 h-5 text-white"})),g.createElement("div",{className:"px-1"},g.createElement("h4",{className:"text-[12px] font-bold text-gray-900 mb-1 leading-tight line-clamp-2 uppercase"},e),g.createElement("p",{className:"text-[10px] text-gray-600 leading-tight line-clamp-2"},t)));function ine(){const[n,e]=O.useState(""),[t,r]=O.useState(!1),i="/logo1.png",s="/zalopay.png",o="/MoMo.png",a="/Bank.png",l=[{name:"Facebook",src:"/facebook.png",href:"https://www.facebook.com/cmicstudio"},{name:"YouTube",src:"/YouTube.png",href:"https://www.youtube.com/@CMICSTUDIO"},{name:"TikTok",src:"/tiktok.png",href:"https://www.tiktok.com/@cmic.studio"},{name:"Zalo",src:"/zalo.webp",href:"#"}],u=async f=>{f.preventDefault();try{r(!0);const m={name:"client",email:n,message:"Ti ang quan tm n sn phm ca bn. Hy lin h vi ti sm nht c th!"};let p=await S8.sendContactApi(m);be.success(" gi thng tin lin h thnh cng!"),e("")}catch(m){console.error("Error sending contact:",m),be.error("Gi thng tin lin h tht bi. Vui lng th li.")}finally{r(!1)}};return g.createElement("footer",{className:"text-white mt-8 font-sans"},g.createElement("div",{className:"bg-black"},g.createElement("div",{className:"max-w-6xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-3 px-4 py-8"},g.createElement(C1,{icon:_Y,title:"GIAO HNG TON QUC",description:"Giao hng nhanh chng v ng hn."}),g.createElement(C1,{icon:BD,title:"THANH TON COD",description:"Thanh ton khi nhn sn phm."}),g.createElement(C1,{icon:YG,title:"H TR 24/7",description:"Sn sng t vn mi thc mc."}),g.createElement(C1,{icon:aY,title:"I TR 7 NGY",description:"i tr min ph nu li nh SX."}))),g.createElement("div",{className:"bg-[#ed792f]"},g.createElement("div",{className:"max-w-6xl mx-auto flex flex-col lg:flex-row justify-between items-center lg:items-start gap-12 px-6 py-12"},g.createElement("div",{className:"w-full lg:w-auto space-y-6"},g.createElement("div",{className:"flex justify-center lg:justify-start items-center space-x-4"},g.createElement("img",{src:i,alt:"Logo",className:"h-20 w-20 rounded-full object-cover shadow-lg border-2 border-white/20"}),g.createElement("div",null,g.createElement("h2",{className:"text-xl lg:text-2xl font-black text-orange-950 leading-tight tracking-tight"},"CMIC STUDIO"),g.createElement("p",{className:"text-white text-sm lg:text-base font-medium opacity-90"},"Gii php dch v livestream &"),g.createElement("p",{className:"text-white text-sm lg:text-base font-medium opacity-90"},"thit b phng thu chnh hng"))),g.createElement("div",{className:"text-base space-y-4"},g.createElement("div",{className:"flex items-start justify-center lg:justify-start"},g.createElement(PD,{className:"w-5 h-5 text-orange-950 flex-shrink-0 mr-3 mt-1"}),g.createElement("p",{className:"max-w-xs"},"S 49 , ng 45, P14, G Vp, TP. HCM")),g.createElement("div",{className:"flex items-center justify-center lg:justify-start"},g.createElement(Bf,{className:"w-5 h-5 text-orange-950 flex-shrink-0 mr-3"}),g.createElement("p",null,g.createElement("span",{className:"font-bold"},"Hotline:")," 037.2672.396")),g.createElement("div",{className:"flex items-center justify-center lg:justify-start"},g.createElement(PG,{className:"w-5 h-5 text-orange-950 flex-shrink-0 mr-3"}),g.createElement("p",null,g.createElement("span",{className:"font-bold"},"Website:")," cmicstudio.vn")),g.createElement("div",{className:"flex items-center justify-center lg:justify-start"},g.createElement(PT,{className:"w-5 h-5 text-orange-950 flex-shrink-0 mr-3"}),g.createElement("p",null,g.createElement("strong",{className:"font-bold"},"Email:")," contact@creatimichub.vn")))),g.createElement("div",{className:"w-full lg:w-auto flex flex-col items-center lg:items-start text-center lg:text-left space-y-6"},g.createElement("div",{className:"space-y-2"},g.createElement("h2",{className:"text-lg lg:text-xl font-bold uppercase tracking-wider"},"NG K NHN TIN"),g.createElement("p",{className:"text-sm italic opacity-90"},"Nhn tin mi nht t chng ti")),g.createElement("div",{className:"flex w-full max-w-sm h-11 bg-black rounded-lg overflow-hidden p-[2px] shadow-md"},g.createElement("input",{type:"email",value:n,onChange:f=>e(f.target.value),className:"flex-grow bg-white px-4 outline-none text-black text-sm rounded-l-md",placeholder:"Email ca bn..."}),g.createElement("button",{disabled:t,onClick:u,className:`
                                    px-6 text-sm font-bold uppercase transition-colors cursor-pointer
                                    ${t?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-zinc-800"}
                                    text-white
                                `},t?"ANG GI...":"GI")),g.createElement("div",{className:"w-full flex flex-col items-center lg:items-start gap-5 pt-5 border-t border-white/20"},g.createElement("div",{className:"flex space-x-3"},l.map(f=>g.createElement("a",{key:f.name,href:f.href,target:f.href!=="#"?"_blank":void 0,rel:f.href!=="#"?"noopener noreferrer":void 0,className:"p-2 rounded-full bg-orange-950/20 hover:bg-black transition-all"},g.createElement("img",{src:f.src,alt:f.name,className:"w-5 h-5 object-contain invert"})))),g.createElement("div",{className:"flex items-center space-x-4 opacity-90 grayscale hover:grayscale-0 transition-all"},g.createElement("img",{src:s,alt:"ZaloPay",className:"h-6"}),g.createElement("img",{src:o,alt:"MoMo",className:"h-6"}),g.createElement("img",{src:a,alt:"Bank",className:"h-6"})))))),g.createElement("div",{className:"bg-[#ed780f] text-center py-3 text-xs text-white/90"}," 2025 CMICSTUDIO. All rights reserved."))}const kb={getListCategoryApi:(n,e)=>{const t={};return n!==void 0&&e!==void 0&&(t.page=n,t.limit=e),mt.get("/category/list",{params:t})},getCategoryByIdApi:n=>mt.get(`/category/${n}`),createCategoryApi:n=>mt.post("/category/create",n),updateCategoryApi:(n,e)=>mt.put(`/category/update/${n}`,e),deleteCategoryApi:n=>mt.delete(`/category/delete/${n}`),filterCategoryApi:(n,e,t,r)=>mt.get(`/category/filter?page=${n}&limit=${e}&categoryId=${t}&priceProduct=${r}`)},iP={CategoryList:[],CategoryTotal:0},_f=Gs("category/getListCategory",async({page:n,limit:e},t)=>await kb.getListCategoryApi(n,e)),C8=rh({name:"category",initialState:iP,reducers:{resetCategory:n=>iP},extraReducers:n=>{n.addCase(_f.pending,e=>{}).addCase(_f.fulfilled,(e,t)=>{e.CategoryList=t.payload.DT.categories,e.CategoryTotal=t.payload.DT.total}).addCase(_f.rejected,(e,t)=>{})}}),{resetCategory:g6e}=C8.actions,sne=C8.reducer;function one(){const n=gr(),{CategoryList:e,CategoryTotal:t}=Un(f=>f.category),[r,i]=O.useState(!1),[s,o]=O.useState(!1),a=ha();O.useEffect(()=>{(async()=>{await n(_f({page:null,limit:null})).unwrap()})()},[]);const l=O.useRef(null);O.useEffect(()=>{l.current&&l.current.scrollTo({top:0,behavior:"instant"})},[a.pathname]),O.useEffect(()=>{const f=l.current;if(!f)return;const m=()=>{o(f.scrollTop>300)};return f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)},[]);const u=()=>{l.current&&l.current.scrollTo({top:0,behavior:"smooth"})};return g.createElement("div",{className:"h-screen w-full bg-gray-50 text-gray-800 font-sans"},g.createElement("div",{className:"flex flex-col h-full transition-all duration-300"},g.createElement(rne,{categories:e,isMobileMenuOpen:r,setIsMobileMenuOpen:i}),g.createElement("main",{ref:l,className:"flex-1 overflow-y-auto"},g.createElement(gD,null),g.createElement(ine,null))),g.createElement(N7,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),s&&g.createElement("button",{onClick:u,className:"fixed bottom-6 right-6 w-12 h-12 bg-black text-white rounded-full flex items-center justify-center shadow-lg transition-all z-50 hover:scale-110",title:"Ln u trang"},g.createElement(Yq,{className:"w-6 h-6"})))}function ane(){gr();const n=[{month:10,day:"10",class:"210240 - TC.240 (CS1)",subject:"Thc tin v kinh nghim xy dng, pht trin a phng",schedule:"Ngy hc: T2, T4, T6 - Kt thc: 05/11/2025",exam:"Ngy thi: 21/11/2025"},{month:8,day:"13",class:"210240 - TC.240 (CS1)",subject:"K nng lnh o, qun l",schedule:"Ngy hc: T2, T4, T6 - Kt thc: 08/10/2025",exam:"Ngy thi: 24/10/2025"},{month:10,day:"01",class:"210946 - H.946 (NB)",subject:"Nghin cu thc t",schedule:"Ngy hc: 4 - Kt thc: 01/10/2025",exam:"Ngy thi: 01/10/2025"},{month:10,day:"10",class:"210949 - H.949 (Q1)",subject:"Kin thc b tr",schedule:"Ngy hc: 4, 6 - Kt thc: 29/10/2025",exam:"Ngy thi: 14/11/2025"}],e=[{month:10,day:"01",subject:"Thc tin v kinh nghim xy dng, pht trin a phng",class:"TC.239 (Hc vin)",time:"180 - Th: T"},{month:10,day:"01",subject:"Kin thc b tr",class:"TC.239 (Hc vin)",time:"180 - Th: T"},{month:10,day:"01",subject:"Nghin cu thc t",class:"H.946 (Nh B)",time:"180 - Th: T"},{month:10,day:"01",subject:"Ni dung c bn ca Ch ngha Mc-Lnin (HP CNXHKH)",class:"H.961 (Hc vin - Cc thu TPHCM)",time:"180 - Th: T"}],t=[{type:"QUYT NH",title:"Thng bo s dng website tra cu thng tin mi",content:"Thng bo s dng website tra cu thng tin lch hc, bng im cho hc vin, ging vin.  thun tin cho vic tra cu l sp xp lch ging dy."},{type:"THNG BO",title:"Thng bo s dng website tra cu thng tin lch hc, bng im cho hc vin, ging vin",content:"Thng bo s dng website tra cu thng tin lch hc, bng im cho hc vin, ging vin.  thun tin cho vic tra cu l sp xp lch ging dy."}];return g.createElement("div",{className:"min-h-screen bg-gray-50 py-8"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"grid grid-cols-4 gap-6 mb-8"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},g.createElement("div",{className:"flex items-center gap-3 mb-4"},g.createElement(VD,{className:"text-[#0081cd]",size:22}),g.createElement("span",{className:"text-gray-600 text-sm font-medium"},"Lp ang hc")),g.createElement("div",{className:"flex items-center justify-between border-l-4 border-[#0081cd]/60 pl-4"},g.createElement("div",null,g.createElement("p",{className:"text-gray-500 text-sm mb-1"},"Tng s mn"),g.createElement("p",{className:"text-4xl font-semibold text-[#0081cd]"},"0")))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},g.createElement("div",{className:"flex items-center gap-3 mb-4"},g.createElement(ND,{className:"text-cyan-500",size:22}),g.createElement("span",{className:"text-gray-600 text-sm font-medium"},"Tng s mn")),g.createElement("div",{className:"flex items-center justify-between border-l-4 border-cyan-400 pl-4"},g.createElement("p",{className:"text-4xl font-semibold text-cyan-500"},"0"))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},g.createElement("div",{className:"flex items-center gap-3 mb-4"},g.createElement(Xq,{className:"text-green-500",size:22}),g.createElement("span",{className:"text-gray-600 text-sm font-medium"},"S mn  hc")),g.createElement("div",{className:"flex items-center justify-between border-l-4 border-green-400 pl-4"},g.createElement("p",{className:"text-4xl font-semibold text-green-500"},"0"))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},g.createElement("div",{className:"flex items-center gap-3 mb-4"},g.createElement(eG,{className:"text-red-500",size:22}),g.createElement("span",{className:"text-gray-600 text-sm font-medium"},"S mn cha hc")),g.createElement("div",{className:"flex items-center justify-between border-l-4 border-red-400 pl-4"},g.createElement("p",{className:"text-4xl font-semibold text-red-500"},"0")))),g.createElement("div",{className:"grid grid-cols-2 gap-6 mb-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-normal text-gray-600"},"Lch hc trong thng"),g.createElement("button",{className:"text-blue-600 text-sm hover:underline"},"Xem thm")),g.createElement("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto"},n.map((r,i)=>g.createElement("div",{key:i,className:"flex gap-4"},g.createElement("div",{className:"flex-shrink-0 bg-gray-400 rounded-lg w-16 h-16 flex flex-col items-center justify-center text-white"},g.createElement("span",{className:"text-[10px]"},"Thng ",r.month),g.createElement("span",{className:"text-2xl font-bold"},r.day)),g.createElement("div",{className:"flex-1"},g.createElement("h3",{className:"font-semibold text-gray-800 text-sm mb-1"},"Lp: ",r.class," - Mn hc: ",r.subject),g.createElement("p",{className:"text-xs text-gray-600"},r.schedule),g.createElement("p",{className:"text-xs text-gray-600"},r.exam)))))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-normal text-gray-600"},"Lch thi trong thng"),g.createElement("button",{className:"text-blue-600 text-sm hover:underline"},"Xem thm...")),g.createElement("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto"},e.map((r,i)=>g.createElement("div",{key:i,className:"flex gap-4"},g.createElement("div",{className:"flex-shrink-0 bg-gray-400 rounded-lg w-16 h-16 flex flex-col items-center justify-center text-white"},g.createElement("span",{className:"text-[10px]"},"Thng ",r.month),g.createElement("span",{className:"text-2xl font-bold"},r.day)),g.createElement("div",{className:"flex-1"},g.createElement("h3",{className:"font-semibold text-gray-800 text-sm mb-1"},r.subject),g.createElement("p",{className:"text-xs text-gray-600"},"Lp: ",r.class," - Thi gian: ",r.time))))))),g.createElement("div",{className:"grid grid-cols-2 gap-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-normal text-gray-600"},"Lch hc ca lp bn"),g.createElement("button",{className:"text-blue-600 text-sm hover:underline"},"Xem thm")),g.createElement("div",{className:"p-6"},g.createElement("p",{className:"text-gray-400 text-center py-12 text-sm"},"Khng c d liu"))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-normal text-gray-600"},"Thng bo"),g.createElement("button",{className:"text-blue-600 text-sm hover:underline"},"Xem thm...")),g.createElement("div",{className:"p-6 space-y-4"},t.map((r,i)=>g.createElement("div",{key:i,className:"flex gap-4"},g.createElement("div",{className:`flex-shrink-0 w-24 h-14 flex items-center justify-center text-white text-[11px] font-bold rounded ${r.type==="QUYT NH"?"bg-red-700":"bg-orange-500"}`},r.type),g.createElement("div",{className:"flex-1"},g.createElement("h3",{className:"font-semibold text-gray-800 text-sm mb-1"},r.title),g.createElement("p",{className:"text-xs text-gray-500 italic leading-relaxed"},r.content))))))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-500"},"Copyright  2025 by CMICSTUDIO")))}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var iy={};iy.version="0.18.5";var A8=1252,lne=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],N8=function(n){lne.indexOf(n)!=-1&&(A8=n)};function cne(){N8(1252)}var Hg=function(n){N8(n)};function une(){Hg(1200),cne()}var A1=function(e){return String.fromCharCode(e)},sP=function(e){return String.fromCharCode(e)},sy,Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $g(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0,l=0,u=0;u<n.length;)t=n.charCodeAt(u++),s=t>>2,r=n.charCodeAt(u++),o=(t&3)<<4|r>>4,i=n.charCodeAt(u++),a=(r&15)<<2|i>>6,l=i&63,isNaN(r)?a=l=64:isNaN(i)&&(l=64),e+=Ql.charAt(s)+Ql.charAt(o)+Ql.charAt(a)+Ql.charAt(l);return e}function ll(n){var e="",t=0,r=0,i=0,s=0,o=0,a=0,l=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)s=Ql.indexOf(n.charAt(u++)),o=Ql.indexOf(n.charAt(u++)),t=s<<2|o>>4,e+=String.fromCharCode(t),a=Ql.indexOf(n.charAt(u++)),r=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(r)),l=Ql.indexOf(n.charAt(u++)),i=(a&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var jt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),pl=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function _u(n){return jt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function oP(n){return jt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var fo=function(e){return jt?pl(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Dw(n){if(typeof ArrayBuffer>"u")return fo(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function L0(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function dne(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var qr=jt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:pl(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function fne(n){for(var e=[],t=0,r=n.length+250,i=_u(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=n.charCodeAt(++s)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|a>>6&15|(o&3)<<4,i[t++]=128|a&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=_u(65535),r=65530)}return e.push(i.slice(0,t)),qr(e)}var og=/\u0000/g,N1=/[\u0001-\u0006]/g;function xf(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function po(n,e){var t=""+n;return t.length>=e?t:Gn("0",e-t.length)+t}function lS(n,e){var t=""+n;return t.length>=e?t:Gn(" ",e-t.length)+t}function oy(n,e){var t=""+n;return t.length>=e?t:t+Gn(" ",e-t.length)}function hne(n,e){var t=""+Math.round(n);return t.length>=e?t:Gn("0",e-t.length)+t}function mne(n,e){var t=""+n;return t.length>=e?t:Gn("0",e-t.length)+t}var aP=Math.pow(2,32);function Od(n,e){if(n>aP||n<-aP)return hne(n,e);var t=Math.round(n);return mne(t,e)}function ay(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var lP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],u2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function gne(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Jn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},cP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},pne={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ly(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,a=0,l=1,u=0,f=0,m=Math.floor(i);u<e&&(m=Math.floor(i),a=m*o+s,f=m*u+l,!(i-m<5e-8));)i=1/(i-m),s=o,o=a,l=u,u=f;if(f>e&&(u>e?(f=l,a=s):(f=u,a=o)),!t)return[0,r*a,f];var p=Math.floor(r*a/f);return[p,r*a-p*f,f]}function P1(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,o=[],a={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),t&&(s=Ene(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var P8=new Date(1899,11,31,0,0,0),bne=P8.getTime(),yne=new Date(1900,2,1,0,0,0);function I8(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=yne&&(t+=24*60*60*1e3),(t-(bne+(n.getTimezoneOffset()-P8.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function cS(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wne(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function vne(n){var e=n<0?12:11,t=cS(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function _ne(n){var e=cS(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function xne(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=vne(n):e===10?t=n.toFixed(10).substr(0,12):t=_ne(n),cS(wne(t.toUpperCase()))}function ok(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):xne(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return sc(14,I8(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function Ene(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function kne(n,e,t,r){var i="",s=0,o=0,a=t.y,l,u=0;switch(n){case 98:a=t.y+543;case 121:switch(e.length){case 1:case 2:l=a%100,u=2;break;default:l=a%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,u=e.length;break;case 3:return u2[t.m-1][1];case 5:return u2[t.m-1][0];default:return u2[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,u=e.length;break;case 3:return lP[t.q][0];default:return lP[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?po(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=po(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=a,u=1;break}var f=u>0?po(l,u):"";return f}function Zl(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var R8=/%/g;function Tne(n,e,t){var r=e.replace(R8,""),i=e.length-r.length;return Qa(n,r,t*Math.pow(10,2*i))+Gn("%",i)}function Sne(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Qa(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function O8(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+O8(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,f){return l+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var M8=/# (\?+)( ?)\/( ?)(\d+)/;function Cne(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return t+(s===0?"":""+s)+" "+(o===0?Gn(" ",n[1].length+1+n[4].length):lS(o,n[1].length)+n[2]+"/"+n[3]+po(a,n[4].length))}function Ane(n,e,t){return t+(e===0?"":""+e)+Gn(" ",n[1].length+2+n[4].length)}var D8=/^#*0*\.([0#]+)/,F8=/\).*[0#]/,L8=/\(###\) ###\\?-####/;function hi(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function uP(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function dP(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function Nne(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function Pne(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Fs(n,e,t){if(n.charCodeAt(0)===40&&!e.match(F8)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Fs("n",r,t):"("+Fs("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Sne(n,e,t);if(e.indexOf("%")!==-1)return Tne(n,e,t);if(e.indexOf("E")!==-1)return O8(e,t);if(e.charCodeAt(0)===36)return"$"+Fs(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Od(l,e.length);if(e.match(/^[#?]+$/))return i=Od(t,0),i==="0"&&(i=""),i.length>e.length?i:hi(e.substr(0,e.length-i.length))+i;if(s=e.match(M8))return Cne(s,l,u);if(e.match(/^#+0+$/))return u+Od(l,e.length-e.indexOf("0"));if(s=e.match(D8))return i=uP(t,s[1].length).replace(/^([^\.]+)$/,"$1."+hi(s[1])).replace(/\.$/,"."+hi(s[1])).replace(/\.(\d*)$/,function(v,w){return"."+w+Gn("0",hi(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+uP(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Zl(Od(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Fs(n,e,-t):Zl(""+(Math.floor(t)+Nne(t,s[1].length)))+"."+po(dP(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Fs(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xf(Fs(n,e.replace(/[\\-]/g,""),t)),o=0,xf(xf(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(e.match(L8))return i=Fs(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=ly(l,Math.pow(10,o)-1,!1),i=""+u,f=Qa("n",s[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=oy(a[2],o),f.length<s[4].length&&(f=hi(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=ly(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?lS(a[1],o)+s[2]+"/"+s[3]+oy(a[2],o):Gn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Od(t,0),e.length<=i.length?i:hi(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var m=e.indexOf(".")-o,p=e.length-i.length-m;return hi(e.substr(0,m)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=dP(t,s[1].length),t<0?"-"+Fs(n,e,-t):Zl(Pne(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?po(0,3-v.length):"")+v})+"."+po(o,s[1].length);switch(e){case"###,##0.00":return Fs(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var y=Zl(Od(l,0));return y!=="0"?u+y:"";case"###,###.00":return Fs(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Fs(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Ine(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Qa(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function Rne(n,e,t){var r=e.replace(R8,""),i=e.length-r.length;return Qa(n,r,t*Math.pow(10,2*i))+Gn("%",i)}function B8(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+B8(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,f){return l+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function qo(n,e,t){if(n.charCodeAt(0)===40&&!e.match(F8)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?qo("n",r,t):"("+qo("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Ine(n,e,t);if(e.indexOf("%")!==-1)return Rne(n,e,t);if(e.indexOf("E")!==-1)return B8(e,t);if(e.charCodeAt(0)===36)return"$"+qo(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+po(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:hi(e.substr(0,e.length-i.length))+i;if(s=e.match(M8))return Ane(s,l,u);if(e.match(/^#+0+$/))return u+po(l,e.length-e.indexOf("0"));if(s=e.match(D8))return i=(""+t).replace(/^([^\.]+)$/,"$1."+hi(s[1])).replace(/\.$/,"."+hi(s[1])),i=i.replace(/\.(\d*)$/,function(v,w){return"."+w+Gn("0",hi(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Zl(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+qo(n,e,-t):Zl(""+t)+"."+Gn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return qo(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xf(qo(n,e.replace(/[\\-]/g,""),t)),o=0,xf(xf(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(e.match(L8))return i=qo(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=ly(l,Math.pow(10,o)-1,!1),i=""+u,f=Qa("n",s[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=oy(a[2],o),f.length<s[4].length&&(f=hi(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=ly(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?lS(a[1],o)+s[2]+"/"+s[3]+oy(a[2],o):Gn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:hi(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var m=e.indexOf(".")-o,p=e.length-i.length-m;return hi(e.substr(0,m)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+qo(n,e,-t):Zl(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?po(0,3-v.length):"")+v})+"."+po(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var y=Zl(""+l);return y!=="0"?u+y:"";default:if(e.match(/\.[0#?]*$/))return qo(n,e.slice(0,e.lastIndexOf(".")),t)+hi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Qa(n,e,t){return(t|0)===t?qo(n,e,t):Fs(n,e,t)}function One(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var V8=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function U8(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":ay(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(V8))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Mne(n,e,t,r){for(var i=[],s="",o=0,a="",l="t",u,f,m,p="H";o<n.length;)switch(a=n.charAt(o)){case"G":if(!ay(n,o))throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(m=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++o;break;case"\\":var y=n.charAt(++o),v=y==="("||y===")"?y:"t";i[i.length]={t:v,v:y},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(u==null&&(u=P1(e,t,n.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=P1(e,t),u==null))return"";for(s=a;++o<n.length&&n.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=p),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var w={t:a,v:a};if(u==null&&(u=P1(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(w.v=u.H>=12?"P":"A"),w.t="T",p="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(w.v=u.H>=12?"PM":"AM"),w.t="T",o+=5,p="h"):n.substr(o,5).toUpperCase()==="/"?(u!=null&&(w.v=u.H>=12?"":""),w.t="T",o+=5,p="h"):(w.t="t",++o),u==null&&w.t==="T")return"";i[i.length]=w,l=a;break;case"[":for(s=a;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(V8)){if(u==null&&(u=P1(e,t),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",U8(n)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=a;++o<n.length&&(a=n.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<n.length&&"0#?.,E+-%".indexOf(a=n.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;n.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"t",v:a},++o;break}var E=0,k=0,T;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,l="h",E<1&&(E=1);break;case"s":(T=i[o].v.match(/\.0+$/))&&(k=Math.max(k,T[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&i[o].v.match(/[Hh]/)&&(E=1),E<2&&i[o].v.match(/[Mm]/)&&(E=2),E<3&&i[o].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",P;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=kne(i[o].t.charCodeAt(0),i[o].v,u,k),i[o].t="t";break;case"n":case"?":for(P=o+1;i[P]!=null&&((a=i[P].t)==="?"||a==="D"||(a===" "||a==="t")&&i[P+1]!=null&&(i[P+1].t==="?"||i[P+1].t==="t"&&i[P+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[P].v==="/"||i[P].v===" "&&i[P+1]!=null&&i[P+1].t=="?"));)i[o].v+=i[P].v,i[P]={v:"",t:";"},++P;S+=i[o].v,o=P-1;break;case"G":i[o].t="t",i[o].v=ok(e,t);break}var I="",R,A;if(S.length>0){S.charCodeAt(0)==40?(R=e<0&&S.charCodeAt(0)===45?-e:e,A=Qa("n",S,R)):(R=e<0&&r>1?-e:e,A=Qa("n",S,R),R<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),P=A.length-1;var F=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){F=o;break}var V=i.length;if(F===i.length&&A.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(P>=i[o].v.length-1?(P-=i[o].v.length,i[o].v=A.substr(P+1,i[o].v.length)):P<0?i[o].v="":(i[o].v=A.substr(0,P+1),P=-1),i[o].t="t",V=o);P>=0&&V<i.length&&(i[V].v=A.substr(0,P+1)+i[V].v)}else if(F!==i.length&&A.indexOf("E")===-1){for(P=A.indexOf(".")-1,o=F;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===F?i[o].v.indexOf(".")-1:i[o].v.length-1,I=i[o].v.substr(f+1);f>=0;--f)P>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(I=A.charAt(P--)+I);i[o].v=I,i[o].t="t",V=o}for(P>=0&&V<i.length&&(i[V].v=A.substr(0,P+1)+i[V].v),P=A.indexOf(".")+1,o=F;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==F)){for(f=i[o].v.indexOf(".")>-1&&o===F?i[o].v.indexOf(".")+1:0,I=i[o].v.substr(0,f);f<i[o].v.length;++f)P<A.length&&(I+=A.charAt(P++));i[o].v=I,i[o].t="t",V=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(R=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Qa(i[o].t,i[o].v,R),i[o].t="t");var K="";for(o=0;o!==i.length;++o)i[o]!=null&&(K+=i[o].v);return K}var fP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function hP(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function Dne(n,e){var t=One(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(fP),a=t[1].match(fP);return hP(e,o)?[r,t[0]]:hP(e,a)?[r,t[1]]:[r,t[o!=null&&a!=null?2:1]]}return[r,s]}function sc(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Jn)[n],r==null&&(r=t.table&&t.table[cP[n]]||Jn[cP[n]]),r==null&&(r=pne[n]||"General");break}if(ay(r,0))return ok(e,t);e instanceof Date&&(e=I8(e,t.date1904));var i=Dne(r,e);if(ay(i[1]))return ok(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Mne(i[1],e,t,i[0])}function z8(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Jn[t]==null){e<0&&(e=t);continue}if(Jn[t]==n){e=t;break}}e<0&&(e=391)}return Jn[e]=n,e}function Fw(n){for(var e=0;e!=392;++e)n[e]!==void 0&&z8(n[e],e)}function Lw(){Jn=gne()}var H8=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Fne(n){var e=typeof n=="number"?Jn[n]:n;return e=e.replace(H8,"(\\d+)"),new RegExp("^"+e+"$")}function Lne(n,e,t){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(e.match(H8)||[]).forEach(function(m,p){var y=parseInt(t[p+1],10);switch(m.toLowerCase().charAt(0)){case"y":r=y;break;case"d":s=y;break;case"h":o=y;break;case"s":l=y;break;case"m":o>=0?a=y:i=y;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?u:r==-1&&i==-1&&s==-1?f:u+"T"+f}var Bne=function(){var n={};n.version="1.2.0";function e(){for(var A=0,F=new Array(256),V=0;V!=256;++V)A=V,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,F[V]=A;return typeof Int32Array<"u"?new Int32Array(F):F}var t=e();function r(A){var F=0,V=0,K=0,re=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(K=0;K!=256;++K)re[K]=A[K];for(K=0;K!=256;++K)for(V=A[K],F=256+K;F<4096;F+=256)V=re[F]=V>>>8^A[V&255];var N=[];for(K=1;K!=16;++K)N[K-1]=typeof Int32Array<"u"?re.subarray(K*256,K*256+256):re.slice(K*256,K*256+256);return N}var i=r(t),s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],f=i[5],m=i[6],p=i[7],y=i[8],v=i[9],w=i[10],E=i[11],k=i[12],T=i[13],S=i[14];function P(A,F){for(var V=F^-1,K=0,re=A.length;K<re;)V=V>>>8^t[(V^A.charCodeAt(K++))&255];return~V}function I(A,F){for(var V=F^-1,K=A.length-15,re=0;re<K;)V=S[A[re++]^V&255]^T[A[re++]^V>>8&255]^k[A[re++]^V>>16&255]^E[A[re++]^V>>>24]^w[A[re++]]^v[A[re++]]^y[A[re++]]^p[A[re++]]^m[A[re++]]^f[A[re++]]^u[A[re++]]^l[A[re++]]^a[A[re++]]^o[A[re++]]^s[A[re++]]^t[A[re++]];for(K+=15;re<K;)V=V>>>8^t[(V^A[re++])&255];return~V}function R(A,F){for(var V=F^-1,K=0,re=A.length,N=0,te=0;K<re;)N=A.charCodeAt(K++),N<128?V=V>>>8^t[(V^N)&255]:N<2048?(V=V>>>8^t[(V^(192|N>>6&31))&255],V=V>>>8^t[(V^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,te=A.charCodeAt(K++)&1023,V=V>>>8^t[(V^(240|N>>8&7))&255],V=V>>>8^t[(V^(128|N>>2&63))&255],V=V>>>8^t[(V^(128|te>>6&15|(N&3)<<4))&255],V=V>>>8^t[(V^(128|te&63))&255]):(V=V>>>8^t[(V^(224|N>>12&15))&255],V=V>>>8^t[(V^(128|N>>6&63))&255],V=V>>>8^t[(V^(128|N&63))&255]);return~V}return n.table=t,n.bstr=P,n.buf=I,n.str=R,n}(),mn=function(){var e={};e.version="1.2.1";function t(M,H){for(var L=M.split("/"),B=H.split("/"),z=0,W=0,ce=Math.min(L.length,B.length);z<ce;++z){if(W=L[z].length-B[z].length)return W;if(L[z]!=B[z])return L[z]<B[z]?-1:1}return L.length-B.length}function r(M){if(M.charAt(M.length-1)=="/")return M.slice(0,-1).indexOf("/")===-1?M:r(M.slice(0,-1));var H=M.lastIndexOf("/");return H===-1?M:M.slice(0,H+1)}function i(M){if(M.charAt(M.length-1)=="/")return i(M.slice(0,-1));var H=M.lastIndexOf("/");return H===-1?M:M.slice(H+1)}function s(M,H){typeof H=="string"&&(H=new Date(H));var L=H.getHours();L=L<<6|H.getMinutes(),L=L<<5|H.getSeconds()>>>1,M.write_shift(2,L);var B=H.getFullYear()-1980;B=B<<4|H.getMonth()+1,B=B<<5|H.getDate(),M.write_shift(2,B)}function o(M){var H=M.read_shift(2)&65535,L=M.read_shift(2)&65535,B=new Date,z=L&31;L>>>=5;var W=L&15;L>>>=4,B.setMilliseconds(0),B.setFullYear(L+1980),B.setMonth(W-1),B.setDate(z);var ce=H&31;H>>>=5;var ve=H&63;return H>>>=6,B.setHours(H),B.setMinutes(ve),B.setSeconds(ce<<1),B}function a(M){ss(M,0);for(var H={},L=0;M.l<=M.length-4;){var B=M.read_shift(2),z=M.read_shift(2),W=M.l+z,ce={};switch(B){case 21589:L=M.read_shift(1),L&1&&(ce.mtime=M.read_shift(4)),z>5&&(L&2&&(ce.atime=M.read_shift(4)),L&4&&(ce.ctime=M.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}M.l=W,H[B]=ce}return H}var l;function u(){return l||(l={})}function f(M,H){if(M[0]==80&&M[1]==75)return _h(M,H);if((M[0]|32)==109&&(M[1]|32)==105)return Lv(M,H);if(M.length<512)throw new Error("CFB file size "+M.length+" < 512");var L=3,B=512,z=0,W=0,ce=0,ve=0,se=0,de=[],me=M.slice(0,512);ss(me,0);var Re=m(me);switch(L=Re[0],L){case 3:B=512;break;case 4:B=4096;break;case 0:if(Re[1]==0)return _h(M,H);default:throw new Error("Major Version: Expected 3 or 4 saw "+L)}B!==512&&(me=M.slice(0,B),ss(me,28));var Ue=M.slice(0,B);p(me,L);var nt=me.read_shift(4,"i");if(L===3&&nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+nt);me.l+=4,ce=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),ve=me.read_shift(4,"i"),z=me.read_shift(4,"i"),se=me.read_shift(4,"i"),W=me.read_shift(4,"i");for(var Fe=-1,Xe=0;Xe<109&&(Fe=me.read_shift(4,"i"),!(Fe<0));++Xe)de[Xe]=Fe;var pt=y(M,B);E(se,W,pt,B,de);var ln=T(pt,ce,de,B);ln[ce].name="!Directory",z>0&&ve!==te&&(ln[ve].name="!MiniFAT"),ln[de[0]].name="!FAT",ln.fat_addrs=de,ln.ssz=B;var cn={},En=[],wa=[],xl=[];S(ce,ln,pt,En,z,cn,wa,ve),v(wa,xl,En),En.shift();var ks={FileIndex:wa,FullPaths:xl};return H&&H.raw&&(ks.raw={header:Ue,sectors:pt}),ks}function m(M){if(M[M.l]==80&&M[M.l+1]==75)return[0,0];M.chk(ye,"Header Signature: "),M.l+=16;var H=M.read_shift(2,"u");return[M.read_shift(2,"u"),H]}function p(M,H){var L=9;switch(M.l+=2,L=M.read_shift(2)){case 9:if(H!=3)throw new Error("Sector Shift: Expected 9 saw "+L);break;case 12:if(H!=4)throw new Error("Sector Shift: Expected 12 saw "+L);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+L)}M.chk("0600","Mini Sector Shift: "),M.chk("000000000000","Reserved: ")}function y(M,H){for(var L=Math.ceil(M.length/H)-1,B=[],z=1;z<L;++z)B[z-1]=M.slice(z*H,(z+1)*H);return B[L-1]=M.slice(L*H),B}function v(M,H,L){for(var B=0,z=0,W=0,ce=0,ve=0,se=L.length,de=[],me=[];B<se;++B)de[B]=me[B]=B,H[B]=L[B];for(;ve<me.length;++ve)B=me[ve],z=M[B].L,W=M[B].R,ce=M[B].C,de[B]===B&&(z!==-1&&de[z]!==z&&(de[B]=de[z]),W!==-1&&de[W]!==W&&(de[B]=de[W])),ce!==-1&&(de[ce]=B),z!==-1&&B!=de[B]&&(de[z]=de[B],me.lastIndexOf(z)<ve&&me.push(z)),W!==-1&&B!=de[B]&&(de[W]=de[B],me.lastIndexOf(W)<ve&&me.push(W));for(B=1;B<se;++B)de[B]===B&&(W!==-1&&de[W]!==W?de[B]=de[W]:z!==-1&&de[z]!==z&&(de[B]=de[z]));for(B=1;B<se;++B)if(M[B].type!==0){if(ve=B,ve!=de[ve])do ve=de[ve],H[B]=H[ve]+"/"+H[B];while(ve!==0&&de[ve]!==-1&&ve!=de[ve]);de[B]=-1}for(H[0]+="/",B=1;B<se;++B)M[B].type!==2&&(H[B]+="/")}function w(M,H,L){for(var B=M.start,z=M.size,W=[],ce=B;L&&z>0&&ce>=0;)W.push(H.slice(ce*N,ce*N+N)),z-=N,ce=Yc(L,ce*4);return W.length===0?_e(0):qr(W).slice(0,M.size)}function E(M,H,L,B,z){var W=te;if(M===te){if(H!==0)throw new Error("DIFAT chain shorter than expected")}else if(M!==-1){var ce=L[M],ve=(B>>>2)-1;if(!ce)return;for(var se=0;se<ve&&(W=Yc(ce,se*4))!==te;++se)z.push(W);E(Yc(ce,B-4),H-1,L,B,z)}}function k(M,H,L,B,z){var W=[],ce=[];z||(z=[]);var ve=B-1,se=0,de=0;for(se=H;se>=0;){z[se]=!0,W[W.length]=se,ce.push(M[se]);var me=L[Math.floor(se*4/B)];if(de=se*4&ve,B<4+de)throw new Error("FAT boundary crossed: "+se+" 4 "+B);if(!M[me])break;se=Yc(M[me],de)}return{nodes:W,data:_P([ce])}}function T(M,H,L,B){var z=M.length,W=[],ce=[],ve=[],se=[],de=B-1,me=0,Re=0,Ue=0,nt=0;for(me=0;me<z;++me)if(ve=[],Ue=me+H,Ue>=z&&(Ue-=z),!ce[Ue]){se=[];var Fe=[];for(Re=Ue;Re>=0;){Fe[Re]=!0,ce[Re]=!0,ve[ve.length]=Re,se.push(M[Re]);var Xe=L[Math.floor(Re*4/B)];if(nt=Re*4&de,B<4+nt)throw new Error("FAT boundary crossed: "+Re+" 4 "+B);if(!M[Xe]||(Re=Yc(M[Xe],nt),Fe[Re]))break}W[Ue]={nodes:ve,data:_P([se])}}return W}function S(M,H,L,B,z,W,ce,ve){for(var se=0,de=B.length?2:0,me=H[M].data,Re=0,Ue=0,nt;Re<me.length;Re+=128){var Fe=me.slice(Re,Re+128);ss(Fe,64),Ue=Fe.read_shift(2),nt=mS(Fe,0,Ue-de),B.push(nt);var Xe={name:nt,type:Fe.read_shift(1),color:Fe.read_shift(1),L:Fe.read_shift(4,"i"),R:Fe.read_shift(4,"i"),C:Fe.read_shift(4,"i"),clsid:Fe.read_shift(16),state:Fe.read_shift(4,"i"),start:0,size:0},pt=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);pt!==0&&(Xe.ct=P(Fe,Fe.l-8));var ln=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);ln!==0&&(Xe.mt=P(Fe,Fe.l-8)),Xe.start=Fe.read_shift(4,"i"),Xe.size=Fe.read_shift(4,"i"),Xe.size<0&&Xe.start<0&&(Xe.size=Xe.type=0,Xe.start=te,Xe.name=""),Xe.type===5?(se=Xe.start,z>0&&se!==te&&(H[se].name="!StreamData")):Xe.size>=4096?(Xe.storage="fat",H[Xe.start]===void 0&&(H[Xe.start]=k(L,Xe.start,H.fat_addrs,H.ssz)),H[Xe.start].name=Xe.name,Xe.content=H[Xe.start].data.slice(0,Xe.size)):(Xe.storage="minifat",Xe.size<0?Xe.size=0:se!==te&&Xe.start!==te&&H[se]&&(Xe.content=w(Xe,H[se].data,(H[ve]||{}).data))),Xe.content&&ss(Xe.content,0),W[nt]=Xe,ce.push(Xe)}}function P(M,H){return new Date((ls(M,H+4)/1e7*Math.pow(2,32)+ls(M,H)/1e7-11644473600)*1e3)}function I(M,H){return u(),f(l.readFileSync(M),H)}function R(M,H){var L=H&&H.type;switch(L||jt&&Buffer.isBuffer(M)&&(L="buffer"),L||"base64"){case"file":return I(M,H);case"base64":return f(fo(ll(M)),H);case"binary":return f(fo(M),H)}return f(M,H)}function A(M,H){var L=H||{},B=L.root||"Root Entry";if(M.FullPaths||(M.FullPaths=[]),M.FileIndex||(M.FileIndex=[]),M.FullPaths.length!==M.FileIndex.length)throw new Error("inconsistent CFB structure");M.FullPaths.length===0&&(M.FullPaths[0]=B+"/",M.FileIndex[0]={name:B,type:5}),L.CLSID&&(M.FileIndex[0].clsid=L.CLSID),F(M)}function F(M){var H="Sh33tJ5";if(!mn.find(M,"/"+H)){var L=_e(4);L[0]=55,L[1]=L[3]=50,L[2]=54,M.FileIndex.push({name:H,type:2,content:L,size:4,L:69,R:69,C:69}),M.FullPaths.push(M.FullPaths[0]+H),V(M)}}function V(M,H){A(M);for(var L=!1,B=!1,z=M.FullPaths.length-1;z>=0;--z){var W=M.FileIndex[z];switch(W.type){case 0:B?L=!0:(M.FileIndex.pop(),M.FullPaths.pop());break;case 1:case 2:case 5:B=!0,isNaN(W.R*W.L*W.C)&&(L=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(L=!0);break;default:L=!0;break}}if(!(!L&&!H)){var ce=new Date(1987,1,19),ve=0,se=Object.create?Object.create(null):{},de=[];for(z=0;z<M.FullPaths.length;++z)se[M.FullPaths[z]]=!0,M.FileIndex[z].type!==0&&de.push([M.FullPaths[z],M.FileIndex[z]]);for(z=0;z<de.length;++z){var me=r(de[z][0]);B=se[me],B||(de.push([me,{name:i(me).replace("/",""),type:1,clsid:ne,ct:ce,mt:ce,content:null}]),se[me]=!0)}for(de.sort(function(nt,Fe){return t(nt[0],Fe[0])}),M.FullPaths=[],M.FileIndex=[],z=0;z<de.length;++z)M.FullPaths[z]=de[z][0],M.FileIndex[z]=de[z][1];for(z=0;z<de.length;++z){var Re=M.FileIndex[z],Ue=M.FullPaths[z];if(Re.name=i(Ue).replace("/",""),Re.L=Re.R=Re.C=-(Re.color=1),Re.size=Re.content?Re.content.length:0,Re.start=0,Re.clsid=Re.clsid||ne,z===0)Re.C=de.length>1?1:-1,Re.size=0,Re.type=5;else if(Ue.slice(-1)=="/"){for(ve=z+1;ve<de.length&&r(M.FullPaths[ve])!=Ue;++ve);for(Re.C=ve>=de.length?-1:ve,ve=z+1;ve<de.length&&r(M.FullPaths[ve])!=r(Ue);++ve);Re.R=ve>=de.length?-1:ve,Re.type=1}else r(M.FullPaths[z+1]||"")==r(Ue)&&(Re.R=z+1),Re.type=2}}}function K(M,H){var L=H||{};if(L.fileType=="mad")return Fo(M,L);switch(V(M),L.fileType){case"zip":return xc(M,L)}var B=function(nt){for(var Fe=0,Xe=0,pt=0;pt<nt.FileIndex.length;++pt){var ln=nt.FileIndex[pt];if(ln.content){var cn=ln.content.length;cn>0&&(cn<4096?Fe+=cn+63>>6:Xe+=cn+511>>9)}}for(var En=nt.FullPaths.length+3>>2,wa=Fe+7>>3,xl=Fe+127>>7,ks=wa+Xe+En+xl,eo=ks+127>>7,Ec=eo<=109?0:Math.ceil((eo-109)/127);ks+eo+Ec+127>>7>eo;)Ec=++eo<=109?0:Math.ceil((eo-109)/127);var to=[1,Ec,eo,xl,En,Xe,Fe,0];return nt.FileIndex[0].size=Fe<<6,to[7]=(nt.FileIndex[0].start=to[0]+to[1]+to[2]+to[3]+to[4]+to[5])+(to[6]+7>>3),to}(M),z=_e(B[7]<<9),W=0,ce=0;{for(W=0;W<8;++W)z.write_shift(1,Ee[W]);for(W=0;W<8;++W)z.write_shift(2,0);for(z.write_shift(2,62),z.write_shift(2,3),z.write_shift(2,65534),z.write_shift(2,9),z.write_shift(2,6),W=0;W<3;++W)z.write_shift(2,0);for(z.write_shift(4,0),z.write_shift(4,B[2]),z.write_shift(4,B[0]+B[1]+B[2]+B[3]-1),z.write_shift(4,0),z.write_shift(4,4096),z.write_shift(4,B[3]?B[0]+B[1]+B[2]-1:te),z.write_shift(4,B[3]),z.write_shift(-4,B[1]?B[0]-1:te),z.write_shift(4,B[1]),W=0;W<109;++W)z.write_shift(-4,W<B[2]?B[1]+W:-1)}if(B[1])for(ce=0;ce<B[1];++ce){for(;W<236+ce*127;++W)z.write_shift(-4,W<B[2]?B[1]+W:-1);z.write_shift(-4,ce===B[1]-1?te:ce+1)}var ve=function(nt){for(ce+=nt;W<ce-1;++W)z.write_shift(-4,W+1);nt&&(++W,z.write_shift(-4,te))};for(ce=W=0,ce+=B[1];W<ce;++W)z.write_shift(-4,ke.DIFSECT);for(ce+=B[2];W<ce;++W)z.write_shift(-4,ke.FATSECT);ve(B[3]),ve(B[4]);for(var se=0,de=0,me=M.FileIndex[0];se<M.FileIndex.length;++se)me=M.FileIndex[se],me.content&&(de=me.content.length,!(de<4096)&&(me.start=ce,ve(de+511>>9)));for(ve(B[6]+7>>3);z.l&511;)z.write_shift(-4,ke.ENDOFCHAIN);for(ce=W=0,se=0;se<M.FileIndex.length;++se)me=M.FileIndex[se],me.content&&(de=me.content.length,!(!de||de>=4096)&&(me.start=ce,ve(de+63>>6)));for(;z.l&511;)z.write_shift(-4,ke.ENDOFCHAIN);for(W=0;W<B[4]<<2;++W){var Re=M.FullPaths[W];if(!Re||Re.length===0){for(se=0;se<17;++se)z.write_shift(4,0);for(se=0;se<3;++se)z.write_shift(4,-1);for(se=0;se<12;++se)z.write_shift(4,0);continue}me=M.FileIndex[W],W===0&&(me.start=me.size?me.start-1:te);var Ue=W===0&&L.root||me.name;if(de=2*(Ue.length+1),z.write_shift(64,Ue,"utf16le"),z.write_shift(2,de),z.write_shift(1,me.type),z.write_shift(1,me.color),z.write_shift(-4,me.L),z.write_shift(-4,me.R),z.write_shift(-4,me.C),me.clsid)z.write_shift(16,me.clsid,"hex");else for(se=0;se<4;++se)z.write_shift(4,0);z.write_shift(4,me.state||0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,me.start),z.write_shift(4,me.size),z.write_shift(4,0)}for(W=1;W<M.FileIndex.length;++W)if(me=M.FileIndex[W],me.size>=4096)if(z.l=me.start+1<<9,jt&&Buffer.isBuffer(me.content))me.content.copy(z,z.l,0,me.size),z.l+=me.size+511&-512;else{for(se=0;se<me.size;++se)z.write_shift(1,me.content[se]);for(;se&511;++se)z.write_shift(1,0)}for(W=1;W<M.FileIndex.length;++W)if(me=M.FileIndex[W],me.size>0&&me.size<4096)if(jt&&Buffer.isBuffer(me.content))me.content.copy(z,z.l,0,me.size),z.l+=me.size+63&-64;else{for(se=0;se<me.size;++se)z.write_shift(1,me.content[se]);for(;se&63;++se)z.write_shift(1,0)}if(jt)z.l=z.length;else for(;z.l<z.length;)z.write_shift(1,0);return z}function re(M,H){var L=M.FullPaths.map(function(se){return se.toUpperCase()}),B=L.map(function(se){var de=se.split("/");return de[de.length-(se.slice(-1)=="/"?2:1)]}),z=!1;H.charCodeAt(0)===47?(z=!0,H=L[0].slice(0,-1)+H):z=H.indexOf("/")!==-1;var W=H.toUpperCase(),ce=z===!0?L.indexOf(W):B.indexOf(W);if(ce!==-1)return M.FileIndex[ce];var ve=!W.match(N1);for(W=W.replace(og,""),ve&&(W=W.replace(N1,"!")),ce=0;ce<L.length;++ce)if((ve?L[ce].replace(N1,"!"):L[ce]).replace(og,"")==W||(ve?B[ce].replace(N1,"!"):B[ce]).replace(og,"")==W)return M.FileIndex[ce];return null}var N=64,te=-2,ye="d0cf11e0a1b11ae1",Ee=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",ke={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:te,FREESECT:-1,HEADER_SIGNATURE:ye,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function We(M,H,L){u();var B=K(M,L);l.writeFileSync(H,B)}function Ie(M){for(var H=new Array(M.length),L=0;L<M.length;++L)H[L]=String.fromCharCode(M[L]);return H.join("")}function j(M,H){var L=K(M,H);switch(H&&H.type||"buffer"){case"file":return u(),l.writeFileSync(H.filename,L),L;case"binary":return typeof L=="string"?L:Ie(L);case"base64":return $g(typeof L=="string"?L:Ie(L));case"buffer":if(jt)return Buffer.isBuffer(L)?L:pl(L);case"array":return typeof L=="string"?fo(L):L}return L}var xe;function U(M){try{var H=M.InflateRaw,L=new H;if(L._processChunk(new Uint8Array([3,0]),L._finishFlushFlag),L.bytesRead)xe=M;else throw new Error("zlib does not expose bytesRead")}catch(B){console.error("cannot use native zlib: "+(B.message||B))}}function Q(M,H){if(!xe)return Ju(M,H);var L=xe.InflateRaw,B=new L,z=B._processChunk(M.slice(M.l),B._finishFlushFlag);return M.l+=B.bytesRead,z}function Y(M){return xe?xe.deflateRawSync(M):Lr(M)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Be(M){var H=(M<<1|M<<11)&139536|(M<<5|M<<15)&558144;return(H>>16|H>>8|H)&255}for(var Je=typeof Uint8Array<"u",je=Je?new Uint8Array(256):[],Nt=0;Nt<256;++Nt)je[Nt]=Be(Nt);function kt(M,H){var L=je[M&255];return H<=8?L>>>8-H:(L=L<<8|je[M>>8&255],H<=16?L>>>16-H:(L=L<<8|je[M>>16&255],L>>>24-H))}function zn(M,H){var L=H&7,B=H>>>3;return(M[B]|(L<=6?0:M[B+1]<<8))>>>L&3}function Pt(M,H){var L=H&7,B=H>>>3;return(M[B]|(L<=5?0:M[B+1]<<8))>>>L&7}function ki(M,H){var L=H&7,B=H>>>3;return(M[B]|(L<=4?0:M[B+1]<<8))>>>L&15}function wn(M,H){var L=H&7,B=H>>>3;return(M[B]|(L<=3?0:M[B+1]<<8))>>>L&31}function Ge(M,H){var L=H&7,B=H>>>3;return(M[B]|(L<=1?0:M[B+1]<<8))>>>L&127}function Qr(M,H,L){var B=H&7,z=H>>>3,W=(1<<L)-1,ce=M[z]>>>B;return L<8-B||(ce|=M[z+1]<<8-B,L<16-B)||(ce|=M[z+2]<<16-B,L<24-B)||(ce|=M[z+3]<<24-B),ce&W}function ji(M,H,L){var B=H&7,z=H>>>3;return B<=5?M[z]|=(L&7)<<B:(M[z]|=L<<B&255,M[z+1]=(L&7)>>8-B),H+3}function qi(M,H,L){var B=H&7,z=H>>>3;return L=(L&1)<<B,M[z]|=L,H+1}function X(M,H,L){var B=H&7,z=H>>>3;return L<<=B,M[z]|=L&255,L>>>=8,M[z+1]=L,H+8}function le(M,H,L){var B=H&7,z=H>>>3;return L<<=B,M[z]|=L&255,L>>>=8,M[z+1]=L&255,M[z+2]=L>>>8,H+16}function we(M,H){var L=M.length,B=2*L>H?2*L:H+5,z=0;if(L>=H)return M;if(jt){var W=oP(B);if(M.copy)M.copy(W);else for(;z<M.length;++z)W[z]=M[z];return W}else if(Je){var ce=new Uint8Array(B);if(ce.set)ce.set(M);else for(;z<L;++z)ce[z]=M[z];return ce}return M.length=B,M}function $e(M){for(var H=new Array(M),L=0;L<M;++L)H[L]=0;return H}function Ve(M,H,L){var B=1,z=0,W=0,ce=0,ve=0,se=M.length,de=Je?new Uint16Array(32):$e(32);for(W=0;W<32;++W)de[W]=0;for(W=se;W<L;++W)M[W]=0;se=M.length;var me=Je?new Uint16Array(se):$e(se);for(W=0;W<se;++W)de[z=M[W]]++,B<z&&(B=z),me[W]=0;for(de[0]=0,W=1;W<=B;++W)de[W+16]=ve=ve+de[W-1]<<1;for(W=0;W<se;++W)ve=M[W],ve!=0&&(me[W]=de[ve+16]++);var Re=0;for(W=0;W<se;++W)if(Re=M[W],Re!=0)for(ve=kt(me[W],B)>>B-Re,ce=(1<<B+4-Re)-1;ce>=0;--ce)H[ve|ce<<Re]=Re&15|W<<4;return B}var Oe=Je?new Uint16Array(512):$e(512),Ze=Je?new Uint16Array(32):$e(32);if(!Je){for(var gt=0;gt<512;++gt)Oe[gt]=0;for(gt=0;gt<32;++gt)Ze[gt]=0}(function(){for(var M=[],H=0;H<32;H++)M.push(5);Ve(M,Ze,32);var L=[];for(H=0;H<=143;H++)L.push(8);for(;H<=255;H++)L.push(9);for(;H<=279;H++)L.push(7);for(;H<=287;H++)L.push(8);Ve(L,Oe,288)})();var yt=function(){for(var H=Je?new Uint8Array(32768):[],L=0,B=0;L<Ye.length-1;++L)for(;B<Ye[L+1];++B)H[B]=L;for(;B<32768;++B)H[B]=29;var z=Je?new Uint8Array(259):[];for(L=0,B=0;L<ue.length-1;++L)for(;B<ue[L+1];++B)z[B]=L;function W(ve,se){for(var de=0;de<ve.length;){var me=Math.min(65535,ve.length-de),Re=de+me==ve.length;for(se.write_shift(1,+Re),se.write_shift(2,me),se.write_shift(2,~me&65535);me-- >0;)se[se.l++]=ve[de++]}return se.l}function ce(ve,se){for(var de=0,me=0,Re=Je?new Uint16Array(32768):[];me<ve.length;){var Ue=Math.min(65535,ve.length-me);if(Ue<10){for(de=ji(se,de,+(me+Ue==ve.length)),de&7&&(de+=8-(de&7)),se.l=de/8|0,se.write_shift(2,Ue),se.write_shift(2,~Ue&65535);Ue-- >0;)se[se.l++]=ve[me++];de=se.l*8;continue}de=ji(se,de,+(me+Ue==ve.length)+2);for(var nt=0;Ue-- >0;){var Fe=ve[me];nt=(nt<<5^Fe)&32767;var Xe=-1,pt=0;if((Xe=Re[nt])&&(Xe|=me&-32768,Xe>me&&(Xe-=32768),Xe<me))for(;ve[Xe+pt]==ve[me+pt]&&pt<250;)++pt;if(pt>2){Fe=z[pt],Fe<=22?de=X(se,de,je[Fe+1]>>1)-1:(X(se,de,3),de+=5,X(se,de,je[Fe-23]>>5),de+=3);var ln=Fe<8?0:Fe-4>>2;ln>0&&(le(se,de,pt-ue[Fe]),de+=ln),Fe=H[me-Xe],de=X(se,de,je[Fe]>>3),de-=3;var cn=Fe<4?0:Fe-2>>1;cn>0&&(le(se,de,me-Xe-Ye[Fe]),de+=cn);for(var En=0;En<pt;++En)Re[nt]=me&32767,nt=(nt<<5^ve[me])&32767,++me;Ue-=pt-1}else Fe<=143?Fe=Fe+48:de=qi(se,de,1),de=X(se,de,je[Fe]),Re[nt]=me&32767,++me}de=X(se,de,0)-1}return se.l=(de+7)/8|0,se.l}return function(se,de){return se.length<8?W(se,de):ce(se,de)}}();function Lr(M){var H=_e(50+Math.floor(M.length*1.1)),L=yt(M,H);return H.slice(0,L)}var ba=Je?new Uint16Array(32768):$e(32768),Gi=Je?new Uint16Array(32768):$e(32768),ya=Je?new Uint16Array(128):$e(128),Zs=1,Ti=1;function wl(M,H){var L=wn(M,H)+257;H+=5;var B=wn(M,H)+1;H+=5;var z=ki(M,H)+4;H+=4;for(var W=0,ce=Je?new Uint8Array(19):$e(19),ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],se=1,de=Je?new Uint8Array(8):$e(8),me=Je?new Uint8Array(8):$e(8),Re=ce.length,Ue=0;Ue<z;++Ue)ce[J[Ue]]=W=Pt(M,H),se<W&&(se=W),de[W]++,H+=3;var nt=0;for(de[0]=0,Ue=1;Ue<=se;++Ue)me[Ue]=nt=nt+de[Ue-1]<<1;for(Ue=0;Ue<Re;++Ue)(nt=ce[Ue])!=0&&(ve[Ue]=me[nt]++);var Fe=0;for(Ue=0;Ue<Re;++Ue)if(Fe=ce[Ue],Fe!=0){nt=je[ve[Ue]]>>8-Fe;for(var Xe=(1<<7-Fe)-1;Xe>=0;--Xe)ya[nt|Xe<<Fe]=Fe&7|Ue<<3}var pt=[];for(se=1;pt.length<L+B;)switch(nt=ya[Ge(M,H)],H+=nt&7,nt>>>=3){case 16:for(W=3+zn(M,H),H+=2,nt=pt[pt.length-1];W-- >0;)pt.push(nt);break;case 17:for(W=3+Pt(M,H),H+=3;W-- >0;)pt.push(0);break;case 18:for(W=11+Ge(M,H),H+=7;W-- >0;)pt.push(0);break;default:pt.push(nt),se<nt&&(se=nt);break}var ln=pt.slice(0,L),cn=pt.slice(L);for(Ue=L;Ue<286;++Ue)ln[Ue]=0;for(Ue=B;Ue<30;++Ue)cn[Ue]=0;return Zs=Ve(ln,ba,286),Ti=Ve(cn,Gi,30),H}function Do(M,H){if(M[0]==3&&!(M[1]&3))return[_u(H),2];for(var L=0,B=0,z=oP(H||1<<18),W=0,ce=z.length>>>0,ve=0,se=0;(B&1)==0;){if(B=Pt(M,L),L+=3,B>>>1)B>>1==1?(ve=9,se=5):(L=wl(M,L),ve=Zs,se=Ti);else{L&7&&(L+=8-(L&7));var de=M[L>>>3]|M[(L>>>3)+1]<<8;if(L+=32,de>0)for(!H&&ce<W+de&&(z=we(z,W+de),ce=z.length);de-- >0;)z[W++]=M[L>>>3],L+=8;continue}for(;;){!H&&ce<W+32767&&(z=we(z,W+32767),ce=z.length);var me=Qr(M,L,ve),Re=B>>>1==1?Oe[me]:ba[me];if(L+=Re&15,Re>>>=4,(Re>>>8&255)===0)z[W++]=Re;else{if(Re==256)break;Re-=257;var Ue=Re<8?0:Re-4>>2;Ue>5&&(Ue=0);var nt=W+ue[Re];Ue>0&&(nt+=Qr(M,L,Ue),L+=Ue),me=Qr(M,L,se),Re=B>>>1==1?Ze[me]:Gi[me],L+=Re&15,Re>>>=4;var Fe=Re<4?0:Re-2>>1,Xe=Ye[Re];for(Fe>0&&(Xe+=Qr(M,L,Fe),L+=Fe),!H&&ce<nt&&(z=we(z,nt+100),ce=z.length);W<nt;)z[W]=z[W-Xe],++W}}}return H?[z,L+7>>>3]:[z.slice(0,W),L+7>>>3]}function Ju(M,H){var L=M.slice(M.l||0),B=Do(L,H);return M.l+=B[1],B[0]}function vl(M,H){if(M)typeof console<"u"&&console.error(H);else throw new Error(H)}function _h(M,H){var L=M;ss(L,0);var B=[],z=[],W={FileIndex:B,FullPaths:z};A(W,{root:H.root});for(var ce=L.length-4;(L[ce]!=80||L[ce+1]!=75||L[ce+2]!=5||L[ce+3]!=6)&&ce>=0;)--ce;L.l=ce+4,L.l+=4;var ve=L.read_shift(2);L.l+=6;var se=L.read_shift(4);for(L.l=se,ce=0;ce<ve;++ce){L.l+=20;var de=L.read_shift(4),me=L.read_shift(4),Re=L.read_shift(2),Ue=L.read_shift(2),nt=L.read_shift(2);L.l+=8;var Fe=L.read_shift(4),Xe=a(L.slice(L.l+Re,L.l+Re+Ue));L.l+=Re+Ue+nt;var pt=L.l;L.l=Fe+4,xh(L,de,me,W,Xe),L.l=pt}return W}function xh(M,H,L,B,z){M.l+=2;var W=M.read_shift(2),ce=M.read_shift(2),ve=o(M);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var se=M.read_shift(4),de=M.read_shift(4),me=M.read_shift(4),Re=M.read_shift(2),Ue=M.read_shift(2),nt="",Fe=0;Fe<Re;++Fe)nt+=String.fromCharCode(M[M.l++]);if(Ue){var Xe=a(M.slice(M.l,M.l+Ue));(Xe[21589]||{}).mt&&(ve=Xe[21589].mt),((z||{})[21589]||{}).mt&&(ve=z[21589].mt)}M.l+=Ue;var pt=M.slice(M.l,M.l+de);switch(ce){case 8:pt=Q(M,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var ln=!1;W&8&&(se=M.read_shift(4),se==134695760&&(se=M.read_shift(4),ln=!0),de=M.read_shift(4),me=M.read_shift(4)),de!=H&&vl(ln,"Bad compressed size: "+H+" != "+de),me!=L&&vl(ln,"Bad uncompressed size: "+L+" != "+me),Cr(B,nt,pt,{unsafe:!0,mt:ve})}function xc(M,H){var L=H||{},B=[],z=[],W=_e(1),ce=L.compression?8:0,ve=0,se=0,de=0,me=0,Re=0,Ue=M.FullPaths[0],nt=Ue,Fe=M.FileIndex[0],Xe=[],pt=0;for(se=1;se<M.FullPaths.length;++se)if(nt=M.FullPaths[se].slice(Ue.length),Fe=M.FileIndex[se],!(!Fe.size||!Fe.content||nt=="Sh33tJ5")){var ln=me,cn=_e(nt.length);for(de=0;de<nt.length;++de)cn.write_shift(1,nt.charCodeAt(de)&127);cn=cn.slice(0,cn.l),Xe[Re]=Bne.buf(Fe.content,0);var En=Fe.content;ce==8&&(En=Y(En)),W=_e(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,ve),W.write_shift(2,ce),Fe.mt?s(W,Fe.mt):W.write_shift(4,0),W.write_shift(-4,Xe[Re]),W.write_shift(4,En.length),W.write_shift(4,Fe.content.length),W.write_shift(2,cn.length),W.write_shift(2,0),me+=W.length,B.push(W),me+=cn.length,B.push(cn),me+=En.length,B.push(En),W=_e(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,ve),W.write_shift(2,ce),W.write_shift(4,0),W.write_shift(-4,Xe[Re]),W.write_shift(4,En.length),W.write_shift(4,Fe.content.length),W.write_shift(2,cn.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,ln),pt+=W.l,z.push(W),pt+=cn.length,z.push(cn),++Re}return W=_e(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,Re),W.write_shift(2,Re),W.write_shift(4,pt),W.write_shift(4,me),W.write_shift(2,0),qr([qr(B),qr(z),W])}var Qu={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function up(M,H){if(M.ctype)return M.ctype;var L=M.name||"",B=L.match(/\.([^\.]+)$/);return B&&Qu[B[1]]||H&&(B=(L=H).match(/[\.\\]([^\.\\])+$/),B&&Qu[B[1]])?Qu[B[1]]:"application/octet-stream"}function dp(M){for(var H=$g(M),L=[],B=0;B<H.length;B+=76)L.push(H.slice(B,B+76));return L.join(`\r
`)+`\r
`}function Eh(M){var H=M.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var me=de.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});H=H.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),H.charAt(0)==`
`&&(H="=0D"+H.slice(1)),H=H.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var L=[],B=H.split(`\r
`),z=0;z<B.length;++z){var W=B[z];if(W.length==0){L.push("");continue}for(var ce=0;ce<W.length;){var ve=76,se=W.slice(ce,ce+ve);se.charAt(ve-1)=="="?ve--:se.charAt(ve-2)=="="?ve-=2:se.charAt(ve-3)=="="&&(ve-=3),se=W.slice(ce,ce+ve),ce+=ve,ce<W.length&&(se+="="),L.push(se)}}return L.join(`\r
`)}function kh(M){for(var H=[],L=0;L<M.length;++L){for(var B=M[L];L<=M.length&&B.charAt(B.length-1)=="=";)B=B.slice(0,B.length-1)+M[++L];H.push(B)}for(var z=0;z<H.length;++z)H[z]=H[z].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return fo(H.join(`\r
`))}function fp(M,H,L){for(var B="",z="",W="",ce,ve=0;ve<10;++ve){var se=H[ve];if(!se||se.match(/^\s*$/))break;var de=se.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":B=de[2].trim();break;case"content-type":W=de[2].trim();break;case"content-transfer-encoding":z=de[2].trim();break}}switch(++ve,z.toLowerCase()){case"base64":ce=fo(ll(H.slice(ve).join("")));break;case"quoted-printable":ce=kh(H.slice(ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+z)}var me=Cr(M,B.slice(L.length),ce,{unsafe:!0});W&&(me.ctype=W)}function Lv(M,H){if(Ie(M.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var L=H&&H.root||"",B=(jt&&Buffer.isBuffer(M)?M.toString("binary"):Ie(M)).split(`\r
`),z=0,W="";for(z=0;z<B.length;++z)if(W=B[z],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),L||(L=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,L.length)!=L))for(;L.length>0&&(L=L.slice(0,L.length-1),L=L.slice(0,L.lastIndexOf("/")+1),W.slice(0,L.length)!=L););var ce=(B[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var ve="--"+(ce[1]||""),se=[],de=[],me={FileIndex:se,FullPaths:de};A(me);var Re,Ue=0;for(z=0;z<B.length;++z){var nt=B[z];nt!==ve&&nt!==ve+"--"||(Ue++&&fp(me,B.slice(Re,z),L),Re=z)}return me}function Fo(M,H){var L=H||{},B=L.boundary||"SheetJS";B="------="+B;for(var z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+B.slice(2)+'"',"","",""],W=M.FullPaths[0],ce=W,ve=M.FileIndex[0],se=1;se<M.FullPaths.length;++se)if(ce=M.FullPaths[se].slice(W.length),ve=M.FileIndex[se],!(!ve.size||!ve.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pt){return"_x"+pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pt){return"_u"+pt.charCodeAt(0).toString(16)+"_"});for(var de=ve.content,me=jt&&Buffer.isBuffer(de)?de.toString("binary"):Ie(de),Re=0,Ue=Math.min(1024,me.length),nt=0,Fe=0;Fe<=Ue;++Fe)(nt=me.charCodeAt(Fe))>=32&&nt<128&&++Re;var Xe=Re>=Ue*4/5;z.push(B),z.push("Content-Location: "+(L.root||"file:///C:/SheetJS/")+ce),z.push("Content-Transfer-Encoding: "+(Xe?"quoted-printable":"base64")),z.push("Content-Type: "+up(ve,ce)),z.push(""),z.push(Xe?Eh(me):dp(me))}return z.push(B+`--\r
`),z.join(`\r
`)}function Sr(M){var H={};return A(H,M),H}function Cr(M,H,L,B){var z=B&&B.unsafe;z||A(M);var W=!z&&mn.find(M,H);if(!W){var ce=M.FullPaths[0];H.slice(0,ce.length)==ce?ce=H:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+H).replace("//","/")),W={name:i(H),type:2},M.FileIndex.push(W),M.FullPaths.push(ce),z||mn.utils.cfb_gc(M)}return W.content=L,W.size=L?L.length:0,B&&(B.CLSID&&(W.clsid=B.CLSID),B.mt&&(W.mt=B.mt),B.ct&&(W.ct=B.ct)),W}function _l(M,H){A(M);var L=mn.find(M,H);if(L){for(var B=0;B<M.FileIndex.length;++B)if(M.FileIndex[B]==L)return M.FileIndex.splice(B,1),M.FullPaths.splice(B,1),!0}return!1}function Th(M,H,L){A(M);var B=mn.find(M,H);if(B){for(var z=0;z<M.FileIndex.length;++z)if(M.FileIndex[z]==B)return M.FileIndex[z].name=i(L),M.FullPaths[z]=L,!0}return!1}function Bv(M){V(M,!0)}return e.find=re,e.read=R,e.parse=f,e.write=j,e.writeFile=We,e.utils={cfb_new:Sr,cfb_add:Cr,cfb_del:_l,cfb_mov:Th,cfb_gc:Bv,ReadShift:lg,CheckField:oF,prep_blob:ss,bconcat:qr,use_zlib:U,_deflateRaw:Lr,_inflateRaw:Ju,consts:ke},e}();function Vne(n){return typeof n=="string"?Dw(n):Array.isArray(n)?dne(n):n}function B0(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Dw(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?jg(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([Vne(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(n);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=L0(e)),a.write(e),a.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+n)}function Xr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function mP(n,e){for(var t=[],r=Xr(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function uS(n){for(var e=[],t=Xr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function Bw(n){for(var e=[],t=Xr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function Une(n){for(var e=[],t=Xr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var cy=new Date(1899,11,30,0,0,0);function Hi(n,e){var t=n.getTime(),r=cy.getTime()+(n.getTimezoneOffset()-cy.getTimezoneOffset())*6e4;return(t-r)/(24*60*60*1e3)}var $8=new Date,zne=cy.getTime()+($8.getTimezoneOffset()-cy.getTimezoneOffset())*6e4,gP=$8.getTimezoneOffset();function W8(n){var e=new Date;return e.setTime(n*24*60*60*1e3+zne),e.getTimezoneOffset()!==gP&&e.setTime(e.getTime()+(e.getTimezoneOffset()-gP)*6e4),e}var pP=new Date("2017-02-19T19:06:09.000Z"),j8=isNaN(pP.getFullYear())?new Date("2/19/17"):pP,Hne=j8.getFullYear()==2017;function wi(n,e){var t=new Date(n);if(Hne)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(j8.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Vw(n,e){if(jt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function $i(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=$i(n[t]));return e}function Gn(n,e){for(var t="";t.length<e;)t+=n;return t}function Za(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var $ne=["january","february","march","april","may","june","july","august","september","october","november","december"];function Wg(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&$ne.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function Et(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return jt?r=pl(t):r=fne(t),mn.utils.cfb_add(n,e,r)}mn.utils.cfb_add(n,e,t)}else n.file(e,t)}function dS(){return mn.utils.cfb_new()}var pr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Wne={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},fS=uS(Wne),hS=/[&<>'"]/g,jne=/[\u0000-\u0008\u000b-\u001f]/g;function sn(n){var e=n+"";return e.replace(hS,function(t){return fS[t]}).replace(jne,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function bP(n){return sn(n).replace(/ /g,"_x0020_")}var q8=/[\u0000-\u001f]/g;function qne(n){var e=n+"";return e.replace(hS,function(t){return fS[t]}).replace(/\n/g,"<br/>").replace(q8,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function Gne(n){var e=n+"";return e.replace(hS,function(t){return fS[t]}).replace(q8,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function Yne(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function Kne(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function d2(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=n.charCodeAt(t++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function yP(n){var e=_u(2*n.length),t,r,i=1,s=0,o=0,a;for(r=0;r<n.length;r+=i)i=1,(a=n.charCodeAt(r))<128?t=a:a<224?(t=(a&31)*64+(n.charCodeAt(r+1)&63),i=2):a<240?(t=(a&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(a&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function wP(n){return pl(n,"binary").toString("utf8")}var I1="foo bar baz",ag=jt&&(wP(I1)==d2(I1)&&wP||yP(I1)==d2(I1)&&yP)||d2,jg=jt?function(n){return pl(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Xne=function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),G8=/(^\s|\s$|\n)/;function Gr(n,e){return"<"+n+(e.match(G8)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function qg(n){return Xr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function ze(n,e,t){return"<"+n+(t!=null?qg(t):"")+(e!=null?(e.match(G8)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function ak(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function Jne(n,e){switch(typeof n){case"string":var t=ze("vt:lpwstr",sn(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return ze((n|0)==n?"vt:i4":"vt:r8",sn(String(n)));case"boolean":return ze("vt:bool",n?"true":"false")}if(n instanceof Date)return ze("vt:filetime",ak(n));throw new Error("Unable to serialize "+n)}var Rr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ch=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],as={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Qne(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function Zne(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)n[t+a]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var vP=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},_P=jt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:pl(e)})):vP(n)}:vP,xP=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(qm(n,i)));return r.join("").replace(og,"")},mS=jt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(og,""):xP(n,e,t)}:xP,EP=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},Y8=jt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):EP(n,e,t)}:EP,kP=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Qd(n,i)));return r.join("")},V0=jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):kP(e,t,r)}:kP,K8=function(n,e){var t=ls(n,e);return t>0?V0(n,e+4,e+4+t-1):""},X8=K8,J8=function(n,e){var t=ls(n,e);return t>0?V0(n,e+4,e+4+t-1):""},Q8=J8,Z8=function(n,e){var t=2*ls(n,e);return t>0?V0(n,e+4,e+4+t-1):""},eF=Z8,tF=function(e,t){var r=ls(e,t);return r>0?mS(e,t+4,t+4+r):""},nF=tF,rF=function(n,e){var t=ls(n,e);return t>0?V0(n,e+4,e+4+t):""},iF=rF,sF=function(n,e){return Qne(n,e)},uy=sF,gS=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};jt&&(X8=function(e,t){if(!Buffer.isBuffer(e))return K8(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},Q8=function(e,t){if(!Buffer.isBuffer(e))return J8(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},eF=function(e,t){if(!Buffer.isBuffer(e))return Z8(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},nF=function(e,t){if(!Buffer.isBuffer(e))return tF(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},iF=function(e,t){if(!Buffer.isBuffer(e))return rF(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},uy=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):sF(e,t)},gS=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Qd=function(n,e){return n[e]},qm=function(n,e){return n[e+1]*256+n[e]},ere=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},ls=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Yc=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},tre=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function lg(n,e){var t="",r,i,s=[],o,a,l,u;switch(e){case"dbcs":if(u=this.l,jt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(l=0;l<n;++l)t+=String.fromCharCode(qm(this,u)),u+=2;n*=2;break;case"utf8":t=V0(this,this.l,this.l+n);break;case"utf16le":n*=2,t=mS(this,this.l,this.l+n);break;case"wstr":return lg.call(this,n,"dbcs");case"lpstr-ansi":t=X8(this,this.l),n=4+ls(this,this.l);break;case"lpstr-cp":t=Q8(this,this.l),n=4+ls(this,this.l);break;case"lpwstr":t=eF(this,this.l),n=4+2*ls(this,this.l);break;case"lpp4":n=4+ls(this,this.l),t=nF(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+ls(this,this.l),t=iF(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=Qd(this,this.l+n++))!==0;)s.push(A1(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=qm(this,this.l+n))!==0;)s.push(A1(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",u=this.l,l=0;l<n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Qd(this,u),this.l=u+1,a=lg.call(this,n-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(A1(qm(this,u))),u+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,l=0;l!=n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Qd(this,u),this.l=u+1,a=lg.call(this,n-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(A1(Qd(this,u))),u+=1}t=s.join("");break;default:switch(n){case 1:return r=Qd(this,this.l),this.l++,r;case 2:return r=(e==="i"?ere:qm)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Yc:tre)(this,this.l),this.l+=4,r):(i=ls(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=uy(this,this.l):i=uy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=Y8(this,this.l,n);break}}return this.l+=n,t}var nre=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},rre=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},ire=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function sre(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)ire(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,nre(this,e,this.l);break;case 8:if(r=8,t==="f"){Zne(this,e,this.l);break}case 16:break;case-4:r=4,rre(this,e,this.l);break}return this.l+=r,this}function oF(n,e){var t=Y8(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function ss(n,e){n.l=e,n.read_shift=lg,n.chk=oF,n.write_shift=sre}function oa(n,e){n.l+=e}function _e(n){var e=_u(n);return ss(e,0),e}function Vi(){var n=[],e=jt?256:2048,t=function(u){var f=_e(u);return ss(f,0),f},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(u){return r&&u<r.length-r.l?r:(i(),r=t(Math.max(u+1,e)))},o=function(){return i(),qr(n)},a=function(u){i(),r=u,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:a,end:o,_bufs:n}}function Pe(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=Qle[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&gS(t)&&n.push(t)}}function cg(n,e,t){var r=$i(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function TP(n,e,t){var r=$i(n);return r.s=cg(r.s,e.s,t),r.e=cg(r.e,e.s,t),r}function ug(n,e){if(n.cRel&&n.c<0)for(n=$i(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=$i(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=on(n);return!n.cRel&&n.cRel!=null&&(t=lre(t)),!n.rRel&&n.rRel!=null&&(t=ore(t)),t}function f2(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+ai(n.s.c)+":"+(n.e.cRel?"":"$")+ai(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Kr(n.s.r)+":"+(n.e.rRel?"":"$")+Kr(n.e.r):ug(n.s,e.biff)+":"+ug(n.e,e.biff)}function pS(n){return parseInt(are(n),10)-1}function Kr(n){return""+(n+1)}function ore(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function are(n){return n.replace(/\$(\d+)$/,"$1")}function bS(n){for(var e=cre(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function ai(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function lre(n){return n.replace(/^([A-Z])/,"$$$1")}function cre(n){return n.replace(/^\$([A-Z])/,"$1")}function ure(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Mr(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function on(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function ws(n){var e=n.indexOf(":");return e==-1?{s:Mr(n),e:Mr(n)}:{s:Mr(n.slice(0,e)),e:Mr(n.slice(e+1))}}function dr(n,e){return typeof e>"u"||typeof e=="number"?dr(n.s,n.e):(typeof n!="string"&&(n=on(n)),typeof e!="string"&&(e=on(e)),n==e?n:n+":"+e)}function Nn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function SP(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=sc(n.z,t?Hi(e):e)}catch{}try{return n.w=sc((n.XF||{}).numFmtId||(t?14:0),t?Hi(e):e)}catch{return""+e}}function cl(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?U0[n.v]||n.v:e==null?SP(n,n.v):SP(n,e))}function Ou(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function aF(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Mr(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=Nn(s["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[m].length;++p)if(!(typeof e[m][p]>"u")){var y={v:e[m][p]},v=o+m,w=a+p;if(u.s.r>v&&(u.s.r=v),u.s.c>w&&(u.s.c=w),u.e.r<v&&(u.e.r=v),u.e.c<w&&(u.e.c=w),e[m][p]&&typeof e[m][p]=="object"&&!Array.isArray(e[m][p])&&!(e[m][p]instanceof Date))y=e[m][p];else if(Array.isArray(y.v)&&(y.f=e[m][p][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(r.nullError)y.t="e",y.v=0;else if(r.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=r.dateNF||Jn[14],r.cellDates?(y.t="d",y.w=sc(y.z,Hi(y.v))):(y.t="n",y.v=Hi(y.v),y.w=sc(y.z,y.v))):y.t="s";if(i)s[v]||(s[v]=[]),s[v][w]&&s[v][w].z&&(y.z=s[v][w].z),s[v][w]=y;else{var E=on({c:w,r:v});s[E]&&s[E].z&&(y.z=s[E].z),s[E]=y}}}return u.s.c<1e7&&(s["!ref"]=dr(u)),s}function uh(n,e){return aF(null,n,e)}function dre(n){return n.read_shift(4,"i")}function yo(n,e){return e||(e=_e(4)),e.write_shift(4,n),e}function li(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Dr(n,e){var t=!1;return e==null&&(t=!0,e=_e(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function fre(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function hre(n,e){return e||(e=_e(4)),e.write_shift(2,0),e.write_shift(2,0),e}function yS(n,e){var t=n.l,r=n.read_shift(1),i=li(n),s=[],o={t:i,h:i};if((r&1)!==0){for(var a=n.read_shift(4),l=0;l!=a;++l)s.push(fre(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function mre(n,e){var t=!1;return e==null&&(t=!0,e=_e(15+4*n.t.length)),e.write_shift(1,0),Dr(n.t,e),t?e.slice(0,e.l):e}var gre=yS;function pre(n,e){var t=!1;return e==null&&(t=!0,e=_e(23+4*n.t.length)),e.write_shift(1,1),Dr(n.t,e),e.write_shift(4,1),hre({},e),t?e.slice(0,e.l):e}function Xs(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Mu(n,e){return e==null&&(e=_e(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Du(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Fu(n,e){return e==null&&(e=_e(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var bre=li,lF=Dr;function wS(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function dy(n,e){var t=!1;return e==null&&(t=!0,e=_e(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var yre=li,lk=wS,vS=dy;function cF(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?uy([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Yc(e,0)>>2;return t?i/100:i}function uF(n,e){e==null&&(e=_e(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function dF(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function wre(n,e){return e||(e=_e(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Lu=dF,dh=wre;function fh(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function xu(n,e){return(e||_e(8)).write_shift(8,n,"f")}function vre(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),a=n.read_shift(1),l=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=Nre[i];u&&(e.rgb=LP(u));break;case 2:e.rgb=LP([o,a,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function fy(n,e){if(e||(e=_e(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function _re(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function xre(n,e){e||(e=_e(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var fF=2,ts=3,R1=11,hy=19,O1=64,Ere=65,kre=71,Tre=4108,Sre=4126,$r=80,CP={1:{n:"CodePage",t:fF},2:{n:"Category",t:$r},3:{n:"PresentationFormat",t:$r},4:{n:"ByteCount",t:ts},5:{n:"LineCount",t:ts},6:{n:"ParagraphCount",t:ts},7:{n:"SlideCount",t:ts},8:{n:"NoteCount",t:ts},9:{n:"HiddenCount",t:ts},10:{n:"MultimediaClipCount",t:ts},11:{n:"ScaleCrop",t:R1},12:{n:"HeadingPairs",t:Tre},13:{n:"TitlesOfParts",t:Sre},14:{n:"Manager",t:$r},15:{n:"Company",t:$r},16:{n:"LinksUpToDate",t:R1},17:{n:"CharacterCount",t:ts},19:{n:"SharedDoc",t:R1},22:{n:"HyperlinksChanged",t:R1},23:{n:"AppVersion",t:ts,p:"version"},24:{n:"DigSig",t:Ere},26:{n:"ContentType",t:$r},27:{n:"ContentStatus",t:$r},28:{n:"Language",t:$r},29:{n:"Version",t:$r},255:{},2147483648:{n:"Locale",t:hy},2147483651:{n:"Behavior",t:hy},1919054434:{}},AP={1:{n:"CodePage",t:fF},2:{n:"Title",t:$r},3:{n:"Subject",t:$r},4:{n:"Author",t:$r},5:{n:"Keywords",t:$r},6:{n:"Comments",t:$r},7:{n:"Template",t:$r},8:{n:"LastAuthor",t:$r},9:{n:"RevNumber",t:$r},10:{n:"EditTime",t:O1},11:{n:"LastPrinted",t:O1},12:{n:"CreatedDate",t:O1},13:{n:"ModifiedDate",t:O1},14:{n:"PageCount",t:ts},15:{n:"WordCount",t:ts},16:{n:"CharCount",t:ts},17:{n:"Thumbnail",t:kre},18:{n:"Application",t:$r},19:{n:"DocSecurity",t:ts},255:{},2147483648:{n:"Locale",t:hy},2147483651:{n:"Behavior",t:hy},1919054434:{}};function Cre(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Are=Cre([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Nre=$i(Are),U0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Pre={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},M1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function hF(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function mF(n,e){var t=Une(Pre),r=[],i;r[r.length]=pr,r[r.length]=ze("Types",null,{xmlns:Rr.CT,"xmlns:xsd":Rr.xsd,"xmlns:xsi":Rr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ze("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){n[l]&&n[l].length>0&&(i=n[l][0],r[r.length]=ze("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:M1[l][e.bookType]||M1[l].xlsx}))},o=function(l){(n[l]||[]).forEach(function(u){r[r.length]=ze("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:M1[l][e.bookType]||M1[l].xlsx})})},a=function(l){(n[l]||[]).forEach(function(u){r[r.length]=ze("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Bt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function gF(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Ef(n){var e=[pr,ze("Relationships",null,{xmlns:Rr.RELS})];return Xr(n["!id"]).forEach(function(t){e[e.length]=ze("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function rn(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[Bt.HLINK,Bt.XPATH,Bt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function Ire(n){var e=[pr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function NP(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Rre(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Ore(n){var e=[pr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(NP(n[t][0],n[t][1])),e.push(Rre("",n[t][0]));return e.push(NP("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function pF(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+iy.version+"</meta:generator></office:meta></office:document-meta>"}var hu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function h2(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=sn(e),r[r.length]=t?ze(n,e,t):Gr(n,e))}function bF(n,e){var t=e||{},r=[pr,ze("cp:coreProperties",null,{"xmlns:cp":Rr.CORE_PROPS,"xmlns:dc":Rr.dc,"xmlns:dcterms":Rr.dcterms,"xmlns:dcmitype":Rr.dcmitype,"xmlns:xsi":Rr.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&h2("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:ak(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&h2("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:ak(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=hu.length;++s){var o=hu[s],a=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&h2(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var kf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],yF=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function wF(n){var e=[],t=ze;return n||(n={}),n.Application="SheetJS",e[e.length]=pr,e[e.length]=ze("Properties",null,{xmlns:Rr.EXT_PROPS,"xmlns:vt":Rr.vt}),kf.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=sn(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+sn(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function vF(n){var e=[pr,ze("Properties",null,{xmlns:Rr.CUST_PROPS,"xmlns:vt":Rr.vt})];if(!n)return e.join("");var t=1;return Xr(n).forEach(function(i){++t,e[e.length]=ze("property",Jne(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:sn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var PP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Mre(n,e){var t=[];return Xr(PP).map(function(r){for(var i=0;i<hu.length;++i)if(hu[i][1]==r)return hu[i];for(i=0;i<kf.length;++i)if(kf[i][1]==r)return kf[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(Gr(PP[r[1]]||r[1],i))}}),ze("DocumentProperties",t.join(""),{xmlns:as.o})}function Dre(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Xr(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<hu.length;++o)if(s==hu[o][1])return;for(o=0;o<kf.length;++o)if(s==kf[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var a=n[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),i.push(ze(bP(s),a,{"dt:dt":l}))}}),e&&Xr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(ze(bP(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+as.o+'">'+i.join("")+"</"+r+">"}function Fre(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=_e(8);return o.write_shift(4,r),o.write_shift(4,i),o}function IP(n,e){var t=_e(4),r=_e(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=_e(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=Fre(e);break;case 31:case 80:for(r=_e(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return qr([t,r])}var _F=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Lre(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function RP(n,e,t){var r=_e(8),i=[],s=[],o=8,a=0,l=_e(8),u=_e(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),o+=8+l.length,!e){u=_e(8),u.write_shift(4,0),i.unshift(u);var f=[_e(4)];for(f[0].write_shift(4,n.length),a=0;a<n.length;++a){var m=n[a][0];for(l=_e(8+2*(m.length+1)+(m.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,m.length+1),l.write_shift(0,m,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=qr(f),s.unshift(l),o+=8+l.length}for(a=0;a<n.length;++a)if(!(e&&!e[n[a][0]])&&!(_F.indexOf(n[a][0])>-1||yF.indexOf(n[a][0])>-1)&&n[a][1]!=null){var p=n[a][1],y=0;if(e){y=+e[n[a][0]];var v=t[y];if(v.p=="version"&&typeof p=="string"){var w=p.split(".");p=(+w[0]<<16)+(+w[1]||0)}l=IP(v.t,p)}else{var E=Lre(p);E==-1&&(E=31,p=String(p)),l=IP(E,p)}s.push(l),u=_e(8),u.write_shift(4,e?y:2+a),i.push(u),o+=8+l.length}var k=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,k),k+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),qr([r].concat(i).concat(s))}function OP(n,e,t,r,i,s){var o=_e(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,mn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var l=RP(n,t,r);if(a.push(l),i){var u=RP(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(u)}return qr(a)}function Bre(n,e){e||(e=_e(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function Vre(n,e){return n.read_shift(e)===1}function mi(n,e){return e||(e=_e(2)),e.write_shift(2,+!!n),e}function xF(n){return n.read_shift(2,"u")}function Bs(n,e){return e||(e=_e(2)),e.write_shift(2,n),e}function EF(n,e,t){return t||(t=_e(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function kF(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var o=r?n.read_shift(r,i):"";return o}function Ure(n){var e=n.t||"",t=_e(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=_e(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return qr(i)}function zre(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function Hre(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):zre(n,r,t)}function $re(n,e,t){if(t.biff>5)return Hre(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function TF(n,e,t){return t||(t=_e(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function MP(n,e){e||(e=_e(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function Wre(n){var e=_e(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(s==28)r=r.slice(1),MP(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var a=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(a.length+1)),t=0;t<a.length;++t)e.write_shift(2,a.charCodeAt(t));e.write_shift(2,0),s&8&&MP(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),t=0;t<r.length-3*l;++t)e.write_shift(1,r.charCodeAt(t+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Eu(n,e,t,r){return r||(r=_e(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function jre(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,s,o]}function qre(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function SF(n,e){return e||(e=_e(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function _S(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=_e(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Gre(n,e){var t=!e||e.biff==8,r=_e(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function Yre(n,e){var t=!e||e.biff>=8?2:1,r=_e(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function Kre(n,e){var t=_e(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=Ure(n[i]);var s=qr([t].concat(r));return s.parts=[t.length].concat(r.map(function(o){return o.length})),s}function Xre(){var n=_e(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function Jre(n){var e=_e(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Qre(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=_e(i);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function Zre(n,e,t,r){var i=_e(10);return Eu(n,e,r,i),i.write_shift(4,t),i}function eie(n,e,t,r,i){var s=!i||i.biff==8,o=_e(8+ +s+(1+s)*t.length);return Eu(n,e,r,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}function tie(n,e,t,r){var i=t&&t.biff==5;r||(r=_e(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function nie(n,e){var t=e.biff==8||!e.biff?4:2,r=_e(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function DP(n,e,t,r){var i=t&&t.biff==5;r||(r=_e(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function rie(n){var e=_e(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function iie(n,e,t,r,i,s){var o=_e(8);return Eu(n,e,r,o),EF(t,s,o),o}function sie(n,e,t,r){var i=_e(14);return Eu(n,e,r,i),xu(t,i),i}function oie(n,e,t){if(t.biff<8)return aie(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(jre(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function aie(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=kF(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function lie(n){var e=_e(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)SF(n[t],e);return e}function cie(n){var e=_e(24),t=Mr(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return qr([e,Wre(n[1])])}function uie(n){var e=n[1].Tooltip,t=_e(10+2*(e.length+1));t.write_shift(2,2048);var r=Mr(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function die(n){return n||(n=_e(4)),n.write_shift(2,1),n.write_shift(2,1),n}function fie(n,e,t){if(!t.cellStyles)return oa(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),a=n.read_shift(r),l=n.read_shift(2);r==2&&(n.l+=2);var u={s:i,e:s,w:o,ixfe:a,flags:l};return(t.biff>=5||!t.biff)&&(u.level=l>>8&7),u}function hie(n,e){var t=_e(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function mie(n){for(var e=_e(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function gie(n,e,t){var r=_e(15);return H0(r,n,e),r.write_shift(8,t,"f"),r}function pie(n,e,t){var r=_e(9);return H0(r,n,e),r.write_shift(2,t),r}var bie=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=uS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(a,l){var u=[],f=_u(1);switch(l.type){case"base64":f=fo(ll(a));break;case"binary":f=fo(a);break;case"buffer":case"array":f=a;break}ss(f,0);var m=f.read_shift(1),p=!!(m&136),y=!1,v=!1;switch(m){case 2:break;case 3:break;case 48:y=!0,p=!0;break;case 49:y=!0,p=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var w=0,E=521;m==2&&(w=f.read_shift(2)),f.l+=3,m!=2&&(w=f.read_shift(4)),w>1048576&&(w=1e6),m!=2&&(E=f.read_shift(2));var k=f.read_shift(2),T=l.codepage||1252;m!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(T=n[f[f.l]]),f.l+=1,f.l+=2),v&&(f.l+=36);for(var S=[],P={},I=Math.min(f.length,m==2?521:E-10-(y?264:0)),R=v?32:11;f.l<I&&f[f.l]!=13;)switch(P={},P.name=sy.utils.decode(T,f.slice(f.l,f.l+R)).replace(/[\u0000\r\n].*$/g,""),f.l+=R,P.type=String.fromCharCode(f.read_shift(1)),m!=2&&!v&&(P.offset=f.read_shift(4)),P.len=f.read_shift(1),m==2&&(P.offset=f.read_shift(2)),P.dec=f.read_shift(1),P.name.length&&S.push(P),m!=2&&(f.l+=v?13:14),P.type){case"B":(!y||P.len!=8)&&l.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+P.type)}if(f[f.l]!==13&&(f.l=E-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=E;var A=0,F=0;for(u[0]=[],F=0;F!=S.length;++F)u[0][F]=S[F].name;for(;w-- >0;){if(f[f.l]===42){f.l+=k;continue}for(++f.l,u[++A]=[],F=0,F=0;F!=S.length;++F){var V=f.slice(f.l,f.l+S[F].len);f.l+=S[F].len,ss(V,0);var K=sy.utils.decode(T,V);switch(S[F].type){case"C":K.trim().length&&(u[A][F]=K.replace(/\s+$/,""));break;case"D":K.length===8?u[A][F]=new Date(+K.slice(0,4),+K.slice(4,6)-1,+K.slice(6,8)):u[A][F]=K;break;case"F":u[A][F]=parseFloat(K.trim());break;case"+":case"I":u[A][F]=v?V.read_shift(-4,"i")^2147483648:V.read_shift(4,"i");break;case"L":switch(K.trim().toUpperCase()){case"Y":case"T":u[A][F]=!0;break;case"N":case"F":u[A][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+K+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));u[A][F]="##MEMO##"+(v?parseInt(K.trim(),10):V.read_shift(4));break;case"N":K=K.replace(/\u0000/g,"").trim(),K&&K!="."&&(u[A][F]=+K||0);break;case"@":u[A][F]=new Date(V.read_shift(-8,"f")-621356832e5);break;case"T":u[A][F]=new Date((V.read_shift(4)-2440588)*864e5+V.read_shift(4));break;case"Y":u[A][F]=V.read_shift(4,"i")/1e4+V.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][F]=-V.read_shift(-8,"f");break;case"B":if(y&&S[F].len==8){u[A][F]=V.read_shift(8,"f");break}case"G":case"P":V.l+=S[F].len;break;case"0":if(S[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[F].type)}}}if(m!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=S,u}function r(a,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var f=uh(t(a,u),u);return f["!cols"]=u.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete u.DBF,f}function i(a,l){try{return Ou(r(a,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var u=l||{};if(+u.codepage>=0&&Hg(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Vi(),m=yy(a,{header:1,raw:!0,cellDates:!0}),p=m[0],y=m.slice(1),v=a["!cols"]||[],w=0,E=0,k=0,T=1;for(w=0;w<p.length;++w){if(((v[w]||{}).DBF||{}).name){p[w]=v[w].DBF.name,++k;continue}if(p[w]!=null){if(++k,typeof p[w]=="number"&&(p[w]=p[w].toString(10)),typeof p[w]!="string")throw new Error("DBF Invalid column name "+p[w]+" |"+typeof p[w]+"|");if(p.indexOf(p[w])!==w){for(E=0;E<1024;++E)if(p.indexOf(p[w]+"_"+E)==-1){p[w]+="_"+E;break}}}}var S=Nn(a["!ref"]),P=[],I=[],R=[];for(w=0;w<=S.e.c-S.s.c;++w){var A="",F="",V=0,K=[];for(E=0;E<y.length;++E)y[E][w]!=null&&K.push(y[E][w]);if(K.length==0||p[w]==null){P[w]="?";continue}for(E=0;E<K.length;++E){switch(typeof K[E]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=K[E]instanceof Date?"D":"C";break;default:F="C"}V=Math.max(V,String(K[E]).length),A=A&&A!=F?"C":F}V>250&&(V=250),F=((v[w]||{}).DBF||{}).type,F=="C"&&v[w].DBF.len>V&&(V=v[w].DBF.len),A=="B"&&F=="N"&&(A="N",R[w]=v[w].DBF.dec,V=v[w].DBF.len),I[w]=A=="C"||F=="N"?V:s[A]||0,T+=I[w],P[w]=A}var re=f.next(32);for(re.write_shift(4,318902576),re.write_shift(4,y.length),re.write_shift(2,296+32*k),re.write_shift(2,T),w=0;w<4;++w)re.write_shift(4,0);for(re.write_shift(4,0|(+e[A8]||3)<<8),w=0,E=0;w<p.length;++w)if(p[w]!=null){var N=f.next(32),te=(p[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,te,"sbcs"),N.write_shift(1,P[w]=="?"?"C":P[w],"sbcs"),N.write_shift(4,E),N.write_shift(1,I[w]||s[P[w]]||0),N.write_shift(1,R[w]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),E+=I[w]||s[P[w]]||0}var ye=f.next(264);for(ye.write_shift(4,13),w=0;w<65;++w)ye.write_shift(4,0);for(w=0;w<y.length;++w){var Ee=f.next(T);for(Ee.write_shift(1,0),E=0;E<p.length;++E)if(p[E]!=null)switch(P[E]){case"L":Ee.write_shift(1,y[w][E]==null?63:y[w][E]?84:70);break;case"B":Ee.write_shift(8,y[w][E]||0,"f");break;case"N":var ne="0";for(typeof y[w][E]=="number"&&(ne=y[w][E].toFixed(R[E]||0)),k=0;k<I[E]-ne.length;++k)Ee.write_shift(1,32);Ee.write_shift(1,ne,"sbcs");break;case"D":y[w][E]?(Ee.write_shift(4,("0000"+y[w][E].getFullYear()).slice(-4),"sbcs"),Ee.write_shift(2,("00"+(y[w][E].getMonth()+1)).slice(-2),"sbcs"),Ee.write_shift(2,("00"+y[w][E].getDate()).slice(-2),"sbcs")):Ee.write_shift(8,"00000000","sbcs");break;case"C":var ke=String(y[w][E]!=null?y[w][E]:"").slice(0,I[E]);for(Ee.write_shift(1,ke,"sbcs"),k=0;k<I[E]-ke.length;++k)Ee.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),yie=function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Xr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,y){var v=n[y];return typeof v=="number"?sP(v):v},r=function(p,y,v){var w=y.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return w==59?p:sP(w)};n["|"]=254;function i(p,y){switch(y.type){case"base64":return s(ll(p),y);case"binary":return s(p,y);case"buffer":return s(jt&&Buffer.isBuffer(p)?p.toString("binary"):L0(p),y);case"array":return s(Vw(p),y)}throw new Error("Unrecognized type "+y.type)}function s(p,y){var v=p.split(/[\n\r]+/),w=-1,E=-1,k=0,T=0,S=[],P=[],I=null,R={},A=[],F=[],V=[],K=0,re;for(+y.codepage>=0&&Hg(+y.codepage);k!==v.length;++k){K=0;var N=v[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),te=N.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),ye=te[0],Ee;if(N.length>0)switch(ye){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":te[1].charAt(0)=="P"&&P.push(N.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,ke=!1,We=!1,Ie=!1,j=-1,xe=-1;for(T=1;T<te.length;++T)switch(te[T].charAt(0)){case"A":break;case"X":E=parseInt(te[T].slice(1))-1,ke=!0;break;case"Y":for(w=parseInt(te[T].slice(1))-1,ke||(E=0),re=S.length;re<=w;++re)S[re]=[];break;case"K":Ee=te[T].slice(1),Ee.charAt(0)==='"'?Ee=Ee.slice(1,Ee.length-1):Ee==="TRUE"?Ee=!0:Ee==="FALSE"?Ee=!1:isNaN(Za(Ee))?isNaN(Wg(Ee).getDate())||(Ee=wi(Ee)):(Ee=Za(Ee),I!==null&&U8(I)&&(Ee=W8(Ee))),ne=!0;break;case"E":Ie=!0;var U=pse(te[T].slice(1),{r:w,c:E});S[w][E]=[S[w][E],U];break;case"S":We=!0,S[w][E]=[S[w][E],"S5S"];break;case"G":break;case"R":j=parseInt(te[T].slice(1))-1;break;case"C":xe=parseInt(te[T].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+N)}if(ne&&(S[w][E]&&S[w][E].length==2?S[w][E][0]=Ee:S[w][E]=Ee,I=null),We){if(Ie)throw new Error("SYLK shared formula cannot have own formula");var Q=j>-1&&S[j][xe];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");S[w][E][1]=bse(Q[1],{r:w-j,c:E-xe})}break;case"F":var Y=0;for(T=1;T<te.length;++T)switch(te[T].charAt(0)){case"X":E=parseInt(te[T].slice(1))-1,++Y;break;case"Y":for(w=parseInt(te[T].slice(1))-1,re=S.length;re<=w;++re)S[re]=[];break;case"M":K=parseInt(te[T].slice(1))/20;break;case"F":break;case"G":break;case"P":I=P[parseInt(te[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(V=te[T].slice(1).split(" "),re=parseInt(V[0],10);re<=parseInt(V[1],10);++re)K=parseInt(V[2],10),F[re-1]=K===0?{hidden:!0}:{wch:K},xS(F[re-1]);break;case"C":E=parseInt(te[T].slice(1))-1,F[E]||(F[E]={});break;case"R":w=parseInt(te[T].slice(1))-1,A[w]||(A[w]={}),K>0?(A[w].hpt=K,A[w].hpx=IF(K)):K===0&&(A[w].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+N)}Y<1&&(I=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+N)}}return A.length>0&&(R["!rows"]=A),F.length>0&&(R["!cols"]=F),y&&y.sheetRows&&(S=S.slice(0,y.sheetRows)),[S,R]}function o(p,y){var v=i(p,y),w=v[0],E=v[1],k=uh(w,y);return Xr(E).forEach(function(T){k[T]=E[T]}),k}function a(p,y){return Ou(o(p,y),y)}function l(p,y,v,w){var E="C;Y"+(v+1)+";X"+(w+1)+";K";switch(p.t){case"n":E+=p.v||0,p.f&&!p.F&&(E+=";E"+kS(p.f,{r:v,c:w}));break;case"b":E+=p.v?"TRUE":"FALSE";break;case"e":E+=p.w||p.v;break;case"d":E+='"'+(p.w||p.v)+'"';break;case"s":E+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function u(p,y){y.forEach(function(v,w){var E="F;W"+(w+1)+" "+(w+1)+" ";v.hidden?E+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=my(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=gy(v.wpx)),typeof v.wch=="number"&&(E+=Math.round(v.wch))),E.charAt(E.length-1)!=" "&&p.push(E)})}function f(p,y){y.forEach(function(v,w){var E="F;";v.hidden?E+="M0;":v.hpt?E+="M"+20*v.hpt+";":v.hpx&&(E+="M"+20*py(v.hpx)+";"),E.length>2&&p.push(E+"R"+(w+1))})}function m(p,y){var v=["ID;PWXL;N;E"],w=[],E=Nn(p["!ref"]),k,T=Array.isArray(p),S=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),p["!cols"]&&u(v,p["!cols"]),p["!rows"]&&f(v,p["!rows"]),v.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var P=E.s.r;P<=E.e.r;++P)for(var I=E.s.c;I<=E.e.c;++I){var R=on({r:P,c:I});k=T?(p[P]||[])[I]:p[R],!(!k||k.v==null&&(!k.f||k.F))&&w.push(l(k,p,P,I))}return v.join(S)+S+w.join(S)+S+"E"+S}return{to_workbook:a,to_sheet:o,from_sheet:m}}(),wie=function(){function n(s,o){switch(o.type){case"base64":return e(ll(s),o);case"binary":return e(s,o);case"buffer":return e(jt&&Buffer.isBuffer(s)?s.toString("binary"):L0(s),o);case"array":return e(Vw(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),l=-1,u=-1,f=0,m=[];f!==a.length;++f){if(a[f].trim()==="BOT"){m[++l]=[],u=0;continue}if(!(l<0)){var p=a[f].trim().split(","),y=p[0],v=p[1];++f;for(var w=a[f]||"";(w.match(/["]/g)||[]).length&1&&f<a.length-1;)w+=`
`+a[++f];switch(w=w.trim(),+y){case-1:if(w==="BOT"){m[++l]=[],u=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?m[l][u]=!0:w==="FALSE"?m[l][u]=!1:isNaN(Za(v))?isNaN(Wg(v).getDate())?m[l][u]=v:m[l][u]=wi(v):m[l][u]=Za(v),++u;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),m[l][u++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(m=m.slice(0,o.sheetRows)),m}function t(s,o){return uh(n(s,o),o)}function r(s,o){return Ou(t(s,o),o)}var i=function(){var s=function(l,u,f,m,p){l.push(u),l.push(f+","+m),l.push('"'+p.replace(/"/g,'""')+'"')},o=function(l,u,f,m){l.push(u+","+f),l.push(u==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(l){var u=[],f=Nn(l["!ref"]),m,p=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,f.e.r-f.s.r+1,""),s(u,"TUPLES",0,f.e.c-f.s.c+1,""),s(u,"DATA",0,0,"");for(var y=f.s.r;y<=f.e.r;++y){o(u,-1,0,"BOT");for(var v=f.s.c;v<=f.e.c;++v){var w=on({r:y,c:v});if(m=p?(l[y]||[])[v]:l[w],!m){o(u,1,0,"");continue}switch(m.t){case"n":var E=m.w;!E&&m.v!=null&&(E=m.v),E==null?m.f&&!m.F?o(u,1,0,"="+m.f):o(u,1,0,""):o(u,0,E,"V");break;case"b":o(u,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=sc(m.z||Jn[14],Hi(wi(m.v)))),o(u,0,m.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var k=`\r
`,T=u.join(k);return T}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),CF=function(){function n(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(m,p){for(var y=m.split(`
`),v=-1,w=-1,E=0,k=[];E!==y.length;++E){var T=y[E].trim().split(":");if(T[0]==="cell"){var S=Mr(T[1]);if(k.length<=S.r)for(v=k.length;v<=S.r;++v)k[v]||(k[v]=[]);switch(v=S.r,w=S.c,T[2]){case"t":k[v][w]=n(T[3]);break;case"v":k[v][w]=+T[3];break;case"vtf":var P=T[T.length-1];case"vtc":switch(T[3]){case"nl":k[v][w]=!!+T[4];break;default:k[v][w]=+T[4];break}T[2]=="vtf"&&(k[v][w]=[k[v][w],P])}}}return p&&p.sheetRows&&(k=k.slice(0,p.sheetRows)),k}function r(m,p){return uh(t(m,p),p)}function i(m,p){return Ou(r(m,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(m){if(!m||!m["!ref"])return"";for(var p=[],y=[],v,w="",E=ws(m["!ref"]),k=Array.isArray(m),T=E.s.r;T<=E.e.r;++T)for(var S=E.s.c;S<=E.e.c;++S)if(w=on({r:T,c:S}),v=k?(m[T]||[])[S]:m[w],!(!v||v.v==null||v.t==="z")){switch(y=["cell",w,"t"],v.t){case"s":case"str":y.push(e(v.v));break;case"n":v.f?(y[2]="vtf",y[3]="n",y[4]=v.v,y[5]=e(v.f)):(y[2]="v",y[3]=v.v);break;case"b":y[2]="vt"+(v.f?"f":"c"),y[3]="nl",y[4]=v.v?"1":"0",y[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var P=Hi(wi(v.v));y[2]="vtc",y[3]="nd",y[4]=""+P,y[5]=v.w||sc(v.z||Jn[14],P);break;case"e":continue}p.push(y.join(":"))}return p.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(m){return[s,o,a,o,u(m),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:f}}(),vie=function(){function n(f,m,p,y,v){v.raw?m[p][y]=f:f===""||(f==="TRUE"?m[p][y]=!0:f==="FALSE"?m[p][y]=!1:isNaN(Za(f))?isNaN(Wg(f).getDate())?m[p][y]=f:m[p][y]=wi(f):m[p][y]=Za(f))}function e(f,m){var p=m||{},y=[];if(!f||f.length===0)return y;for(var v=f.split(/[\r\n]/),w=v.length-1;w>=0&&v[w].length===0;)--w;for(var E=10,k=0,T=0;T<=w;++T)k=v[T].indexOf(" "),k==-1?k=v[T].length:k++,E=Math.max(E,k);for(T=0;T<=w;++T){y[T]=[];var S=0;for(n(v[T].slice(0,E).trim(),y,T,S,p),S=1;S<=(v[T].length-E)/10+1;++S)n(v[T].slice(E+(S-1)*10,E+S*10).trim(),y,T,S,p)}return p.sheetRows&&(y=y.slice(0,p.sheetRows)),y}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(f){for(var m={},p=!1,y=0,v=0;y<f.length;++y)(v=f.charCodeAt(y))==34?p=!p:!p&&v in t&&(m[v]=(m[v]||0)+1);v=[];for(y in m)Object.prototype.hasOwnProperty.call(m,y)&&v.push([m[y],y]);if(!v.length){m=r;for(y in m)Object.prototype.hasOwnProperty.call(m,y)&&v.push([m[y],y])}return v.sort(function(w,E){return w[0]-E[0]||r[w[1]]-r[E[1]]}),t[v.pop()[1]]||44}function s(f,m){var p=m||{},y="",v=p.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(y=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(y=f.charAt(4),f=f.slice(6)):y=i(f.slice(0,1024)):p&&p.FS?y=p.FS:y=i(f.slice(0,1024));var E=0,k=0,T=0,S=0,P=0,I=y.charCodeAt(0),R=!1,A=0,F=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var V=p.dateNF!=null?Fne(p.dateNF):null;function K(){var re=f.slice(S,P),N={};if(re.charAt(0)=='"'&&re.charAt(re.length-1)=='"'&&(re=re.slice(1,-1).replace(/""/g,'"')),re.length===0)N.t="z";else if(p.raw)N.t="s",N.v=re;else if(re.trim().length===0)N.t="s",N.v=re;else if(re.charCodeAt(0)==61)re.charCodeAt(1)==34&&re.charCodeAt(re.length-1)==34?(N.t="s",N.v=re.slice(2,-1).replace(/""/g,'"')):yse(re)?(N.t="n",N.f=re.slice(1)):(N.t="s",N.v=re);else if(re=="TRUE")N.t="b",N.v=!0;else if(re=="FALSE")N.t="b",N.v=!1;else if(!isNaN(T=Za(re)))N.t="n",p.cellText!==!1&&(N.w=re),N.v=T;else if(!isNaN(Wg(re).getDate())||V&&re.match(V)){N.z=p.dateNF||Jn[14];var te=0;V&&re.match(V)&&(re=Lne(re,p.dateNF,re.match(V)||[]),te=1),p.cellDates?(N.t="d",N.v=wi(re,te)):(N.t="n",N.v=Hi(wi(re,te))),p.cellText!==!1&&(N.w=sc(N.z,N.v instanceof Date?Hi(N.v):N.v)),p.cellNF||delete N.z}else N.t="s",N.v=re;if(N.t=="z"||(p.dense?(v[E]||(v[E]=[]),v[E][k]=N):v[on({c:k,r:E})]=N),S=P+1,F=f.charCodeAt(S),w.e.c<k&&(w.e.c=k),w.e.r<E&&(w.e.r=E),A==I)++k;else if(k=0,++E,p.sheetRows&&p.sheetRows<=E)return!0}e:for(;P<f.length;++P)switch(A=f.charCodeAt(P)){case 34:F===34&&(R=!R);break;case I:case 10:case 13:if(!R&&K())break e;break}return P-S>0&&K(),v["!ref"]=dr(w),v}function o(f,m){return!(m&&m.PRN)||m.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,m):uh(e(f,m),m)}function a(f,m){var p="",y=m.type=="string"?[0,0,0,0]:Rce(f,m);switch(m.type){case"base64":p=ll(f);break;case"binary":p=f;break;case"buffer":m.codepage==65001?p=f.toString("utf8"):m.codepage&&typeof sy<"u"||(p=jt&&Buffer.isBuffer(f)?f.toString("binary"):L0(f));break;case"array":p=Vw(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+m.type)}return y[0]==239&&y[1]==187&&y[2]==191?p=ag(p.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?p=ag(p):m.type=="binary"&&typeof sy<"u",p.slice(0,19)=="socialcalc:version:"?CF.to_sheet(m.type=="string"?p:ag(p),m):o(p,m)}function l(f,m){return Ou(a(f,m),m)}function u(f){for(var m=[],p=Nn(f["!ref"]),y,v=Array.isArray(f),w=p.s.r;w<=p.e.r;++w){for(var E=[],k=p.s.c;k<=p.e.c;++k){var T=on({r:w,c:k});if(y=v?(f[w]||[])[k]:f[T],!y||y.v==null){E.push("          ");continue}for(var S=(y.w||(cl(y),y.w)||"").slice(0,10);S.length<10;)S+=" ";E.push(S+(k===0?" ":""))}m.push(E.join(""))}return m.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:u}}(),FP=function(){function n(U,Q,Y){if(U){ss(U,U.l||0);for(var J=Y.Enum||j;U.l<U.length;){var ue=U.read_shift(2),Ye=J[ue]||J[65535],Be=U.read_shift(2),Je=U.l+Be,je=Ye.f&&Ye.f(U,Be,Y);if(U.l=Je,Q(je,Ye,ue))return}}}function e(U,Q){switch(Q.type){case"base64":return t(fo(ll(U)),Q);case"binary":return t(fo(U),Q);case"buffer":case"array":return t(U,Q)}throw"Unsupported type "+Q.type}function t(U,Q){if(!U)return U;var Y=Q||{},J=Y.dense?[]:{},ue="Sheet1",Ye="",Be=0,Je={},je=[],Nt=[],kt={s:{r:0,c:0},e:{r:0,c:0}},zn=Y.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)Y.Enum=j,n(U,function(Ge,Qr,ji){switch(ji){case 0:Y.vers=Ge,Ge>=4096&&(Y.qpro=!0);break;case 6:kt=Ge;break;case 204:Ge&&(Ye=Ge);break;case 222:Ye=Ge;break;case 15:case 51:Y.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:ji==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=Y.dateNF||Jn[14],Y.cellDates&&(Ge[1].t="d",Ge[1].v=W8(Ge[1].v))),Y.qpro&&Ge[3]>Be&&(J["!ref"]=dr(kt),Je[ue]=J,je.push(ue),J=Y.dense?[]:{},kt={s:{r:0,c:0},e:{r:0,c:0}},Be=Ge[3],ue=Ye||"Sheet"+(Be+1),Ye="");var qi=Y.dense?(J[Ge[0].r]||[])[Ge[0].c]:J[on(Ge[0])];if(qi){qi.t=Ge[1].t,qi.v=Ge[1].v,Ge[1].z!=null&&(qi.z=Ge[1].z),Ge[1].f!=null&&(qi.f=Ge[1].f);break}Y.dense?(J[Ge[0].r]||(J[Ge[0].r]=[]),J[Ge[0].r][Ge[0].c]=Ge[1]):J[on(Ge[0])]=Ge[1];break}},Y);else if(U[2]==26||U[2]==14)Y.Enum=xe,U[2]==14&&(Y.qpro=!0,U.l=0),n(U,function(Ge,Qr,ji){switch(ji){case 204:ue=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>Be&&(J["!ref"]=dr(kt),Je[ue]=J,je.push(ue),J=Y.dense?[]:{},kt={s:{r:0,c:0},e:{r:0,c:0}},Be=Ge[3],ue="Sheet"+(Be+1)),zn>0&&Ge[0].r>=zn)break;Y.dense?(J[Ge[0].r]||(J[Ge[0].r]=[]),J[Ge[0].r][Ge[0].c]=Ge[1]):J[on(Ge[0])]=Ge[1],kt.e.c<Ge[0].c&&(kt.e.c=Ge[0].c),kt.e.r<Ge[0].r&&(kt.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(Nt[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:Nt[Ge[0]]=Ge[1],Ge[0]==Be&&(ue=Ge[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(J["!ref"]=dr(kt),Je[Ye||ue]=J,je.push(Ye||ue),!Nt.length)return{SheetNames:je,Sheets:Je};for(var Pt={},ki=[],wn=0;wn<Nt.length;++wn)Je[je[wn]]?(ki.push(Nt[wn]||je[wn]),Pt[Nt[wn]]=Je[Nt[wn]]||Je[je[wn]]):(ki.push(Nt[wn]),Pt[Nt[wn]]={"!ref":"A1"});return{SheetNames:ki,Sheets:Pt}}function r(U,Q){var Y=Q||{};if(+Y.codepage>=0&&Hg(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var J=Vi(),ue=Nn(U["!ref"]),Ye=Array.isArray(U),Be=[];He(J,0,s(1030)),He(J,6,l(ue));for(var Je=Math.min(ue.e.r,8191),je=ue.s.r;je<=Je;++je)for(var Nt=Kr(je),kt=ue.s.c;kt<=ue.e.c;++kt){je===ue.s.r&&(Be[kt]=ai(kt));var zn=Be[kt]+Nt,Pt=Ye?(U[je]||[])[kt]:U[zn];if(!(!Pt||Pt.t=="z"))if(Pt.t=="n")(Pt.v|0)==Pt.v&&Pt.v>=-32768&&Pt.v<=32767?He(J,13,y(je,kt,Pt.v)):He(J,14,w(je,kt,Pt.v));else{var ki=cl(Pt);He(J,15,m(je,kt,ki.slice(0,239)))}}return He(J,1),J.end()}function i(U,Q){var Y=Q||{};if(+Y.codepage>=0&&Hg(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var J=Vi();He(J,0,o(U));for(var ue=0,Ye=0;ue<U.SheetNames.length;++ue)(U.Sheets[U.SheetNames[ue]]||{})["!ref"]&&He(J,27,Ie(U.SheetNames[ue],Ye++));var Be=0;for(ue=0;ue<U.SheetNames.length;++ue){var Je=U.Sheets[U.SheetNames[ue]];if(!(!Je||!Je["!ref"])){for(var je=Nn(Je["!ref"]),Nt=Array.isArray(Je),kt=[],zn=Math.min(je.e.r,8191),Pt=je.s.r;Pt<=zn;++Pt)for(var ki=Kr(Pt),wn=je.s.c;wn<=je.e.c;++wn){Pt===je.s.r&&(kt[wn]=ai(wn));var Ge=kt[wn]+ki,Qr=Nt?(Je[Pt]||[])[wn]:Je[Ge];if(!(!Qr||Qr.t=="z"))if(Qr.t=="n")He(J,23,K(Pt,wn,Be,Qr.v));else{var ji=cl(Qr);He(J,22,A(Pt,wn,Be,ji.slice(0,239)))}}++Be}}return He(J,1),J.end()}function s(U){var Q=_e(2);return Q.write_shift(2,U),Q}function o(U){var Q=_e(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var Y=0,J=0,ue=0,Ye=0;Ye<U.SheetNames.length;++Ye){var Be=U.SheetNames[Ye],Je=U.Sheets[Be];if(!(!Je||!Je["!ref"])){++ue;var je=ws(Je["!ref"]);Y<je.e.r&&(Y=je.e.r),J<je.e.c&&(J=je.e.c)}}return Y>8191&&(Y=8191),Q.write_shift(2,Y),Q.write_shift(1,ue),Q.write_shift(1,J),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function a(U,Q,Y){var J={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&Y.qpro?(J.s.c=U.read_shift(1),U.l++,J.s.r=U.read_shift(2),J.e.c=U.read_shift(1),U.l++,J.e.r=U.read_shift(2),J):(J.s.c=U.read_shift(2),J.s.r=U.read_shift(2),Q==12&&Y.qpro&&(U.l+=2),J.e.c=U.read_shift(2),J.e.r=U.read_shift(2),Q==12&&Y.qpro&&(U.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function l(U){var Q=_e(8);return Q.write_shift(2,U.s.c),Q.write_shift(2,U.s.r),Q.write_shift(2,U.e.c),Q.write_shift(2,U.e.r),Q}function u(U,Q,Y){var J=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(J[0].c=U.read_shift(1),J[3]=U.read_shift(1),J[0].r=U.read_shift(2),U.l+=2):(J[2]=U.read_shift(1),J[0].c=U.read_shift(2),J[0].r=U.read_shift(2)),J}function f(U,Q,Y){var J=U.l+Q,ue=u(U,Q,Y);if(ue[1].t="s",Y.vers==20768){U.l++;var Ye=U.read_shift(1);return ue[1].v=U.read_shift(Ye,"utf8"),ue}return Y.qpro&&U.l++,ue[1].v=U.read_shift(J-U.l,"cstr"),ue}function m(U,Q,Y){var J=_e(7+Y.length);J.write_shift(1,255),J.write_shift(2,Q),J.write_shift(2,U),J.write_shift(1,39);for(var ue=0;ue<J.length;++ue){var Ye=Y.charCodeAt(ue);J.write_shift(1,Ye>=128?95:Ye)}return J.write_shift(1,0),J}function p(U,Q,Y){var J=u(U,Q,Y);return J[1].v=U.read_shift(2,"i"),J}function y(U,Q,Y){var J=_e(7);return J.write_shift(1,255),J.write_shift(2,Q),J.write_shift(2,U),J.write_shift(2,Y,"i"),J}function v(U,Q,Y){var J=u(U,Q,Y);return J[1].v=U.read_shift(8,"f"),J}function w(U,Q,Y){var J=_e(13);return J.write_shift(1,255),J.write_shift(2,Q),J.write_shift(2,U),J.write_shift(8,Y,"f"),J}function E(U,Q,Y){var J=U.l+Q,ue=u(U,Q,Y);if(ue[1].v=U.read_shift(8,"f"),Y.qpro)U.l=J;else{var Ye=U.read_shift(2);P(U.slice(U.l,U.l+Ye),ue),U.l+=Ye}return ue}function k(U,Q,Y){var J=Q&32768;return Q&=-32769,Q=(J?U:0)+(Q>=8192?Q-16384:Q),(J?"":"$")+(Y?ai(Q):Kr(Q))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function P(U,Q){ss(U,0);for(var Y=[],J=0,ue="",Ye="",Be="",Je="";U.l<U.length;){var je=U[U.l++];switch(je){case 0:Y.push(U.read_shift(8,"f"));break;case 1:Ye=k(Q[0].c,U.read_shift(2),!0),ue=k(Q[0].r,U.read_shift(2),!1),Y.push(Ye+ue);break;case 2:{var Nt=k(Q[0].c,U.read_shift(2),!0),kt=k(Q[0].r,U.read_shift(2),!1);Ye=k(Q[0].c,U.read_shift(2),!0),ue=k(Q[0].r,U.read_shift(2),!1),Y.push(Nt+kt+":"+Ye+ue)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(U.read_shift(2));break;case 6:{for(var zn="";je=U[U.l++];)zn+=String.fromCharCode(je);Y.push('"'+zn.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:Je=Y.pop(),Be=Y.pop(),Y.push(["AND","OR"][je-20]+"("+Be+","+Je+")");break;default:if(je<32&&S[je])Je=Y.pop(),Be=Y.pop(),Y.push(Be+S[je]+Je);else if(T[je]){if(J=T[je][1],J==69&&(J=U[U.l++]),J>Y.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+Y.join("|")+"|");return}var Pt=Y.slice(-J);Y.length-=J,Y.push(T[je][0]+"("+Pt.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}Y.length==1?Q[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function I(U){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=U.read_shift(2),Q[3]=U[U.l++],Q[0].c=U[U.l++],Q}function R(U,Q){var Y=I(U);return Y[1].t="s",Y[1].v=U.read_shift(Q-4,"cstr"),Y}function A(U,Q,Y,J){var ue=_e(6+J.length);ue.write_shift(2,U),ue.write_shift(1,Y),ue.write_shift(1,Q),ue.write_shift(1,39);for(var Ye=0;Ye<J.length;++Ye){var Be=J.charCodeAt(Ye);ue.write_shift(1,Be>=128?95:Be)}return ue.write_shift(1,0),ue}function F(U,Q){var Y=I(U);Y[1].v=U.read_shift(2);var J=Y[1].v>>1;if(Y[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return Y[1].v=J,Y}function V(U,Q){var Y=I(U),J=U.read_shift(4),ue=U.read_shift(4),Ye=U.read_shift(2);if(Ye==65535)return J===0&&ue===3221225472?(Y[1].t="e",Y[1].v=15):J===0&&ue===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var Be=Ye&32768;return Ye=(Ye&32767)-16446,Y[1].v=(1-Be*2)*(ue*Math.pow(2,Ye+32)+J*Math.pow(2,Ye)),Y}function K(U,Q,Y,J){var ue=_e(14);if(ue.write_shift(2,U),ue.write_shift(1,Y),ue.write_shift(1,Q),J==0)return ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(2,65535),ue;var Ye=0,Be=0,Je=0,je=0;return J<0&&(Ye=1,J=-J),Be=Math.log2(J)|0,J/=Math.pow(2,Be-31),je=J>>>0,(je&2147483648)==0&&(J/=2,++Be,je=J>>>0),J-=je,je|=2147483648,je>>>=0,J*=Math.pow(2,32),Je=J>>>0,ue.write_shift(4,Je),ue.write_shift(4,je),Be+=16383+(Ye?32768:0),ue.write_shift(2,Be),ue}function re(U,Q){var Y=V(U);return U.l+=Q-14,Y}function N(U,Q){var Y=I(U),J=U.read_shift(4);return Y[1].v=J>>6,Y}function te(U,Q){var Y=I(U),J=U.read_shift(8,"f");return Y[1].v=J,Y}function ye(U,Q){var Y=te(U);return U.l+=Q-10,Y}function Ee(U,Q){return U[U.l+Q-1]==0?U.read_shift(Q,"cstr"):""}function ne(U,Q){var Y=U[U.l++];Y>Q-1&&(Y=Q-1);for(var J="";J.length<Y;)J+=String.fromCharCode(U[U.l++]);return J}function ke(U,Q,Y){if(!(!Y.qpro||Q<21)){var J=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var ue=U.read_shift(Q-21,"cstr");return[J,ue]}}function We(U,Q){for(var Y={},J=U.l+Q;U.l<J;){var ue=U.read_shift(2);if(ue==14e3){for(Y[ue]=[0,""],Y[ue][0]=U.read_shift(2);U[U.l];)Y[ue][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return Y}function Ie(U,Q){var Y=_e(5+U.length);Y.write_shift(2,14e3),Y.write_shift(2,Q);for(var J=0;J<U.length;++J){var ue=U.charCodeAt(J);Y[Y.l++]=ue>127?95:ue}return Y[Y.l++]=0,Y}var j={0:{n:"BOF",f:xF},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ee},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},xe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:V},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:re},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:We},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:te},40:{n:"FORMULA28",f:ye},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ke},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),_ie=/^\s|\s$|[\t\n\r]/;function AF(n,e){if(!e.bookSST)return"";var t=[pr];t[t.length]=ze("sst",null,{xmlns:ch[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(_ie)&&(s+=' xml:space="preserve"'),s+=">"+sn(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function xie(n){return[n.read_shift(4),n.read_shift(4)]}function Eie(n,e){return e||(e=_e(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var kie=mre;function Tie(n){var e=Vi();Pe(e,159,Eie(n));for(var t=0;t<n.length;++t)Pe(e,19,kie(n[t]));return Pe(e,160),e.end()}function Sie(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function NF(n){var e=0,t,r=Sie(n),i=r.length+1,s,o,a,l,u;for(t=_u(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)o=t[s],a=(e&16384)===0?0:1,l=e<<1&32767,u=a|l,e=u^o;return e^52811}var Cie=function(){function n(i,s){switch(s.type){case"base64":return e(ll(i),s);case"binary":return e(i,s);case"buffer":return e(jt&&Buffer.isBuffer(i)?i.toString("binary"):L0(i),s);case"array":return e(Vw(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,m){Array.isArray(a)&&(a[m]=[]);for(var p=/\\\w+\b/g,y=0,v,w=-1;v=p.exec(f);){switch(v[0]){case"\\cell":var E=f.slice(y,p.lastIndex-v[0].length);if(E[0]==" "&&(E=E.slice(1)),++w,E.length){var k={v:E,t:"s"};Array.isArray(a)?a[m][w]=k:a[on({r:m,c:w})]=k}break}y=p.lastIndex}w>u.e.c&&(u.e.c=w)}),a["!ref"]=dr(u),a}function t(i,s){return Ou(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=Nn(i["!ref"]),a,l=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var m=on({r:u,c:f});a=l?(i[u]||[])[f]:i[m],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(cl(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function LP(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var Aie=6,el=Aie;function my(n){return Math.floor((n+Math.round(128/el)/256)*el)}function gy(n){return Math.floor((n-5)/el*100+.5)/100}function ck(n){return Math.round((n*el+5)/el*256)/256}function xS(n){n.width?(n.wpx=my(n.width),n.wch=gy(n.wpx),n.MDW=el):n.wpx?(n.wch=gy(n.wpx),n.width=ck(n.wch),n.MDW=el):typeof n.wch=="number"&&(n.width=ck(n.wch),n.wpx=my(n.width),n.MDW=el),n.customWidth&&delete n.customWidth}var Nie=96,PF=Nie;function py(n){return n*96/PF}function IF(n){return n*PF/96}function Pie(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=ze("numFmt",null,{numFmtId:r,formatCode:sn(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ze("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Iie(n){var e=[];return e[e.length]=ze("cellXfs",null),n.forEach(function(t){e[e.length]=ze("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ze("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function RF(n,e){var t=[pr,ze("styleSheet",null,{xmlns:ch[0],"xmlns:vt":Rr.vt})],r;return n.SSF&&(r=Pie(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Iie(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function Rie(n,e){var t=n.read_shift(2),r=li(n);return[t,r]}function Oie(n,e,t){t||(t=_e(6+4*e.length)),t.write_shift(2,n),Dr(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function Mie(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=_re(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var a=n.read_shift(1);a>0&&(r.family=a);var l=n.read_shift(1);switch(l>0&&(r.charset=l),n.l++,r.color=vre(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=li(n),r}function Die(n,e){e||(e=_e(25+4*32)),e.write_shift(2,n.sz*20),xre(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),fy(n.color,e);var r=0;return r=2,e.write_shift(1,r),Dr(n.name,e),e.length>e.l?e.slice(0,e.l):e}var Fie=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],m2,Lie=oa;function BP(n,e){e||(e=_e(4*3+8*7+16*1)),m2||(m2=uS(Fie));var t=m2[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(fy({auto:1},e),fy({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Bie(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function OF(n,e,t){t||(t=_e(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function km(n,e){return e||(e=_e(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Vie=oa;function Uie(n,e){return e||(e=_e(51)),e.write_shift(1,0),km(null,e),km(null,e),km(null,e),km(null,e),km(null,e),e.length>e.l?e.slice(0,e.l):e}function zie(n,e){return e||(e=_e(12+4*10)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),dy(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Hie(n,e,t){var r=_e(2052);return r.write_shift(4,n),dy(e,r),dy(t,r),r.length>r.l?r.slice(0,r.l):r}function $ie(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(Pe(n,615,yo(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Pe(n,44,Oie(i,e[i]))}),Pe(n,616))}}function Wie(n){var e=1;Pe(n,611,yo(e)),Pe(n,43,Die({sz:12,color:{theme:1},name:"Calibri",family:2})),Pe(n,612)}function jie(n){var e=2;Pe(n,603,yo(e)),Pe(n,45,BP({patternType:"none"})),Pe(n,45,BP({patternType:"gray125"})),Pe(n,604)}function qie(n){var e=1;Pe(n,613,yo(e)),Pe(n,46,Uie()),Pe(n,614)}function Gie(n){var e=1;Pe(n,626,yo(e)),Pe(n,47,OF({numFmtId:0},65535)),Pe(n,627)}function Yie(n,e){Pe(n,617,yo(e.length)),e.forEach(function(t){Pe(n,47,OF(t,0))}),Pe(n,618)}function Kie(n){var e=1;Pe(n,619,yo(e)),Pe(n,48,zie({xfId:0,name:"Normal"})),Pe(n,620)}function Xie(n){var e=0;Pe(n,505,yo(e)),Pe(n,506)}function Jie(n){var e=0;Pe(n,508,Hie(e,"TableStyleMedium9","PivotStyleMedium4")),Pe(n,509)}function Qie(n,e){var t=Vi();return Pe(t,278),$ie(t,n.SSF),Wie(t),jie(t),qie(t),Gie(t),Yie(t,e.cellXfs),Kie(t),Xie(t),Jie(t),Pe(t,279),t.end()}function MF(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[pr];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Zie(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:li(n)}}function ese(n){var e=_e(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Dr(n.name,e),e.slice(0,e.l)}function tse(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function nse(n){var e=_e(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function rse(n,e){var t=_e(8+2*e.length);return t.write_shift(4,n),Dr(e,t),t.slice(0,t.l)}function ise(n){return n.l+=4,n.read_shift(4)!=0}function sse(n,e){var t=_e(8);return t.write_shift(4,n),t.write_shift(4,1),t}function ose(){var n=Vi();return Pe(n,332),Pe(n,334,yo(1)),Pe(n,335,ese({name:"XLDAPR",version:12e4,flags:3496657072})),Pe(n,336),Pe(n,339,rse(1,"XLDAPR")),Pe(n,52),Pe(n,35,yo(514)),Pe(n,4096,yo(0)),Pe(n,4097,Bs(1)),Pe(n,36),Pe(n,53),Pe(n,340),Pe(n,337,sse(1)),Pe(n,51,nse([[1,0]])),Pe(n,338),Pe(n,333),n.end()}function DF(){var n=[pr];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function ase(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=on(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var af=1024;function FF(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[ze("xml",null,{"xmlns:v":as.v,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:mv":as.mv}).replace(/\/>/,">"),ze("o:shapelayout",ze("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),ze("v:shapetype",[ze("v:stroke",null,{joinstyle:"miter"}),ze("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];af<n*1e3;)af+=1e3;return e.forEach(function(s){var o=Mr(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?ze("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ze("v:fill",l,a),f={on:"t",obscured:"t"};++af,i=i.concat(["<v:shape"+qg({id:"_x0000_s"+af,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ze("v:shadow",null,f),ze("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Gr("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Gr("x:AutoFill","False"),Gr("x:Row",String(o.r)),Gr("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function LF(n){var e=[pr,ze("comments",null,{xmlns:ch[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=sn(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=t.indexOf(sn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Gr("t",sn(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(Gr("t",sn(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function lse(n,e,t){var r=[pr,ze("ThreadedComments",null,{xmlns:Rr.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(ze("threadedComment",Gr("text",o.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function cse(n){var e=[pr,ze("personList",null,{xmlns:Rr.TCMNT,"xmlns:x":ch[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(ze("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function use(n){var e={};e.iauthor=n.read_shift(4);var t=Lu(n);return e.rfx=t.s,e.ref=on(t.s),n.l+=16,e}function dse(n,e){return e==null&&(e=_e(36)),e.write_shift(4,n[1].iauthor),dh(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var fse=li;function hse(n){return Dr(n.slice(0,54))}function mse(n){var e=Vi(),t=[];return Pe(e,628),Pe(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Pe(e,632,hse(i.a)))})}),Pe(e,631),Pe(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Mr(r[0]),e:Mr(r[0])};Pe(e,635,dse([s,i])),i.t&&i.t.length>0&&Pe(e,637,pre(i)),Pe(e,636),delete i.iauthor})}),Pe(e,634),Pe(e,629),e.end()}function gse(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&mn.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var BF=["xlsb","xlsm","xlam","biff8","xla"],pse=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return a?f+=e.c:--f,l?u+=e.r:--u,i+(a?"":"$")+ai(f)+(l?"":"$")+Kr(u)}return function(i,s){return e=s,i.replace(n,t)}}(),ES=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,kS=function(){return function(e,t){return e.replace(ES,function(r,i,s,o,a,l){var u=bS(o)-(s?0:t.c),f=pS(l)-(a?0:t.r),m=f==0?"":a?f+1:"["+f+"]",p=u==0?"":s?u+1:"["+u+"]";return i+"R"+m+"C"+p})}}();function bse(n,e){return n.replace(ES,function(t,r,i,s,o,a){return r+(i=="$"?i+s:ai(bS(s)+e.c))+(o=="$"?o+a:Kr(pS(a)+e.r))})}function yse(n){return n.length!=1}function lr(n){n.l+=1}function oc(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function VF(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return UF(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=oc(n),a=oc(n);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function UF(n){var e=oc(n),t=oc(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function wse(n,e,t){if(t.biff<8)return UF(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=oc(n),o=oc(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function zF(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return vse(n);var r=n.read_shift(t&&t.biff==12?4:2),i=oc(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function vse(n){var e=oc(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function _se(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function xse(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Ese(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function Ese(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function kse(n,e,t){var r=(n[n.l++]&96)>>5,i=VF(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function Tse(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=VF(n,s,t);return[r,i,o]}function Sse(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Cse(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function Ase(n,e,t){var r=(n[n.l++]&96)>>5,i=wse(n,e-1,t);return[r,i]}function Nse(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function VP(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Pse(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function Ise(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Rse(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Ose(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function Mse(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function HF(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function Dse(n){return n.read_shift(2),HF(n)}function Fse(n){return n.read_shift(2),HF(n)}function Lse(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=zF(n,0,t);return[r,i]}function Bse(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=xse(n,0,t);return[r,i]}function Vse(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=zF(n,0,t);return[r,i,s]}function Use(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[Uoe[i],jF[i],r]}function zse(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:Hse(n);return[i,(s[0]===0?jF:Voe)[s[1]]]}function Hse(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function $se(n,e,t){n.l+=t&&t.biff==2?3:4}function Wse(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function jse(n){return n.l++,U0[n.read_shift(1)]}function qse(n){return n.l++,n.read_shift(2)}function Gse(n){return n.l++,n.read_shift(1)!==0}function Yse(n){return n.l++,fh(n)}function Kse(n,e,t){return n.l++,kF(n,e-1,t)}function Xse(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Vre(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=U0[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=fh(n);break;case 2:t[1]=$re(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Jse(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?Lu:qre)(n));return i}function Qse(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=Xse(n,t.biff);return o}function Zse(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function eoe(n,e,t){if(t.biff==5)return toe(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function toe(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function noe(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function roe(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function ioe(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function soe(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var ooe=oa,aoe=oa,loe=oa;function z0(n,e,t){return n.l+=2,[_se(n)]}function TS(n){return n.l+=6,[]}var coe=z0,uoe=TS,doe=TS,foe=z0;function $F(n){return n.l+=2,[xF(n),n.read_shift(2)&1]}var hoe=z0,moe=$F,goe=TS,poe=z0,boe=z0,yoe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function woe(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),o=yoe[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:s}}function voe(n){return n.l+=2,[n.read_shift(4)]}function _oe(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function xoe(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function Eoe(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function koe(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Toe(n){return n.l+=4,[0,0]}var UP={1:{n:"PtgExp",f:Wse},2:{n:"PtgTbl",f:loe},3:{n:"PtgAdd",f:lr},4:{n:"PtgSub",f:lr},5:{n:"PtgMul",f:lr},6:{n:"PtgDiv",f:lr},7:{n:"PtgPower",f:lr},8:{n:"PtgConcat",f:lr},9:{n:"PtgLt",f:lr},10:{n:"PtgLe",f:lr},11:{n:"PtgEq",f:lr},12:{n:"PtgGe",f:lr},13:{n:"PtgGt",f:lr},14:{n:"PtgNe",f:lr},15:{n:"PtgIsect",f:lr},16:{n:"PtgUnion",f:lr},17:{n:"PtgRange",f:lr},18:{n:"PtgUplus",f:lr},19:{n:"PtgUminus",f:lr},20:{n:"PtgPercent",f:lr},21:{n:"PtgParen",f:lr},22:{n:"PtgMissArg",f:lr},23:{n:"PtgStr",f:Kse},26:{n:"PtgSheet",f:_oe},27:{n:"PtgEndSheet",f:xoe},28:{n:"PtgErr",f:jse},29:{n:"PtgBool",f:Gse},30:{n:"PtgInt",f:qse},31:{n:"PtgNum",f:Yse},32:{n:"PtgArray",f:Nse},33:{n:"PtgFunc",f:Use},34:{n:"PtgFuncVar",f:zse},35:{n:"PtgName",f:Zse},36:{n:"PtgRef",f:Lse},37:{n:"PtgArea",f:kse},38:{n:"PtgMemArea",f:noe},39:{n:"PtgMemErr",f:ooe},40:{n:"PtgMemNoMem",f:aoe},41:{n:"PtgMemFunc",f:roe},42:{n:"PtgRefErr",f:ioe},43:{n:"PtgAreaErr",f:Sse},44:{n:"PtgRefN",f:Bse},45:{n:"PtgAreaN",f:Ase},46:{n:"PtgMemAreaN",f:Eoe},47:{n:"PtgMemNoMemN",f:koe},57:{n:"PtgNameX",f:eoe},58:{n:"PtgRef3d",f:Vse},59:{n:"PtgArea3d",f:Tse},60:{n:"PtgRefErr3d",f:soe},61:{n:"PtgAreaErr3d",f:Cse},255:{}},Soe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Coe={1:{n:"PtgElfLel",f:$F},2:{n:"PtgElfRw",f:poe},3:{n:"PtgElfCol",f:coe},6:{n:"PtgElfRwV",f:boe},7:{n:"PtgElfColV",f:foe},10:{n:"PtgElfRadical",f:hoe},11:{n:"PtgElfRadicalS",f:goe},13:{n:"PtgElfColS",f:uoe},15:{n:"PtgElfColSV",f:doe},16:{n:"PtgElfRadicalLel",f:moe},25:{n:"PtgList",f:woe},29:{n:"PtgSxName",f:voe},255:{}},Aoe={0:{n:"PtgAttrNoop",f:Toe},1:{n:"PtgAttrSemi",f:Mse},2:{n:"PtgAttrIf",f:Rse},4:{n:"PtgAttrChoose",f:Pse},8:{n:"PtgAttrGoto",f:Ise},16:{n:"PtgAttrSum",f:$se},32:{n:"PtgAttrBaxcel",f:VP},33:{n:"PtgAttrBaxcel",f:VP},64:{n:"PtgAttrSpace",f:Dse},65:{n:"PtgAttrSpaceSemi",f:Fse},128:{n:"PtgAttrIfError",f:Ose},255:{}};function Noe(n,e,t,r){if(r.biff<8)return oa(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=Qse(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=Jse(n,t[o][1],r),s.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=i-n.l,e!==0&&s.push(oa(n,e)),s}function Poe(n,e,t){for(var r=n.l+e,i,s,o=[];r!=n.l;)e=r-n.l,s=n[n.l],i=UP[s]||UP[Soe[s]],(s===24||s===25)&&(i=(s===24?Coe:Aoe)[n[n.l+1]]),!i||!i.f?oa(n,e):o.push([i.n,i.f(n,e,t)]);return o}function Ioe(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Roe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ooe(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function WF(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function zP(n,e,t){var r=WF(n,e,t);return r=="#REF"?r:Ooe(r,t)}function $f(n,e,t,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},a=[],l,u,f,m=0,p=0,y,v="";if(!n[0]||!n[0][0])return"";for(var w=-1,E="",k=0,T=n[0].length;k<T;++k){var S=n[0][k];switch(S[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),u=a.pop(),w>=0){switch(n[0][w][1][0]){case 0:E=Gn(" ",n[0][w][1][1]);break;case 1:E=Gn("\r",n[0][w][1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}u=u+E,w=-1}a.push(u+Roe[S[0]]+l);break;case"PtgIsect":l=a.pop(),u=a.pop(),a.push(u+" "+l);break;case"PtgUnion":l=a.pop(),u=a.pop(),a.push(u+","+l);break;case"PtgRange":l=a.pop(),u=a.pop(),a.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=cg(S[1][1],o,i),a.push(ug(f,s));break;case"PtgRefN":f=t?cg(S[1][1],t,i):S[1][1],a.push(ug(f,s));break;case"PtgRef3d":m=S[1][1],f=cg(S[1][2],o,i),v=zP(r,m,i),a.push(v+"!"+ug(f,s));break;case"PtgFunc":case"PtgFuncVar":var P=S[1][0],I=S[1][1];P||(P=0),P&=127;var R=P==0?[]:a.slice(-P);a.length-=P,I==="User"&&(I=R.shift()),a.push(I+"("+R.join(",")+")");break;case"PtgBool":a.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(S[1]);break;case"PtgNum":a.push(String(S[1]));break;case"PtgStr":a.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(S[1]);break;case"PtgAreaN":y=TP(S[1][1],t?{s:t}:o,i),a.push(f2(y,i));break;case"PtgArea":y=TP(S[1][1],o,i),a.push(f2(y,i));break;case"PtgArea3d":m=S[1][1],y=S[1][2],v=zP(r,m,i),a.push(v+"!"+f2(y,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=S[1][2];var A=(r.names||[])[p-1]||(r[0]||[])[p],F=A?A.Name:"SH33TJSNAME"+String(p);F&&F.slice(0,6)=="_xlfn."&&!i.xlfn&&(F=F.slice(6)),a.push(F);break;case"PtgNameX":var V=S[1][1];p=S[1][2];var K;if(i.biff<=5)V<0&&(V=-V),r[V]&&(K=r[V][p]);else{var re="";if(((r[V]||[])[0]||[])[0]==14849||(((r[V]||[])[0]||[])[0]==1025?r[V][p]&&r[V][p].itab>0&&(re=r.SheetNames[r[V][p].itab-1]+"!"):re=r.SheetNames[p-1]+"!"),r[V]&&r[V][p])re+=r[V][p].Name;else if(r[0]&&r[0][p])re+=r[0][p].Name;else{var N=(WF(r,V,i)||"").split(";;");N[p-1]?re=N[p-1]:re+="SH33TJSERRX"}a.push(re);break}K||(K={Name:"SH33TJSERRY"}),a.push(K.Name);break;case"PtgParen":var te="(",ye=")";if(w>=0){switch(E="",n[0][w][1][0]){case 2:te=Gn(" ",n[0][w][1][1])+te;break;case 3:te=Gn("\r",n[0][w][1][1])+te;break;case 4:ye=Gn(" ",n[0][w][1][1])+ye;break;case 5:ye=Gn("\r",n[0][w][1][1])+ye;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}w=-1}a.push(te+a.pop()+ye);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":f={c:S[1][1],r:S[1][0]};var Ee={c:t.c,r:t.r};if(r.sharedf[on(f)]){var ne=r.sharedf[on(f)];a.push($f(ne,o,Ee,r,i))}else{var ke=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){a.push($f(u[1],o,Ee,r,i)),ke=!0;break}ke||a.push(S[1])}break;case"PtgArray":a.push("{"+Ioe(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var We=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&We.indexOf(n[0][k][0])==-1){S=n[0][w];var Ie=!0;switch(S[1][0]){case 4:Ie=!1;case 0:E=Gn(" ",S[1][1]);break;case 5:Ie=!1;case 1:E=Gn("\r",S[1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}a.push((Ie?E:"")+a.pop()+(Ie?"":E)),w=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function Moe(n){if(n==null){var e=_e(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return xu(n);return xu(0)}function Doe(n,e,t,r,i){var s=Eu(e,t,i),o=Moe(n.v),a=_e(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var u=_e(n.bf.length),f=0;f<n.bf.length;++f)u[f]=n.bf[f];var m=qr([s,o,a,u]);return m}function Uw(n,e,t){var r=n.read_shift(4),i=Poe(n,r,t),s=n.read_shift(4),o=s>0?Noe(n,s,i,t):null;return[i,o]}var Foe=Uw,zw=Uw,Loe=Uw,Boe=Uw,Voe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},jF={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Uoe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function zoe(n){var e="of:="+n.replace(ES,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Hoe(n){return n.replace(/\./,"!")}var dg=typeof Map<"u";function SS(n,e,t){var r=0,i=n.length;if(t){if(dg?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=dg?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(dg?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function Hw(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(el=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=gy(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=ck(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function qF(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function bc(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){z8(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function $oe(n,e,t){if(n&&n["!ref"]){var r=Nn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function Woe(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+dr(n[t])+'"/>';return e+"</mergeCells>"}function joe(n,e,t,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[t];try{e.Workbook&&(l=e.Workbook.Sheets[t].CodeName||l)}catch{}s=!0,o.codeName=jg(sn(l))}if(n&&n["!outline"]){var u={summaryBelow:1,summaryRight:1};n["!outline"].above&&(u.summaryBelow=0),n["!outline"].left&&(u.summaryRight=0),a=(a||"")+ze("outlinePr",null,u)}!s&&!a||(i[i.length]=ze("sheetPr",a,o))}var qoe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Goe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Yoe(n){var e={sheet:1};return qoe.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Goe.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=NF(n.password).toString(16).toUpperCase()),ze("sheetProtection",null,e)}function Koe(n){return qF(n),ze("pageMargins",null,n)}function Xoe(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=ze("col",null,Hw(i,r)));return t[t.length]="</cols>",t.join("")}function Joe(n,e,t,r){var i=typeof n.ref=="string"?n.ref:dr(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=ws(i);o.s.r==o.e.r&&(o.e.r=ws(e["!ref"]).e.r,i=dr(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),ze("autoFilter",null,{ref:i})}function Qoe(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ze("sheetViews",ze("sheetView",null,i),{})}function Zoe(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=U0[n.v];break;case"d":r&&r.cellDates?i=wi(n.v,-1).toISOString():(n=$i(n),n.t="n",i=""+(n.v=Hi(wi(n.v)))),typeof n.z>"u"&&(n.z=Jn[14]);break;default:i=n.v;break}var a=Gr("v",sn(i)),l={r:e},u=bc(r.cellXfs,n,r);switch(u!==0&&(l.s=u),n.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=Gr("v",""+SS(r.Strings,n.v,r.revStrings)),l.t="s";break}l.t="str";break}if(n.t!=s&&(n.t=s,n.v=o),typeof n.f=="string"&&n.f){var f=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;a=ze("f",sn(n.f),f)+(n.v!=null?a:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(l.cm=1),ze("c",a,l)}function eae(n,e,t,r){var i=[],s=[],o=Nn(n["!ref"]),a="",l,u="",f=[],m=0,p=0,y=n["!rows"],v=Array.isArray(n),w={r:u},E,k=-1;for(p=o.s.c;p<=o.e.c;++p)f[p]=ai(p);for(m=o.s.r;m<=o.e.r;++m){for(s=[],u=Kr(m),p=o.s.c;p<=o.e.c;++p){l=f[p]+u;var T=v?(n[m]||[])[p]:n[l];T!==void 0&&(a=Zoe(T,l,n,e))!=null&&s.push(a)}(s.length>0||y&&y[m])&&(w={r:u},y&&y[m]&&(E=y[m],E.hidden&&(w.hidden=1),k=-1,E.hpx?k=py(E.hpx):E.hpt&&(k=E.hpt),k>-1&&(w.ht=k,w.customHeight=1),E.level&&(w.outlineLevel=E.level)),i[i.length]=ze("row",s.join(""),w))}if(y)for(;m<y.length;++m)y&&y[m]&&(w={r:m+1},E=y[m],E.hidden&&(w.hidden=1),k=-1,E.hpx?k=py(E.hpx):E.hpt&&(k=E.hpt),k>-1&&(w.ht=k,w.customHeight=1),E.level&&(w.outlineLevel=E.level),i[i.length]=ze("row","",w));return i.join("")}function GF(n,e,t,r){var i=[pr,ze("worksheet",null,{xmlns:ch[0],"xmlns:r":Rr.r})],s=t.SheetNames[n],o=0,a="",l=t.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",f=Nn(u);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=dr(f)}r||(r={}),l["!comments"]=[];var m=[];joe(l,t,n,e,i),i[i.length]=ze("dimension",null,{ref:u}),i[i.length]=Qoe(l,e,n,t),e.sheetFormat&&(i[i.length]=ze("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=Xoe(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=eae(l,e),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=Yoe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=Joe(l["!autofilter"],l,t,n)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=Woe(l["!merges"]));var p=-1,y,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(w){w[1].Target&&(y={ref:w[0]},w[1].Target.charAt(0)!="#"&&(v=rn(r,-1,sn(w[1].Target).replace(/#.*$/,""),Bt.HLINK),y["r:id"]="rId"+v),(p=w[1].Target.indexOf("#"))>-1&&(y.location=sn(w[1].Target.slice(p+1))),w[1].Tooltip&&(y.tooltip=sn(w[1].Tooltip)),i[i.length]=ze("hyperlink",null,y))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=Koe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Gr("ignoredErrors",ze("ignoredError",null,{numberStoredAsText:1,sqref:u}))),m.length>0&&(v=rn(r,-1,"../drawings/drawing"+(n+1)+".xml",Bt.DRAW),i[i.length]=ze("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=m),l["!comments"].length>0&&(v=rn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Bt.VML),i[i.length]=ze("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function tae(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function nae(n,e,t){var r=_e(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=py(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var u={r:n,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var m=-1,p=-1,y=f<<10;y<f+1<<10;++y){u.c=y;var v=Array.isArray(t)?(t[u.r]||[])[u.c]:t[on(u)];v&&(m<0&&(m=y),p=y)}m<0||(++a,r.write_shift(4,m),r.write_shift(4,p))}var w=r.l;return r.l=l,r.write_shift(4,a),r.l=w,r.length>r.l?r.slice(0,r.l):r}function rae(n,e,t,r){var i=nae(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&Pe(n,0,i)}var iae=Lu,sae=dh;function oae(){}function aae(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=bre(n),t}function lae(n,e,t){t==null&&(t=_e(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return fy({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),lF(n,t),t.slice(0,t.l)}function cae(n){var e=Xs(n);return[e]}function uae(n,e,t){return t==null&&(t=_e(8)),Mu(e,t)}function dae(n){var e=Du(n);return[e]}function fae(n,e,t){return t==null&&(t=_e(4)),Fu(e,t)}function hae(n){var e=Xs(n),t=n.read_shift(1);return[e,t,"b"]}function mae(n,e,t){return t==null&&(t=_e(9)),Mu(e,t),t.write_shift(1,n.v?1:0),t}function gae(n){var e=Du(n),t=n.read_shift(1);return[e,t,"b"]}function pae(n,e,t){return t==null&&(t=_e(5)),Fu(e,t),t.write_shift(1,n.v?1:0),t}function bae(n){var e=Xs(n),t=n.read_shift(1);return[e,t,"e"]}function yae(n,e,t){return t==null&&(t=_e(9)),Mu(e,t),t.write_shift(1,n.v),t}function wae(n){var e=Du(n),t=n.read_shift(1);return[e,t,"e"]}function vae(n,e,t){return t==null&&(t=_e(8)),Fu(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function _ae(n){var e=Xs(n),t=n.read_shift(4);return[e,t,"s"]}function xae(n,e,t){return t==null&&(t=_e(12)),Mu(e,t),t.write_shift(4,e.v),t}function Eae(n){var e=Du(n),t=n.read_shift(4);return[e,t,"s"]}function kae(n,e,t){return t==null&&(t=_e(8)),Fu(e,t),t.write_shift(4,e.v),t}function Tae(n){var e=Xs(n),t=fh(n);return[e,t,"n"]}function Sae(n,e,t){return t==null&&(t=_e(16)),Mu(e,t),xu(n.v,t),t}function Cae(n){var e=Du(n),t=fh(n);return[e,t,"n"]}function Aae(n,e,t){return t==null&&(t=_e(12)),Fu(e,t),xu(n.v,t),t}function Nae(n){var e=Xs(n),t=cF(n);return[e,t,"n"]}function Pae(n,e,t){return t==null&&(t=_e(12)),Mu(e,t),uF(n.v,t),t}function Iae(n){var e=Du(n),t=cF(n);return[e,t,"n"]}function Rae(n,e,t){return t==null&&(t=_e(8)),Fu(e,t),uF(n.v,t),t}function Oae(n){var e=Xs(n),t=yS(n);return[e,t,"is"]}function Mae(n){var e=Xs(n),t=li(n);return[e,t,"str"]}function Dae(n,e,t){return t==null&&(t=_e(12+4*n.v.length)),Mu(e,t),Dr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Fae(n){var e=Du(n),t=li(n);return[e,t,"str"]}function Lae(n,e,t){return t==null&&(t=_e(8+4*n.v.length)),Fu(e,t),Dr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Bae(n,e,t){var r=n.l+e,i=Xs(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"b"];if(t.cellFormula){n.l+=2;var a=zw(n,r-n.l,t);o[3]=$f(a,null,i,t.supbooks,t)}else n.l=r;return o}function Vae(n,e,t){var r=n.l+e,i=Xs(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"e"];if(t.cellFormula){n.l+=2;var a=zw(n,r-n.l,t);o[3]=$f(a,null,i,t.supbooks,t)}else n.l=r;return o}function Uae(n,e,t){var r=n.l+e,i=Xs(n);i.r=t["!row"];var s=fh(n),o=[i,s,"n"];if(t.cellFormula){n.l+=2;var a=zw(n,r-n.l,t);o[3]=$f(a,null,i,t.supbooks,t)}else n.l=r;return o}function zae(n,e,t){var r=n.l+e,i=Xs(n);i.r=t["!row"];var s=li(n),o=[i,s,"str"];if(t.cellFormula){n.l+=2;var a=zw(n,r-n.l,t);o[3]=$f(a,null,i,t.supbooks,t)}else n.l=r;return o}var Hae=Lu,$ae=dh;function Wae(n,e){return e==null&&(e=_e(4)),e.write_shift(4,n),e}function jae(n,e){var t=n.l+e,r=Lu(n),i=wS(n),s=li(n),o=li(n),a=li(n);n.l=t;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function qae(n,e){var t=_e(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));dh({s:Mr(n[0]),e:Mr(n[0])},t),vS("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Dr(i||"",t),Dr(n[1].Tooltip||"",t),Dr("",t),t.slice(0,t.l)}function Gae(){}function Yae(n,e,t){var r=n.l+e,i=dF(n),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var a=Foe(n,r-n.l,t);o[1]=a}else n.l=r;return o}function Kae(n,e,t){var r=n.l+e,i=Lu(n),s=[i];if(t.cellFormula){var o=Boe(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}function Xae(n,e,t){t==null&&(t=_e(18));var r=Hw(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var YF=["left","right","top","bottom","header","footer"];function Jae(n){var e={};return YF.forEach(function(t){e[t]=fh(n)}),e}function Qae(n,e){return e==null&&(e=_e(6*8)),qF(n),YF.forEach(function(t){xu(n[t],e)}),e}function Zae(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function ele(n,e,t){t==null&&(t=_e(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function tle(n){var e=_e(24);return e.write_shift(4,4),e.write_shift(4,1),dh(n,e),e}function nle(n,e){return e==null&&(e=_e(16*4+2)),e.write_shift(2,n.password?NF(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function rle(){}function ile(){}function sle(n,e,t,r,i,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=$i(e),e.z=e.z||Jn[14],e.v=Hi(wi(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var l={r:t,c:r};switch(l.s=bc(i.cellXfs,e,i),e.l&&s["!links"].push([on(l),e.l]),e.c&&s["!comments"].push([on(l),e.c]),e.t){case"s":case"str":return i.bookSST?(a=SS(i.Strings,e.v,i.revStrings),l.t="s",l.v=a,o?Pe(n,18,kae(e,l)):Pe(n,7,xae(e,l))):(l.t="str",o?Pe(n,17,Lae(e,l)):Pe(n,6,Dae(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Pe(n,13,Rae(e,l)):Pe(n,2,Pae(e,l)):o?Pe(n,16,Aae(e,l)):Pe(n,5,Sae(e,l)),!0;case"b":return l.t="b",o?Pe(n,15,pae(e,l)):Pe(n,4,mae(e,l)),!0;case"e":return l.t="e",o?Pe(n,14,vae(e,l)):Pe(n,3,yae(e,l)),!0}return o?Pe(n,12,fae(e,l)):Pe(n,1,uae(e,l)),!0}function ole(n,e,t,r){var i=Nn(e["!ref"]||"A1"),s,o="",a=[];Pe(n,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=u;++f){o=Kr(f),rae(n,e,i,f);var m=!1;if(f<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){f===i.s.r&&(a[p]=ai(p)),s=a[p]+o;var y=l?(e[f]||[])[p]:e[s];if(!y){m=!1;continue}m=sle(n,y,f,p,r,e,m)}}Pe(n,146)}function ale(n,e){!e||!e["!merges"]||(Pe(n,177,Wae(e["!merges"].length)),e["!merges"].forEach(function(t){Pe(n,176,$ae(t))}),Pe(n,178))}function lle(n,e){!e||!e["!cols"]||(Pe(n,390),e["!cols"].forEach(function(t,r){t&&Pe(n,60,Xae(r,t))}),Pe(n,391))}function cle(n,e){!e||!e["!ref"]||(Pe(n,648),Pe(n,649,tle(Nn(e["!ref"]))),Pe(n,650))}function ule(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=rn(t,-1,r[1].Target.replace(/#.*$/,""),Bt.HLINK);Pe(n,494,qae(r,i))}}),delete e["!links"]}function dle(n,e,t,r){if(e["!comments"].length>0){var i=rn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Bt.VML);Pe(n,551,vS("rId"+i)),e["!legacy"]=i}}function fle(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:dr(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,a=ws(s);a.s.r==a.e.r&&(a.e.r=ws(e["!ref"]).e.r,s=dr(a));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+t.SheetNames[r]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Pe(n,161,dh(Nn(s))),Pe(n,162)}}function hle(n,e,t){Pe(n,133),Pe(n,137,ele(e,t)),Pe(n,138),Pe(n,134)}function mle(n,e){e["!protect"]&&Pe(n,535,nle(e["!protect"]))}function gle(n,e,t,r){var i=Vi(),s=t.SheetNames[n],o=t.Sheets[s]||{},a=s;try{t&&t.Workbook&&(a=t.Workbook.Sheets[n].CodeName||a)}catch{}var l=Nn(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Pe(i,129),(t.vbaraw||o["!outline"])&&Pe(i,147,lae(a,o["!outline"])),Pe(i,148,sae(l)),hle(i,o,t.Workbook),lle(i,o),ole(i,o,n,e),mle(i,o),fle(i,o,t,n),ale(i,o),ule(i,o,r),o["!margins"]&&Pe(i,476,Qae(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&cle(i,o),dle(i,o,n,r),Pe(i,130),i.end()}function ple(n,e){n.l+=10;var t=li(n);return{name:t}}var ble=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function yle(n){return!n.Workbook||!n.Workbook.WBProps?"false":Kne(n.Workbook.WBProps.date1904)?"true":"false"}var wle="][*?/\\".split("");function KF(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return wle.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function vle(n,e,t){n.forEach(function(r,i){KF(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function _le(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];vle(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)$oe(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function XF(n){var e=[pr];e[e.length]=ze("workbook",null,{xmlns:ch[0],"xmlns:r":Rr.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(ble.forEach(function(a){n.Workbook.WBProps[a[0]]!=null&&n.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=n.Workbook.WBProps[a[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ze("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:sn(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=ze("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(e[e.length]=ze("definedName",sn(a.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function xle(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=lk(n),t.name=li(n),t}function Ele(n,e){return e||(e=_e(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),vS(n.strRelID,e),Dr(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function kle(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?li(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function Tle(n,e){e||(e=_e(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),lF(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Sle(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=yre(n),o=Loe(n,0,t),a=wS(n);n.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function Cle(n,e){Pe(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Pe(n,156,Ele(i))}Pe(n,144)}function Ale(n,e){e||(e=_e(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Dr("SheetJS",e),Dr(iy.version,e),Dr(iy.version,e),Dr("7262",e),e.length>e.l?e.slice(0,e.l):e}function Nle(n,e){e||(e=_e(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function Ple(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(Pe(n,135),Pe(n,158,Nle(i)),Pe(n,136))}}function Ile(n,e){var t=Vi();return Pe(t,131),Pe(t,128,Ale()),Pe(t,153,Tle(n.Workbook&&n.Workbook.WBProps||null)),Ple(t,n),Cle(t,n),Pe(t,132),t.end()}function Rle(n,e,t){return(e.slice(-4)===".bin"?Ile:XF)(n)}function Ole(n,e,t,r,i){return(e.slice(-4)===".bin"?gle:GF)(n,t,r,i)}function Mle(n,e,t){return(e.slice(-4)===".bin"?Qie:RF)(n,t)}function Dle(n,e,t){return(e.slice(-4)===".bin"?Tie:AF)(n,t)}function Fle(n,e,t){return(e.slice(-4)===".bin"?mse:LF)(n)}function Lle(n){return(n.slice(-4)===".bin"?ose:DF)()}function Ble(n,e){var t=[];return n.Props&&t.push(Mre(n.Props,e)),n.Custprops&&t.push(Dre(n.Props,n.Custprops)),t.join("")}function Vle(){return""}function Ule(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(ze("NumberFormat",null,{"ss:Format":sn(Jn[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(ze("Style",s.join(""),o))}),ze("Styles",t.join(""))}function JF(n){return ze("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+kS(n.Ref,{r:0,c:0})})}function zle(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(JF(i)))}return ze("Names",t.join(""))}function Hle(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==t&&(a.Name.match(/^_xlfn\./)||s.push(JF(a)))}return s.join("")}function $le(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(ze("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(ze("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(ze("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(ze("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(Gr("ProtectContents","True")),n["!protect"].objects&&i.push(Gr("ProtectObjects","True")),n["!protect"].scenarios&&i.push(Gr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(Gr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(Gr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":ze("WorksheetOptions",i.join(""),{xmlns:as.x})}function Wle(n){return n.map(function(e){var t=Yne(e.t||""),r=ze("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ze("Comment",r,{"ss:Author":e.a})}).join("")}function jle(n,e,t,r,i,s,o){if(!n||n.v==null&&n.f==null)return"";var a={};if(n.f&&(a["ss:Formula"]="="+sn(kS(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var l=Mr(n.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(n.l&&n.l.Target&&(a["ss:HRef"]=sn(n.l.Target),n.l.Tooltip&&(a["x:HRefScreenTip"]=sn(n.l.Tooltip))),t["!merges"])for(var u=t["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(a["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(a["ss:MergeDown"]=u[f].e.r-u[f].s.r));var m="",p="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":m="Number",p=String(n.v);break;case"b":m="Boolean",p=n.v?"1":"0";break;case"e":m="Error",p=U0[n.v];break;case"d":m="DateTime",p=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||Jn[14]);break;case"s":m="String",p=Gne(n.v||"");break}var y=bc(r.cellXfs,n,r);a["ss:StyleID"]="s"+(21+y),a["ss:Index"]=o.c+1;var v=n.v!=null?p:"",w=n.t=="z"?"":'<Data ss:Type="'+m+'">'+v+"</Data>";return(n.c||[]).length>0&&(w+=Wle(n.c)),ze("Cell",w,a)}function qle(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=IF(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Gle(n,e,t,r){if(!n["!ref"])return"";var i=Nn(n["!ref"]),s=n["!merges"]||[],o=0,a=[];n["!cols"]&&n["!cols"].forEach(function(E,k){xS(E);var T=!!E.width,S=Hw(k,E),P={"ss:Index":k+1};T&&(P["ss:Width"]=my(S.width)),E.hidden&&(P["ss:Hidden"]="1"),a.push(ze("Column",null,P))});for(var l=Array.isArray(n),u=i.s.r;u<=i.e.r;++u){for(var f=[qle(u,(n["!rows"]||[])[u])],m=i.s.c;m<=i.e.c;++m){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>m)&&!(s[o].s.r>u)&&!(s[o].e.c<m)&&!(s[o].e.r<u)){(s[o].s.c!=m||s[o].s.r!=u)&&(p=!0);break}if(!p){var y={r:u,c:m},v=on(y),w=l?(n[u]||[])[m]:n[v];f.push(jle(w,v,n,e,t,r,y))}}f.push("</Row>"),f.length>2&&a.push(f.join(""))}return a.join("")}function Yle(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],o=s?Hle(s,e,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?Gle(s,e,n,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push($le(s,e,n,t)),r.join("")}function Kle(n,e){e||(e={}),n.SSF||(n.SSF=$i(Jn)),n.SSF&&(Lw(),Fw(n.SSF),e.revssf=Bw(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],bc(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(Ble(n,e)),t.push(Vle()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(ze("Worksheet",Yle(r,e,n),{"ss:Name":sn(n.SheetNames[r])}));return t[2]=Ule(n,e),t[3]=zle(n),pr+ze("Workbook",t.join(""),{xmlns:as.ss,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:ss":as.ss,"xmlns:dt":as.dt,"xmlns:html":as.html})}var g2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Xle(n,e){var t=[],r=[],i=[],s=0,o,a=mP(CP,"n"),l=mP(AP,"n");if(n.Props)for(o=Xr(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=Xr(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var u=[];for(s=0;s<i.length;++s)_F.indexOf(i[s][0])>-1||yF.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);r.length&&mn.utils.cfb_add(e,"/SummaryInformation",OP(r,g2.SI,l,AP)),(t.length||u.length)&&mn.utils.cfb_add(e,"/DocumentSummaryInformation",OP(t,g2.DSI,a,CP,u.length?u:null,g2.UDI))}function Jle(n,e){var t=e||{},r=mn.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return mn.utils.cfb_add(r,i,QF(n,t)),t.biff==8&&(n.Props||n.Custprops)&&Xle(n,r),t.biff==8&&n.vbaraw&&gse(r,mn.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var Qle={0:{f:tae},1:{f:cae},2:{f:Nae},3:{f:bae},4:{f:hae},5:{f:Tae},6:{f:Mae},7:{f:_ae},8:{f:zae},9:{f:Uae},10:{f:Bae},11:{f:Vae},12:{f:dae},13:{f:Iae},14:{f:wae},15:{f:gae},16:{f:Cae},17:{f:Fae},18:{f:Eae},19:{f:yS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Sle},40:{},42:{},43:{f:Mie},44:{f:Rie},45:{f:Lie},46:{f:Vie},47:{f:Bie},48:{},49:{f:dre},50:{},51:{f:tse},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:fie},62:{f:Oae},63:{f:ase},64:{f:rle},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:oa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Zae},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:aae},148:{f:iae,p:16},151:{f:Gae},152:{},153:{f:kle},154:{},155:{},156:{f:xle},157:{},158:{},159:{T:1,f:xie},160:{T:-1},161:{T:1,f:Lu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Hae},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Zie},336:{T:-1},337:{f:ise,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lk},357:{},358:{},359:{},360:{T:1},361:{},362:{f:oie},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Yae},427:{f:Kae},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Jae},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:oae},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:jae},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lk},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:fse},633:{T:1},634:{T:-1},635:{T:1,f:use},636:{T:-1},637:{f:gre},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ple},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ile},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function He(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&gS(t)&&n.push(t)}}function Zle(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return He(n,e,t,i);var s=e;if(!isNaN(s)){for(var o=t.parts||[],a=0,l=0,u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;var f=n.next(4);for(f.write_shift(2,s),f.write_shift(2,u),n.push(t.slice(l,l+u)),l+=u;l<i;){for(f=n.next(4),f.write_shift(2,60),u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;f.write_shift(2,u),n.push(t.slice(l,l+u)),l+=u}}}function H0(n,e,t){return n||(n=_e(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function ece(n,e,t,r){var i=_e(9);return H0(i,n,e),EF(t,r||"b",i),i}function tce(n,e,t){var r=_e(8+2*t.length);return H0(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function nce(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Hi(wi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?He(n,2,pie(t,r,i)):He(n,3,gie(t,r,i));return;case"b":case"e":He(n,5,ece(t,r,e.v,e.t));return;case"s":case"str":He(n,4,tce(t,r,(e.v||"").slice(0,255)));return}He(n,1,H0(null,t,r))}function rce(n,e,t,r){var i=Array.isArray(e),s=Nn(e["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=dr(s)}for(var u=s.s.r;u<=s.e.r;++u){a=Kr(u);for(var f=s.s.c;f<=s.e.c;++f){u===s.s.r&&(l[f]=ai(f)),o=l[f]+a;var m=i?(e[u]||[])[f]:e[o];m&&nce(n,m,u,f)}}}function ice(n,e){for(var t=e||{},r=Vi(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return He(r,t.biff==4?1033:t.biff==3?521:9,_S(n,16,t)),rce(r,n.Sheets[n.SheetNames[i]],i,t),He(r,10),r.end()}function sce(n,e,t){He(n,49,Qre({sz:12,name:"Arial"},t))}function oce(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&He(n,1054,tie(i,e[i],t))})}function ace(n,e){var t=_e(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),He(n,2151,t),t=_e(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),SF(Nn(e["!ref"]||"A1"),t),t.write_shift(4,4),He(n,2152,t)}function lce(n,e){for(var t=0;t<16;++t)He(n,224,DP({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){He(n,224,DP(r,0,e))})}function cce(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];He(n,440,cie(r)),r[1].Tooltip&&He(n,2048,uie(r))}delete e["!links"]}function uce(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&He(n,125,hie(Hw(i,r),i))})}}function dce(n,e,t,r,i){var s=16+bc(i.cellXfs,e,i);if(e.v==null&&!e.bf){He(n,513,Eu(t,r,s));return}if(e.bf)He(n,6,Doe(e,t,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?Hi(wi(e.v)):e.v;He(n,515,sie(t,r,o,s));break;case"b":case"e":He(n,517,iie(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var a=SS(i.Strings,e.v,i.revStrings);He(n,253,Zre(t,r,a,s))}else He(n,516,eie(t,r,(e.v||"").slice(0,255),s,i));break;default:He(n,513,Eu(t,r,s))}}function fce(n,e,t){var r=Vi(),i=t.SheetNames[n],s=t.Sheets[i]||{},o=(t||{}).Workbook||{},a=(o.Sheets||[])[n]||{},l=Array.isArray(s),u=e.biff==8,f,m="",p=[],y=Nn(s["!ref"]||"A1"),v=u?65536:16384;if(y.e.c>255||y.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,v-1)}He(r,2057,_S(t,16,e)),He(r,13,Bs(1)),He(r,12,Bs(100)),He(r,15,mi(!0)),He(r,17,mi(!1)),He(r,16,xu(.001)),He(r,95,mi(!0)),He(r,42,mi(!1)),He(r,43,mi(!1)),He(r,130,Bs(1)),He(r,128,rie()),He(r,131,mi(!1)),He(r,132,mi(!1)),u&&uce(r,s["!cols"]),He(r,512,nie(y,e)),u&&(s["!links"]=[]);for(var w=y.s.r;w<=y.e.r;++w){m=Kr(w);for(var E=y.s.c;E<=y.e.c;++E){w===y.s.r&&(p[E]=ai(E)),f=p[E]+m;var k=l?(s[w]||[])[E]:s[f];k&&(dce(r,k,w,E,e),u&&k.l&&s["!links"].push([f,k.l]))}}var T=a.CodeName||a.name||i;return u&&He(r,574,Jre((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&He(r,229,lie(s["!merges"])),u&&cce(r,s),He(r,442,TF(T)),u&&ace(r,s),He(r,10),r.end()}function hce(n,e,t){var r=Vi(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=t.biff==8,l=t.biff==5;if(He(r,2057,_S(n,5,t)),t.bookType=="xla"&&He(r,135),He(r,225,a?Bs(1200):null),He(r,193,Bre(2)),l&&He(r,191),l&&He(r,192),He(r,226),He(r,92,Gre("SheetJS",t)),He(r,66,Bs(a?1200:1252)),a&&He(r,353,Bs(0)),a&&He(r,448),He(r,317,mie(n.SheetNames.length)),a&&n.vbaraw&&He(r,211),a&&n.vbaraw){var u=o.CodeName||"ThisWorkbook";He(r,442,TF(u))}He(r,156,Bs(17)),He(r,25,mi(!1)),He(r,18,mi(!1)),He(r,19,Bs(0)),a&&He(r,431,mi(!1)),a&&He(r,444,Bs(0)),He(r,61,Xre()),He(r,64,mi(!1)),He(r,141,Bs(0)),He(r,34,mi(yle(n)=="true")),He(r,14,mi(!0)),a&&He(r,439,mi(!1)),He(r,218,Bs(0)),sce(r,n,t),oce(r,n.SSF,t),lce(r,t),a&&He(r,352,mi(!1));var f=r.end(),m=Vi();a&&He(m,140,die()),a&&t.Strings&&Zle(m,252,Kre(t.Strings)),He(m,10);var p=m.end(),y=Vi(),v=0,w=0;for(w=0;w<n.SheetNames.length;++w)v+=(a?12:11)+(a?2:1)*n.SheetNames[w].length;var E=f.length+v+p.length;for(w=0;w<n.SheetNames.length;++w){var k=s[w]||{};He(y,133,Yre({pos:E,hs:k.Hidden||0,dt:0,name:n.SheetNames[w]},t)),E+=e[w].length}var T=y.end();if(v!=T.length)throw new Error("BS8 "+v+" != "+T.length);var S=[];return f.length&&S.push(f),T.length&&S.push(T),p.length&&S.push(p),qr(S)}function mce(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=$i(Jn)),n&&n.SSF&&(Lw(),Fw(n.SSF),t.revssf=Bw(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,CS(t),t.cellXfs=[],bc(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=fce(i,t,n);return r.unshift(hce(n,r,t)),qr(r)}function QF(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=ws(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return mce(n,e);case 4:case 3:case 2:return ice(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function gce(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>o)&&!(i[u].e.r<t||i[u].e.c<o)){if(i[u].s.r<t||i[u].s.c<o){a=-1;break}a=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(a<0)){var f=on({r:t,c:o}),m=r.dense?(n[t]||[])[o]:n[f],p=m&&m.v!=null&&(m.h||qne(m.w||(cl(m),m.w)||""))||"",y={};a>1&&(y.rowspan=a),l>1&&(y.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":m&&(y["data-t"]=m&&m.t||"z",m.v!=null&&(y["data-v"]=m.v),m.z!=null&&(y["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+m.l.Target+'">'+p+"</a>")),y.id=(r.id||"sjs")+"-"+f,s.push(ze("td",p,y))}}var v="<tr>";return v+s.join("")+"</tr>"}var pce='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bce="</body></html>";function yce(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function ZF(n,e){var t=e||{},r=t.header!=null?t.header:pce,i=t.footer!=null?t.footer:bce,s=[r],o=ws(n["!ref"]);t.dense=Array.isArray(n),s.push(yce(n,o,t));for(var a=o.s.r;a<=o.e.r;++a)s.push(gce(n,o,a,t));return s.push("</table>"+i),s.join("")}function eL(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Mr(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var f=ws(n["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var m=[],p=0,y=n["!rows"]||(n["!rows"]=[]),v=0,w=0,E=0,k=0,T=0,S=0;for(n["!cols"]||(n["!cols"]=[]);v<a.length&&w<l;++v){var P=a[v];if(HP(P)){if(r.display)continue;y[w]={hidden:!0}}var I=P.children;for(E=k=0;E<I.length;++E){var R=I[E];if(!(r.display&&HP(R))){var A=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):Xne(R.innerHTML),F=R.getAttribute("data-z")||R.getAttribute("z");for(p=0;p<m.length;++p){var V=m[p];V.s.c==k+s&&V.s.r<w+i&&w+i<=V.e.r&&(k=V.e.c+1-s,p=-1)}S=+R.getAttribute("colspan")||1,((T=+R.getAttribute("rowspan")||1)>1||S>1)&&m.push({s:{r:w+i,c:k+s},e:{r:w+i+(T||1)-1,c:k+s+(S||1)-1}});var K={t:"s",v:A},re=R.getAttribute("data-t")||R.getAttribute("t")||"";A!=null&&(A.length==0?K.t=re||"z":r.raw||A.trim().length==0||re=="s"||(A==="TRUE"?K={t:"b",v:!0}:A==="FALSE"?K={t:"b",v:!1}:isNaN(Za(A))?isNaN(Wg(A).getDate())||(K={t:"d",v:wi(A)},r.cellDates||(K={t:"n",v:Hi(K.v)}),K.z=r.dateNF||Jn[14]):K={t:"n",v:Za(A)})),K.z===void 0&&F!=null&&(K.z=F);var N="",te=R.getElementsByTagName("A");if(te&&te.length)for(var ye=0;ye<te.length&&!(te[ye].hasAttribute("href")&&(N=te[ye].getAttribute("href"),N.charAt(0)!="#"));++ye);N&&N.charAt(0)!="#"&&(K.l={Target:N}),r.dense?(n[w+i]||(n[w+i]=[]),n[w+i][k+s]=K):n[on({c:k+s,r:w+i})]=K,u.e.c<k+s&&(u.e.c=k+s),k+=S}}++w}return m.length&&(n["!merges"]=(n["!merges"]||[]).concat(m)),u.e.r=Math.max(u.e.r,w-1+i),n["!ref"]=dr(u),w>=l&&(n["!fullref"]=dr((u.e.r=a.length-v+w-1+i,u))),n}function tL(n,e){var t=e||{},r=t.dense?[]:{};return eL(r,n,e)}function wce(n,e){return Ou(tL(n,e),e)}function HP(n){var e="",t=vce(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function vce(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var _ce=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+qg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return pr+e}}(),$P=function(){var n=function(s){return sn(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,o,a){var l=[];l.push('      <table:table table:name="'+sn(o.SheetNames[a])+`" table:style-name="ta1">
`);var u=0,f=0,m=ws(s["!ref"]||"A1"),p=s["!merges"]||[],y=0,v=Array.isArray(s);if(s["!cols"])for(f=0;f<=m.e.c;++f)l.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var w="",E=s["!rows"]||[];for(u=0;u<m.s.r;++u)w=E[u]?' table:style-name="ro'+E[u].ods+'"':"",l.push("        <table:table-row"+w+`></table:table-row>
`);for(;u<=m.e.r;++u){for(w=E[u]?' table:style-name="ro'+E[u].ods+'"':"",l.push("        <table:table-row"+w+`>
`),f=0;f<m.s.c;++f)l.push(e);for(;f<=m.e.c;++f){var k=!1,T={},S="";for(y=0;y!=p.length;++y)if(!(p[y].s.c>f)&&!(p[y].s.r>u)&&!(p[y].e.c<f)&&!(p[y].e.r<u)){(p[y].s.c!=f||p[y].s.r!=u)&&(k=!0),T["table:number-columns-spanned"]=p[y].e.c-p[y].s.c+1,T["table:number-rows-spanned"]=p[y].e.r-p[y].s.r+1;break}if(k){l.push(t);continue}var P=on({r:u,c:f}),I=v?(s[u]||[])[f]:s[P];if(I&&I.f&&(T["table:formula"]=sn(zoe(I.f)),I.F&&I.F.slice(0,P.length)==P)){var R=ws(I.F);T["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,T["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!I){l.push(e);continue}switch(I.t){case"b":S=I.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=I.v?"true":"false";break;case"n":S=I.w||String(I.v||0),T["office:value-type"]="float",T["office:value"]=I.v||0;break;case"s":case"str":S=I.v==null?"":I.v,T["office:value-type"]="string";break;case"d":S=I.w||wi(I.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=wi(I.v).toISOString(),T["table:style-name"]="ce1";break;default:l.push(e);continue}var A=n(S);if(I.l&&I.l.Target){var F=I.l.Target;F=F.charAt(0)=="#"?"#"+Hoe(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),A=ze("text:a",A,{"xlink:href":F.replace(/&/g,"&amp;")})}l.push("          "+ze("table:table-cell",ze("text:p",A,{}),T)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var m=u["!cols"][f];if(m.width==null&&m.wpx==null&&m.wch==null)continue;xS(m),m.ods=a;var p=u["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=l;var m=u["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[pr],u=qg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=qg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+u+f+`>
`),l.push(pF().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var m=0;m!=o.SheetNames.length;++m)l.push(r(o.Sheets[o.SheetNames[m]],o,m));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function nL(n,e){if(e.bookType=="fods")return $P(n,e);var t=dS(),r="",i=[],s=[];return r="mimetype",Et(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Et(t,r,$P(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Et(t,r,_ce(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Et(t,r,pr+pF()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Et(t,r,Ore(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Et(t,r,Ire(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function by(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function xce(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):fo(jg(n))}function Ece(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function ac(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function kce(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function Gg(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function nn(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Tf(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function _r(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Gg(n,t),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=t[0];n[t[0]++]>=128;);a=n.slice(l,t[0])}break;case 5:o=4,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Gg(n,t),a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var u={data:a,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function zr(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(nn(r*8+i.type)),i.type==2&&e.push(nn(i.data.length)),e.push(i.data))})}),ac(e)}function so(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Gg(n,r),s=_r(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:Tf(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=_r(a.data),u=Tf(l[3][0].data);o.messages.push({meta:l,data:n.slice(r[0],r[0]+u)}),r[0]+=u}),(e=s[3])!=null&&e[0]&&(o.merge=Tf(s[3][0].data)>>>0>0),t.push(o)}return t}function Md(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:nn(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:nn(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:nn(o.data.length)}],r[2].push({data:zr(o.meta),type:2})});var s=zr(r);e.push(nn(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),ac(e)}function Tce(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Gg(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[t[0]],a>1&&(o|=e[t[0]+1]<<8),a>2&&(o|=e[t[0]+2]<<16),a>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=a}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var l=0,u=0;if(s==1?(u=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,s==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[ac(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var f=ac(i);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function oo(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Tce(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return ac(e)}function Dd(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=nn(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return ac(e)}function p2(n,e){var t=new Uint8Array(32),r=by(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,kce(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function b2(n,e){var t=new Uint8Array(32),r=by(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function jl(n){var e=_r(n);return Gg(e[1][0].data)}function Sce(n,e,t){var r,i,s,o;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=n[8])==null?void 0:s[0])==null?void 0:o.data)&&Tf(n[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,u=by(n[7][0].data),f=0,m=[],p=by(n[4][0].data),y=0,v=[],w=0;w<e.length;++w){if(e[w]==null){u.setUint16(w*2,65535,!0),p.setUint16(w*2,65535);continue}u.setUint16(w*2,f,!0),p.setUint16(w*2,y,!0);var E,k;switch(typeof e[w]){case"string":E=p2({t:"s",v:e[w]},t),k=b2({t:"s",v:e[w]},t);break;case"number":E=p2({t:"n",v:e[w]},t),k=b2({t:"n",v:e[w]},t);break;case"boolean":E=p2({t:"b",v:e[w]},t),k=b2({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}m.push(E),f+=E.length,v.push(k),y+=k.length,++l}for(n[2][0].data=nn(l);w<n[7][0].data.length/2;++w)u.setUint16(w*2,65535,!0),p.setUint16(w*2,65535,!0);return n[6][0].data=ac(m),n[3][0].data=ac(v),l}function Cce(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ws(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(dr(r)));var s=yy(t,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(Q){return Q.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var a={},l=[],u=mn.read(e.numbers,{type:"base64"});u.FileIndex.map(function(Q,Y){return[Q,u.FullPaths[Y]]}).forEach(function(Q){var Y=Q[0],J=Q[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var ue=Y.content,Ye=oo(ue),Be=so(Ye);Be.forEach(function(Je){l.push(Je.id),a[Je.id]={deps:[],location:J,type:Tf(Je.messages[0].meta[1][0].data)}})}}),l.sort(function(Q,Y){return Q-Y});var f=l.filter(function(Q){return Q>1}).map(function(Q){return[Q,nn(Q)]});u.FileIndex.map(function(Q,Y){return[Q,u.FullPaths[Y]]}).forEach(function(Q){var Y=Q[0];if(Q[1],!!Y.name.match(/\.iwa/)){var J=so(oo(Y.content));J.forEach(function(ue){ue.messages.forEach(function(Ye){f.forEach(function(Be){ue.messages.some(function(Je){return Tf(Je.meta[1][0].data)!=11006&&Ece(Je.data,Be[1])})&&a[Be[0]].deps.push(ue.id)})})})}});for(var m=mn.find(u,a[1].location),p=so(oo(m.content)),y,v=0;v<p.length;++v){var w=p[v];w.id==1&&(y=w)}var E=jl(_r(y.messages[0].data)[1][0].data);for(m=mn.find(u,a[E].location),p=so(oo(m.content)),v=0;v<p.length;++v)w=p[v],w.id==E&&(y=w);for(E=jl(_r(y.messages[0].data)[2][0].data),m=mn.find(u,a[E].location),p=so(oo(m.content)),v=0;v<p.length;++v)w=p[v],w.id==E&&(y=w);for(E=jl(_r(y.messages[0].data)[2][0].data),m=mn.find(u,a[E].location),p=so(oo(m.content)),v=0;v<p.length;++v)w=p[v],w.id==E&&(y=w);var k=_r(y.messages[0].data);{k[6][0].data=nn(r.e.r+1),k[7][0].data=nn(r.e.c+1);var T=jl(k[46][0].data),S=mn.find(u,a[T].location),P=so(oo(S.content));{for(var I=0;I<P.length&&P[I].id!=T;++I);if(P[I].id!=T)throw"Bad ColumnRowUIDMapArchive";var R=_r(P[I].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var A=0;A<=r.e.c;++A){var F=[];F[1]=F[2]=[{type:0,data:nn(A+420690)}],R[1].push({type:2,data:zr(F)}),R[2].push({type:0,data:nn(A)}),R[3].push({type:0,data:nn(A)})}R[4]=[],R[5]=[],R[6]=[];for(var V=0;V<=r.e.r;++V)F=[],F[1]=F[2]=[{type:0,data:nn(V+726270)}],R[4].push({type:2,data:zr(F)}),R[5].push({type:0,data:nn(V)}),R[6].push({type:0,data:nn(V)});P[I].messages[0].data=zr(R)}S.content=Dd(Md(P)),S.size=S.content.length,delete k[46];var K=_r(k[4][0].data);{K[7][0].data=nn(r.e.r+1);var re=_r(K[1][0].data),N=jl(re[2][0].data);S=mn.find(u,a[N].location),P=so(oo(S.content));{if(P[0].id!=N)throw"Bad HeaderStorageBucket";var te=_r(P[0].messages[0].data);for(V=0;V<s.length;++V){var ye=_r(te[2][0].data);ye[1][0].data=nn(V),ye[4][0].data=nn(s[V].length),te[2][V]={type:te[2][0].type,data:zr(ye)}}P[0].messages[0].data=zr(te)}S.content=Dd(Md(P)),S.size=S.content.length;var Ee=jl(K[2][0].data);S=mn.find(u,a[Ee].location),P=so(oo(S.content));{if(P[0].id!=Ee)throw"Bad HeaderStorageBucket";for(te=_r(P[0].messages[0].data),A=0;A<=r.e.c;++A)ye=_r(te[2][0].data),ye[1][0].data=nn(A),ye[4][0].data=nn(r.e.r+1),te[2][A]={type:te[2][0].type,data:zr(ye)};P[0].messages[0].data=zr(te)}S.content=Dd(Md(P)),S.size=S.content.length;var ne=jl(K[4][0].data);(function(){for(var Q=mn.find(u,a[ne].location),Y=so(oo(Q.content)),J,ue=0;ue<Y.length;++ue){var Ye=Y[ue];Ye.id==ne&&(J=Ye)}var Be=_r(J.messages[0].data);{Be[3]=[];var Je=[];o.forEach(function(kt,zn){Je[1]=[{type:0,data:nn(zn)}],Je[2]=[{type:0,data:nn(1)}],Je[3]=[{type:2,data:xce(kt)}],Be[3].push({type:2,data:zr(Je)})})}J.messages[0].data=zr(Be);var je=Md(Y),Nt=Dd(je);Q.content=Nt,Q.size=Q.content.length})();var ke=_r(K[3][0].data);{var We=ke[1][0];delete ke[2];var Ie=_r(We.data);{var j=jl(Ie[2][0].data);(function(){for(var Q=mn.find(u,a[j].location),Y=so(oo(Q.content)),J,ue=0;ue<Y.length;++ue){var Ye=Y[ue];Ye.id==j&&(J=Ye)}var Be=_r(J.messages[0].data);{delete Be[6],delete ke[7];var Je=new Uint8Array(Be[5][0].data);Be[5]=[];for(var je=0,Nt=0;Nt<=r.e.r;++Nt){var kt=_r(Je);je+=Sce(kt,s[Nt],o),kt[1][0].data=nn(Nt),Be[5].push({data:zr(kt),type:2})}Be[1]=[{type:0,data:nn(r.e.c+1)}],Be[2]=[{type:0,data:nn(r.e.r+1)}],Be[3]=[{type:0,data:nn(je)}],Be[4]=[{type:0,data:nn(r.e.r+1)}]}J.messages[0].data=zr(Be);var zn=Md(Y),Pt=Dd(zn);Q.content=Pt,Q.size=Q.content.length})()}We.data=zr(Ie)}K[3][0].data=zr(ke)}k[4][0].data=zr(K)}y.messages[0].data=zr(k);var xe=Md(p),U=Dd(xe);return m.content=U,m.size=m.content.length,u}function Ace(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function CS(n){Ace([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Nce(n,e){return e.bookType=="ods"?nL(n,e):e.bookType=="numbers"?Cce(n,e):e.bookType=="xlsb"?Pce(n,e):Ice(n,e)}function Pce(n,e){af=1024,n&&!n.SSF&&(n.SSF=$i(Jn)),n&&n.SSF&&(Lw(),Fw(n.SSF),e.revssf=Bw(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,dg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=BF.indexOf(e.bookType)>-1,i=hF();CS(e=e||{});var s=dS(),o="",a=0;if(e.cellXfs=[],bc(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Et(s,o,bF(n.Props,e)),i.coreprops.push(o),rn(e.rels,2,o,Bt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}for(n.Props.Worksheets=n.Props.SheetNames.length,Et(s,o,wF(n.Props)),i.extprops.push(o),rn(e.rels,3,o,Bt.EXT_PROPS),n.Custprops!==n.Props&&Xr(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Et(s,o,vF(n.Custprops)),i.custprops.push(o),rn(e.rels,4,o,Bt.CUST_PROPS)),a=1;a<=n.SheetNames.length;++a){var f={"!id":{}},m=n.Sheets[n.SheetNames[a-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,Et(s,o,Ole(a-1,o,e,n,f)),i.sheets.push(o),rn(e.wbrels,-1,"worksheets/sheet"+a+"."+t,Bt.WS[0])}if(m){var y=m["!comments"],v=!1,w="";y&&y.length>0&&(w="xl/comments"+a+"."+t,Et(s,w,Fle(y,w)),i.comments.push(w),rn(f,-1,"../comments"+a+"."+t,Bt.CMNT),v=!0),m["!legacy"]&&v&&Et(s,"xl/drawings/vmlDrawing"+a+".vml",FF(a,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Et(s,gF(o),Ef(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Et(s,o,Dle(e.Strings,o,e)),i.strs.push(o),rn(e.wbrels,-1,"sharedStrings."+t,Bt.SST)),o="xl/workbook."+t,Et(s,o,Rle(n,o)),i.workbooks.push(o),rn(e.rels,1,o,Bt.WB),o="xl/theme/theme1.xml",Et(s,o,MF(n.Themes,e)),i.themes.push(o),rn(e.wbrels,-1,"theme/theme1.xml",Bt.THEME),o="xl/styles."+t,Et(s,o,Mle(n,o,e)),i.styles.push(o),rn(e.wbrels,-1,"styles."+t,Bt.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Et(s,o,n.vbaraw),i.vba.push(o),rn(e.wbrels,-1,"vbaProject.bin",Bt.VBA)),o="xl/metadata."+t,Et(s,o,Lle(o)),i.metadata.push(o),rn(e.wbrels,-1,"metadata."+t,Bt.XLMETA),Et(s,"[Content_Types].xml",mF(i,e)),Et(s,"_rels/.rels",Ef(e.rels)),Et(s,"xl/_rels/workbook."+t+".rels",Ef(e.wbrels)),delete e.revssf,delete e.ssf,s}function Ice(n,e){af=1024,n&&!n.SSF&&(n.SSF=$i(Jn)),n&&n.SSF&&(Lw(),Fw(n.SSF),e.revssf=Bw(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,dg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=BF.indexOf(e.bookType)>-1,i=hF();CS(e=e||{});var s=dS(),o="",a=0;if(e.cellXfs=[],bc(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Et(s,o,bF(n.Props,e)),i.coreprops.push(o),rn(e.rels,2,o,Bt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}n.Props.Worksheets=n.Props.SheetNames.length,Et(s,o,wF(n.Props)),i.extprops.push(o),rn(e.rels,3,o,Bt.EXT_PROPS),n.Custprops!==n.Props&&Xr(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Et(s,o,vF(n.Custprops)),i.custprops.push(o),rn(e.rels,4,o,Bt.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,a=1;a<=n.SheetNames.length;++a){var m={"!id":{}},p=n.Sheets[n.SheetNames[a-1]],y=(p||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,Et(s,o,GF(a-1,e,n,m)),i.sheets.push(o),rn(e.wbrels,-1,"worksheets/sheet"+a+"."+t,Bt.WS[0])}if(p){var v=p["!comments"],w=!1,E="";if(v&&v.length>0){var k=!1;v.forEach(function(T){T[1].forEach(function(S){S.T==!0&&(k=!0)})}),k&&(E="xl/threadedComments/threadedComment"+a+"."+t,Et(s,E,lse(v,f,e)),i.threadedcomments.push(E),rn(m,-1,"../threadedComments/threadedComment"+a+"."+t,Bt.TCMNT)),E="xl/comments"+a+"."+t,Et(s,E,LF(v)),i.comments.push(E),rn(m,-1,"../comments"+a+"."+t,Bt.CMNT),w=!0}p["!legacy"]&&w&&Et(s,"xl/drawings/vmlDrawing"+a+".vml",FF(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}m["!id"].rId1&&Et(s,gF(o),Ef(m))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Et(s,o,AF(e.Strings,e)),i.strs.push(o),rn(e.wbrels,-1,"sharedStrings."+t,Bt.SST)),o="xl/workbook."+t,Et(s,o,XF(n)),i.workbooks.push(o),rn(e.rels,1,o,Bt.WB),o="xl/theme/theme1.xml",Et(s,o,MF(n.Themes,e)),i.themes.push(o),rn(e.wbrels,-1,"theme/theme1.xml",Bt.THEME),o="xl/styles."+t,Et(s,o,RF(n,e)),i.styles.push(o),rn(e.wbrels,-1,"styles."+t,Bt.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Et(s,o,n.vbaraw),i.vba.push(o),rn(e.wbrels,-1,"vbaProject.bin",Bt.VBA)),o="xl/metadata."+t,Et(s,o,DF()),i.metadata.push(o),rn(e.wbrels,-1,"metadata."+t,Bt.XLMETA),f.length>1&&(o="xl/persons/person.xml",Et(s,o,cse(f)),i.people.push(o),rn(e.wbrels,-1,"persons/person.xml",Bt.PEOPLE)),Et(s,"[Content_Types].xml",mF(i,e)),Et(s,"_rels/.rels",Ef(e.rels)),Et(s,"xl/_rels/workbook."+t+".rels",Ef(e.wbrels)),delete e.revssf,delete e.ssf,s}function Rce(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=ll(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function rL(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return B0(e.file,mn.write(n,{type:jt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return mn.write(n,e)}function Oce(n,e){var t=$i(e||{}),r=Nce(n,t);return Mce(r,t)}function Mce(n,e){var t={},r=jt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?mn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Dw(i))}return e.password&&typeof encrypt_agile<"u"?rL(encrypt_agile(i,e.password),e):e.type==="file"?B0(e.file,i):e.type=="string"?ag(i):i}function Dce(n,e){var t=e||{},r=Jle(n,t);return rL(r,t)}function Go(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return $g(jg(r));case"binary":return jg(r);case"string":return n;case"file":return B0(e.file,r,"utf8");case"buffer":return jt?pl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Go(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Fce(n,e){switch(e.type){case"base64":return $g(n);case"binary":return n;case"string":return n;case"file":return B0(e.file,n,"binary");case"buffer":return jt?pl(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function D1(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?$g(t):e.type=="string"?ag(t):t;case"file":return B0(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function iL(n,e){une(),_le(n);var t=$i(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=iL(n,t);return t.type="array",Dw(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Go(Kle(n,t),t);case"slk":case"sylk":return Go(yie.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Go(ZF(n.Sheets[n.SheetNames[i]],t),t);case"txt":return Fce(sL(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Go(AS(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Go(wie.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return D1(bie.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Go(vie.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Go(Cie.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Go(CF.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Go(nL(n,t),t);case"wk1":return D1(FP.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return D1(FP.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),D1(QF(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Dce(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Oce(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Lce(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function Bce(n,e,t){var r={};return r.type="file",r.file=e,Lce(r),iL(n,r)}function Vce(n,e,t,r,i,s,o,a){var l=Kr(t),u=a.defval,f=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),m=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!o||n[t])for(var y=e.s.c;y<=e.e.c;++y){var v=o?n[t][y]:n[r[y]+l];if(v===void 0||v.t===void 0){if(u===void 0)continue;s[y]!=null&&(p[s[y]]=u);continue}var w=v.v;switch(v.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[y]!=null){if(w==null)if(v.t=="e"&&w===null)p[s[y]]=null;else if(u!==void 0)p[s[y]]=u;else if(f&&w===null)p[s[y]]=null;else continue;else p[s[y]]=f&&(v.t!=="n"||v.t==="n"&&a.rawNumbers!==!1)?w:cl(v,w,a);w!=null&&(m=!1)}}return{row:p,isempty:m}}function yy(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},f=u.range!=null?u.range:n["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof f){case"string":l=Nn(f);break;case"number":l=Nn(n["!ref"]),l.s.r=f;break;default:l=f}r>0&&(i=0);var m=Kr(l.s.r),p=[],y=[],v=0,w=0,E=Array.isArray(n),k=l.s.r,T=0,S={};E&&!n[k]&&(n[k]=[]);var P=u.skipHidden&&n["!cols"]||[],I=u.skipHidden&&n["!rows"]||[];for(T=l.s.c;T<=l.e.c;++T)if(!(P[T]||{}).hidden)switch(p[T]=ai(T),t=E?n[k][T]:n[p[T]+m],r){case 1:s[T]=T-l.s.c;break;case 2:s[T]=p[T];break;case 3:s[T]=u.header[T-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),a=o=cl(t,null,u),w=S[o]||0,!w)S[o]=1;else{do a=o+"_"+w++;while(S[a]);S[o]=w,S[a]=1}s[T]=a}for(k=l.s.r+i;k<=l.e.r;++k)if(!(I[k]||{}).hidden){var R=Vce(n,l,k,p,r,s,E,u);(R.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(y[v++]=R.row)}return y.length=v,y}var WP=/"/g;function Uce(n,e,t,r,i,s,o,a){for(var l=!0,u=[],f="",m=Kr(t),p=e.s.c;p<=e.e.c;++p)if(r[p]){var y=a.dense?(n[t]||[])[p]:n[r[p]+m];if(y==null)f="";else if(y.v!=null){l=!1,f=""+(a.rawNumbers&&y.t=="n"?y.v:cl(y,null,a));for(var v=0,w=0;v!==f.length;++v)if((w=f.charCodeAt(v))===i||w===s||w===34||a.forceQuotes){f='"'+f.replace(WP,'""')+'"';break}f=="ID"&&(f='"ID"')}else y.f!=null&&!y.F?(l=!1,f="="+y.f,f.indexOf(",")>=0&&(f='"'+f.replace(WP,'""')+'"')):f="";u.push(f)}return a.blankrows===!1&&l?null:u.join(o)}function AS(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=Nn(n["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,l=a.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),f="",m=[];r.dense=Array.isArray(n);for(var p=r.skipHidden&&n["!cols"]||[],y=r.skipHidden&&n["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(p[v]||{}).hidden||(m[v]=ai(v));for(var w=0,E=i.s.r;E<=i.e.r;++E)(y[E]||{}).hidden||(f=Uce(n,i,E,m,o,l,s,r),f!=null&&(r.strip&&(f=f.replace(u,"")),(f||r.blankrows!==!1)&&t.push((w++?a:"")+f)));return delete r.dense,t.join("")}function sL(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=AS(n,e);return t}function zce(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=Nn(n["!ref"]),s="",o=[],a,l=[],u=Array.isArray(n);for(a=i.s.c;a<=i.e.c;++a)o[a]=ai(a);for(var f=i.s.r;f<=i.e.r;++f)for(s=Kr(f),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,t=u?(n[f]||[])[a]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}l[l.length]=e+"="+r}return l}function oL(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Mr(r.origin):r.origin;o=l.r,a=l.c}var u,f={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var m=Nn(s["!ref"]);f.e.c=Math.max(f.e.c,m.e.c),f.e.r=Math.max(f.e.r,m.e.r),o==-1&&(o=m.e.r+1,f.e.r=o+e.length-1+i)}else o==-1&&(o=0,f.e.r=e.length-1+i);var p=r.header||[],y=0;e.forEach(function(w,E){Xr(w).forEach(function(k){(y=p.indexOf(k))==-1&&(p[y=p.length]=k);var T=w[k],S="z",P="",I=on({c:a+y,r:o+E+i});u=Yg(s,I),T&&typeof T=="object"&&!(T instanceof Date)?s[I]=T:(typeof T=="number"?S="n":typeof T=="boolean"?S="b":typeof T=="string"?S="s":T instanceof Date?(S="d",r.cellDates||(S="n",T=Hi(T)),P=r.dateNF||Jn[14]):T===null&&r.nullError&&(S="e",T=0),u?(u.t=S,u.v=T,delete u.w,delete u.R,P&&(u.z=P)):s[I]=u={t:S,v:T},P&&(u.z=P))})}),f.e.c=Math.max(f.e.c,a+p.length-1);var v=Kr(o);if(i)for(y=0;y<p.length;++y)s[ai(y+a)+v]={t:"s",v:p[y]};return s["!ref"]=dr(f),s}function Hce(n,e){return oL(null,n,e)}function Yg(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Mr(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Yg(n,on(e)):Yg(n,on({r:e,c:t||0}))}function $ce(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Wce(){return{SheetNames:[],Sheets:{}}}function jce(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(KF(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function qce(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=$ce(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Gce(n,e){return n.z=e,n}function aL(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Yce(n,e,t){return aL(n,"#"+e,t)}function Kce(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Xce(n,e,t,r){for(var i=typeof e!="string"?e:Nn(e),s=typeof e=="string"?e:dr(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=Yg(n,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=t,r&&(l.D=!0))}return n}var y2={encode_col:ai,encode_row:Kr,encode_cell:on,encode_range:dr,decode_col:bS,decode_row:pS,split_cell:ure,decode_cell:Mr,decode_range:ws,format_cell:cl,sheet_add_aoa:aF,sheet_add_json:oL,sheet_add_dom:eL,aoa_to_sheet:uh,json_to_sheet:Hce,table_to_sheet:tL,table_to_book:wce,sheet_to_csv:AS,sheet_to_txt:sL,sheet_to_json:yy,sheet_to_html:ZF,sheet_to_formulae:zce,sheet_to_row_object_array:yy,sheet_get_cell:Yg,book_new:Wce,book_append_sheet:jce,book_set_sheet_visibility:qce,cell_set_number_format:Gce,cell_set_hyperlink:aL,cell_set_internal_link:Yce,cell_add_comment:Kce,sheet_set_array_formula:Xce,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},$0=n=>n.type==="checkbox",su=n=>n instanceof Date,Ii=n=>n==null;const lL=n=>typeof n=="object";var fr=n=>!Ii(n)&&!Array.isArray(n)&&lL(n)&&!su(n),cL=n=>fr(n)&&n.target?$0(n.target)?n.target.checked:n.target.value:n,Jce=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,uL=(n,e)=>n.has(Jce(e)),Qce=n=>{const e=n.constructor&&n.constructor.prototype;return fr(e)&&e.hasOwnProperty("isPrototypeOf")},NS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vr(n){if(n instanceof Date)return new Date(n);const e=typeof FileList<"u"&&n instanceof FileList;if(NS&&(n instanceof Blob||e))return n;const t=Array.isArray(n);if(!t&&!(fr(n)&&Qce(n)))return n;const r=t?[]:Object.create(Object.getPrototypeOf(n));for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=vr(n[i]));return r}var $w=n=>/^\w*$/.test(n),Yn=n=>n===void 0,PS=n=>Array.isArray(n)?n.filter(Boolean):[],IS=n=>PS(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(n,e,t)=>{if(!e||!fr(n))return t;const r=($w(e)?[e]:IS(e)).reduce((i,s)=>Ii(i)?i:i[s],n);return Yn(r)||r===n?Yn(n[e])?t:n[e]:r},os=n=>typeof n=="boolean",bi=n=>typeof n=="function",Tn=(n,e,t)=>{let r=-1;const i=$w(e)?[e]:IS(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=t;if(r!==o){const u=n[a];l=fr(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=l,n=n[a]}};const wy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ho={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Da={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dL=g.createContext(null);dL.displayName="HookFormContext";const RS=()=>g.useContext(dL);var fL=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ho.all&&(e._proxyFormState[o]=!r||ho.all),t&&(t[o]=!0),n[o]}});return i};const OS=typeof window<"u"?g.useLayoutEffect:g.useEffect;function Zce(n){const e=RS(),{control:t=e.control,disabled:r,name:i,exact:s}=n||{},[o,a]=g.useState(t._formState),l=g.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return OS(()=>t._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!r&&a({...t._formState,...u})}}),[i,r,s]),g.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),g.useMemo(()=>fL(o,t,l.current,!1),[o,t])}var cs=n=>typeof n=="string",uk=(n,e,t,r,i)=>cs(n)?(r&&e.watch.add(n),Qe(t,n,i)):Array.isArray(n)?n.map(s=>(r&&e.watch.add(s),Qe(t,s))):(r&&(e.watchAll=!0),t),dk=n=>Ii(n)||!lL(n);function mo(n,e,t=new WeakSet){if(dk(n)||dk(e))return Object.is(n,e);if(su(n)&&su(e))return n.getTime()===e.getTime();const r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const s of r){const o=n[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(su(o)&&su(a)||fr(o)&&fr(a)||Array.isArray(o)&&Array.isArray(a)?!mo(o,a,t):!Object.is(o,a))return!1}}return!0}function eue(n){const e=RS(),{control:t=e.control,name:r,defaultValue:i,disabled:s,exact:o,compute:a}=n||{},l=g.useRef(i),u=g.useRef(a),f=g.useRef(void 0),m=g.useRef(t),p=g.useRef(r);u.current=a;const[y,v]=g.useState(()=>{const P=t._getWatch(r,l.current);return u.current?u.current(P):P}),w=g.useCallback(P=>{const I=uk(r,t._names,P||t._formValues,!1,l.current);return u.current?u.current(I):I},[t._formValues,t._names,r]),E=g.useCallback(P=>{if(!s){const I=uk(r,t._names,P||t._formValues,!1,l.current);if(u.current){const R=u.current(I);mo(R,f.current)||(v(R),f.current=R)}else v(I)}},[t._formValues,t._names,s,r]);OS(()=>((m.current!==t||!mo(p.current,r))&&(m.current=t,p.current=r,E()),t._subscribe({name:r,formState:{values:!0},exact:o,callback:P=>{E(P.values)}})),[t,o,r,E]),g.useEffect(()=>t._removeUnmounted());const k=m.current!==t,T=p.current,S=g.useMemo(()=>{if(s)return null;const P=!k&&!mo(T,r);return k||P?w():null},[s,k,r,T,w]);return S!==null?S:y}function MS(n){const e=RS(),{name:t,disabled:r,control:i=e.control,shouldUnregister:s,defaultValue:o,exact:a=!0}=n,l=uL(i._names.array,t),u=g.useMemo(()=>Qe(i._formValues,t,Qe(i._defaultValues,t,o)),[i,t,o]),f=eue({control:i,name:t,defaultValue:u,exact:a}),m=Zce({control:i,name:t,exact:a}),p=g.useRef(n),y=g.useRef(void 0),v=g.useRef(i.register(t,{...n.rules,value:f,...os(n.disabled)?{disabled:n.disabled}:{}}));p.current=n;const w=g.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(m.errors,t)},isDirty:{enumerable:!0,get:()=>!!Qe(m.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!Qe(m.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!Qe(m.validatingFields,t)},error:{enumerable:!0,get:()=>Qe(m.errors,t)}}),[m,t]),E=g.useCallback(P=>v.current.onChange({target:{value:cL(P),name:t},type:wy.CHANGE}),[t]),k=g.useCallback(()=>v.current.onBlur({target:{value:Qe(i._formValues,t),name:t},type:wy.BLUR}),[t,i._formValues]),T=g.useCallback(P=>{const I=Qe(i._fields,t);I&&I._f&&P&&(I._f.ref={focus:()=>bi(P.focus)&&P.focus(),select:()=>bi(P.select)&&P.select(),setCustomValidity:R=>bi(P.setCustomValidity)&&P.setCustomValidity(R),reportValidity:()=>bi(P.reportValidity)&&P.reportValidity()})},[i._fields,t]),S=g.useMemo(()=>({name:t,value:f,...os(r)||m.disabled?{disabled:m.disabled||r}:{},onChange:E,onBlur:k,ref:T}),[t,r,m.disabled,E,k,T,f]);return g.useEffect(()=>{const P=i._options.shouldUnregister||s,I=y.current;I&&I!==t&&!l&&i.unregister(I),i.register(t,{...p.current.rules,...os(p.current.disabled)?{disabled:p.current.disabled}:{}});const R=(A,F)=>{const V=Qe(i._fields,A);V&&V._f&&(V._f.mount=F)};if(R(t,!0),P){const A=vr(Qe(i._options.defaultValues,t,p.current.defaultValue));Tn(i._defaultValues,t,A),Yn(Qe(i._formValues,t))&&Tn(i._formValues,t,A)}return!l&&i.register(t),y.current=t,()=>{(l?P&&!i._state.action:P)?i.unregister(t):R(t,!1)}},[t,i,l,s]),g.useEffect(()=>{i._setDisabledField({disabled:r,name:t})},[r,t,i]),g.useMemo(()=>({field:S,formState:m,fieldState:w}),[S,m,w])}const us=n=>n.render(MS(n));var tue=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},fg=n=>Array.isArray(n)?n:[n],jP=()=>{let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next&&s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}};function hL(n,e){const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r],s=e[r];if(i&&fr(i)&&s){const o=hL(i,s);fr(o)&&(t[r]=o)}else n[r]&&(t[r]=s)}return t}var fi=n=>fr(n)&&!Object.keys(n).length,DS=n=>n.type==="file",vy=n=>{if(!NS)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mL=n=>n.type==="select-multiple",FS=n=>n.type==="radio",nue=n=>FS(n)||$0(n),w2=n=>vy(n)&&n.isConnected;function rue(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Yn(n)?r++:n[e[r++]];return n}function iue(n){for(const e in n)if(n.hasOwnProperty(e)&&!Yn(n[e]))return!1;return!0}function cr(n,e){const t=Array.isArray(e)?e:$w(e)?[e]:IS(e),r=t.length===1?n:rue(n,t),i=t.length-1,s=t[i];return r&&delete r[s],i!==0&&(fr(r)&&fi(r)||Array.isArray(r)&&iue(r))&&cr(n,t.slice(0,-1)),n}var sue=n=>{for(const e in n)if(bi(n[e]))return!0;return!1};function gL(n){return Array.isArray(n)||fr(n)&&!sue(n)}function fk(n,e={}){for(const t in n){const r=n[t];gL(r)?(e[t]=Array.isArray(r)?[]:{},fk(r,e[t])):Yn(r)||(e[t]=!0)}return e}function Zd(n,e,t){t||(t=fk(e));for(const r in n){const i=n[r];if(gL(i))Yn(e)||dk(t[r])?t[r]=fk(i,Array.isArray(i)?[]:{}):Zd(i,Ii(e)?{}:e[r],t[r]);else{const s=e[r];t[r]=!mo(i,s)}}return t}const qP={value:!1,isValid:!1},GP={value:!0,isValid:!0};var pL=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Yn(n[0].attributes.value)?Yn(n[0].value)||n[0].value===""?GP:{value:n[0].value,isValid:!0}:GP:qP}return qP},bL=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Yn(n)?n:e?n===""?NaN:n&&+n:t&&cs(n)?new Date(n):r?r(n):n;const YP={isValid:!1,value:null};var yL=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,YP):YP;function KP(n){const e=n.ref;return DS(e)?e.files:FS(e)?yL(n.refs).value:mL(e)?[...e.selectedOptions].map(({value:t})=>t):$0(e)?pL(n.refs).value:bL(Yn(e.value)?n.ref.value:e.value,n)}var oue=(n,e,t,r)=>{const i={};for(const s of n){const o=Qe(e,s);o&&Tn(i,s,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},_y=n=>n instanceof RegExp,Tm=n=>Yn(n)?n:_y(n)?n.source:fr(n)?_y(n.value)?n.value.source:n.value:n,XP=n=>({isOnSubmit:!n||n===ho.onSubmit,isOnBlur:n===ho.onBlur,isOnChange:n===ho.onChange,isOnAll:n===ho.all,isOnTouch:n===ho.onTouched});const JP="AsyncFunction";var aue=n=>!!n&&!!n.validate&&!!(bi(n.validate)&&n.validate.constructor.name===JP||fr(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===JP)),lue=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),QP=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const hg=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const s=Qe(n,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(hg(a,e))break}else if(fr(a)&&hg(a,e))break}}};function ZP(n,e,t){const r=Qe(n,t);if(r||$w(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),o=Qe(e,s),a=Qe(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:t}}var cue=(n,e,t,r)=>{t(n);const{name:i,...s}=n;return fi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||ho.all))},uue=(n,e,t)=>!n||!e||n===e||fg(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),due=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,fue=(n,e)=>!PS(Qe(n,e)).length&&cr(n,e),hue=(n,e,t)=>{const r=fg(Qe(n,t));return Tn(r,"root",e[t]),Tn(n,t,r),n};function eI(n,e,t="validate"){if(cs(n)||Array.isArray(n)&&n.every(cs)||os(n)&&!n)return{type:t,message:cs(n)?n:"",ref:e}}var Fd=n=>fr(n)&&!_y(n)?n:{value:n,message:""},tI=async(n,e,t,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:f,min:m,max:p,pattern:y,validate:v,name:w,valueAsNumber:E,mount:k}=n._f,T=Qe(t,w);if(!k||e.has(w))return{};const S=a?a[0]:o,P=N=>{i&&S.reportValidity&&(S.setCustomValidity(os(N)?"":N||""),S.reportValidity())},I={},R=FS(o),A=$0(o),F=R||A,V=(E||DS(o))&&Yn(o.value)&&Yn(T)||vy(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,K=tue.bind(null,w,r,I),re=(N,te,ye,Ee=Da.maxLength,ne=Da.minLength)=>{const ke=N?te:ye;I[w]={type:N?Ee:ne,message:ke,ref:o,...K(N?Ee:ne,ke)}};if(s?!Array.isArray(T)||!T.length:l&&(!F&&(V||Ii(T))||os(T)&&!T||A&&!pL(a).isValid||R&&!yL(a).isValid)){const{value:N,message:te}=cs(l)?{value:!!l,message:l}:Fd(l);if(N&&(I[w]={type:Da.required,message:te,ref:S,...K(Da.required,te)},!r))return P(te),I}if(!V&&(!Ii(m)||!Ii(p))){let N,te;const ye=Fd(p),Ee=Fd(m);if(!Ii(T)&&!isNaN(T)){const ne=o.valueAsNumber||T&&+T;Ii(ye.value)||(N=ne>ye.value),Ii(Ee.value)||(te=ne<Ee.value)}else{const ne=o.valueAsDate||new Date(T),ke=j=>new Date(new Date().toDateString()+" "+j),We=o.type=="time",Ie=o.type=="week";cs(ye.value)&&T&&(N=We?ke(T)>ke(ye.value):Ie?T>ye.value:ne>new Date(ye.value)),cs(Ee.value)&&T&&(te=We?ke(T)<ke(Ee.value):Ie?T<Ee.value:ne<new Date(Ee.value))}if((N||te)&&(re(!!N,ye.message,Ee.message,Da.max,Da.min),!r))return P(I[w].message),I}if((u||f)&&!V&&(cs(T)||s&&Array.isArray(T))){const N=Fd(u),te=Fd(f),ye=!Ii(N.value)&&T.length>+N.value,Ee=!Ii(te.value)&&T.length<+te.value;if((ye||Ee)&&(re(ye,N.message,te.message),!r))return P(I[w].message),I}if(y&&!V&&cs(T)){const{value:N,message:te}=Fd(y);if(_y(N)&&!T.match(N)&&(I[w]={type:Da.pattern,message:te,ref:o,...K(Da.pattern,te)},!r))return P(te),I}if(v){if(bi(v)){const N=await v(T,t),te=eI(N,S);if(te&&(I[w]={...te,...K(Da.validate,te.message)},!r))return P(te.message),I}else if(fr(v)){let N={};for(const te in v){if(!fi(N)&&!r)break;const ye=eI(await v[te](T,t),S,te);ye&&(N={...ye,...K(te,ye.message)},P(ye.message),r&&(I[w]=N))}if(!fi(N)&&(I[w]={ref:S,...N},!r))return I}}return P(!0),I};const mue={mode:ho.onSubmit,reValidateMode:ho.onChange,shouldFocusError:!0};function gue(n={}){let e={...mue,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:bi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=fr(e.defaultValues)||fr(e.values)?vr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:vr(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={...f};let p={...m};const y={array:jP(),state:jP()},v=e.criteriaMode===ho.all,w=X=>le=>{clearTimeout(u),u=setTimeout(X,le)},E=async X=>{if(!o.keepIsValid&&!e.disabled&&(m.isValid||p.isValid||X)){let le;e.resolver?(le=fi((await F()).errors),k()):le=await K(r,!0),le!==t.isValid&&y.state.next({isValid:le})}},k=(X,le)=>{!e.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((X||Array.from(a.mount)).forEach(we=>{we&&(le?Tn(t.validatingFields,we,le):cr(t.validatingFields,we))}),y.state.next({validatingFields:t.validatingFields,isValidating:!fi(t.validatingFields)}))},T=(X,le=[],we,$e,Ve=!0,Oe=!0)=>{if($e&&we&&!e.disabled){if(o.action=!0,Oe&&Array.isArray(Qe(r,X))){const Ze=we(Qe(r,X),$e.argA,$e.argB);Ve&&Tn(r,X,Ze)}if(Oe&&Array.isArray(Qe(t.errors,X))){const Ze=we(Qe(t.errors,X),$e.argA,$e.argB);Ve&&Tn(t.errors,X,Ze),fue(t.errors,X)}if((m.touchedFields||p.touchedFields)&&Oe&&Array.isArray(Qe(t.touchedFields,X))){const Ze=we(Qe(t.touchedFields,X),$e.argA,$e.argB);Ve&&Tn(t.touchedFields,X,Ze)}(m.dirtyFields||p.dirtyFields)&&(t.dirtyFields=Zd(i,s)),y.state.next({name:X,isDirty:N(X,le),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Tn(s,X,le)},S=(X,le)=>{Tn(t.errors,X,le),y.state.next({errors:t.errors})},P=X=>{t.errors=X,y.state.next({errors:t.errors,isValid:!1})},I=(X,le,we,$e)=>{const Ve=Qe(r,X);if(Ve){const Oe=Qe(s,X,Yn(we)?Qe(i,X):we);Yn(Oe)||$e&&$e.defaultChecked||le?Tn(s,X,le?Oe:KP(Ve._f)):Ee(X,Oe),o.mount&&!o.action&&E()}},R=(X,le,we,$e,Ve)=>{let Oe=!1,Ze=!1;const gt={name:X};if(!e.disabled){if(!we||$e){(m.isDirty||p.isDirty)&&(Ze=t.isDirty,t.isDirty=gt.isDirty=N(),Oe=Ze!==gt.isDirty);const yt=mo(Qe(i,X),le);Ze=!!Qe(t.dirtyFields,X),yt?cr(t.dirtyFields,X):Tn(t.dirtyFields,X,!0),gt.dirtyFields=t.dirtyFields,Oe=Oe||(m.dirtyFields||p.dirtyFields)&&Ze!==!yt}if(we){const yt=Qe(t.touchedFields,X);yt||(Tn(t.touchedFields,X,we),gt.touchedFields=t.touchedFields,Oe=Oe||(m.touchedFields||p.touchedFields)&&yt!==we)}Oe&&Ve&&y.state.next(gt)}return Oe?gt:{}},A=(X,le,we,$e)=>{const Ve=Qe(t.errors,X),Oe=(m.isValid||p.isValid)&&os(le)&&t.isValid!==le;if(e.delayError&&we?(l=w(()=>S(X,we)),l(e.delayError)):(clearTimeout(u),l=null,we?Tn(t.errors,X,we):cr(t.errors,X)),(we?!mo(Ve,we):Ve)||!fi($e)||Oe){const Ze={...$e,...Oe&&os(le)?{isValid:le}:{},errors:t.errors,name:X};t={...t,...Ze},y.state.next(Ze)}},F=async X=>(k(X,!0),await e.resolver(s,e.context,oue(X||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),V=async X=>{const{errors:le}=await F(X);if(k(X),X)for(const we of X){const $e=Qe(le,we);$e?Tn(t.errors,we,$e):cr(t.errors,we)}else t.errors=le;return le},K=async(X,le,we={valid:!0})=>{for(const $e in X){const Ve=X[$e];if(Ve){const{_f:Oe,...Ze}=Ve;if(Oe){const gt=a.array.has(Oe.name),yt=Ve._f&&aue(Ve._f);yt&&m.validatingFields&&k([Oe.name],!0);const Lr=await tI(Ve,a.disabled,s,v,e.shouldUseNativeValidation&&!le,gt);if(yt&&m.validatingFields&&k([Oe.name]),Lr[Oe.name]&&(we.valid=!1,le))break;!le&&(Qe(Lr,Oe.name)?gt?hue(t.errors,Lr,Oe.name):Tn(t.errors,Oe.name,Lr[Oe.name]):cr(t.errors,Oe.name))}!fi(Ze)&&await K(Ze,le,we)}}return we.valid},re=()=>{for(const X of a.unMount){const le=Qe(r,X);le&&(le._f.refs?le._f.refs.every(we=>!w2(we)):!w2(le._f.ref))&&Be(X)}a.unMount=new Set},N=(X,le)=>!e.disabled&&(X&&le&&Tn(s,X,le),!mo(xe(),i)),te=(X,le,we)=>uk(X,a,{...o.mount?s:Yn(le)?i:cs(X)?{[X]:le}:le},we,le),ye=X=>PS(Qe(o.mount?s:i,X,e.shouldUnregister?Qe(i,X,[]):[])),Ee=(X,le,we={})=>{const $e=Qe(r,X);let Ve=le;if($e){const Oe=$e._f;Oe&&(!Oe.disabled&&Tn(s,X,bL(le,Oe)),Ve=vy(Oe.ref)&&Ii(le)?"":le,mL(Oe.ref)?[...Oe.ref.options].forEach(Ze=>Ze.selected=Ve.includes(Ze.value)):Oe.refs?$0(Oe.ref)?Oe.refs.forEach(Ze=>{(!Ze.defaultChecked||!Ze.disabled)&&(Array.isArray(Ve)?Ze.checked=!!Ve.find(gt=>gt===Ze.value):Ze.checked=Ve===Ze.value||!!Ve)}):Oe.refs.forEach(Ze=>Ze.checked=Ze.value===Ve):DS(Oe.ref)?Oe.ref.value="":(Oe.ref.value=Ve,Oe.ref.type||y.state.next({name:X,values:vr(s)})))}(we.shouldDirty||we.shouldTouch)&&R(X,Ve,we.shouldTouch,we.shouldDirty,!0),we.shouldValidate&&j(X)},ne=(X,le,we)=>{for(const $e in le){if(!le.hasOwnProperty($e))return;const Ve=le[$e],Oe=X+"."+$e,Ze=Qe(r,Oe);(a.array.has(X)||fr(Ve)||Ze&&!Ze._f)&&!su(Ve)?ne(Oe,Ve,we):Ee(Oe,Ve,we)}},ke=(X,le,we={})=>{const $e=Qe(r,X),Ve=a.array.has(X),Oe=vr(le);Tn(s,X,Oe),Ve?(y.array.next({name:X,values:vr(s)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&we.shouldDirty&&y.state.next({name:X,dirtyFields:Zd(i,s),isDirty:N(X,Oe)})):$e&&!$e._f&&!Ii(Oe)?ne(X,Oe,we):Ee(X,Oe,we),QP(X,a)&&y.state.next({...t,name:X}),y.state.next({name:o.mount?X:void 0,values:vr(s)})},We=async X=>{o.mount=!0;const le=X.target;let we=le.name,$e=!0;const Ve=Qe(r,we),Oe=yt=>{$e=Number.isNaN(yt)||su(yt)&&isNaN(yt.getTime())||mo(yt,Qe(s,we,yt))},Ze=XP(e.mode),gt=XP(e.reValidateMode);if(Ve){let yt,Lr;const ba=le.type?KP(Ve._f):cL(X),Gi=X.type===wy.BLUR||X.type===wy.FOCUS_OUT,ya=!lue(Ve._f)&&!e.resolver&&!Qe(t.errors,we)&&!Ve._f.deps||due(Gi,Qe(t.touchedFields,we),t.isSubmitted,gt,Ze),Zs=QP(we,a,Gi);Tn(s,we,ba),Gi?(!le||!le.readOnly)&&(Ve._f.onBlur&&Ve._f.onBlur(X),l&&l(0)):Ve._f.onChange&&Ve._f.onChange(X);const Ti=R(we,ba,Gi),wl=!fi(Ti)||Zs;if(!Gi&&y.state.next({name:we,type:X.type,values:vr(s)}),ya)return(m.isValid||p.isValid)&&(e.mode==="onBlur"?Gi&&E():Gi||E()),wl&&y.state.next({name:we,...Zs?{}:Ti});if(!Gi&&Zs&&y.state.next({...t}),e.resolver){const{errors:Do}=await F([we]);if(k([we]),Oe(ba),$e){const Ju=ZP(t.errors,r,we),vl=ZP(Do,r,Ju.name||we);yt=vl.error,we=vl.name,Lr=fi(Do)}}else k([we],!0),yt=(await tI(Ve,a.disabled,s,v,e.shouldUseNativeValidation))[we],k([we]),Oe(ba),$e&&(yt?Lr=!1:(m.isValid||p.isValid)&&(Lr=await K(r,!0)));$e&&(Ve._f.deps&&(!Array.isArray(Ve._f.deps)||Ve._f.deps.length>0)&&j(Ve._f.deps),A(we,Lr,yt,Ti))}},Ie=(X,le)=>{if(Qe(t.errors,le)&&X.focus)return X.focus(),1},j=async(X,le={})=>{let we,$e;const Ve=fg(X);if(e.resolver){const Oe=await V(Yn(X)?X:Ve);we=fi(Oe),$e=X?!Ve.some(Ze=>Qe(Oe,Ze)):we}else X?($e=(await Promise.all(Ve.map(async Oe=>{const Ze=Qe(r,Oe);return await K(Ze&&Ze._f?{[Oe]:Ze}:Ze)}))).every(Boolean),!(!$e&&!t.isValid)&&E()):$e=we=await K(r);return y.state.next({...!cs(X)||(m.isValid||p.isValid)&&we!==t.isValid?{}:{name:X},...e.resolver||!X?{isValid:we}:{},errors:t.errors}),le.shouldFocus&&!$e&&hg(r,Ie,X?Ve:a.mount),$e},xe=(X,le)=>{let we={...o.mount?s:i};return le&&(we=hL(le.dirtyFields?t.dirtyFields:t.touchedFields,we)),Yn(X)?we:cs(X)?Qe(we,X):X.map($e=>Qe(we,$e))},U=(X,le)=>({invalid:!!Qe((le||t).errors,X),isDirty:!!Qe((le||t).dirtyFields,X),error:Qe((le||t).errors,X),isValidating:!!Qe(t.validatingFields,X),isTouched:!!Qe((le||t).touchedFields,X)}),Q=X=>{X&&fg(X).forEach(le=>cr(t.errors,le)),y.state.next({errors:X?t.errors:{}})},Y=(X,le,we)=>{const $e=(Qe(r,X,{_f:{}})._f||{}).ref,Ve=Qe(t.errors,X)||{},{ref:Oe,message:Ze,type:gt,...yt}=Ve;Tn(t.errors,X,{...yt,...le,ref:$e}),y.state.next({name:X,errors:t.errors,isValid:!1}),we&&we.shouldFocus&&$e&&$e.focus&&$e.focus()},J=(X,le)=>bi(X)?y.state.subscribe({next:we=>"values"in we&&X(te(void 0,le),we)}):te(X,le,!0),ue=X=>y.state.subscribe({next:le=>{uue(X.name,le.name,X.exact)&&cue(le,X.formState||m,Qr,X.reRenderRoot)&&X.callback({values:{...s},...t,...le,defaultValues:i})}}).unsubscribe,Ye=X=>(o.mount=!0,p={...p,...X.formState},ue({...X,formState:{...f,...X.formState}})),Be=(X,le={})=>{for(const we of X?fg(X):a.mount)a.mount.delete(we),a.array.delete(we),le.keepValue||(cr(r,we),cr(s,we)),!le.keepError&&cr(t.errors,we),!le.keepDirty&&cr(t.dirtyFields,we),!le.keepTouched&&cr(t.touchedFields,we),!le.keepIsValidating&&cr(t.validatingFields,we),!e.shouldUnregister&&!le.keepDefaultValue&&cr(i,we);y.state.next({values:vr(s)}),y.state.next({...t,...le.keepDirty?{isDirty:N()}:{}}),!le.keepIsValid&&E()},Je=({disabled:X,name:le})=>{(os(X)&&o.mount||X||a.disabled.has(le))&&(X?a.disabled.add(le):a.disabled.delete(le))},je=(X,le={})=>{let we=Qe(r,X);const $e=os(le.disabled)||os(e.disabled);return Tn(r,X,{...we||{},_f:{...we&&we._f?we._f:{ref:{name:X}},name:X,mount:!0,...le}}),a.mount.add(X),we?Je({disabled:os(le.disabled)?le.disabled:e.disabled,name:X}):I(X,!0,le.value),{...$e?{disabled:le.disabled||e.disabled}:{},...e.progressive?{required:!!le.required,min:Tm(le.min),max:Tm(le.max),minLength:Tm(le.minLength),maxLength:Tm(le.maxLength),pattern:Tm(le.pattern)}:{},name:X,onChange:We,onBlur:We,ref:Ve=>{if(Ve){je(X,le),we=Qe(r,X);const Oe=Yn(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,Ze=nue(Oe),gt=we._f.refs||[];if(Ze?gt.find(yt=>yt===Oe):Oe===we._f.ref)return;Tn(r,X,{_f:{...we._f,...Ze?{refs:[...gt.filter(w2),Oe,...Array.isArray(Qe(i,X))?[{}]:[]],ref:{type:Oe.type,name:X}}:{ref:Oe}}}),I(X,!1,void 0,Oe)}else we=Qe(r,X,{}),we._f&&(we._f.mount=!1),(e.shouldUnregister||le.shouldUnregister)&&!(uL(a.array,X)&&o.action)&&a.unMount.add(X)}}},Nt=()=>e.shouldFocusError&&hg(r,Ie,a.mount),kt=X=>{os(X)&&(y.state.next({disabled:X}),hg(r,(le,we)=>{const $e=Qe(r,we);$e&&(le.disabled=$e._f.disabled||X,Array.isArray($e._f.refs)&&$e._f.refs.forEach(Ve=>{Ve.disabled=$e._f.disabled||X}))},0,!1))},zn=(X,le)=>async we=>{let $e;we&&(we.preventDefault&&we.preventDefault(),we.persist&&we.persist());let Ve=vr(s);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:Oe,values:Ze}=await F();k(),t.errors=Oe,Ve=vr(Ze)}else await K(r);if(a.disabled.size)for(const Oe of a.disabled)cr(Ve,Oe);if(cr(t.errors,"root"),fi(t.errors)){y.state.next({errors:{}});try{await X(Ve,we)}catch(Oe){$e=Oe}}else le&&await le({...t.errors},we),Nt(),setTimeout(Nt);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fi(t.errors)&&!$e,submitCount:t.submitCount+1,errors:t.errors}),$e)throw $e},Pt=(X,le={})=>{Qe(r,X)&&(Yn(le.defaultValue)?ke(X,vr(Qe(i,X))):(ke(X,le.defaultValue),Tn(i,X,vr(le.defaultValue))),le.keepTouched||cr(t.touchedFields,X),le.keepDirty||(cr(t.dirtyFields,X),t.isDirty=le.defaultValue?N(X,vr(Qe(i,X))):N()),le.keepError||(cr(t.errors,X),m.isValid&&E()),y.state.next({...t}))},ki=(X,le={})=>{const we=X?vr(X):i,$e=vr(we),Ve=fi(X),Oe=Ve?i:$e;if(le.keepDefaultValues||(i=we),!le.keepValues){if(le.keepDirtyValues){const Ze=new Set([...a.mount,...Object.keys(Zd(i,s))]);for(const gt of Array.from(Ze))Qe(t.dirtyFields,gt)?Tn(Oe,gt,Qe(s,gt)):ke(gt,Qe(Oe,gt))}else{if(NS&&Yn(X))for(const Ze of a.mount){const gt=Qe(r,Ze);if(gt&&gt._f){const yt=Array.isArray(gt._f.refs)?gt._f.refs[0]:gt._f.ref;if(vy(yt)){const Lr=yt.closest("form");if(Lr){Lr.reset();break}}}}if(le.keepFieldsRef)for(const Ze of a.mount)ke(Ze,Qe(Oe,Ze));else r={}}s=e.shouldUnregister?le.keepDefaultValues?vr(i):{}:vr(Oe),y.array.next({values:{...Oe}}),y.state.next({values:{...Oe}})}a={mount:le.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!le.keepIsValid||!!le.keepDirtyValues||!e.shouldUnregister&&!fi(Oe),o.watch=!!e.shouldUnregister,o.keepIsValid=!!le.keepIsValid,o.action=!1,le.keepErrors||(t.errors={}),y.state.next({submitCount:le.keepSubmitCount?t.submitCount:0,isDirty:Ve?!1:le.keepDirty?t.isDirty:!!(le.keepDefaultValues&&!mo(X,i)),isSubmitted:le.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:Ve?{}:le.keepDirtyValues?le.keepDefaultValues&&s?Zd(i,s):t.dirtyFields:le.keepDefaultValues&&X?Zd(i,X):le.keepDirty?t.dirtyFields:{},touchedFields:le.keepTouched?t.touchedFields:{},errors:le.keepErrors?t.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},wn=(X,le)=>ki(bi(X)?X(s):X,{...e.resetOptions,...le}),Ge=(X,le={})=>{const we=Qe(r,X),$e=we&&we._f;if($e){const Ve=$e.refs?$e.refs[0]:$e.ref;Ve.focus&&setTimeout(()=>{Ve.focus(),le.shouldSelect&&bi(Ve.select)&&Ve.select()})}},Qr=X=>{t={...t,...X}},qi={control:{register:je,unregister:Be,getFieldState:U,handleSubmit:zn,setError:Y,_subscribe:ue,_runSchema:F,_updateIsValidating:k,_focusError:Nt,_getWatch:te,_getDirty:N,_setValid:E,_setFieldArray:T,_setDisabledField:Je,_setErrors:P,_getFieldArray:ye,_reset:ki,_resetDefaultValues:()=>bi(e.defaultValues)&&e.defaultValues().then(X=>{wn(X,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:kt,_subjects:y,_proxyFormState:m,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(X){o=X},get _defaultValues(){return i},get _names(){return a},set _names(X){a=X},get _formState(){return t},get _options(){return e},set _options(X){e={...e,...X}}},subscribe:Ye,trigger:j,register:je,handleSubmit:zn,watch:J,setValue:ke,getValues:xe,reset:wn,resetField:Pt,clearErrors:Q,unregister:Be,setError:Y,setFocus:Ge,getFieldState:U};return{...qi,formControl:qi}}function LS(n={}){const e=g.useRef(void 0),t=g.useRef(void 0),[r,i]=g.useState({isDirty:!1,isValidating:!1,isLoading:bi(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:bi(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!bi(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:o,...a}=gue(n);e.current={...a,formState:r}}const s=e.current.control;return s._options=n,OS(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),g.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),g.useEffect(()=>{n.mode&&(s._options.mode=n.mode),n.reValidateMode&&(s._options.reValidateMode=n.reValidateMode)},[s,n.mode,n.reValidateMode]),g.useEffect(()=>{n.errors&&(s._setErrors(n.errors),s._focusError())},[s,n.errors]),g.useEffect(()=>{n.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,n.shouldUnregister]),g.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),g.useEffect(()=>{var o;n.values&&!mo(n.values,t.current)?(s._reset(n.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((o=s._options.resetOptions)===null||o===void 0)&&o.keepIsValid||s._setValid(),t.current=n.values,i(a=>({...a}))):s._resetDefaultValues()},[s,n.values]),g.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=fL(r,s),e.current}var v2={exports:{}},_2,nI;function pue(){if(nI)return _2;nI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _2=n,_2}var x2,rI;function bue(){if(rI)return x2;rI=1;var n=pue();function e(){}function t(){}return t.resetWarningCache=e,x2=function(){function r(o,a,l,u,f,m){if(m!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},x2}var iI;function yue(){return iI||(iI=1,v2.exports=bue()()),v2.exports}var wue=yue();const Ms=vT(wue);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function vue(){const n={resolve:null,promise:null};return n.promise=new Promise(e=>{n.resolve=e}),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _ue(n){let e=null;return(...t)=>(e||(e={current:n(...t)}),e.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ti=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function xue(){const[n,e,t,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+ti[n>>0&255]+ti[n>>8&255]+ti[n>>16&255]+ti[n>>24&255]+ti[e>>0&255]+ti[e>>8&255]+ti[e>>16&255]+ti[e>>24&255]+ti[t>>0&255]+ti[t>>8&255]+ti[t>>16&255]+ti[t>>24&255]+ti[r>>0&255]+ti[r>>8&255]+ti[r>>16&255]+ti[r>>24&255]}var Eue=Object.defineProperty,kue=(n,e,t)=>e in n?Eue(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gi=(n,e,t)=>kue(n,typeof e!="symbol"?e+"":e,t);/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const wL=class vL{constructor(e,t){gi(this,"_lifecycle"),gi(this,"_element"),gi(this,"_releaseLock",null),gi(this,"_value",null),gi(this,"_afterMountCallbacks",[]),gi(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),gi(this,"release",_ue(()=>{const{_releaseLock:r,_state:i,_element:s,_lifecycle:o}=this;i.mountingInProgress?i.mountingInProgress.then(()=>o.unmount({element:s,mountResult:this.value})).catch(a=>{console.error("Semaphore unmounting error:",a)}).then(r.resolve).then(()=>{this._value=null}):(i.destroyedBeforeInitialization=!0,r.resolve())})),this._element=e,this._lifecycle=t,this._lock()}get value(){return this._value}unsafeSetValue(e){this._value=e,this._afterMountCallbacks.forEach(t=>t(e)),this._afterMountCallbacks=[]}runAfterMount(e){const{_value:t,_afterMountCallbacks:r}=this;t?e(t):r.push(e)}_lock(){const{_semaphores:e}=vL,{_state:t,_element:r,_lifecycle:i}=this,s=e.get(r)||Promise.resolve(null),o=vue();this._releaseLock=o;const a=s.then(()=>t.destroyedBeforeInitialization?Promise.resolve(void 0):(t.mountingInProgress=i.mount().then(l=>(l&&this.unsafeSetValue(l),l)),t.mountingInProgress)).then(async l=>{l&&i.afterMount&&await i.afterMount({element:r,mountResult:l})}).then(()=>o.promise).catch(l=>{console.error("Semaphore mounting error:",l)}).then(()=>{e.get(r)===a&&e.delete(r)});e.set(r,a)}};gi(wL,"_semaphores",new Map);let Tue=wL;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Sue="$__CKEditorReactContextMetadata";function Cue(n,e){return{...e,[Sue]:n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Aue=g.createContext(null),Nue=n=>!!n&&typeof n=="object"&&"status"in n&&["initializing","initialized","error"].includes(n.status),_L=n=>e=>Nue(e)&&e.status===n,sI=_L("initializing"),Pue=n=>_L("initialized")(n)&&n.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const E2="Lock from React integration (@ckeditor/ckeditor5-react)";class BS extends g.Component{constructor(e){super(e),gi(this,"domContainer",g.createRef()),gi(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[t]=e.split(".").map(Number);t>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:e}=this;return e?e.value:null}get watchdog(){const{_semaphoreValue:e}=this;return e?e.watchdog:null}get editor(){const{_semaphoreValue:e}=this;return e?e.instance:null}shouldComponentUpdate(e){const{props:t,editorSemaphore:r}=this;return e.id!==t.id||e.disableWatchdog!==t.disableWatchdog?!0:(r&&(r.runAfterMount(({instance:i})=>{this._shouldUpdateEditorData(t,e,i)&&i.data.set(e.data)}),"disabled"in e&&r.runAfterMount(({instance:i})=>{e.disabled?i.enableReadOnlyMode(E2):i.disableReadOnlyMode(E2)})),!1)}componentDidMount(){sI(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){sI(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new Tue(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:e})=>{const{onReady:t}=this.props;t&&this.domContainer.current!==null&&t(e.instance)},unmount:async({element:e,mountResult:t})=>{const{onAfterDestroy:r}=this.props;try{await this._destroyEditor(t),e.innerHTML=""}finally{r&&r(t.instance)}}})}render(){return g.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const e=Pue(this.context)?new Iue(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),t={current:0};return e.setCreator(async(r,i)=>{var s;const{editorSemaphore:o}=this,{onAfterDestroy:a}=this.props;t.current>0&&a&&((s=o?.value)!=null&&s.instance)&&a(o.value.instance);const l=await this._createEditor(r,i);return o&&t.current>0&&(o.unsafeSetValue({instance:l,watchdog:e}),setTimeout(()=>{this.props.onReady&&this.props.onReady(e.editor)})),t.current++,l}),e.on("error",(r,{error:i,causesRestart:s})=>{(this.props.onError||console.error)(i,{phase:"runtime",willEditorRestart:s})}),await e.create(this.domContainer.current,this._getConfig()).catch(r=>{(this.props.onError||console.error)(r,{phase:"initialization",willEditorRestart:!1})}),{watchdog:e,instance:e.editor}}_createEditor(e,t){const{contextItemMetadata:r}=this.props;return r&&(t=Cue(r,t)),this.props.editor.create(e,t).then(i=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&i.enableReadOnlyMode(E2)}const s=i.model.document,o=i.editing.view.document;return s.on("change:data",a=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(a,i)}),o.on("focus",a=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(a,i)}),o.on("blur",a=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(a,i)}),i})}async _destroyEditor(e){const{watchdog:t,instance:r}=e;return new Promise((i,s)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(t)return await t.destroy(),i();if(r)return await r.destroy(),i();i()}catch(o){console.error(o),s(o)}})})}_shouldUpdateEditorData(e,t,r){return!(e.data===t.data||r.data.get()===t.data)}_getConfig(){const e=this.props.config||{};return this.props.data&&e.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...e,initialData:e.initialData||this.props.data||""}}}gi(BS,"contextType",Aue);gi(BS,"propTypes",{editor:Ms.func.isRequired,data:Ms.string,config:Ms.object,disableWatchdog:Ms.bool,watchdogConfig:Ms.object,onChange:Ms.func,onReady:Ms.func,onFocus:Ms.func,onBlur:Ms.func,onError:Ms.func,disabled:Ms.bool,id:Ms.any});class Iue{constructor(e){gi(this,"_contextWatchdog"),gi(this,"_id"),gi(this,"_creator"),this._contextWatchdog=e,this._id=xue()}setCreator(e){this._creator=e}create(e,t){return this._contextWatchdog.add({sourceElementOrData:e,config:t,creator:this._creator,id:this._id,type:"editor"})}on(e,t){this._contextWatchdog.on("itemError",(r,{itemId:i,error:s})=>{i===this._id&&t(null,{error:s,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function xL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}const Rue=O.memo(O.forwardRef(({id:n,semaphore:e,rootName:t},r)=>{const i=O.useRef(null);return O.useEffect(()=>{let s,o;return e.runAfterMount(({instance:a})=>{if(!i.current)return;o=a;const{ui:l,model:u}=o,f=u.document.getRoot(t);f&&o.ui.getEditableElement(t)&&o.detachEditable(f),s=l.view.createEditable(t,i.current),l.addEditable(s),a.editing.view.forceRender()}),()=>{if(o&&o.state!=="destroyed"&&i.current){const a=o.model.document.getRoot(t);/* istanbul ignore else -- @preserve */a&&o.detachEditable(a)}}},[e.revision]),g.createElement("div",{key:e.revision,id:n,ref:xL(r,i)})}));Rue.displayName="EditorEditable";const Oue=O.forwardRef(({editor:n},e)=>{const t=O.useRef(null);return O.useEffect(()=>{const r=t.current;if(!n||!r)return;const i=n.ui.view.toolbar.element;return r.appendChild(i),()=>{r.contains(i)&&r.removeChild(i)}},[n&&n.id]),g.createElement("div",{ref:xL(t,e)})});Oue.displayName="EditorToolbarWrapper";const Kg={black:"#000",white:"#fff"},Ld={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Bd={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Vd={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ud={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},zd={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Sm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Mue={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ku(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const EL="$$material";function hk(){return hk=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hk.apply(null,arguments)}function Due(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Fue(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Lue=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Fue(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Due(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ri="-ms-",xy="-moz-",$t="-webkit-",kL="comm",VS="rule",US="decl",Bue="@import",TL="@keyframes",Vue="@layer",Uue=Math.abs,Ww=String.fromCharCode,zue=Object.assign;function Hue(n,e){return Wr(n,0)^45?(((e<<2^Wr(n,0))<<2^Wr(n,1))<<2^Wr(n,2))<<2^Wr(n,3):0}function SL(n){return n.trim()}function $ue(n,e){return(n=e.exec(n))?n[0]:n}function Wt(n,e,t){return n.replace(e,t)}function mk(n,e){return n.indexOf(e)}function Wr(n,e){return n.charCodeAt(e)|0}function Xg(n,e,t){return n.slice(e,t)}function Xo(n){return n.length}function zS(n){return n.length}function F1(n,e){return e.push(n),n}function Wue(n,e){return n.map(e).join("")}var jw=1,Wf=1,CL=0,Wi=0,ur=0,hh="";function qw(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:jw,column:Wf,length:o,return:""}}function Cm(n,e){return zue(qw("",null,null,"",null,null,0),n,{length:-n.length},e)}function jue(){return ur}function que(){return ur=Wi>0?Wr(hh,--Wi):0,Wf--,ur===10&&(Wf=1,jw--),ur}function ps(){return ur=Wi<CL?Wr(hh,Wi++):0,Wf++,ur===10&&(Wf=1,jw++),ur}function ea(){return Wr(hh,Wi)}function Tb(){return Wi}function W0(n,e){return Xg(hh,n,e)}function Jg(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AL(n){return jw=Wf=1,CL=Xo(hh=n),Wi=0,[]}function NL(n){return hh="",n}function Sb(n){return SL(W0(Wi-1,gk(n===91?n+2:n===40?n+1:n)))}function Gue(n){for(;(ur=ea())&&ur<33;)ps();return Jg(n)>2||Jg(ur)>3?"":" "}function Yue(n,e){for(;--e&&ps()&&!(ur<48||ur>102||ur>57&&ur<65||ur>70&&ur<97););return W0(n,Tb()+(e<6&&ea()==32&&ps()==32))}function gk(n){for(;ps();)switch(ur){case n:return Wi;case 34:case 39:n!==34&&n!==39&&gk(ur);break;case 40:n===41&&gk(n);break;case 92:ps();break}return Wi}function Kue(n,e){for(;ps()&&n+ur!==57;)if(n+ur===84&&ea()===47)break;return"/*"+W0(e,Wi-1)+"*"+Ww(n===47?n:ps())}function Xue(n){for(;!Jg(ea());)ps();return W0(n,Wi)}function Jue(n){return NL(Cb("",null,null,null,[""],n=AL(n),0,[0],n))}function Cb(n,e,t,r,i,s,o,a,l){for(var u=0,f=0,m=o,p=0,y=0,v=0,w=1,E=1,k=1,T=0,S="",P=i,I=s,R=r,A=S;E;)switch(v=T,T=ps()){case 40:if(v!=108&&Wr(A,m-1)==58){mk(A+=Wt(Sb(T),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:A+=Sb(T);break;case 9:case 10:case 13:case 32:A+=Gue(v);break;case 92:A+=Yue(Tb()-1,7);continue;case 47:switch(ea()){case 42:case 47:F1(Que(Kue(ps(),Tb()),e,t),l);break;default:A+="/"}break;case 123*w:a[u++]=Xo(A)*k;case 125*w:case 59:case 0:switch(T){case 0:case 125:E=0;case 59+f:k==-1&&(A=Wt(A,/\f/g,"")),y>0&&Xo(A)-m&&F1(y>32?aI(A+";",r,t,m-1):aI(Wt(A," ","")+";",r,t,m-2),l);break;case 59:A+=";";default:if(F1(R=oI(A,e,t,u,f,i,a,S,P=[],I=[],m),s),T===123)if(f===0)Cb(A,e,R,R,P,s,m,a,I);else switch(p===99&&Wr(A,3)===110?100:p){case 100:case 108:case 109:case 115:Cb(n,R,R,r&&F1(oI(n,R,R,0,0,i,a,S,i,P=[],m),I),i,I,m,a,r?P:I);break;default:Cb(A,R,R,R,[""],I,0,a,I)}}u=f=y=0,w=k=1,S=A="",m=o;break;case 58:m=1+Xo(A),y=v;default:if(w<1){if(T==123)--w;else if(T==125&&w++==0&&que()==125)continue}switch(A+=Ww(T),T*w){case 38:k=f>0?1:(A+="\f",-1);break;case 44:a[u++]=(Xo(A)-1)*k,k=1;break;case 64:ea()===45&&(A+=Sb(ps())),p=ea(),f=m=Xo(S=A+=Xue(Tb())),T++;break;case 45:v===45&&Xo(A)==2&&(w=0)}}return s}function oI(n,e,t,r,i,s,o,a,l,u,f){for(var m=i-1,p=i===0?s:[""],y=zS(p),v=0,w=0,E=0;v<r;++v)for(var k=0,T=Xg(n,m+1,m=Uue(w=o[v])),S=n;k<y;++k)(S=SL(w>0?p[k]+" "+T:Wt(T,/&\f/g,p[k])))&&(l[E++]=S);return qw(n,e,t,i===0?VS:a,l,u,f)}function Que(n,e,t){return qw(n,e,t,kL,Ww(jue()),Xg(n,2,-2),0)}function aI(n,e,t,r){return qw(n,e,t,US,Xg(n,0,r),Xg(n,r+1,-1),r)}function Sf(n,e){for(var t="",r=zS(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function Zue(n,e,t,r){switch(n.type){case Vue:if(n.children.length)break;case Bue:case US:return n.return=n.return||n.value;case kL:return"";case TL:return n.return=n.value+"{"+Sf(n.children,r)+"}";case VS:n.value=n.props.join(",")}return Xo(t=Sf(n.children,r))?n.return=n.value+"{"+t+"}":""}function ede(n){var e=zS(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function tde(n){return function(e){e.root||(e=e.return)&&n(e)}}function PL(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var nde=function(e,t,r){for(var i=0,s=0;i=s,s=ea(),i===38&&s===12&&(t[r]=1),!Jg(s);)ps();return W0(e,Wi)},rde=function(e,t){var r=-1,i=44;do switch(Jg(i)){case 0:i===38&&ea()===12&&(t[r]=1),e[r]+=nde(Wi-1,t,r);break;case 2:e[r]+=Sb(i);break;case 4:if(i===44){e[++r]=ea()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Ww(i)}while(i=ps());return e},ide=function(e,t){return NL(rde(AL(e),t))},lI=new WeakMap,sde=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!lI.get(r))&&!i){lI.set(e,!0);for(var s=[],o=ide(t,s),a=r.props,l=0,u=0;l<o.length;l++)for(var f=0;f<a.length;f++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[f]):a[f]+" "+o[l]}}},ode=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function IL(n,e){switch(Hue(n,e)){case 5103:return $t+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $t+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return $t+n+xy+n+ri+n+n;case 6828:case 4268:return $t+n+ri+n+n;case 6165:return $t+n+ri+"flex-"+n+n;case 5187:return $t+n+Wt(n,/(\w+).+(:[^]+)/,$t+"box-$1$2"+ri+"flex-$1$2")+n;case 5443:return $t+n+ri+"flex-item-"+Wt(n,/flex-|-self/,"")+n;case 4675:return $t+n+ri+"flex-line-pack"+Wt(n,/align-content|flex-|-self/,"")+n;case 5548:return $t+n+ri+Wt(n,"shrink","negative")+n;case 5292:return $t+n+ri+Wt(n,"basis","preferred-size")+n;case 6060:return $t+"box-"+Wt(n,"-grow","")+$t+n+ri+Wt(n,"grow","positive")+n;case 4554:return $t+Wt(n,/([^-])(transform)/g,"$1"+$t+"$2")+n;case 6187:return Wt(Wt(Wt(n,/(zoom-|grab)/,$t+"$1"),/(image-set)/,$t+"$1"),n,"")+n;case 5495:case 3959:return Wt(n,/(image-set\([^]*)/,$t+"$1$`$1");case 4968:return Wt(Wt(n,/(.+:)(flex-)?(.*)/,$t+"box-pack:$3"+ri+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$t+n+n;case 4095:case 3583:case 4068:case 2532:return Wt(n,/(.+)-inline(.+)/,$t+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xo(n)-1-e>6)switch(Wr(n,e+1)){case 109:if(Wr(n,e+4)!==45)break;case 102:return Wt(n,/(.+:)(.+)-([^]+)/,"$1"+$t+"$2-$3$1"+xy+(Wr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~mk(n,"stretch")?IL(Wt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Wr(n,e+1)!==115)break;case 6444:switch(Wr(n,Xo(n)-3-(~mk(n,"!important")&&10))){case 107:return Wt(n,":",":"+$t)+n;case 101:return Wt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$t+(Wr(n,14)===45?"inline-":"")+"box$3$1"+$t+"$2$3$1"+ri+"$2box$3")+n}break;case 5936:switch(Wr(n,e+11)){case 114:return $t+n+ri+Wt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return $t+n+ri+Wt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return $t+n+ri+Wt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return $t+n+ri+n+n}return n}var ade=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case US:e.return=IL(e.value,e.length);break;case TL:return Sf([Cm(e,{value:Wt(e.value,"@","@"+$t)})],i);case VS:if(e.length)return Wue(e.props,function(s){switch($ue(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sf([Cm(e,{props:[Wt(s,/:(read-\w+)/,":"+xy+"$1")]})],i);case"::placeholder":return Sf([Cm(e,{props:[Wt(s,/:(plac\w+)/,":"+$t+"input-$1")]}),Cm(e,{props:[Wt(s,/:(plac\w+)/,":"+xy+"$1")]}),Cm(e,{props:[Wt(s,/:(plac\w+)/,ri+"input-$1")]})],i)}return""})}},lde=[ade],cde=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var E=w.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||lde,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(w){for(var E=w.getAttribute("data-emotion").split(" "),k=1;k<E.length;k++)s[E[k]]=!0;a.push(w)});var l,u=[sde,ode];{var f,m=[Zue,tde(function(w){f.insert(w)})],p=ede(u.concat(i,m)),y=function(E){return Sf(Jue(E),p)};l=function(E,k,T,S){f=T,y(E?E+"{"+k.styles+"}":k.styles),S&&(v.inserted[k.name]=!0)}}var v={key:t,sheet:new Lue({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},k2={exports:{}},Kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI;function ude(){if(cI)return Kt;cI=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,a=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,E=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function S(I){if(typeof I=="object"&&I!==null){var R=I.$$typeof;switch(R){case e:switch(I=I.type,I){case l:case u:case r:case s:case i:case m:return I;default:switch(I=I&&I.$$typeof,I){case a:case f:case v:case y:case o:return I;default:return R}}case t:return R}}}function P(I){return S(I)===u}return Kt.AsyncMode=l,Kt.ConcurrentMode=u,Kt.ContextConsumer=a,Kt.ContextProvider=o,Kt.Element=e,Kt.ForwardRef=f,Kt.Fragment=r,Kt.Lazy=v,Kt.Memo=y,Kt.Portal=t,Kt.Profiler=s,Kt.StrictMode=i,Kt.Suspense=m,Kt.isAsyncMode=function(I){return P(I)||S(I)===l},Kt.isConcurrentMode=P,Kt.isContextConsumer=function(I){return S(I)===a},Kt.isContextProvider=function(I){return S(I)===o},Kt.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},Kt.isForwardRef=function(I){return S(I)===f},Kt.isFragment=function(I){return S(I)===r},Kt.isLazy=function(I){return S(I)===v},Kt.isMemo=function(I){return S(I)===y},Kt.isPortal=function(I){return S(I)===t},Kt.isProfiler=function(I){return S(I)===s},Kt.isStrictMode=function(I){return S(I)===i},Kt.isSuspense=function(I){return S(I)===m},Kt.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===u||I===s||I===i||I===m||I===p||typeof I=="object"&&I!==null&&(I.$$typeof===v||I.$$typeof===y||I.$$typeof===o||I.$$typeof===a||I.$$typeof===f||I.$$typeof===E||I.$$typeof===k||I.$$typeof===T||I.$$typeof===w)},Kt.typeOf=S,Kt}var uI;function dde(){return uI||(uI=1,k2.exports=ude()),k2.exports}var T2,dI;function fde(){if(dI)return T2;dI=1;var n=dde(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function o(v){return n.isMemo(v)?i:s[v.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;function y(v,w,E){if(typeof w!="string"){if(p){var k=m(w);k&&k!==p&&y(v,k,E)}var T=l(w);u&&(T=T.concat(u(w)));for(var S=o(v),P=o(w),I=0;I<T.length;++I){var R=T[I];if(!t[R]&&!(E&&E[R])&&!(P&&P[R])&&!(S&&S[R])){var A=f(w,R);try{a(v,R,A)}catch{}}}}return v}return T2=y,T2}fde();var hde=!0;function RL(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var HS=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||hde===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},OL=function(e,t,r){HS(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function mde(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var gde={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pde=/[A-Z]|^ms/g,bde=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ML=function(e){return e.charCodeAt(1)===45},fI=function(e){return e!=null&&typeof e!="boolean"},S2=PL(function(n){return ML(n)?n:n.replace(pde,"-$&").toLowerCase()}),hI=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(bde,function(r,i,s){return Jo={name:i,styles:s,next:Jo},i})}return gde[e]!==1&&!ML(e)&&typeof t=="number"&&t!==0?t+"px":t};function Qg(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Jo={name:i.name,styles:i.styles,next:Jo},i.name;var s=t;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Jo={name:o.name,styles:o.styles,next:Jo},o=o.next;var a=s.styles+";";return a}return yde(n,e,t)}case"function":{if(n!==void 0){var l=Jo,u=t(n);return Jo=l,Qg(n,e,u)}break}}var f=t;if(e==null)return f;var m=e[f];return m!==void 0?m:f}function yde(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Qg(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":fI(a)&&(r+=S2(s)+":"+hI(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)fI(o[l])&&(r+=S2(s)+":"+hI(s,o[l])+";");else{var u=Qg(n,e,o);switch(s){case"animation":case"animationName":{r+=S2(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var mI=/label:\s*([^\s;{]+)\s*(;|$)/g,Jo;function Gw(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Jo=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Qg(t,e,s);else{var o=s;i+=o[0]}for(var a=1;a<n.length;a++)if(i+=Qg(t,e,n[a]),r){var l=s;i+=l[a]}mI.lastIndex=0;for(var u="",f;(f=mI.exec(i))!==null;)u+="-"+f[1];var m=mde(i)+u;return{name:m,styles:i,next:Jo}}var wde=function(e){return e()},vde=rN.useInsertionEffect?rN.useInsertionEffect:!1,DL=vde||wde,FL=O.createContext(typeof HTMLElement<"u"?cde({key:"css"}):null);FL.Provider;var LL=function(e){return O.forwardRef(function(t,r){var i=O.useContext(FL);return e(t,i,r)})},$S=O.createContext({}),WS={}.hasOwnProperty,pk="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",_de=function(e,t){var r={};for(var i in t)WS.call(t,i)&&(r[i]=t[i]);return r[pk]=e,r},xde=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return HS(t,r,i),DL(function(){return OL(t,r,i)}),null},Ede=LL(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[pk],s=[r],o="";typeof n.className=="string"?o=RL(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var a=Gw(s,void 0,O.useContext($S));o+=e.key+"-"+a.name;var l={};for(var u in n)WS.call(n,u)&&u!=="css"&&u!==pk&&(l[u]=n[u]);return l.className=o,t&&(l.ref=t),O.createElement(O.Fragment,null,O.createElement(xde,{cache:e,serialized:a,isStringTag:typeof i=="string"}),O.createElement(i,l))}),kde=Ede,gI=function(e,t){var r=arguments;if(t==null||!WS.call(t,"css"))return O.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=kde,s[1]=_de(e,t);for(var o=2;o<i;o++)s[o]=r[o];return O.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(gI||(gI={}));function jS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Gw(e)}function BL(){var n=jS.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Tde=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Sde=PL(function(n){return Tde.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Cde=Sde,Ade=function(e){return e!=="theme"},pI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Cde:Ade},bI=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Nde=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return HS(t,r,i),DL(function(){return OL(t,r,i)}),null},Pde=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=bI(e,t,r),l=a||pI(i),u=!l("as");return function(){var f=arguments,m=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&m.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)m.push.apply(m,f);else{var p=f[0];m.push(p[0]);for(var y=f.length,v=1;v<y;v++)m.push(f[v],p[v])}var w=LL(function(E,k,T){var S=u&&E.as||i,P="",I=[],R=E;if(E.theme==null){R={};for(var A in E)R[A]=E[A];R.theme=O.useContext($S)}typeof E.className=="string"?P=RL(k.registered,I,E.className):E.className!=null&&(P=E.className+" ");var F=Gw(m.concat(I),k.registered,R);P+=k.key+"-"+F.name,o!==void 0&&(P+=" "+o);var V=u&&a===void 0?pI(S):l,K={};for(var re in E)u&&re==="as"||V(re)&&(K[re]=E[re]);return K.className=P,T&&(K.ref=T),O.createElement(O.Fragment,null,O.createElement(Nde,{cache:k,serialized:F,isStringTag:typeof S=="string"}),O.createElement(S,K))});return w.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=m,w.__emotion_forwardProp=a,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(E,k){var T=n(E,hk({},t,k,{shouldForwardProp:bI(w,k,!0)}));return T.apply(void 0,m)},w}},Ide=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bk=Pde.bind(null);Ide.forEach(function(n){bk[n]=bk(n)});var C2={exports:{}},Am={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function Rde(){if(yI)return Am;yI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Am.Fragment=e,Am.jsx=t,Am.jsxs=t,Am}var wI;function Ode(){return wI||(wI=1,C2.exports=Rde()),C2.exports}var ta=Ode();function VL(n,e){return bk(n,e)}function Mde(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const vI=[];function mu(n){return vI[0]=n,Gw(vI)}var A2={exports:{}},hn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function Dde(){if(_I)return hn;_I=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function v(w){if(typeof w=="object"&&w!==null){var E=w.$$typeof;switch(E){case n:switch(w=w.type,w){case t:case i:case r:case l:case u:case p:return w;default:switch(w=w&&w.$$typeof,w){case o:case a:case m:case f:return w;case s:return w;default:return E}}case e:return E}}}return hn.ContextConsumer=s,hn.ContextProvider=o,hn.Element=n,hn.ForwardRef=a,hn.Fragment=t,hn.Lazy=m,hn.Memo=f,hn.Portal=e,hn.Profiler=i,hn.StrictMode=r,hn.Suspense=l,hn.SuspenseList=u,hn.isContextConsumer=function(w){return v(w)===s},hn.isContextProvider=function(w){return v(w)===o},hn.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===n},hn.isForwardRef=function(w){return v(w)===a},hn.isFragment=function(w){return v(w)===t},hn.isLazy=function(w){return v(w)===m},hn.isMemo=function(w){return v(w)===f},hn.isPortal=function(w){return v(w)===e},hn.isProfiler=function(w){return v(w)===i},hn.isStrictMode=function(w){return v(w)===r},hn.isSuspense=function(w){return v(w)===l},hn.isSuspenseList=function(w){return v(w)===u},hn.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===t||w===i||w===r||w===l||w===u||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===f||w.$$typeof===o||w.$$typeof===s||w.$$typeof===a||w.$$typeof===y||w.getModuleId!==void 0)},hn.typeOf=v,hn}var xI;function Fde(){return xI||(xI=1,A2.exports=Dde()),A2.exports}var UL=Fde();function Zo(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function zL(n){if(O.isValidElement(n)||UL.isValidElementType(n)||!Zo(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=zL(n[t])}),e}function vi(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Zo(n)&&Zo(e)&&Object.keys(e).forEach(i=>{O.isValidElement(e[i])||UL.isValidElementType(e[i])?r[i]=e[i]:Zo(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Zo(n[i])?r[i]=vi(n[i],e[i],t):t.clone?r[i]=Zo(e[i])?zL(e[i]):e[i]:r[i]=e[i]}),r}const Lde=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function Bde(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=Lde(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${t})`}function u(p,y){const v=o.indexOf(y);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:y)-r/100}${t})`}function f(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):a(p)}function m(p){const y=o.indexOf(p);return y===0?a(o[1]):y===o.length-1?l(o[y]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:f,not:m,unit:t,...i}}function EI(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const s=/min-width:\s*([0-9.]+)/;return+(r.match(s)?.[1]||0)-+(i.match(s)?.[1]||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function Vde(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Ude(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function zde(n){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function t(s,o){s.up=(...a)=>e(n.breakpoints.up(...a),o),s.down=(...a)=>e(n.breakpoints.down(...a),o),s.between=(...a)=>e(n.breakpoints.between(...a),o),s.only=(...a)=>e(n.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(n.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const Hde={borderRadius:4};function mg(n,e){return e?vi(n,e,{clone:!1}):n}const Yw={xs:0,sm:600,md:900,lg:1200,xl:1536},kI={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Yw[n]}px)`},$de={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Yw[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function To(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||kI;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||kI;return Object.keys(e).reduce((o,a)=>{if(Vde(s.keys,a)){const l=Ude(r.containerQueries?r:$de,a);l&&(o[l]=t(e[a],a))}else if(Object.keys(s.values||Yw).includes(a)){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function HL(n={}){return n.keys?.reduce((t,r)=>{const i=n.up(r);return t[i]={},t},{})||{}}function yk(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Wde(n,...e){const t=HL(n),r=[t,...e].reduce((i,s)=>vi(i,s),{});return yk(Object.keys(t),r)}function jde(n,e){if(typeof n!="object")return{};const t={},r=Object.keys(e);return Array.isArray(n)?r.forEach((i,s)=>{s<n.length&&(t[i]=!0)}):r.forEach(i=>{n[i]!=null&&(t[i]=!0)}),t}function N2({values:n,breakpoints:e,base:t}){const r=t||jde(n,e),i=Object.keys(r);if(i.length===0)return n;let s;return i.reduce((o,a,l)=>(Array.isArray(n)?(o[a]=n[l]!=null?n[l]:n[s],s=l):typeof n=="object"?(o[a]=n[a]!=null?n[a]:n[s],s=a):o[a]=n,o),{})}function vs(n){if(typeof n!="string")throw new Error(ku(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Kw(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Ey(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Kw(n,t)||r,e&&(i=e(i,r,n)),i}function ir(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Kw(l,r)||{};return To(o,a,m=>{let p=Ey(u,i,m);return m===p&&typeof m=="string"&&(p=Ey(u,i,`${e}${m==="default"?"":vs(m)}`,m)),t===!1?p:{[t]:p}})};return s.propTypes={},s.filterProps=[e],s}function qde(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Gde={m:"margin",p:"padding"},Yde={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Kde=qde(n=>{if(n.length>2)if(TI[n])n=TI[n];else return[n];const[e,t]=n.split(""),r=Gde[e],i=Yde[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),qS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],GS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qS,...GS];function j0(n,e,t,r){const i=Kw(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function Xw(n){return j0(n,"spacing",8)}function Tu(n,e){return typeof e=="string"||e==null?e:n(e)}function Xde(n,e){return t=>n.reduce((r,i)=>(r[i]=Tu(e,t),r),{})}function Jde(n,e,t,r){if(!e.includes(t))return null;const i=Kde(t),s=Xde(i,r),o=n[t];return To(n,o,s)}function $L(n,e){const t=Xw(n.theme);return Object.keys(n).map(r=>Jde(n,e,r,t)).reduce(mg,{})}function Wn(n){return $L(n,qS)}Wn.propTypes={};Wn.filterProps=qS;function jn(n){return $L(n,GS)}jn.propTypes={};jn.filterProps=GS;function WL(n=8,e=Xw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function Jw(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?mg(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Us(n){return typeof n!="number"?n:`${n}px solid`}function Js(n,e){return ir({prop:n,themeKey:"borders",transform:e})}const Qde=Js("border",Us),Zde=Js("borderTop",Us),efe=Js("borderRight",Us),tfe=Js("borderBottom",Us),nfe=Js("borderLeft",Us),rfe=Js("borderColor"),ife=Js("borderTopColor"),sfe=Js("borderRightColor"),ofe=Js("borderBottomColor"),afe=Js("borderLeftColor"),lfe=Js("outline",Us),cfe=Js("outlineColor"),Qw=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=j0(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Tu(e,r)});return To(n,n.borderRadius,t)}return null};Qw.propTypes={};Qw.filterProps=["borderRadius"];Jw(Qde,Zde,efe,tfe,nfe,rfe,ife,sfe,ofe,afe,Qw,lfe,cfe);const Zw=n=>{if(n.gap!==void 0&&n.gap!==null){const e=j0(n.theme,"spacing",8),t=r=>({gap:Tu(e,r)});return To(n,n.gap,t)}return null};Zw.propTypes={};Zw.filterProps=["gap"];const ev=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=j0(n.theme,"spacing",8),t=r=>({columnGap:Tu(e,r)});return To(n,n.columnGap,t)}return null};ev.propTypes={};ev.filterProps=["columnGap"];const tv=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=j0(n.theme,"spacing",8),t=r=>({rowGap:Tu(e,r)});return To(n,n.rowGap,t)}return null};tv.propTypes={};tv.filterProps=["rowGap"];const ufe=ir({prop:"gridColumn"}),dfe=ir({prop:"gridRow"}),ffe=ir({prop:"gridAutoFlow"}),hfe=ir({prop:"gridAutoColumns"}),mfe=ir({prop:"gridAutoRows"}),gfe=ir({prop:"gridTemplateColumns"}),pfe=ir({prop:"gridTemplateRows"}),bfe=ir({prop:"gridTemplateAreas"}),yfe=ir({prop:"gridArea"});Jw(Zw,ev,tv,ufe,dfe,ffe,hfe,mfe,gfe,pfe,bfe,yfe);function Cf(n,e){return e==="grey"?e:n}const wfe=ir({prop:"color",themeKey:"palette",transform:Cf}),vfe=ir({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Cf}),_fe=ir({prop:"backgroundColor",themeKey:"palette",transform:Cf});Jw(wfe,vfe,_fe);function ds(n){return n<=1&&n!==0?`${n*100}%`:n}const xfe=ir({prop:"width",transform:ds}),YS=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const r=n.theme?.breakpoints?.values?.[t]||Yw[t];return r?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:ds(t)}};return To(n,n.maxWidth,e)}return null};YS.filterProps=["maxWidth"];const Efe=ir({prop:"minWidth",transform:ds}),kfe=ir({prop:"height",transform:ds}),Tfe=ir({prop:"maxHeight",transform:ds}),Sfe=ir({prop:"minHeight",transform:ds});ir({prop:"size",cssProperty:"width",transform:ds});ir({prop:"size",cssProperty:"height",transform:ds});const Cfe=ir({prop:"boxSizing"});Jw(xfe,YS,Efe,kfe,Tfe,Sfe,Cfe);const q0={border:{themeKey:"borders",transform:Us},borderTop:{themeKey:"borders",transform:Us},borderRight:{themeKey:"borders",transform:Us},borderBottom:{themeKey:"borders",transform:Us},borderLeft:{themeKey:"borders",transform:Us},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Us},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Qw},color:{themeKey:"palette",transform:Cf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Cf},backgroundColor:{themeKey:"palette",transform:Cf},p:{style:jn},pt:{style:jn},pr:{style:jn},pb:{style:jn},pl:{style:jn},px:{style:jn},py:{style:jn},padding:{style:jn},paddingTop:{style:jn},paddingRight:{style:jn},paddingBottom:{style:jn},paddingLeft:{style:jn},paddingX:{style:jn},paddingY:{style:jn},paddingInline:{style:jn},paddingInlineStart:{style:jn},paddingInlineEnd:{style:jn},paddingBlock:{style:jn},paddingBlockStart:{style:jn},paddingBlockEnd:{style:jn},m:{style:Wn},mt:{style:Wn},mr:{style:Wn},mb:{style:Wn},ml:{style:Wn},mx:{style:Wn},my:{style:Wn},margin:{style:Wn},marginTop:{style:Wn},marginRight:{style:Wn},marginBottom:{style:Wn},marginLeft:{style:Wn},marginX:{style:Wn},marginY:{style:Wn},marginInline:{style:Wn},marginInlineStart:{style:Wn},marginInlineEnd:{style:Wn},marginBlock:{style:Wn},marginBlockStart:{style:Wn},marginBlockEnd:{style:Wn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Zw},rowGap:{style:tv},columnGap:{style:ev},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ds},maxWidth:{style:YS},minWidth:{transform:ds},height:{transform:ds},maxHeight:{transform:ds},minHeight:{transform:ds},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Afe(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function Nfe(n,e){return typeof n=="function"?n(e):n}function Pfe(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:u,transform:f,style:m}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[t]:r};const p=Kw(i,u)||{};return m?m(o):To(o,r,v=>{let w=Ey(p,f,v);return v===w&&typeof v=="string"&&(w=Ey(p,f,`${t}${v==="default"?"":vs(v)}`,v)),l===!1?w:{[l]:w}})}function e(t){const{sx:r,theme:i={},nested:s}=t||{};if(!r)return null;const o=i.unstable_sxConfig??q0;function a(l){let u=l;if(typeof l=="function")u=l(i);else if(typeof l!="object")return l;if(!u)return null;const f=HL(i.breakpoints),m=Object.keys(f);let p=f;return Object.keys(u).forEach(y=>{const v=Nfe(u[y],i);if(v!=null)if(typeof v=="object")if(o[y])p=mg(p,n(y,v,i,o));else{const w=To({theme:i},v,E=>({[y]:E}));Afe(w,v)?p[y]=e({sx:v,theme:i,nested:!0}):p=mg(p,w)}else p=mg(p,n(y,v,i,o))}),!s&&i.modularCssLayers?{"@layer sx":EI(i,yk(m,p))}:EI(i,yk(m,p))}return Array.isArray(r)?r.map(a):a(r)}return e}const Su=Pfe();Su.filterProps=["sx"];function Ife(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function nv(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...o}=n,a=Bde(t),l=WL(i);let u=vi({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Hde,...s}},o);return u=zde(u),u.applyStyles=Ife,u=e.reduce((f,m)=>vi(f,m),u),u.unstable_sxConfig={...q0,...o?.unstable_sxConfig},u.unstable_sx=function(m){return Su({sx:m,theme:this})},u}function Rfe(n){return Object.keys(n).length===0}function Ofe(n=null){const e=O.useContext($S);return!e||Rfe(e)?n:e}const Mfe=nv();function jL(n=Mfe){return Ofe(n)}const Dfe=n=>{const e={systemProps:{},otherProps:{}},t=n?.theme?.unstable_sxConfig??q0;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function KS(n){const{sx:e,...t}=n,{systemProps:r,otherProps:i}=Dfe(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Zo(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}const SI=n=>n,Ffe=()=>{let n=SI;return{configure(e){n=e},generate(e){return n(e)},reset(){n=SI}}},qL=Ffe();function Lfe(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=VL("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Su);return O.forwardRef(function(l,u){const f=jL(t),{className:m,component:p="div",...y}=KS(l);return ta.jsx(s,{as:p,ref:u,className:Bi(m,i?i(r):r),theme:e&&f[e]||f,...y})})}const Bfe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mh(n,e,t="Mui"){const r=Bfe[e];return r?`${t}-${r}`:`${qL.generate(n)}-${e}`}function G0(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=mh(n,i,t)}),r}function GL(n){const{variants:e,...t}=n,r={variants:e,style:mu(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=mu(i.style))}),r}const Vfe=nv();function P2(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function ou(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function Ufe(n){return n?(e,t)=>t[n]:null}function zfe(n,e,t){n.theme=$fe(n.theme)?t:n.theme[e]||n.theme}function Ab(n,e,t){const r=typeof e=="function"?e(n):e;if(Array.isArray(r))return r.flatMap(i=>Ab(n,i,t));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=t?ou(r.style,t):r.style;else{const{variants:s,...o}=r;i=t?ou(mu(o),t):o}return YL(n,r.variants,[i],t)}return r?.isProcessed?t?ou(mu(r.style),t):r.style:t?ou(mu(r),t):r}function YL(n,e,t=[],r=void 0){let i;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(i??={...n,...n.ownerState,ownerState:n.ownerState},!o.props(i))continue}else for(const a in o.props)if(n[a]!==o.props[a]&&n.ownerState?.[a]!==o.props[a])continue e;typeof o.style=="function"?(i??={...n,...n.ownerState,ownerState:n.ownerState},t.push(r?ou(mu(o.style(i)),r):o.style(i))):t.push(r?ou(mu(o.style),r):o.style)}return t}function KL(n={}){const{themeId:e,defaultTheme:t=Vfe,rootShouldForwardProp:r=P2,slotShouldForwardProp:i=P2}=n;function s(a){zfe(a,e,t)}return(a,l={})=>{Mde(a,R=>R.filter(A=>A!==Su));const{name:u,slot:f,skipVariantsResolver:m,skipSx:p,overridesResolver:y=Ufe(jfe(f)),...v}=l,w=u&&u.startsWith("Mui")||f?"components":"custom",E=m!==void 0?m:f&&f!=="Root"&&f!=="root"||!1,k=p||!1;let T=P2;f==="Root"||f==="root"?T=r:f?T=i:Wfe(a)&&(T=void 0);const S=VL(a,{shouldForwardProp:T,label:Hfe(),...v}),P=R=>{if(R.__emotion_real===R)return R;if(typeof R=="function")return function(F){return Ab(F,R,F.theme.modularCssLayers?w:void 0)};if(Zo(R)){const A=GL(R);return function(V){return A.variants?Ab(V,A,V.theme.modularCssLayers?w:void 0):V.theme.modularCssLayers?ou(A.style,w):A.style}}return R},I=(...R)=>{const A=[],F=R.map(P),V=[];if(A.push(s),u&&y&&V.push(function(te){const Ee=te.theme.components?.[u]?.styleOverrides;if(!Ee)return null;const ne={};for(const ke in Ee)ne[ke]=Ab(te,Ee[ke],te.theme.modularCssLayers?"theme":void 0);return y(te,ne)}),u&&!E&&V.push(function(te){const Ee=te.theme?.components?.[u]?.variants;return Ee?YL(te,Ee,[],te.theme.modularCssLayers?"theme":void 0):null}),k||V.push(Su),Array.isArray(F[0])){const N=F.shift(),te=new Array(A.length).fill(""),ye=new Array(V.length).fill("");let Ee;Ee=[...te,...N,...ye],Ee.raw=[...te,...N.raw,...ye],A.unshift(Ee)}const K=[...A,...F,...V],re=S(...K);return a.muiName&&(re.muiName=a.muiName),re};return S.withConfig&&(I.withConfig=S.withConfig),I}}function Hfe(n,e){return void 0}function $fe(n){for(const e in n)return!1;return!0}function Wfe(n){return typeof n=="string"&&n.charCodeAt(0)>96}function jfe(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const qfe=KL();function ky(n,e,t=!1){const r={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")r[s]={...n[s],...r[s]};else if(s==="componentsProps"||s==="slotProps"){const o=n[s],a=e[s];if(!a)r[s]=o||{};else if(!o)r[s]=a;else{r[s]={...a};for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=l;r[s][u]=ky(o[u],a[u],t)}}}else s==="className"&&t&&e.className?r.className=Bi(n?.className,e?.className):s==="style"&&t&&e.style?r.style={...n?.style,...e?.style}:r[s]===void 0&&(r[s]=n[s])}return r}function Gfe(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:ky(e.components[t].defaultProps,r)}function Yfe({props:n,name:e,defaultTheme:t,themeId:r}){let i=jL(t);return r&&(i=i[r]||i),Gfe({theme:i,name:e,props:n})}function Kfe(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function XS(n,e=0,t=1){return Kfe(n,e,t)}function Xfe(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function lc(n){if(n.type)return n;if(n.charAt(0)==="#")return lc(Xfe(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ku(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ku(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const Jfe=n=>{const e=lc(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Gm=(n,e)=>{try{return Jfe(n)}catch{return n}};function rv(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function XL(n){n=lc(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,f=(u+t/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),rv({type:a,values:l})}function wk(n){n=lc(n);let e=n.type==="hsl"||n.type==="hsla"?lc(XL(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Qfe(n,e){const t=wk(n),r=wk(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function JL(n,e){return n=lc(n),e=XS(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,rv(n)}function zc(n,e,t){try{return JL(n,e)}catch{return n}}function iv(n,e){if(n=lc(n),e=XS(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return rv(n)}function Zt(n,e,t){try{return iv(n,e)}catch{return n}}function sv(n,e){if(n=lc(n),e=XS(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return rv(n)}function en(n,e,t){try{return sv(n,e)}catch{return n}}function Zfe(n,e=.15){return wk(n)>.5?iv(n,e):sv(n,e)}function L1(n,e,t){try{return Zfe(n,e)}catch{return n}}const ehe=O.createContext(void 0);function the(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?ky(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?ky(i,r,e.components.mergeClassNameAndStyle):r}function nhe({props:n,name:e}){const t=O.useContext(ehe);return the({props:n,name:e,theme:{components:t}})}const CI={theme:void 0};function rhe(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(CI.theme=i.theme,s=GL(n(CI)),e=s,t=i.theme),s}}function ihe(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const AI=(n,e,t,r=[])=>{let i=n;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},she=(n,e,t)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!t||t&&!t([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(n)},ohe=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function I2(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return she(n,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const f=`--${t?`${t}-`:""}${a.join("-")}`,m=ohe(a,l);Object.assign(i,{[f]:m}),AI(s,a,`var(${f})`,u),AI(o,a,`var(${f}, ${m})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function ahe(n,e={}){const{getSelector:t=k,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:s}=e,{colorSchemes:o={},components:a,defaultColorScheme:l="light",...u}=n,{vars:f,css:m,varsWithDefaults:p}=I2(u,e);let y=p;const v={},{[l]:w,...E}=o;if(Object.entries(E||{}).forEach(([P,I])=>{const{vars:R,css:A,varsWithDefaults:F}=I2(I,e);y=vi(y,F),v[P]={css:A,vars:R}}),w){const{css:P,vars:I,varsWithDefaults:R}=I2(w,e);y=vi(y,R),v[l]={css:P,vars:I}}function k(P,I){let R=i;if(i==="class"&&(R=".%s"),i==="data"&&(R="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(R=`[${i}="%s"]`),P){if(R==="media")return n.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${o[P]?.palette?.mode||P})`]:{":root":I}};if(R)return n.defaultColorScheme===P?`:root, ${R.replace("%s",String(P))}`:R.replace("%s",String(P))}return":root"}return{vars:y,generateThemeVars:()=>{let P={...f};return Object.entries(v).forEach(([,{vars:I}])=>{P=vi(P,I)}),P},generateStyleSheets:()=>{const P=[],I=n.defaultColorScheme||"light";function R(V,K){Object.keys(K).length&&P.push(typeof V=="string"?{[V]:{...K}}:V)}R(t(void 0,{...m}),m);const{[I]:A,...F}=v;if(A){const{css:V}=A,K=o[I]?.palette?.mode,re=!r&&K?{colorScheme:K,...V}:{...V};R(t(I,{...re}),re)}return Object.entries(F).forEach(([V,{css:K}])=>{const re=o[V]?.palette?.mode,N=!r&&re?{colorScheme:re,...K}:{...K};R(t(V,{...N}),N)}),s&&P.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),P}}}function lhe(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Y0(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,t&&t[u]&&(o+=" "+t[u]))}r[i]=o}return r}function R2(n,e){return O.isValidElement(n)&&e.indexOf(n.type.muiName??n.type?._payload?.value?.muiName)!==-1}const che=nv(),uhe=qfe("div",{name:"MuiStack",slot:"Root"});function dhe(n){return Yfe({props:n,name:"MuiStack",defaultTheme:che})}function fhe(n,e){const t=O.Children.toArray(n).filter(Boolean);return t.reduce((r,i,s)=>(r.push(i),s<t.length-1&&r.push(O.cloneElement(e,{key:`separator-${s}`})),r),[])}const hhe=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],mhe=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...To({theme:e},N2({values:n.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(n.spacing){const r=Xw(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof n.spacing=="object"&&n.spacing[u]!=null||typeof n.direction=="object"&&n.direction[u]!=null)&&(l[u]=!0),l),{}),s=N2({values:n.direction,base:i}),o=N2({values:n.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,u,f)=>{if(!s[l]){const p=u>0?s[f[u-1]]:"column";s[l]=p}}),t=vi(t,To({theme:e},o,(l,u)=>n.useFlexGap?{gap:Tu(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${hhe(u?s[u]:n.direction)}`]:Tu(r,l)}}))}return t=Wde(e.breakpoints,t),t};function ghe(n={}){const{createStyledComponent:e=uhe,useThemeProps:t=dhe,componentName:r="MuiStack"}=n,i=()=>Y0({root:["root"]},l=>mh(r,l),{}),s=e(mhe);return O.forwardRef(function(l,u){const f=t(l),m=KS(f),{component:p="div",direction:y="column",spacing:v=0,divider:w,children:E,className:k,useFlexGap:T=!1,...S}=m,P={direction:y,spacing:v,useFlexGap:T},I=i();return ta.jsx(s,{as:p,ownerState:P,ref:u,className:Bi(I.root,k),...S,children:w?fhe(E,w):E})})}function QL(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Kg.white,default:Kg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const ZL=QL();function eB(){return{text:{primary:Kg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Kg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const vk=eB();function NI(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=sv(n.main,i):e==="dark"&&(n.dark=iv(n.main,s)))}function PI(n,e,t,r,i){const s=i.light||i,o=i.dark||i*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(o*100).toFixed(0)}%)`))}function phe(n="light"){return n==="dark"?{main:Vd[200],light:Vd[50],dark:Vd[400]}:{main:Vd[700],light:Vd[400],dark:Vd[800]}}function bhe(n="light"){return n==="dark"?{main:Bd[200],light:Bd[50],dark:Bd[400]}:{main:Bd[500],light:Bd[300],dark:Bd[700]}}function yhe(n="light"){return n==="dark"?{main:Ld[500],light:Ld[300],dark:Ld[700]}:{main:Ld[700],light:Ld[400],dark:Ld[800]}}function whe(n="light"){return n==="dark"?{main:Ud[400],light:Ud[300],dark:Ud[700]}:{main:Ud[700],light:Ud[500],dark:Ud[900]}}function vhe(n="light"){return n==="dark"?{main:zd[400],light:zd[300],dark:zd[700]}:{main:zd[800],light:zd[500],dark:zd[900]}}function _he(n="light"){return n==="dark"?{main:Sm[400],light:Sm[300],dark:Sm[700]}:{main:"#ed6c02",light:Sm[500],dark:Sm[900]}}function xhe(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function JS(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,colorSpace:i,...s}=n,o=n.primary||phe(e),a=n.secondary||bhe(e),l=n.error||yhe(e),u=n.info||whe(e),f=n.success||vhe(e),m=n.warning||_he(e);function p(E){return i?xhe(E):Qfe(E,vk.text.primary)>=t?vk.text.primary:ZL.text.primary}const y=({color:E,name:k,mainShade:T=500,lightShade:S=300,darkShade:P=700})=>{if(E={...E},!E.main&&E[T]&&(E.main=E[T]),!E.hasOwnProperty("main"))throw new Error(ku(11,k?` (${k})`:"",T));if(typeof E.main!="string")throw new Error(ku(12,k?` (${k})`:"",JSON.stringify(E.main)));return i?(PI(i,E,"light",S,r),PI(i,E,"dark",P,r)):(NI(E,"light",S,r),NI(E,"dark",P,r)),E.contrastText||(E.contrastText=p(E.main)),E};let v;return e==="light"?v=QL():e==="dark"&&(v=eB()),vi({common:{...Kg},mode:e,primary:y({color:o,name:"primary"}),secondary:y({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:m,name:"warning"}),info:y({color:u,name:"info"}),success:y({color:f,name:"success"}),grey:Mue,contrastThreshold:t,getContrastText:p,augmentColor:y,tonalOffset:r,...v},s)}function Ehe(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function khe(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function The(n){return Math.round(n*1e5)/1e5}const II={textTransform:"uppercase"},RI='"Roboto", "Helvetica", "Arial", sans-serif';function She(n,e){const{fontFamily:t=RI,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:f,...m}=typeof e=="function"?e(n):e,p=r/14,y=f||(E=>`${E/l*p}rem`),v=(E,k,T,S,P)=>({fontFamily:t,fontWeight:E,fontSize:y(k),lineHeight:T,...t===RI?{letterSpacing:`${The(S/k)}em`}:{},...P,...u}),w={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(o,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(o,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(o,14,1.75,.4,II),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,II),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vi({htmlFontSize:l,pxToRem:y,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...w},m,{clone:!1})}const Che=.2,Ahe=.14,Nhe=.12;function Rn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Che})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Ahe})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Nhe})`].join(",")}const Phe=["none",Rn(0,2,1,-1,0,1,1,0,0,1,3,0),Rn(0,3,1,-2,0,2,2,0,0,1,5,0),Rn(0,3,3,-2,0,3,4,0,0,1,8,0),Rn(0,2,4,-1,0,4,5,0,0,1,10,0),Rn(0,3,5,-1,0,5,8,0,0,1,14,0),Rn(0,3,5,-1,0,6,10,0,0,1,18,0),Rn(0,4,5,-2,0,7,10,1,0,2,16,1),Rn(0,5,5,-3,0,8,10,1,0,3,14,2),Rn(0,5,6,-3,0,9,12,1,0,3,16,2),Rn(0,6,6,-3,0,10,14,1,0,4,18,3),Rn(0,6,7,-4,0,11,15,1,0,4,20,3),Rn(0,7,8,-4,0,12,17,2,0,5,22,4),Rn(0,7,8,-4,0,13,19,2,0,5,24,4),Rn(0,7,9,-4,0,14,21,2,0,5,26,4),Rn(0,8,9,-5,0,15,22,2,0,6,28,5),Rn(0,8,10,-5,0,16,24,2,0,6,30,5),Rn(0,8,11,-5,0,17,26,2,0,6,32,5),Rn(0,9,11,-5,0,18,28,2,0,7,34,6),Rn(0,9,12,-6,0,19,29,2,0,7,36,6),Rn(0,10,13,-6,0,20,31,3,0,8,38,7),Rn(0,10,13,-6,0,21,33,3,0,8,40,7),Rn(0,10,14,-6,0,22,35,3,0,8,42,7),Rn(0,11,14,-7,0,23,36,3,0,9,44,8),Rn(0,11,15,-7,0,24,38,3,0,9,46,8)],Ihe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Rhe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function OI(n){return`${Math.round(n)}ms`}function Ohe(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Mhe(n){const e={...Ihe,...n.easing},t={...Rhe,...n.duration};return{getAutoHeightDuration:Ohe,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(f=>`${f} ${typeof o=="string"?o:OI(o)} ${a} ${typeof l=="string"?l:OI(l)}`).join(",")},...n,easing:e,duration:t}}const Dhe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Fhe(n){return Zo(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function tB(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!Fhe(a)||o.startsWith("unstable_")?delete r[o]:Zo(a)&&(r[o]={...a},t(r[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function MI(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const Lhe=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let r=0;r<e.length;r+=1)t+=+e[r];return t};function Bhe(n){Object.assign(n,{alpha(e,t){const r=this||n;return r.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:JL(e,Lhe(t))},lighten(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${MI(t)})`:sv(e,t)},darken(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${MI(t)})`:iv(e,t)}})}function _k(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,colorSpace:u,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(ku(20));const m=JS({...s,colorSpace:u}),p=nv(n);let y=vi(p,{mixins:khe(p.breakpoints,r),palette:m,shadows:Phe.slice(),typography:She(m,a),transitions:Mhe(o),zIndex:{...Dhe}});return y=vi(y,f),y=e.reduce((v,w)=>vi(v,w),y),y.unstable_sxConfig={...q0,...f?.unstable_sxConfig},y.unstable_sx=function(w){return Su({sx:w,theme:this})},y.toRuntimeSource=tB,Bhe(y),y}function Vhe(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const Uhe=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=Vhe(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function nB(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function rB(n){return n==="dark"?Uhe:[]}function zhe(n){const{palette:e={mode:"light"},opacity:t,overlays:r,colorSpace:i,...s}=n,o=JS({...e,colorSpace:i});return{palette:o,opacity:{...nB(o.mode),...t},overlays:r||rB(o.mode),...s}}function Hhe(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const $he=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Whe=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return $he(n.cssVarPrefix).forEach(a=>{o[a]=t[a],delete t[a]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function jhe(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Te(n,e,t){!n[e]&&t&&(n[e]=t)}function Ym(n){return typeof n!="string"||!n.startsWith("hsl")?n:XL(n)}function Fa(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Gm(Ym(n[e])))}function qhe(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const $o=n=>{try{return n()}catch{}},Ghe=(n="mui")=>ihe(n);function O2(n,e,t,r,i){if(!t)return;t=t===!0?{}:t;const s=i==="dark"?"dark":"light";if(!r){e[i]=zhe({...t,palette:{mode:s,...t?.palette},colorSpace:n});return}const{palette:o,...a}=_k({...r,palette:{mode:s,...t?.palette},colorSpace:n});return e[i]={...t,palette:o,opacity:{...nB(s),...t?.opacity},overlays:t?.overlays||rB(s)},a}function Yhe(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",nativeColor:o=!1,shouldSkipGeneratingVar:a=Hhe,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...f}=n,m=Object.keys(t)[0],p=r||(t.light&&m!=="light"?"light":m),y=Ghe(s),{[p]:v,light:w,dark:E,...k}=t,T={...k};let S=v;if((p==="dark"&&!("dark"in t)||p==="light"&&!("light"in t))&&(S=!0),!S)throw new Error(ku(21,p));let P;o&&(P="oklch");const I=O2(P,T,S,f,p);w&&!T.light&&O2(P,T,w,void 0,"light"),E&&!T.dark&&O2(P,T,E,void 0,"dark");let R={defaultColorScheme:p,...I,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:u,getCssVar:y,colorSchemes:T,font:{...Ehe(I.typography),...I.font},spacing:qhe(f.spacing)};Object.keys(R.colorSchemes).forEach(re=>{const N=R.colorSchemes[re].palette,te=Ee=>{const ne=Ee.split("-"),ke=ne[1],We=ne[2];return y(Ee,N[ke][We])};N.mode==="light"&&(Te(N.common,"background","#fff"),Te(N.common,"onBackground","#000")),N.mode==="dark"&&(Te(N.common,"background","#000"),Te(N.common,"onBackground","#fff"));function ye(Ee,ne,ke){if(P){let We;return Ee===zc&&(We=`transparent ${((1-ke)*100).toFixed(0)}%`),Ee===Zt&&(We=`#000 ${(ke*100).toFixed(0)}%`),Ee===en&&(We=`#fff ${(ke*100).toFixed(0)}%`),`color-mix(in ${P}, ${ne}, ${We})`}return Ee(ne,ke)}if(jhe(N,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),N.mode==="light"){Te(N.Alert,"errorColor",ye(Zt,N.error.light,.6)),Te(N.Alert,"infoColor",ye(Zt,N.info.light,.6)),Te(N.Alert,"successColor",ye(Zt,N.success.light,.6)),Te(N.Alert,"warningColor",ye(Zt,N.warning.light,.6)),Te(N.Alert,"errorFilledBg",te("palette-error-main")),Te(N.Alert,"infoFilledBg",te("palette-info-main")),Te(N.Alert,"successFilledBg",te("palette-success-main")),Te(N.Alert,"warningFilledBg",te("palette-warning-main")),Te(N.Alert,"errorFilledColor",$o(()=>N.getContrastText(N.error.main))),Te(N.Alert,"infoFilledColor",$o(()=>N.getContrastText(N.info.main))),Te(N.Alert,"successFilledColor",$o(()=>N.getContrastText(N.success.main))),Te(N.Alert,"warningFilledColor",$o(()=>N.getContrastText(N.warning.main))),Te(N.Alert,"errorStandardBg",ye(en,N.error.light,.9)),Te(N.Alert,"infoStandardBg",ye(en,N.info.light,.9)),Te(N.Alert,"successStandardBg",ye(en,N.success.light,.9)),Te(N.Alert,"warningStandardBg",ye(en,N.warning.light,.9)),Te(N.Alert,"errorIconColor",te("palette-error-main")),Te(N.Alert,"infoIconColor",te("palette-info-main")),Te(N.Alert,"successIconColor",te("palette-success-main")),Te(N.Alert,"warningIconColor",te("palette-warning-main")),Te(N.AppBar,"defaultBg",te("palette-grey-100")),Te(N.Avatar,"defaultBg",te("palette-grey-400")),Te(N.Button,"inheritContainedBg",te("palette-grey-300")),Te(N.Button,"inheritContainedHoverBg",te("palette-grey-A100")),Te(N.Chip,"defaultBorder",te("palette-grey-400")),Te(N.Chip,"defaultAvatarColor",te("palette-grey-700")),Te(N.Chip,"defaultIconColor",te("palette-grey-700")),Te(N.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Te(N.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Te(N.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Te(N.LinearProgress,"primaryBg",ye(en,N.primary.main,.62)),Te(N.LinearProgress,"secondaryBg",ye(en,N.secondary.main,.62)),Te(N.LinearProgress,"errorBg",ye(en,N.error.main,.62)),Te(N.LinearProgress,"infoBg",ye(en,N.info.main,.62)),Te(N.LinearProgress,"successBg",ye(en,N.success.main,.62)),Te(N.LinearProgress,"warningBg",ye(en,N.warning.main,.62)),Te(N.Skeleton,"bg",P?ye(zc,N.text.primary,.11):`rgba(${te("palette-text-primaryChannel")} / 0.11)`),Te(N.Slider,"primaryTrack",ye(en,N.primary.main,.62)),Te(N.Slider,"secondaryTrack",ye(en,N.secondary.main,.62)),Te(N.Slider,"errorTrack",ye(en,N.error.main,.62)),Te(N.Slider,"infoTrack",ye(en,N.info.main,.62)),Te(N.Slider,"successTrack",ye(en,N.success.main,.62)),Te(N.Slider,"warningTrack",ye(en,N.warning.main,.62));const Ee=P?ye(Zt,N.background.default,.6825):L1(N.background.default,.8);Te(N.SnackbarContent,"bg",Ee),Te(N.SnackbarContent,"color",$o(()=>P?vk.text.primary:N.getContrastText(Ee))),Te(N.SpeedDialAction,"fabHoverBg",L1(N.background.paper,.15)),Te(N.StepConnector,"border",te("palette-grey-400")),Te(N.StepContent,"border",te("palette-grey-400")),Te(N.Switch,"defaultColor",te("palette-common-white")),Te(N.Switch,"defaultDisabledColor",te("palette-grey-100")),Te(N.Switch,"primaryDisabledColor",ye(en,N.primary.main,.62)),Te(N.Switch,"secondaryDisabledColor",ye(en,N.secondary.main,.62)),Te(N.Switch,"errorDisabledColor",ye(en,N.error.main,.62)),Te(N.Switch,"infoDisabledColor",ye(en,N.info.main,.62)),Te(N.Switch,"successDisabledColor",ye(en,N.success.main,.62)),Te(N.Switch,"warningDisabledColor",ye(en,N.warning.main,.62)),Te(N.TableCell,"border",ye(en,ye(zc,N.divider,1),.88)),Te(N.Tooltip,"bg",ye(zc,N.grey[700],.92))}if(N.mode==="dark"){Te(N.Alert,"errorColor",ye(en,N.error.light,.6)),Te(N.Alert,"infoColor",ye(en,N.info.light,.6)),Te(N.Alert,"successColor",ye(en,N.success.light,.6)),Te(N.Alert,"warningColor",ye(en,N.warning.light,.6)),Te(N.Alert,"errorFilledBg",te("palette-error-dark")),Te(N.Alert,"infoFilledBg",te("palette-info-dark")),Te(N.Alert,"successFilledBg",te("palette-success-dark")),Te(N.Alert,"warningFilledBg",te("palette-warning-dark")),Te(N.Alert,"errorFilledColor",$o(()=>N.getContrastText(N.error.dark))),Te(N.Alert,"infoFilledColor",$o(()=>N.getContrastText(N.info.dark))),Te(N.Alert,"successFilledColor",$o(()=>N.getContrastText(N.success.dark))),Te(N.Alert,"warningFilledColor",$o(()=>N.getContrastText(N.warning.dark))),Te(N.Alert,"errorStandardBg",ye(Zt,N.error.light,.9)),Te(N.Alert,"infoStandardBg",ye(Zt,N.info.light,.9)),Te(N.Alert,"successStandardBg",ye(Zt,N.success.light,.9)),Te(N.Alert,"warningStandardBg",ye(Zt,N.warning.light,.9)),Te(N.Alert,"errorIconColor",te("palette-error-main")),Te(N.Alert,"infoIconColor",te("palette-info-main")),Te(N.Alert,"successIconColor",te("palette-success-main")),Te(N.Alert,"warningIconColor",te("palette-warning-main")),Te(N.AppBar,"defaultBg",te("palette-grey-900")),Te(N.AppBar,"darkBg",te("palette-background-paper")),Te(N.AppBar,"darkColor",te("palette-text-primary")),Te(N.Avatar,"defaultBg",te("palette-grey-600")),Te(N.Button,"inheritContainedBg",te("palette-grey-800")),Te(N.Button,"inheritContainedHoverBg",te("palette-grey-700")),Te(N.Chip,"defaultBorder",te("palette-grey-700")),Te(N.Chip,"defaultAvatarColor",te("palette-grey-300")),Te(N.Chip,"defaultIconColor",te("palette-grey-300")),Te(N.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Te(N.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Te(N.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Te(N.LinearProgress,"primaryBg",ye(Zt,N.primary.main,.5)),Te(N.LinearProgress,"secondaryBg",ye(Zt,N.secondary.main,.5)),Te(N.LinearProgress,"errorBg",ye(Zt,N.error.main,.5)),Te(N.LinearProgress,"infoBg",ye(Zt,N.info.main,.5)),Te(N.LinearProgress,"successBg",ye(Zt,N.success.main,.5)),Te(N.LinearProgress,"warningBg",ye(Zt,N.warning.main,.5)),Te(N.Skeleton,"bg",P?ye(zc,N.text.primary,.13):`rgba(${te("palette-text-primaryChannel")} / 0.13)`),Te(N.Slider,"primaryTrack",ye(Zt,N.primary.main,.5)),Te(N.Slider,"secondaryTrack",ye(Zt,N.secondary.main,.5)),Te(N.Slider,"errorTrack",ye(Zt,N.error.main,.5)),Te(N.Slider,"infoTrack",ye(Zt,N.info.main,.5)),Te(N.Slider,"successTrack",ye(Zt,N.success.main,.5)),Te(N.Slider,"warningTrack",ye(Zt,N.warning.main,.5));const Ee=P?ye(en,N.background.default,.985):L1(N.background.default,.98);Te(N.SnackbarContent,"bg",Ee),Te(N.SnackbarContent,"color",$o(()=>P?ZL.text.primary:N.getContrastText(Ee))),Te(N.SpeedDialAction,"fabHoverBg",L1(N.background.paper,.15)),Te(N.StepConnector,"border",te("palette-grey-600")),Te(N.StepContent,"border",te("palette-grey-600")),Te(N.Switch,"defaultColor",te("palette-grey-300")),Te(N.Switch,"defaultDisabledColor",te("palette-grey-600")),Te(N.Switch,"primaryDisabledColor",ye(Zt,N.primary.main,.55)),Te(N.Switch,"secondaryDisabledColor",ye(Zt,N.secondary.main,.55)),Te(N.Switch,"errorDisabledColor",ye(Zt,N.error.main,.55)),Te(N.Switch,"infoDisabledColor",ye(Zt,N.info.main,.55)),Te(N.Switch,"successDisabledColor",ye(Zt,N.success.main,.55)),Te(N.Switch,"warningDisabledColor",ye(Zt,N.warning.main,.55)),Te(N.TableCell,"border",ye(Zt,ye(zc,N.divider,1),.68)),Te(N.Tooltip,"bg",ye(zc,N.grey[700],.92))}Fa(N.background,"default"),Fa(N.background,"paper"),Fa(N.common,"background"),Fa(N.common,"onBackground"),Fa(N,"divider"),Object.keys(N).forEach(Ee=>{const ne=N[Ee];Ee!=="tonalOffset"&&ne&&typeof ne=="object"&&(ne.main&&Te(N[Ee],"mainChannel",Gm(Ym(ne.main))),ne.light&&Te(N[Ee],"lightChannel",Gm(Ym(ne.light))),ne.dark&&Te(N[Ee],"darkChannel",Gm(Ym(ne.dark))),ne.contrastText&&Te(N[Ee],"contrastTextChannel",Gm(Ym(ne.contrastText))),Ee==="text"&&(Fa(N[Ee],"primary"),Fa(N[Ee],"secondary")),Ee==="action"&&(ne.active&&Fa(N[Ee],"active"),ne.selected&&Fa(N[Ee],"selected")))})}),R=e.reduce((re,N)=>vi(re,N),R);const A={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:Whe(R),enableContrastVars:o},{vars:F,generateThemeVars:V,generateStyleSheets:K}=ahe(R,A);return R.vars=F,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([re,N])=>{R[re]=N}),R.generateThemeVars=V,R.generateStyleSheets=K,R.generateSpacing=function(){return WL(f.spacing,Xw(this))},R.getColorSchemeSelector=lhe(l),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=a,R.unstable_sxConfig={...q0,...f?.unstable_sxConfig},R.unstable_sx=function(N){return Su({sx:N,theme:this})},R.toRuntimeSource=tB,R}function DI(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:JS({...t===!0?{}:t.palette,mode:e})})}function iB(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t?.mode,...o}=n,a=s||"light",l=i?.[a],u={...i,...t?{[a]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return _k(n,...e);let f=t;"palette"in n||u[a]&&(u[a]!==!0?f=u[a].palette:a==="dark"&&(f={mode:"dark"}));const m=_k({...n,palette:f},...e);return m.defaultColorScheme=a,m.colorSchemes=u,m.palette.mode==="light"&&(m.colorSchemes.light={...u.light!==!0&&u.light,palette:m.palette},DI(m,"dark",u.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:m.palette},DI(m,"light",u.light)),m}return!t&&!("light"in u)&&a==="light"&&(u.light=!0),Yhe({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const Khe=iB();function Xhe(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Jhe=n=>Xhe(n)&&n!=="classes",Bu=KL({themeId:EL,defaultTheme:Khe,rootShouldForwardProp:Jhe});function Qhe(){return KS}const ov=rhe;function K0(n){return nhe(n)}function Zhe(n){return typeof n.main=="string"}function eme(n,e=[]){if(!Zhe(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function sB(n=[]){return([,e])=>e&&eme(e,n)}function tme(n){return mh("MuiCircularProgress",n)}G0("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ql=44,xk=BL`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Ek=BL`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,nme=typeof xk!="string"?jS`
        animation: ${xk} 1.4s linear infinite;
      `:null,rme=typeof Ek!="string"?jS`
        animation: ${Ek} 1.4s ease-in-out infinite;
      `:null,ime=n=>{const{classes:e,variant:t,color:r,disableShrink:i}=n,s={root:["root",t,`color${vs(r)}`],svg:["svg"],circle:["circle",`circle${vs(t)}`,i&&"circleDisableShrink"]};return Y0(s,tme,e)},sme=Bu("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${vs(t.color)}`]]}})(ov(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:nme||{animation:`${xk} 1.4s linear infinite`}},...Object.entries(n.palette).filter(sB()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),ome=Bu("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),ame=Bu("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${vs(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(ov(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:rme||{animation:`${Ek} 1.4s ease-in-out infinite`}}]}))),lme=O.forwardRef(function(e,t){const r=K0({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:f=0,variant:m="indeterminate",...p}=r,y={...r,color:s,disableShrink:o,size:a,thickness:u,value:f,variant:m},v=ime(y),w={},E={},k={};if(m==="determinate"){const T=2*Math.PI*((ql-u)/2);w.strokeDasharray=T.toFixed(3),k["aria-valuenow"]=Math.round(f),w.strokeDashoffset=`${((100-f)/100*T).toFixed(3)}px`,E.transform="rotate(-90deg)"}return ta.jsx(sme,{className:Bi(v.root,i),style:{width:a,height:a,...E,...l},ownerState:y,ref:t,role:"progressbar",...k,...p,children:ta.jsx(ome,{className:v.svg,ownerState:y,viewBox:`${ql/2} ${ql/2} ${ql} ${ql}`,children:ta.jsx(ame,{className:v.circle,style:w,ownerState:y,cx:ql,cy:ql,r:(ql-u)/2,fill:"none",strokeWidth:u})})})});function cme(n){return mh("MuiTypography",n)}G0("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ume={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},dme=Qhe(),fme=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:s,classes:o}=n,a={root:["root",s,n.align!=="inherit"&&`align${vs(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Y0(a,cme,o)},hme=Bu("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${vs(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(ov(({theme:n})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(n.palette).filter(sB()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${vs(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),FI={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},kk=O.forwardRef(function(e,t){const{color:r,...i}=K0({props:e,name:"MuiTypography"}),s=!ume[r],o=dme({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:f=!1,noWrap:m=!1,paragraph:p=!1,variant:y="body1",variantMapping:v=FI,...w}=o,E={...o,align:a,color:r,className:l,component:u,gutterBottom:f,noWrap:m,paragraph:p,variant:y,variantMapping:v},k=u||(p?"p":v[y]||FI[y])||"span",T=fme(E);return ta.jsx(hme,{as:k,ref:t,className:Bi(T.root,l),...w,ownerState:E,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...w.style}})});function mme({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const oB=O.createContext(void 0);function gme(){return O.useContext(oB)}function LI(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function BI(n,e=!1){return n&&(LI(n.value)&&n.value!==""||e&&LI(n.defaultValue)&&n.defaultValue!=="")}function pme(n){return n.startAdornment}const bme=G0("MuiBox",["root"]),yme=iB(),M2=Lfe({themeId:EL,defaultTheme:yme,defaultClassName:bme.root,generateClassName:qL.generate});function wme(n){return mh("MuiFormControl",n)}G0("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const vme=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${vs(t)}`,r&&"fullWidth"]};return Y0(i,wme,e)},_me=Bu("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${vs(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),aB=O.forwardRef(function(e,t){const r=K0({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:f,fullWidth:m=!1,hiddenLabel:p=!1,margin:y="none",required:v=!1,size:w="medium",variant:E="outlined",...k}=r,T={...r,color:o,component:a,disabled:l,error:u,fullWidth:m,hiddenLabel:p,margin:y,required:v,size:w,variant:E},S=vme(T),[P,I]=O.useState(()=>{let Ee=!1;return i&&O.Children.forEach(i,ne=>{if(!R2(ne,["Input","Select"]))return;const ke=R2(ne,["Select"])?ne.props.input:ne;ke&&pme(ke.props)&&(Ee=!0)}),Ee}),[R,A]=O.useState(()=>{let Ee=!1;return i&&O.Children.forEach(i,ne=>{R2(ne,["Input","Select"])&&(BI(ne.props,!0)||BI(ne.props.inputProps,!0))&&(Ee=!0)}),Ee}),[F,V]=O.useState(!1);l&&F&&V(!1);const K=f!==void 0&&!l?f:F;let re;O.useRef(!1);const N=O.useCallback(()=>{A(!0)},[]),te=O.useCallback(()=>{A(!1)},[]),ye=O.useMemo(()=>({adornedStart:P,setAdornedStart:I,color:o,disabled:l,error:u,filled:R,focused:K,fullWidth:m,hiddenLabel:p,size:w,onBlur:()=>{V(!1)},onFocus:()=>{V(!0)},onEmpty:te,onFilled:N,registerEffect:re,required:v,variant:E}),[P,o,l,u,R,K,m,p,re,te,N,v,w,E]);return ta.jsx(oB.Provider,{value:ye,children:ta.jsx(_me,{as:a,ownerState:T,className:Bi(S.root,s),ref:t,...k,children:i})})});function xme(n){return mh("MuiFormHelperText",n)}const VI=G0("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var UI;const Eme=n=>{const{classes:e,contained:t,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=n,u={root:["root",i&&"disabled",s&&"error",r&&`size${vs(r)}`,t&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Y0(u,xme,e)},kme=Bu("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${vs(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(ov(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${VI.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${VI.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),lB=O.forwardRef(function(e,t){const r=K0({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:a,error:l,filled:u,focused:f,margin:m,required:p,variant:y,...v}=r,w=gme(),E=mme({props:r,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),k={...r,component:o,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete k.ownerState;const T=Eme(k);return ta.jsx(kme,{as:o,className:Bi(T.root,s),ref:t,...v,ownerState:k,children:i===" "?UI||(UI=ta.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})}),D2=ghe({createStyledComponent:Bu("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>K0({props:n,name:"MuiStack"})});function Tme(n){return n==="__proto__"}function Sme(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function QS(n){return n==null||typeof n!="object"&&typeof n!="function"}function cB(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function uB(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Cme="[object RegExp]",dB="[object String]",fB="[object Number]",hB="[object Boolean]",mB="[object Arguments]",Ame="[object Symbol]",Nme="[object Date]",Pme="[object Map]",Ime="[object Set]",Rme="[object Array]",Ome="[object ArrayBuffer]",Mme="[object Object]",Dme="[object DataView]",Fme="[object Uint8Array]",Lme="[object Uint8ClampedArray]",Bme="[object Uint16Array]",Vme="[object Uint32Array]",Ume="[object Int8Array]",zme="[object Int16Array]",Hme="[object Int32Array]",$me="[object Float32Array]",Wme="[object Float64Array]";function ZS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function jme(n,e){return lf(n,void 0,n,new Map,e)}function lf(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(QS(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=lf(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,lf(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(lf(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(ZS(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=lf(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),Kc(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),Kc(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),Kc(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,Kc(o,n,t,r,i),o}if(typeof n=="object"&&qme(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),Kc(o,n,t,r,i),o}return n}function Kc(n,e,t=n,r,i){const s=[...Object.keys(e),...cB(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=lf(e[a],a,t,r,i))}}function qme(n){switch(uB(n)){case mB:case Rme:case Ome:case Dme:case hB:case Nme:case $me:case Wme:case Ume:case zme:case Hme:case Pme:case fB:case Mme:case Cme:case Ime:case dB:case Ame:case Fme:case Lme:case Bme:case Vme:return!0;default:return!1}}function gB(n,e){return jme(n,(t,r,i,s)=>{const o=e?.(t,r,i,s);if(o!=null)return o;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case fB:case dB:case hB:{const a=new n.constructor(n?.valueOf());return Kc(a,n),a}case mB:{const a={};return Kc(a,n),a.length=n.length,a[Symbol.iterator]=n[Symbol.iterator],a}default:return}})}function zI(n){return gB(n)}function HI(n){return n!==null&&typeof n=="object"&&uB(n)==="[object Arguments]"}function Tk(n){return typeof n=="object"&&n!==null}function $I(n){return typeof n=="string"||n instanceof String}function Gme(){}function Yme(n){return ZS(n)}function Xc(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function Kme(n){if(QS(n))return n;if(Array.isArray(n)||ZS(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const r=new t(n);return r.lastIndex=n.lastIndex,r}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const r=new t(n.message);return r.stack=n.stack,r.name=n.name,r.cause=n.cause,r}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const r=Object.create(e);return Object.assign(r,n)}return n}function Xme(n,...e){const t=e.slice(0,-1),r=e[e.length-1];let i=n;for(let s=0;s<t.length;s++){const o=t[s];i=Nb(i,o,r,new Map)}return i}function Nb(n,e,t,r){if(QS(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(r.has(e))return Kme(r.get(e));if(r.set(e,n),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...cB(e)];for(let s=0;s<i.length;s++){const o=i[s];if(Tme(o))continue;let a=e[o],l=n[o];if(HI(a)&&(a={...a}),HI(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=zI(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const f=[],m=Reflect.ownKeys(l);for(let p=0;p<m.length;p++){const y=m[p];f[y]=l[y]}l=f}else l=[];const u=t(l,a,o,n,e,r);u!=null?n[o]=u:Array.isArray(a)||Tk(l)&&Tk(a)?n[o]=Nb(l,a,t,r):l==null&&Xc(a)?n[o]=Nb({},a,t,r):l==null&&Yme(a)?n[o]=zI(a):(l===void 0||a!==void 0)&&(n[o]=a)}return n}function Jme(n,...e){return Xme(n,...e,Gme)}function WI(n){return typeof n=="function"}function pB(n){return Tk(n)&&n.nodeType===1&&!Xc(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let qe;try{qe={window,document}}catch{/* istanbul ignore next -- @preserve */qe={window:{},document:{}}}function Qme(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Hc=Qme(),st={isMac:bB(Hc),isWindows:Zme(Hc),isGecko:ege(Hc),isSafari:tge(Hc),isiOS:nge(Hc),isAndroid:rge(Hc),isBlink:ige(Hc),get isMediaForcedColors(){return sge()}};function bB(n){return n.indexOf("macintosh")>-1}function Zme(n){return n.indexOf("windows")>-1}function ege(n){return!!n.match(/gecko\/\d+/)}function tge(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function nge(n){return!!n.match(/iphone|ipad/i)||bB(n)&&navigator.maxTouchPoints>0}function rge(n){return n.indexOf("android")>-1}function ige(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function sge(){return qe.window.matchMedia?qe.window.matchMedia("(forced-colors: active)").matches:!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yB(n,e,t,r){t=t||function(l,u){return l===u};const i=Array.isArray(n)?n:Array.prototype.slice.call(n),s=Array.isArray(e)?e:Array.prototype.slice.call(e),o=oge(i,s,t);return r?lge(o,s.length):age(s,o)}function oge(n,e,t){const r=jI(n,e,t);if(r===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=qI(n,r),s=qI(e,r),o=jI(i,s,t),a=n.length-o,l=e.length-o;return{firstIndex:r,lastIndexOld:a,lastIndexNew:l}}function jI(n,e,t){for(let r=0;r<Math.max(n.length,e.length);r++)if(n[r]===void 0||e[r]===void 0||!t(n[r],e[r]))return r;return-1}function qI(n,e){return n.slice(e).reverse()}function age(n,e){const t=[],{firstIndex:r,lastIndexOld:i,lastIndexNew:s}=e;return s-r>0&&t.push({index:r,type:"insert",values:n.slice(r,s)}),i-r>0&&t.push({index:r+(s-r),type:"delete",howMany:i-r}),t}function lge(n,e){const{firstIndex:t,lastIndexOld:r,lastIndexNew:i}=n;if(t===-1)return Array(e).fill("equal");let s=[];return t>0&&(s=s.concat(Array(t).fill("equal"))),i-t>0&&(s=s.concat(Array(i-t).fill("insert"))),r-t>0&&(s=s.concat(Array(r-t).fill("delete"))),i<e&&(s=s.concat(Array(e-i).fill("equal"))),s}function Af(n,e,t){t=t||function(w,E){return w===E};const r=n.length,i=e.length;if(r>200||i>200||r+i>300)return Af.fastDiff(n,e,t,!0);let s,o;if(i<r){const w=n;n=e,e=w,s="delete",o="insert"}else s="insert",o="delete";const a=n.length,l=e.length,u=l-a,f={},m={};function p(w){const E=(m[w-1]!==void 0?m[w-1]:-1)+1,k=m[w+1]!==void 0?m[w+1]:-1,T=E>k?-1:1;f[w+T]&&(f[w]=f[w+T].slice(0)),f[w]||(f[w]=[]),f[w].push(E>k?s:o);let S=Math.max(E,k),P=S-w;for(;P<a&&S<l&&t(n[P],e[S]);)P++,S++,f[w].push("equal");return S}let y=0,v;do{for(v=-y;v<u;v++)m[v]=p(v);for(v=u+y;v>u;v--)m[v]=p(v);m[u]=p(u),y++}while(m[u]!==l);return f[u].slice(1)}Af.fastDiff=yB;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function GI(){return function n(){n.called=!0}}class ul{source;name;path;stop;off;return;constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=GI(),this.off=GI()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ni=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function ci(){const[n,e,t,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+ni[n>>0&255]+ni[n>>8&255]+ni[n>>16&255]+ni[n>>24&255]+ni[e>>0&255]+ni[e>>8&255]+ni[e>>16&255]+ni[e>>24&255]+ni[t>>0&255]+ni[t>>8&255]+ni[t>>16&255]+ni[t>>24&255]+ni[r>>0&255]+ni[r>>8&255]+ni[r>>16&255]+ni[r>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const hs={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function wB(n,e){const t=hs.get(e.priority);let r=0,i=n.length;for(;r<i;){const s=r+i>>1;hs.get(n[s].priority)<t?i=s:r=s+1}n.splice(r,0,e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const cge="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class q extends Error{context;data;constructor(e,t,r,i){super(dge(e,r,i)),this.name="CKEditorError",this.context=t,this.data=r,i&&(this.stack=i.stack)}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){throw e.is&&e.is("CKEditorError")?e:new q("unexpected-error",t,void 0,e)}}function Rt(n,e){console.warn(..._B(n,e))}function uge(n,e){console.error(..._B(n,e))}function vB(n){return`
Read more: ${cge}#error-${n}`}function dge(n,e,t){const r=new WeakSet,s=e?` ${JSON.stringify(e,(l,u)=>{if(typeof u=="object"&&u!==null){if(r.has(u))return`[object ${u.constructor.name}]`;r.add(u)}return u})}`:"",o=vB(n),a=t?`
Original error: ${t.name}: ${t.message}`:"";return n+s+o+a}function _B(n,e){const t=vB(n);return e?[n,e,t]:[n,t]}const fge="47.3.0",hge=new Date(2025,11,3);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new q("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=fge;const ef=Symbol("listeningTo"),Sk=Symbol("emitterId"),La=Symbol("delegations"),mge=an(Object);function an(n){if(!n)return mge;class e extends n{on(r,i,s){this.listenTo(this,r,i,s)}once(r,i,s){let o=!1;const a=(l,...u)=>{o||(o=!0,l.off(),i.call(this,l,...u))};this.listenTo(this,r,a,s)}off(r,i){this.stopListening(this,r,i)}listenTo(r,i,s,o={}){let a,l;this[ef]||(this[ef]={});const u=this[ef];F2(r)||xB(r);const f=F2(r);(a=u[f])||(a=u[f]={emitter:r,callbacks:{}}),(l=a.callbacks[i])||(l=a.callbacks[i]=[]),l.push(s),wge(this,r,i,s,o)}stopListening(r,i,s){const o=this[ef];let a=r&&F2(r);const l=o&&a?o[a]:void 0,u=l&&i?l.callbacks[i]:void 0;if(!(!o||r&&!l||i&&!u))if(s)L2(this,r,i,s),u.indexOf(s)!==-1&&(u.length===1?delete l.callbacks[i]:L2(this,r,i,s));else if(u){for(;s=u.pop();)L2(this,r,i,s);delete l.callbacks[i]}else if(l){for(i in l.callbacks)this.stopListening(r,i);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[ef]}}fire(r,...i){try{const s=r instanceof ul?r:new ul(this,r),o=s.name;let a=yge(this,o);if(s.path.push(this),a){a=a.slice();for(let u=0;u<a.length;u++){const f=a[u].callback;if(f.call(this,s,...i),s.off.called&&(delete s.off.called,this._removeEventListener(o,f)),s.stop.called)break}}const l=this[La];if(l){const u=l.get(o),f=l.get("*");u&&YI(u,s,i),f&&YI(f,s,i)}return s.return}catch(s){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(s,this)}}delegate(...r){return{to:(i,s)=>{this[La]||(this[La]=new Map),r.forEach(o=>{const a=this[La].get(o);a?a.set(i,s):this[La].set(o,new Map([[i,s]]))})}}}stopDelegating(r,i){if(this[La])if(!r)this[La].clear();else if(!i)this[La].delete(r);else{const s=this[La].get(r);s&&s.delete(i)}}_addEventListener(r,i,s){bge(this,r);const o=Ck(this,r),a=hs.get(s.priority),l={callback:i,priority:a};for(const u of o)wB(u,l)}_removeEventListener(r,i){const s=Ck(this,r);for(const o of s)for(let a=0;a<o.length;a++)o[a].callback==i&&(o.splice(a,1),a--)}}return e}function gge(n,e){const t=n[ef];return t&&t[e]?t[e].emitter:null}function xB(n,e){n[Sk]||(n[Sk]=e||ci())}function F2(n){return n[Sk]}function EB(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function pge(){return{callbacks:[],childEvents:[]}}function bge(n,e){const t=EB(n);if(t[e])return;let r=e,i=null;const s=[];for(;r!==""&&!t[r];)t[r]=pge(),s.push(t[r]),i&&t[r].childEvents.push(i),i=r,r=r.substr(0,r.lastIndexOf(":"));if(r!==""){for(const o of s)o.callbacks=t[r].callbacks.slice();t[r].childEvents.push(i)}}function Ck(n,e){const t=EB(n)[e];if(!t)return[];let r=[t.callbacks];for(let i=0;i<t.childEvents.length;i++){const s=Ck(n,t.childEvents[i]);r=r.concat(s)}return r}function yge(n,e){if(!n._events)return null;let t=e;do{const r=n._events[t];if(r&&r.callbacks&&r.callbacks.length)return r.callbacks;const i=t.lastIndexOf(":");t=i>-1?t.substring(0,i):""}while(t);return null}function YI(n,e,t){for(let[r,i]of n){i?typeof i=="function"&&(i=i(e.name)):i=e.name;const s=new ul(e.source,i);s.path=[...e.path],r.fire(s,...t)}}function wge(n,e,t,r,i){e._addEventListener?e._addEventListener(t,r,i):n._addEventListener.call(e,t,r,i)}function L2(n,e,t,r){e._removeEventListener?e._removeEventListener(t,r):n._removeEventListener.call(e,t,r)}const gg=Symbol("observableProperties"),Zg=Symbol("boundObservables"),pg=Symbol("boundProperties"),$c=Symbol("decoratedMethods"),KI=Symbol("decoratedOriginal"),vge=qt(an());function qt(n){if(!n)return vge;class e extends n{set(r,i){if(Sme(r)){Object.keys(r).forEach(o=>{this.set(o,r[o])},this);return}B2(this);const s=this[gg];if(r in this&&!s.has(r))throw new q("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get(){return s.get(r)},set(o){const a=s.get(r);let l=this.fire(`set:${r}`,r,o,a);l===void 0&&(l=o),(a!==l||!s.has(r))&&(s.set(r,l),this.fire(`change:${r}`,r,l,a))}}),this[r]=i}bind(...r){if(!r.length||!XI(r))throw new q("observable-bind-wrong-properties",this);if(new Set(r).size!==r.length)throw new q("observable-bind-duplicate-properties",this);B2(this);const i=this[pg];r.forEach(o=>{if(i.has(o))throw new q("observable-bind-rebind",this)});const s=new Map;return r.forEach(o=>{const a={property:o,to:[]};i.set(o,a),s.set(o,a)}),{to:_ge,toMany:xge,_observable:this,_bindProperties:r,_to:[],_bindings:s}}unbind(...r){if(!this[gg])return;const i=this[pg],s=this[Zg];if(r.length){if(!XI(r))throw new q("observable-unbind-wrong-properties",this);r.forEach(o=>{const a=i.get(o);a&&(a.to.forEach(([l,u])=>{const f=s.get(l),m=f[u];m.delete(a),m.size||delete f[u],Object.keys(f).length||(s.delete(l),this.stopListening(l,"change"))}),i.delete(o))})}else s.forEach((o,a)=>{this.stopListening(a,"change")}),s.clear(),i.clear()}decorate(r){B2(this);const i=this[r];if(!i)throw new q("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:r});this.on(r,(s,o)=>{s.return=i.apply(this,o)}),this[r]=function(...s){return this.fire(r,s)},this[r][KI]=i,this[$c]||(this[$c]=[]),this[$c].push(r)}stopListening(r,i,s){if(!r&&this[$c]){for(const o of this[$c])this[o]=this[o][KI];delete this[$c]}super.stopListening(r,i,s)}[gg];[$c];[pg];[Zg]}return e}function B2(n){n[gg]||(Object.defineProperty(n,gg,{value:new Map}),Object.defineProperty(n,Zg,{value:new Map}),Object.defineProperty(n,pg,{value:new Map}))}function _ge(...n){const e=kge(...n),t=Array.from(this._bindings.keys()),r=t.length;if(!e.callback&&e.to.length>1)throw new q("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new q("observable-bind-to-extra-callback",this);e.to.forEach(i=>{if(i.properties.length&&i.properties.length!==r)throw new q("observable-bind-to-properties-length",this);i.properties.length||(i.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),Cge(this._observable,this._to),Sge(this),this._bindProperties.forEach(i=>{kB(this._observable,i)})}function xge(n,e,t){if(this._bindings.size>1)throw new q("observable-bind-to-many-not-one-binding",this);this.to(...Ege(n,e),t)}function Ege(n,e){const t=n.map(r=>[r,e]);return Array.prototype.concat.apply([],t)}function XI(n){return n.every(e=>typeof e=="string")}function kge(...n){if(!n.length)throw new q("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof n[n.length-1]=="function"&&(e.callback=n.pop()),n.forEach(r=>{if(typeof r=="string")t.properties.push(r);else if(typeof r=="object")t={observable:r,properties:[]},e.to.push(t);else throw new q("observable-bind-to-parse-error",null)}),e}function Tge(n,e,t,r){const i=n[Zg],s=i.get(t),o=s||{};o[r]||(o[r]=new Set),o[r].add(e),s||i.set(t,o)}function Sge(n){let e;n._bindings.forEach((t,r)=>{n._to.forEach(i=>{e=i.properties[t.callback?0:n._bindProperties.indexOf(r)],t.to.push([i.observable,e]),Tge(n._observable,t,i.observable,e)})})}function kB(n,e){const r=n[pg].get(e);let i;r.callback?i=r.callback.apply(n,r.to.map(s=>s[0][s[1]])):(i=r.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(n,e)?n[e]=i:n.set(e,i)}function Cge(n,e){e.forEach(t=>{const r=n[Zg];let i;r.get(t.observable)||n.listenTo(t.observable,"change",(s,o)=>{i=r.get(t.observable)[o],i&&i.forEach(a=>{kB(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ak(n){let e=0;for(const t of n)e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ir(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)if(n[r]!=e[r])return r;return n.length==e.length?"same":n.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _s(n){return!!(n&&n[Symbol.iterator])}function lo(n,e,t={},r=[]){const i=t&&t.xmlns,s=i?n.createElementNS(i,e):n.createElement(e);for(const o in t)s.setAttribute(o,t[o]);($I(r)||!_s(r))&&(r=[r]);for(let o of r)$I(o)&&(o=n.createTextNode(o)),s.appendChild(o);return s}class TB{_config;constructor(e,t){this._config=Object.create(null),t&&this.define(JI(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,r,i=!1){if(Xc(t)){this._setObjectToTarget(e,t,i);return}const s=t.split(".");t=s.pop();for(const o of s)Xc(e[o])||(e[o]=Object.create(null)),e=e[o];if(Xc(r)){Xc(e[t])||(e[t]=Object.create(null)),e=e[t],this._setObjectToTarget(e,r,i);return}i&&typeof e[t]<"u"||(e[t]=r)}_getFromSource(e,t){const r=t.split(".");t=r.pop();for(const i of r){if(!Xc(e[i])){e=null;break}e=e[i]}return e?JI(e[t]):void 0}_setObjectToTarget(e,t,r){Object.keys(t).forEach(i=>{this._setToTarget(e,i,t[i],r)})}}function JI(n){return gB(n,Age)}function Age(n){return pB(n)||typeof n=="function"?n:void 0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cc(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ty(n){const e=Object.prototype.toString.apply(n);return e=="[object Window]"||e=="[object global]"}const Nge=Ei(an());function Ei(n){if(!n)return Nge;class e extends n{listenTo(r,i,s,o={}){if(cc(r)||Ty(r)||r instanceof qe.window.EventTarget){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(r,a)||new Pge(r,a);this.listenTo(l,i,s,o)}else super.listenTo(r,i,s,o)}stopListening(r,i,s){if(cc(r)||Ty(r)||r instanceof qe.window.EventTarget){const o=this._getAllProxyEmitters(r);for(const a of o)this.stopListening(a,i,s)}else super.stopListening(r,i,s)}_getProxyEmitter(r,i){return gge(this,SB(r,i))}_getAllProxyEmitters(r){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(r,i)).filter(i=>!!i)}}return e}class Pge extends an(){_domNode;_options;constructor(e,t){super(),xB(this,SB(e,t)),this._domNode=e,this._options=t}_domListeners;attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,r){this.attach(e),an().prototype._addEventListener.call(this,e,t,r)}_removeEventListener(e,t){an().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=r=>{this.fire(e,r)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function Ige(n){return n["data-ck-expando"]||(n["data-ck-expando"]=ci())}function SB(n,e){let t=Ige(n);for(const r of Object.keys(e).sort())e[r]&&(t+="-"+r);return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Rge(n){const e=[];let t=n;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Oge(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function CB(n){const e=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function AB(n){if(!n.target)return null;const e=n.target.ownerDocument,t=n.clientX,r=n.clientY;let i=null;return e.caretRangeFromPoint&&e.caretRangeFromPoint(t,r)?i=e.caretRangeFromPoint(t,r):n.rangeParent&&(i=e.createRange(),i.setStart(n.rangeParent,n.rangeOffset),i.collapse(!0)),i}function NB(n){return!n||!n.parentNode||n.offsetParent===qe.document.body?null:n.offsetParent}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Dn(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function av(n){return Object.prototype.toString.apply(n)=="[object Range]"}const PB=["top","right","bottom","left","width","height"];class bt{top;right;bottom;left;width;height;_source;constructor(e){const t=av(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Nk(e)||t)if(t){const r=bt.getDomRangeRects(e);B1(this,bt.getBoundingRect(r))}else B1(this,e.getBoundingClientRect());else if(Ty(e)){const{innerWidth:r,innerHeight:i}=e;B1(this,{top:0,right:r,bottom:i,left:0,width:r,height:i})}else B1(this,e)}clone(){return new bt(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const r=new bt(t);return r._source=this._source,r}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(QI(e))return t;let r=e,i=e.parentNode||e.commonAncestorContainer,s;for(;i&&!QI(i);){const o=Mge(i)==="visible";r instanceof HTMLElement&&ZI(r)==="absolute"&&(s=r);const a=ZI(i);if(o||s&&(a==="relative"&&o||a!=="relative")){r=i,i=i.parentNode;continue}const l=new bt(i),u=t.getIntersection(l);if(u)u.getArea()<t.getArea()&&(t=u);else return null;r=i,i=i.parentNode}return t}isEqual(e){for(const t of PB)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=qe.window,r=this.clone().moveBy(e,t);if(Nk(r._source)){const i=NB(r._source);i&&Dge(r,i)}return r}excludeScrollbarsAndBorders(){const e=this._source;let t,r,i;if(Ty(e))t=e.innerWidth-e.document.documentElement.clientWidth,r=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{const s=CB(e);t=e.offsetWidth-e.clientWidth-s.left-s.right,r=e.offsetHeight-e.clientHeight-s.top-s.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,i==="ltr"?this.right-=t:this.left+=t,this.height-=r,this.bottom-=r,this}static getDomRangeRects(e){const t=[],r=Array.from(e.getClientRects());if(r.length)for(const i of r)t.push(new bt(i));else{let i=e.startContainer;Dn(i)&&(i=i.parentNode);const s=new bt(i.getBoundingClientRect());s.right=s.left,s.width=0,t.push(s)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let r=0;for(const i of e)r++,t.left=Math.min(t.left,i.left),t.top=Math.min(t.top,i.top),t.right=Math.max(t.right,i.right),t.bottom=Math.max(t.bottom,i.bottom);return r==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new bt(t))}}function B1(n,e){for(const t of PB)n[t]=e[t]}function QI(n){return Nk(n)?n===n.ownerDocument.body:!1}function Nk(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function ZI(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function Mge(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function Dge(n,e){const t=new bt(e),r=CB(e);let i=0,s=0;i-=t.left,s-=t.top,i+=e.scrollLeft,s+=e.scrollTop,i-=r.left,s-=r.top,n.moveBy(i,s)}class Cn{_element;_callback;static _observerInstance=null;static _elementCallbacks=null;constructor(e,t){Cn._observerInstance||Cn._createObserver(),this._element=e,this._callback=t,Cn._addElementCallback(e,t),Cn._observerInstance.observe(e)}get element(){return this._element}destroy(){Cn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Cn._elementCallbacks||(Cn._elementCallbacks=new Map);let r=Cn._elementCallbacks.get(e);r||(r=new Set,Cn._elementCallbacks.set(e,r)),r.add(t)}static _deleteElementCallback(e,t){const r=Cn._getElementCallbacks(e);r&&(r.delete(t),r.size||(Cn._elementCallbacks.delete(e),Cn._observerInstance.unobserve(e))),Cn._elementCallbacks&&!Cn._elementCallbacks.size&&(Cn._observerInstance=null,Cn._elementCallbacks=null)}static _getElementCallbacks(e){return Cn._elementCallbacks?Cn._elementCallbacks.get(e):null}static _createObserver(){Cn._observerInstance=new qe.window.ResizeObserver(e=>{for(const t of e){const r=Cn._getElementCallbacks(t.target);if(r)for(const i of r)i(t)}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function eR(n,e){n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gh(n){return e=>e+n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cf(n){let e=0;for(;n.previousSibling;)n=n.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function IB(n,e,t){n.insertBefore(t,n.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bg(n){return n&&n.nodeType===Node.COMMENT_NODE}function RB(n){try{qe.document.createAttribute(n)}catch{return!1}return!0}function aa(n){return n?Dn(n)?aa(n.parentElement):n.getClientRects?!!n.getClientRects().length:!1:!1}function eC({element:n,target:e,positions:t,limiter:r,fitInViewport:i,viewportOffsetConfig:s}){WI(e)&&(e=e()),WI(r)&&(r=r());const o=NB(n),a=OB(s),l=new bt(n),u=tR(e,a);let f;if(!u||!a.getIntersection(u))return null;const m={targetRect:u,elementRect:l,positionedElementAncestor:o,viewportRect:a};if(!r&&!i)f=new MB(t[0],m);else{if(r){const p=tR(r,a);p&&(m.limiterRect=p)}f=Fge(t,m)}return f}function tR(n,e){const t=new bt(n).getVisible();return t?t.getIntersection(e):null}function OB(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const e=new bt(qe.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e.left+=n.left,e.right-=n.right,e.width-=n.left+n.right,e}function Fge(n,e){const{elementRect:t}=e,r=t.getArea(),i=n.map(a=>new MB(a,e)).filter(a=>!!a.name);let s=0,o=null;for(const a of i){const{limiterIntersectionArea:l,viewportIntersectionArea:u}=a;if(l===r)return a;const f=u**2+l**2;f>s&&(s=f,o=a)}return o}class MB{name;config;_positioningFunctionCoordinates;_options;_cachedRect;_cachedAbsoluteRect;constructor(e,t){const r=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!r)return;const{left:i,top:s,name:o,config:a}=r;this.name=o,this.config=a,this._positioningFunctionCoordinates={left:i,top:s},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nR(n){const e=n.parentNode;e&&e.removeChild(n)}function Lge(){const n=qe.window.visualViewport;if(!n||!(st.isiOS||st.isSafari))return{left:0,top:0};const e=Math.max(Math.round(n.offsetLeft),0),t=Math.max(Math.round(n.offsetTop),0);return{left:e,top:t}}function DB({target:n,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:r,forceScroll:i}){const s=tC(n);let o=s,a=null;for(e=Uge(e);o;){let l;o==s?l=rR(n):l=rR(a),Vge({parent:l,getRect:()=>V2(n,o),alignToTop:r,ancestorOffset:t,forceScroll:i});let u=V2(n,o);const f=V2(l,o);if(u.height>f.height){const m=u.getIntersection(f);m&&(u=m)}if(Bge({window:o,rect:u,viewportOffset:e,alignToTop:r,forceScroll:i}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function Bge({window:n,rect:e,alignToTop:t,forceScroll:r,viewportOffset:i}){const s=e.clone().moveBy(0,i.bottom),o=e.clone().moveBy(0,-i.top),a=new bt(n).excludeScrollbarsAndBorders(),l=[o,s],u=t&&r,f=l.every(w=>a.contains(w));let{scrollX:m,scrollY:p}=n;const y=m,v=p;u?p-=a.top-e.top+i.top:f||(LB(o,a)?p-=a.top-e.top+i.top:FB(s,a)&&(t?p+=e.top-a.top-i.top:p+=e.bottom-a.bottom+i.bottom)),f||(BB(e,a)?m-=a.left-e.left+i.left:VB(e,a)&&(m+=e.right-a.right+i.right)),(m!=y||p!==v)&&n.scrollTo(m,p)}function Vge({parent:n,getRect:e,alignToTop:t,forceScroll:r,ancestorOffset:i=0,limiterElement:s}){const o=tC(n),a=t&&r;let l,u,f;const m=s||o.document.body;for(;n!=m;)u=e(),l=new bt(n).excludeScrollbarsAndBorders(),f=l.contains(u),a?n.scrollTop-=l.top-u.top+i:f||(LB(u,l)?n.scrollTop-=l.top-u.top+i:FB(u,l)&&(t?n.scrollTop+=u.top-l.top-i:n.scrollTop+=u.bottom-l.bottom+i)),f||(BB(u,l)?n.scrollLeft-=l.left-u.left+i:VB(u,l)&&(n.scrollLeft+=u.right-l.right+i)),n=n.parentNode}function FB(n,e){return n.bottom>e.bottom}function LB(n,e){return n.top<e.top}function BB(n,e){return n.left<e.left}function VB(n,e){return n.right>e.right}function tC(n){return av(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function rR(n){if(av(n)){let e=n.commonAncestorContainer;return Dn(e)&&(e=e.parentNode),e}else return n.parentNode}function V2(n,e){const t=tC(n),r=new bt(n);if(t===e)return r;{let i=t;for(;i!=e;){const s=i.frameElement,o=new bt(s).excludeScrollbarsAndBorders();r.moveBy(o.left,o.top),i=i.parent}}return r}function Uge(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}const zge={ctrl:"",cmd:"",alt:"",shift:""},Hge={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},iR={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},xt=Gge(),$ge=Object.fromEntries(Object.entries(xt).map(([n,e])=>{let t;return e in iR?t=iR[e]:t=n.charAt(0).toUpperCase()+n.slice(1),[e,t]}));function Cu(n){let e;if(typeof n=="string"){if(e=xt[n.toLowerCase()],!e)throw new q("keyboard-unknown-key",null,{key:n})}else e=n.keyCode+(n.altKey?xt.alt:0)+(n.ctrlKey?xt.ctrl:0)+(n.shiftKey?xt.shift:0)+(n.metaKey?xt.cmd:0);return e}function lv(n){return typeof n=="string"&&(n=Yge(n)),n.map(e=>typeof e=="string"?jge(e):e).reduce((e,t)=>t+e,0)}function Sy(n,e){let t=lv(n);const r=st.isMac||st.isiOS;return Object.entries(r?zge:Hge).reduce((o,[a,l])=>((t&xt[a])!=0&&(t&=~xt[a],o+=l),o),"")+(t?$ge[t]:"")}function Wge(n){return n==xt.arrowright||n==xt.arrowleft||n==xt.arrowup||n==xt.arrowdown}function cv(n,e){const t=e==="ltr";switch(n){case xt.arrowleft:return t?"left":"right";case xt.arrowright:return t?"right":"left";case xt.arrowup:return"up";case xt.arrowdown:return"down"}}function jge(n){if(n.endsWith("!"))return Cu(n.slice(0,-1));const e=Cu(n);return(st.isMac||st.isiOS)&&e==xt.ctrl?xt.cmd:e}function qge(n,e){const t=cv(n,e);return t==="down"||t==="right"}function Gge(){const n={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);n[t.toLowerCase()]=e}for(let e=48;e<=57;e++)n[e-48]=e;for(let e=112;e<=123;e++)n["f"+(e-111)]=e;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function Yge(n){return n.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Kge=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig","ur","urd"];function sR(n){return Kge.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Gt(n){return Array.isArray(n)?n:[n]}/* istanbul ignore else -- @preserve */qe.window.CKEDITOR_TRANSLATIONS||(qe.window.CKEDITOR_TRANSLATIONS={});function Xge(n,e,t=1,r){if(typeof t!="number")throw new q("translation-service-quantity-not-a-number",null,{quantity:t});const i=r||qe.window.CKEDITOR_TRANSLATIONS,s=Zge(i);s===1&&(n=Object.keys(i)[0]);const o=e.id||e.string;if(s===0||!Qge(n,o,i))return t!==1?e.plural:e.string;const a=i[n].dictionary,l=i[n].getPluralForm||(m=>m===1?0:1),u=a[o];if(typeof u=="string")return u;const f=Number(l(t));return u[f]}function Jge(n){return Array.isArray(n)?n.reduce((e,t)=>Jme(e,t)):n}function Qge(n,e,t){return!!t[n]&&!!t[n].dictionary[e]}function Zge(n){return Object.keys(n).length}class e0e{uiLanguage;uiLanguageDirection;contentLanguage;contentLanguageDirection;t;translations;constructor({uiLanguage:e="en",contentLanguage:t,translations:r}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=sR(this.uiLanguage),this.contentLanguageDirection=sR(this.contentLanguage),this.translations=Jge(r),this.t=(i,s)=>this._t(i,s)}_t(e,t=[]){t=Gt(t),typeof e=="string"&&(e={string:e});const i=!!e.plural?t[0]:1,s=Xge(this.uiLanguage,e,i,this.translations);return t0e(s,t)}}function t0e(n,e){return n.replace(/%(\d+)/g,(t,r)=>r<e.length?e[r]:t)}class sr extends an(){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(e={},t={}){super();const r=_s(e);if(r||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const i of e)this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new q("collection-add-item-invalid-index",this);let r=0;for(const i of e){const s=this._getItemIdBeforeAdding(i),o=t+r;this._items.splice(o,0,i),this._itemMap.set(s,i),this.fire("add",i,o),r++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new q("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,r=e[t];return r&&this._itemMap.has(r)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,r]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:r}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new q("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(r=>new t(r))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(r=>r[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,r=(i,s,o)=>{const a=t._bindToCollection==this,l=t._bindToInternalToExternalMap.get(s);if(a&&l)this._bindToExternalToInternalMap.set(s,l),this._bindToInternalToExternalMap.set(l,s);else{const u=e(s);if(!u){this._skippedIndexesFromExternal.push(o);return}let f=o;for(const m of this._skippedIndexesFromExternal)o>m&&f--;for(const m of t._skippedIndexesFromExternal)f>=m&&f++;this._bindToExternalToInternalMap.set(s,u),this._bindToInternalToExternalMap.set(u,s),this.add(u,f);for(let m=0;m<t._skippedIndexesFromExternal.length;m++)f<=t._skippedIndexesFromExternal[m]&&t._skippedIndexesFromExternal[m]++}};for(const i of t)r(null,i,t.getIndex(i));this.listenTo(t,"add",r),this.listenTo(t,"remove",(i,s,o)=>{const a=this._bindToExternalToInternalMap.get(s);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,u)=>(o<u&&l.push(u-1),o>u&&l.push(u),l),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let r;if(t in e){if(r=e[t],typeof r!="string")throw new q("collection-add-invalid-id",this);if(this.get(r))throw new q("collection-add-item-already-exists",this)}else e[t]=r=ci();return r}_remove(e){let t,r,i,s=!1;const o=this._idProperty;if(typeof e=="string"?(r=e,i=this._itemMap.get(r),s=!i,i&&(t=this._items.indexOf(i))):typeof e=="number"?(t=e,i=this._items[t],s=!i,i&&(r=i[o])):(i=e,r=i[o],t=this._items.indexOf(i),s=t==-1||!this._itemMap.get(r)),s)throw new q("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(r);const a=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(a),this.fire("remove",i,t),[i,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _n(n){const e=n.next();return e.done?null:e.value}class Yt extends Ei(qt()){_elements=new Set;_externalViews=new Set;_blurTimeout=null;constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(aR(e))this._addElement(e);else if(oR(e))this._addView(e);else{if(!e.element)throw new q("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){aR(e)?this._removeElement(e):oR(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new q("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const t=this.externalViews.find(r=>n0e(e,r));t?this._focus(t.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(r=>r.contains(document.activeElement))||this.externalViews.find(r=>r.focusTracker.isFocused&&!r.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function oR(n){return"focusTracker"in n&&n.focusTracker instanceof Yt}function aR(n){return pB(n)}function n0e(n,e){return lR(n,e)?!0:!!e.focusTracker.externalViews.find(t=>lR(n,t))}function lR(n,e){return!!e.element&&e.element.contains(document.activeElement)&&n.contains(e.element)}class bn{_listener;constructor(){this._listener=new(Ei())}listenTo(e){this._listener.listenTo(e,"keydown",(t,r)=>{this._listener.fire("_keydown:"+Cu(r),r)})}set(e,t,r={}){const i=lv(e),s=r.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(o,a)=>{r.filter&&!r.filter(a)||(t(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0)},{priority:s})}press(e){return!!this._listener.fire("_keydown:"+Cu(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function r0e(n){const e=new Map;for(const t in n)e.set(t,n[t]);return e}function la(n){return _s(n)?new Map(n):r0e(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cR(n,e,t){const r=n.length,i=e.length;for(let s=r-1;s>=t;s--)n[s+i]=n[s];for(let s=0;s<i;s++)n[t+s]=e[s]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nC(n,e){let t;function r(...i){r.cancel(),t=setTimeout(()=>n(...i),e)}return r.cancel=()=>{clearTimeout(t)},r}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rC(n){try{if(!n.startsWith("ey"))return null;const e=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(e)}catch{return null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function i0e(){const n=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;n[e]=t}return n}function s0e(n){const e=Array.isArray(n)?n:[n],t=i0e();let r=-1;const i=e.map(s=>Array.isArray(s)?s.join(""):String(s)).join("");for(let s=0;s<i.length;s++){const o=i.charCodeAt(s);r=r>>>8^t[(r^o)&255]}return r=(r^-1)>>>0,r.toString(16).padStart(8,"0")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function o0e(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function a0e(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function l0e(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function iC(n,e){return a0e(n.charAt(e-1))&&l0e(n.charAt(e))}function sC(n,e){return o0e(n.charAt(e))}const c0e=u0e();function UB(n,e){const t=String(n).matchAll(c0e);return Array.from(t).some(r=>r.index<e&&e<r.index+r[0].length)}function u0e(){const n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+n.map(i=>i.source).join("|")+")",r=`${e}|${t}(?:${t})*`;return new RegExp(r,"ug")}function uR(n){if(!n)return null;const e=d0e(n);return e?rC(e):null}function d0e(n){const e=n.split(".");return e.length!=3?null:e[1]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function f0e(n,e){return(n.removeFeatures||[]).includes(e)}function Cy(n){return n==="__proto__"}function h0e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function zB(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}function HB(n){const e=[],t=n.length;if(t===0)return e;let r=0,i="",s="",o=!1;for(n.charCodeAt(0)===46&&(e.push(""),r++);r<t;){const a=n[r];s?a==="\\"&&r+1<t?(r++,i+=n[r]):a===s?s="":i+=a:o?a==='"'||a==="'"?s=a:a==="]"?(o=!1,e.push(i),i=""):i+=a:a==="["?(o=!0,i&&(e.push(i),i="")):a==="."?i&&(e.push(i),i=""):i+=a,r++}return i&&e.push(i),e}function $B(n,e,t){if(n==null)return t;switch(typeof e){case"string":{if(Cy(e))return t;const r=n[e];return r===void 0?h0e(e)?$B(n,HB(e),t):t:r}case"number":case"symbol":{typeof e=="number"&&(e=zB(e));const r=n[e];return r===void 0?t:r}default:{if(Array.isArray(e))return m0e(n,e,t);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),Cy(e))return t;const r=n[e];return r===void 0?t:r}}}function m0e(n,e,t){if(e.length===0)return t;let r=n;for(let i=0;i<e.length;i++){if(r==null||Cy(e[i]))return t;r=r[e[i]]}return r===void 0?t:r}function dR(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function g0e(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}const p0e=/^(?:0|[1-9]\d*)$/;function b0e(n,e=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<e;case"symbol":return!1;case"string":return p0e.test(n)}}function y0e(n){return typeof n=="symbol"||n instanceof Symbol}const w0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v0e=/^\w*$/;function _0e(n,e){return Array.isArray(n)?!1:typeof n=="number"||typeof n=="boolean"||n==null||y0e(n)?!0:typeof n=="string"&&(v0e.test(n)||!w0e.test(n))||e!=null&&Object.hasOwn(e,n)}const x0e=(n,e,t)=>{const r=n[e];(!(Object.hasOwn(n,e)&&g0e(r,t))||t===void 0&&!(e in n))&&(n[e]=t)};function E0e(n,e,t,r){if(n==null&&!dR(n))return n;const i=_0e(e,n)?[e]:Array.isArray(e)?e:typeof e=="string"?HB(e):[e];let s=n;for(let o=0;o<i.length&&s!=null;o++){const a=zB(i[o]);if(Cy(a))continue;let l;if(o===i.length-1)l=t(s[a]);else{const u=s[a],f=r?.(u,a,n);l=f!==void 0?f:dR(u)?u:b0e(i[o+1])?[]:{}}x0e(s,a,l),s=s[a]}return n}function k0e(n,e,t){return E0e(n,e,()=>t,()=>{})}function T0e(n){return Number.isSafeInteger(n)&&n>=0}function S0e(n){return n!=null&&typeof n!="function"&&T0e(n.length)}function e0(n){return n==="__proto__"}function C0e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function WB(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}function jB(n){const e=[],t=n.length;if(t===0)return e;let r=0,i="",s="",o=!1;for(n.charCodeAt(0)===46&&(e.push(""),r++);r<t;){const a=n[r];s?a==="\\"&&r+1<t?(r++,i+=n[r]):a===s?s="":i+=a:o?a==='"'||a==="'"?s=a:a==="]"?(o=!1,e.push(i),i=""):i+=a:a==="["?(o=!0,i&&(e.push(i),i="")):a==="."?i&&(e.push(i),i=""):i+=a,r++}return i&&e.push(i),e}function t0(n,e,t){if(n==null)return t;switch(typeof e){case"string":{if(e0(e))return t;const r=n[e];return r===void 0?C0e(e)?t0(n,jB(e),t):t:r}case"number":case"symbol":{typeof e=="number"&&(e=WB(e));const r=n[e];return r===void 0?t:r}default:{if(Array.isArray(e))return A0e(n,e,t);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),e0(e))return t;const r=n[e];return r===void 0?t:r}}}function A0e(n,e,t){if(e.length===0)return t;let r=n;for(let i=0;i<e.length;i++){if(r==null||e0(e[i]))return t;r=r[e[i]]}return r===void 0?t:r}function jf(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function uv(n){return n==null||typeof n!="object"&&typeof n!="function"}function oC(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function Ay(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function qf(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const dv="[object RegExp]",Gf="[object String]",X0="[object Number]",J0="[object Boolean]",Yf="[object Arguments]",fv="[object Symbol]",hv="[object Date]",mv="[object Map]",gv="[object Set]",aC="[object Array]",N0e="[object Function]",pv="[object ArrayBuffer]",yg="[object Object]",P0e="[object Error]",bv="[object DataView]",lC="[object Uint8Array]",cC="[object Uint8ClampedArray]",uC="[object Uint16Array]",dC="[object Uint32Array]",I0e="[object BigUint64Array]",fC="[object Int8Array]",hC="[object Int16Array]",mC="[object Int32Array]",R0e="[object BigInt64Array]",gC="[object Float32Array]",pC="[object Float64Array]";function bC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function O0e(n,e){return uf(n,void 0,n,new Map,e)}function uf(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(uv(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=uf(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,uf(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(uf(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(bC(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=uf(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),Jc(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),Jc(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),Jc(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,Jc(o,n,t,r,i),o}if(typeof n=="object"&&M0e(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),Jc(o,n,t,r,i),o}return n}function Jc(n,e,t=n,r,i){const s=[...Object.keys(e),...Ay(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=uf(e[a],a,t,r,i))}}function M0e(n){switch(qf(n)){case Yf:case aC:case pv:case bv:case J0:case hv:case gC:case pC:case fC:case hC:case mC:case mv:case X0:case yg:case dv:case gv:case Gf:case fv:case lC:case cC:case uC:case dC:return!0;default:return!1}}function D0e(n,e){return O0e(n,(t,r,i,s)=>{if(typeof n=="object")switch(Object.prototype.toString.call(n)){case X0:case Gf:case J0:{const o=new n.constructor(n?.valueOf());return Jc(o,n),o}case Yf:{const o={};return Jc(o,n),o.length=n.length,o[Symbol.iterator]=n[Symbol.iterator],o}default:return}})}function ca(n){return D0e(n)}const F0e=/^(?:0|[1-9]\d*)$/;function L0e(n,e=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<e;case"symbol":return!1;case"string":return F0e.test(n)}}function fR(n){return n!==null&&typeof n=="object"&&qf(n)==="[object Arguments]"}function hR(n){return typeof n=="object"&&n!==null}function qB(n){return typeof n=="symbol"||n instanceof Symbol}function B0e(n){return qB(n)?NaN:Number(n)}function V0e(n){return n?(n=B0e(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}function U0e(n){const e=V0e(n),t=e%1;return t?e-t:e}const z0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H0e=/^\w*$/;function $0e(n,e){return Array.isArray(n)?!1:typeof n=="number"||typeof n=="boolean"||n==null||qB(n)?!0:typeof n=="string"&&(H0e.test(n)||!z0e.test(n))||e!=null&&Object.hasOwn(e,n)}function W0e(n){return Array.isArray(n)}const j0e=(n,e,t)=>{const r=n[e];(!(Object.hasOwn(n,e)&&oC(r,t))||t===void 0&&!(e in n))&&(n[e]=t)};function q0e(n,e,t,r){if(n==null&&!jf(n))return n;const i=$0e(e,n)?[e]:Array.isArray(e)?e:typeof e=="string"?jB(e):[e];let s=n;for(let o=0;o<i.length&&s!=null;o++){const a=WB(i[o]);if(e0(a))continue;let l;if(o===i.length-1)l=t(s[a]);else{const u=s[a],f=r?.(u,a,n);l=f!==void 0?f:jf(u)?u:L0e(i[o+1])?[]:{}}j0e(s,a,l),s=s[a]}return n}function G0e(n,e,t){return q0e(n,e,()=>t,()=>{})}function Y0e(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function Pk(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=Y0e(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function mR(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function GB(n,e,t){return Km(n,e,void 0,void 0,void 0,void 0,t)}function Km(n,e,t,r,i,s,o){const a=o(n,e,t,r,i,s);if(a!==void 0)return a;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return wg(n,e,s,o)}return wg(n,e,s,o)}function wg(n,e,t,r){if(Object.is(n,e))return!0;let i=qf(n),s=qf(e);if(i===Yf&&(i=yg),s===Yf&&(s=yg),i!==s)return!1;switch(i){case Gf:return n.toString()===e.toString();case X0:{const l=n.valueOf(),u=e.valueOf();return oC(l,u)}case J0:case hv:case fv:return Object.is(n.valueOf(),e.valueOf());case dv:return n.source===e.source&&n.flags===e.flags;case N0e:return n===e}t=t??new Map;const o=t.get(n),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(n,e),t.set(e,n);try{switch(i){case mv:{if(n.size!==e.size)return!1;for(const[l,u]of n.entries())if(!e.has(l)||!Km(u,e.get(l),l,n,e,t,r))return!1;return!0}case gv:{if(n.size!==e.size)return!1;const l=Array.from(n.values()),u=Array.from(e.values());for(let f=0;f<l.length;f++){const m=l[f],p=u.findIndex(y=>Km(m,y,void 0,n,e,t,r));if(p===-1)return!1;u.splice(p,1)}return!0}case aC:case lC:case cC:case uC:case dC:case I0e:case fC:case hC:case mC:case R0e:case gC:case pC:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let l=0;l<n.length;l++)if(!Km(n[l],e[l],l,n,e,t,r))return!1;return!0}case pv:return n.byteLength!==e.byteLength?!1:wg(new Uint8Array(n),new Uint8Array(e),t,r);case bv:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:wg(new Uint8Array(n),new Uint8Array(e),t,r);case P0e:return n.name===e.name&&n.message===e.message;case yg:{if(!(wg(n.constructor,e.constructor,t,r)||mR(n)&&mR(e)))return!1;const u=[...Object.keys(n),...Ay(n)],f=[...Object.keys(e),...Ay(e)];if(u.length!==f.length)return!1;for(let m=0;m<u.length;m++){const p=u[m],y=n[p];if(!Object.hasOwn(e,p))return!1;const v=e[p];if(!Km(y,v,p,n,e,t,r))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function YB(){}function gR(n,e){return GB(n,e,YB)}function K0e(n){return typeof Buffer<"u"&&Buffer.isBuffer(n)}function X0e(n){const e=n?.constructor,t=typeof e=="function"?e.prototype:Object.prototype;return n===t}function yC(n){return bC(n)}function J0e(n,e){if(n=U0e(n),n<1||!Number.isSafeInteger(n))return[];const t=new Array(n);for(let r=0;r<n;r++)t[r]=typeof e=="function"?e(r):r;return t}function Q0e(n){if(n==null)return[];switch(typeof n){case"object":case"function":return S0e(n)?epe(n):X0e(n)?Z0e(n):Ny(n);default:return Ny(Object(n))}}function Ny(n){const e=[];for(const t in n)e.push(t);return e}function Z0e(n){return Ny(n).filter(t=>t!=="constructor")}function epe(n){const e=J0e(n.length,r=>`${r}`),t=new Set(e);return K0e(n)&&(t.add("offset"),t.add("parent")),yC(n)&&(t.add("buffer"),t.add("byteLength"),t.add("byteOffset")),[...e,...Ny(n).filter(r=>!t.has(r))]}function tpe(n,...e){for(let t=0;t<e.length;t++)npe(n,e[t]);return n}function npe(n,e){const t=Q0e(e);for(let r=0;r<t.length;r++){const i=t[r];(!(i in n)||!oC(n[i],e[i]))&&(n[i]=e[i])}}function rpe(n){if(uv(n))return n;const e=qf(n);if(!ipe(n))return{};if(W0e(n)){const r=Array.from(n);return n.length>0&&typeof n[0]=="string"&&Object.hasOwn(n,"index")&&(r.index=n.index,r.input=n.input),r}if(yC(n)){const r=n,i=r.constructor;return new i(r.buffer,r.byteOffset,r.length)}if(e===pv)return new ArrayBuffer(n.byteLength);if(e===bv){const r=n,i=r.buffer,s=r.byteOffset,o=r.byteLength,a=new ArrayBuffer(o),l=new Uint8Array(i,s,o);return new Uint8Array(a).set(l),new DataView(a)}if(e===J0||e===X0||e===Gf){const r=n.constructor,i=new r(n.valueOf());return e===Gf?ope(i,n):U2(i,n),i}if(e===hv)return new Date(Number(n));if(e===dv){const r=n,i=new RegExp(r.source,r.flags);return i.lastIndex=r.lastIndex,i}if(e===fv)return Object(Symbol.prototype.valueOf.call(n));if(e===mv){const r=n,i=new Map;return r.forEach((s,o)=>{i.set(o,s)}),i}if(e===gv){const r=n,i=new Set;return r.forEach(s=>{i.add(s)}),i}if(e===Yf){const r=n,i={};return U2(i,r),i.length=r.length,i[Symbol.iterator]=r[Symbol.iterator],i}const t={};return ape(t,n),U2(t,n),spe(t,n),t}function ipe(n){switch(qf(n)){case Yf:case aC:case pv:case bv:case J0:case hv:case gC:case pC:case fC:case hC:case mC:case mv:case X0:case yg:case dv:case gv:case Gf:case fv:case lC:case cC:case uC:case dC:return!0;default:return!1}}function U2(n,e){for(const t in e)Object.hasOwn(e,t)&&(n[t]=e[t])}function spe(n,e){const t=Object.getOwnPropertySymbols(e);for(let r=0;r<t.length;r++){const i=t[r];Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}}function ope(n,e){const t=e.valueOf().length;for(const r in e)Object.hasOwn(e,r)&&(Number.isNaN(Number(r))||Number(r)>=t)&&(n[r]=e[r])}function ape(n,e){const t=Object.getPrototypeOf(e);t!==null&&typeof e.constructor=="function"&&Object.setPrototypeOf(n,t)}function yv(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function lpe(n){if(uv(n))return n;if(Array.isArray(n)||bC(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const r=new t(n);return r.lastIndex=n.lastIndex,r}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const r=new t(n.message);return r.stack=n.stack,r.name=n.name,r.cause=n.cause,r}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const r=Object.create(e);return Object.assign(r,n)}return n}function cpe(n,...e){const t=e.slice(0,-1),r=e[e.length-1];let i=n;for(let s=0;s<t.length;s++){const o=t[s];i=Pb(i,o,r,new Map)}return i}function Pb(n,e,t,r){if(uv(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(r.has(e))return lpe(r.get(e));if(r.set(e,n),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Ay(e)];for(let s=0;s<i.length;s++){const o=i[s];if(e0(o))continue;let a=e[o],l=n[o];if(fR(a)&&(a={...a}),fR(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=ca(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const f=[],m=Reflect.ownKeys(l);for(let p=0;p<m.length;p++){const y=m[p];f[y]=l[y]}l=f}else l=[];const u=t(l,a,o,n,e,r);u!=null?n[o]=u:Array.isArray(a)||hR(l)&&hR(a)?n[o]=Pb(l,a,t,r):l==null&&yv(a)?n[o]=Pb({},a,t,r):l==null&&yC(a)?n[o]=ca(a):(l===void 0||a!==void 0)&&(n[o]=a)}return n}function KB(n,...e){return cpe(n,...e,YB)}function pR(n,e){if(!Number.isInteger(n)||n<0)throw new Error("n must be a non-negative integer.");let t=0;return(...r)=>{if(++t>=n)return e(...r)}}function Ik(n,e,t){return typeof t!="function"&&(t=()=>{}),GB(n,e,(...r)=>{const i=t(...r);if(i!==void 0)return!!i;if(n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set)return Ik(Array.from(n),Array.from(e),pR(2,t))})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Nm=new WeakMap;let bR=!1;function wC({view:n,element:e,text:t,isDirectHost:r=!0,keepOnFocus:i=!1}){const s=n.document;Nm.has(s)||(Nm.set(s,new Map),s.registerPostFixer(a=>z2(Nm.get(s),a)),s.on("change:isComposing",()=>{n.change(a=>z2(Nm.get(s),a))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(a,l,u)=>o(u)),e.placeholder?o(e.placeholder):t&&o(t),t&&mpe();function o(a){const l={text:a,isDirectHost:r,keepOnFocus:i,hostElement:r?e:null};Nm.get(s).set(e,l),n.change(u=>z2([[e,l]],u))}}function upe(n,e){return e.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",e),!0)}function XB(n,e){return e.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",e),!0):!1}function dpe(n,e){if(!n.isAttached()||fpe(n))return!1;const t=n.document,i=t.selection.anchor;return t.isComposing&&i&&i.parent===n?!1:e||!t.isFocused?!0:!!i&&i.parent!==n}function fpe(n){for(const e of n.getChildren())if(!e.is("uiElement"))return!0;return!1}function z2(n,e){const t=[];let r=!1;for(const[i,s]of n)s.isDirectHost&&(t.push(i),yR(e,i,s)&&(r=!0));for(const[i,s]of n){if(s.isDirectHost)continue;const o=hpe(i);o!==s.hostElement&&s.hostElement&&(e.removeAttribute("data-placeholder",s.hostElement),XB(e,s.hostElement),s.hostElement=null,r=!0),o&&(t.includes(o)||(s.hostElement=o,yR(e,i,s)&&(r=!0)))}return r}function yR(n,e,t){const{text:r,isDirectHost:i,hostElement:s}=t;let o=!1;return s.getAttribute("data-placeholder")!==r&&(n.setAttribute("data-placeholder",r,s),o=!0),(i||e.childCount==1)&&dpe(s,t.keepOnFocus)?upe(n,s)&&(o=!0):XB(n,s)&&(o=!0),o}function hpe(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function mpe(){bR||Rt("enableViewPlaceholder-deprecated-text-option"),bR=!0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Vu{is(){throw new Error("is() method is abstract")}}class Uu extends an(Vu){document;parent;constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new q("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),i=e.getAncestors(t);let s=0;for(;r[s]==i[s]&&r[s];)s++;return s===0?null:r[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),i=Ir(t,r);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<r[i]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t,r){this.fire(`change:${e}`,t,r),this.parent&&this.parent._fireChange(e,t,r)}toJSON(){const e={path:this.getPath(),type:"Node"};return this!==this.root&&this.root.is("rootElement")&&(e.root=this.root.toJSON()),e}}Uu.prototype.is=function(n){return n==="node"||n==="view:node"};class hr extends Uu{_textData;constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof hr?this===e||this.data===e.data:!1}toJSON(){const e=super.toJSON();return e.type="Text",e.data=this.data,e}_clone(){return new hr(this.document,this.data)}}hr.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};class Ha extends Vu{textNode;data;offsetInText;constructor(e,t,r){if(super(),this.textNode=e,t<0||t>e.data.length)throw new q("view-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.data.length)throw new q("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}}Ha.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};class Py{_consumables=new Map;add(e,t){let r;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?r=this._consumables.get(e):(r=new gpe(e),this._consumables.set(e,r)),r.add(t?Xm(t):e._getConsumables())}test(e,t){const r=this._consumables.get(e);return r===void 0?null:e.is("$text")||e.is("documentFragment")?r:r.test(Xm(t))}consume(e,t){if(e.is("$text")||e.is("documentFragment"))return this.test(e,t)?(this._consumables.set(e,!1),!0):!1;const r=this._consumables.get(e);return r===void 0?!1:r.consume(Xm(t))}revert(e,t){const r=this._consumables.get(e);r!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):r.revert(Xm(t)))}static createFrom(e,t){if(t||(t=new Py),e.is("$text"))t.add(e);else if(e.is("element")||e.is("documentFragment")){t.add(e);for(const r of e.getChildren())Py.createFrom(r,t)}return t}}class gpe{element;_canConsumeName=null;_attributes=new Map;constructor(e){this.element=e}add(e){e.name&&(this._canConsumeName=!0);for(const[t,r]of e.attributes)if(r){let i=this._attributes.get(t);(!i||typeof i=="boolean")&&(i=new Map,this._attributes.set(t,i)),i.set(r,!0)}else{if(t=="style"||t=="class")throw new q("viewconsumable-invalid-attribute",this);this._attributes.set(t,!0)}}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const[t,r]of e.attributes){const i=this._attributes.get(t);if(i===void 0)return null;if(i===!1)return!1;if(i!==!0){if(r){const s=i.get(r);if(s===void 0)return null;if(!s)return!1}else for(const s of i.values())if(!s)return!1}}return!0}consume(e){if(!this.test(e))return!1;e.name&&(this._canConsumeName=!1);for(const[t,r]of e.attributes){const i=this._attributes.get(t);if(typeof i=="boolean")for(const[s]of this.element._getConsumables(t,r).attributes)this._attributes.set(s,!1);else if(r)for(const[,s]of this.element._getConsumables(t,r).attributes)i.set(s,!1);else for(const s of i.keys())i.set(s,!1)}return!0}revert(e){e.name&&(this._canConsumeName=!0);for(const[t,r]of e.attributes){const i=this._attributes.get(t);if(i===!1){this._attributes.set(t,!0);continue}if(!(i===void 0||i===!0))if(r)i.get(r)===!1&&i.set(r,!0);else for(const s of i.keys())i.set(s,!0)}}}function Xm(n){const e=[];return"attributes"in n&&n.attributes&&H2(e,n.attributes),"classes"in n&&n.classes&&H2(e,n.classes,"class"),"styles"in n&&n.styles&&H2(e,n.styles,"style"),{name:n.name||!1,attributes:e}}function H2(n,e,t){if(typeof e=="string"){n.push(t?[t,e]:[e]);return}for(const r of e)Array.isArray(r)?n.push(r):n.push(t?[t,r]:[r])}class ua{_patterns=[];constructor(...e){this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const r of this._patterns){const i=this._isElementMatching(t,r);if(i)return{element:t,pattern:r,match:i}}return null}matchAll(...e){const t=[];for(const r of e)for(const i of this._patterns){const s=this._isElementMatching(r,i);s&&t.push({element:r,pattern:i,match:s})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}_isElementMatching(e,t){if(typeof t=="function"){const s=t(e);return!s||typeof s!="object"?s:Xm(s)}const r={};if(t.name&&(r.name=ppe(t.name,e.name),!r.name))return null;const i=[];return t.attributes&&!bpe(t.attributes,e,i)||t.classes&&!ype(t.classes,e,i)||t.styles&&!wpe(t.styles,e,i)?null:(i.length&&(r.attributes=i),r)}}function Iy(n,e){return n===!0||n===e||n instanceof RegExp&&!!String(e).match(n)}function ppe(n,e){return n instanceof RegExp?!!e.match(n):n===e}function vC(n,e){if(Array.isArray(n))return n.map(r=>typeof r!="object"||r instanceof RegExp?e?[e,r,!0]:[r,!0]:((r.key===void 0||r.value===void 0)&&Rt("matcher-pattern-missing-key-or-value",r),e?[e,r.key,r.value]:[r.key,r.value]));if(typeof n!="object"||n instanceof RegExp)return[e?[e,n,!0]:[n,!0]];const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e?[e,r,n[r]]:[r,n[r]]);return t}function bpe(n,e,t){let r;return typeof n=="object"&&!(n instanceof RegExp)&&!Array.isArray(n)?(n.style!==void 0&&Rt("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&Rt("matcher-pattern-deprecated-attributes-class-key",n)):r=["class","style"],e._collectAttributesMatch(vC(n),t,r)}function ype(n,e,t){return e._collectAttributesMatch(vC(n,"class"),t)}function wpe(n,e,t){return e._collectAttributesMatch(vC(n,"style"),t)}class Nf{_styles;_cachedStyleNames=null;_cachedExpandedStyleNames=null;_styleProcessor;constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=_pe(e);for(const[r,i]of t)this._styleProcessor.toNormalizedForm(r,i,this._styles);return this}has(e){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(r)}set(e,t){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,jf(e))for(const[r,i]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,i,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t={};for(const r of Gt(e)){const i=Rk(r),s=t0(this._styles,i);if(s)Ib(t,i,s);else{const o=this.getAsString(r);o!==void 0&&this._styleProcessor.toNormalizedForm(r,o,t)}}Object.keys(t).length&&(JB(this._styles,t),this._cachedStyleNames=null,this._cachedExpandedStyleNames=null)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!jf(this._styles[e]))return this._styles[e];const r=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);if(Array.isArray(r))return r[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?(this._cachedExpandedStyleNames||=this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames||=this.getStylesEntries().map(([t])=>t),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(e){if(this.size!==e.size)return!1;for(const t of this.getStyleNames())if(!e.has(t)||e.getAsString(t)!==this.getAsString(t))return!1;return!0}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const r of t)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_clone(){const e=new this.constructor(this._styleProcessor);return e.set(this.getNormalized()),e}_getTokensMatch(e,t){const r=[];for(const i of this.getStyleNames(!0))if(Iy(e,i)){if(t===!0){r.push(i);continue}const s=this.getAsString(i);Iy(t,s)&&r.push(i)}return r.length?r:void 0}_getConsumables(e){const t=[];if(e){t.push(e);for(const r of this._styleProcessor.getRelatedStyles(e))t.push(r)}else for(const r of this.getStyleNames()){for(const i of this._styleProcessor.getRelatedStyles(r))t.push(i);t.push(r)}return t}_canMergeFrom(e){for(const t of e.getStyleNames())if(this.has(t)&&this.getAsString(t)!==e.getAsString(t))return!1;return!0}_mergeFrom(e){for(const t of e.getStyleNames())this.has(t)||this.set(t,e.getAsString(t))}_isMatching(e){for(const t of e.getStyleNames())if(!this.has(t)||this.getAsString(t)!==e.getAsString(t))return!1;return!0}}class vpe{_normalizers;_extractors;_reducers;_consumables;constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,r){if(jf(t)){Ib(r,Rk(e),t);return}if(this._normalizers.has(e)){const i=this._normalizers.get(e),{path:s,value:o}=i(t);Ib(r,s,o)}else Ib(r,e,t)}getNormalized(e,t){if(!e)return KB({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const r=this._extractors.get(e);if(typeof r=="string")return t0(t,r);const i=r(e,t);if(i)return i}return t0(t,Rk(e))}getReducedForm(e,t){const r=this.getNormalized(e,t);return r===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(r):[[e,r]]}getStyleNames(e){const t=new Set;for(const r of this._consumables.keys()){const i=this.getNormalized(r,e);i&&(typeof i!="object"||Object.keys(i).length)&&t.add(r)}for(const r of Object.keys(e))t.add(r);return Array.from(t)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const r of t)this._mapStyleNames(r,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function _pe(n){let e=null,t=0,r=0,i=null;const s=new Map;if(n==="")return s;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const a=n.charAt(o);if(e===null)switch(a){case":":i||(i=n.substr(t,o-t),r=o+1);break;case'"':case"'":e=a;break;case";":{const l=n.substr(r,o-r);i&&s.set(i.trim(),l.trim()),i=null,t=o+1;break}}else a===e&&(e=null)}return s}function Rk(n){return n.replace("-",".")}function Ib(n,e,t){let r=t;jf(t)&&(r=KB({},t0(n,e),t)),G0e(n,e,r)}function JB(n,e){for(const t of Object.keys(e))n[t]!==null&&!Array.isArray(n[t])&&typeof n[t]=="object"&&typeof e[t]=="object"?(JB(n[t],e[t]),Object.keys(n[t]).length||delete n[t]):delete n[t]}class $2{_set=new Set;get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(e){return this._set.has(e)}keys(){return Array.from(this._set.keys())}setTo(e){this.clear();for(const t of e.split(/\s+/))t&&this._set.add(t);return this}set(e){for(const t of Gt(e))t&&this._set.add(t)}remove(e){for(const t of Gt(e))this._set.delete(t)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(e){if(this.size!==e.size)return!1;for(const t of this.keys())if(!e.has(t))return!1;return!0}_clone(){const e=new this.constructor;return e._set=new Set(this._set),e}_getTokensMatch(e){const t=[];if(e===!0){for(const r of this._set.keys())t.push(r);return t}if(typeof e=="string"){for(const r of e.split(/\s+/))if(this._set.has(r))t.push(r);else return;return t}for(const r of this._set.keys())r.match(e)&&t.push(r);return t.length?t:void 0}_getConsumables(e){return e?[e]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(e){for(const t of e._set.keys())this._set.has(t)||this._set.add(t)}_isMatching(e){for(const t of e._set.keys())if(!this._set.has(t))return!1;return!0}}class So extends Uu{name;_unsafeAttributesToRender=[];_attrs;_children;_customProperties=new Map;get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}constructor(e,t,r,i){super(e),this.name=t,this._attrs=this._parseAttributes(r),this._children=[],i&&this._insertChild(0,i)}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const e of this._attrs.keys())e!="class"&&e!="style"&&(yield e)}*getAttributes(){for(const[e,t]of this._attrs.entries())yield[e,String(t)]}getAttribute(e){return this._attrs.has(e)?String(this._attrs.get(e)):void 0}hasAttribute(e,t){return this._attrs.has(e)?t!==void 0?Hd(this.name,e)||Pm(this.name,e)?this._attrs.get(e).has(t):this._attrs.get(e)===t:!0:!1}isSimilar(e){if(!(e instanceof So))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size)return!1;for(const[t,r]of this._attrs){const i=e._attrs.get(t);if(i===void 0)return!1;if(typeof r=="string"||typeof i=="string"){if(i!==r)return!1}else if(!r.isSimilar(i))return!1}return!0}hasClass(...e){for(const t of e)if(!this._classes||!this._classes.has(t))return!1;return!0}getClassNames(){const e=this._classes?this._classes.keys():[],t=e[Symbol.iterator]();return Object.assign(e,{next:t.next.bind(t)})}getStyle(e){return this._styles&&this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles&&this._styles.getNormalized(e)}getStyleNames(e){return this._styles?this._styles.getStyleNames(e):[]}hasStyle(...e){for(const t of e)if(!this._styles||!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new ua(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(t.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=this._classes?this._classes.keys().sort().join(","):"",t=this._styles&&String(this._styles),r=Array.from(this._attrs).filter(([i])=>i!="style"&&i!="class").map(i=>`${i[0]}="${i[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(r==""?"":` ${r}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}toJSON(){const e=super.toJSON();if(e.name=this.name,e.type="Element",this._attrs.size&&(e.attributes=Object.fromEntries(this.getAttributes())),this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=[];if(e)for(const i of this.getChildren())t.push(i._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,t);return r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this,{index:e});let r=0;const i=xpe(this.document,t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this,{index:e});for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_setAttribute(e,t,r=!0){if(this._fireChange("attributes",this),Hd(this.name,e)||Pm(this.name,e)){let i=this._attrs.get(e);i||(i=Hd(this.name,e)?new Nf(this.document.stylesProcessor):new $2,this._attrs.set(e,i)),r?i.setTo(String(t)):Hd(this.name,e)?Array.isArray(t)?i.set(t[0],t[1]):i.set(t):i.set(typeof t=="string"?t.split(/\s+/):t)}else this._attrs.set(e,String(t))}_removeAttribute(e,t){if(this._fireChange("attributes",this),t!==void 0&&(Hd(this.name,e)||Pm(this.name,e))){const r=this._attrs.get(e);return r?(Pm(this.name,e)&&typeof t=="string"&&(t=t.split(/\s+/)),r.remove(t),r.isEmpty?this._attrs.delete(e):!1):!1}return this._attrs.delete(e)}_addClass(e){this._setAttribute("class",e,!1)}_removeClass(e){this._removeAttribute("class",e)}_setStyle(e,t){typeof e!="string"?this._setAttribute("style",e,!1):this._setAttribute("style",[e,t],!1)}_removeStyle(e){this._removeAttribute("style",e)}_collectAttributesMatch(e,t,r){for(const[i,s,o]of e){let a=!1,l=!1;for(const[u,f]of this._attrs)if(!(r&&r.includes(u)||!Iy(i,u)))if(a=!0,typeof f=="string"){if(Iy(s,f))t.push([u]),l=!0;else if(!(i instanceof RegExp))return!1}else{const m=f._getTokensMatch(s,o||!0);if(m){l=!0;for(const p of m)t.push([u,p])}else if(!(i instanceof RegExp))return!1}if(!a||!l)return!1}return!0}_getConsumables(e,t){const r=[];if(e){const i=this._attrs.get(e);if(i!==void 0)if(typeof i=="string")r.push([e]);else for(const s of i._getConsumables(t))r.push([e,s])}else for(const[i,s]of this._attrs)if(typeof s=="string")r.push([i]);else for(const o of s._getConsumables())r.push([i,o]);return{name:!e,attributes:r}}_canMergeAttributesFrom(e){if(this.name!=e.name)return!1;for(const[t,r]of e._attrs){const i=this._attrs.get(t);if(i!==void 0){if(typeof i=="string"||typeof r=="string"){if(i!==r)return!1}else if(!i._canMergeFrom(r))return!1}}return!0}_mergeAttributesFrom(e){this._fireChange("attributes",this);for(const[t,r]of e._attrs){const i=this._attrs.get(t);i===void 0||typeof i=="string"||typeof r=="string"?this._setAttribute(t,r):i._mergeFrom(r)}}_canSubtractAttributesOf(e){if(this.name!=e.name)return!1;for(const[t,r]of e._attrs){const i=this._attrs.get(t);if(i===void 0)return!1;if(typeof i=="string"||typeof r=="string"){if(i!==r)return!1}else if(!i._isMatching(r))return!1}return!0}_subtractAttributesOf(e){this._fireChange("attributes",this);for(const[t,r]of e._attrs){const i=this._attrs.get(t);typeof i=="string"||typeof r=="string"?this._attrs.delete(t):(i.remove(r.keys()),i.isEmpty&&this._attrs.delete(t))}}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}_parseAttributes(e){const t=la(e);for(const[r,i]of t)if(i===null)t.delete(r);else if(Hd(this.name,r)){const s=i instanceof Nf?i._clone():new Nf(this.document.stylesProcessor).setTo(String(i));t.set(r,s)}else if(Pm(this.name,r)){const s=i instanceof $2?i._clone():new $2().setTo(String(i));t.set(r,s)}else typeof i!="string"&&t.set(r,String(i));return t}}So.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function xpe(n,e){if(typeof e=="string")return[new hr(n,e)];_s(e)||(e=[e]);const t=[];for(const r of e)typeof r=="string"?t.push(new hr(n,r)):r instanceof Ha?t.push(new hr(n,r.data)):t.push(r);return t}function Pm(n,e){return e=="class"||n=="a"&&e=="rel"}function Hd(n,e){return e=="style"}class n0 extends So{constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=Epe}toJSON(){const e=super.toJSON();return e.type="ContainerElement",e}}n0.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Epe(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}class wv extends qt(n0){constructor(e,t,r,i){super(e,t,r,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",s=>s&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}toJSON(){const e=super.toJSON();return e.type="EditableElement",e.isReadOnly=this.isReadOnly,e.isFocused=this.isFocused,e}}wv.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const wR=Symbol("rootName");class QB extends wv{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(wR)}set rootName(e){this._setCustomProperty(wR,e)}toJSON(){return this.rootName}set _name(e){this.name=e}}QB.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class au{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new q("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new q("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Me._createAt(e.startPosition):this._position=Me._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,r;do r=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=r)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(r&&r.is("view:$text")){if(e.isAtEnd)return this._position=Me._createAfter(r),this._next();i=r.data[e.offset]}else i=r.getChild(e.offset);if(typeof i=="string"){let s;this.singleCharacters?s=1:s=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const o=new Ha(r,e.offset,s);return e.offset+=s,this._position=e,this._formatReturnValue("text",o,t,e,s)}if(i&&i.is("view:element")){if(!this.shallow)e=new Me(i,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}if(i&&i.is("view:$text")){if(this.singleCharacters)return e=new Me(i,0),this._position=e,this._next();let s=i.data.length,o;return i==this._boundaryEndParent?(s=this.boundaries.end.offset,o=new Ha(i,0,s),e=Me._createAfter(o)):(o=new Ha(i,0,i.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,t,e,s)}return e=Me._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,t,e)}_previous(){let e=this.position.clone();const t=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(r.is("view:$text")){if(e.isAtStart)return this._position=Me._createBefore(r),this._previous();i=r.data[e.offset-1]}else i=r.getChild(e.offset-1);if(typeof i=="string"){let s;if(this.singleCharacters)s=1;else{const a=r===this._boundaryStartParent?this.boundaries.start.offset:0;s=e.offset-a}e.offset-=s;const o=new Ha(r,e.offset,s);return this._position=e,this._formatReturnValue("text",o,t,e,s)}if(i&&i.is("view:element"))return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",i,t,e,1)):(e=new Me(i,i.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,t,e));if(i&&i.is("view:$text")){if(this.singleCharacters)return e=new Me(i,i.data.length),this._position=e,this._previous();let s=i.data.length,o;if(i==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new Ha(i,a,i.data.length-a),s=o.data.length,e=Me._createBefore(o)}else o=new Ha(i,0,i.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,t,e,s)}return e=Me._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}_formatReturnValue(e,t,r,i,s){return t.is("view:$textProxy")&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(i=Me._createAfter(t.textNode),this._position=i):r=Me._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(i=Me._createBefore(t.textNode),this._position=i):r=Me._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:r,nextPosition:i,length:s}}}}class Me extends Vu{parent;offset;constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof wv);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=Me._createAt(this),r=t.offset+e;return t.offset=r<0?0:r,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new au(t);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let i=0;for(;t[i]==r[i]&&t[i];)i++;return i===0?null:t[i-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),r.push(e.offset);const i=Ir(t,r);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<r[i]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new au(e)}clone(){return new Me(this.parent,this.offset)}toJSON(){return{parent:this.parent.toJSON(),offset:this.offset}}static _createAt(e,t){if(e instanceof Me)return new this(e.parent,e.offset);{const r=e;if(t=="end")t=r.is("$text")?r.data.length:r.childCount;else{if(t=="before")return this._createBefore(r);if(t=="after")return this._createAfter(r);if(t!==0&&!t)throw new q("view-createpositionat-offset-required",r)}return new Me(r,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Me(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new q("view-position-after-root",e,{root:e});return new Me(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Me(e.textNode,e.offsetInText);if(!e.parent)throw new q("view-position-before-root",e,{root:e});return new Me(e.parent,e.index)}}Me.prototype.is=function(n){return n==="position"||n==="view:position"};class ft extends Vu{start;end;constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new au({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(V1,{direction:"backward"}),t=this.end.getLastMatchingPosition(V1);return e.parent.is("$text")&&e.isAtStart&&(e=Me._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Me._createAfter(t.parent)),new ft(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(V1);if(e.isAfter(this.end)||e.isEqual(this.end))return new ft(e,e);let t=this.end.getLastMatchingPosition(V1,{direction:"backward"});const r=e.nodeAfter,i=t.nodeBefore;return r&&r.is("$text")&&(e=new Me(r,0)),i&&i.is("$text")&&(t=new Me(i,i.data.length)),new ft(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&i}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ft(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ft(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new ft(t,r)}return null}getWalker(e={}){return e.boundaries=this,new au(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new ft(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new au(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new au(e);yield t.position;for(const r of t)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}static _createFromParentsAndOffsets(e,t,r,i){return new this(new Me(e,t),new Me(r,i))}static _createFromPositionAndShift(e,t){const r=e,i=e.getShiftedBy(t);return t>0?new this(r,i):new this(i,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Me._createBefore(e),t)}}ft.prototype.is=function(n){return n==="range"||n==="view:range"};function V1(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}class wo extends an(Vu){_ranges;_lastRangeBackward;_isFake;_fakeSelectionLabel;constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const i of e._ranges)if(t.isEqual(i)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Ak(this.getRanges()),r=Ak(e.getRanges());if(t!=r)return!1;if(t==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let s=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),i.start.isEqual(o.start)&&i.end.isEqual(o.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,r,i]=e;if(typeof r=="object"&&(i=r,r=void 0),t===null)this._setRanges([]),this._setFakeOptions(i);else if(t instanceof wo||t instanceof _C)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ft)this._setRanges([t],i&&i.backward),this._setFakeOptions(i);else if(t instanceof Me)this._setRanges([new ft(t)]),this._setFakeOptions(i);else if(t instanceof Uu){const s=!!i&&!!i.backward;let o;if(r===void 0)throw new q("view-selection-setto-required-second-parameter",this);r=="in"?o=ft._createIn(t):r=="on"?o=ft._createOn(t):o=new ft(Me._createAt(t,r)),this._setRanges([o],s),this._setFakeOptions(i)}else if(_s(t))this._setRanges(t,i&&i.backward),this._setFakeOptions(i);else throw new q("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new q("view-selection-setfocus-no-ranges",this);const r=Me._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.pop(),r.compareWith(i)=="before"?this._addRange(new ft(r,i),!0):this._addRange(new ft(i,r)),this.fire("change")}toJSON(){const e={ranges:Array.from(this.getRanges()).map(t=>t.toJSON())};return this.isBackward&&(e.isBackward=!0),this.isFake&&(e.isFake=!0),e}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ft))throw new q("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new q("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ft(e.start,e.end))}}wo.prototype.is=function(n){return n==="selection"||n==="view:selection"};class _C extends an(Vu){_selection;constructor(...e){super(),this._selection=new wo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}toJSON(){return this._selection.toJSON()}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}_C.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class zu extends ul{startRange;_eventPhase;_currentTarget;constructor(e,t,r){super(e,t),this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const W2=Symbol("bubblingEmitter"),j2=Symbol("bubblingCallbacks"),q2=Symbol("bubblingContexts");function kpe(n){class e extends n{fire(r,...i){try{const s=r instanceof ul?r:new ul(this,r),o=G2(this),a=_R(this);if(Im(s,"capturing",this),U1(o,"$capture",s,...i))return s.return;const l=s.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,f=u?Spe(a,u):!1;let m=u||Cpe(l);if(Im(s,"atTarget",m),!f){if(U1(o,"$text",s,...i))return s.return;Im(s,"bubbling",m)}for(;m;){if(m.is("element")&&U1(o,m,s,...i))return s.return;m=m.parent,Im(s,"bubbling",m)}return Im(s,"bubbling",this),U1(o,"$document",s,...i),s.return}catch(s){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(s,this)}}_addEventListener(r,i,s){const o=Gt(s.context||"$document"),a=G2(this),l=vR(this);for(const f of o)typeof f=="function"&&_R(this).add(f);const u=Tpe(this,o,i);l.set(i,u),this.listenTo(a,r,u,s)}_removeEventListener(r,i){const s=G2(this),o=vR(this),a=o.get(i);a&&(o.delete(i),this.stopListening(s,r,a))}}return e}function Im(n,e,t){n instanceof zu&&(n._eventPhase=e,n._currentTarget=t)}function U1(n,e,t,...r){return n.fire(t,{currentTarget:e,eventArgs:r}),!!t.stop.called}function Tpe(n,e,t){return function(r,i){const{currentTarget:s,eventArgs:o}=i;if(typeof s=="string"){e.includes(s)&&t.call(n,r,...o);return}if(s.is("rootElement")&&e.includes("$root")){t.call(n,r,...o);return}if(e.includes(s.name)){t.call(n,r,...o);return}for(const a of e)if(typeof a=="function"&&a(s)){t.call(n,r,...o);return}}}function G2(n){return n[W2]||(n[W2]=new(an())),n[W2]}function vR(n){return n[j2]||(n[j2]=new Map),n[j2]}function _R(n){return n[q2]||(n[q2]=new Set),n[q2]}function Spe(n,e){for(const t of n)if(t(e))return!0;return!1}function Cpe(n){if(!n)return null;const e=n.start.parent,t=n.end.parent,r=e.getPath(),i=t.getPath();return r.length>i.length?e:t}class ZB extends kpe(qt()){selection;roots;stylesProcessor;_postFixers=new Set;constructor(e){super(),this.selection=new _C,this.roots=new sr({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(t=r(e),t)break;while(t)}}const xR=10;class Pf extends So{static DEFAULT_PRIORITY=xR;_priority=xR;_id=null;_clonesGroup=null;constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=Ape}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new q("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}toJSON(){const e=super.toJSON();return e.type="AttributeElement",e}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}_canMergeAttributesFrom(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canMergeAttributesFrom(e)}_canSubtractAttributesOf(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canSubtractAttributesOf(e)}}Pf.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Ape(){if(Y2(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(Y2(n)>1)return null;n=n.parent}return!n||Y2(n)>1?null:this.childCount}function Y2(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}class xC extends So{constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=Npe}toJSON(){const e=super.toJSON();return e.type="EmptyElement",e}_insertChild(e,t){if(t&&(t instanceof Uu||Array.from(t).length>0))throw new q("view-emptyelement-cannot-add",[this,t]);return 0}}xC.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Npe(){return null}class vv extends So{constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=Ipe}_insertChild(e,t){if(t&&(t instanceof Uu||Array.from(t).length>0))throw new q("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const r of this.getAttributeKeys())t.setAttribute(r,this.getAttribute(r));return t}toJSON(){const e=super.toJSON();return e.type="UIElement",e}}vv.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Ppe(n){n.document.on("arrowKey",(e,t)=>Rpe(e,t,n.domConverter),{priority:"low"})}function Ipe(){return null}function Rpe(n,e,t){if(e.keyCode==xt.arrowright){const r=e.domTarget.ownerDocument.defaultView.getSelection(),i=r.rangeCount==1&&r.getRangeAt(0).collapsed;if(i||e.shiftKey){const s=r.focusNode,o=r.focusOffset,a=t.domPositionToView(s,o);if(a===null)return;let l=!1;const u=a.getLastMatchingPosition(f=>(f.item.is("uiElement")&&(l=!0),!!(f.item.is("uiElement")||f.item.is("attributeElement"))));if(l){const f=t.viewPositionToDom(u);i?r.collapse(f.parent,f.offset):r.extend(f.parent,f.offset)}}}}class EC extends So{constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=Ope}toJSON(){const e=super.toJSON();return e.type="RawElement",e}_insertChild(e,t){if(t&&(t instanceof Uu||Array.from(t).length>0))throw new q("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}EC.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Ope(){return null}class gu extends an(Vu){document;_children=[];_customProperties=new Map;constructor(e,t){super(),this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this,{index:e});let r=0;const i=Mpe(this.document,t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this,{index:e});for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_fireChange(e,t,r){this.fire(`change:${e}`,t,r)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}gu.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function Mpe(n,e){return typeof e=="string"?[new hr(n,e)]:(_s(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new hr(n,t):t instanceof Ha?new hr(n,t.data):t))}class eV{document;_cloneGroups=new Map;_slotFactory=null;constructor(e){this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new gu(this.document,e)}createText(e){return new hr(this.document,e)}createAttributeElement(e,t,r={}){const i=new Pf(this.document,e,t);return typeof r.priority=="number"&&(i._priority=r.priority),r.id&&(i._id=r.id),r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createContainerElement(e,t,r={},i={}){let s;Bpe(r)?i=r:s=r;const o=new n0(this.document,e,t,s);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createEditableElement(e,t,r={}){const i=new wv(this.document,e,t);return r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createEmptyElement(e,t,r={}){const i=new xC(this.document,e,t);return r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createUIElement(e,t,r){const i=new vv(this.document,e,t);return r&&(i.render=r),i}createRawElement(e,t,r,i={}){const s=new EC(this.document,e,t);return r&&(s.render=r),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}setAttribute(e,t,r,i){i!==void 0?i._setAttribute(e,t,r):r._setAttribute(e,t)}removeAttribute(e,t,r){r!==void 0?r._removeAttribute(e,t):t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,r){yv(e)&&r===void 0?t._setStyle(e):r._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,r){r._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Me?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new q("view-writer-break-non-container-element",this.document);if(!t.parent)throw new q("view-writer-break-root",this.document);if(e.isAtStart)return Me._createBefore(t);if(!e.isAtEnd){const r=t._clone(!1);this.insert(Me._createAfter(t),r);const i=new ft(e,Me._createAt(t,"end")),s=new Me(r,0);this.move(i,s)}return Me._createAfter(t)}mergeAttributes(e){const t=e.offset,r=e.parent;if(r.is("$text"))return e;if(r.is("attributeElement")&&r.childCount===0){const o=r.parent,a=r.index;return r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Me(o,a))}const i=r.getChild(t-1),s=r.getChild(t);if(!i||!s)return e;if(i.is("$text")&&s.is("$text"))return kR(i,s);if(i.is("attributeElement")&&s.is("attributeElement")&&i.isSimilar(s)){const o=i.childCount;return i._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Me(i,o))}return e}mergeContainers(e){const t=e.nodeBefore,r=e.nodeAfter;if(!t||!r||!t.is("containerElement")||!r.is("containerElement"))throw new q("view-writer-merge-containers-invalid-position",this.document);const i=t.getChild(t.childCount-1),s=i instanceof hr?Me._createAt(i,"end"):Me._createAt(t,"end");return this.move(ft._createIn(r),Me._createAt(t,"end")),this.remove(ft._createOn(r)),s}insert(e,t){t=_s(t)?[...t]:[t],tV(t,this.document);const r=t.reduce((o,a)=>{const l=o[o.length-1],u=!a.is("uiElement");return!l||l.breakAttributes!=u?o.push({breakAttributes:u,nodes:[a]}):l.nodes.push(a),o},[]);let i=null,s=e;for(const{nodes:o,breakAttributes:a}of r){const l=this._insertNodes(s,o,a);i||(i=l.start),s=l.end}return i?new ft(i,s):new ft(e)}remove(e){const t=e instanceof ft?e:ft._createOn(e);if(Rm(t,this.document),t.isCollapsed)return new gu(this.document);const{start:r,end:i}=this._breakAttributesRange(t,!0),s=r.parent,o=i.offset-r.offset,a=s._removeChildren(r.offset,o);for(const u of a)this._removeFromClonedElementsGroup(u);const l=this.mergeAttributes(r);return t.start=l,t.end=l.clone(),new gu(this.document,a)}clear(e,t){Rm(e,this.document);const r=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of r){const s=i.item;let o;if(s.is("element")&&t.isSimilar(s))o=ft._createOn(s);else if(!i.nextPosition.isAfter(e.start)&&s.is("$textProxy")){const a=s.getAncestors().find(l=>l.is("element")&&t.isSimilar(l));a&&(o=ft._createIn(a))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let r;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const i=t.parent,s=i.childCount;e=this._breakAttributesRange(e,!0),r=this.remove(e),t.offset+=i.childCount-s}else r=this.remove(e);return this.insert(t,r)}wrap(e,t){if(!(t instanceof Pf))throw new q("view-writer-wrap-invalid-attribute",this.document);if(Rm(e,this.document),e.isCollapsed){let r=e.start;r.parent.is("element")&&!Dpe(r.parent)&&(r=r.getLastMatchingPosition(s=>s.item.is("uiElement"))),r=this._wrapPosition(r,t);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(r),new ft(r)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Pf))throw new q("view-writer-unwrap-invalid-attribute",this.document);if(Rm(e,this.document),e.isCollapsed)return e;const{start:r,end:i}=this._breakAttributesRange(e,!0),s=r.parent,o=this._unwrapChildren(s,r.offset,i.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ft(a,l)}rename(e,t){const r=new n0(this.document,e,t.getAttributes());return this.insert(Me._createAfter(t),r),this.move(ft._createIn(t),Me._createAt(r,0)),this.remove(ft._createOn(t)),r}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Me._createAt(e,t)}createPositionAfter(e){return Me._createAfter(e)}createPositionBefore(e){return Me._createBefore(e)}createRange(e,t){return new ft(e,t)}createRangeOn(e){return ft._createOn(e)}createRangeIn(e){return ft._createIn(e)}createSelection(...e){return new wo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new q("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,r){let i;if(r?i=Ok(e):i=e.parent.is("$text")?e.parent.parent:e.parent,!i)throw new q("view-writer-invalid-position-container",this.document);let s;r?s=this._breakAttributes(e,!0):s=e.parent.is("$text")?K2(e):e;const o=i._insertChild(s.offset,t);for(const f of t)this._addToClonedElementsGroup(f);const a=s.getShiftedBy(o),l=this.mergeAttributes(s);l.isEqual(s)||a.offset--;const u=this.mergeAttributes(a);return new ft(l,u)}_wrapChildren(e,t,r,i){let s=t;const o=[];for(;s<r;){const l=e.getChild(s),u=l.is("$text"),f=l.is("attributeElement");if(f&&l._canMergeAttributesFrom(i))l._mergeAttributesFrom(i),o.push(new Me(e,s));else if(u||!f||Fpe(i,l)){const m=i._clone();l._remove(),m._appendChild(l),e._insertChild(s,m),this._addToClonedElementsGroup(m),o.push(new Me(e,s))}else this._wrapChildren(l,0,l.childCount,i);s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t)continue;this.mergeAttributes(l).isEqual(l)||(a++,r--)}return ft._createFromParentsAndOffsets(e,t,e,r)}_unwrapChildren(e,t,r,i){let s=t;const o=[];for(;s<r;){const l=e.getChild(s);if(!l.is("attributeElement")){s++;continue}if(l.isSimilar(i)){const u=l.getChildren(),f=l.childCount;l._remove(),e._insertChild(s,u),this._removeFromClonedElementsGroup(l),o.push(new Me(e,s),new Me(e,s+f)),s+=f,r+=f-1;continue}if(l._canSubtractAttributesOf(i)){l._subtractAttributesOf(i),o.push(new Me(e,s),new Me(e,s+1)),s++;continue}this._unwrapChildren(l,0,l.childCount,i),s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t||l.offset==r)continue;this.mergeAttributes(l).isEqual(l)||(a++,r--)}return ft._createFromParentsAndOffsets(e,t,e,r)}_wrapRange(e,t){const{start:r,end:i}=this._breakAttributesRange(e,!0),s=r.parent,o=this._wrapChildren(s,r.offset,i.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ft(a,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return ER(e.clone());e.parent.is("$text")&&(e=K2(e));const r=this.createAttributeElement("_wrapPosition-fake-element");r._priority=Number.POSITIVE_INFINITY,r.isSimilar=()=>!1,e.parent._insertChild(e.offset,r);const i=new ft(e,e.getShiftedBy(1));this.wrap(i,t);const s=new Me(r.parent,r.index);r._remove();const o=s.nodeBefore,a=s.nodeAfter;return o&&o.is("view:$text")&&a&&a.is("view:$text")?kR(o,a):ER(s)}_breakAttributesRange(e,t=!1){const r=e.start,i=e.end;if(Rm(e,this.document),e.isCollapsed){const l=this._breakAttributes(e.start,t);return new ft(l,l)}const s=this._breakAttributes(i,t),o=s.parent.childCount,a=this._breakAttributes(r,t);return s.offset+=s.parent.childCount-o,new ft(a,s)}_breakAttributes(e,t=!1){const r=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new q("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new q("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new q("view-writer-cannot-break-raw-element",this.document);if(!t&&i.is("$text")&&Mk(i.parent)||Mk(i))return e.clone();if(i.is("$text"))return this._breakAttributes(K2(e),t);const s=i.childCount;if(r==s){const o=new Me(i.parent,i.index+1);return this._breakAttributes(o,t)}else if(r===0){const o=new Me(i.parent,i.index);return this._breakAttributes(o,t)}else{const o=i.index+1,a=i._clone();i.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=i.childCount-r,u=i._removeChildren(r,l);a._appendChild(u);const f=new Me(i.parent,o);return this._breakAttributes(f,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const i of e.getChildren())this._addToClonedElementsGroup(i);const t=e.id;if(!t)return;let r=this._cloneGroups.get(t);r||(r=new Set,this._cloneGroups.set(t,r)),r.add(e),e._clonesGroup=r}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const i of e.getChildren())this._removeFromClonedElementsGroup(i);const t=e.id;if(!t)return;const r=this._cloneGroups.get(t);r&&r.delete(e)}}function Dpe(n){return Array.from(n.getChildren()).some(e=>!e.is("uiElement"))}function Ok(n){let e=n.parent;for(;!Mk(e);){if(!e)return;e=e.parent}return e}function Fpe(n,e){return n.priority<e.priority?!0:n.priority>e.priority?!1:n.getIdentity()<e.getIdentity()}function ER(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new Me(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new Me(t,0):n}function K2(n){if(n.offset==n.parent.data.length)return new Me(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Me(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new hr(n.root.document,e)),new Me(n.parent.parent,n.parent.index+1)}function kR(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new Me(n,t)}const Lpe=[hr,Pf,n0,xC,EC,vv];function tV(n,e){for(const t of n){if(!Lpe.some(r=>t instanceof r))throw new q("view-writer-insert-invalid-node-type",e);t.is("$text")||tV(t.getChildren(),e)}}function Mk(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Rm(n,e){const t=Ok(n.start),r=Ok(n.end);if(!t||!r||t!==r)throw new q("view-writer-invalid-range-container",e)}function Bpe(n){return yv(n)}const nV=n=>n.createTextNode(""),rV=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},iV=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},ms=7,r0="".repeat(ms);function pi(n){return typeof n=="string"?n.substr(0,ms)===r0:Dn(n)&&n.data.substr(0,ms)===r0}function df(n){return n.data.length==ms&&pi(n)}function TR(n){const e=typeof n=="string"?n:n.data;return pi(n)?e.slice(ms):e}function Vpe(n){n.document.on("arrowKey",Upe,{priority:"low"})}function Upe(n,e){if(e.keyCode==xt.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const r=t.getRangeAt(0).startContainer,i=t.getRangeAt(0).startOffset;pi(r)&&i<=ms&&t.collapse(r,0)}}}class zpe extends qt(){domDocuments=new Set;domConverter;markedAttributes=new Set;markedChildren=new Set;markedTexts=new Set;selection;_inlineFiller=null;_fakeSelectionContainer=null;constructor(e,t){super(),this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),st.isBlink&&!st.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new q("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!st.isAndroid)return;let e=null;const t=st.isBlink&&!st.isAndroid?!this.isSelecting:!0;for(const r of this.markedChildren)this._updateChildrenMappings(r);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Me._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(t)if(e){const r=this.domConverter.viewPositionToDom(e),i=r.parent.ownerDocument;pi(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=SR(i,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const r=Array.from(t.childNodes),i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),s=this._diffNodeLists(r,i),o=this._findUpdateActions(s,r,i,$pe);if(o.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const l of o)if(l==="update"){const u=a.equal+a.insert,f=a.equal+a.delete,m=e.getChild(u);m&&!m.is("uiElement")&&!m.is("rawElement")&&this._updateElementMappings(m,r[f]),nR(i[u]),a.equal++}else a[l]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Me._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Dn(t.parent)&&pi(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!pi(e))throw new q("view-renderer-filler-was-lost",this);df(e)?e.remove():e.data=e.data.substr(ms),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!Hpe(t))return!1;const i=e.nodeBefore,s=e.nodeAfter;return!(i instanceof hr||s instanceof hr||r===t.getFillerOffset()&&(!i||!i.is("element","br"))||st.isAndroid&&(i||s))}_updateText(e,t){const r=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(s=r0+s),this._updateTextNode(r,s)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(t){for(const r of Array.from(t.attributes)){const i=r.name;e.hasAttribute(i)||this.domConverter.removeDomElementAttribute(t,i)}for(const r of e.getAttributeKeys())this.domConverter.setDomElementAttribute(t,r,e.getAttribute(r),e)}}_updateChildren(e,t){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(st.isAndroid){let m=null;for(const p of Array.from(r.childNodes)){if(m&&Dn(m)&&Dn(p)){r.normalize();break}m=p}}const i=t.inlineFillerPosition,s=r.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));i&&i.parent===e&&SR(r.ownerDocument,o,i.offset);const a=this._diffNodeLists(s,o),l=this._findUpdateActions(a,s,o,Wpe);let u=0;const f=new Set;for(const m of l)m==="delete"?(f.add(s[u]),nR(s[u])):(m==="equal"||m==="update")&&u++;u=0;for(const m of l)m==="insert"?(IB(r,u,o[u]),u++):m==="update"?(this._updateTextNode(s[u],o[u].data),u++):m==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[u])),u++);for(const m of f)m.parentNode||this.domConverter.unbindDomElement(m)}_diffNodeLists(e,t){return e=Gpe(e,this._fakeSelectionContainer),Af(e,t,jpe.bind(null,this.domConverter))}_findUpdateActions(e,t,r,i){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],o=[],a=[];const l={equal:0,insert:0,delete:0};for(const u of e)u==="insert"?a.push(r[l.equal+l.insert]):u==="delete"?o.push(t[l.equal+l.delete]):(s=s.concat(Af(o,a,i).map(f=>f==="equal"?"update":f)),s.push("equal"),o=[],a=[]),l[u]++;return s.concat(Af(o,a,i).map(u=>u==="equal"?"update":u))}_updateTextNode(e,t){const r=e.data;r!=t&&(st.isAndroid&&this.isComposing&&r.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,t))}_updateTextNodeInternal(e,t){const r=yB(e.data,t);for(const i of r)i.type==="insert"?e.insertData(i.index,i.values.join("")):e.deleteData(i.index,i.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(st.isBlink&&!st.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);if(!this.isFocused||!e){!this.selection.isFake&&this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected&&this._removeFakeSelection();return}this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&st.isAndroid||this._updateDomSelection(e)}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Ype(t));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!r.parentElement||r.parentElement!=e)&&e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||"";const i=t.getSelection(),s=t.createRange();i.removeAllRanges(),s.selectNodeContents(r),i.addRange(s)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(r.parent,r.offset,i.parent,i.offset),st.isGecko&&qpe(i,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!t||t.parentElement!==e||r.anchorNode!==t&&!t.contains(r.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const r=e.activeElement,i=this.domConverter.mapDomToView(r);r&&i&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Hpe(n){if(n.getAttribute("contenteditable")=="false")return!1;const e=n.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function SR(n,e,t){const r=e instanceof Array?e:e.childNodes,i=r[t];if(Dn(i))return i.data=r0+i.data,i;{const s=n.createTextNode(r0);return Array.isArray(e)?r.splice(t,0,s):IB(e,t,s),s}}function $pe(n,e){return cc(n)&&cc(e)&&!Dn(n)&&!Dn(e)&&!bg(n)&&!bg(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function Wpe(n,e){return cc(n)&&cc(e)&&Dn(n)&&Dn(e)}function jpe(n,e,t){return e===t?!0:Dn(e)&&Dn(t)?e.data===t.data:!!(n.isBlockFiller(e)&&n.isBlockFiller(t))}function qpe(n,e){let t=n.parent,r=n.offset;if(Dn(t)&&df(t)&&(r=cf(t)+1,t=t.parentNode),t.nodeType!=Node.ELEMENT_NODE||r!=t.childNodes.length-1)return;const i=t.childNodes[r];i&&i.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function Gpe(n,e){const t=Array.from(n);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function Ype(n){const e=n.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}const Kpe=iV(qe.document),Xpe=nV(qe.document),Jpe=rV(qe.document),z1="data-ck-unsafe-attribute-",CR="data-ck-unsafe-element";class sV{document;renderingMode;blockFillerMode;preElements;blockElements;inlineObjectElements;unsafeElements;_domDocument;_domToViewMapping=new WeakMap;_viewToDomMapping=new WeakMap;_fakeSelectionMapping=new WeakMap;_rawContentElementMatcher=new ua;_inlineObjectElementMatcher=new ua;_elementsWithTemporaryCustomProperties=new Set;constructor(e,{blockFillerMode:t,renderingMode:r="editing"}={}){this.document=e,this.renderingMode=r,this.blockFillerMode=t||(r==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?qe.document:qe.document.implementation.createHTMLDocument("")}get domDocument(){return this._domDocument}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new wo(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const r of e.children)this.unbindDomElement(r)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,r){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:r==="img"&&(e==="src"||e==="srcset")||r==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const r=new DOMParser().parseFromString(t,"text/html"),i=r.createDocumentFragment(),s=r.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);const o=r.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const u of a){for(const m of u.getAttributeNames())this.setDomElementAttribute(u,m,u.getAttribute(m));const f=u.tagName.toLowerCase();this._shouldRenameElement(f)&&(IR(f),u.replaceWith(this._createReplacementDomElement(f,u)))}for(;e.firstChild;)e.firstChild.remove();e.append(i)}viewToDom(e,t={}){if(e.is("$text")){const r=this._processDataFromViewText(e);return this._domDocument.createTextNode(r)}else{const r=e;if(this.mapViewToDom(r))if(r.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(r);else return this.mapViewToDom(r);let i;if(r.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,r);else{if(r.is("uiElement"))return r.name==="$comment"?i=this._domDocument.createComment(r.getCustomProperty("$rawContent")):i=r.render(this._domDocument,this),t.bind&&this.bindElements(i,r),i;this._shouldRenameElement(r.name)?(IR(r.name),i=this._createReplacementDomElement(r.name)):r.hasAttribute("xmlns")?i=this._domDocument.createElementNS(r.getAttribute("xmlns"),r.name):i=this._domDocument.createElement(r.name),r.is("rawElement")&&r.render(i,this),t.bind&&this.bindElements(i,r);for(const s of r.getAttributeKeys())this.setDomElementAttribute(i,s,r.getAttribute(s),r)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(r,t))i instanceof HTMLTemplateElement?i.content.appendChild(s):i.appendChild(s);return i}}setDomElementAttribute(e,t,r,i){const s=this.shouldRenderAttribute(t,r,e.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(t);if(s||Rt("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:r}),!RB(t)){Rt("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:r});return}e.hasAttribute(t)&&!s?e.removeAttribute(t):e.hasAttribute(z1+t)&&s&&e.removeAttribute(z1+t),e.setAttribute(s?t:z1+t,r)}removeDomElementAttribute(e,t){t!=CR&&(e.removeAttribute(t),e.removeAttribute(z1+t))}*viewChildrenToDom(e,t={}){const r=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const s of e.getChildren()){r===i&&(yield this._getBlockFiller());const o=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!_n(s.getAttributes());if(o&&this.renderingMode=="data")if(s.is("rawElement")){const a=this._domDocument.createElement(s.name);s.render(a,this),yield*[...a.childNodes]}else yield*this.viewChildrenToDom(s,t);else o&&Rt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,t);i++}r===i&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),r=this.viewPositionToDom(e.end),i=this._domDocument.createRange();return i.setStart(t.parent,t.offset),i.setEnd(r.parent,r.offset),i}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const r=this.findCorrespondingDomText(t);if(!r)return null;let i=e.offset;return pi(r)&&(i+=ms),r.data&&i>r.data.length&&(i=r.data.length),{parent:r,offset:i}}else{let r,i,s;if(e.offset===0){if(r=this.mapViewToDom(t),!r)return null;s=r.childNodes[0]}else{const a=e.nodeBefore;if(i=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!i)return null;r=i.parentNode,s=i.nextSibling}if(Dn(s)&&pi(s))return{parent:s,offset:ms};const o=i?cf(i)+1:0;return{parent:r,offset:o}}}domToView(e,t={}){const r=[],i=this._domToView(e,t,r),s=i.next().value;return!s||(i.next(),this._processDomInlineNodes(null,r,t),this.blockFillerMode=="br"&&NR(s))||s.is("$text")&&s.data.length==0?null:s}*domChildrenToView(e,t={},r=[]){let i=[];e instanceof HTMLTemplateElement?i=[...e.content.childNodes]:i=[...e.childNodes];for(let s=0;s<i.length;s++){const o=i[s],a=this._domToView(o,t,r),l=a.next().value;l!==null&&(this._isBlockViewElement(l)&&this._processDomInlineNodes(e,r,t),this.blockFillerMode=="br"&&NR(l)||(yield l),a.next())}this._processDomInlineNodes(e,r,t)}domSelectionToView(e){if(n1e(e))return new wo([]);if(e.rangeCount===1){let i=e.getRangeAt(0).startContainer;Dn(i)&&(i=i.parentNode);const s=this.fakeSelectionToView(i);if(s)return s}const t=this.isDomSelectionBackward(e),r=[];for(let i=0;i<e.rangeCount;i++){const s=e.getRangeAt(i),o=this.domRangeToView(s);o&&r.push(o)}return new wo(r,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),r=this.domPositionToView(e.endContainer,e.endOffset);return t&&r?new ft(t,r):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,cf(e));const r=this.mapDomToView(e);if(r&&(r.is("uiElement")||r.is("rawElement")))return Me._createBefore(r);if(Dn(e)){if(df(e))return this.domPositionToView(e.parentNode,cf(e));const i=this.findCorrespondingViewText(e);let s=t;return i?(pi(e)&&(s-=ms,s=s<0?0:s),new Me(i,s)):null}else{if(t===0){const i=this.mapDomToView(e);if(i)return new Me(i,0)}else{const i=e.childNodes[t-1];if(Dn(i)&&df(i)||i&&this.isBlockFiller(i))return this.domPositionToView(i.parentNode,cf(i));const s=Dn(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(s&&s.parent)return new Me(s.parent,s.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(df(e))return null;const t=this.getHostViewElement(e);if(t)return t;const r=e.previousSibling;if(r){if(!this.isElement(r))return null;const i=this.mapDomToView(r);if(i){const s=i.nextSibling;return s instanceof hr?s:null}}else{const i=this.mapDomToView(e.parentNode);if(i){const s=i.getChild(0);return s instanceof hr?s:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(!t||t.ownerDocument.activeElement===t)return;const{scrollX:r,scrollY:i}=qe.window,s=[];AR(t,o=>{const{scrollLeft:a,scrollTop:l}=o;s.push([a,l])}),t.focus({preventScroll:!0}),AR(t,o=>{const[a,l]=s.shift();o.scrollLeft=a,o.scrollTop=l}),qe.window.scrollTo(r,i)}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),r=this.domSelectionToView(t);r&&r.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Kpe):PR(e,this.blockElements)?!0:e.isEqualNode(Jpe)||Zpe(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const r=t.collapsed;return t.detach(),r}getHostViewElement(e){const t=Rge(e);for(t.pop();t.length;){const r=t.pop(),i=this._domToViewMapping.get(r);if(i&&(i.is("uiElement")||i.is("rawElement")))return i}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return nV(this._domDocument);case"markedNbsp":return rV(this._domDocument);case"br":return iV(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Dn(e)&&pi(e)&&t<ms||this.isElement(e)&&pi(e.childNodes[t]))return!1;const r=this.mapDomToView(e);return!(r&&(r.is("uiElement")||r.is("rawElement")))}*_domToView(e,t,r){if(this.blockFillerMode!="br"&&PR(e,this.blockElements))return null;const i=this.getHostViewElement(e);if(i)return i;if(bg(e)&&t.skipComments)return null;if(Dn(e)){if(df(e))return null;{const s=e.data;if(s==="")return null;const o=new hr(this.document,s);return r.push(o),o}}else{let s=this.mapDomToView(e);if(s)return this._isInlineObjectElement(s)&&r.push(s),s;if(this.isDocumentFragment(e))s=new gu(this.document),t.bind&&this.bindDocumentFragments(e,s);else{s=this._createViewElement(e,t),t.bind&&this.bindElements(e,s);const a=e.attributes;if(a)for(let l=a.length,u=0;u<l;u++)s._setAttribute(a[u].name,a[u].value);if(this._isViewElementWithRawContent(s,t))return s._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(s)||r.push(s),s;if(bg(e))return s._setCustomProperty("$rawContent",e.data),s}yield s;const o=[];if(t.withChildren!==!1)for(const a of this.domChildrenToView(e,t,o))s._appendChild(a);if(this._isInlineObjectElement(s))r.push(s),this._processDomInlineNodes(null,o,t);else for(const a of o)r.push(a)}}_processDomInlineNodes(e,t,r){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let i=!1;for(let s=0;s<t.length;s++){const o=t[s];if(!o.is("$text")){i=!1;continue}let a,l=!1;if(this._isPreFormatted(o))a=TR(o.data);else{a=o.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const u=s>0?t[s-1]:null,f=s+1<t.length?t[s+1]:null,m=!u||u.is("element")&&u.name=="br"||i,p=f?!1:!pi(o.data);r.withChildren!==!1&&(m&&(a=a.replace(/^ /,"")),p&&(a=a.replace(/ $/,""))),a=TR(a),this.blockFillerMode!="br"&&o.parent&&(t1e(o.parent,a)?(a="",o.parent.parent&&(o.parent.parent._setCustomProperty("$hasBlockFiller",!0),o.parent._remove())):e1e(o.parent,a,this.blockElements)&&(a="",o.parent._setCustomProperty("$hasBlockFiller",!0))),a=a.replace(/ \u00A0/g,"  ");const y=f&&f.is("element")&&f.name!="br",v=f&&f.is("$text")&&f.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!f||y||v)&&(a=a.replace(/\u00A0$/," ")),(m||u&&u.is("element")&&u.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&o.parent?(o._remove(),t.splice(s,1),s--):(o._data=a,i=l)}t.length=0}_processDataFromViewText(e){let t=e.data;if(this._isPreFormatted(e))return t;if(t.charAt(0)==" "){const r=this._getTouchingInlineViewNode(e,!1);(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r)||!r)&&(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const r=this._getTouchingInlineViewNode(e,!0),i=r&&r.is("$textProxy")&&r.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!r||i)&&(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_isPreFormatted(e){if(Qpe(e,this.preElements))return!0;for(const t of e.getAncestors({parentFirst:!0}))if(!(!t.is("element")||!t.hasStyle("white-space")||t.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(t.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,t){const r=new au({startPosition:t?Me._createAfter(e):Me._createBefore(e),direction:t?"forward":"backward"});for(const{item:i}of r){if(i.is("$textProxy"))return i;if(i.is("element")&&i.getCustomProperty("dataPipeline:transparentRendering"))continue;if(i.is("element","br"))return null;if(this._isInlineObjectElement(i))return i;if(i.is("containerElement")||this._isBlockViewElement(i))return null}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(bg(e))return new vv(this.document,"$comment");const r=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new So(this.document,r)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const r=this._domDocument.createElement("span");if(r.setAttribute(CR,e),t){for(;t.firstChild;)r.appendChild(t.firstChild);for(const i of t.getAttributeNames())r.setAttribute(i,t.getAttribute(i))}return r}}function Qpe(n,e){return n.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function AR(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function Zpe(n,e){return n.isEqualNode(Xpe)&&oV(n,e)&&n.parentNode.childNodes.length===1}function oV(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function e1e(n,e,t){return e==""&&n&&n.is("element")&&n.childCount==1&&t.includes(n.name)}function t1e(n,e){return e==""&&n&&n.is("element","span")&&n.childCount==1&&n.hasAttribute("data-cke-filler")}function NR(n){return n.is("element","br")&&n.hasAttribute("data-cke-filler")}function PR(n,e){return n.tagName==="BR"&&oV(n,e)&&n.parentNode.childNodes.length===1}function IR(n){n==="script"&&Rt("domconverter-unsafe-script-element-detected"),n==="style"&&Rt("domconverter-unsafe-style-element-detected")}function n1e(n){if(!st.isGecko||!n.rangeCount)return!1;const e=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}class Oo extends Ei(){view;document;_isEnabled=!1;constructor(e){super(),this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class Au{view;document;domEvent;domTarget;constructor(e,t,r){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,tpe(this,r)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Mo extends Oo{useCapture=!1;usePassive=!1;observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(e,r,(i,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,t,r){this.isEnabled&&this.document.fire(e,new Au(this.view,t,r))}}class r1e extends Mo{domEventType=["keydown","keyup"];onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Cu(this)}};this.fire(e.type,e,t)}}class i1e extends Oo{_fireSelectionChangeDoneDebounced;constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Pk(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,r=new wo(t.getRanges(),{backward:t.isBackward,fake:!1});(e==xt.arrowleft||e==xt.arrowup)&&r.setTo(r.getFirstPosition()),(e==xt.arrowright||e==xt.arrowdown)&&r.setTo(r.getLastPosition());const i={oldSelection:t,newSelection:r,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}let aV=class extends Oo{domConverter;_config;_domElements;_mutationObserver;constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,r=new Set,i=new Set;for(const o of e){const a=t.mapDomToView(o.target);a&&(a.is("uiElement")||a.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&i.add(a))}for(const o of e){const a=t.mapDomToView(o.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&o.type==="characterData"){const l=t.findCorrespondingViewText(o.target);l&&!i.has(l.parent)?r.add(l):!l&&pi(o.target)&&i.add(t.mapDomToView(o.target.parentNode))}}const s=[];for(const o of r)s.push({type:"text",node:o});for(const o of i){const a=t.mapViewToDom(o),l=Array.from(o.getChildren()),u=Array.from(t.domChildrenToView(a,{withChildren:!1}));Ik(l,u,s1e)||s.push({type:"children",node:o})}s.length&&this.document.fire("mutations",{mutations:s})}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function s1e(n,e){if(!Array.isArray(n))return n===e?!0:n.is("$text")&&e.is("$text")?n.data===e.data:!1}class Ry extends Mo{_renderTimeoutId=null;_isFocusChanging=!1;domEventType=["focus","blur"];constructor(e){super(e),this.useCapture=!0;const t=this.document;t.on("focus",()=>this._handleFocus()),t.on("blur",(r,i)=>this._handleBlur(i)),t.on("beforeinput",()=>{t.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const t=this.document.selection.editableElement;(t===null||t===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class o1e extends Oo{mutationObserver;focusObserver;selection;domConverter;_documents=new WeakSet;_fireSelectionChangeDoneDebounced;_clearInfiniteLoopInterval;_documentIsSelectingInactivityTimeoutDebounced;_loopbackCounter=0;_pendingSelectionChange=new Set;constructor(e){super(e),this.mutationObserver=e.getObserver(aV),this.focusObserver=e.getObserver(Ry),this.selection=this.document.selection,this.domConverter=e.domConverter,this._fireSelectionChangeDoneDebounced=Pk(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Pk(()=>this.document.isSelecting=!1,5e3),this.view.document.on("change:isFocused",(t,r,i)=>{if(i&&this._pendingSelectionChange.size){for(const s of Array.from(this._pendingSelectionChange))this._handleSelectionChange(s);this._pendingSelectionChange.clear()}})}observe(e){const t=e.ownerDocument,r=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},i=()=>{this.document.isSelecting&&(this._handleSelectionChange(t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",r,{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",()=>{this.document.isComposing&&!st.isAndroid||(this._handleSelectionChange(t),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(t)},{priority:"lowest"}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const t=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(t.anchorNode))return;this.mutationObserver.flush();const r=this.domConverter.domSelectionToView(t);if(r.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.view.document.isFocused&&!this.view.document.isReadOnly){this._pendingSelectionChange.add(e);return}if(this._pendingSelectionChange.delete(e),!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(t))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(!a1e(r))this.view.forceRender();else if(this.selection.isSimilar(r))this.view.forceRender();else{const i={oldSelection:this.selection,newSelection:r,domSelection:t};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}function a1e(n){return Array.from(n.getRanges()).flatMap(e=>[e.start.root,e.end.root]).every(e=>e&&e.is("rootElement"))}class l1e extends Mo{domEventType=["compositionstart","compositionupdate","compositionend"];constructor(e){super(e);const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0}),t.on("compositionend",()=>{t.isComposing=!1})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class lV{_files;_native;constructor(e,t={}){this._files=t.cacheFiles?RR(e):null,this._native=e}get files(){return this._files||(this._files=RR(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,r){this._native.setDragImage(e,t,r)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function RR(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(r=>r.kind==="file").map(r=>r.getAsFile())}class c1e extends Mo{domEventType="beforeinput";onDomEvent(e){const t=e.getTargetRanges(),r=this.view,i=r.document;let s=null,o=null,a=[];if(e.dataTransfer&&(s=new lV(e.dataTransfer)),e.data!==null?o=e.data:s&&(o=s.getData("text/plain")),i.selection.isFake)a=Array.from(i.selection.getRanges()),e.preventDefault();else if(t.length)a=t.map(l=>{let u=r.domConverter.domPositionToView(l.startContainer,l.startOffset);const f=r.domConverter.domPositionToView(l.endContainer,l.endOffset);if(u&&pi(l.startContainer)&&l.startOffset<ms){e.preventDefault();let m=ms-l.startOffset;u=u.getLastMatchingPosition(p=>!!(p.item.is("attributeElement")||p.item.is("uiElement")||p.item.is("$textProxy")&&m--),{direction:"backward",singleCharacters:!0})}if(u1e(l.endContainer,l.endOffset)&&e.preventDefault(),u)return r.createRange(u,f);if(f)return r.createRange(f)}).filter(l=>!!l);else if(st.isAndroid){const l=e.target.ownerDocument.defaultView.getSelection();a=Array.from(r.domConverter.domSelectionToView(l).getRanges())}if(st.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(a[0].end)]});return}if(["insertText","insertReplacementText"].includes(e.inputType)&&o&&o.includes(`
`)){const l=o.split(/\n{1,2}/g);let u=a;e.preventDefault();for(let f=0;f<l.length;f++){const m=l[f];m!=""&&(this.fire(e.type,e,{data:m,dataTransfer:s,targetRanges:u,inputType:e.inputType,isComposing:e.isComposing}),u=[i.selection.getFirstRange()]),f+1<l.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:u}),u=[i.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:s,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}function u1e(n,e){for(;n.parentNode;){if(Dn(n)){if(e!=n.data.length)return!1}else if(e!=n.childNodes.length)return!1;if(e=cf(n)+1,n=n.parentNode,e<n.childNodes.length&&pi(n.childNodes[e]))return!0}return!1}class d1e extends Oo{constructor(e){super(e),this.document.on("keydown",(t,r)=>{if(this.isEnabled&&Wge(r.keyCode)){const i=new zu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(i,r),i.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class f1e extends Oo{constructor(e){super(e);const t=this.document;t.on("keydown",(r,i)=>{if(!this.isEnabled||i.keyCode!=xt.tab||i.ctrlKey)return;const s=new zu(t,"tab",t.selection.getFirstRange());t.fire(s,i),s.stop.called&&r.stop()})}observe(){}stopObserving(){}}class h1e extends qt(){document;domConverter;domRoots=new Map;_renderer;_initialDomRootAttributes=new WeakMap;_observers=new Map;_writer;_ongoingChange=!1;_postFixersInProgress=!1;_renderingDisabled=!1;_hasChangedSinceTheLastRendering=!1;constructor(e){super(),this.document=new ZB(e),this.domConverter=new sV(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new zpe(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new eV(this.document),this.addObserver(aV),this.addObserver(Ry),this.addObserver(o1e),this.addObserver(r1e),this.addObserver(i1e),this.addObserver(l1e),this.addObserver(d1e),this.addObserver(c1e),this.addObserver(f1e),Vpe(this),Ppe(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),st.isiOS&&this.listenTo(this.document,"blur",(t,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(t,{mutations:r})=>{r.forEach(i=>this._renderer.markToSync(i.type,i.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,t="main"){const r=this.document.getRoot(t);r._name=e.tagName.toLowerCase();const i={};for(const{name:o,value:a}of Array.from(e.attributes))i[o]=a,o==="class"?this._writer.addClass(a.split(" "),r):r.hasAttribute(o)||this._writer.setAttribute(o,a,r);this._initialDomRootAttributes.set(e,i);const s=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};s(),this.domRoots.set(t,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(o,a)=>this._renderer.markToSync("children",a)),r.on("change:attributes",(o,a)=>this._renderer.markToSync("attributes",a)),r.on("change:text",(o,a)=>this._renderer.markToSync("text",a)),r.on("change:isReadOnly",()=>this.change(s)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:i})=>t.removeAttribute(i));const r=this._initialDomRootAttributes.get(t);for(const i in r)t.setAttribute(i,r[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const i of this._observers.values())i.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[r,i]of this.domRoots)t.observe(i,r);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:r=20,ancestorOffset:i=20}={}){const s=this.document.selection.getFirstRange();if(!s)return;const o=ca({alignToTop:e,forceScroll:t,viewportOffset:r,ancestorOffset:i});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const a={target:this.domConverter.viewRangeToDom(s),viewportOffset:r,ancestorOffset:i,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",a,o),DB(a)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new q("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Ry).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Me._createAt(e,t)}createPositionAfter(e){return Me._createAfter(e)}createPositionBefore(e){return Me._createBefore(e)}createRange(e,t){return new ft(e,t)}createRangeOn(e){return ft._createOn(e)}createRangeIn(e){return ft._createIn(e)}createSelection(...e){return new wo(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class yc{is(){throw new Error("is() method is abstract")}}class bo extends yc{textNode;data;offsetInText;constructor(e,t,r){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new q("model-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.offsetSize)throw new q("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}bo.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class qa{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;_visitedParent;constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new q("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new q("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Ne._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,r,i,s;do i=this.position,s=this._visitedParent,{done:t,value:r}=this.next();while(!t&&e(r));t||(this._position=i,this._visitedParent=s)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone(),this._visitedParent=e.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),r=this._visitedParent;if(r.parent===null&&t.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=vg(t,r),s=i||cV(t,r,i);if(s&&s.is("model:element")){if(!this.shallow)t.path.push(0),this._visitedParent=s;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,Wc("elementStart",s,e,t,1)}if(s&&s.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let u=s.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<u&&(u=this.boundaries.end.offset),o=u-t.offset}const a=t.offset-s.startOffset,l=new bo(s,a,o);return t.offset+=o,this._position=t,Wc("text",l,e,t,o)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():Wc("elementEnd",r,e,t)}_previous(){const e=this.position,t=this.position.clone(),r=this._visitedParent;if(r.parent===null&&t.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=t.parent,s=vg(t,i),o=s||uV(t,i,s);if(o&&o.is("model:element"))return t.offset--,this.shallow?(this._position=t,Wc("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Wc("elementEnd",o,e,t));if(o&&o.is("model:$text")){let a;if(this.singleCharacters)a=1;else{let f=o.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>f&&(f=this.boundaries.start.offset),a=t.offset-f}const l=t.offset-o.startOffset,u=new bo(o,l-a,a);return t.offset-=a,this._position=t,Wc("text",u,e,t,a)}return t.path.pop(),this._position=t,this._visitedParent=r.parent,Wc("elementStart",r,e,t,1)}}function Wc(n,e,t,r,i){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:r,length:i}}}class Ne extends yc{root;path;stickiness;constructor(e,t,r="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new q("model-position-root-invalid",e);if(!Array.isArray(t)||t.length===0)throw new q("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)throw new q("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new q("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return vg(this,this.parent)}get nodeAfter(){const e=this.parent;return cV(this,e,vg(this,e))}get nodeBefore(){const e=this.parent;return uV(this,e,vg(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Ir(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new qa(t);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Ir(this.path,e.path),r=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,r)}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let i=0;for(;t[i]==r[i]&&t[i];)i++;return i===0?null:t[i-1]}getShiftedBy(e){const t=this.clone(),r=t.offset+e;return t.offset=r<0?0:r,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let r=0;r<t;r++){const i=this.path[r]-e.path[r];if(i<-1||i>1)return!1;if(i===1)return OR(e,this,r);if(i===-1)return OR(this,e,r)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Dk(this.path,t):Dk(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),r=e.getParentPath();return Ir(t,r)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Ne._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,r=t.containsPosition(this)||t.start.isEqual(this);let i;return r?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?i=Ne._createAt(e.deletionPosition):i=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const r=Ne._createAt(this);if(this.root!=e.root)return r;if(Ir(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;r.offset-=t}}else if(Ir(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+t>this.path[i])return null;r.path[i]-=t}}return r}_getTransformedByInsertion(e,t){const r=Ne._createAt(this);if(this.root!=e.root)return r;if(Ir(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=t);else if(Ir(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;e.offset<=this.path[i]&&(r.path[i]+=t)}return r}_getTransformedByMove(e,t,r){if(t=t._getTransformedByDeletion(e,r),e.isEqual(t))return Ne._createAt(this);const i=this._getTransformedByDeletion(e,r);return i===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):i._getTransformedByInsertion(t,r)}_getCombined(e,t){const r=e.path.length-1,i=Ne._createAt(t);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[r]-e.offset,i.path=[...i.path,...this.path.slice(r+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,r="toNone"){if(e.is("model:position"))return new Ne(e.root,e.path,e.stickiness);{const i=e;if(t=="end")t=i.maxOffset;else{if(t=="before")return this._createBefore(i,r);if(t=="after")return this._createAfter(i,r);if(t!==0&&!t)throw new q("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new q("model-position-parent-incorrect",[this,e]);const s=i.getPath();return s.push(t),new this(i.root,s,r)}}static _createAfter(e,t){if(!e.parent)throw new q("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new q("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const r=new Ne(t.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!t.getRoot(e.root))throw new q("model-position-fromjson-no-root",t,{rootName:e.root});return new Ne(t.getRoot(e.root),e.path,e.stickiness)}}Ne.prototype.is=function(n){return n==="position"||n==="model:position"};function vg(n,e){const t=e.getChildAtOffset(n.offset);return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function cV(n,e,t){return t!==null?null:e.getChildAtOffset(n.offset)}function uV(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function OR(n,e,t){return!(t+1===n.path.length||!Dk(e.path,t+1)||!m1e(n,t+1))}function Dk(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}function m1e(n,e){let t=n.parent,r=n.path.length-1,i=0;for(;r>=e;){if(n.path[r]+i!==t.maxOffset)return!1;i=1,r--,t=t.parent}return!0}class he extends yc{start;end;constructor(e,t){super(),this.start=Ne._createAt(e),this.end=t?Ne._createAt(t):Ne._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new qa({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return Ir(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&i}containsItem(e){const t=Ne._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new he(this.start,e.start)),this.containsPosition(e.end)&&t.push(new he(e.end,this.end))):t.push(new he(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new he(t,r)}return null}getJoined(e,t=!1){let r=this.isIntersecting(e);if(r||(this.start.isBefore(e.start)?r=t?this.end.isTouching(e.start):this.end.isEqual(e.start):r=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let i=this.start,s=this.end;return e.start.isBefore(i)&&(i=e.start),e.end.isAfter(s)&&(s=e.end),new he(i,s)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,r=Ne._createAt(this.start);let i=r.parent;for(;r.path.length>t+1;){const s=i.maxOffset-r.offset;s!==0&&e.push(new he(r,r.getShiftedBy(s))),r.path=r.path.slice(0,-1),r.offset++,i=i.parent}for(;r.path.length<=this.end.path.length;){const s=this.end.path[r.path.length-1],o=s-r.offset;o!==0&&e.push(new he(r,r.getShiftedBy(o))),r.offset=s,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new qa(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new qa(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new qa(e);yield t.position;for(const r of t)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new he(this.start,this.end)]}getTransformedByOperations(e){const t=[new he(this.start,this.end)];for(const r of e)for(let i=0;i<t.length;i++){const s=t[i].getTransformedByOperation(r);t.splice(i,1,...s),i+=s.length-1}for(let r=0;r<t.length;r++){const i=t[r];for(let s=r+1;s<t.length;s++){const o=t[s];(i.containsRange(o)||o.containsRange(i)||i.isEqual(o))&&t.splice(s,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const r=e.sourcePosition,i=e.howMany,s=e.targetPosition;return this._getTransformedByMove(r,s,i,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),t.root!=r.root&&(r=this.end.getShiftedBy(-1)),new he(t,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new he(this.start);let t=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return t.root!=r.root&&(r=this.end.getShiftedBy(-1)),t.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Ne._createAt(r),t.offset=0):(e.deletionPosition.isEqual(t)||(r=e.deletionPosition),t=e.targetPosition),new he(t,r)):new he(t,r)}_getTransformedByInsertion(e,t,r=!1){if(r&&this.containsPosition(e))return[new he(this.start,e),new he(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const i=new he(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,t),i.end=i.end._getTransformedByInsertion(e,t),[i]}}_getTransformedByMove(e,t,r,i=!1){if(this.isCollapsed){const m=this.start._getTransformedByMove(e,t,r);return[new he(m)]}const s=he._createFromPositionAndShift(e,r),o=t._getTransformedByDeletion(e,r);if(this.containsPosition(t)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const m=this.start._getTransformedByMove(e,t,r),p=this.end._getTransformedByMove(e,t,r);return[new he(m,p)]}let a;const l=this.getDifference(s);let u=null;const f=this.getIntersection(s);if(l.length==1?u=new he(l[0].start._getTransformedByDeletion(e,r),l[0].end._getTransformedByDeletion(e,r)):l.length==2&&(u=new he(this.start,this.end._getTransformedByDeletion(e,r))),u?a=u._getTransformedByInsertion(o,r,f!==null||i):a=[],f){const m=new he(f.start._getCombined(s.start,o),f.end._getCombined(s.start,o));a.length==2?a.splice(1,0,m):a.push(m)}return a}_getTransformedByDeletion(e,t){let r=this.start._getTransformedByDeletion(e,t),i=this.end._getTransformedByDeletion(e,t);return r==null&&i==null?null:(r==null&&(r=e),i==null&&(i=e),new he(r,i))}static _createFromPositionAndShift(e,t){const r=e,i=e.getShiftedBy(t);return t>0?new this(r,i):new this(i,r)}static _createIn(e){return new this(Ne._createAt(e,0),Ne._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Ne._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new q("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((s,o)=>s.start.isAfter(o.start)?1:-1);const r=e.indexOf(t),i=new this(t.start,t.end);for(let s=r-1;s>=0&&e[s].end.isEqual(i.start);s--)i.start=Ne._createAt(e[s].start);for(let s=r+1;s<e.length&&e[s].start.isEqual(i.end);s++)i.end=Ne._createAt(e[s].end);return i}static fromJSON(e,t){return new this(Ne.fromJSON(e.start,t),Ne.fromJSON(e.end,t))}}he.prototype.is=function(n){return n==="range"||n==="model:range"};class dV extends an(){_modelToViewMapping=new WeakMap;_viewToModelMapping=new WeakMap;_viewToModelLengthCallbacks=new Map;_markerNameToElements=new Map;_elementToMarkerNames=new Map;_deferredBindingRemovals=new Map;_unboundMarkerNames=new Set;_cache=new g1e;constructor(){super(),this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const r=this._modelToViewMapping.get(t.modelPosition.parent);if(!r)throw new q("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(r,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const r=this.findMappedViewAncestor(t.viewPosition),i=this._viewToModelMapping.get(r),s=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,r);t.modelPosition=Ne._createAt(i,s)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const i of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(i);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)&&this._cache.stopTracking(t)}bindElementToMarker(e,t){const r=this._markerNameToElements.get(t)||new Set;r.add(e);const i=this._elementToMarkerNames.get(e)||new Set;i.add(t),this._markerNameToElements.set(t,r),this._elementToMarkerNames.set(e,i)}unbindElementFromMarkerName(e,t){const r=this._markerNameToElements.get(t);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(t));const i=this._elementToMarkerNames.get(e);i&&(i.delete(t),i.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new he(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ft(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const r={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const r=new Set;for(const i of t)if(i.is("attributeElement"))for(const s of i.getElementsWithSameId())r.add(s);else r.add(i);return r}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,r){if(r!=e){const s=this._toModelOffset(e.parent,e.index,r),o=this._toModelOffset(e,t,e);return s+o}if(e.is("$text"))return t;let i=0;for(let s=0;s<t;s++)i+=this.getModelLength(e.getChild(s));return i}getModelLength(e){const t=[e];let r=0;for(;t.length>0;){const i=t.pop(),s=i.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(i.name);if(s)r+=s(i);else if(this._viewToModelMapping.has(i))r+=1;else if(i.is("$text"))r+=i.data.length;else{if(i.is("uiElement"))continue;for(const o of i.getChildren())t.push(o)}}return r}findPositionIn(e,t){if(t===0)return this._moveViewPositionToTextNode(new Me(e,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(e)){const i=this._cache.getClosest(e,t);return this._findPositionStartingFrom(i.viewPosition,i.modelOffset,t,e,!0)}else return this._findPositionStartingFrom(new Me(e,0),0,t,e,!1)}_findPositionStartingFrom(e,t,r,i,s){let o=e.parent,a=e.offset;if(o.is("$text"))return new Me(o,r-t);let l,u=t,f=0;for(;u<r;){if(l=o.getChild(a),!l){if(o==i)throw new q("mapping-model-offset-not-found",this,{modelOffset:r,viewContainer:i});a=o.parent.getChildIndex(o)+1,o=o.parent,s&&this._cache.save(o,a,i,u);continue}s?f=this._getModelLengthAndCache(l,i,u):f=this.getModelLength(l),u+=f,a++}let m=new Me(o,a);if(s)for(;m.isAtEnd&&m.parent!==i&&m.parent.parent;){const p=m.parent.parent,y=p.getChildIndex(m.parent)+1;this._cache.save(p,y,i,u),m=new Me(p,y)}return u==r?this._moveViewPositionToTextNode(m):this._findPositionStartingFrom(new Me(l,0),u-f,r,i,s)}_getModelLengthAndCache(e,t,r){let i=0;if(this._viewToModelMapping.has(e))i=1;else if(e.is("$text"))i=e.data.length;else if(!e.is("uiElement"))for(const s of e.getChildren())i+=this._getModelLengthAndCache(s,t,r+i);return this._cache.save(e.parent,e.index+1,t,r+i),i}_moveViewPositionToTextNode(e){const t=e.nodeBefore,r=e.nodeAfter;return t&&t.is("view:$text")?new Me(t,t.data.length):r&&r.is("view:$text")?new Me(r,0):e}}class g1e extends an(){_cachedMapping=new WeakMap;_nodeToCacheListIndex=new WeakMap;_invalidateOnChildrenChangeCallback=(e,t,r)=>{this._clearCacheInsideParent(t,r.index)};_invalidateOnTextChangeCallback=(e,t)=>{this._clearCacheAfter(t)};save(e,t,r,i){const s=this._cachedMapping.get(r),o=s.cacheMap.get(i);if(o){const f=e.getChild(t-1),m=o.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(o.viewPosition.nodeBefore):0;this._nodeToCacheListIndex.set(f,m);return}const l={viewPosition:new Me(e,t),modelOffset:i};s.maxModelOffset=i>s.maxModelOffset?i:s.maxModelOffset,s.cacheMap.set(i,l);let u=s.cacheList.length-1;for(;u>=0&&s.cacheList[u].modelOffset>i;)u--;if(s.cacheList.splice(u+1,0,l),t>0){const f=e.getChild(t-1);this._nodeToCacheListIndex.set(f,u+1)}}getClosest(e,t){const r=this._cachedMapping.get(e);let i;if(r)if(t>r.maxModelOffset)i=r.cacheList[r.cacheList.length-1];else{const s=r.cacheMap.get(t);s?i=s:i=this._findInCacheList(r.cacheList,t)}else i=this.startTracking(e);return{modelOffset:i.modelOffset,viewPosition:i.viewPosition.clone()}}startTracking(e){const r={viewPosition:new Me(e,0),modelOffset:0},i={maxModelOffset:0,cacheList:[r],cacheMap:new Map([[0,r]])};return this._cachedMapping.set(e,i),e.on("change:children",this._invalidateOnChildrenChangeCallback),e.on("change:text",this._invalidateOnTextChangeCallback),r}stopTracking(e){e.off("change:children",this._invalidateOnChildrenChangeCallback),e.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(e)}_clearCacheInsideParent(e,t){if(t==0)this._cachedMapping.has(e)?this._clearCacheAll(e):this._clearCacheInsideParent(e.parent,e.index);else{const r=e.getChild(t-1);this._clearCacheAfter(r)}}_clearCacheAll(e){const t=this._cachedMapping.get(e);t.maxModelOffset>0&&(t.maxModelOffset=0,t.cacheList.length=1,t.cacheMap.clear(),t.cacheMap.set(0,t.cacheList[0]))}_clearCacheAfter(e){const t=this._nodeToCacheListIndex.get(e);if(t===void 0){const i=e.parent;this._cachedMapping.has(i)||this._clearCacheInsideParent(i.parent,i.index);return}let r=e.parent;for(;!this._cachedMapping.has(r);)r=r.parent;this._clearCacheFromCacheIndex(r,t)}_clearCacheFromCacheIndex(e,t){t===0&&(t=1);const r=this._cachedMapping.get(e),i=r.cacheList[t-1];if(!i)return;r.maxModelOffset=i.modelOffset;const s=r.cacheList.splice(t);for(const o of s){r.cacheMap.delete(o.modelOffset);const a=o.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(a)}}_findInCacheList(e,t){let r=0,i=e.length-1,s=i-r>>1,o=e[s];for(;r<i;)o.modelOffset<t?r=s+1:i=s-1,s=r+(i-r>>1),o=e[s];return o.modelOffset<=t?o:e[s-1]}}class p1e{_consumable=new Map;_textProxyRegistry=new Map;add(e,t){t=H1(t),e instanceof bo&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=H1(t),e instanceof bo&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=H1(t),e instanceof bo&&(e=this._getSymbolForTextProxy(e));const r=this._consumable.get(e);if(r===void 0)return null;const i=r.get(t);return i===void 0?null:i}revert(e,t){t=H1(t),e instanceof bo&&(e=this._getSymbolForTextProxy(e));const r=this.test(e,t);return r===!1?(this._consumable.get(e).set(t,!0),!0):r===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[r,i]of this._consumable)for(const[s,o]of i){const a=s.split(":")[0];o&&e==a&&t.push({event:s,item:r.name||r.description})}if(t.length)throw new q("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const r=this._textProxyRegistry.get(e.startOffset);if(r){const i=r.get(e.endOffset);i&&(t=i.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,r=e.endOffset,i=e.parent,s=Symbol("$textProxy:"+e.data);let o,a;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),a=o.get(r),a||(a=new Map,o.set(r,a)),a.set(i,s),s}}function H1(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}class fV extends an(){_conversionApi;_firedEventsMap;constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,r){const i=e.getRefreshedItems(),s=this._createConversionApi(r,i);for(const a of e.getMarkersToRemove())this._convertMarkerRemove(a.name,a.range,s);const o=this._reduceChanges(e.getChanges(),i);for(const a of o)a.type==="insert"?this._convertInsert(he._createFromPositionAndShift(a.position,a.length),s):a.type==="reinsert"?this._convertReinsert(he._createFromPositionAndShift(a.position,a.length),s):a.type==="remove"?this._convertRemove(a.position,a.length,a.name,s):this._convertAttribute(a.range,a.attributeKey,a.attributeOldValue,a.attributeNewValue,s);s.mapper.flushDeferredBindings();for(const a of s.mapper.flushUnboundMarkerNames()){const l=t.get(a).getRange();this._convertMarkerRemove(a,l,s),this._convertMarkerAdd(a,l,s)}for(const a of e.getMarkersToAdd())this._convertMarkerAdd(a.name,a.range,s);s.consumable.verifyAllConsumed("insert")}convert(e,t,r,i={}){const s=this._createConversionApi(r,void 0,i);this._convertInsert(e,s);for(const[o,a]of t)this._convertMarkerAdd(o,a,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,t,r){const i=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},i);const s=e.getFirstPosition().root;if(!i.mapper.toViewElement(s))return;const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(i.consumable,e,o),this.fire("selection",{selection:e},i),!!e.isCollapsed){for(const a of o)if(i.consumable.test(e,"addMarker:"+a.name)){const l=a.getRange();if(!b1e(e.getFirstPosition(),a,i.mapper))continue;const u={item:e,markerName:a.name,markerRange:l};this.fire(`addMarker:${a.name}`,u,i)}for(const a of e.getAttributeKeys())if(i.consumable.test(e,"attribute:"+a)){const l={item:e,range:e.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:e.getAttribute(a)};this.fire(`attribute:${a}:$text`,l,i)}}}_convertInsert(e,t,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const i of e.getWalker({shallow:!0}))this._testAndFire("insert",MR(i),t)}_convertRemove(e,t,r,i){this.fire(`remove:${r}`,{position:e,length:t},i)}_convertAttribute(e,t,r,i,s){this._addConsumablesForRange(s.consumable,e,`attribute:${t}`);for(const o of e){const a={item:o.item,range:he._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:r,attributeNewValue:i};this._testAndFire(`attribute:${t}`,a,s)}}_convertReinsert(e,t){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,r);for(const i of r.map(MR))this.fire(`remove:${i.item.is("element")?i.item.name:"$text"}`,{position:i.range.start,length:i.item.offsetSize,reconversion:!0},t),this._testAndFire("insert",{...i,reconversion:!0},t)}_convertMarkerAdd(e,t,r){if(t.root.rootName=="$graveyard")return;const i=`addMarker:${e}`;if(r.consumable.add(t,i),this.fire(i,{markerName:e,markerRange:t},r),!!r.consumable.consume(t,i)){this._addConsumablesForRange(r.consumable,t,i);for(const s of t.getItems()){if(!r.consumable.test(s,i))continue;const o={item:s,range:he._createOn(s),markerName:e,markerRange:t};this.fire(i,o,r)}}}_convertMarkerRemove(e,t,r){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},r)}_reduceChanges(e,t){const r={changes:e,refreshedItems:t};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(e,t){for(const r of t){const i=r.item;if(e.test(i,"insert")===null){e.add(i,"insert");for(const s of i.getAttributeKeys())e.add(i,"attribute:"+s)}}return e}_addConsumablesForRange(e,t,r){for(const i of t.getItems())e.add(i,r);return e}_addConsumablesForSelection(e,t,r){e.add(t,"selection");for(const i of r)e.add(t,"addMarker:"+i.name);for(const i of t.getAttributeKeys())e.add(t,"attribute:"+i);return e}_testAndFire(e,t,r){const i=y1e(e,t),s=t.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(r),a=o.get(s);if(!a)o.set(s,new Set([i]));else if(!a.has(i))a.add(i);else return;this.fire(i,t,r)}_testAndFireAddAttributes(e,t){const r={item:e,range:he._createOn(e)};for(const i of r.item.getAttributeKeys())r.attributeKey=i,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(i),this._testAndFire(`attribute:${i}`,r,t)}_createConversionApi(e,t=new Set,r={}){const i={...this._conversionApi,consumable:new p1e,writer:e,options:r,convertItem:s=>this._convertInsert(he._createOn(s),i),convertChildren:s=>this._convertInsert(he._createIn(s),i,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,i),canReuseView:s=>!t.has(i.mapper.toModelElement(s))};return this._firedEventsMap.set(i,new Map),i}}function b1e(n,e,t){const r=e.getRange(),i=Array.from(n.getAncestors());return i.shift(),i.reverse(),!i.some(o=>{if(r.containsItem(o))return!!t.toViewElement(o).getCustomProperty("addHighlight")})}function y1e(n,e){const t=e.item.is("element")?e.item.name:"$text";return`${n}:${t}`}function MR(n){return{item:n.item,range:he._createFromPositionAndShift(n.previousPosition,n.length)}}class Hu extends yc{parent=null;_attrs;_index=null;_startOffset=null;constructor(e){super(),this._attrs=la(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),i=e.getAncestors(t);let s=0;for(;r[s]==i[s]&&r[s];)s++;return s===0?null:r[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),i=Ir(t,r);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<r[i]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,r)=>(t[r[0]]=r[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=la(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Hu.prototype.is=function(n){return n==="node"||n==="model:node"};class fs extends an(yc){_lastRangeBackward=!1;_attrs=new Map;_ranges=[];constructor(...e){super(),e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const i of e._ranges)if(t.isEqual(i)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new he(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new he(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new he(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,r,i]=e;if(typeof r=="object"&&(i=r,r=void 0),t===null)this._setRanges([]);else if(t instanceof fs)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof he)this._setRanges([t],!!i&&!!i.backward);else if(t instanceof Ne)this._setRanges([new he(t)]);else if(t instanceof Hu){const s=!!i&&!!i.backward;let o;if(r=="in")o=he._createIn(t);else if(r=="on")o=he._createOn(t);else if(r!==void 0)o=new he(Ne._createAt(t,r));else throw new q("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([o],s)}else if(_s(t))this._setRanges(t,i&&!!i.backward);else throw new q("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const r=Array.from(e),i=r.some(s=>{if(!(s instanceof he))throw new q("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(s))});r.length===this._ranges.length&&!i||(this._replaceAllRanges(r),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new q("model-selection-setfocus-no-ranges",[this,e]);const r=Ne._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(i)=="before"?(this._pushRange(new he(r,i)),this._lastRangeBackward=!0):(this._pushRange(new he(i,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const r=DR(t.start,e);v1e(r,t)&&(yield r);const i=t.getWalker();for(const o of i){const a=o.item;o.type=="elementEnd"&&w1e(a,e,t)?yield a:o.type=="elementStart"&&a.is("model:element")&&a.root.document.model.schema.isBlock(a)&&i.jumpTo(Ne._createAt(a,"end"))}const s=DR(t.end,e);_1e(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=Ne._createAt(e,0),r=Ne._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}toJSON(){const e={ranges:Array.from(this.getRanges()).map(r=>r.toJSON())},t=Object.fromEntries(this.getAttributes());return Object.keys(t).length&&(e.attributes=t),this.isBackward&&(e.isBackward=!0),e}_pushRange(e){this._checkRange(e),this._ranges.push(new he(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new q("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}fs.prototype.is=function(n){return n==="selection"||n==="model:selection"};function hV(n,e){return e.has(n)?!1:(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function w1e(n,e,t){return hV(n,e)&&kC(n,t)}function DR(n,e){const r=n.parent.root.document.model.schema,i=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const o=i.find(a=>s?!1:(s=r.isLimit(a),!s&&hV(a,e)));return i.forEach(a=>e.add(a)),o}function kC(n,e){const t=x1e(n);return t?!e.containsRange(he._createOn(t),!0):!0}function v1e(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.start.isTouching(Ne._createAt(n,n.maxOffset))?!1:kC(n,e):!1}function _1e(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.end.isTouching(Ne._createAt(n,0))?!1:kC(n,e):!1}function x1e(n){const e=n.root.document.model.schema;let t=n.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}class Di extends an(he){constructor(e,t){super(e,t),E1e.call(this)}detach(){this.stopListening()}toRange(){return new he(this.start,this.end)}static fromRange(e){return new Di(e.start,e.end)}}Di.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function E1e(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&k1e.call(this,t)},{priority:"low"})}function k1e(n){const e=this.getTransformedByOperation(n),t=he._createFromRanges(e),r=!t.isEqual(this),i=T1e(this,n);let s=null;if(r){t.root.rootName=="$graveyard"&&(n.type=="remove"?s=n.sourcePosition:s=n.deletionPosition);const o=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",o,{deletionPosition:s})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:s})}function T1e(n,e){switch(e.type){case"insert":return n.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(e.sourcePosition)||n.start.isEqual(e.sourcePosition)||n.containsPosition(e.targetPosition);case"split":return n.containsPosition(e.splitPosition)||n.containsPosition(e.insertionPosition)}return!1}class Sn extends Hu{_data;constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Sn(this.data,this.getAttributes())}static fromJSON(e){return new Sn(e.data,e.attributes)}}Sn.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};const i0="selection:";class Co extends an(yc){_selection;constructor(e){super(),this._selection=new S1e(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}toJSON(){return this._selection.toJSON()}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return i0+e}static _isStoreAttributeKey(e){return e.startsWith(i0)}}Co.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class S1e extends fs{markers=new sr({idProperty:"name"});_model;_document;_attributePriority=new Map;_selectionRestorePosition=null;_hasChangedRange=!1;_overriddenGravityRegister=new Set;_observedMarkers=new Set;constructor(e){super(),this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,r)=>{const i=r[0];!i.isDocumentOperation||i.type=="marker"||i.type=="rename"||i.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,r,i,s)=>{this._updateMarker(r,s)}),this.listenTo(this._document,"change",(t,r)=>{C1e(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=ci();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new q("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}toJSON(){const e=super.toJSON();return this.markers.length&&(e.markers=this.markers.map(t=>t.toJSON())),e}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new q("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Di.fromRange(e);return t.on("change:range",(r,i,s)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const o=this._ranges.indexOf(t);this._ranges.splice(o,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const i of this._model.markers){const s=i.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const o=i.getRange();for(const a of this.getRanges())o.containsRange(a,!a.isCollapsed)&&e.push(i)}const r=Array.from(this.markers);for(const i of e)this.markers.has(i)||(this.markers.add(i),t=!0);for(const i of Array.from(this.markers))e.includes(i)||(this.markers.remove(i),t=!0);t&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,t){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let i=!1;const s=Array.from(this.markers),o=this.markers.has(e);if(!t)o&&(this.markers.remove(e),i=!0);else{let a=!1;for(const l of this.getRanges())if(t.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!o?(this.markers.add(e),i=!0):!a&&o&&(this.markers.remove(e),i=!0)}i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const t=la(this._getSurroundingAttributes()),r=la(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,o]of this._attributePriority)o=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(t);const i=[];for(const[s,o]of this.getAttributes())(!r.has(s)||r.get(s)!==o)&&i.push(s);for(const[s]of r)this.hasAttribute(s)||i.push(s);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(e,t,r=!0){const i=r?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,i),!0)}_removeAttribute(e,t=!0){const r=t?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,r),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[r,i]of this.getAttributes())e.get(r)!==i&&this._removeAttribute(r,!1);for(const[r,i]of e)this._setAttribute(r,i,!1)&&t.add(r);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(i0)&&(yield[t.substr(i0.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const i=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=Om(i,t)),r||(r=Om(s,t)),!this.isGravityOverridden&&!r){let o=i;for(;o&&!r;)o=o.previousSibling,r=Om(o,t)}if(!r){let o=s;for(;o&&!r;)o=o.nextSibling,r=Om(o,t)}r||(r=this.getStoredAttributes())}else{const i=this.getFirstRange();for(const s of i){if(s.item.is("element")&&t.isObject(s.item)){r=Om(s.item,t);break}if(s.type=="text"){r=s.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Om(n,e){if(!n)return null;if(n instanceof bo||n instanceof Sn)return n.getAttributes();if(!e.isInline(n))return null;if(!e.isObject(n))return[];const t=[];for(const[r,i]of n.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&t.push([r,i]);return t}function C1e(n,e){const t=n.document.differ;for(const r of t.getChanges()){if(r.type!="insert")continue;const i=r.position.parent;r.length===i.maxOffset&&n.enqueueChange(e,o=>{const a=Array.from(i.getAttributeKeys()).filter(l=>l.startsWith(i0));for(const l of a)o.removeAttribute(l,i)})}}class _g{_nodes=[];_offsetToNode=[];constructor(e){e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new q("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const t=this._offsetToNode[e];if(!t)throw new q("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(t)}_insertNodes(e,t){const r=[];for(const s of t){if(!(s instanceof Hu))throw new q("model-nodelist-insertnodes-not-node",this);r.push(s)}let i=this.indexToOffset(e);cR(this._nodes,r,e),cR(this._offsetToNode,A1e(r),i);for(let s=e;s<this._nodes.length;s++)this._nodes[s]._index=s,this._nodes[s]._startOffset=i,i+=this._nodes[s].offsetSize}_removeNodes(e,t=1){if(t==0)return[];let r=this.indexToOffset(e);const i=this._nodes.splice(e,t),s=i[i.length-1],o=s.startOffset+s.offsetSize-r;this._offsetToNode.splice(r,o);for(const a of i)a._index=null,a._startOffset=null;for(let a=e;a<this._nodes.length;a++)this._nodes[a]._index=a,this._nodes[a]._startOffset=r,r+=this._nodes[a].offsetSize;return i}_removeNodesArray(e){if(e.length==0)return;for(const r of e)r._index=null,r._startOffset=null;this._nodes=this._nodes.filter(r=>r.index!==null),this._offsetToNode=this._offsetToNode.filter(r=>r.index!==null);let t=0;for(let r=0;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=t,t+=this._nodes[r].offsetSize}toJSON(){return this._nodes.map(e=>e.toJSON())}}function A1e(n){const e=[];let t=0;for(const r of n)for(let i=0;i<r.offsetSize;i++)e[t++]=r;return e}class gn extends Hu{name;_children=new _g;constructor(e,t,r){super(t),this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const r of e)t=t.getChildAtOffset(r);return t}findAncestor(e,t={}){let r=t.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?P1e(this._children):void 0;return new gn(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=N1e(t);for(const i of r)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const i of r)i.parent=null;return r}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const t of e)t.parent=null}static fromJSON(e){let t;if(e.children){t=[];for(const r of e.children)r.name?t.push(gn.fromJSON(r)):t.push(Sn.fromJSON(r))}return new gn(e.name,e.attributes,t)}}gn.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function N1e(n){if(typeof n=="string")return[new Sn(n)];_s(n)||(n=[n]);const e=[];for(const t of n)typeof t=="string"?e.push(new Sn(t)):t instanceof bo?e.push(new Sn(t.data,t.getAttributes())):e.push(t);return e}function P1e(n){const e=[];for(const t of n)e.push(t._clone(!0));return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class mV{_dispatchers;constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class I1e extends mV{elementToElement(e){return this.add(K1e(e))}elementToStructure(e){return this.add(X1e(e))}attributeToElement(e){return this.add(J1e(e))}attributeToAttribute(e){return this.add(Q1e(e))}markerToElement(e){return this.add(Z1e(e))}markerToHighlight(e){return this.add(tbe(e))}markerToData(e){return this.add(ebe(e))}}function gV(){return(n,e,t)=>{if(!t.consumable.consume(e.item,n.name))return;const r=t.writer,i=t.mapper.toViewPosition(e.range.start),s=r.createText(e.item.data);r.insert(i,s)}}function pV(){return(n,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function R1e(){return(n,e,t)=>{if(e.reconversion)return;const r=t.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),s=t.mapper.toViewPosition(i,{isPhantom:!0}),o=t.writer.createRange(r,s);yV(o.getTrimmed(),t)}}function bV(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function O1e(){return(n,e,t)=>{const r=e.selection;if(r.isCollapsed||!t.consumable.consume(r,"selection"))return;const i=[];for(const s of r.getRanges())i.push(t.mapper.toViewRange(s));t.writer.setSelection(i,{backward:r.isBackward})}}function M1e(){return(n,e,t)=>{const r=e.selection;if(!r.isCollapsed||!t.consumable.consume(r,"selection"))return;const i=t.writer,s=r.getFirstPosition(),o=t.mapper.toViewPosition(s),a=i.breakAttributes(o);i.setSelection(a)}}function D1e(){return(n,e,t)=>{const r=t.writer,i=r.document.selection;for(const s of i.getRanges())s.isCollapsed&&s.end.parent.isAttached()&&t.writer.mergeAttributes(s.start);r.setSelection(null)}}function F1e(n){return(e,t,r)=>{if(!r.consumable.test(t.item,e.name))return;const i=n(t.attributeOldValue,r,t),s=n(t.attributeNewValue,r,t);if(!i&&!s)return;r.consumable.consume(t.item,e.name);const o=r.writer,a=o.document.selection;if(t.item instanceof fs||t.item instanceof Co)o.wrap(a.getFirstRange(),s);else{let l=r.mapper.toViewRange(t.range);t.attributeOldValue!==null&&i&&(l=o.unwrap(l,i)),t.attributeNewValue!==null&&s&&o.wrap(l,s)}}}function L1e(n,e=lbe){return(t,r,i)=>{if(!e(r.item,i.consumable,{preflight:!0}))return;const s=n(r.item,i,r);if(!s)return;e(r.item,i.consumable);const o=r.reconversion&&wV(r.item,i)||i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,s),i.writer.insert(o,s),i.convertAttributes(r.item),kV(s,r.item.getChildren(),i,{reconversion:r.reconversion})}}function B1e(n,e){return(t,r,i)=>{if(!e(r.item,i.consumable,{preflight:!0}))return;const s=new Map;i.writer._registerSlotFactory(ibe(r.item,s,i));const o=n(r.item,i,r);if(i.writer._clearSlotFactory(),!o)return;sbe(r.item,s,i),e(r.item,i.consumable);const a=r.reconversion&&wV(r.item,i)||i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,o),i.writer.insert(a,o),i.convertAttributes(r.item),obe(o,s,i,{reconversion:r.reconversion})}}function V1e(n){return(e,t,r)=>{t.isOpening=!0;const i=n(t,r);t.isOpening=!1;const s=n(t,r);if(!i||!s)return;const o=t.markerRange;if(o.isCollapsed&&!r.consumable.consume(o,e.name))return;for(const u of o)if(!r.consumable.consume(u.item,e.name))return;const a=r.mapper,l=r.writer;l.insert(a.toViewPosition(o.start),i),r.mapper.bindElementToMarker(i,t.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),s),r.mapper.bindElementToMarker(s,t.markerName)),e.stop()}}function yV(n,e){const t=e.writer.remove(n);for(const r of e.writer.createRangeIn(t).getItems())e.mapper.unbindViewElement(r,{defer:!0});return n.start}function wV(n,e){const t=e.mapper.toViewElement(n);return t&&yV(e.writer.createRangeOn(t),e)}function U1e(){return(n,e,t)=>{const r=t.mapper.markerNameToElements(e.markerName);if(r){for(const i of r)t.mapper.unbindElementFromMarkerName(i,e.markerName),t.writer.clear(t.writer.createRangeOn(i),i);t.writer.clearClonedElementsGroup(e.markerName),n.stop()}}}function z1e(n){return(e,t,r)=>{const i=n(t.markerName,r);if(!i)return;const s=t.markerRange;r.consumable.consume(s,e.name)&&(FR(s,!1,r,t,i),FR(s,!0,r,t,i),e.stop())}}function FR(n,e,t,r,i){const s=e?n.start:n.end,o=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,a=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(o||a){let u,f;e&&o||!e&&!a?(u=o,f=!0):(u=a,f=!1);const m=t.mapper.toViewElement(u);if(m){H1e(m,e,f,t,r,i);return}}const l=t.mapper.toViewPosition(s);$1e(l,e,t,r,i)}function H1e(n,e,t,r,i,s){const o=`data-${s.group}-${e?"start":"end"}-${t?"before":"after"}`,a=n.hasAttribute(o)?n.getAttribute(o).split(","):[];a.unshift(s.name),r.writer.setAttribute(o,a.join(","),n),r.mapper.bindElementToMarker(n,i.markerName)}function $1e(n,e,t,r,i){const s=`${i.group}-${e?"start":"end"}`,o=i.name?{name:i.name}:null,a=t.writer.createUIElement(s,o);t.writer.insert(n,a),t.mapper.bindElementToMarker(a,r.markerName)}function W1e(n){return(e,t,r)=>{const i=n(t.markerName,r);if(!i)return;const s=r.mapper.markerNameToElements(t.markerName);if(!s)return;for(const a of s)r.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(o(`data-${i.group}-start-before`,a),o(`data-${i.group}-start-after`,a),o(`data-${i.group}-end-before`,a),o(`data-${i.group}-end-after`,a)):r.writer.clear(r.writer.createRangeOn(a),a);r.writer.clearClonedElementsGroup(t.markerName),e.stop();function o(a,l){if(l.hasAttribute(a)){const u=new Set(l.getAttribute(a).split(","));u.delete(i.name),u.size==0?r.writer.removeAttribute(a,l):r.writer.setAttribute(a,Array.from(u).join(","),l)}}}}function j1e(n){return(e,t,r)=>{if(!r.consumable.test(t.item,e.name))return;const i=n(t.attributeOldValue,r,t),s=n(t.attributeNewValue,r,t);if(!i&&!s)return;r.consumable.consume(t.item,e.name);const o=r.mapper.toViewElement(t.item),a=r.writer;if(!o)throw new q("conversion-attribute-to-attribute-on-text",r.dispatcher,t);if(t.attributeOldValue!==null&&i){let l=i.value;i.key=="style"&&(typeof i.value=="string"?l=new Nf(a.document.stylesProcessor).setTo(i.value).getStylesEntries().map(([u])=>u):l=Object.keys(i.value)),a.removeAttribute(i.key,l,o)}if(t.attributeNewValue!==null&&s){let l=s.value;s.key=="style"&&typeof s.value=="string"&&(l=Object.fromEntries(new Nf(a.document.stylesProcessor).setTo(s.value).getStylesEntries())),a.setAttribute(s.key,l,!1,o)}}}function q1e(n){return(e,t,r)=>{if(!t.item||!(t.item instanceof fs||t.item instanceof Co)&&!t.item.is("$textProxy"))return;const i=TC(n,t,r);if(!i||!r.consumable.consume(t.item,e.name))return;const s=r.writer,o=bV(s,i),a=s.document.selection;if(t.item instanceof fs||t.item instanceof Co)s.wrap(a.getFirstRange(),o);else{const l=r.mapper.toViewRange(t.range),u=s.wrap(l,o);for(const f of u.getItems())if(f.is("attributeElement")&&f.isSimilar(o)){r.mapper.bindElementToMarker(f,t.markerName);break}}}}function G1e(n){return(e,t,r)=>{if(!t.item||!(t.item instanceof gn))return;const i=TC(n,t,r);if(!i||!r.consumable.test(t.item,e.name))return;const s=r.mapper.toViewElement(t.item);if(s&&s.getCustomProperty("addHighlight")){r.consumable.consume(t.item,e.name);for(const a of he._createIn(t.item))r.consumable.consume(a.item,e.name);s.getCustomProperty("addHighlight")(s,i,r.writer),r.mapper.bindElementToMarker(s,t.markerName)}}}function Y1e(n){return(e,t,r)=>{if(t.markerRange.isCollapsed)return;const i=TC(n,t,r);if(!i)return;const s=bV(r.writer,i),o=r.mapper.markerNameToElements(t.markerName);if(o){for(const a of o)r.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(a),s):a.getCustomProperty("removeHighlight")(a,i.id,r.writer);r.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function K1e(n){const e=vV(n.model),t=s0(n.view,"container");return e.attributes.length&&(e.children=!0),r=>{r.on(`insert:${e.name}`,L1e(t,EV(e)),{priority:n.converterPriority||"normal"}),(e.children||e.attributes.length)&&r.on("reduceChanges",xV(e),{priority:"low"})}}function X1e(n){const e=vV(n.model),t=s0(n.view,"container");return e.children=!0,r=>{if(r._conversionApi.schema.checkChild(e.name,"$text"))throw new q("conversion-element-to-structure-disallowed-text",r,{elementName:e.name});r.on(`insert:${e.name}`,B1e(t,EV(e)),{priority:n.converterPriority||"normal"}),r.on("reduceChanges",xV(e),{priority:"low"})}}function J1e(n){n=ca(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const i of e.values)n.view[i]=s0(n.view[i],"attribute");else n.view=s0(n.view,"attribute");const r=_V(n);return i=>{i.on(t,F1e(r),{priority:n.converterPriority||"normal"})}}function Q1e(n){n=ca(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const i of e.values)n.view[i]=LR(n.view[i]);else n.view=LR(n.view);const r=_V(n);return i=>{i.on(t,j1e(r),{priority:n.converterPriority||"normal"})}}function Z1e(n){const e=s0(n.view,"ui");return t=>{t.on(`addMarker:${n.model}`,V1e(e),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,U1e(),{priority:n.converterPriority||"normal"})}}function ebe(n){n=ca(n);const e=n.model;let t=n.view;return t||(t=r=>({group:e,name:r.substr(n.model.length+1)})),r=>{r.on(`addMarker:${e}`,z1e(t),{priority:n.converterPriority||"normal"}),r.on(`removeMarker:${e}`,W1e(t),{priority:n.converterPriority||"normal"})}}function tbe(n){return e=>{e.on(`addMarker:${n.model}`,q1e(n.view),{priority:n.converterPriority||"normal"}),e.on(`addMarker:${n.model}`,G1e(n.view),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,Y1e(n.view),{priority:n.converterPriority||"normal"})}}function vV(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?Gt(n.attributes):[],children:!!n.children}}function s0(n,e){return typeof n=="function"?n:(t,r)=>nbe(n,r,e)}function nbe(n,e,t){typeof n=="string"&&(n={name:n});let r;const i=e.writer,s=Object.assign({},n.attributes);if(t=="container")r=i.createContainerElement(n.name,s);else if(t=="attribute"){const o={priority:n.priority||Pf.DEFAULT_PRIORITY};r=i.createAttributeElement(n.name,s,o)}else r=i.createUIElement(n.name,s);if(n.styles){const o=Object.keys(n.styles);for(const a of o)i.setStyle(a,n.styles[a],r)}if(n.classes){const o=n.classes;if(typeof o=="string")i.addClass(o,r);else for(const a of o)i.addClass(a,r)}return r}function _V(n){return n.model.values?(e,t,r)=>{const i=n.view[e];return i?i(e,t,r):null}:n.view}function LR(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function TC(n,e,t){const r=typeof n=="function"?n(e,t):{...n};return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function rbe(n){return(e,t)=>{if(!e.is("element",n.name))return!1;if(t.type=="attribute"){if(n.attributes.includes(t.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function xV(n){const e=rbe(n);return(t,r)=>{const i=[];r.reconvertedElements||(r.reconvertedElements=new Set);for(const s of r.changes){const o=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(!o||!e(o,s)||s.type=="reinsert"){i.push(s);continue}if(s.type=="insert"&&s.action=="rename"&&r.refreshedItems.add(s.position.nodeAfter),!r.reconvertedElements.has(o)){r.reconvertedElements.add(o);const a=Ne._createBefore(o);let l=i.length;for(let u=i.length-1;u>=0;u--){const f=i[u],p=(f.type=="attribute"?f.range.start:f.position).compareWith(a);if(p=="before"||f.type=="remove"&&p=="same")break;l=u}i.splice(l,0,{type:"reinsert",name:o.name,position:a,length:1})}}r.changes=i}}function EV(n){return(e,t,r={})=>{const i=["insert"];for(const s of n.attributes)e.hasAttribute(s)&&i.push(`attribute:${s}`);return i.every(s=>t.test(e,s))?(r.preflight||i.forEach(s=>t.consume(e,s)),!0):!1}}function ibe(n,e,t){return(r,i)=>{const s=r.createContainerElement("$slot");let o=null;if(i==="children")o=Array.from(n.getChildren());else if(typeof i=="function")o=Array.from(n.getChildren()).filter(a=>i(a));else throw new q("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:i});return e.set(s,o),s}}function sbe(n,e,t){const r=Array.from(e.values()).flat(),i=new Set(r);if(i.size!=r.length)throw new q("conversion-slot-filter-overlap",t.dispatcher,{element:n});if(i.size!=n.childCount)throw new q("conversion-slot-filter-incomplete",t.dispatcher,{element:n})}function obe(n,e,t,r){t.mapper.on("modelToViewPosition",o,{priority:"highest"});let i=null,s=null;for([i,s]of e)kV(n,s,t,r),t.writer.setCustomProperty("$structureSlotParent",!0,i.parent),t.writer.move(t.writer.createRangeIn(i),t.writer.createPositionBefore(i)),t.writer.remove(i);t.mapper.off("modelToViewPosition",o);function o(a,l){const u=l.modelPosition.nodeAfter,f=s.indexOf(u);f<0||(l.viewPosition=l.mapper.findPositionIn(i,f))}}function kV(n,e,t,r){for(const i of e)abe(n.root,i,t,r)||t.convertItem(i)}function abe(n,e,t,r){const{writer:i,mapper:s}=t;if(!r.reconversion)return!1;const o=s.toViewElement(e);return!o||o.root==n||!t.canReuseView(o)?!1:(i.move(i.createRangeOn(o),s.toViewPosition(Ne._createBefore(e))),!0)}function lbe(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function TV(n){const{schema:e,document:t}=n.model;for(const r of t.getRoots())if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return n.insertElement("paragraph",r),!0;return!1}function SV(n,e,t){const r=t.createContext(n);return!(!t.checkChild(r,"paragraph")||!t.checkChild(r.push("paragraph"),e))}function CV(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}class cbe extends mV{elementToElement(e){return this.add(AV(e))}elementToAttribute(e){return this.add(fbe(e))}attributeToAttribute(e){return this.add(hbe(e))}elementToMarker(e){return this.add(mbe(e))}dataToMarker(e){return this.add(gbe(e))}}function BR(){return(n,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:r,modelCursor:i}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=r,e.modelCursor=i}}}function ube(){return(n,e,{schema:t,consumable:r,writer:i})=>{let s=e.modelCursor;if(!r.test(e.viewItem))return;if(!t.checkChild(s,"$text")){if(!SV(s,"$text",t)||e.viewItem.data.trim().length==0)return;s=CV(s,i)}r.consume(e.viewItem);const o=i.createText(e.viewItem.data);i.insert(o,s),e.modelRange=i.createRange(s,s.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function dbe(n,e){return(t,r)=>{const i=r.newSelection,s=[];for(const a of i.getRanges())s.push(e.toModelRange(a));const o=n.createSelection(s,{backward:i.isBackward});o.isEqual(n.document.selection)||n.change(a=>{a.setSelection(o)})}}function AV(n){n=ca(n);const e=Fk(n),t=SC(n.view),r=t?`element:${t}`:"element";return i=>{i.on(r,e,{priority:n.converterPriority||"normal"})}}function fbe(n){n=ca(n),NV(n);const e=PV(n,!1),t=SC(n.view),r=t?`element:${t}`:"element";return i=>{i.on(r,e,{priority:n.converterPriority||"low"})}}function hbe(n){n=ca(n);let e=null;(typeof n.view=="string"||n.view.key)&&(e=ybe(n)),NV(n,e);const t=PV(n,!0);return r=>{r.on("element",t,{priority:n.converterPriority||"low"})}}function mbe(n){const e=_be(n.model);return AV({...n,model:e})}function gbe(n){n=ca(n),n.model||(n.model=i=>i?n.view+":"+i:n.view);const e={view:n.view,model:n.model},t=Fk(VR(e,"start")),r=Fk(VR(e,"end"));return i=>{i.on(`element:${n.view}-start`,t,{priority:n.converterPriority||"normal"}),i.on(`element:${n.view}-end`,r,{priority:n.converterPriority||"normal"});const s=hs.low,o=hs.highest,a=hs.get(n.converterPriority)/o;i.on("element",pbe(e),{priority:s+a})}}function pbe(n){return(e,t,r)=>{const i=`data-${n.view}`;if(!r.consumable.test(t.viewItem,{attributes:i+"-end-after"})&&!r.consumable.test(t.viewItem,{attributes:i+"-start-after"})&&!r.consumable.test(t.viewItem,{attributes:i+"-end-before"})&&!r.consumable.test(t.viewItem,{attributes:i+"-start-before"}))return;t.modelRange||Object.assign(t,r.convertChildren(t.viewItem,t.modelCursor)),r.consumable.consume(t.viewItem,{attributes:i+"-end-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(i+"-end-after").split(",")),r.consumable.consume(t.viewItem,{attributes:i+"-start-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(i+"-start-after").split(",")),r.consumable.consume(t.viewItem,{attributes:i+"-end-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(i+"-end-before").split(",")),r.consumable.consume(t.viewItem,{attributes:i+"-start-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(i+"-start-before").split(","));function s(o,a){for(const l of a){const u=n.model(l,r),f=r.writer.createElement("$marker",{"data-name":u});r.writer.insert(f,o),t.modelCursor.isEqual(o)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(o,1),t.modelRange=t.modelRange._getTransformedByInsertion(o,1)[0]}}}}function SC(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function Fk(n){const e=new ua(n.view);return(t,r,i)=>{const s=e.match(r.viewItem);if(!s)return;const o=s.match;if(o.name=!0,!i.consumable.test(r.viewItem,o))return;const a=bbe(n.model,r.viewItem,i);a&&i.safeInsert(a,r.modelCursor)&&(i.consumable.consume(r.viewItem,o),i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r))}}function bbe(n,e,t){return n instanceof Function?n(e,t):t.writer.createElement(n)}function ybe(n){typeof n.view=="string"&&(n.view={key:n.view});const e=n.view.key,t=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;let r;return e=="class"||e=="style"?r={[e=="class"?"classes":"styles"]:t}:r={attributes:{[e]:t}},n.view.name&&(r.name=n.view.name),n.view=r,e}function NV(n,e=null){const t=e===null?!0:s=>s.getAttribute(e),r=typeof n.model!="object"?n.model:n.model.key,i=typeof n.model!="object"||typeof n.model.value>"u"?t:n.model.value;n.model={key:r,value:i}}function PV(n,e){const t=new ua(n.view);return(r,i,s)=>{if(!i.modelRange&&e)return;const o=t.match(i.viewItem);if(!o||(wbe(n.view,i.viewItem)?o.match.name=!0:delete o.match.name,!s.consumable.test(i.viewItem,o.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(i.viewItem,s,i):n.model.value;if(l==null)return;i.modelRange||Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor)),vbe(i.modelRange,{key:a,value:l},e,s)&&(s.consumable.test(i.viewItem,{name:!0})&&(o.match.name=!0),s.consumable.consume(i.viewItem,o.match))}}function wbe(n,e){const t=typeof n=="function"?n(e):n;return typeof t=="object"&&!SC(t)?!1:!t.classes&&!t.attributes&&!t.styles}function vbe(n,e,t,r){let i=!1;for(const s of Array.from(n.getItems({shallow:t})))r.schema.checkAttribute(s,e.key)&&(i=!0,!s.hasAttribute(e.key)&&r.writer.setAttribute(e.key,e.value,s));return i}function _be(n){return(e,t)=>{const r=typeof n=="string"?n:n(e,t);return t.writer.createElement("$marker",{"data-name":r})}}function VR(n,e){const t=(r,i)=>{const s=r.getAttribute("name"),o=n.model(s,i);return i.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${e}`,model:t}}class xbe extends qt(){model;view;mapper;downcastDispatcher;constructor(e,t){super(),this.model=e,this.view=new h1e(t),this.mapper=new dV,this.downcastDispatcher=new fV({mapper:this.mapper,schema:e.schema});const r=this.model.document,i=r.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(r.differ,s,o),this.downcastDispatcher.convertSelection(i,s,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",dbe(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",gV(),{priority:"lowest"}),this.downcastDispatcher.on("insert",pV(),{priority:"lowest"}),this.downcastDispatcher.on("remove",R1e(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",D1e()),this.downcastDispatcher.on("selection",O1e(),{priority:"low"}),this.downcastDispatcher.on("selection",M1e(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const a=new QB(this.view.document,o.name);return a.rootName=o.rootName,this.mapper.bindElements(o,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,r=this.model.markers.get(t);if(!r)throw new q("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Ebe extends qt(){_sourceDefinitions={};_attributeProperties=Object.create(null);_customChildChecks=new Map;_customAttributeChecks=new Map;_genericCheckSymbol=Symbol("$generic");_compiledDefinitions;constructor(){super(),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new tl(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new tl(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new q("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new q("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(e,t):!1}checkAttribute(e,t){const r=this.getDefinition(e.last);if(!r)return!1;const i=this._evaluateAttributeChecks(e,t);return i!==void 0?i:r.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Ne){const r=e.nodeBefore,i=e.nodeAfter;if(!(r instanceof gn))throw new q("schema-check-merge-no-element-before",this);if(!(i instanceof gn))throw new q("schema-check-merge-no-element-after",this);return this.checkMerge(r,i)}if(this.isLimit(e)||this.isLimit(t))return!1;for(const r of t.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e,t){const r=t!==void 0?t:this._genericCheckSymbol,i=this._customChildChecks.get(r)||[];i.push(e),this._customChildChecks.set(r,i)}addAttributeCheck(e,t){const r=t!==void 0?t:this._genericCheckSymbol,i=this._customAttributeChecks.get(r)||[];i.push(e),this._customAttributeChecks.set(r,i)}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let t;for(e instanceof Ne?t=e.parent:t=(e instanceof he?[e]:Array.from(e.getRanges())).reduce((i,s)=>{const o=s.getCommonAncestor();return i?i.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new Sn("",e.getAttributes())];return this.checkAttribute(i,t)}else{const r=e.getRanges();for(const i of r)for(const s of i)if(this.checkAttribute(s.item,t))return!0}return!1}*getValidRanges(e,t){e=Vbe(e);for(const r of e)yield*this._getValidRangesForRange(r,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new he(e);let r,i;const s=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(t=="both"||t=="backward")&&(r=new qa({boundaries:he._createIn(s),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(i=new qa({boundaries:he._createIn(s),startPosition:e}));for(const o of Bbe(r,i)){const a=o.walker==r?"elementEnd":"elementStart",l=o.value;if(l.type==a&&this.isObject(l.item))return he._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new he(l.nextPosition)}return null}findAllowedParent(e,t){let r=e.parent;for(;r;){if(this.checkChild(r,t))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,t,r){const i=r.model;for(const[s,o]of Object.entries(t))i.schema.checkAttribute(e,s)&&r.setAttribute(s,o,e)}removeDisallowedAttributes(e,t){for(const r of e)if(r.is("$text"))UR(this,r,t);else{const s=he._createIn(r).getPositions();for(const o of s){const a=o.nodeBefore||o.parent;UR(this,a,t)}}}getAttributesWithProperty(e,t,r){const i={};for(const[s,o]of e.getAttributes()){const a=this.getAttributeProperties(s);a[t]!==void 0&&(r===void 0||r===a[t])&&(i[s]=o)}return i}createContext(e){return new tl(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,r=Object.keys(t);for(const s of r)e[s]=kbe(t[s],s);const i=Object.values(e);for(const s of i)Tbe(e,s),Sbe(e,s),Cbe(e,s),Abe(e,s);for(const s of i)Nbe(e,s);for(const s of i)Pbe(e,s);for(const s of i)Ibe(e,s);for(const s of i)Obe(e,s);for(const s of i)Mbe(e,s);this._compiledDefinitions=Rbe(e)}_checkContextMatch(e,t){const r=e.last;let i=this._evaluateChildChecks(e,t);if(i=i!==void 0?i:t.allowIn.includes(r.name),!i)return!1;const s=this.getDefinition(r),o=e.trimLast();return s?o.length==0?!0:this._checkContextMatch(o,s):!1}_evaluateChildChecks(e,t){const r=this._customChildChecks.get(this._genericCheckSymbol)||[],i=this._customChildChecks.get(t.name)||[];for(const s of[...r,...i]){const o=s(e,t);if(o!==void 0)return o}}_evaluateAttributeChecks(e,t){const r=this._customAttributeChecks.get(this._genericCheckSymbol)||[],i=this._customAttributeChecks.get(t)||[];for(const s of[...r,...i]){const o=s(e,t);if(o!==void 0)return o}}*_getValidRangesForRange(e,t){let r=e.start,i=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(he._createIn(s),t)),this.checkAttribute(s,t)||(r.isEqual(i)||(yield new he(r,i)),r=Ne._createAfter(s)),i=Ne._createAfter(s);r.isEqual(i)||(yield new he(r,i))}findOptimalInsertionRange(e,t){const r=e.getSelectedElement();if(r&&this.isObject(r)&&!this.isInline(r))return t=="before"||t=="after"?new he(Ne._createAt(r,t)):he._createOn(r);const i=_n(e.getSelectedBlocks());if(!i)return new he(e.focus);if(i.isEmpty)return new he(Ne._createAt(i,0));const s=Ne._createAfter(i);return e.focus.isTouching(s)?new he(s):new he(Ne._createBefore(i))}}class tl{_items;constructor(e){if(e instanceof tl)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(Lbe)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new tl([e]);return t._items=[...this._items,...t._items],t}trimLast(){const e=new tl([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function kbe(n,e){const t={name:e,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return Dbe(n,t),Wo(n,t,"allowIn"),Wo(n,t,"allowChildren"),Wo(n,t,"disallowIn"),Wo(n,t,"disallowChildren"),Wo(n,t,"allowContentOf"),Wo(n,t,"allowWhere"),Wo(n,t,"allowAttributes"),Wo(n,t,"disallowAttributes"),Wo(n,t,"allowAttributesOf"),Wo(n,t,"inheritTypesFrom"),Fbe(n,t),t}function Tbe(n,e){for(const t of e.allowIn){const r=n[t];r?r.allowChildren.add(e.name):e.allowIn.delete(t)}}function Sbe(n,e){for(const t of e.allowChildren){const r=n[t];r?r.allowIn.add(e.name):e.allowChildren.delete(t)}}function Cbe(n,e){for(const t of e.disallowIn){const r=n[t];r?r.disallowChildren.add(e.name):e.disallowIn.delete(t)}}function Abe(n,e){for(const t of e.disallowChildren){const r=n[t];r?r.disallowIn.add(e.name):e.disallowChildren.delete(t)}}function Nbe(n,e){for(const t of e.disallowChildren)e.allowChildren.delete(t);for(const t of e.disallowIn)e.allowIn.delete(t);for(const t of e.disallowAttributes)e.allowAttributes.delete(t)}function Pbe(n,e){for(const t of e.allowContentOf){const r=n[t];r&&(r.disallowChildren.forEach(i=>{e.allowChildren.has(i)||(e.disallowChildren.add(i),n[i].disallowIn.add(e.name))}),r.allowChildren.forEach(i=>{e.disallowChildren.has(i)||(e.allowChildren.add(i),n[i].allowIn.add(e.name))}))}}function Ibe(n,e){for(const t of e.allowWhere){const r=n[t];r&&(r.disallowIn.forEach(i=>{e.allowIn.has(i)||(e.disallowIn.add(i),n[i].disallowChildren.add(e.name))}),r.allowIn.forEach(i=>{e.disallowIn.has(i)||(e.allowIn.add(i),n[i].allowChildren.add(e.name))}))}}function Rbe(n){const e={};for(const t of Object.values(n))e[t.name]={name:t.name,isBlock:!!t.isBlock,isContent:!!t.isContent,isInline:!!t.isInline,isLimit:!!t.isLimit,isObject:!!t.isObject,isSelectable:!!t.isSelectable,allowIn:Array.from(t.allowIn).filter(r=>!!n[r]),allowChildren:Array.from(t.allowChildren).filter(r=>!!n[r]),allowAttributes:Array.from(t.allowAttributes)};return e}function Obe(n,e){for(const t of e.allowAttributesOf){const r=n[t];if(!r)return;r.allowAttributes.forEach(i=>{e.disallowAttributes.has(i)||e.allowAttributes.add(i)})}}function Mbe(n,e){for(const t of e.inheritTypesFrom){const r=n[t];if(r){const i=Object.keys(r).filter(s=>s.startsWith("is"));for(const s of i)s in e||(e[s]=r[s])}}}function Dbe(n,e){for(const t of n){const r=Object.keys(t).filter(i=>i.startsWith("is"));for(const i of r)e[i]=!!t[i]}}function Wo(n,e,t){for(const r of n){let i=r[t];typeof i=="string"&&(i=[i]),Array.isArray(i)&&i.forEach(s=>e[t].add(s))}}function Fbe(n,e){for(const t of n){const r=t.inheritAllFrom;r&&(e.allowContentOf.add(r),e.allowWhere.add(r),e.allowAttributesOf.add(r),e.inheritTypesFrom.add(r))}}function Lbe(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(e){return n.getAttribute(e)}}}function*Bbe(n,e){let t=!1;for(;!t;){if(t=!0,n){const r=n.next();r.done||(t=!1,yield{walker:n,value:r.value})}if(e){const r=e.next();r.done||(t=!1,yield{walker:e,value:r.value})}}}function*Vbe(n){for(const e of n)yield*e.getMinimalFlatRanges()}function UR(n,e,t){for(const r of e.getAttributeKeys())n.checkAttribute(e,r)||t.removeAttribute(r,e)}class Ube extends an(){conversionApi;_splitParts=new Map;_cursorParents=new Map;_modelCursor=null;_emptyElementsToKeep=new Set;constructor(e){super(),this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,r)=>this._convertItem(t,r),convertChildren:(t,r)=>this._convertChildren(t,r),safeInsert:(t,r)=>this._safeInsert(t,r),updateConversionResult:(t,r)=>this._updateConversionResult(t,r),splitToAllowedParent:(t,r)=>this._splitToAllowedParent(t,r),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=Hbe(r,t),this.conversionApi.writer=t,this.conversionApi.consumable=Py.createFrom(e),this.conversionApi.store={};const{modelRange:i}=this._convertItem(e,this._modelCursor),s=t.createDocumentFragment();if(i){this._removeEmptyElements();const o=this._modelCursor.parent,a=o._removeChildren(0,o.childCount);s._insertChild(0,a),s.markers=zbe(s,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,t){const r={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof he))throw new q("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,t){let r=t.is("position")?t:Ne._createAt(t,0);const i=new he(r);for(const s of Array.from(e.getChildren())){const o=this._convertItem(s,r);o.modelRange instanceof he&&(i.end=o.modelRange.end,r=o.modelCursor)}return{modelRange:i,modelCursor:r}}_safeInsert(e,t){const r=this._splitToAllowedParent(e,t);return r?(this.conversionApi.writer.insert(e,r.position),!0):!1}_updateConversionResult(e,t){const r=this._getSplitParts(e),i=this.conversionApi.writer;t.modelRange||(t.modelRange=i.createRange(i.createPositionBefore(e),i.createPositionAfter(r[r.length-1])));const s=this._cursorParents.get(e);s?t.modelCursor=i.createPositionAt(s,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:r,writer:i}=this.conversionApi;let s=r.findAllowedParent(t,e);if(s){if(s===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return SV(t,e,r)?{position:CV(t,i)}:null;const o=this.conversionApi.writer.split(t,s),a=[];for(const u of o.range.getWalker())if(u.type=="elementEnd")a.push(u.item);else{const f=a.pop(),m=u.item;this._registerSplitPair(f,m)}const l=o.range.end.parent;return this._cursorParents.set(e,l),{position:o.position,cursorParent:l}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(t,r),r.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const t of this._splitParts.keys())if(t.isEmpty&&!this._emptyElementsToKeep.has(t)){const r=e.get(t.parent)||[];r.push(t),this._splitParts.delete(t),e.set(t.parent,r)}for(const[t,r]of e)t._removeChildrenArray(r);e.size&&this._removeEmptyElements()}}function zbe(n,e){const t=new Set,r=new Map,i=he._createIn(n).getItems();for(const s of i)s.is("element","$marker")&&t.add(s);for(const s of t){const o=s.getAttribute("data-name"),a=e.createPositionBefore(s);r.has(o)?r.get(o).end=a.clone():r.set(o,new he(a.clone())),e.remove(s)}return r}function Hbe(n,e){let t;for(const r of new tl(n)){const i={};for(const o of r.getAttributeKeys())i[o]=r.getAttribute(o);const s=e.createElement(r.name,i);t&&e.insert(s,t),t=Ne._createAt(s,0)}return t}class $be{getHtml(e){const r=qe.document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(e),r.innerHTML}}class Wbe{domParser;domConverter;htmlWriter;skipComments=!0;constructor(e){this.domParser=new DOMParser,this.domConverter=new sV(e,{renderingMode:"data"}),this.htmlWriter=new $be}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4))||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),r=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)r.appendChild(i[0]);return r}}class jbe extends an(){model;mapper;downcastDispatcher;upcastDispatcher;viewDocument;stylesProcessor;htmlProcessor;processor;_viewWriter;constructor(e,t){super(),this.model=e,this.mapper=new dV,this.downcastDispatcher=new fV({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",gV(),{priority:"lowest"}),this.downcastDispatcher.on("insert",pV(),{priority:"lowest"}),this.upcastDispatcher=new Ube({schema:e.schema}),this.viewDocument=new ZB(t),this.stylesProcessor=t,this.htmlProcessor=new Wbe(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new eV(this.viewDocument),this.upcastDispatcher.on("text",ube(),{priority:"lowest"}),this.upcastDispatcher.on("element",BR(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",BR(),{priority:"lowest"}),qt().prototype.decorate.call(this,"init"),qt().prototype.decorate.call(this,"set"),qt().prototype.decorate.call(this,"get"),qt().prototype.decorate.call(this,"toView"),qt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},TV)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([t]))throw new q("datacontroller-get-non-existent-root",this);const i=this.model.document.getRoot(t);return i.isAttached()||Rt("datacontroller-get-detached-root",this),r==="empty"&&!this.model.hasContent(i,{ignoreWhitespaces:!0})?"":this.stringify(i,e)}stringify(e,t={}){const r=this.toView(e,t);return this.processor.toData(r)}toView(e,t={}){const r=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();const s=he._createIn(e),o=new gu(r);this.mapper.bindElements(e,o);const a=e.is("documentFragment")?e.markers:qbe(e);return this.downcastDispatcher.convert(s,a,i,t),o}init(e){if(this.model.document.version)throw new q("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new q("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const i of Object.keys(t)){const s=this.model.document.getRoot(i);r.insert(this.parse(t[i],s),s,0)}}),Promise.resolve()}set(e,t={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new q("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},i=>{i.setSelection(null),i.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(r)){const o=this.model.document.getRoot(s);i.remove(i.createRangeIn(o)),i.insert(this.parse(r[s],o),o,0)}})}parse(e,t="$root"){const r=this.processor.toView(e);return this.toModel(r,t)}toModel(e,t="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function qbe(n){const e=[],t=n.root.document;if(!t)return new Map;const r=he._createIn(n);for(const i of t.model.markers){const s=i.getRange(),o=s.isCollapsed,a=s.start.isEqual(r.start)||s.end.isEqual(r.end);if(o&&a)e.push([i.name,s]);else{const l=r.getIntersection(s);l&&e.push([i.name,l])}}return e.sort(([i,s],[o,a])=>{if(s.end.compareWith(a.start)!=="after")return 1;if(s.start.compareWith(a.end)!=="before")return-1;switch(s.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(s.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(i)}}}),new Map(e)}class Gbe{_helpers=new Map;_downcast;_upcast;constructor(e,t){this._downcast=Gt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Gt(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const r=this._downcast.includes(t);if(!this._upcast.includes(t)&&!r)throw new q("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:r})}for(e){if(!this._helpers.has(e))throw new q("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:r}of X2(e))this.for("upcast").elementToElement({model:t,view:r,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:r}of X2(e))this.for("upcast").elementToAttribute({view:r,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:r}of X2(e))this.for("upcast").attributeToAttribute({view:r,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:r}){if(this._helpers.has(e))throw new q("conversion-group-exists",this);const i=r?new I1e(t):new cbe(t);this._helpers.set(e,i)}}function*X2(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},r=n.view[e],i=n.upcastAlso?n.upcastAlso[e]:void 0;yield*zR(t,r,i)}else yield*zR(n.model,n.view,n.upcastAlso)}function*zR(n,e,t){if(yield{model:n,view:e},t)for(const r of Gt(t))yield{model:n,view:r}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class xs{baseVersion;isDocumentOperation;batch;constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function CC(n,e){const t=RV(e),r=t.reduce((o,a)=>o+a.offsetSize,0),i=n.parent;l0(n);const s=n.index;return i._insertChild(s,t),a0(i,s+t.length),a0(i,s),new he(n,n.getShiftedBy(r))}function IV(n){if(!n.isFlat)throw new q("operation-utils-remove-range-not-flat",this);const e=n.start.parent;l0(n.start),l0(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return a0(e,n.start.index),t}function o0(n,e){if(!n.isFlat)throw new q("operation-utils-move-range-not-flat",this);const t=IV(n);return e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),CC(e,t)}function Ybe(n,e,t){l0(n.start),l0(n.end);for(const r of n.getItems({shallow:!0})){const i=r.is("$textProxy")?r.textNode:r;t!==null?i._setAttribute(e,t):i._removeAttribute(e),a0(i.parent,i.index)}a0(n.end.parent,n.end.index)}function RV(n){const e=[];function t(r){if(typeof r=="string")e.push(new Sn(r));else if(r instanceof bo)e.push(new Sn(r.data,r.getAttributes()));else if(r instanceof Hu)e.push(r);else if(_s(r))for(const i of r)t(i)}t(n);for(let r=1;r<e.length;r++){const i=e[r],s=e[r-1];i instanceof Sn&&s instanceof Sn&&OV(i,s)&&(e.splice(r-1,2,new Sn(s.data+i.data,s.getAttributes())),r--)}return e}function a0(n,e){const t=n.getChild(e-1),r=n.getChild(e);if(t&&r&&t.is("$text")&&r.is("$text")&&OV(t,r)){const i=new Sn(t.data+r.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,i)}}function l0(n){const e=n.textNode,t=n.parent;if(e){const r=n.offset-e.startOffset,i=e.index;t._removeChildren(i,1);const s=new Sn(e.data.substr(0,r),e.getAttributes()),o=new Sn(e.data.substr(r),e.getAttributes());t._insertChild(i,[s,o])}}function OV(n,e){const t=n.getAttributes(),r=e.getAttributes();for(const i of t){if(i[1]!==e.getAttribute(i[0]))return!1;r.next()}return r.next().done}class Vt extends xs{sourcePosition;howMany;targetPosition;constructor(e,t,r,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName==this.sourcePosition.root.rootName?"move":this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[he._createFromPositionAndShift(this.sourcePosition,this.howMany),he._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Vt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Vt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,r=this.sourcePosition.offset,i=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new q("move-operation-nodes-do-not-exist",this);if(e===t&&r<i&&i<r+this.howMany)throw new q("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Ir(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=r&&this.targetPosition.path[s]<r+this.howMany)throw new q("move-operation-node-into-itself",this)}}_execute(){o0(he._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const r=Ne.fromJSON(e.sourcePosition,t),i=Ne.fromJSON(e.targetPosition,t);return new this(r,e.howMany,i,e.baseVersion)}}class Fr extends xs{position;nodes;shouldReceiveAttributes;constructor(e,t,r){super(r),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new _g(RV(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new _g([...this.nodes].map(r=>r._clone(!0))),t=new Fr(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Ne(e,[0]);return new Vt(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new q("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new _g([...e].map(t=>t._clone(!0))),CC(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const r=[];for(const s of e.nodes)s.name?r.push(gn.fromJSON(s)):r.push(Sn.fromJSON(s));const i=new Fr(Ne.fromJSON(e.position,t),r,e.baseVersion);return i.shouldReceiveAttributes=e.shouldReceiveAttributes,i}}class pn extends xs{splitPosition;howMany;insertionPosition;graveyardPosition;constructor(e,t,r,i,s){super(s),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=r,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Ne(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new he(this.splitPosition,e)}get affectedSelectable(){const e=[he._createFromPositionAndShift(this.splitPosition,0),he._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(he._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new pn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Ne(e,[0]);return new Xn(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new q("split-operation-position-invalid",this);if(e.parent){if(this.howMany!==Number.NEGATIVE_INFINITY&&this.howMany!=e.maxOffset-this.splitPosition.offset)throw new q("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new q("split-operation-graveyard-position-invalid",this)}else throw new q("split-operation-split-in-root",this);this.howMany=this.splitPosition.parent.maxOffset-this.splitPosition.offset}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)o0(he._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=e._clone();CC(this.insertionPosition,r)}const t=new he(Ne._createAt(e,this.splitPosition.offset),Ne._createAt(e,e.maxOffset));o0(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Ne(e.root,t,"toPrevious")}static fromJSON(e,t){const r=Ne.fromJSON(e.splitPosition,t),i=Ne.fromJSON(e.insertionPosition,t),s=e.graveyardPosition?Ne.fromJSON(e.graveyardPosition,t):null;return new this(r,e.howMany,i,s,e.baseVersion)}}class Xn extends xs{sourcePosition;howMany;targetPosition;graveyardPosition;constructor(e,t,r,i,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new Ne(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new he(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[he._createOn(e),he._createFromPositionAndShift(this.targetPosition,0),he._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Xn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),r=new Ne(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new pn(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!==Number.NEGATIVE_INFINITY&&this.howMany!=e.maxOffset)throw new q("merge-operation-how-many-invalid",this)}else throw new q("merge-operation-target-position-invalid",this);else throw new q("merge-operation-source-position-invalid",this);this.howMany=this.sourcePosition.parent.maxOffset}_execute(){const e=this.sourcePosition.parent,t=he._createIn(e);o0(t,this.targetPosition),o0(he._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const r=Ne.fromJSON(e.sourcePosition,t),i=Ne.fromJSON(e.targetPosition,t),s=Ne.fromJSON(e.graveyardPosition,t);return new this(r,e.howMany,i,s,e.baseVersion)}}class _i extends xs{name;oldRange;newRange;affectsData;_markers;constructor(e,t,r,i,s,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=r?r.clone():null,this.affectsData=s,this._markers=i}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new _i(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new _i(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new _i(e.name,e.oldRange?he.fromJSON(e.oldRange,t):null,e.newRange?he.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class nr extends xs{range;key;oldValue;newValue;constructor(e,t,r,i,s){super(s),this.range=e.clone(),this.key=t,this.oldValue=r===void 0?null:r,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new nr(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new nr(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new q("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!gR(e.getAttribute(this.key),this.oldValue))throw new q("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new q("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){gR(this.oldValue,this.newValue)||Ybe(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new nr(he.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Er extends xs{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Er(this.baseVersion)}getReversed(){return new Er(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ui extends xs{position;oldName;newName;constructor(e,t,r,i){super(i),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Ui(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ui(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof gn){if(this.oldName!==""&&e.name!==this.oldName)throw new q("rename-operation-wrong-name",this)}else throw new q("rename-operation-wrong-position",this);this.oldName=e.name}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Ui(Ne.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class nl extends xs{root;key;oldValue;newValue;constructor(e,t,r,i,s){super(s),this.root=e,this.key=t,this.oldValue=r===void 0?null:r,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new nl(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new nl(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new q("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new q("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new q("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new q("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new nl(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class na extends xs{rootName;elementName;isAdd;_document;constructor(e,t,r,i,s){if(super(s),this.rootName=e,this.elementName=t,this.isAdd=r,this._document=i,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new na(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new na(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new na(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Qs={};Qs[nr.className]=nr;Qs[Fr.className]=Fr;Qs[_i.className]=_i;Qs[Vt.className]=Vt;Qs[Er.className]=Er;Qs[xs.className]=xs;Qs[Ui.className]=Ui;Qs[nl.className]=nl;Qs[na.className]=na;Qs[pn.className]=pn;Qs[Xn.className]=Xn;class Kbe{static fromJSON(e,t){return Qs[e.__className].fromJSON(e,t)}}const Lk=new Map;function Ft(n,e,t){let r=Lk.get(n);r||(r=new Map,Lk.set(n,r)),r.set(e,t)}function Xbe(n,e){const t=Lk.get(n);return t&&t.has(e)?t.get(e):Jbe}function Jbe(n){return[n]}function HR(n,e,t={}){const r=Xbe(n.constructor,e.constructor);try{return n=n.clone(),r(n,e,t)}catch(i){throw i}}function Qbe(n,e,t){n=n.slice(),e=e.slice();const r=new Zbe(t.document,t.useRelations,t.forceWeakRemove);r.setOriginalOperations(n),r.setOriginalOperations(e);const i=r.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:i};const s=new WeakMap;for(const l of n)s.set(l,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let a=0;for(;a<n.length;){const l=n[a],u=s.get(l);if(u==e.length){a++;continue}const f=e[u],m=HR(l,f,r.getContext(l,f,!0)),p=HR(f,l,r.getContext(f,l,!1));r.updateRelation(l,f),r.setOriginalOperations(m,l),r.setOriginalOperations(p,f);for(const y of m)s.set(y,u+p.length);n.splice(a,1,...m),e.splice(u,1,...p)}return WR(n),WR(e),$R(n,o.nextBaseVersionB),$R(e,o.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:i}}class Zbe{originalOperations;_history;_useRelations;_forceWeakRemove;_relations;constructor(e,t,r=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!r,this._relations=new Map}setOriginalOperations(e,t=null){const r=t?this.originalOperations.get(t):null;for(const i of e)this.originalOperations.set(i,r||i)}updateRelation(e,t){if(e instanceof Vt)t instanceof Xn?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)?this._setRelation(e,t,"moveTargetAfter"):e.howMany>1&&e.sourcePosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"firstToMoveMerged"):e.howMany>1&&e.sourcePosition.getShiftedBy(e.howMany-1).isEqual(t.deletionPosition)&&this._setRelation(e,t,"lastToMoveMerged"):t instanceof Vt&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof pn){if(t instanceof Xn)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Vt)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const r=he._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)){const i=r.end.offset-e.splitPosition.offset,s=e.splitPosition.offset-r.start.offset;this._setRelation(e,t,{howMany:i,offset:s})}}}else if(e instanceof Xn)t instanceof Xn?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof pn?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof Vt&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof _i){const r=e.newRange;if(!r)return;if(t instanceof Xn){const i=r.start.isEqual(t.targetPosition),s=r.start.isEqual(t.deletionPosition),o=r.end.isEqual(t.deletionPosition),a=r.end.isEqual(t.sourcePosition);(i||s||o||a)&&this._setRelation(e,t,{wasInLeftElement:i,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(e,t,r){return{aIsStrong:r,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const r=this.originalOperations.get(t),i=this._history.getUndoneOperation(r);if(!i)return null;const s=this.originalOperations.get(e),o=this._relations.get(s);return o&&o.get(i)||null}_setRelation(e,t,r){const i=this.originalOperations.get(e),s=this.originalOperations.get(t);let o=this._relations.get(i);o||(o=new Map,this._relations.set(i,o)),o.set(s,r)}}function $R(n,e){for(const t of n)t.baseVersion=e++}function WR(n){const e=new Map;for(let t=0;t<n.length;t++){const r=n[t];r instanceof _i&&(r.baseVersion!==-1?e.set(r.name,{op:r,ranges:r.newRange?[r.newRange]:[]}):(r.newRange&&e.get(r.name).ranges.push(r.newRange),n.splice(t,1),t--))}for(const{op:t,ranges:r}of e.values())r.length?t.newRange=he._createFromRanges(r):t.newRange=null}Ft(nr,nr,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const r=n.range.getDifference(e.range).map(s=>new nr(s,n.key,n.oldValue,n.newValue,0)),i=n.range.getIntersection(e.range);return i&&t.aIsStrong&&r.push(new nr(i,e.key,e.newValue,n.newValue,0)),r.length==0?[new Er(0)]:r}else return[n]});Ft(nr,Fr,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const r=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new nr(i,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const i=MV(e,n.key,n.oldValue);i&&r.unshift(i)}return r}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]});function MV(n,e,t){const i=n.nodes.getNode(0).getAttribute(e);if(i==t)return null;const s=new he(n.position,n.position.getShiftedBy(n.howMany));return new nr(s,e,i,t,0)}Ft(nr,Xn,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(he._createFromPositionAndShift(e.graveyardPosition,1));const r=n.range._getTransformedByMergeOperation(e);return r.isCollapsed||t.push(r),t.map(i=>new nr(i,n.key,n.oldValue,n.newValue,n.baseVersion))});Ft(nr,Vt,(n,e)=>eye(n.range,e).map(r=>new nr(r,n.key,n.oldValue,n.newValue,n.baseVersion)));function eye(n,e){const t=he._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=null,i=[];t.containsRange(n,!0)?r=n:n.start.hasSameParentAs(t.start)?(i=n.getDifference(t),r=n.getIntersection(t)):i=[n];const s=[];for(let o of i){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),l=o.start.hasSameParentAs(a),u=o._getTransformedByInsertion(a,e.howMany,l);s.push(...u)}return r&&s.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),s}Ft(nr,pn,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new he(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]});Ft(Fr,nr,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const r=MV(n,e.key,e.newValue);r&&t.push(r)}return t});Ft(Fr,Fr,(n,e,t)=>n.position.isEqual(e.position)&&t.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(e),[n]));Ft(Fr,Vt,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));Ft(Fr,pn,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n]));Ft(Fr,Xn,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n]));Ft(_i,Fr,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n]));Ft(_i,_i,(n,e,t)=>{if(n.name==e.name)if(t.aIsStrong)n.oldRange=e.newRange?e.newRange.clone():null;else return[new Er(0)];return[n]});Ft(_i,Xn,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n]));Ft(_i,Vt,(n,e)=>{const t=[n];if(n.oldRange&&(n.oldRange=he._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){const r=n.newRange._getTransformedByMoveOperation(e);n.newRange=r[0];for(let i=1;i<r.length;i++){const s=n.clone();s.oldRange=null,s.newRange=r[i],s.baseVersion=-1,t.push(s)}}return t});Ft(_i,pn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const r=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)?t.abRelation.wasStartBeforeMergedElement?n.newRange.start=Ne._createAt(e.insertionPosition):t.abRelation.wasInLeftElement?n.newRange.start=Ne._createAt(n.newRange.start):n.newRange.start=Ne._createAt(e.moveTargetPosition):n.newRange.start=r.start,n.newRange.end.isEqual(e.splitPosition)?n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=Ne._createAt(e.insertionPosition):t.abRelation.wasInRightElement?n.newRange.end=Ne._createAt(e.moveTargetPosition):n.newRange.end=Ne._createAt(n.newRange.end):n.newRange.end=r.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]});Ft(Xn,Fr,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n]));Ft(Xn,Xn,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),n.sourcePosition=new Ne(e.graveyardPosition.root,r),n.howMany=0,[n]}else return[new Er(0)];if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const r=n.targetPosition.root.rootName=="$graveyard",i=e.targetPosition.root.rootName=="$graveyard";if(i&&!r||!(r&&!i)&&t.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),u=n.targetPosition._getTransformedByMergeOperation(e);return[new Vt(l,n.howMany,u,0)]}else return[new Er(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),(!n.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});Ft(Xn,Vt,(n,e,t)=>{const r=he._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(n.sourcePosition)?[new Er(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(n.sourcePosition)&&t.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=e.howMany):e.targetPosition.isEqual(n.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=e.howMany):(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])});Ft(Xn,pn,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)&&(e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition)||t.abRelation=="mergeTargetNotMoved"))return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n];if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]});Ft(Vt,Fr,(n,e)=>{const r=he._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]});Ft(Vt,Vt,(n,e,t)=>{const r=he._createFromPositionAndShift(n.sourcePosition,n.howMany),i=he._createFromPositionAndShift(e.sourcePosition,e.howMany);let s=t.aIsStrong,o=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?o=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(o=!1);let a;if(n.targetPosition.isEqual(e.targetPosition)&&o?a=n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),jR(n,e)&&jR(e,n))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ff([r],a);if(i.containsPosition(n.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),ff([r],a);const f=Ir(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(f=="prefix"||f=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ff([r],a);n.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?s=!0:n.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(s=!1);const m=[],p=r.getDifference(i);for(const v of p){v.start=v.start._getTransformedByDeletion(e.sourcePosition,e.howMany),v.end=v.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const w=Ir(v.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",E=v._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,w);m.push(...E)}const y=r.getIntersection(i);return y!==null&&s&&(y.start=y.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),y.end=y.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),m.length===0?m.push(y):m.length==1?i.start.isBefore(r.start)||i.start.isEqual(r.start)?m.unshift(y):m.push(y):m.splice(1,0,y)),m.length===0?[new Er(n.baseVersion)]:ff(m,a)});Ft(Vt,pn,(n,e,t)=>{let r=n.targetPosition.clone();if((!n.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(r=n.targetPosition._getTransformedBySplitOperation(e)),n.sourcePosition.isEqual(e.insertionPosition)&&t.abRelation=="firstToMoveMerged")return n.howMany++,n.targetPosition=r,[n];const i=he._createFromPositionAndShift(n.sourcePosition,n.howMany);if(i.end.isEqual(e.insertionPosition))return(!e.graveyardPosition||t.abRelation=="lastToMoveMerged")&&n.howMany++,n.targetPosition=r,[n];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){let a=new he(e.splitPosition,i.end);a=a._getTransformedBySplitOperation(e);const l=[new he(i.start,e.splitPosition),a];return ff(l,r)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(r=n.targetPosition);const o=[i._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);n.howMany>1&&a&&!t.aWasUndone&&o.push(he._createFromPositionAndShift(e.insertionPosition,1))}return ff(o,r)});Ft(Vt,Xn,(n,e,t)=>{const r=he._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(n.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const o=[];let a=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);const u=n.targetPosition.getTransformedByOperation(e);n.howMany>1&&(o.push(new Vt(n.sourcePosition,n.howMany-1,u,0)),a=a._getTransformedByMove(n.sourcePosition,u,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,u,n.howMany-1));const f=e.deletionPosition._getCombined(n.sourcePosition,u),m=new Vt(a,1,f,0),p=m.getMovedRangeStart().path.slice();p.push(0);const y=new Ne(m.targetPosition.root,p);l=l._getTransformedByMove(a,f,1);const v=new Vt(l,e.howMany,y,0);return o.push(m),o.push(v),o}}else if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new Er(0)]}const s=he._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=s.start,n.howMany=s.end.offset-s.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]});Ft(Ui,Fr,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n]));Ft(Ui,Xn,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n]));Ft(Ui,Vt,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));Ft(Ui,Ui,(n,e,t)=>{if(n.position.isEqual(e.position))if(t.aIsStrong)n.oldName=e.newName;else return[new Er(0)];return[n]});Ft(Ui,pn,(n,e)=>{const t=n.position.path,r=e.splitPosition.getParentPath();if(Ir(t,r)=="same"&&!e.graveyardPosition){const i=new Ui(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,i]}return n.position=n.position._getTransformedBySplitOperation(e),[n]});Ft(nl,nl,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new Er(0)];n.oldValue=e.newValue}return[n]});Ft(na,na,(n,e)=>n.rootName===e.rootName&&n.isAdd===e.isAdd?[new Er(0)]:[n]);Ft(pn,Fr,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n]));Ft(pn,Xn,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const i=new Ne(e.graveyardPosition.root,r),s=pn.getInsertionPosition(new Ne(e.graveyardPosition.root,r)),o=new pn(i,0,s,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});Ft(pn,Vt,(n,e,t)=>{const r=he._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const s=r.start.isEqual(n.graveyardPosition)||r.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&s){const o=n.splitPosition._getTransformedByMoveOperation(e),a=n.graveyardPosition._getTransformedByMoveOperation(e),l=a.path.slice();l.push(0);const u=new Ne(a.root,l);return[new Vt(o,n.howMany,u,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const i=n.splitPosition.isEqual(e.targetPosition);if(i&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n];if(i&&t.abRelation&&t.abRelation.howMany){const{howMany:s,offset:o}=t.abRelation;return n.howMany+=s,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(n.splitPosition)){const s=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=s,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]});Ft(pn,pn,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new Er(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new Er(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const r=n.splitPosition.root.rootName=="$graveyard",i=e.splitPosition.root.rootName=="$graveyard";if(i&&!r||!(r&&!i)&&t.aIsStrong){const l=[];return e.howMany&&l.push(new Vt(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&l.push(new Vt(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new Er(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const i=new Ne(e.insertionPosition.root,r),s=new Vt(n.insertionPosition,1,i,0);return[n,s]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]});function jR(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function ff(n,e){const t=[];for(let r=0;r<n.length;r++){const i=n[r],s=new Vt(i.start,i.end.offset-i.start.offset,e,0);t.push(s);for(let o=r+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return t}class tr extends an(Ne){constructor(e,t,r="toNone"){if(super(e,t,r),!this.root.is("rootElement"))throw new q("model-liveposition-root-not-rootelement",e);tye.call(this)}detach(){this.stopListening()}toPosition(){return new Ne(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}tr.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function tye(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&nye.call(this,t)},{priority:"low"})}function nye(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}class $d{operations;isUndoable;isLocal;isUndo;isTyping;constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Rt("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:r=!0,isUndo:i=!1,isTyping:s=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=r,this.isUndo=i,this.isTyping=s}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.isDocumentOperation&&(e.batch=this,this.operations.push(e)),e}}class Oy{static _statesPriority=[void 0,"refresh","rename","move"];_markerCollection;_changesInElement=new Map;_elementsSnapshots=new Map;_elementChildrenSnapshots=new Map;_elementState=new Map;_changedMarkers=new Map;_changedRoots=new Map;_changeCount=0;_cachedChanges=null;_cachedChangesWithGraveyard=null;_refreshedItems=new Set;constructor(e){this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const r of t.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const r=this._isInInsertedElement(t.sourcePosition.parent),i=this._isInInsertedElement(t.targetPosition.parent);r||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),i||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);const s=he._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const o of s.getItems({shallow:!0}))this._setElementState(o,"move");break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const r=he._createFromPositionAndShift(t.position,1);for(const i of this._markerCollection.getMarkersIntersectingRange(r)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}this._setElementState(t.position.nodeAfter,"rename");break}case"split":{const r=t.splitPosition.parent;if(!this._isInInsertedElement(r)){this._markRemove(r,t.splitPosition.offset,t.howMany);const i=he._createFromPositionAndShift(t.splitPosition,t.howMany);for(const s of i.getItems({shallow:!0}))this._setElementState(s,"move")}this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&(this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1),this._setElementState(t.graveyardPosition.nodeAfter,"move"));break}case"merge":{const r=t.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1);const i=t.graveyardPosition.parent;this._markInsert(i,t.graveyardPosition.offset,1),this._setElementState(r,"move");const s=t.targetPosition.parent;if(!this._isInInsertedElement(s)){this._markInsert(s,t.targetPosition.offset,r.maxOffset);const o=he._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const a of o.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{const r=t.affectedSelectable;if(!r._isLoaded||r.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const r=t.root.rootName;this._bufferRootAttributeChange(r,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,r){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null);let i=this._changedMarkers.get(e);i?i.newMarkerData=r:(i={newMarkerData:r,oldMarkerData:t},this._changedMarkers.set(e,i)),i.oldMarkerData.range==null&&r.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,r]of this._changedMarkers)r.oldMarkerData.range!=null&&e.push({name:t,range:r.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,r]of this._changedMarkers)r.newMarkerData.range!=null&&e.push({name:t,range:r.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const r=e.range&&!t.range,i=!e.range&&t.range,s=e.range&&t.range&&!e.range.isEqual(t.range);if(r||i||s)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const r of this._changesInElement.keys()){const i=this._changesInElement.get(r).sort((f,m)=>f.offset===m.offset?f.type!=m.type?f.type=="remove"?-1:1:0:f.offset<m.offset?-1:1),s=this._elementChildrenSnapshots.get(r),o=GR(r.getChildren()),a=rye(s.length,i);let l=0,u=0;for(const f of a)if(f==="i"){const m=this._getDiffActionForNode(o[l].node,"insert"),p=this._elementsSnapshots.get(o[l].node),y=this._getInsertDiff(r,l,m,o[l],p);t.push(y),l++}else if(f==="r"){const m=this._getDiffActionForNode(s[u].node,"remove"),p=this._getRemoveDiff(r,l,m,s[u]);t.push(p),u++}else if(f==="a"){const m=s[u].attributes,p=o[l].attributes;let y;if(o[l].name=="$text")y=new he(Ne._createAt(r,l),Ne._createAt(r,l+1));else{const w=r.offsetToIndex(l);y=new he(Ne._createAt(r,l),Ne._createAt(r.getChild(w),0))}const v=this._getAttributesDiff(y,m,p);t.push(...v),l++,u++}else l++,u++}t.sort((r,i)=>r.position.root!=i.position.root?r.position.root.rootName<i.position.root.rootName?-1:1:r.position.isEqual(i.position)?r.changeCount-i.changeCount:r.position.isBefore(i.position)?-1:1);for(let r=1,i=0;r<t.length;r++){const s=t[i],o=t[r],a=s.type=="remove"&&o.type=="remove"&&s.name=="$text"&&o.name=="$text"&&s.position.isEqual(o.position),l=s.type=="insert"&&o.type=="insert"&&s.name=="$text"&&o.name=="$text"&&s.position.parent==o.position.parent&&s.position.offset+s.length==o.position.offset,u=s.type=="attribute"&&o.type=="attribute"&&s.position.parent==o.position.parent&&s.range.isFlat&&o.range.isFlat&&s.position.offset+s.length==o.position.offset&&s.attributeKey==o.attributeKey&&s.attributeOldValue==o.attributeOldValue&&s.attributeNewValue==o.attributeNewValue;a||l||u?(s.length++,u&&(s.range.end=s.range.end.getShiftedBy(1)),t[r]=null):i=r}t=t.filter(r=>r);for(const r of t)delete r.changeCount,r.type=="attribute"&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(iye),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const t=he._createOn(e);for(const r of this._markerCollection.getMarkersIntersectingRange(t)){const i=r.getData();this.bufferMarkerChange(r.name,i,i)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const r=t.getData();this.bufferMarkerChange(t.name,{...r,range:null},r)}}}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const r=this._changedRoots.get(e);r.state!==void 0?(delete r.state,r.attributes===void 0&&this._changedRoots.delete(e)):r.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,r,i){const s=this._changedRoots.get(e)||{name:e},o=s.attributes||{};if(o[t]){const a=o[t];i===a.oldValue?delete o[t]:a.newValue=i}else o[t]={oldValue:r,newValue:i};Object.entries(o).length===0?(delete s.attributes,s.state===void 0&&this._changedRoots.delete(e)):(s.attributes=o,this._changedRoots.set(e,s))}_markInsert(e,t,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"insert",offset:t,howMany:r,count:this._changeCount++};this._markChange(e,i)}_markRemove(e,t,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"remove",offset:t,howMany:r,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,t,r)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshots(e);const r=this._getChangesForElement(e);this._handleChange(t,r),r.push(t);for(let i=0;i<r.length;i++)r[i].howMany<1&&(r.splice(i,1),i--)}_setElementState(e,t){if(!e.is("element"))return;const r=Oy._statesPriority.indexOf(this._elementState.get(e));Oy._statesPriority.indexOf(t)>r&&this._elementState.set(e,t)}_getDiffActionForNode(e,t){if(!e.is("element")||!this._elementsSnapshots.has(e))return t;const r=this._elementState.get(e);return!r||r=="move"?t:r}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const t=GR(e.getChildren());this._elementChildrenSnapshots.set(e,t);for(const r of t)this._elementsSnapshots.set(r.node,r)}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const r of t){const i=e.offset+e.howMany,s=r.offset+r.howMany;if(e.type=="insert"&&(r.type=="insert"&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<s&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),r.type=="remove"&&e.offset<r.offset&&(r.offset+=e.howMany),r.type=="attribute")){if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<s){const o=r.howMany;r.howMany=e.offset-r.offset,t.unshift({type:"attribute",offset:i,howMany:o-r.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(r.type=="insert"){if(i<=r.offset)r.offset-=e.howMany;else if(i<=s)if(e.offset<r.offset){const o=i-r.offset;r.offset=e.offset,r.howMany-=o,e.nodesToHandle-=o}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<s){const o=s-e.offset;r.howMany-=o,e.nodesToHandle-=o}}if(r.type=="remove"&&(i<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),r.type=="attribute"){if(i<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){const o=i-r.offset;r.offset=e.offset,r.howMany-=o}else if(e.offset<s)if(i<=s){const o=r.howMany;r.howMany=e.offset-r.offset;const a=o-r.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else r.howMany-=s-e.offset}}if(e.type=="attribute"){if(r.type=="insert")if(e.offset<r.offset&&i>r.offset){if(i>s){const o={type:"attribute",offset:s,howMany:i-s,count:this._changeCount++};this._handleChange(o,t),t.push(o)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<s&&(i>s?(e.nodesToHandle=i-s,e.offset=s):e.nodesToHandle=0);if(r.type=="remove"&&e.offset<r.offset&&i>r.offset){const o={type:"attribute",offset:r.offset,howMany:i-r.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}r.type=="attribute"&&(e.offset>=r.offset&&i<=s?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&i>=s&&(r.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,r,i,s){const o={type:"insert",position:Ne._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,action:r};return r!="insert"&&s&&(o.before={name:s.name,attributes:new Map(s.attributes)}),o}_getRemoveDiff(e,t,r,i){return{type:"remove",action:r,position:Ne._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,r){const i=[];r=new Map(r);for(const[s,o]of t){const a=r.has(s)?r.get(s):null;a!==o&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),r.delete(s)}for(const[s,o]of r)i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return i}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const r=this._changesInElement.get(t),i=e.startOffset;if(r){for(const s of r)if(s.type=="insert"&&i>=s.offset&&i<s.offset+s.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,r){const i=new he(Ne._createAt(e,t),Ne._createAt(e,t+r));for(const s of i.getItems({shallow:!0}))s.is("element")&&(this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function qR(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function GR(n){const e=[];for(const t of n)if(t.is("$text"))for(let r=0;r<t.data.length;++r)e.push(qR(t));else e.push(qR(t));return e}function rye(n,e){const t=[];let r=0,i=0;for(const s of e){if(s.offset>r){for(let o=0;o<s.offset-r;o++)t.push("e");i+=s.offset-r}if(s.type=="insert"){for(let o=0;o<s.howMany;o++)t.push("i");r=s.offset+s.howMany}else if(s.type=="remove"){for(let o=0;o<s.howMany;o++)t.push("r");r=s.offset,i+=s.howMany}else{if(s.howMany>1500)for(let o=0;o<s.howMany;o++)t.push("a");else t.push(..."a".repeat(s.howMany).split(""));r=s.offset+s.howMany,i+=s.howMany}}if(i<n)for(let s=0;s<n-i-r;s++)t.push("e");return t}function iye(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}class sye{_operations=[];_undoPairs=new Map;_undoneOperations=new Set;_baseVersionToOperationIndex=new Map;_version=0;_gaps=new Map;get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new q("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const r=this._operations[0];e===void 0&&(e=r.baseVersion);let i=t-1;for(const[a,l]of this._gaps)e>a&&e<l&&(e=l),i>a&&i<l&&(i=a-1);if(i<r.baseVersion||e>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(e);s===void 0&&(s=0);let o=this._baseVersionToOperationIndex.get(i);return o===void 0&&(o=this._operations.length-1),this._operations.slice(s,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class My extends gn{rootName;_document;_isAttached=!0;_isLoaded=!0;constructor(e,t,r="main"){super(t),this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}My.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const YR="$graveyard";class oye extends an(){model;history;selection;roots;differ;isReadOnly;_postFixers;_hasSelectionChangedFromTheLastChangeBlock;constructor(e){super(),this.model=e,this.history=new sye,this.selection=new Co(this),this.roots=new sr({idProperty:"rootName"}),this.differ=new Oy(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",YR),this.listenTo(e,"applyOperation",(t,r)=>{const i=r[0];i.isDocumentOperation&&this.differ.bufferOperation(i)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,r)=>{const i=r[0];i.isDocumentOperation&&this.history.addOperation(i)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,r,i,s,o)=>{const a={...r.getData(),range:s};this.differ.bufferMarkerChange(r.name,o,a),i===null&&r.on("change",(l,u)=>{const f=r.getData();this.differ.bufferMarkerChange(r.name,{...f,range:u},f)})}),this.registerPostFixer(t=>{let r=!1;for(const i of this.roots)!i.isAttached()&&!i.isEmpty&&(t.remove(t.createRangeIn(i)),r=!0);for(const i of this.model.markers)i.getRange().root.isAttached()||(t.removeMarker(i),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(YR)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new q("model-document-createroot-name-exists",this,{name:t});const r=new My(this,e,t);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=rpe(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,r=t.schema,i=t.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(i)||t.createRange(i)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&KR(e.start)&&KR(e.end)}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(this.selection.refresh(),t=r(e),t)break;while(t)}}function KR(n){const e=n.textNode;if(e){const t=e.data,r=n.offset-e.startOffset;return!iC(t,r)&&!sC(t,r)}return!0}class aye extends an(){_markers=new Map;[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof tf?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,r=!1,i=!1){const s=e instanceof tf?e.name:e;if(s.includes(","))throw new q("markercollection-incorrect-marker-name",this);const o=this._markers.get(s);if(o){const u=o.getData(),f=o.getRange();let m=!1;return f.isEqual(t)||(o._attachLiveRange(Di.fromRange(t)),m=!0),r!=o.managedUsingOperations&&(o._managedUsingOperations=r,m=!0),typeof i=="boolean"&&i!=o.affectsData&&(o._affectsData=i,m=!0),m&&this.fire(`update:${s}`,o,f,t,u),o}const a=Di.fromRange(t),l=new tf(s,a,r,i);return this._markers.set(s,l),this.fire(`update:${s}`,l,null,t,{...l.getData(),range:null}),l}_remove(e){const t=e instanceof tf?e.name:e,r=this._markers.get(t);return r?(this._markers.delete(t),this.fire(`update:${t}`,r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0):!1}_refresh(e){const t=e instanceof tf?e.name:e,r=this._markers.get(t);if(!r)throw new q("markercollection-refresh-marker-not-exists",this);const i=r.getRange();this.fire(`update:${t}`,r,i,i,r.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class tf extends an(yc){name;_managedUsingOperations;_affectsData;_liveRange;constructor(e,t,r,i){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=r,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.toRange()}toJSON(){return{name:this.name,range:this._liveRange?.toJSON(),usingOperations:this._managedUsingOperations,affectsData:this._affectsData}}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}tf.prototype.is=function(n){return n==="marker"||n==="model:marker"};class lye extends xs{sourcePosition;howMany;constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new q("detach-operation-on-document-node",this)}_execute(){IV(he._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Yo extends yc{markers=new Map;_children=new _g;constructor(e){super(),e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const r of e)t=t.getChildAtOffset(r);return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const r of e)r.name?t.push(gn.fromJSON(r)):t.push(Sn.fromJSON(r));return new Yo(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=cye(t);for(const i of r)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const i of r)i.parent=null;return r}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const t of e)t.parent=null}}Yo.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function cye(n){return typeof n=="string"?[new Sn(n)]:(_s(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Sn(e):e instanceof bo?new Sn(e.data,e.getAttributes()):e))}class uye{model;batch;constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Sn(e,t)}createElement(e,t){return new gn(e,t)}createDocumentFragment(){return new Yo}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,r=0){if(this._assertWriterUsedCorrectly(),e instanceof Sn&&e.data=="")return;const i=Ne._createAt(t,r);if(e.parent)if(QR(e.root,i.root)){this.move(he._createOn(e),i);return}else{if(e.root.document)throw new q("model-writer-insert-forbidden-move",this);this.remove(e)}const s=i.root.document?i.root.document.version:null,o=e instanceof Yo?e._removeChildren(0,e.childCount):e,a=new Fr(i,o,s);if(e instanceof Sn&&(a.shouldReceiveAttributes=!0),this.batch.addOperation(a),this.model.applyOperation(a),e instanceof Yo)for(const[l,u]of e.markers){const f=Ne._createAt(u.root,0),p={range:new he(u.start._getCombined(f,i),u.end._getCombined(f,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,p):this.addMarker(l,p)}}insertText(e,t,r,i){t instanceof Yo||t instanceof gn||t instanceof Ne?this.insert(this.createText(e),t,r):this.insert(this.createText(e,t),r,i)}insertElement(e,t,r,i){t instanceof Yo||t instanceof gn||t instanceof Ne?this.insert(this.createElement(e),t,r):this.insert(this.createElement(e,t),r,i)}append(e,t){this.insert(e,t,"end")}appendText(e,t,r){t instanceof Yo||t instanceof gn?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),r,"end")}appendElement(e,t,r){t instanceof Yo||t instanceof gn?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),r,"end")}setAttribute(e,t,r){if(this._assertWriterUsedCorrectly(),r instanceof he){const i=r.getMinimalFlatRanges();for(const s of i)XR(this,e,t,s)}else JR(this,e,t,r)}setAttributes(e,t){for(const[r,i]of la(e))this.setAttribute(r,i,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof he){const r=t.getMinimalFlatRanges();for(const i of r)XR(this,e,null,i)}else JR(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=r=>{for(const i of r.getAttributeKeys())this.removeAttribute(i,r)};if(!(e instanceof he))t(e);else for(const r of e.getItems())t(r)}move(e,t,r){if(this._assertWriterUsedCorrectly(),!(e instanceof he))throw new q("writer-move-invalid-range",this);if(!e.isFlat)throw new q("writer-move-range-not-flat",this);const i=Ne._createAt(t,r);if(i.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!QR(e.root,i.root))throw new q("writer-move-different-document",this);const s=e.root.document?e.root.document.version:null,o=new Vt(e.start,e.end.offset-e.start.offset,i,s);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const r=(e instanceof he?e:he._createOn(e)).getMinimalFlatRanges().reverse();for(const i of r)this._addOperationForAffectedMarkers("move",i),dye(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,r=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof gn))throw new q("writer-merge-no-element-before",this);if(!(r instanceof gn))throw new q("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,r){return this.model.createPositionFromPath(e,t,r)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,r=e.nodeAfter;this.move(he._createIn(r),Ne._createAt(t,"end")),this.remove(r)}_merge(e){const t=Ne._createAt(e.nodeBefore,"end"),r=Ne._createAt(e.nodeAfter,0),i=e.root.document.graveyard,s=new Ne(i,[0]),o=e.root.document.version,a=new Xn(r,e.nodeAfter.maxOffset,t,s,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof gn))throw new q("writer-rename-not-element-instance",this);const r=e.root.document?e.root.document.version:null,i=new Ui(Ne._createBefore(e),e.name,t,r);this.batch.addOperation(i),this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let r=e.parent;if(!r.parent)throw new q("writer-split-element-no-parent",this);if(t||(t=r.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new q("writer-split-invalid-limit-element",this);let i,s;do{const o=r.root.document?r.root.document.version:null,a=r.maxOffset-e.offset,l=pn.getInsertionPosition(e),u=new pn(e,a,l,null,o);this.batch.addOperation(u),this.model.applyOperation(u),!i&&!s&&(i=r,s=e.parent.nextSibling),e=this.createPositionAfter(e.parent),r=e.parent}while(r!==t);return{position:e,range:new he(Ne._createAt(i,"end"),Ne._createAt(s,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new q("writer-wrap-range-not-flat",this);const r=t instanceof gn?t:new gn(t);if(r.childCount>0)throw new q("writer-wrap-element-not-empty",this);if(r.parent!==null)throw new q("writer-wrap-element-attached",this);this.insert(r,e.start);const i=new he(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,Ne._createAt(r,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new q("writer-unwrap-element-no-parent",this);this.move(he._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new q("writer-addmarker-no-usingoperation",this);const r=t.usingOperation,i=t.range,s=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new q("writer-addmarker-marker-exists",this);if(!i)throw new q("writer-addmarker-no-range",this);return r?(Mm(this,e,null,i,s),this.model.markers.get(e)):this.model.markers._set(e,i,r,s)}updateMarker(e,t){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name,i=this.model.markers.get(r);if(!i)throw new q("writer-updatemarker-marker-not-exists",this);if(!t){Rt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:r}),this.model.markers._refresh(i);return}const s=typeof t.usingOperation=="boolean",o=typeof t.affectsData=="boolean",a=o?t.affectsData:i.affectsData;if(!s&&!t.range&&!o)throw new q("writer-updatemarker-wrong-options",this);const l=i.getRange(),u=t.range?t.range:l;if(s&&t.usingOperation!==i.managedUsingOperations){t.usingOperation?Mm(this,r,null,u,a):(Mm(this,r,l,null,a),this.model.markers._set(r,u,void 0,a));return}i.managedUsingOperations?Mm(this,r,l,u,a):this.model.markers._set(r,u,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new q("writer-removemarker-no-marker",this);const r=this.model.markers.get(t);if(!r.managedUsingOperations){this.model.markers._remove(t);return}const i=r.getRange();Mm(this,t,i,null,r.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const r=this.model.document.getRoot(e);if(r&&r.isAttached())throw new q("writer-addroot-root-exists",this);const i=this.model.document,s=new na(e,t,!0,i,i.version);return this.batch.addOperation(s),this.model.applyOperation(s),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new q("writer-detachroot-no-root",this);for(const s of this.model.markers)s.getRange().root===t&&this.removeMarker(s);for(const s of t.getAttributeKeys())this.removeAttribute(s,t);this.remove(this.createRangeIn(t));const r=this.model.document,i=new na(t.rootName,t.name,!1,r,r.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[r,i]of la(e))this._setSelectionAttribute(r,i)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const i=Co._getStoreAttributeKey(e);this.setAttribute(i,t,r.anchor.parent)}r._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const r=Co._getStoreAttributeKey(e);this.removeAttribute(r,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new q("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const r of this.model.markers){if(!r.managedUsingOperations)continue;const i=r.getRange();let s=!1;if(e==="move"){const o=t;s=o.containsPosition(i.start)||o.start.isEqual(i.start)||o.containsPosition(i.end)||o.end.isEqual(i.end)}else{const o=t,a=o.nodeBefore,l=o.nodeAfter,u=i.start.parent==a&&i.start.isAtEnd,f=i.end.parent==l&&i.end.offset==0,m=i.end.nodeAfter==l,p=i.start.nodeAfter==l;s=u||f||m||p}s&&this.updateMarker(r.name,{range:i})}}}function XR(n,e,t,r){const i=n.model,s=i.document;let o=r.start,a,l,u;for(const m of r.getWalker({shallow:!0}))u=m.item.getAttribute(e),a&&l!=u&&(l!=t&&f(),o=a),a=m.nextPosition,l=u;a instanceof Ne&&a!=o&&l!=t&&f();function f(){const m=new he(o,a),p=m.root.document?s.version:null,y=new nr(m,e,l,t,p);n.batch.addOperation(y),i.applyOperation(y)}}function JR(n,e,t,r){const i=n.model,s=i.document,o=r.getAttribute(e);let a,l;if(o!=t){if(r.root===r){const f=r.document?s.version:null;l=new nl(r,e,o,t,f)}else{a=new he(Ne._createBefore(r),n.createPositionAfter(r));const f=a.root.document?s.version:null;l=new nr(a,e,o,t,f)}n.batch.addOperation(l),i.applyOperation(l)}}function Mm(n,e,t,r,i){const s=n.model,o=s.document,a=new _i(e,t,r,s.markers,!!i,o.version);n.batch.addOperation(a),s.applyOperation(a)}function dye(n,e,t,r){let i;if(n.root.document){const s=r.document,o=new Ne(s.graveyard,[0]);i=new Vt(n,e,o,s.version)}else i=new lye(n,e);t.addOperation(i),r.applyOperation(i)}function QR(n,e){return n===e||n instanceof My&&e instanceof My}function fye(n){n.document.registerPostFixer(e=>hye(e,n))}function hye(n,e){const t=e.document.selection,r=e.schema,i=[];let s=!1;for(const o of t.getRanges()){const a=AC(o,r);a&&!a.isEqual(o)?(i.push(a),s=!0):i.push(o)}return s&&n.setSelection(bye(i),{backward:t.isBackward}),!1}function AC(n,e){return n.isCollapsed?mye(n,e):gye(n,e)}function mye(n,e){const t=n.start,r=e.getNearestSelectionRange(t);if(!r){const s=t.getAncestors().reverse().find(o=>e.isObject(o));return s?he._createOn(s):null}if(!r.isCollapsed)return r;const i=r.start;return t.isEqual(i)?null:new he(i)}function gye(n,e){const{start:t,end:r}=n,i=e.checkChild(t,"$text"),s=e.checkChild(r,"$text"),o=e.getLimitElement(t),a=e.getLimitElement(r);if(o===a){if(i&&s)return null;if(pye(t,r,e)){const m=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),y=r.nodeBefore&&e.isSelectable(r.nodeBefore)?null:e.getNearestSelectionRange(r,"backward"),v=m?m.start:t,w=y?y.end:r;return new he(v,w)}}const l=o&&!o.is("rootElement"),u=a&&!a.is("rootElement");if(l||u){const f=t.nodeAfter&&r.nodeBefore&&t.nodeAfter.parent===r.nodeBefore.parent,m=l&&(!f||!eO(t.nodeAfter,e)),p=u&&(!f||!eO(r.nodeBefore,e));let y=t,v=r;return m&&(y=Ne._createBefore(ZR(o,e))),p&&(v=Ne._createAfter(ZR(a,e))),new he(y,v)}return null}function ZR(n,e){let t=n,r=t;for(;e.isLimit(r)&&r.parent;)t=r,r=r.parent;return t}function pye(n,e,t){const r=n.nodeAfter&&!t.isLimit(n.nodeAfter)||t.checkChild(n,"$text"),i=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return r||i}function bye(n){const e=[...n],t=new Set;let r=1;for(;r<e.length;){const s=e[r],o=e.slice(0,r);for(const[a,l]of o.entries())if(!t.has(a)){if(s.isEqual(l))t.add(a);else if(s.isIntersecting(l)){t.add(a),t.add(r);const u=s.getJoined(l);e.push(u)}}r++}return e.filter((s,o)=>!t.has(o))}function eO(n,e){return n&&e.isSelectable(n)}function yye(n,e,t={}){if(e.isCollapsed)return;const r=e.getFirstRange();if(r.root.rootName=="$graveyard")return;const i=n.schema;n.change(s=>{if(!t.doNotResetEntireContent&&Cye(i,e)){Sye(s,e);return}const o={};if(!t.doNotAutoparagraph){const u=e.getSelectedElement();u&&Object.assign(o,i.getAttributesWithProperty(u,"copyOnReplace",!0))}let a,l;t.doNotFixSelection?(a=tr.fromPosition(r.start,"toPrevious"),l=tr.fromPosition(r.end,"toNext")):[a,l]=wye(r),a.isTouching(l)||s.remove(s.createRange(a,l)),t.leaveUnmerged||(_ye(s,a,l),i.removeDisallowedAttributes(a.parent.getChildren(),s)),BV(s,e,a),!t.doNotAutoparagraph&&kye(i,a)&&LV(s,a,e,o),a.detach(),l.detach()})}function wye(n){const e=n.root.document.model,t=n.start;let r=n.end;if(e.hasContent(n,{ignoreMarkers:!0})){const i=vye(r);if(i&&r.isTouching(e.createPositionAt(i,0))){const s=e.createSelection(n);e.modifySelection(s,{direction:"backward"});const o=s.getLastPosition(),a=e.createRange(o,r);e.hasContent(a,{ignoreMarkers:!0})||(r=o)}}return[tr.fromPosition(t,"toPrevious"),tr.fromPosition(r,"toNext")]}function vye(n){const e=n.parent,t=e.root.document.model.schema,r=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const i of r){if(t.isLimit(i))return null;if(t.isBlock(i))return i}}function _ye(n,e,t){const r=n.model;if(!NC(n.model.schema,e,t))return;const[i,s]=Eye(e,t);!i||!s||(!r.hasContent(i,{ignoreMarkers:!0})&&r.hasContent(s,{ignoreMarkers:!0})?FV(n,e,t,i.parent):DV(n,e,t,i.parent))}function DV(n,e,t,r){const i=e.parent,s=t.parent;if(!(i==r||s==r)){for(e=n.createPositionAfter(i),t=n.createPositionBefore(s),t.isEqual(e)||n.insert(s,e),n.merge(e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}NC(n.model.schema,e,t)&&DV(n,e,t,r)}}function FV(n,e,t,r){const i=e.parent,s=t.parent;if(!(i==r||s==r)){for(e=n.createPositionAfter(i),t=n.createPositionBefore(s),t.isEqual(e)||n.insert(i,t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}t=n.createPositionBefore(s),xye(n,t),NC(n.model.schema,e,t)&&FV(n,e,t,r)}}function xye(n,e){const t=e.nodeBefore,r=e.nodeAfter;t.name!=r.name&&n.rename(t,r.name),n.clearAttributes(t),n.setAttributes(Object.fromEntries(r.getAttributes()),t),n.merge(e)}function NC(n,e,t){const r=e.parent,i=t.parent;return r==i||n.isLimit(r)||n.isLimit(i)?!1:Tye(e,t,n)}function Eye(n,e){const t=n.getAncestors(),r=e.getAncestors();let i=0;for(;t[i]&&t[i]==r[i];)i++;return[t[i],r[i]]}function kye(n,e){const t=n.checkChild(e,"$text"),r=n.checkChild(e,"paragraph");return!t&&r}function Tye(n,e,t){const r=new he(n,e);for(const i of r.getWalker())if(t.isLimit(i.item))return!1;return!0}function LV(n,e,t,r={}){const i=n.createElement("paragraph");n.model.schema.setAllowedAttributes(i,r,n),n.insert(i,e),BV(n,t,n.createPositionAt(i,0))}function Sye(n,e){const t=n.model.schema.getLimitElement(e);n.remove(n.createRangeIn(t)),LV(n,n.createPositionAt(t,0),e)}function Cye(n,e){const t=n.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const r=e.getFirstRange();return r.start.parent==r.end.parent?!1:n.checkChild(t,"paragraph")}function BV(n,e,t){e instanceof Co?n.setSelection(t):e.setTo(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Aye(n,e){return n.change(t=>{const r=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return r;const s=i.start.root,o=i.start.getCommonPath(i.end),a=s.getNodeByPath(o);let l;i.start.parent==i.end.parent?l=i:l=t.createRange(t.createPositionAt(a,i.start.path[o.length]),t.createPositionAt(a,i.end.path[o.length]+1));const u=l.end.offset-l.start.offset;for(const f of l.getItems({shallow:!0}))f.is("$textProxy")?t.appendText(f.data,f.getAttributes(),r):t.append(t.cloneElement(f,!0),r);if(l!=i){const f=i._getTransformedByMove(l.start,t.createPositionAt(r,0),u)[0],m=t.createRange(t.createPositionAt(r,0),f.start),p=t.createRange(f.end,t.createPositionAt(r,"end"));tO(p,t),tO(m,t)}return r})}function tO(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(r=>e.createRangeOn(r)).filter(r=>(r.start.isAfter(n.start)||r.start.isEqual(n.start))&&(r.end.isBefore(n.end)||r.end.isEqual(n.end))).forEach(r=>{t.push(r.start.parent),e.remove(r)}),t.forEach(r=>{let i=r;for(;i.parent&&i.isEmpty;){const s=e.createRangeOn(i);i=i.parent,e.remove(s)}})}function Nye(n,e,t){return n.change(r=>{const i=t||n.document.selection;i.isCollapsed||n.deleteContent(i,{doNotAutoparagraph:!0});const s=new Pye(n,r,i.anchor),o=[];let a;if(e.is("documentFragment")){if(e.markers.size){const f=[];for(const[m,p]of e.markers){const{start:y,end:v}=p,w=y.isEqual(v);f.push({position:y,name:m,isCollapsed:w},{position:v,name:m,isCollapsed:w})}f.sort(({position:m},{position:p})=>m.isBefore(p)?1:-1);for(const{position:m,name:p,isCollapsed:y}of f){let v=null,w=null;const E=m.parent===e&&m.isAtStart,k=m.parent===e&&m.isAtEnd;!E&&!k?(v=r.createElement("$marker"),r.insert(v,m)):y&&(w=E?"start":"end"),o.push({name:p,element:v,collapsed:w})}}a=e.getChildren()}else a=[e];s.handleNodes(a);let l=s.getSelectionRange();if(e.is("documentFragment")&&o.length){const f=l?Di.fromRange(l):null,m={};for(let p=o.length-1;p>=0;p--){const{name:y,element:v,collapsed:w}=o[p],E=!m[y];if(E&&(m[y]=[]),v){const k=r.createPositionAt(v,"before");m[y].push(k),r.remove(v)}else{const k=s.getAffectedRange();if(!k){w&&m[y].push(s.position);continue}w?m[y].push(k[w]):m[y].push(E?k.start:k.end)}}for(const[p,[y,v]]of Object.entries(m))y&&v&&y.root===v.root&&y.root.document&&!r.model.markers.has(p)&&r.addMarker(p,{usingOperation:!0,affectsData:!0,range:new he(y,v)});f&&(l=f.toRange(),f.detach())}/* istanbul ignore else -- @preserve */l&&(i instanceof Co?r.setSelection(l):i.setTo(l));const u=s.getAffectedRange()||n.createRange(i.anchor);return s.destroy(),u})}class Pye{model;writer;position;canMergeWith;schema;_documentFragment;_documentFragmentPosition;_firstNode=null;_lastNode=null;_lastAutoParagraph=null;_filterAttributesAndChildrenOf=[];_affectedStart=null;_affectedEnd=null;_nodeToSelect=null;constructor(e,t,r){this.model=e,this.writer=t,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))t.offsetSize>0&&this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesAndChildrenOf,this.writer),this.model._config?.get("experimentalFlags.modelInsertContentDeepSchemaVerification")&&this._removeDisallowedChildren(this._filterAttributesAndChildrenOf),this._filterAttributesAndChildrenOf=[]}_removeDisallowedChildren(e){const t=Array.from(e);for(const r of t){if(!r.is("element"))continue;const i=[],s=[],o=this.writer.createRangeIn(r).getWalker({ignoreElementEnd:!0});for(const{item:a}of o){const l=a.parent;this.schema.checkChild(l,a)||(a.is("element")&&!this.schema.isObject(a)?(s.push(a),t.push(l)):i.push(a),o.jumpTo(this.writer.createPositionAfter(a)))}for(const a of s)this.writer.unwrap(a);for(const a of i)this.writer.remove(a)}}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),r=this.writer.createPositionAfter(e);if(r.isAfter(t)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new q("insertcontent-invalid-insertion-position",this);this.position=r,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?he._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new he(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(!this._checkAndSplitToAllowedPosition(e)){this.schema.isObject(e)||this._handleDisallowedNode(e);return}e=this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=tr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new q("insertcontent-wrong-position",this,{node:e,position:this.position});return this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),e.parent||(e=this._documentFragmentPosition.nodeBefore),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesAndChildrenOf.push(e),e}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=tr.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=tr.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof gn)||!this._canMergeLeft(e))return;const t=tr._createBefore(e);t.stickiness="toNext";const r=tr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=tr._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=tr._createAt(t.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach(),this._filterAttributesAndChildrenOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof gn)||!this._canMergeRight(e))return;const t=tr._createAfter(e);t.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(t))throw new q("insertcontent-invalid-insertion-position",this);this.position=Ne._createAt(t.nodeBefore,"end");const r=tr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=tr._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=tr._createAt(t.nodeBefore,0,"toPrevious")),this.position=r.toPosition(),r.detach(),this._filterAttributesAndChildrenOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof gn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof gn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_insertAutoParagraph(){this._insertPartialFragment();const e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const r=this.position.parent;this.position=this.writer.createPositionBefore(r),r.isEmpty&&r.parent===t&&this.writer.remove(r)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,t){const r=this.schema.createContext(e);return this.schema.checkChild(r,t)||this.schema.checkChild(r,"paragraph")&&this.schema.checkChild(r.push("paragraph"),t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function Iye(n,e,t,r={}){if(!n.schema.isObject(e))throw new q("insertobject-element-not-an-object",n,{object:e});const i=t||n.document.selection;let s=i;r.findOptimalPosition&&n.schema.isBlock(e)&&(s=n.createSelection(n.schema.findOptimalInsertionRange(i,r.findOptimalPosition)));const o=_n(i.getSelectedBlocks()),a={};return o&&Object.assign(a,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(l=>{s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});let u=e;const f=s.anchor.parent,m=n.schema.createContext(f);!n.schema.checkChild(m,e)&&n.schema.checkChild(m,"paragraph")&&n.schema.checkChild(m.push("paragraph"),e)&&(u=l.createElement("paragraph"),l.insert(e,u)),n.schema.setAllowedAttributes(u,a,l);const p=n.insertContent(u,s);return p.isCollapsed||r.setSelection&&Rye(l,e,r.setSelection,a),p})}function Rye(n,e,t,r){const i=n.model;if(t=="on"){n.setSelection(e,"on");return}if(t!="after")throw new q("insertobject-invalid-place-parameter-value",i);let s=e.nextSibling;if(i.schema.isInline(e)){n.setSelection(e,"after");return}!(s&&i.schema.checkChild(s,"$text"))&&i.schema.checkChild(e.parent,"paragraph")&&(s=n.createElement("paragraph"),i.schema.setAllowedAttributes(s,r,n),i.insertContent(s,n.createPositionAfter(e))),s&&n.setSelection(s,0)}const Oye=' ,.?!:;"-()';function Mye(n,e,t={}){const r=n.schema,i=t.direction!="backward",s=t.unit?t.unit:"character",o=!!t.treatEmojiAsSingleUnit,a=e.focus,l=new qa({boundaries:Bye(a,i),singleCharacters:!0,direction:i?"forward":"backward"}),u={walker:l,schema:r,isForward:i,unit:s,treatEmojiAsSingleUnit:o};let f;for(;f=l.next();){if(f.done)return;const m=Dye(u,f.value);if(m){e instanceof Co?n.change(p=>{p.setSelectionFocus(m)}):e.setFocus(m);return}}}function Dye(n,e){const{isForward:t,walker:r,unit:i,schema:s,treatEmojiAsSingleUnit:o}=n,{type:a,item:l,nextPosition:u}=e;if(a=="text")return n.unit==="word"?Lye(r,t):Fye(r,i,o);if(a==(t?"elementStart":"elementEnd")){if(s.isSelectable(l))return Ne._createAt(l,t?"after":"before");if(s.checkChild(u,"$text"))return u}else{if(s.isLimit(l)){r.skip(()=>!0);return}if(s.checkChild(u,"$text"))return u}}function Fye(n,e,t){const r=n.position.textNode;if(r){const i=r.data;let s=n.position.offset-r.startOffset;for(;iC(i,s)||e=="character"&&sC(i,s)||t&&UB(i,s);)n.next(),s=n.position.offset-r.startOffset}return n.position}function Lye(n,e){let t=n.position.textNode;for(t||(t=e?n.position.nodeAfter:n.position.nodeBefore);t&&t.is("$text");){const r=n.position.offset-t.startOffset;if(Uye(t,r,e))t=e?n.position.nodeAfter:n.position.nodeBefore;else{if(Vye(t.data,r,e))break;n.next()}}return n.position}function Bye(n,e){const t=n.root,r=Ne._createAt(t,e?"end":0);return e?new he(n,r):new he(r,n)}function Vye(n,e,t){const r=e+(t?0:-1);return Oye.includes(n.charAt(r))}function Uye(n,e,t){return e===(t?n.offsetSize:0)}class zye extends qt(){markers;document;schema;_config;_pendingChanges;_currentWriter;constructor(e){super(),this.markers=new aye,this.document=new oye(this),this.schema=new Ebe,this._config=e,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),fye(this),this.document.registerPostFixer(TV),this.on("insertContent",(t,[r,i])=>{t.return=Nye(this,r,i)}),this.on("insertObject",(t,[r,i,s])=>{t.return=Iye(this,r,i,s)}),this.on("canEditAt",t=>{const r=!this.document.isReadOnly;t.return=r,r||t.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new $d,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new $d):e instanceof $d||(e=new $d(e)):e=new $d,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,t,r,...i){const s=J2(t,r);return this.fire("insertContent",[e,s,r,...i])}insertObject(e,t,r,i,...s){const o=J2(t,r);return this.fire("insertObject",[e,o,i,i,...s])}deleteContent(e,t){yye(this,e,t)}modifySelection(e,t){Mye(this,e,t)}getSelectedContent(e){return Aye(this,e)}hasContent(e,t={}){const r=e instanceof he?e:he._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:s=!1}=t;if(!s){for(const o of this.markers.getMarkersIntersectingRange(r))if(o.affectsData)return!0}for(const o of r.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(i){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=J2(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,r){return new Ne(e,t,r)}createPositionAt(e,t){return Ne._createAt(e,t)}createPositionAfter(e){return Ne._createAfter(e)}createPositionBefore(e){return Ne._createBefore(e)}createRange(e,t){return new he(e,t)}createRangeIn(e){return he._createIn(e)}createRangeOn(e){return he._createOn(e)}createSelection(...e){return new fs(...e)}createBatch(e){return new $d(e)}createOperationFromJSON(e){return Kbe.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new uye(this,t);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function J2(n,e){if(n)return n instanceof fs||n instanceof Co?n:n instanceof Hu?e||e===0?new fs(n,e):n.is("rootElement")?new fs(n,"in"):new fs(n,"on"):new fs(n)}class Hye extends Mo{domEventType="click";onDomEvent(e){this.fire(e.type,e)}}class PC extends Mo{domEventType=["mousedown","mouseup","mouseover","mouseout"];onDomEvent(e){this.fire(e.type,e)}}class $ye extends Mo{domEventType=["touchstart","touchend","touchmove"];onDomEvent(e){this.fire(e.type,e)}}class VV extends Mo{domEventType=["pointerdown","pointerup","pointermove"];onDomEvent(e){this.fire(e.type,e)}}class _v{document;constructor(e){this.document=e}createDocumentFragment(e){return new gu(this.document,e)}createElement(e,t,r){return new So(this.document,e,t,r)}createText(e){return new hr(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,r){return r._insertChild(e,t)}removeChildren(e,t,r){return r._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const r=e.parent;if(r){const i=r.getChildIndex(e);return this.removeChildren(i,1,r),this.insertChild(i,t,r),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const r=t.getChildIndex(e);this.remove(e),this.insertChild(r,e.getChildren(),t)}}rename(e,t){const r=new So(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,r)?r:null}setAttribute(e,t,r){r._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,r){yv(e)&&r===void 0?t._setStyle(e):r._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,r){r._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Me._createAt(e,t)}createPositionAfter(e){return Me._createAfter(e)}createPositionBefore(e){return Me._createBefore(e)}createRange(e,t){return new ft(e,t)}createRangeOn(e){return ft._createOn(e)}createRangeIn(e){return ft._createIn(e)}createSelection(...e){return new wo(...e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Wye=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,jye=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,qye=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Gye=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,Yye=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Kye=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,Xye=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function UV(n){return n.startsWith("#")?Wye.test(n):n.startsWith("rgb")?jye.test(n)||qye.test(n):n.startsWith("hsl")?Gye.test(n)||Yye.test(n):Xye.has(n.toLowerCase())}const Jye=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function Qye(n){return Jye.includes(n)}const Zye=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function xv(n){return Zye.test(n)}const ewe=/^[+-]?[0-9]*([.][0-9]+)?%$/;function zV(n){return ewe.test(n)}const twe=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function nwe(n){return twe.includes(n)}const rwe=["center","top","bottom","left","right"];function iwe(n){return rwe.includes(n)}const swe=["fixed","scroll","local"];function owe(n){return swe.includes(n)}const awe=/^url\(/;function lwe(n){return awe.test(n)}function xg(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=IC(n),t=e[0],r=e[2]||t,i=e[1]||t,s=e[3]||i;return{top:t,bottom:r,right:i,left:s}}function Eg(n){return e=>{const{top:t,right:r,bottom:i,left:s}=e,o=[];return[t,r,s,i].every(a=>!!a)?o.push([n,cwe(e)]):(t&&o.push([n+"-top",t]),r&&o.push([n+"-right",r]),i&&o.push([n+"-bottom",i]),s&&o.push([n+"-left",s])),o}}function cwe({top:n,right:e,bottom:t,left:r}){const i=[];return r!==e?i.push(n,e,t,r):t!==n?i.push(n,e,t):e!==n?i.push(n,e):i.push(n),i.join(" ")}function HV(n){return e=>({path:n,value:xg(e)})}function IC(n){const e=n.trim().slice(0,1500).matchAll(Kye);return Array.from(e).map(t=>t[0])}function RC(n){n.setNormalizer("background",uwe()),n.setNormalizer("background-color",dwe()),n.setReducer("background",fwe()),n.setStyleRelation("background",["background-color"])}function uwe(){return n=>{const e={},t=IC(n);for(const r of t)nwe(r)?(e.repeat=e.repeat||[],e.repeat.push(r)):iwe(r)?(e.position=e.position||[],e.position.push(r)):owe(r)?e.attachment=r:UV(r)?e.color=r:lwe(r)&&(e.image=r);return{path:"background",value:e}}}function dwe(){return n=>({path:"background.color",value:n})}function fwe(){return n=>{const e=[];return e.push(["background-color",n.color]),e}}function $V(n){n.setNormalizer("border",hwe()),n.setNormalizer("border-top",$1("top")),n.setNormalizer("border-right",$1("right")),n.setNormalizer("border-bottom",$1("bottom")),n.setNormalizer("border-left",$1("left")),n.setNormalizer("border-color",Q2("color")),n.setNormalizer("border-width",Q2("width")),n.setNormalizer("border-style",Q2("style")),n.setNormalizer("border-top-color",Ds("color","top")),n.setNormalizer("border-top-style",Ds("style","top")),n.setNormalizer("border-top-width",Ds("width","top")),n.setNormalizer("border-right-color",Ds("color","right")),n.setNormalizer("border-right-style",Ds("style","right")),n.setNormalizer("border-right-width",Ds("width","right")),n.setNormalizer("border-bottom-color",Ds("color","bottom")),n.setNormalizer("border-bottom-style",Ds("style","bottom")),n.setNormalizer("border-bottom-width",Ds("width","bottom")),n.setNormalizer("border-left-color",Ds("color","left")),n.setNormalizer("border-left-style",Ds("style","left")),n.setNormalizer("border-left-width",Ds("width","left")),n.setExtractor("border-top",W1("top")),n.setExtractor("border-right",W1("right")),n.setExtractor("border-bottom",W1("bottom")),n.setExtractor("border-left",W1("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",Eg("border-color")),n.setReducer("border-style",Eg("border-style")),n.setReducer("border-width",Eg("border-width")),n.setReducer("border-top",j1("top")),n.setReducer("border-right",j1("right")),n.setReducer("border-bottom",j1("bottom")),n.setReducer("border-left",j1("left")),n.setReducer("border",gwe()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function hwe(){return n=>{const{color:e,style:t,width:r}=WV(n);return{path:"border",value:{color:xg(e),style:xg(t),width:xg(r)}}}}function $1(n){return e=>{const{color:t,style:r,width:i}=WV(e),s={};return t!==void 0&&(s.color={[n]:t}),r!==void 0&&(s.style={[n]:r}),i!==void 0&&(s.width={[n]:i}),{path:"border",value:s}}}function Q2(n){return e=>({path:"border",value:mwe(e,n)})}function mwe(n,e){return{[e]:xg(n)}}function Ds(n,e){return t=>({path:"border",value:{[n]:{[e]:t}}})}function W1(n){return(e,t)=>{if(t.border)return Jm(t.border,n)}}function Jm(n,e){const t={};return n.width&&n.width[e]&&(t.width=n.width[e]),n.style&&n.style[e]&&(t.style=n.style[e]),n.color&&n.color[e]&&(t.color=n.color[e]),t}function WV(n){const e={},t=IC(n);for(const r of t)xv(r)||/thin|medium|thick/.test(r)?e.width=r:Qye(r)?e.style=r:e.color=r;return e}function gwe(){return e=>{const t=Jm(e,"top"),r=Jm(e,"right"),i=Jm(e,"bottom"),s=Jm(e,"left"),o=[t,r,i,s],a={width:n(o,"width"),style:n(o,"style"),color:n(o,"color")},l=nf(a,"all");return l.length?l:[...Object.entries(a).reduce((f,[m,p])=>(p&&(f.push([`border-${m}`,p]),o.forEach(y=>delete y[m])),f),[]),...nf(t,"top"),...nf(r,"right"),...nf(i,"bottom"),...nf(s,"left")]};function n(e,t){return e.map(r=>r[t]).reduce((r,i)=>r==i?r:null)}}function j1(n){return e=>nf(e,n)}function nf(n,e){const t=[];if(n&&n.width&&t.push("width"),n&&n.style&&t.push("style"),n&&n.color&&t.push("color"),t.length==3){const r=t.map(i=>n[i]).join(" ");return[e=="all"?["border",r]:[`border-${e}`,r]]}return e=="all"?[]:t.map(r=>[`border-${e}-${r}`,n[r]])}function jV(n){n.setNormalizer("margin",HV("margin")),n.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),n.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),n.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),n.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),n.setReducer("margin",Eg("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function pwe(n){n.setNormalizer("padding",HV("padding")),n.setNormalizer("padding-top",e=>({path:"padding.top",value:e})),n.setNormalizer("padding-right",e=>({path:"padding.right",value:e})),n.setNormalizer("padding-bottom",e=>({path:"padding.bottom",value:e})),n.setNormalizer("padding-left",e=>({path:"padding.left",value:e})),n.setReducer("padding",Eg("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}function bwe(n){return n==null||typeof n!="object"&&typeof n!="function"}function ywe(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function wwe(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const vwe="[object RegExp]",qV="[object String]",GV="[object Number]",YV="[object Boolean]",KV="[object Arguments]",_we="[object Symbol]",xwe="[object Date]",Ewe="[object Map]",kwe="[object Set]",Twe="[object Array]",Swe="[object ArrayBuffer]",Cwe="[object Object]",Awe="[object DataView]",Nwe="[object Uint8Array]",Pwe="[object Uint8ClampedArray]",Iwe="[object Uint16Array]",Rwe="[object Uint32Array]",Owe="[object Int8Array]",Mwe="[object Int16Array]",Dwe="[object Int32Array]",Fwe="[object Float32Array]",Lwe="[object Float64Array]";function Bwe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Vwe(n,e){return hf(n,void 0,n,new Map,e)}function hf(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(bwe(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=hf(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,hf(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(hf(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(Bwe(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=hf(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),Qc(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),Qc(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),Qc(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,Qc(o,n,t,r,i),o}if(typeof n=="object"&&Uwe(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),Qc(o,n,t,r,i),o}return n}function Qc(n,e,t=n,r,i){const s=[...Object.keys(e),...ywe(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=hf(e[a],a,t,r,i))}}function Uwe(n){switch(wwe(n)){case KV:case Twe:case Swe:case Awe:case YV:case xwe:case Fwe:case Lwe:case Owe:case Mwe:case Dwe:case Ewe:case GV:case Cwe:case vwe:case kwe:case qV:case _we:case Nwe:case Pwe:case Iwe:case Rwe:return!0;default:return!1}}function zwe(n,e){return Vwe(n,(t,r,i,s)=>{const o=e?.(t,r,i,s);if(o!=null)return o;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case GV:case qV:case YV:{const a=new n.constructor(n?.valueOf());return Qc(a,n),a}case KV:{const a={};return Qc(a,n),a.length=n.length,a[Symbol.iterator]=n[Symbol.iterator],a}default:return}})}function Hwe(n){return typeof n=="object"&&n!==null}function $we(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function Wwe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=$we(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function jwe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return Wwe(n,e,{leading:r,trailing:i,maxWait:e})}function qwe(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function nO(n){return Hwe(n)&&n.nodeType===1&&!qwe(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class XV{crashes=[];state="initializing";_crashNumberLimit;_now=Date.now;_minimumNonErrorTimePeriod;_boundErrorHandler;_listeners;constructor(e){if(this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const r="error"in t?t.error:t.reason;r instanceof Error&&this._handleError(r,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(r=>r!==t)}_fire(e,...t){const r=this._listeners[e]||[];for(const i of r)i.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Bk(n,e=new Set){const t=[n],r=new Set;let i=0;for(;t.length>i;){const s=t[i++];if(!(r.has(s)||!Gwe(s)||e.has(s)))if(r.add(s),Symbol.iterator in s)try{for(const o of s)t.push(o)}catch{}else for(const o in s)o!=="defaultValue"&&t.push(s[o])}return r}function Gwe(n){const e=Object.prototype.toString.call(n),t=typeof n;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function JV(n,e,t=new Set){if(n===e&&Ywe(n))return!0;const r=Bk(n,t),i=Bk(e,t);for(const s of r)if(i.has(s))return!0;return!1}function Ywe(n){return typeof n=="object"&&n!==null}class QV extends XV{_editor=null;_lifecyclePromise=null;_throttledSave;_data;_lastDocumentVersion;_elementOrData;_initUsingData=!0;_editables={};_config;_excludedProps;constructor(e,t={}){super(t),this._throttledSave=jwe(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(r,i)=>e.create(r,i)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],r=this._config.rootsAttributes||{},i={};for(const[o,a]of Object.entries(this._data.roots))a.isLoaded?(e[o]="",i[o]=r[o]||{}):t.push(o);const s={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:i,_watchdogInitialData:this._data};return delete s.initialData,s.extraPlugins.push(Kwe),this._initUsingData?this.create(e,s,s.context):nO(this._elementOrData)?this.create(this._elementOrData,s,s.context):this.create(this._editables,s,s.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,r){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=r,this._creator(e,this._config))).then(i=>{this._editor=i,i.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=i.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:r}=e,i=r.has("CommentsRepository")&&r.get("CommentsRepository"),s=r.has("TrackChanges")&&r.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(a=>{o.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(const a of e.model.markers)a._affectsData&&(o.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return i&&(o.commentThreads=JSON.stringify(i.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),s&&(o.suggestions=JSON.stringify(s.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(t);r&&(e[t]=r)}return e}_isErrorComingFromThisItem(e){return JV(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return zwe(e,(t,r)=>{if(nO(t)||r==="context")return t})}}class Kwe{editor;_data;constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const r=e.createElement(t.name,t.attributes);if(t.children)for(const i of t.children)r._appendChild(this._createNode(e,i));return r}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([r,{content:i,attributes:s}])=>{const o=JSON.parse(i),a=JSON.parse(s),l=t.model.document.getRoot(r);for(const[u,f]of a)e.setAttribute(u,f,l);for(const u of o){const f=this._createNode(e,u);e.insert(f,l,"end")}}),Object.entries(this._data.markers).forEach(([r,i])=>{const{document:s}=t.model,{rangeJSON:{start:o,end:a},...l}=i,u=s.getRoot(o.root),f=e.createPositionFromPath(u,o.path,o.stickiness),m=e.createPositionFromPath(u,a.path,a.stickiness),p=e.createRange(f,m);e.addMarker(r,{range:p,...l})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);if(this.editor.plugins.has("CommentsRepository")){const r=this.editor.plugins.get("CommentsRepository");for(const i of r.getCommentThreads())r._removeCommentThread({threadId:i.id});e.forEach(i=>{const s=this.editor.config.get("collaboration.channelId");this.editor.plugins.get("CommentsRepository").addCommentThread({channelId:s,...i})})}if(this.editor.plugins.has("TrackChangesEditing")){const r=this.editor.plugins.get("TrackChangesEditing");for(const i of r.getSuggestions())r._removeSuggestion(i);t.forEach(i=>{r.addSuggestionData(i)})}}}const kg=Symbol("MainQueueId");class Xwe extends XV{_watchdogs=new Map;_watchdogConfig;_context=null;_contextProps=new Set;_actionQueues=new Jwe;_contextConfig;_item;constructor(e,t={}){super(t),this._watchdogConfig=t,this._creator=r=>e.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(kg,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=rO(e);return Promise.all(t.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return i=new QV(null,this._watchdogConfig),i.setCreator(r.creator),i._setExcludedProperties(this._contextProps),r.destructor&&i.setDestructor(r.destructor),this._watchdogs.set(r.id,i),i.on("error",(s,{error:o,causesRestart:a})=>{this._fire("itemError",{itemId:r.id,error:o}),a&&this._actionQueues.enqueue(r.id,()=>new Promise(l=>{const u=()=>{i.off("restart",u),this._fire("itemRestart",{itemId:r.id}),l()};i.on("restart",u)}))}),i.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(e){const t=rO(e);return Promise.all(t.map(r=>this._actionQueues.enqueue(r,()=>{const i=this._getWatchdog(r);return this._watchdogs.delete(r),i.destroy()})))}destroy(){return this._actionQueues.enqueue(kg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(kg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Bk(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return JV(this._context,e.context)}}class Jwe{_onEmptyCallbacks=[];_queues=new Map;_activeActions=0;onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const r=e===kg;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const s=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(kg),this._queues.get(e)])).then(t),o=s.catch(()=>{});return this._queues.set(e,o),s.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function rO(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ee extends qt(){editor;_disableStack=new Set;constructor(e){super(),this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",iO,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",iO),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function iO(n){n.return=!1,n.stop()}class lt extends qt(){editor;_isEnabledBasedOnSelection;_affectsData;_disableStack;constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const r=e.model.document.selection,s=!(r.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!s)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",sO,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",sO),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function sO(n){n.return=!1,n.stop()}class oO extends lt{_childCommandsDefinitions=[];refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){wB(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class Qwe{_commands;constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const r=this.get(e);if(!r)throw new q("commandcollection-command-not-found",this,{commandName:e});return r.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class ZV extends an(){_context;_plugins=new Map;_availablePlugins;_contextPlugins;constructor(e,t=[],r=[]){super(),this._context=e,this._availablePlugins=new Map;for(const i of t)i.pluginName&&this._availablePlugins.set(i.pluginName,i);this._contextPlugins=new Map;for(const[i,s]of r)this._contextPlugins.set(i,s),this._contextPlugins.set(s,i),i.pluginName&&this._availablePlugins.set(i.pluginName,i)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new q("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return t}has(e){return this._plugins.has(e)}init(e,t=[],r=[]){const i=this,s=this._context;y(e),w(e);const o=e.filter(R=>!m(R,t)),a=[...v(o)];I(a,r);const l=S(a);return P(l,"init").then(()=>P(l,"afterInit")).then(()=>l);function u(R){return typeof R=="function"}function f(R){return u(R)&&!!R.isContextPlugin}function m(R,A){return A.some(F=>F===R||p(R)===F||p(F)===R)}function p(R){return u(R)?R.pluginName||R.name:R}function y(R,A=new Set){R.forEach(F=>{u(F)&&(A.has(F)||(A.add(F),F.pluginName&&!i._availablePlugins.has(F.pluginName)&&i._availablePlugins.set(F.pluginName,F),F.requires&&y(F.requires,A)))})}function v(R,A=new Set){return R.map(F=>u(F)?F:i._availablePlugins.get(F)).reduce((F,V)=>A.has(V)?F:(A.add(V),V.requires&&(w(V.requires,V),v(V.requires,A).forEach(K=>F.add(K))),F.add(V)),new Set)}function w(R,A=null){R.map(F=>u(F)?F:i._availablePlugins.get(F)||F).forEach(F=>{E(F,A),k(F,A),T(F,A)})}function E(R,A){if(!u(R))throw A?new q("plugincollection-soft-required",s,{missingPlugin:R,requiredBy:p(A)}):new q("plugincollection-plugin-not-found",s,{plugin:R})}function k(R,A){if(f(A)&&!f(R))throw new q("plugincollection-context-required",s,{plugin:p(R),requiredBy:p(A)})}function T(R,A){if(A&&m(R,t))throw new q("plugincollection-required",s,{plugin:p(R),requiredBy:p(A)})}function S(R){return R.map(A=>{let F=i._contextPlugins.get(A);return F=F||new A(s),i._add(A,F),F})}function P(R,A){return R.reduce((F,V)=>!V[A]||i._contextPlugins.has(V)?F:F.then(V[A].bind(V)),Promise.resolve())}function I(R,A){for(const F of A){if(typeof F!="function")throw new q("plugincollection-replace-plugin-invalid-type",null,{pluginItem:F});const V=F.pluginName;if(!V)throw new q("plugincollection-replace-plugin-missing-name",null,{pluginItem:F});if(F.requires&&F.requires.length)throw new q("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:V});const K=i._availablePlugins.get(V);if(!K)throw new q("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:V});const re=R.indexOf(K);if(re===-1){if(i._contextPlugins.has(K))return;throw new q("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:V})}if(K.requires&&K.requires.length)throw new q("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:V});R.splice(re,1,F),i._availablePlugins.set(V,F)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new q("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,t)}}}class aO{config;plugins;locale;t;editors;static defaultConfig;static builtinPlugins;_contextOwner=null;constructor(e){const{translations:t,...r}=e||{};this.config=new TB(r,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new ZV(this,i);const s=this.config.get("language")||{};this.locale=new e0e({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content"),translations:t}),this.t=this.locale.t,this.editors=new sr}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const r of e.concat(t)){if(typeof r!="function")throw new q("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new q("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new q("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const r=new this(e);t(r.initPlugins().then(()=>r))})}}class Ev extends qt(){context;constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}class Zwe extends bn{editor;constructor(e){super(),this.editor=e}set(e,t,r={}){if(typeof t=="string"){const i=t;t=(s,o)=>{this.editor.execute(i),o()}}super.set(e,t,r)}}const Z2="contentEditing",lO="common";class eve{keystrokeInfos=new Map;_editor;constructor(e){this._editor=e;const t=e.config.get("menuBar.isVisible"),r=e.locale.t;this.addKeystrokeInfoCategory({id:Z2,label:r("Content editing keystrokes"),description:r("These keyboard shortcuts allow for quick access to content editing features.")});const i=[{label:r("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:r("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:r("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:r("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:r("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:r("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&i.push({label:r("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:r("User interface and content navigation keystrokes"),description:r("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:i}]})}addKeystrokeInfoCategory({id:e,label:t,description:r,groups:i}){this.keystrokeInfos.set(e,{id:e,label:t,description:r,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:lO}),i&&i.forEach(s=>{this.addKeystrokeInfoGroup({categoryId:e,...s})})}addKeystrokeInfoGroup({categoryId:e=Z2,id:t,label:r,keystrokes:i}){const s=this.keystrokeInfos.get(e);if(!s)throw new q("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});s.groups.set(t,{id:t,label:r,keystrokes:i||[]})}addKeystrokeInfos({categoryId:e=Z2,groupId:t=lO,keystrokes:r}){if(!this.keystrokeInfos.has(e))throw new q("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:r});const i=this.keystrokeInfos.get(e);if(!i.groups.has(t))throw new q("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:r});i.groups.get(t).keystrokes.push(...r)}}function tve(n){return{sessionId:ove(),pageSessionId:ave(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:nve(n),plugins:rve(n.plugins),distribution:ive(),env:sve(),integration:Object.create(null),menuBar:{isVisible:!!n.config.get("menuBar.isVisible")},language:{ui:n.locale.uiLanguage,content:n.locale.contentLanguage},toolbar:{main:eE(n.config.get("toolbar")),block:eE(n.config.get("blockToolbar")),balloon:eE(n.config.get("balloonToolbar"))}}}function nve(n){return Object.getPrototypeOf(n).constructor.editorName}function rve(n){return Array.from(n).filter(([e])=>!!e.pluginName).map(([e])=>{const{pluginName:t,isContextPlugin:r,isOfficialPlugin:i,isPremiumPlugin:s}=e;return{isContext:!!r,isOfficial:!!i,isPremium:!!s,name:t}})}function eE(n){if(!n)return;const e=Array.isArray(n)?{items:n}:n,t=s(e.items||[]);return{isMultiline:t.includes("-"),shouldNotGroupWhenFull:!!e.shouldNotGroupWhenFull,items:i(t)};function i(o){return o.filter(a=>a!=="|"&&a!=="-")}function s(o){return o.flatMap(a=>typeof a=="string"?[a]:s(a.items))}}function ive(){return{channel:window[Symbol.for("cke distribution")]||"sh"}}function sve(){let n="unknown",e="unknown";return st.isMac?n="mac":st.isWindows?n="windows":st.isiOS?n="ios":st.isAndroid&&(n="android"),st.isGecko?e="gecko":st.isBlink?e="blink":st.isSafari&&(e="safari"),{os:n,browser:e}}function ove(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",ci()),localStorage.getItem("__ckeditor-session-id")}function ave(){return qe.window.CKEDITOR_PAGE_SESSION_ID=qe.window.CKEDITOR_PAGE_SESSION_ID||ci(),qe.window.CKEDITOR_PAGE_SESSION_ID}class lve extends qt(){static get editorName(){return"Editor"}accessibility;commands;config;conversion;data;editing;locale;model;plugins;keystrokes;t;static defaultConfig;static builtinPlugins;_context;_readOnlyLocks;constructor(e={}){if(super(),"sanitizeHtml"in e)throw new q("editor-config-sanitizehtml-not-supported");const t=this.constructor,{translations:r,...i}=t.defaultConfig||{},{translations:s=r,...o}=e,a=e.language||i.language;this._context=e.context||new aO({language:a,translations:s}),this._context._addEditor(this,!e.context);const l=Array.from(t.builtinPlugins||[]);this.config=new TB(o,i),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),f(this.config),this.plugins=new ZV(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Qwe,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new zye(this.config),this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const u=new vpe;this.data=new jbe(this.model,u),this.editing=new xbe(this.model,u),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Gbe([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Zwe(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new eve(this),m(this);function f(p){let y=p.get("licenseKey");if(!y&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(y=window.CKEDITOR_GLOBAL_LICENSE_KEY,p.set("licenseKey",y)),!y)throw new q("license-key-missing")}function m(p){const y=p.config.get("licenseKey"),v=window[Symbol.for("cke distribution")]||"sh";function w(A,F){p.enableReadOnlyMode(Symbol("invalidLicense")),p._showLicenseError(A,F)}function E(A){return["exp","jti","vc"].every(V=>V in A)}function k(A){return Object.getOwnPropertyNames(A).sort().filter(K=>K!="vc"&&A[K]!=null).map(K=>A[K])}function T(A){const{hostname:F}=new URL(window.location.href);if(A.includes(F))return!0;const V=F.split(".");return A.filter(K=>K.includes("*")).map(K=>K.split(".")).filter(K=>K.length<=V.length).map(K=>Array(V.length-K.length).fill(K[0]==="*"?"*":"").concat(K)).some(K=>V.every((re,N)=>K[N]===re||K[N]==="*"))}function S(A){const F=A[0].toUpperCase()+A.slice(1),V=A==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${F} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(` You are using ${V} ${A} license of CKEditor 5${A==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(y=="GPL"){v=="cloud"&&w("distributionChannel");return}const P=uR(y);if(!P){w("invalid");return}if(!E(P)){w("invalid");return}if(P.distributionChannel&&!Gt(P.distributionChannel).includes(v)){w("distributionChannel");return}if(s0e(k(P))!=P.vc.toLowerCase()){w("invalid");return}if(new Date(P.exp*1e3)<hge){w("expired");return}const R=P.licensedHosts;if(R&&R.length>0&&!T(R)){w("domainLimit");return}if(["evaluation","trial"].includes(P.licenseType)&&P.exp*1e3<Date.now()){w("expired");return}if(["development","evaluation","trial"].includes(P.licenseType)){const{licenseType:A}=P;window.CKEDITOR_WARNING_SUPPRESSIONS=window.CKEDITOR_WARNING_SUPPRESSIONS||{},window.CKEDITOR_WARNING_SUPPRESSIONS[A]||(S(A),window.CKEDITOR_WARNING_SUPPRESSIONS[A]=!0)}if(["evaluation","trial"].includes(P.licenseType)){const A=P.licenseType,F=setTimeout(()=>{w(`${A}Limit`)},6e5);p.on("destroy",()=>{clearTimeout(F)})}P.usageEndpoint&&p.once("ready",()=>{const A={requestId:ci(),requestTime:Math.round(Date.now()/1e3),license:y,editor:cve(p)};p._sendUsageRequest(P.usageEndpoint,A).then(F=>{const{status:V,message:K}=F;K&&console.warn(K),V!="ok"&&w("usageLimit")},()=>{uge("license-key-validation-endpoint-not-reachable",{url:P.usageEndpoint})})},{priority:"high"})}}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new q("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),r=e.get("removePlugins")||[],i=e.get("extraPlugins")||[],s=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(i),r,s).then(a=>(o(this),a));function o(a){const l=a.config.get("licenseKey");if(l==="GPL")return;const u=uR(l);if(!u)return;const f=[...a.plugins].map(([m])=>m).find(m=>!m.pluginName||!m.licenseFeatureCode?!1:f0e(u,m.licenseFeatureCode));f&&(a.enableReadOnlyMode(Symbol("invalidLicense")),a._showLicenseError("pluginNotAllowed",f.pluginName))}}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(r){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}static Context=aO;static EditorWatchdog=QV;static ContextWatchdog=Xwe;_showLicenseError(e,t){setTimeout(()=>{if(e=="invalid")throw new q("invalid-license-key");if(e=="expired")throw new q("license-key-expired");if(e=="domainLimit")throw new q("license-key-domain-limit");if(e=="pluginNotAllowed"){const r=t.replace(/(Editing|UI)$/,""),i=this.plugins.has(r);throw new q("license-key-plugin-not-allowed",null,{pluginName:i?r:t})}if(e=="featureNotAllowed")throw new q("license-key-feature-not-allowed",null,{featureName:t});if(e=="evaluationLimit")throw new q("license-key-evaluation-limit");if(e=="trialLimit")throw new q("license-key-trial-limit");if(e=="developmentLimit")throw new q("license-key-development-limit");if(e=="usageLimit")throw new q("license-key-usage-limit");if(e=="distributionChannel")throw new q("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,t){const r=new Headers({"Content-Type":"application/json"}),i=await fetch(new URL(e),{method:"POST",headers:r,body:JSON.stringify(t)});if(!i.ok)throw new Error(`HTTP Response: ${i.status}`);return i.json()}}function cve(n){const e=tve(n);function t(r,i){if($B(e,r)!==void 0)throw new q("editor-usage-data-path-already-set",{path:r});k0e(e,r,i)}return n.fire("collectUsageData",{setUsageData:t}),e}function uve(n){class e extends n{sourceElement;updateSourceElement(r){if(!this.sourceElement)throw new q("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!s){eR(this.sourceElement,"");return}const o=typeof r=="string"?r:this.data.get();eR(this.sourceElement,o)}}return e}function dve(n,e){if(e.ckeditorInstance)throw new q("editor-source-element-already-used",n);e.ckeditorInstance=n,n.once("destroy",()=>{delete e.ckeditorInstance})}class Dy extends Ev{_actions;static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new sr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new q("pendingactions-add-invalid-message",this);const t=new(qt());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class fve extends qt(){total;_reader;_data;constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((r,i)=>{t.onload=()=>{const s=t.result;this._data=s,r(s)},t.onerror=()=>{i("error")},t.onabort=()=>{i("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class mf extends ee{loaders=new sr;_loadersMap=new Map;_pendingAction=null;static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[Dy]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Rt("filerepository-no-upload-adapter"),null;const t=new cO(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(r=>{this._loadersMap.set(r,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let r=0;for(const i of this.loaders)r+=i.uploaded;this.uploaded=r}),t.on("change:uploadTotal",()=>{let r=0;for(const i of this.loaders)i.uploadTotal&&(r+=i.uploadTotal);this.uploadTotal=r}),t}destroyLoader(e){const t=e instanceof cO?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((r,i)=>{r===t&&this._loadersMap.delete(i)})}_updatePendingAction(){const e=this.editor.plugins.get(Dy);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,r=i=>`${t("Upload in progress")} ${parseInt(i)}%.`;this._pendingAction=e.add(r(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",r)}}else e.remove(this._pendingAction),this._pendingAction=null}}class cO extends qt(){id;_filePromiseWrapper;_adapter;_reader;constructor(e,t){super(),this.id=ci(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new fve,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,i)=>i?r/i*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new q("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new q("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((r,i)=>{t.rejecter=i,t.isFulfilled=!1,e.then(s=>{t.isFulfilled=!0,r(s)}).catch(s=>{t.isFulfilled=!0,i(s)})}),t}}function hve(n){return Number.isSafeInteger(n)&&n>=0}function mve(n){return n!=null&&typeof n!="function"&&hve(n.length)}function Fy(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function gve(n){return n==null||typeof n!="object"&&typeof n!="function"}function pve(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function bve(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function yve(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const wve="[object RegExp]",e9="[object String]",t9="[object Number]",n9="[object Boolean]",r9="[object Arguments]",vve="[object Symbol]",_ve="[object Date]",xve="[object Map]",Eve="[object Set]",kve="[object Array]",Tve="[object ArrayBuffer]",Sve="[object Object]",Cve="[object DataView]",Ave="[object Uint8Array]",Nve="[object Uint8ClampedArray]",Pve="[object Uint16Array]",Ive="[object Uint32Array]",Rve="[object Int8Array]",Ove="[object Int16Array]",Mve="[object Int32Array]",Dve="[object Float32Array]",Fve="[object Float64Array]";function i9(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Lve(n,e){return gf(n,void 0,n,new Map,e)}function gf(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(gve(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=gf(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,gf(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(gf(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(i9(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=gf(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),Zc(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),Zc(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),Zc(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,Zc(o,n,t,r,i),o}if(typeof n=="object"&&Bve(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),Zc(o,n,t,r,i),o}return n}function Zc(n,e,t=n,r,i){const s=[...Object.keys(e),...bve(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=gf(e[a],a,t,r,i))}}function Bve(n){switch(yve(n)){case r9:case kve:case Tve:case Cve:case n9:case _ve:case Dve:case Fve:case Rve:case Ove:case Mve:case xve:case t9:case Sve:case wve:case Eve:case e9:case vve:case Ave:case Nve:case Pve:case Ive:return!0;default:return!1}}function s9(n,e){return Lve(n,(t,r,i,s)=>{const o=e?.(t,r,i,s);if(o!=null)return o;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case t9:case e9:case n9:{const a=new n.constructor(n?.valueOf());return Zc(a,n),a}case r9:{const a={};return Zc(a,n),a.length=n.length,a[Symbol.iterator]=n[Symbol.iterator],a}default:return}})}function OC(n){return s9(n)}function Vve(n){return typeof n=="object"&&n!==null}function Uve(n){return typeof n=="symbol"||n instanceof Symbol}function zve(n){return Uve(n)?NaN:Number(n)}function Hve(n){return n?(n=zve(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}function $ve(n){const e=Hve(n),t=e%1;return t?e-t:e}function Wve(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function c0(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=Wve(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function jve(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return c0(n,e,{leading:r,trailing:i,maxWait:e})}function qve(n){return typeof Buffer<"u"&&Buffer.isBuffer(n)}function Gve(n){const e=n?.constructor,t=typeof e=="function"?e.prototype:Object.prototype;return n===t}function Yve(n){return i9(n)}function Kve(n,e){if(n=$ve(n),n<1||!Number.isSafeInteger(n))return[];const t=new Array(n);for(let r=0;r<n;r++)t[r]=typeof e=="function"?e(r):r;return t}function Xve(n){if(n==null)return[];switch(typeof n){case"object":case"function":return mve(n)?Qve(n):Gve(n)?Jve(n):Ly(n);default:return Ly(Object(n))}}function Ly(n){const e=[];for(const t in n)e.push(t);return e}function Jve(n){return Ly(n).filter(t=>t!=="constructor")}function Qve(n){const e=Kve(n.length,r=>`${r}`),t=new Set(e);return qve(n)&&(t.add("offset"),t.add("parent")),Yve(n)&&(t.add("buffer"),t.add("byteLength"),t.add("byteOffset")),[...e,...Ly(n).filter(r=>!t.has(r))]}function Zve(n,...e){for(let t=0;t<e.length;t++)e_e(n,e[t]);return n}function e_e(n,e){const t=Xve(e);for(let r=0;r<t.length;r++){const i=t[r];(!(i in n)||!pve(n[i],e[i]))&&(n[i]=e[i])}}function t_e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function MC(n){return Vve(n)&&n.nodeType===1&&!t_e(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var uO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103z"/><path d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17m0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10" clip-rule="evenodd"/></svg>',n_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.75.75 0 0 1-.511.187.75.75 0 0 1-.511-.187M4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5z"/></svg>',o9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75"/></svg>',a9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75"/></svg>',DC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75"/></svg>',r_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.75 11.875a.75.75 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.75.75 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.75.75 0 0 1-.508.184.75.75 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75"/></svg>',l9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75m0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75m0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75m0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75"/></svg>',i_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.75.75 0 0 1 .511-.187.75.75 0 0 1 .511.187M15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5z"/></svg>',c9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.187 17H5.773q-.956 0-1.364-.415-.41-.416-.409-1.323V4.738q0-.926.419-1.332.418-.405 1.354-.406h4.68q1.035 0 1.793.124.76.124 1.36.478.512.296.906.75a3.26 3.26 0 0 1 .808 2.162q0 2.102-2.167 3.075 2.846.879 2.847 3.421a3.76 3.76 0 0 1-2.296 3.504 6 6 0 0 1-1.517.377q-.857.11-2 .11zm-.217-6.217H7v4.087h3.069q2.965 0 2.965-2.072 0-1.061-.768-1.537-.768-.478-2.296-.478M7 5.13v3.619h2.606q1.093 0 1.69-.2a1.6 1.6 0 0 0 .91-.765q.247-.4.247-.897 0-1.06-.778-1.409-.778-.348-2.375-.348z"/></svg>',FC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75m-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75m6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75m-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75"/></svg>',kv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414z"/></svg>',u9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2"/><path fill-opacity=".6" d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492z"/></svg>',Tv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.972 16.615a1 1 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a1 1 0 0 1-.745.292"/></svg>',s_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1m-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1"/></svg>',o_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 9 9 0 0 1-.372.008m-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414M9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415m4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415"/></svg>',a_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0" class="ck-icon__fill"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',l_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7zM0 7h1v2H0zm15 0h1v2h-1zm-8 8h2v1H7z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',c_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m-7 6.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',Sv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136z"/></svg>',Vk='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',dO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306m-3.4-5.715c.562.305.742 1.106.354 1.494s-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.5 6.5 0 0 1 3.1.784"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0m11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0"/></svg>',u_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m8.38 9.262H7.62L10 5.506zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453z"/></svg>',d_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.4 10.3 10 4.5l-2.4 5.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2"/></svg>',fO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973zm-2.754 2.5L8.038 4.785 5.261 11.5zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663z"/></svg>',hO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.816 11.5 7.038 4.785 4.261 11.5zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825q0-.063.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782q.003.065.003.135z"/></svg>',f_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 9h16v2H2z"/></svg>',h_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1zM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1zm-5.655 6a2.13 2.13 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7"/></svg>',m_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a3 3 0 0 1-.414-.287 3 3 0 0 1-1.055-2.03 3 3 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.13 2.13 0 0 0-1.875-.978"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.8.8 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.8.8 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79"/></svg>',g_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.4 5.4 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023q.675.195 1.307.573l.058.033q.068.042.135.086V2.1c0-.63-.547-1.1-1.2-1.1zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.1 2.1 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.65.65 0 0 0-.096.492.66.66 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.74 1.74 0 0 1 2.478-.463 1.87 1.87 0 0 1 .476 2.55.64.64 0 0 0-.071.5.65.65 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.23 3.23 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.63.63 0 0 0 .092-.475.64.64 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.74 1.74 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.65.65 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.61.61 0 0 0-.845.17"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236z"/></svg>',p_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822zM14 5V2l3.3 3zm-3.692 12.5q.093.157.213.303L11.52 19H8v-.876a2.24 2.24 0 0 0 1.82-.624zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',mO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5M1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',b_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m9.586 14.633.021.004q-.054.502.393.962.123.125.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15q.711-.106 1.005-.334.235-.182.404-.597l2.416-9.55a1.05 1.05 0 0 0-.281-.823 1.1 1.1 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195q-.564.084-.823.296-.323.263-.623.79z"/></svg>',d9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.8.8 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.7.7 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294zm5.494-5.335a.8.8 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.8.8 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955m-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184"/></svg>',y_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4m0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4m0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/></svg>',w_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M5.714 15.11q.935 0 1.46-.66.632-.799.632-2.627 0-1.832-.629-2.624-.527-.668-1.463-.668t-1.459.66q-.633.8-.633 2.619 0 1.854.576 2.577.577.723 1.516.723m0-1.024a.6.6 0 0 1-.398-.14q-.173-.141-.287-.565-.115-.424-.115-1.558c0-1.134.043-1.294.128-1.613q.096-.37.272-.512a.62.62 0 0 1 .4-.143.6.6 0 0 1 .398.143q.173.143.288.567t.114 1.558c0 1.134-.043 1.292-.128 1.608q-.096.37-.272.512a.62.62 0 0 1-.4.143m6.078.914V8.531H10.79q-.21.59-.778 1.03-.567.442-1.05.6v1.121a4.3 4.3 0 0 0 1.595-.936V15zm3.344 0v-1.235h-1.235V15zm-9.422 9.11q.935 0 1.46-.66.632-.799.632-2.627 0-1.833-.629-2.624-.527-.668-1.463-.668t-1.459.66q-.633.8-.633 2.619 0 1.854.576 2.577.577.723 1.516.723m0-1.024a.6.6 0 0 1-.398-.14q-.173-.142-.287-.565-.115-.424-.115-1.558c0-1.134.043-1.294.128-1.613q.096-.37.272-.512a.62.62 0 0 1 .4-.143.6.6 0 0 1 .398.143q.173.142.288.567t.114 1.558c0 1.134-.043 1.292-.128 1.608q-.096.37-.272.512a.62.62 0 0 1-.4.143m7.088.914v-1.147H10.35q.097-.167.253-.343.155-.175.74-.712t.81-.821q.338-.431.493-.824.156-.394.156-.829 0-.765-.544-1.279-.546-.514-1.499-.514-.87 0-1.45.444t-.69 1.463l1.23.124q.036-.54.264-.774t.615-.233q.391 0 .613.222t.222.635q0 .374-.255.756-.189.277-1.024 1.055-1.037.962-1.388 1.544-.352.583-.422 1.233zm2.334 0v-1.235h-1.235V24zM5.714 34.11q.935 0 1.46-.66.632-.799.632-2.627 0-1.832-.629-2.624-.527-.668-1.463-.668t-1.459.66q-.633.8-.633 2.619 0 1.854.576 2.577.577.723 1.516.723m0-1.024a.6.6 0 0 1-.398-.14q-.173-.142-.287-.565-.115-.424-.115-1.558c0-1.134.043-1.294.128-1.613q.096-.37.272-.512a.62.62 0 0 1 .4-.143.6.6 0 0 1 .398.143q.173.142.288.567t.114 1.558c0 1.134-.043 1.292-.128 1.608q-.096.37-.272.512a.62.62 0 0 1-.4.143m4.992 1.024q.924 0 1.543-.598.62-.597.62-1.446 0-.585-.332-.997a1.5 1.5 0 0 0-.886-.532q.927-.505.927-1.353 0-.598-.452-1.073-.55-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.6 1.6 0 0 0-.667.55q-.24.349-.359.933l1.139.194q.048-.422.272-.642t.54-.22q.321 0 .515.194c.194.194.193.302.193.518q0 .383-.264.613-.263.231-.764.218l-.136 1.006q.33-.092.566-.092.36 0 .611.272.25.273.25.739 0 .492-.26.782a.83.83 0 0 1-.644.29.84.84 0 0 1-.607-.242q-.25-.241-.308-.698l-1.195.145q.093.813.668 1.316t1.45.503m4.43-.11v-1.235h-1.235V34z"/></svg>',v_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M10.29 15V8.531H9.286q-.21.59-.778 1.03-.567.442-1.05.6v1.121a4.3 4.3 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15zM11.3 24v-1.147H8.848q.096-.167.252-.343.156-.175.74-.712.585-.536.81-.821.338-.431.494-.824.156-.394.156-.829 0-.765-.545-1.279t-1.499-.514q-.87 0-1.45.444t-.69 1.463l1.23.124q.036-.54.264-.774.23-.233.616-.233.39 0 .613.222t.222.635q0 .374-.255.756-.19.277-1.024 1.055-1.038.962-1.389 1.544T6.971 24zm2.333 0v-1.235h-1.235V24zM9.204 34.11q.922 0 1.542-.598.62-.597.62-1.446 0-.585-.332-.997a1.5 1.5 0 0 0-.886-.532q.928-.505.928-1.353 0-.598-.453-1.073-.549-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.6 1.6 0 0 0-.668.55q-.24.349-.358.933l1.138.194q.048-.422.272-.642t.54-.22q.322 0 .515.194c.193.194.193.302.193.518q0 .383-.263.613-.263.231-.765.218l-.136 1.006q.33-.092.567-.092.36 0 .61.272.251.273.251.739 0 .492-.261.782a.83.83 0 0 1-.644.29.84.84 0 0 1-.607-.242q-.251-.241-.307-.698l-1.196.145q.093.813.668 1.316t1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',__e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6"/></svg>',x_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M9.62 14.105q.408 0 .768-.153c.36-.153.466-.257.677-.462q.013.036.044.145.07.242.119.365h1.221a2.7 2.7 0 0 1-.222-.626q-.06-.293-.059-.908l.013-1.441q0-.804-.165-1.105-.165-.302-.569-.497-.405-.195-1.23-.195-.91 0-1.371.325-.462.325-.65 1.002l1.12.202q.114-.326.299-.455.184-.13.514-.13.488 0 .663.152.176.151.176.508v.123q-.333.14-1.2.303-.641.123-.982.288t-.53.474a1.33 1.33 0 0 0-.188.706q0 .598.415.988.416.391 1.136.391zm.368-.87a.68.68 0 0 1-.492-.189.6.6 0 0 1-.193-.448q0-.263.241-.435.159-.105.673-.215a7 7 0 0 0 .751-.19v.247q0 .443-.048.602a.77.77 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14zM10.2 25.105q.813 0 1.382-.646.57-.645.57-1.84 0-1.156-.559-1.774a1.82 1.82 0 0 0-1.41-.617q-.783 0-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592q.39.2.79.2zm-.299-.975q-.531 0-.852-.492-.23-.348-.229-1.073 0-.703.295-1.048a.93.93 0 0 1 .738-.345q.453 0 .743.354t.29 1.154q0 .751-.288 1.1t-.697.35m4.478.87v-1.235h-1.234V25zm-4.017 9.105q.9 0 1.437-.426.536-.426.725-1.261l-1.213-.207q-.092.489-.316.688a.83.83 0 0 1-.576.2.92.92 0 0 1-.75-.343q-.278-.343-.278-1.173 0-.747.274-1.066.275-.318.736-.318.348 0 .565.184t.28.55l1.216-.22q-.22-.751-.722-1.119-.504-.366-1.356-.366-1.042 0-1.653.643-.61.645-.61 1.8 0 1.143.608 1.788.609.646 1.633.646M14.633 34v-1.235h-1.235V34z"/></svg>',E_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11.88 8.7V7.558h-1.234V8.7zm0 5.3V9.333h-1.234V14zm2.5 0v-1.235h-1.234V14zm-4.75 4.7v-1.142H8.395V18.7zm0 5.3v-4.667H8.395V24zm2.5-5.3v-1.142h-1.234V18.7zm0 5.3v-4.667h-1.234V24zm2.501 0v-1.235h-1.235V24zM7.38 28.7v-1.142H6.145V28.7zm0 5.3v-4.667H6.145V34zm2.5-5.3v-1.142H8.646V28.7zm0 5.3v-4.667H8.646V34zm2.5-5.3v-1.142h-1.234V28.7zm0 5.3v-4.667h-1.234V34zm2.501 0v-1.235h-1.235V34z"/></svg>',k_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M14 27v6H8v-6zm0-9v6H8v-6zm0-9v6H8V9z"/></svg>',T_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15zM9.352 25q1.244-.009 1.569-.044.518-.057.872-.305.354-.249.558-.664t.205-.855q0-.558-.317-.97-.315-.414-.905-.585a1.5 1.5 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83q0-.419-.197-.754a1.65 1.65 0 0 0-.495-.539 1.7 1.7 0 0 0-.672-.266q-.375-.063-1.14-.063H7.158V25zm.142-3.88H8.46v-1.49h.747q.918 0 1.112.022.325.04.49.226.165.188.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 12 12 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05q.888 0 1.154.092.266.093.406.295a.84.84 0 0 1 .14.492q0 .342-.181.547a.8.8 0 0 1-.473.257q-.189.04-.892.04M14.88 25v-1.235h-1.234V25zm-5.018 9.11q1.037 0 1.711-.512t.965-1.567l-1.261-.4q-.163.708-.536 1.037-.375.33-.892.33-.704 0-1.143-.519-.44-.518-.44-1.74 0-1.15.447-1.665.445-.514 1.162-.514.52 0 .881.29.362.29.477.79l1.288-.307q-.22-.774-.66-1.187-.738-.698-1.92-.698-1.353 0-2.184.89-.83.89-.83 2.498 0 1.521.825 2.397.826.877 2.11.877M14.88 34v-1.235h-1.234V34z"/></svg>',S_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11.916 15V8.558h-1.301V15zm2.465 0v-1.235h-1.235V15zM9.665 25v-6.442h-1.3V25zm2.5 0v-6.442h-1.3V25zm2.466 0v-1.235h-1.235V25zm-7.216 9v-6.442h-1.3V34zm2.5 0v-6.442h-1.3V34zm2.501 0v-6.442h-1.3V34zm2.465 0v-1.235h-1.235V34z"/></svg>',C_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z" class="ck-icon__fill"/><path d="m2.556 16.727.234-.348q-.445-.226-.498-.426-.054-.206.115-.837.14-.375.169-.595a4.5 4.5 0 0 0 0-.725q-.313-.931-.284-1.26.03-.327.475-.862l6.77-9.414q.808-1.365 3.199.18 2.39 1.549 1.784 2.686l-5.877 10.36q-.237.618-.526.782-.29.163-1.232.21-.543.196-.738.318t-.526.47q-.44.397-.632.397-.143 0-.524-.226l-.31.41zm-.279.415 1.575 1.103-.392.515H1.19zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574q.263-.375-1.092-1.192-1.354-.819-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5z"/></svg>',f9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382z"/></svg>',LC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M3.5 3v5H2V3.7H1v-1h2.5zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001q-.073.607-.333.988-.263.381-1.244 1.312H4.3v1h-4zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75"/></svg>',By='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H6.5V12h6.997z"/></svg>',A_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1m-1.505.5H3.504V12h12.991z"/></svg>',BC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z" opacity=".5"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H3.5V12h6.997z"/></svg>',Vy='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z" opacity=".5"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H9.5V12h6.997z"/></svg>',h9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z" opacity=".5"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H3.5V12h6.997z"/></svg>',m9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H3.5V12h6.997z"/></svg>',g9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H9.5V12h6.997z"/></svg>',N_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95zm.55 3.5v-2h2v2zm0 9.3v2h2v-2zm15-11.3v2h2v-2zM8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046zm11.421-9.101a.6.6 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.6.6 0 0 1 .206-.138.6.6 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243"/></svg>',P_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15.5v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm0-2v1h-1v-1zm-19 0v1H0v-1zM14.5 2v1h-1V2zm2 0v1h-1V2zm2 0v1h-1V2zm-8 0v1h-1V2zm-2 0v1h-1V2zm-2 0v1h-1V2zm-2 0v1h-1V2zm8 0v1h-1V2zm-10 0v1h-1V2z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2m0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.49.49 0 0 1-.476-.5V4c0-.276.213-.5.476-.5z"/></svg>',I_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 16.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15v1H0v-1zm19 0v1h-1v-1zM1 13v1H0v-1zm19 0v1h-1v-1zM1 11v1H0v-1zm19 0v1h-1v-1zM1 9v1H0V9zm19 0v1h-1V9zM1 7v1H0V7zm19 0v1h-1V7zM1 5v1H0V5zm19 0v1h-1V5zm0-2v1h-1V3zM1 3v1H0V3zm13.5-1.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm-8 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm8 0v1h-1v-1zm-10 0v1h-1v-1z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2M13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7z"/></svg>',R_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 16.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15v1H0v-1zm19 0v1h-1v-1zM1 13v1H0v-1zm19 0v1h-1v-1zM1 11v1H0v-1zm19 0v1h-1v-1zM1 9v1H0V9zm19 0v1h-1V9zM1 7v1H0V7zm19 0v1h-1V7zM1 5v1H0V5zm19 0v1h-1V5zm0-2v1h-1V3zM1 3v1H0V3zm13.5-1.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm-8 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm8 0v1h-1v-1zm-10 0v1h-1v-1z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2M10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9z"/></svg>',O_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 16.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15v1H0v-1zm19 0v1h-1v-1zM1 13v1H0v-1zm19 0v1h-1v-1zM1 11v1H0v-1zm19 0v1h-1v-1zM1 9v1H0V9zm19 0v1h-1V9zM1 7v1H0V7zm19 0v1h-1V7zM1 5v1H0V5zm19 0v1h-1V5zm0-2v1h-1V3zM1 3v1H0V3zm13.5-1.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm-8 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm8 0v1h-1v-1zm-10 0v1h-1v-1z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2M7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11z"/></svg>',gO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5m1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',M_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5M5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1"/></svg>',D_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m7.3 17.37-.061.088a1.52 1.52 0 0 1-.934.535l-4.178.663-.806-4.153a1.5 1.5 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346zM6.07 16.512l-3.276-2.295.53 2.73zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328M8 18.5 9.375 17H19v1.5z"/></svg>',F_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568z" class="ck-icon__fill"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97q.249-.348.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005zm-.634.166-1.976.516-.026-1.918zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349M8.245 18.5 9.59 17h9.406v1.5z"/></svg>',L_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4"/></svg>',B_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1"/></svg>',uc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',V_e=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,U_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003z"/></svg>',pO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.75.75 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.8.8 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032z"/></svg>',z_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8.69 14.915q.08.078.36.093a.366.366 0 0 1 .345.485l-.003.01a.74.74 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.68.68 0 0 1 .644-.458q.295-.018.386-.093a.3.3 0 0 0 .072-.11L9.592 4.5H6.269q-.538-.026-.75.09-.213.117-.442.563c-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486q.002-.426-.167-.54-.168-.114-.766-.091h-3.28l-2.68 10.257q-.009.111.038.158M3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1m11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',H_e='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',$_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75m18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75m-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2z"/></svg>',W_e=`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.734 6.375H1.75a.75.75 0 0 1 0-1.5h1.984a2.626 2.626 0 0 1 5.032 0h9.48a.75.75 0 0 1 0 1.5h-9.48a2.626 2.626 0 0 1-5.032 0Zm1.141-.75a1.375 1.375 0 1 1 2.75 0 1.375 1.375 0 0 1-2.75 0ZM16.263 14.625h1.983a.75.75 0 0 1 0 1.5h-1.983a2.626 2.626 0 0 1-5.033 0H1.75a.75.75 0 0 1 0-1.5h9.48a2.626 2.626 0 0 1 5.033 0Zm-1.142.75a1.375 1.375 0 1 1-2.75 0 1.375 1.375 0 0 1 2.75 0Z"/></svg>
`,j_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.27 7.27 0 0 1 2.703 3.454 7.13 7.13 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.87.87 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.6 5.6 0 0 0 2.492-2.371 5.46 5.46 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.7 5.7 0 0 0 10 4.206 5.7 5.7 0 0 0 6.419 5.46 5.53 5.53 0 0 0 4.46 8.663a5.46 5.46 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.88.88 0 0 1-.614-.25.85.85 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.13 7.13 0 0 1 .199-4.352 7.27 7.27 0 0 1 2.703-3.455A7.5 7.5 0 0 1 10 2.5"/></svg>',q_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6M6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',G_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53zm8.147 7.829h2.549q.38 0 .58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393q-.158.162-.48.162h-3.594q-.367 0-.572-.197a.62.62 0 0 1-.205-.463q0-.171.132-.453a1.6 1.6 0 0 1 .288-.444q.65-.654 1.172-1.122t.747-.615q.401-.275.667-.553t.405-.57.139-.57a1.01 1.01 0 0 0-.554-.917 1.2 1.2 0 0 0-.56-.133q-.639 0-1.005.546a2.3 2.3 0 0 0-.164.39 1.6 1.6 0 0 1-.258.488q-.144.17-.423.17a.56.56 0 0 1-.405-.156.57.57 0 0 1-.161-.427q0-.327.151-.683.152-.357.452-.646c.3-.289.454-.349.762-.467a3 3 0 0 1 1.081-.178q.747 0 1.274.228a1.92 1.92 0 0 1 1.004 1.032 1.98 1.98 0 0 1-.156 1.794q-.3.48-.613.754-.312.273-1.048.857-.735.584-1.008.906a3 3 0 0 0-.24.309z"/></svg>',Y_e='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="m7.184 10.353 3.818-3.819a.8.8 0 0 1 1.132 1.132l-3.82 3.818 3.82 3.818a.802.802 0 0 1-.873 1.306.8.8 0 0 1-.26-.174l-3.817-3.82-3.818 3.82a.8.8 0 0 1-1.305-.26.8.8 0 0 1 .173-.872l3.82-3.818-3.82-3.818a.8.8 0 0 1 1.132-1.132l3.818 3.82M15.68 6.88h2.549q.38 0 .58.153a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393q-.158.162-.48.162h-3.594q-.367 0-.572-.197A.62.62 0 0 1 14 7.34q0-.171.132-.453a1.6 1.6 0 0 1 .288-.444q.65-.654 1.172-1.122t.747-.615q.401-.275.667-.553.266-.277.405-.57.14-.291.139-.57a1.01 1.01 0 0 0-.554-.917 1.2 1.2 0 0 0-.56-.133q-.639 0-1.005.546a2.3 2.3 0 0 0-.164.39 1.6 1.6 0 0 1-.258.488q-.144.17-.423.17a.56.56 0 0 1-.405-.156.57.57 0 0 1-.161-.427q0-.327.151-.683.152-.357.452-.646t.762-.467A3 3 0 0 1 16.466 1q.747 0 1.274.228c.456.2.816.57 1.004 1.032a1.99 1.99 0 0 1-.156 1.794q-.3.48-.613.754-.312.273-1.048.857-.735.583-1.008.906-.131.146-.24.309z"/></svg>',K_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5zM2 12h5V8H2zm10-4H8v4h4zM2 2v5h5V2zm0 16h5v-5H2zM13 7h5V2h-5zM8 2v5h4V2z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43zM13 6a1 1 0 0 1 1 1v3.172a2 2 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.98 1.98 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm-1 2H8v4h4z"/></svg>',X_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1M2 2v16h16V2z" opacity=".6"/><path d="M18 7v1H2V7zm0 5v1H2v-1z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1m-2 1H8v4h4zm0 6H8v4h4zm0 6H8v4h4z"/></svg>',J_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1M2 2v16h16V2z" opacity=".6"/><path d="M7 2h1v16H7zm5 0h1v7h-1zm6 5v1H2V7zM8 12v1H2v-1z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1m1 2v9h10V9z"/></svg>',Q_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2zm4 6H8v4h4z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2 2 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2z"/></svg>',Z_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1M2 2v16h16V2z" opacity=".6"/><path d="M7 2h1v16H7zm5 0h1v16h-1z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1m1 2v4h4V8zm6 0v4h4V8zm6 0v4h4V8z"/></svg>',bO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 5.5v3h4v-3zm0 4v3h4v-3zm0 4v3h4v-3zm5 3h4v-3H8zm5 0h4v-3h-4zm4-4v-3h-4v3zm0-4v-3h-4v3zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5zm-6.5-4v-3H8v3zm0-4v-3H8v3z"/></svg>',exe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1zm10.453 2.61a1.89 1.89 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.9 1.9 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598M7.463 8.163a.6.6 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.63.63 0 0 0-.417-.185m6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.62.62 0 0 0-.42-.165M.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.91.91 0 0 0-.912-.912zM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516zm4.947 0h1.801v4.3h2.7v1.4h-4.5zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9zm-8.517 1.457-.614 2.059h1.262z"/></svg>',txe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.816 11.5 7.038 4.785 4.261 11.5zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254z"/></svg>',VC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',nxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m2.315 14.705 2.224-2.24a.69.69 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.7.7 0 0 1-.112.089.65.65 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75M2.329 5.745l2.21-2.226a.69.69 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.7.7 0 0 1-.496.196.64.64 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75"/></svg>',rxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8s3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4"/></svg>',yO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.75.75 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.8.8 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032z"/></svg>',ixe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.8.8 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.7.7 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294zm5.494-5.335a.8.8 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.8.8 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955m-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184m4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06z"/></svg>';const Uk={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const n in Uk)Object.freeze(Uk[n]);const wO=Object.freeze(Uk);var vO={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function _O(n){var e,t=[],r=1,i;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),wO[n])t=wO[n].slice(),i="rgb";else if(n==="transparent")r=0,i="rgb",t=[0,0,0];else if(n[0]==="#"){var s=n.slice(1),o=s.length,a=o<=4;r=1,a?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(r=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(r=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),i="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var l=e[1];i=l.replace(/a$/,"");var u=i==="cmyk"?4:i==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),i==="color"&&(i=t.shift()),t=t.map(function(f,m){if(f[f.length-1]==="%")return f=parseFloat(f)/100,m===3?f:i==="rgb"?f*255:i[0]==="h"||i[0]==="l"&&!m?f*100:i==="lab"?f*125:i==="lch"?m<2?f*150:f*360:i[0]==="o"&&!m?f:i==="oklab"?f*.4:i==="oklch"?m<2?f*.4:f*360:f;if(i[m]==="h"||m===2&&i[i.length-1]==="h"){if(vO[f]!==void 0)return vO[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),r=t.length>u?t.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),i=n.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:i,values:t,alpha:r}}const zk={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const n in zk)Object.freeze(zk[n]);const u0=Object.freeze(zk),p9={};for(const n of Object.keys(u0))p9[u0[n]]=n;const Ke={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},rl=(6/29)**3;function If(n){const e=n>.0031308?1.055*n**.4166666666666667-.055:n*12.92;return Math.min(Math.max(0,e),1)}function Rf(n){return n>.04045?((n+.055)/1.055)**2.4:n/12.92}for(const n of Object.keys(Ke)){if(!("channels"in Ke[n]))throw new Error("missing channels property: "+n);if(!("labels"in Ke[n]))throw new Error("missing channel labels property: "+n);if(Ke[n].labels.length!==Ke[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:e,labels:t}=Ke[n];delete Ke[n].channels,delete Ke[n].labels,Object.defineProperty(Ke[n],"channels",{value:e}),Object.defineProperty(Ke[n],"labels",{value:t})}Ke.rgb.hsl=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=s-i;let a,l;switch(s){case i:{a=0;break}case e:{a=(t-r)/o;break}case t:{a=2+(r-e)/o;break}case r:{a=4+(e-t)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const u=(i+s)/2;return s===i?l=0:u<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,u*100]};Ke.rgb.hsv=function(n){let e,t,r,i,s;const o=n[0]/255,a=n[1]/255,l=n[2]/255,u=Math.max(o,a,l),f=u-Math.min(o,a,l),m=function(p){return(u-p)/6/f+1/2};if(f===0)i=0,s=0;else{switch(s=f/u,e=m(o),t=m(a),r=m(l),u){case o:{i=r-t;break}case a:{i=1/3+e-r;break}case l:{i=2/3+t-e;break}}i<0?i+=1:i>1&&(i-=1)}return[i*360,s*100,u*100]};Ke.rgb.hwb=function(n){const e=n[0],t=n[1];let r=n[2];const i=Ke.rgb.hsl(n)[0],s=1/255*Math.min(e,Math.min(t,r));return r=1-1/255*Math.max(e,Math.max(t,r)),[i,s*100,r*100]};Ke.rgb.oklab=function(n){const e=Rf(n[0]/255),t=Rf(n[1]/255),r=Rf(n[2]/255),i=Math.cbrt(.4122214708*e+.5363325363*t+.0514459929*r),s=Math.cbrt(.2119034982*e+.6806995451*t+.1073969566*r),o=Math.cbrt(.0883024619*e+.2817188376*t+.6299787005*r),a=.2104542553*i+.793617785*s-.0040720468*o,l=1.9779984951*i-2.428592205*s+.4505937099*o,u=.0259040371*i+.7827717662*s-.808675766*o;return[a*100,l*100,u*100]};Ke.rgb.cmyk=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(1-e,1-t,1-r),s=(1-e-i)/(1-i)||0,o=(1-t-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function sxe(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}Ke.rgb.keyword=function(n){const e=p9[n];if(e)return e;let t=Number.POSITIVE_INFINITY,r;for(const i of Object.keys(u0)){const s=u0[i],o=sxe(n,s);o<t&&(t=o,r=i)}return r};Ke.keyword.rgb=function(n){return u0[n]};Ke.rgb.xyz=function(n){const e=Rf(n[0]/255),t=Rf(n[1]/255),r=Rf(n[2]/255),i=e*.4124564+t*.3575761+r*.1804375,s=e*.2126729+t*.7151522+r*.072175,o=e*.0193339+t*.119192+r*.9503041;return[i*100,s*100,o*100]};Ke.rgb.lab=function(n){const e=Ke.rgb.xyz(n);let t=e[0],r=e[1],i=e[2];t/=95.047,r/=100,i/=108.883,t=t>rl?t**(1/3):7.787*t+16/116,r=r>rl?r**(1/3):7.787*r+16/116,i=i>rl?i**(1/3):7.787*i+16/116;const s=116*r-16,o=500*(t-r),a=200*(r-i);return[s,o,a]};Ke.hsl.rgb=function(n){const e=n[0]/360,t=n[1]/100,r=n[2]/100;let i,s;if(t===0)return s=r*255,[s,s,s];const o=r<.5?r*(1+t):r+t-r*t,a=2*r-o,l=[0,0,0];for(let u=0;u<3;u++)i=e+1/3*-(u-1),i<0&&i++,i>1&&i--,6*i<1?s=a+(o-a)*6*i:2*i<1?s=o:3*i<2?s=a+(o-a)*(2/3-i)*6:s=a,l[u]=s*255;return l};Ke.hsl.hsv=function(n){const e=n[0];let t=n[1]/100,r=n[2]/100,i=t;const s=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,i*=s<=1?s:2-s;const o=(r+t)/2,a=r===0?2*i/(s+i):2*t/(r+t);return[e,a*100,o*100]};Ke.hsv.rgb=function(n){const e=n[0]/60,t=n[1]/100;let r=n[2]/100;const i=Math.floor(e)%6,s=e-Math.floor(e),o=255*r*(1-t),a=255*r*(1-t*s),l=255*r*(1-t*(1-s));switch(r*=255,i){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};Ke.hsv.hsl=function(n){const e=n[0],t=n[1]/100,r=n[2]/100,i=Math.max(r,.01);let s,o;o=(2-t)*r;const a=(2-t)*i;return s=t*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};Ke.hwb.rgb=function(n){const e=n[0]/360;let t=n[1]/100,r=n[2]/100;const i=t+r;let s;i>1&&(t/=i,r/=i);const o=Math.floor(6*e),a=1-r;s=6*e-o,(o&1)!==0&&(s=1-s);const l=t+s*(a-t);let u,f,m;switch(o){default:case 6:case 0:{u=a,f=l,m=t;break}case 1:{u=l,f=a,m=t;break}case 2:{u=t,f=a,m=l;break}case 3:{u=t,f=l,m=a;break}case 4:{u=l,f=t,m=a;break}case 5:{u=a,f=t,m=l;break}}return[u*255,f*255,m*255]};Ke.cmyk.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=n[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[s*255,o*255,a*255]};Ke.xyz.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100;let i,s,o;return i=e*3.2404542+t*-1.5371385+r*-.4985314,s=e*-.969266+t*1.8760108+r*.041556,o=e*.0556434+t*-.2040259+r*1.0572252,i=If(i),s=If(s),o=If(o),[i*255,s*255,o*255]};Ke.xyz.lab=function(n){let e=n[0],t=n[1],r=n[2];e/=95.047,t/=100,r/=108.883,e=e>rl?e**(1/3):7.787*e+16/116,t=t>rl?t**(1/3):7.787*t+16/116,r=r>rl?r**(1/3):7.787*r+16/116;const i=116*t-16,s=500*(e-t),o=200*(t-r);return[i,s,o]};Ke.xyz.oklab=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=Math.cbrt(.8189330101*e+.3618667424*t-.1288597137*r),s=Math.cbrt(.0329845436*e+.9293118715*t+.0361456387*r),o=Math.cbrt(.0482003018*e+.2643662691*t+.633851707*r),a=.2104542553*i+.793617785*s-.0040720468*o,l=1.9779984951*i-2.428592205*s+.4505937099*o,u=.0259040371*i+.7827717662*s-.808675766*o;return[a*100,l*100,u*100]};Ke.oklab.oklch=function(n){return Ke.lab.lch(n)};Ke.oklab.xyz=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=(.999999998*e+.396337792*t+.215803758*r)**3,s=(1.000000008*e-.105561342*t-.063854175*r)**3,o=(1.000000055*e-.089484182*t-1.291485538*r)**3,a=1.227013851*i-.55779998*s+.281256149*o,l=-.040580178*i+1.11225687*s-.071676679*o,u=-.076381285*i-.421481978*s+1.58616322*o;return[a*100,l*100,u*100]};Ke.oklab.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=(e+.3963377774*t+.2158037573*r)**3,s=(e-.1055613458*t-.0638541728*r)**3,o=(e-.0894841775*t-1.291485548*r)**3,a=If(4.0767416621*i-3.3077115913*s+.2309699292*o),l=If(-1.2684380046*i+2.6097574011*s-.3413193965*o),u=If(-.0041960863*i-.7034186147*s+1.707614701*o);return[a*255,l*255,u*255]};Ke.oklch.oklab=function(n){return Ke.lch.lab(n)};Ke.lab.xyz=function(n){const e=n[0],t=n[1],r=n[2];let i,s,o;s=(e+16)/116,i=t/500+s,o=s-r/200;const a=s**3,l=i**3,u=o**3;return s=a>rl?a:(s-16/116)/7.787,i=l>rl?l:(i-16/116)/7.787,o=u>rl?u:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};Ke.lab.lch=function(n){const e=n[0],t=n[1],r=n[2];let i;i=Math.atan2(r,t)*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(t*t+r*r);return[e,o,i]};Ke.lch.lab=function(n){const e=n[0],t=n[1],i=n[2]/360*2*Math.PI,s=t*Math.cos(i),o=t*Math.sin(i);return[e,s,o]};Ke.rgb.ansi16=function(n,e=null){const[t,r,i]=n;let s=e===null?Ke.rgb.hsv(n)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return s===2&&(o+=60),o};Ke.hsv.ansi16=function(n){return Ke.rgb.ansi16(Ke.hsv.rgb(n),n[2])};Ke.rgb.ansi256=function(n){const e=n[0],t=n[1],r=n[2];return e>>4===t>>4&&t>>4===r>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)};Ke.ansi16.rgb=function(n){n=n[0];let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(Math.trunc(n>50)+1)*.5,r=(e&1)*t*255,i=(e>>1&1)*t*255,s=(e>>2&1)*t*255;return[r,i,s]};Ke.ansi256.rgb=function(n){if(n=n[0],n>=232){const s=(n-232)*10+8;return[s,s,s]}n-=16;let e;const t=Math.floor(n/36)/5*255,r=Math.floor((e=n%36)/6)/5*255,i=e%6/5*255;return[t,r,i]};Ke.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};Ke.hex.rgb=function(n){const e=n.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=[...t].map(a=>a+a).join(""));const r=Number.parseInt(t,16),i=r>>16&255,s=r>>8&255,o=r&255;return[i,s,o]};Ke.rgb.hcg=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(Math.max(e,t),r),s=Math.min(Math.min(e,t),r),o=i-s;let a;const l=o<1?s/(1-o):0;return o<=0?a=0:i===e?a=(t-r)/o%6:i===t?a=2+(r-e)/o:a=4+(e-t)/o,a/=6,a%=1,[a*360,o*100,l*100]};Ke.hsl.hcg=function(n){const e=n[1]/100,t=n[2]/100,r=t<.5?2*e*t:2*e*(1-t);let i=0;return r<1&&(i=(t-.5*r)/(1-r)),[n[0],r*100,i*100]};Ke.hsv.hcg=function(n){const e=n[1]/100,t=n[2]/100,r=e*t;let i=0;return r<1&&(i=(t-r)/(1-r)),[n[0],r*100,i*100]};Ke.hcg.rgb=function(n){const e=n[0]/360,t=n[1]/100,r=n[2]/100;if(t===0)return[r*255,r*255,r*255];const i=[0,0,0],s=e%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:{i[0]=1,i[1]=o,i[2]=0;break}case 1:{i[0]=a,i[1]=1,i[2]=0;break}case 2:{i[0]=0,i[1]=1,i[2]=o;break}case 3:{i[0]=0,i[1]=a,i[2]=1;break}case 4:{i[0]=o,i[1]=0,i[2]=1;break}default:i[0]=1,i[1]=0,i[2]=a}return l=(1-t)*r,[(t*i[0]+l)*255,(t*i[1]+l)*255,(t*i[2]+l)*255]};Ke.hcg.hsv=function(n){const e=n[1]/100,t=n[2]/100,r=e+t*(1-e);let i=0;return r>0&&(i=e/r),[n[0],i*100,r*100]};Ke.hcg.hsl=function(n){const e=n[1]/100,r=n[2]/100*(1-e)+.5*e;let i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[n[0],i*100,r*100]};Ke.hcg.hwb=function(n){const e=n[1]/100,t=n[2]/100,r=e+t*(1-e);return[n[0],(r-e)*100,(1-r)*100]};Ke.hwb.hcg=function(n){const e=n[1]/100,r=1-n[2]/100,i=r-e;let s=0;return i<1&&(s=(r-i)/(1-i)),[n[0],i*100,s*100]};Ke.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};Ke.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};Ke.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};Ke.gray.hsl=function(n){return[0,0,n[0]]};Ke.gray.hsv=Ke.gray.hsl;Ke.gray.hwb=function(n){return[0,100,n[0]]};Ke.gray.cmyk=function(n){return[0,0,0,n[0]]};Ke.gray.lab=function(n){return[n[0],0,0]};Ke.gray.hex=function(n){const e=Math.round(n[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(r.length)+r};Ke.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};function oxe(){const n={},e=Object.keys(Ke);for(let{length:t}=e,r=0;r<t;r++)n[e[r]]={distance:-1,parent:null};return n}function axe(n){const e=oxe(),t=[n];for(e[n].distance=0;t.length>0;){const r=t.pop(),i=Object.keys(Ke[r]);for(let{length:s}=i,o=0;o<s;o++){const a=i[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,t.unshift(a))}}return e}function lxe(n,e){return function(t){return e(n(t))}}function cxe(n,e){const t=[e[n].parent,n];let r=Ke[e[n].parent][n],i=e[n].parent;for(;e[i].parent;)t.unshift(e[i].parent),r=lxe(Ke[e[i].parent][i],r),i=e[i].parent;return r.conversion=t,r}function uxe(n){const e=axe(n),t={},r=Object.keys(e);for(let{length:i}=r,s=0;s<i;s++){const o=r[s];e[o].parent!==null&&(t[o]=cxe(o,e))}return t}const eu={},dxe=Object.keys(Ke);function fxe(n){const e=function(...t){const r=t[0];return r==null?r:(r.length>1&&(t=r),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function hxe(n){const e=function(...t){const r=t[0];if(r==null)return r;r.length>1&&(t=r);const i=n(t);if(typeof i=="object")for(let{length:s}=i,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in n&&(e.conversion=n.conversion),e}for(const n of dxe){eu[n]={},Object.defineProperty(eu[n],"channels",{value:Ke[n].channels}),Object.defineProperty(eu[n],"labels",{value:Ke[n].labels});const e=uxe(n),t=Object.keys(e);for(const r of t){const i=e[r];eu[n][r]=hxe(i),eu[n][r].raw=fxe(i)}}const d0=(n,e=0,t=1)=>n>t?t:n<e?e:n,Yr=(n,e=0,t=Math.pow(10,e))=>Math.round(t*n)/t,mxe=n=>wxe(Hk(n)),Hk=n=>(n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Yr(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?Yr(parseInt(n.substring(6,8),16)/255,2):1}),gxe=n=>yxe(bxe(n)),pxe=({h:n,s:e,v:t,a:r})=>{const i=(200-e)*t/100;return{h:Yr(n),s:Yr(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:Yr(i/2),a:Yr(r,2)}},$k=n=>{const{h:e,s:t,l:r}=pxe(n);return`hsl(${e}, ${t}%, ${r}%)`},bxe=({h:n,s:e,v:t,a:r})=>{n=n/360*6,e=e/100,t=t/100;const i=Math.floor(n),s=t*(1-e),o=t*(1-(n-i)*e),a=t*(1-(1-n+i)*e),l=i%6;return{r:Yr([t,o,s,s,a,t][l]*255),g:Yr([a,t,t,o,s,s][l]*255),b:Yr([s,s,a,t,t,o][l]*255),a:Yr(r,2)}},q1=n=>{const e=n.toString(16);return e.length<2?"0"+e:e},yxe=({r:n,g:e,b:t,a:r})=>{const i=r<1?q1(Yr(r*255)):"";return"#"+q1(n)+q1(e)+q1(t)+i},wxe=({r:n,g:e,b:t,a:r})=>{const i=Math.max(n,e,t),s=i-Math.min(n,e,t),o=s?i===n?(e-t)/s:i===e?2+(t-n)/s:4+(n-e)/s:0;return{h:Yr(60*(o<0?o+6:o)),s:Yr(i?s/i*100:0),v:Yr(i/255*100),a:r}},b9=(n,e)=>{if(n===e)return!0;for(const t in n)if(n[t]!==e[t])return!1;return!0},vxe=(n,e)=>n.toLowerCase()===e.toLowerCase()?!0:b9(Hk(n),Hk(e)),xO={},y9=n=>{let e=xO[n];return e||(e=document.createElement("template"),e.innerHTML=n,xO[n]=e),e},UC=(n,e,t)=>{n.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let Of=!1;const Wk=n=>"touches"in n,_xe=n=>Of&&!Wk(n)?!1:(Of||(Of=Wk(n)),!0),EO=(n,e)=>{const t=Wk(e)?e.touches[0]:e,r=n.el.getBoundingClientRect();UC(n.el,"move",n.getMove({x:d0((t.pageX-(r.left+window.pageXOffset))/r.width),y:d0((t.pageY-(r.top+window.pageYOffset))/r.height)}))},xxe=(n,e)=>{const t=e.keyCode;t>40||n.xy&&t<37||t<33||(e.preventDefault(),UC(n.el,"move",n.getMove({x:t===39?.01:t===37?-.01:t===34?.05:t===33?-.05:t===35?1:t===36?-1:0,y:t===40?.01:t===38?-.01:0},!0)))};class w9{constructor(e,t,r,i){const s=y9(`<div role="slider" tabindex="0" part="${t}" ${r}><div part="${t}-pointer"></div></div>`);e.appendChild(s.content.cloneNode(!0));const o=e.querySelector(`[part=${t}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=i,this.nodes=[o.firstChild,o]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(Of?"touchmove":"mousemove",this),t(Of?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!_xe(e)||!Of&&e.button!=0)return;this.el.focus(),EO(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),EO(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":xxe(this,e);break}}style(e){e.forEach((t,r)=>{for(const i in t)this.nodes[r].style.setProperty(i,t[i])})}}class Exe extends w9{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:$k({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Yr(e)}`)}getMove(e,t){return{h:t?d0(this.h+e.x*360,0,360):360*e.x}}}class kxe extends w9{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:$k(e)},{"background-color":$k({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Yr(e.s)}%, Brightness ${Yr(e.v)}%`)}getMove(e,t){return{s:t?d0(this.hsva.s+e.x*100,0,100):e.x*100,v:t?d0(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const Txe=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',Sxe="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",Cxe="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",G1=Symbol("same"),tE=Symbol("color"),kO=Symbol("hsva"),nE=Symbol("update"),TO=Symbol("parts"),SO=Symbol("css"),CO=Symbol("sliders");class Axe extends HTMLElement{static get observedAttributes(){return["color"]}get[SO](){return[Txe,Sxe,Cxe]}get[CO](){return[kxe,Exe]}get color(){return this[tE]}set color(e){if(!this[G1](e)){const t=this.colorModel.toHsva(e);this[nE](t),this[tE]=e}}constructor(){super();const e=y9(`<style>${this[SO].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[TO]=this[CO].map(r=>new r(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,r){const i=this.colorModel.fromAttr(r);this[G1](i)||(this.color=i)}handleEvent(e){const t=this[kO],r={...t,...e.detail};this[nE](r);let i;!b9(r,t)&&!this[G1](i=this.colorModel.fromHsva(r))&&(this[tE]=i,UC(this,"color-changed",{value:i}))}[G1](e){return this.color&&this.colorModel.equal(e,this.color)}[nE](e){this[kO]=e,this[TO].forEach(t=>t.update(e))}}const Nxe={defaultColor:"#000",toHsva:mxe,fromHsva:({h:n,s:e,v:t})=>gxe({h:n,s:e,v:t,a:1}),equal:vxe,fromAttr:n=>n};class Pxe extends Axe{get colorModel(){return Nxe}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class br extends sr{_parentElement;constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,r,i)=>{this._renderViewIntoCollectionParent(r,i)}),this.on("remove",(t,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!Ixe(e))throw new q("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const r of this)for(const i of e)r.delegate(i).to(t);this.on("add",(r,i)=>{for(const s of e)i.delegate(s).to(t)}),this.on("remove",(r,i)=>{for(const s of e)i.stopDelegating(s,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function Ixe(n){return n.every(e=>typeof e=="string")}const Rxe="http://www.w3.org/1999/xhtml";class vo extends an(){ns;tag;text;attributes;children;eventListeners;_isRendered;_revertData;constructor(e){super(),Object.assign(this,NO(AO(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=RO(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new q("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const r of t.children)Uy(r)?yield r:zC(r)&&(yield*e(r))}yield*e(this)}static bind(e,t){return{to(r,i){return new Oxe({eventNameOrFunction:r,attribute:r,observable:e,emitter:t,callback:i})},if(r,i,s){return new v9({observable:e,emitter:t,attribute:r,valueIfTrue:i,callback:s})}}}static extend(e,t){if(e._isRendered)throw new q("template-extend-render",[this,e]);k9(e,NO(AO(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new q("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||Rxe,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Rb(this.text)?this._bindToObservable({schema:this.text,updater:Dxe(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,r=e.revertData;for(const i in this.attributes){const s=t.getAttribute(i),o=this.attributes[i];r&&(r.attributes[i]=s);const a=IO(o)?o[0].ns:null;if(Rb(o)){const l=IO(o)?o[0].value:o;r&&OO(i)&&l.unshift(s),this._bindToObservable({schema:l,updater:Fxe(t,i,a),data:e})}else if(i=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{r&&s&&OO(i)&&o.unshift(s);const l=o.map(u=>u&&(u.value||u)).reduce((u,f)=>u.concat(f),[]).reduce(E9,"");Kf(l)||t.setAttributeNS(a,i,l)}}}_renderStyleAttribute(e,t){const r=t.node;for(const i in e){const s=e[i];Rb(s)?this._bindToObservable({schema:[s],updater:Lxe(r,i),data:t}):jk(i)?r.style.setProperty(i,s):r.style[i]=s}}_renderElementChildren(e){const t=e.node,r=e.intoFragment?document.createDocumentFragment():t,i=e.isApplying;let s=0;for(const o of this.children)if(HC(o)){if(!i){o.setParent(t);for(const a of o)r.appendChild(a.element)}}else if(Uy(o))i||(o.isRendered||o.render(),r.appendChild(o.element));else if(cc(o))r.appendChild(o);else if(i){const a=e.revertData,l=RO();a.children.push(l),o._renderNode({intoFragment:!1,node:r.childNodes[s++],isApplying:!0,revertData:l})}else r.appendChild(o.render());e.intoFragment&&t.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const r=this.eventListeners[t].map(i=>{const[s,o]=t.split("@");return i.activateDomEventListener(s,o,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:t,data:r}){const i=r.revertData;_9(e,t,r);const s=e.filter(o=>!Kf(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,t,r));i&&i.bindings.push(s)}_revertTemplateFromNode(e,t){for(const i of t.bindings)for(const s of i)s();if(t.text){e.textContent=t.text;return}const r=e;for(const i in t.attributes){const s=t.attributes[i];s===null?r.removeAttribute(i):r.setAttribute(i,s)}for(let i=0;i<t.children.length;++i)this._revertTemplateFromNode(r.childNodes[i],t.children[i])}}class Q0{attribute;observable;emitter;callback;constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,r){const i=()=>_9(e,t,r);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class Oxe extends Q0{eventNameOrFunction;constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,r){const i=(s,o)=>{(!t||o.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(r.node,e,i),()=>{this.emitter.stopListening(r.node,e,i)}}}class v9 extends Q0{valueIfTrue;constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Kf(t)?!1:this.valueIfTrue||!0}}function Rb(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(Rb):n instanceof Q0):!1}function jk(n){return/^--[a-zA-Z_-][\w-]*$/.test(n)}function Mxe(n,e){return n.map(t=>t instanceof Q0?t.getValue(e):t)}function _9(n,e,{node:t}){const r=Mxe(n,t);let i;n.length==1&&n[0]instanceof v9?i=r[0]:i=r.reduce(E9,""),Kf(i)?e.remove():e.set(i)}function Dxe(n){return{set(e){n.textContent=e},remove(){n.textContent=""}}}function Fxe(n,e,t){return{set(r){n.setAttributeNS(t,e,r)},remove(){n.removeAttributeNS(t,e)}}}function Lxe(n,e){return{set(t){jk(e)?n.style.setProperty(e,t):n.style[e]=t},remove(){jk(e)?n.style.removeProperty(e):n.style[e]=null}}}function AO(n){return s9(n,t=>{if(t&&(t instanceof Q0||zC(t)||Uy(t)||HC(t)))return t})}function NO(n){if(typeof n=="string"?n=Uxe(n):n.text&&zxe(n),n.on&&(n.eventListeners=Vxe(n.on),delete n.on),!n.text){n.attributes&&Bxe(n.attributes);const e=[];if(n.children)if(HC(n.children))e.push(n.children);else for(const t of n.children)zC(t)||Uy(t)||cc(t)?e.push(t):e.push(new vo(t));n.children=e}return n}function Bxe(n){for(const e in n)n[e].value&&(n[e].value=Gt(n[e].value)),x9(n,e)}function Vxe(n){for(const e in n)x9(n,e);return n}function Uxe(n){return{text:[n]}}function zxe(n){n.text=Gt(n.text)}function x9(n,e){n[e]=Gt(n[e])}function E9(n,e){return Kf(e)?n:Kf(n)?e:`${n} ${e}`}function PO(n,e){for(const t in e)n[t]?n[t].push(...e[t]):n[t]=e[t]}function k9(n,e){if(e.attributes&&(n.attributes||(n.attributes={}),PO(n.attributes,e.attributes)),e.eventListeners&&(n.eventListeners||(n.eventListeners={}),PO(n.eventListeners,e.eventListeners)),e.text&&n.text.push(...e.text),e.children&&e.children.length){if(n.children.length!=e.children.length)throw new q("ui-template-extend-children-mismatch",n);let t=0;for(const r of e.children)k9(n.children[t++],r)}}function Kf(n){return!n&&n!==0}function Uy(n){return n instanceof Le}function zC(n){return n instanceof vo}function HC(n){return n instanceof br}function IO(n){return Fy(n[0])&&n[0].ns}function RO(){return{children:[],bindings:[],attributes:{}}}function OO(n){return n=="class"||n=="style"}class Le extends Ei(qt()){element;isRendered;locale;t;template;_viewCollections;_unboundChildren;_bindTemplate;constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new sr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=vo.bind(this,this)}createCollection(e){const t=new br(e);return this._viewCollections.add(t),t}registerChild(e){_s(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){_s(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new vo(e)}extendTemplate(e){vo.extend(this.template,e)}render(){if(this.isRendered)throw new q("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const MO={POLITE:"polite",ASSERTIVE:"assertive"};class Hxe{editor;view;constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(MO))this.announce("",t)})}announce(e,t=MO.POLITE){const r=this.editor;if(!r.ui.view)return;this.view||(this.view=new $xe(r.locale),r.ui.view.body.add(this.view));const{politeness:i,isUnsafeHTML:s}=typeof t=="string"?{politeness:t}:t;let o=this.view.regionViews.find(a=>a.politeness===i);o||(o=new Wxe(r,i),this.view.regionViews.add(o)),o.announce({announcement:e,isUnsafeHTML:s})}}class $xe extends Le{regionViews;constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class Wxe extends Le{politeness;_domConverter;_pruneAnnouncementsInterval;constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{"aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const r=document.createElement("li");t?this._domConverter.setContentOf(r,e):r.innerText=e,this._listElement.appendChild(r)}get _listElement(){return this.element.querySelector("ul")}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function $u({emitter:n,activator:e,callback:t,contextElements:r,listenerOptions:i}){n.listenTo(document,"mousedown",(s,o)=>{if(!e())return;const a=typeof o.composedPath=="function"?o.composedPath():[],l=typeof r=="function"?r():r;for(const u of l)if(u.contains(o.target)||a.includes(u))return;t()},i)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function f0(n){class e extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...r){super(...r),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.template&&this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}function jxe(n){class e extends n{_onDragBound=this._onDrag.bind(this);_onDragEndBound=this._onDragEnd.bind(this);_lastDraggingCoordinates={x:0,y:0};constructor(...r){super(...r),this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(qe.document,"mouseup",this._onDragEndBound),this.listenTo(qe.document,"touchend",this._onDragEndBound),this.listenTo(qe.document,"mousemove",this._onDragBound),this.listenTo(qe.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(qe.document,"mouseup",this._onDragEndBound),this.stopListening(qe.document,"touchend",this._onDragEndBound),this.stopListening(qe.document,"mousemove",this._onDragBound),this.stopListening(qe.document,"touchmove",this._onDragBound)}_onDragStart(r,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let s=0,o=0;i instanceof MouseEvent?(s=i.clientX,o=i.clientY):(s=i.touches[0].clientX,o=i.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:o},this.isDragging=!0}_onDrag(r,i){if(!this.isDragging){this._detachDragListeners();return}let s=0,o=0;i instanceof MouseEvent?(s=i.clientX,o=i.clientY):(s=i.touches[0].clientX,o=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(o-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:o}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(r){return this.dragHandleElement?this.dragHandleElement===r.target||r.target instanceof HTMLElement&&this.dragHandleElement.contains(r.target):!1}}return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wc({view:n}){n.listenTo(n.element,"submit",(e,t)=>{t.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Z0({keystrokeHandler:n,focusTracker:e,gridItems:t,numberOfColumns:r,uiLanguageDirection:i}){const s=typeof r=="number"?()=>r:r;n.set("arrowright",o((u,f)=>i==="rtl"?l(u,f.length):a(u,f.length))),n.set("arrowleft",o((u,f)=>i==="rtl"?a(u,f.length):l(u,f.length))),n.set("arrowup",o((u,f)=>{let m=u-s();return m<0&&(m=u+s()*Math.floor(f.length/s()),m>f.length-1&&(m-=s())),m})),n.set("arrowdown",o((u,f)=>{let m=u+s();return m>f.length-1&&(m=u%s()),m}));function o(u){return f=>{const m=t.find(v=>v.element===e.focusedElement),p=t.getIndex(m),y=u(p,t);t.get(y).focus(),f.stopPropagation(),f.preventDefault()}}function a(u,f){return u===f-1?0:u+1}function l(u,f){return u===0?f-1:u-1}}class zs extends Le{id;constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ci()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class qxe extends Le{constructor(e,t){super(e);const r=e.t,i=new zs;i.text=r("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":i.id,role:"document",tabindex:-1},children:[lo(document,"p",{},r("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),i]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const r=[lo(document,"h3",{},t.label),...Array.from(t.groups.values()).map(i=>this._createGroup(i)).flat()];return t.description&&r.splice(1,0,lo(document,"p",{},t.description)),lo(document,"section",{},r)})}_createGroup(e){const t=e.keystrokes.sort((i,s)=>i.label.localeCompare(s.label)).map(i=>this._createGroupRow(i)).flat(),r=[lo(document,"dl",{},t)];return e.label&&r.unshift(lo(document,"h4",{},e.label)),r}_createGroupRow(e){const t=this.locale.t,r=lo(document,"dt"),i=lo(document,"dd"),s=Yxe(e.keystroke),o=[];for(const a of s)o.push(a.map(Gxe).join(""));return r.innerHTML=e.label,i.innerHTML=o.join(", ")+(e.mayRequireFn&&st.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[r,i]}}function Gxe(n){return Sy(n).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}function Yxe(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}class pa extends Le{static presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg");if(!t)throw new q("ui-iconview-invalid-svg",this);const r=t.getAttribute("viewBox");r&&(this.viewBox=r);for(const{name:i,value:s}of Array.from(t.attributes))pa.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}class T9 extends Le{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}class et extends Le{children;labelView;iconView;keystrokeView;_focusDelayed=null;constructor(e,t=new T9){super(e);const r=this.bindTemplate,i=ci();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${i}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new pa,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.iconView.bind("content").to(this,"icon"),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const s={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",o=>!o),r.if("isVisible","ck-hidden",o=>!o),r.to("isOn",o=>o?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",o=>o||"button"),tabindex:r.to("tabindex"),"aria-checked":r.to("_ariaChecked"),"aria-pressed":r.to("_ariaPressed"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,o=>!o),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(o=>{this.isEnabled?this.fire("execute"):o.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(o,a,l)=>!a||DO(l)?!1:String(!!o)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(o,a,l)=>!a||!DO(l)?!1:String(!!o)),st.isSafari&&(this._focusDelayed||(this._focusDelayed=nC(()=>this.focus(),0)),s.on.mousedown=r.to(()=>{this._focusDelayed()}),s.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(s)}render(){super.render(),this.icon&&this.children.add(this.iconView),this.on("change:icon",(e,t,r,i)=>{r&&!i?this.children.add(this.iconView,0):!r&&i&&this.children.remove(this.iconView)}),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Le;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>Sy(t))}]}),e}_getTooltipString(e,t,r){return e?typeof e=="string"?e:(r&&(r=Sy(r)),e instanceof Function?e(t,r):`${t}${r?` (${r})`:""}`):""}}function DO(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class bl extends Le{children;iconView;constructor(e,t={}){super(e);const r=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",r.to("class")]},children:this.children}),t.icon&&(this.iconView=new pa,this.iconView.content=t.icon,this.children.add(this.iconView));const i=new Le(e);i.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:r.to("label")}]}),this.children.add(i)}}class Tr extends an(){focusables;focusTracker;keystrokeHandler;actions;constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let r=e.actions[t];typeof r=="string"&&(r=[r]);for(const i of r)e.keystrokeHandler.set(i,(s,o)=>{this[t](),o()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(rE)||null}get last(){return this.focusables.filter(rE).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,r)=>{const i=t.element===this.focusTracker.focusedElement;return i&&(e=r),i}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const t=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",r=>{const i=t();this.focusNext(),i!==t()&&r.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",r=>{const i=t();this.focusPrevious(),i!==t()&&r.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const r=this.current;if(r===null)return this[e===1?"first":"last"];let i=this.focusables.get(r),s=(r+t+e)%t;do{const o=this.focusables.get(s);if(rE(o)){i=o;break}s=(s+t+e)%t}while(s!==r);return i}}function rE(n){return ep(n)&&aa(n.element)}function ep(n){return"focus"in n&&typeof n.focus=="function"}function Kxe(n){return ep(n)&&"focusCycler"in n&&n.focusCycler instanceof Tr}class Xxe extends Le{children;keystrokes;focusCycler;_focusTracker;_focusables;constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new bn,this._focusTracker=new Yt,this._focusables=new br,this.focusCycler=new Tr({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const r=new et(this.locale);let i;r.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(r);for(i in t)i!="onExecute"&&i!="onCreate"&&r.set(i,t[i]);this.children.add(r)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class Jxe extends Le{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const ns={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},FO=gh("px");class $C extends jxe(Le){parts;headerView;closeButtonView;actionsView;static defaultOffset=15;contentView;keystrokes;focusTracker;wasMoved=!1;_getCurrentDomRoot;_getViewportOffset;_focusables;_focusCycler;constructor(e,{getCurrentDomRoot:t,getViewportOffset:r,keystrokeHandlerOptions:i}){super(e);const s=this.bindTemplate,o=e.t;this.set("className",""),this.set("ariaLabel",o("Editor dialog")),this.set("isModal",!1),this.set("position",ns.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new bn,this.focusTracker=new Yt,this._focusables=new br,this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:i}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",s.if("isModal","ck-dialog-overlay__transparent",a=>!a),s.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",s.if("isModal","ck-dialog_modal"),s.to("className")],role:"dialog","aria-label":s.to("ariaLabel"),style:{top:s.to("_top",a=>FO(a)),left:s.to("_left",a=>FO(a)),visibility:s.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,t)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),t())}),this.on("drag",(e,{deltaX:t,deltaY:r})=>{this.wasMoved=!0,this.moveBy(t,r)}),this.listenTo(qe.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(qe.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,t,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:r=!0,content:i,actionButtons:s}){t&&(this.headerView=new bl(this.locale,{icon:e}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),i&&(i instanceof Le&&(i=[i]),this.contentView=new Jxe(this.locale),this.contentView.children.addMany(i),this.parts.add(this.contentView)),s&&(this.actionsView=new Xxe(this.locale),this.actionsView.setButtons(s),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const r=this._getViewportRect(),i=this._getDialogRect();e+i.width>r.right&&(e=r.right-i.width),e<r.left&&(e=r.left),t<r.top&&(t=r.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t=this.position,r;this._getCurrentDomRoot()?r=this._getVisibleDomRootRect(e):t=ns.SCREEN_CENTER;const i=$C.defaultOffset,s=this._getDialogRect();if(this.position!=null){if(typeof this.position=="function"){const o=this.position(s,r);if(o==null){this._moveOffScreen();return}this._moveTo(o.left,o.top);return}switch(t){case ns.EDITOR_TOP_SIDE:{if(r){const o=this.locale.contentLanguageDirection==="ltr"?r.right-s.width-i:r.left+i;this.moveTo(o,r.top+i)}else this._moveOffScreen();break}case ns.EDITOR_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),Math.round(r.top+r.height/2-s.height/2)):this._moveOffScreen();break}case ns.SCREEN_CENTER:{this.moveTo(Math.round((e.width-s.width)/2),Math.round((e.height-s.height)/2));break}case ns.EDITOR_TOP_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.top+i):this._moveOffScreen();break}case ns.EDITOR_BOTTOM_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.bottom-s.height-i):this._moveOffScreen();break}case ns.EDITOR_ABOVE_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.top-s.height-i):this._moveOffScreen();break}case ns.EDITOR_BELOW_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.bottom+i):this._moveOffScreen();break}}}}_getVisibleDomRootRect(e){let t=new bt(this._getCurrentDomRoot()).getVisible();if(t){if(t=e.getIntersection(t),!t)return null}else return null;return t}_getDialogRect(){return new bt(this.element.firstElementChild)}_getViewportRect(){const e=new bt(qe.window);return this.isModal?e:OB(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)ep(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element),Kxe(t)&&this._focusCycler.chain(t.focusCycler)})}_createCloseButton(){const e=new et(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:kv}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}}class is extends ee{view;static _visibleDialogPlugin;_onHide;static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),is._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{is._visibleDialogPlugin&&is._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,r)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),r())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const r of t)r.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:r,hasCloseButton:i=!0,content:s,actionButtons:o,className:a,isModal:l,position:u,onHide:f,keystrokeHandlerOptions:m}){const p=this.editor;this.view=new $C(p.locale,{getCurrentDomRoot:()=>p.editing.view.getDomRoot(p.model.document.selection.anchor.root.rootName),getViewportOffset:()=>p.ui.viewportOffset,keystrokeHandlerOptions:m});const y=this.view;y.on("close",()=>{this.hide()}),p.ui.view.body.add(y),p.keystrokes.listenTo(y.element),u||(u=l?ns.SCREEN_CENTER:ns.EDITOR_CENTER),l&&this._lockBodyScroll(),y.set({position:u,_isVisible:!0,className:a,isModal:l}),y.setupParts({icon:t,title:r,hasCloseButton:i,content:s,actionButtons:o}),this.id=e,f&&(this._onHide=f),this.isOpen=!0,is._visibleDialogPlugin=this}hide(){is._visibleDialogPlugin&&is._visibleDialogPlugin.fire(`hide:${is._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.isModal&&this._unlockBodyScroll(),t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,is._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}class ph extends et{_checkIconHolderView=new Qxe;constructor(e,t=new T9){super(e,t),this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",r.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(i,s)=>i||s)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,t,r)=>{const{children:i,_checkIconHolderView:s}=this;r?i.add(s,0):i.remove(s)})}}class Qxe extends Le{children;_checkIconView=this._createCheckIconView();constructor(){super();const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",t=>t?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,t,r)=>{const{children:i,_checkIconView:s}=this;r&&!i.has(s)?i.add(s):!r&&i.has(s)&&i.remove(s)})}_createCheckIconView(){const e=new pa;return e.content=Tv,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class xn extends ph{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class S9 extends ee{contentView=null;static get requires(){return[is]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const r=this._createButton(et);return r.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),r}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const r=this._createButton(xn);return r.label=t("Accessibility"),r}),e.keystrokes.set("Alt+0",(r,i)=>{this._toggleDialog(),i()}),this._setupRootLabels()}_createButton(e){const t=this.editor,r=t.plugins.get("Dialog"),i=t.locale,s=new e(i);return s.set({keystroke:"Alt+0",icon:uO,isToggleable:!0}),s.on("execute",()=>this._toggleDialog()),s.bind("isOn").to(r,"id",o=>o==="accessibilityHelp"),s}_setupRootLabels(){const e=this.editor,t=e.editing.view,r=e.t;e.ui.on("ready",()=>{t.change(s=>{for(const o of t.document.roots)i(s,o)}),e.on("addRoot",(s,o)=>{const a=e.editing.view.document.getRoot(o.rootName);t.change(l=>i(l,a))},{priority:"low"})});function i(s,o){const l=[o.getAttribute("aria-label"),r("Press %0 for help.",[Sy("Alt+0")])].filter(u=>u).join(". ");s.setAttribute("aria-label",l,o)}}_toggleDialog(){const e=this.editor,t=e.plugins.get("Dialog"),r=e.locale.t;this.contentView||(this.contentView=new qxe(e.locale,e.accessibility.keystrokeInfos)),t.id==="accessibilityHelp"?t.hide():t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:r("Accessibility help"),icon:uO,hasCloseButton:!0,content:this.contentView})}}class ao extends br{locale;_bodyCollectionContainer;static _bodyWrapper;constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new vo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),(!ao._bodyWrapper||!ao._bodyWrapper.isConnected)&&(ao._bodyWrapper=lo(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(ao._bodyWrapper)),ao._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),ao._bodyWrapper&&!ao._bodyWrapper.childElementCount&&(ao._bodyWrapper.remove(),delete ao._bodyWrapper)}}const LO=gh("px"),Zxe={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Bn extends Le{content;_pinWhenIsVisibleCallback;_resizeObserver;constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",r=>`ck-balloon-panel_${r}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",LO),left:t.to("left",LO)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const t=Ob(e.target);if(t&&!aa(t))return!1;this.show();const r=Bn.defaultPositions,i=Object.assign({},{element:this.element,positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast,r.viewportStickyNorth],limiter:qe.document.body,fitInViewport:!0},e),s=Bn._getOptimalPosition(i)||Zxe,o=parseInt(s.left),a=parseInt(s.top),l=s.name,u=s.config||{},{withArrow:f=!0}=u;return this.top=a,this.left=o,this.position=l,this.withArrow=f,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let t=Ob(e.target);const r=e.limiter?Ob(e.limiter):qe.document.body;if(this.listenTo(qe.document,"scroll",(i,s)=>{const o=s.target,a=t&&o.contains(t),l=r&&o.contains(r);(a||l||!t||!r)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(qe.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(t&&Dn(t)&&(t=t.parentElement),t)){const i=()=>{aa(t)||this.unpin()};this._resizeObserver=new Cn(t,i)}return!0}_stopPinning(){this.stopListening(qe.document,"scroll"),this.stopListening(qe.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:t=Bn.arrowSideOffset,heightOffset:r=Bn.arrowHeightOffset,stickyVerticalOffset:i=Bn.stickyVerticalOffset,config:s}=e;return{northWestArrowSouthWest:(l,u)=>({top:o(l,u),left:l.left-t,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(l,u)=>({top:o(l,u),left:l.left-u.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(l,u)=>({top:o(l,u),left:l.left-u.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(l,u)=>({top:o(l,u),left:l.left-u.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(l,u)=>({top:o(l,u),left:l.left-u.width+t,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(l,u)=>({top:o(l,u),left:l.left+l.width/2-t,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(l,u)=>({top:o(l,u),left:l.left+l.width/2-u.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(l,u)=>({top:o(l,u),left:l.left+l.width/2-u.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(l,u)=>({top:o(l,u),left:l.left+l.width/2-u.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(l,u)=>({top:o(l,u),left:l.left+l.width/2-u.width+t,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(l,u)=>({top:o(l,u),left:l.right-t,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(l,u)=>({top:o(l,u),left:l.right-u.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(l,u)=>({top:o(l,u),left:l.right-u.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(l,u)=>({top:o(l,u),left:l.right-u.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(l,u)=>({top:o(l,u),left:l.right-u.width+t,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:l=>({top:a(l),left:l.left-t,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(l,u)=>({top:a(l),left:l.left-u.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(l,u)=>({top:a(l),left:l.left-u.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(l,u)=>({top:a(l),left:l.left-u.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(l,u)=>({top:a(l),left:l.left-u.width+t,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:l=>({top:a(l),left:l.left+l.width/2-t,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(l,u)=>({top:a(l),left:l.left+l.width/2-u.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(l,u)=>({top:a(l),left:l.left+l.width/2-u.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(l,u)=>({top:a(l),left:l.left+l.width/2-u.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(l,u)=>({top:a(l),left:l.left+l.width/2-u.width+t,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:l=>({top:a(l),left:l.right-t,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(l,u)=>({top:a(l),left:l.right-u.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(l,u)=>({top:a(l),left:l.right-u.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(l,u)=>({top:a(l),left:l.right-u.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(l,u)=>({top:a(l),left:l.right-u.width+t,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(l,u)=>({top:l.top+l.height/2-u.height/2,left:l.left-u.width-r,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(l,u)=>({top:l.top+l.height/2-u.height/2,left:l.right+r,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(l,u,f)=>{const m=new bt(qe.document.body).getIntersection(f.getVisible());if(!m)return null;const p=m.getVisible();return!l.getIntersection(p)||!(p.top-l.top-i<u.height&&p.bottom-l.bottom<u.height)?null:{top:p.top+i,left:l.left+l.width/2-u.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function o(l,u){return l.top-u.height-r}function a(l){return l.bottom+r}}static arrowSideOffset=25;static arrowHeightOffset=10;static stickyVerticalOffset=20;static _getOptimalPosition=eC;static defaultPositions=Bn.generatePositions()}function Ob(n){return MC(n)?n:av(n)?n.commonAncestorContainer:typeof n=="function"?Ob(n()):null}const e2e=50,t2e=350;class C9 extends Ei(){editor;_balloonView=null;_showBalloonThrottled=jve(()=>this._showBalloon(),50,{leading:!0});_lastFocusedEditableElement=null;_balloonClass;constructor(e,t={}){super(),this.editor=e,this._balloonClass=t.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,r,i)=>{this._updateLastFocusedEditableElement(),i?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,r,i)=>{this._updateLastFocusedEditableElement(),i&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,t=new Bn,r=this._createBadgeContent();return t.content.add(r),this._balloonClass&&(t.class=this._balloonClass),e.ui.view.body.add(t),t}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),t=e.side==="right"?n2e(this._lastFocusedEditableElement,e):r2e(this._lastFocusedEditableElement,e);return{target:this._lastFocusedEditableElement,positions:[t]}}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!t||!r){this._lastFocusedEditableElement=null;return}const i=Array.from(e.ui.getEditableElementsNames()).map(s=>e.ui.getEditableElement(s));i.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=i[0]}}function n2e(n,e){return A9(n,e,(t,r)=>t.left+t.width-r.width-e.horizontalOffset)}function r2e(n,e){return A9(n,e,t=>t.left+e.horizontalOffset)}function A9(n,e,t){return(r,i)=>{const s=new bt(n);if(s.width<t2e||s.height<e2e)return null;let o;e.position==="inside"?o=s.bottom-i.height:o=s.bottom-i.height/2,o-=e.verticalOffset;const a=t(s,i),u=r.clone().moveTo(a,o).getIntersection(i.clone().moveTo(a,o)).getVisible();return!u||u.getArea()<i.getArea()?null:{top:o,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}const i2e="Powered by";class s2e extends C9{constructor(e){super(e,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const e=this.editor;if(e.config.get("ui.poweredBy.forceVisible"))return!0;const r=e.config.get("licenseKey");if(r=="GPL")return!0;const i=rC(r.split(".")[1]);return i?!i.whiteLabel:!0}_createBadgeContent(){return new o2e(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const e=super._getNormalizedConfig(),t=this.editor.config.get("ui.poweredBy")||{},r=t.position||e.position,i=r==="inside"?5:e.verticalOffset;return{position:r,side:t.side||e.side,label:t.label===void 0?i2e:t.label,verticalOffset:t.verticalOffset!==void 0?t.verticalOffset:i,horizontalOffset:t.horizontalOffset!==void 0?t.horizontalOffset:e.horizontalOffset,forceVisible:!!t.forceVisible}}}class o2e extends Le{constructor(e,t){super(e);const r=new pa,i=this.bindTemplate;r.set({content:V_e,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],r],on:{dragstart:i.to(s=>s.preventDefault())}}]})}}class Nu extends et{toggleSwitchView;constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Le;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class BO extends N9(et){}class a2e extends N9(ph){}function N9(n){class e extends n{_fileInputView;constructor(...r){super(...r),this._fileInputView=new l2e(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return e}class l2e extends Le{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element?.files?.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class WC extends Le{buttonView;children;constructor(e,t){super(e);const r=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",r.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:r.if("isCollapsed","hidden"),"aria-labelledby":r.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new et(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:Sv}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",r=>String(r))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",r=>!r),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function h0(n,e){const t=n.t,r={Black:t("Black"),"Dim grey":t("Dim grey"),Grey:t("Grey"),"Light grey":t("Light grey"),White:t("White"),Red:t("Red"),Orange:t("Orange"),Yellow:t("Yellow"),"Light green":t("Light green"),Green:t("Green"),Aquamarine:t("Aquamarine"),Turquoise:t("Turquoise"),"Light blue":t("Light blue"),Blue:t("Blue"),Purple:t("Purple")};return e.map(i=>{const s=r[i.label];return s&&s!=i.label&&(i.label=s),i})}function m0(n){return n.map(c2e).filter(e=>!!e)}function c2e(n){return typeof n=="string"?{model:n,label:n,hasBorder:!1,view:{name:"span",styles:{color:n}}}:{model:n.color,label:n.label||n.color,hasBorder:n.hasBorder===void 0?!1:n.hasBorder,view:{name:"span",styles:{color:`${n.color}`}}}}class P9 extends et{constructor(e){super(e);const t=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=a_e,this.extendTemplate({attributes:{style:{backgroundColor:t.to("color",r=>st.isMediaForcedColors?null:r)},class:["ck","ck-color-grid__tile",t.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}class VO extends Le{columns;items;focusTracker;keystrokes;constructor(e,t){super(e);const r=t&&t.colorDefinitions?t.colorDefinitions:[];this.columns=t?.columns||5;const i={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this.items.on("add",(s,o)=>{o.isOn=o.color===this.selectedColor}),r.forEach(s=>{const o=new P9;o.set({color:s.color,label:s.label,tooltip:!0,hasBorder:s.options.hasBorder}),o.on("execute",()=>{this.fire("execute",{value:s.color,hasBorder:s.options.hasBorder,label:s.label})}),this.items.add(o)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:i}}),this.on("change:selectedColor",(s,o,a)=>{for(const l of this.items)l.isOn=l.color===a})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),Z0({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale?.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}function I9(n,e){if(!n)return"";const t=R9(n);if(!t)return"";if(t.space===e)return n;if(!h2e(t))return"";const i=eu[t.space][e];if(!i)return"";const s=i(t.space==="hex"?t.hexValue:t.values);return f2e(s,e)}function u2e(n){if(!n)return"";const e=R9(n);return e?e.space==="hex"?e.hexValue:I9(n,"hex"):"#000"}function d2e(n,e){customElements.get(n)===void 0&&customElements.define(n,e)}function f2e(n,e){switch(e){case"hex":return`#${n}`;case"rgb":return`rgb(${n[0]}, ${n[1]}, ${n[2]})`;case"hsl":return`hsl(${n[0]}, ${n[1]}%, ${n[2]}%)`;case"hwb":return`hwb(${n[0]}, ${n[1]}, ${n[2]})`;case"lab":return`lab(${n[0]}% ${n[1]} ${n[2]})`;case"lch":return`lch(${n[0]}% ${n[1]} ${n[2]})`;default:return""}}function R9(n){if(n.startsWith("#")){const t=_O(n);return{space:"hex",values:t.values,hexValue:n,alpha:t.alpha}}const e=_O(n);return e.space?e:null}function h2e(n){return Object.keys(eu).includes(n.space)}class Kn extends Le{fieldView;labelView;statusView;fieldWrapperChildren;constructor(e,t){super(e);const r=`ck-labeled-field-view-${ci()}`,i=`ck-labeled-field-view-status-${ci()}`;this.fieldView=t(this,r,i),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(r),this.statusView=this._createStatusView(i),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(o,a)=>o||a);const s=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",o=>!o),s.if("isEmpty","ck-labeled-field-view_empty"),s.if("isFocused","ck-labeled-field-view_focused"),s.if("placeholder","ck-labeled-field-view_placeholder"),s.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new zs(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Le(this.locale),r=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",r.if("errorText","ck-labeled-field-view__status_error"),r.if("_statusText","ck-hidden",i=>!i)],id:e,role:r.if("errorText","alert")},children:[{text:r.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class m2e extends Le{focusTracker;constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Yt,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...r)=>{this.fire("input",...r),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,r)=>{this._setDomElementValue(r),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=g2e(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function g2e(n){return!n.value}class O9 extends m2e{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class M9 extends O9{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class p2e extends O9{constructor(e,{min:t,max:r,step:i}={}){super(e);const s=this.bindTemplate;this.set("min",t),this.set("max",r),this.set("step",i),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:s.to("min"),max:s.to("max"),step:s.to("step")}})}}class b2e extends Le{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",r=>`ck-dropdown__panel_${r}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Rt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}class g0 extends Le{buttonView;panelView;focusTracker;keystrokes;listView;toolbarView;menuView;constructor(e,t,r){super(e);const i=this.bindTemplate;this.buttonView=t,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new bn,this.focusTracker=new Yt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",s=>!s)],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[t,r]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(t,r,i)=>{if(i)if(this.panelPosition==="auto"){const s=g0._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(t,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(t,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:r,southWest:i,northEast:s,northWest:o,southMiddleEast:a,southMiddleWest:l,northMiddleEast:u,northMiddleWest:f}=g0.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,i,a,l,e,s,o,u,f,t]:[i,r,l,a,e,o,s,f,u,t]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}static defaultPanelPositions={south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)*3/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)*3/4,name:"nmw"})};static _getOptimalPosition=eC}class D9 extends et{arrowView;constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new pa;return e.content=Sv,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Ao extends Le{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Cv extends Le{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Mb extends Le{labelView;items;children;constructor(e,t=new zs){super(e);const r=this.bindTemplate,i=new bh(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,i]),i.set({role:"group",ariaLabelledBy:t.id}),i.focusTracker.destroy(),i.keystrokes.destroy(),this.items=i.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",r.if("isVisible","ck-hidden",s=>!s)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof Cv));e&&e.focus()}}}class bh extends Le{focusables;items;focusTracker;keystrokes;_focusCycler;_listItemGroupToChangeListeners=new WeakMap;constructor(e){super(e);const t=this.bindTemplate;this.focusables=new br,this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this._focusCycler=new Tr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Mb?this._registerFocusableItemsGroup(e):e instanceof Ao&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const r of t.removed)r instanceof Mb?this._deregisterFocusableItemsGroup(r):r instanceof Ao&&this._deregisterFocusableListItem(r);for(const r of Array.from(t.added).reverse())r instanceof Mb?this._registerFocusableItemsGroup(r,t.index):this._registerFocusableListItem(r,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,r)=>{for(const i of r.removed)this._deregisterFocusableListItem(i);for(const i of Array.from(r.added).reverse())this._registerFocusableListItem(i,this.items.getIndex(e)+r.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((i,s)=>{const o=typeof t<"u"?t+s:void 0;this._registerFocusableListItem(i,o)});const r=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,r),e.items.on("change",r)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class jC extends Le{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class y2e extends Le{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function w2e(n){return n.bindTemplate.to(e=>{e.target===n.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function F9(n){if(Array.isArray(n))return{items:n,removeItems:[]};const e={items:[],removeItems:[]};return n?{...e,...n}:e}const v2e={alignLeft:DC,bold:c9,importExport:p_e,paragraph:M_e,plus:B_e,text:txe,threeVerticalDots:VC,pilcrow:L_e,dragIndicator:c_e};class dc extends Le{options;items;focusTracker;keystrokes;itemsView;children;focusables;_focusCycler;_behavior;constructor(e,t){super(e);const r=this.bindTemplate,i=this.t;this.options=t||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.set("isGrouping",!!this.options.shouldGroupWhenFull),this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this.set("class",void 0),this.set("isCompact",!1),this.set("isVertical",!1),this.itemsView=new _2e(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const s=e.uiLanguageDirection==="rtl";this._focusCycler=new Tr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact"),r.if("isGrouping","ck-toolbar_grouping"),r.if("isVertical","ck-toolbar_vertical")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:r.to("role"),"aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:w2e(this)}}),this._behavior=this.options.shouldGroupWhenFull?new zO(this):new UO(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,t)=>{this.focusTracker.add(t)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,r){this.items.addMany(this._buildItemsFromConfig(e,t,r))}switchBehavior(e){this._behavior.type!==e&&(this._behavior.destroy(),this.itemsView.children.clear(),this.focusables.clear(),e==="dynamic"?(this._behavior=new zO(this),this._behavior.render(this),this._behavior.refreshItems()):(this._behavior=new UO(this),this._behavior.render(this)))}_buildItemsFromConfig(e,t,r){const i=F9(e),s=r||i.removeItems;return this._cleanItemsConfiguration(i.items,t,s).map(a=>Fy(a)?this._createNestedToolbarDropdown(a,t,s):a==="|"?new jC:a==="-"?new y2e:t.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,t,r){const i=e.filter((s,o,a)=>s==="|"?!0:r.indexOf(s)!==-1?!1:s==="-"?this.options.shouldGroupWhenFull?(Rt("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!Fy(s)&&!t.has(s)?(Rt("toolbarview-item-unavailable",{item:s}),!1):!0);return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(e){const t=o=>o!=="-"&&o!=="|",r=e.length,i=e.findIndex(t);if(i===-1)return[];const s=r-e.slice().reverse().findIndex(t);return e.slice(i,s).filter((o,a,l)=>t(o)?!0:!(a>0&&l[a-1]===o))}_createNestedToolbarDropdown(e,t,r){let{label:i,icon:s,items:o,tooltip:a=!0,withText:l=!1}=e;if(o=this._cleanItemsConfiguration(o,t,r),!o.length)return null;const u=this.locale,f=kr(u);return i||Rt("toolbarview-nested-toolbar-dropdown-missing-label",e),f.class="ck-toolbar__nested-toolbar-dropdown",f.buttonView.set({label:i,tooltip:a,withText:!!l}),s!==!1?f.buttonView.icon=v2e[s]||s||VC:f.buttonView.withText=!0,tp(f,()=>f.toolbarView._buildItemsFromConfig(o,t,r)),f}}class _2e extends Le{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class UO{type="static";constructor(e){e.isGrouping=!1,e.itemsView.children.bindTo(e.items).using(t=>t),e.focusables.bindTo(e.items).using(t=>ep(t)?t:null)}render(){}destroy(){}}class zO{type="dynamic";view;viewChildren;viewFocusables;viewItemsView;viewFocusTracker;viewLocale;ungroupedItems;groupedItems;groupedItemsDropdown;resizeObserver=null;cachedPadding=null;shouldUpdateGroupingOnNextResize=!1;viewElement;constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.view.isGrouping=!0,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,r)=>{const i=r.index,s=Array.from(r.added);for(const o of r.removed)i>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=i;o<i+s.length;o++){const a=s[o-i];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.viewChildren.length>1&&(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last)),this.resizeObserver.destroy()}refreshItems(){const e=this.view;if(e.items.length){for(let t=0;t<e.items.length;t++){const r=[...e.items][t];this.ungroupedItems.add(r,t)}this._updateGrouping()}}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!aa(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,r=new bt(e.lastChild),i=new bt(e);if(!this.cachedPadding){const s=qe.window.getComputedStyle(e),o=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(s[o])}return t==="ltr"?r.right>i.right-this.cachedPadding:r.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Cn(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new jC),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,r=kr(e);return r.class="ck-toolbar__grouped-dropdown",r.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",tp(r,this.groupedItems),r.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:VC}),r}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{ep(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class yh extends Le{children;actionView;arrowView;keystrokes;focusTracker;constructor(e,t){super(e);const r=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new bn,this.focusTracker=new Yt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",i=>!i),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new et;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new et,t=e.bindTemplate;return e.icon=Sv,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function kr(n,e=D9){const t=typeof e=="function"?new e(n):e,r=new b2e(n),i=new g0(n,t,r);return t.bind("isEnabled").to(i),t instanceof yh?t.arrowView.bind("isOn").to(i,"isOpen"):t.bind("isOn").to(i,"isOpen"),x2e(i),i}function tp(n,e,t={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?HO(n,e,t):n.once("change:isOpen",()=>HO(n,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&Av(n,()=>n.toolbarView.items.find(r=>r.isOn))}function HO(n,e,t){const r=n.locale,i=r.t,s=n.toolbarView=new dc(r),o=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel||i("Dropdown toolbar"),t.maxWidth&&(s.maxWidth=t.maxWidth),t.class&&(s.class=t.class),t.isCompact&&(s.isCompact=t.isCompact),t.isVertical&&(s.isVertical=!0),o instanceof br?s.items.bindTo(o).using(a=>a):s.items.addMany(o),n.panelView.children.add(s),n.focusTracker.add(s),s.items.delegate("execute").to(n)}function vc(n,e,t={}){n.isOpen?$O(n,e,t):n.once("change:isOpen",()=>$O(n,e,t),{priority:"highest"}),Av(n,()=>n.listView.items.find(r=>r instanceof Ao?r.children.first.isOn:!1))}function $O(n,e,t){const r=n.locale,i=n.listView=new bh(r),s=typeof e=="function"?e():e;i.ariaLabel=t.ariaLabel,i.role=t.role,B9(n,i.items,s,r),n.panelView.children.add(i),i.items.delegate("execute").to(n)}function Av(n,e){n.on("change:isOpen",()=>{if(!n.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():Rt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:hs.low-10})}function x2e(n){E2e(n),k2e(n),T2e(n),S2e(n),C2e(n),A2e(n)}function E2e(n){$u({emitter:n,activator:()=>n.isRendered&&n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...L9(n.focusTracker).filter(e=>!n.element.contains(e))]})}function L9(n){return[...n.elements,...n.externalViews.flatMap(e=>L9(e.focusTracker))]}function k2e(n){n.on("execute",e=>{e.source instanceof Nu||(n.isOpen=!1)})}function T2e(n){n.focusTracker.on("change:isFocused",(e,t,r)=>{r||!n.isOpen||(n.isOpen=!1)})}function S2e(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",(e,t)=>{n.isOpen&&(n.panelView.focusLast(),t())})}function C2e(n){n.on("change:isOpen",(e,t,r)=>{if(r)return;n.focusTracker.elements.some(s=>s.contains(qe.document.activeElement))&&n.buttonView.focus()})}function A2e(n){n.on("change:isOpen",(e,t,r)=>{r&&n.panelView.focus()},{priority:"low"})}function B9(n,e,t,r){N2e(e),e.bindTo(t).using(i=>{if(i.type==="separator")return new Cv(r);if(i.type==="group"){const s=new Mb(r);return s.set({label:i.label}),B9(n,s.items,i.items,r),s.items.delegate("execute").to(n),s}else if(i.type==="button"||i.type==="switchbutton"){const s=i.model.role==="menuitemcheckbox"||i.model.role==="menuitemradio",o=new Ao(r);let a;return i.type==="button"?(a=new ph(r,i.labelView),a.set({isToggleable:s})):a=new Nu(r),a.bind(...Object.keys(i.model)).to(i.model),a.delegate("execute").to(o),o.children.add(a),o}return null})}function N2e(n){let e=0;const t=s=>!(s instanceof Ao)||!(s.children.first instanceof ph)?null:s.children.first,r=s=>{const o=t(s);return!o||!o.isToggleable?null:o},i=s=>{for(const o of n){const a=t(o);a&&(a.hasCheckSpace=s)}};n.on("change",(s,o)=>{const a=e>0;for(const u of o.removed)r(u)&&e--;for(const u of o.added){const f=t(u);f&&(f.isToggleable&&e++,f.hasCheckSpace=e>0)}const l=e>0;a!==l&&i(l)})}const gs=(n,e,t)=>{const r=new M9(n.locale);return r.set({id:e,ariaDescribedById:t}),r.bind("isReadOnly").to(n,"isEnabled",i=>!i),r.bind("hasError").to(n,"errorText",i=>!!i),r.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(r),r},V9=(n,e,t)=>{const r=new p2e(n.locale);return r.set({id:e,ariaDescribedById:t,inputMode:"numeric"}),r.bind("isReadOnly").to(n,"isEnabled",i=>!i),r.bind("hasError").to(n,"errorText",i=>!!i),r.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(r),r},qC=(n,e,t)=>{const r=kr(n.locale);return r.set({id:e,ariaDescribedById:t}),r.bind("isEnabled").to(n),r},P2e=150;class I2e extends Le{hexInputRow;_debounceColorPickerEvent;_config;constructor(e,t={}){super(e),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const r=this.createCollection();t.hideInput||r.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:r}),this._config=t,this._debounceColorPickerEvent=c0(i=>{this.set("color",i),this.fire("colorSelected",{color:this.color})},P2e,{leading:!0}),this.on("set:color",(i,s,o)=>{i.return=I9(o,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=iE(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),iE(this.color)!=iE(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),d2e("hex-color-picker",Pxe),this.picker=qe.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",e=>{const t=e.detail.value;this._debounceColorPickerEvent(t)})}focus(){/* istanbul ignore next -- @preserve */!this._config.hideInput&&(st.isGecko||st.isiOS||st.isSafari||st.isBlink)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const r=[...this.picker.shadowRoot.children].filter(i=>i.getAttribute("role")==="slider").map(i=>new R2e(i));this.slidersView=this.createCollection(),r.forEach(i=>{this.slidersView.add(i)})}_createInputRow(){const e=this._createColorInput();return new M2e(this.locale,e)}_createColorInput(){const e=new Kn(this.locale,gs),{t}=this.locale;return e.set({label:t("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",r=>e.isFocused?e.fieldView.value:r.startsWith("#")?r.substring(1):r),e.fieldView.on("input",()=>{const r=e.fieldView.element.value;if(r){const i=U9(r);i&&this._debounceColorPickerEvent(i)}}),e}isValid(){const{t:e}=this.locale;return this._config.hideInput?!0:(this.resetValidationStatus(),this.hexInputRow.getParsedColor()?!0:(this.hexInputRow.inputView.errorText=e('Please enter a valid color (e.g. "ff0000").'),!1))}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function iE(n){let e=u2e(n);return e||(e="#000"),e.length===4&&(e="#"+[e[1],e[1],e[2],e[2],e[3],e[3]].join("")),e.toLowerCase()}class R2e extends Le{constructor(e){super(),this.element=e}focus(){this.element.focus()}}class O2e extends Le{constructor(e){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class M2e extends Le{children;inputView;constructor(e,t){super(e),this.inputView=t,this.children=this.createCollection([new O2e,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return U9(this.inputView.fieldView.element.value)}}function U9(n){if(!n)return null;const e=n.trim().replace(/^#/,"");return![3,4,6,8].includes(e.length)||!/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(e)?null:`#${e}`}class D2e extends qt(sr){constructor(e){super(e),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(e,t){return this.find(r=>r.color===e.color)?this:super.add(e,t)}hasColor(e){return!!this.find(t=>t.color===e)}}class F2e extends Le{items;colorDefinitions;focusTracker;columns;documentColors;documentColorsCount;staticColorsGrid;documentColorsGrid;colorPickerButtonView;removeColorButtonView;_focusables;_documentColorsLabel;_removeButtonLabel;_colorPickerLabel;constructor(e,{colors:t,columns:r,removeButtonLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerLabel:a,focusTracker:l,focusables:u}){super(e);const f=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=l,this.items=this.createCollection(),this.colorDefinitions=t,this.columns=r,this.documentColors=new D2e,this.documentColorsCount=o,this._focusables=u,this._removeButtonLabel=i,this._colorPickerLabel=a,this._documentColorsLabel=s,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",f.if("isVisible","ck-hidden",m=>!m)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,t){const r=e.document,i=this.documentColorsCount;this.documentColors.clear();for(const s of r.getRoots()){const o=e.createRangeIn(s);for(const a of o.getItems())if(a.is("$textProxy")&&a.hasAttribute(t)&&(this._addColorToDocumentColors(a.getAttribute(t)),this.documentColors.length>=i))return}}updateSelectedColors(){const e=this.documentColorsGrid,t=this.staticColorsGrid,r=this.selectedColor;t.selectedColor=r,e&&(e.selectedColor=r)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=vo.bind(this.documentColors,this.documentColors),t=new Le(this.locale);t.setTemplate({tag:"span",attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]},children:[{text:this._documentColorsLabel}]}),this.items.add(t),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new et,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:o_e,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const e=new et;return e.set({withText:!0,icon:Vk,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),e.render(),e}_createStaticColorsGrid(){const e=new VO(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",(t,r)=>{this.fire("execute",{value:r.value,source:"staticColorsGrid"})}),e}_createDocumentColorsGrid(){const e=vo.bind(this.documentColors,this.documentColors),t=new VO(this.locale,{columns:this.columns});return t.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),t.items.bindTo(this.documentColors).using(r=>{const i=new P9;return i.set({color:r.color,hasBorder:r.options?.hasBorder}),r.label&&i.set({label:r.label,tooltip:!0}),i.on("execute",()=>{this.fire("execute",{value:r.color,source:"documentColorsGrid"})}),i}),this.documentColors.on("change:isEmpty",(r,i,s)=>{s&&(t.selectedColor=null)}),t}_addColorToDocumentColors(e){const t=this.colorDefinitions.find(r=>r.color===e);t?this.documentColors.add(Object.assign({},t)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}class L2e extends Le{items;colorPickerView;saveButtonView;cancelButtonView;actionBarView;focusTracker;keystrokes;_focusables;_colorPickerViewConfig;constructor(e,{focusTracker:t,focusables:r,keystrokes:i,colorPickerViewConfig:s}){super(e),this.items=this.createCollection(),this.focusTracker=t,this.keystrokes=i,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=r,this._colorPickerViewConfig=s;const o=this.bindTemplate,{saveButtonView:a,cancelButtonView:l}=this._createActionButtons();this.saveButtonView=a,this.cancelButtonView=l,this.actionBarView=this._createActionBarView({saveButtonView:a,cancelButtonView:l}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",o.if("isVisible","ck-hidden",u=>!u)]},children:this.items})}render(){super.render();const e=new I2e(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(t,r,i)=>{e.color=i}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())})}_stopPropagationOnArrowsKeys(){const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const t of this.colorPickerView.slidersView)this.focusTracker.add(t.element),this._focusables.add(t);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:e,cancelButtonView:t}){const r=new Le,i=this.createCollection();return i.add(e),i.add(t),r.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:i}),r}_createActionButtons(){const e=this.locale,t=e.t,r=new et(e),i=new et(e);return r.set({icon:Tv,class:"ck-button-save",type:"button",withText:!1,label:t("Accept")}),i.set({icon:kv,class:"ck-button-cancel",type:"button",withText:!1,label:t("Cancel")}),r.on("execute",()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),i.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:r,cancelButtonView:i}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(e,t)=>{this.fire("execute",{value:t.color,source:"colorPicker"}),this.set("selectedColor",t.color)})}}class GC extends Le{focusTracker;keystrokes;items;colorGridsFragmentView;colorPickerFragmentView;_focusCycler;_focusables;_colorPickerViewConfig;constructor(e,{colors:t,columns:r,removeButtonLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerLabel:a,colorPickerViewConfig:l}){super(e),this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this._focusables=new br,this._colorPickerViewConfig=l,this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new F2e(e,{colors:t,columns:r,removeButtonLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerLabel:a,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new L2e(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:l}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(u,f,m)=>{this.colorGridsFragmentView.set("selectedColor",m),this.colorPickerFragmentView.set("selectedColor",m)}),this.colorGridsFragmentView.on("change:selectedColor",(u,f,m)=>{this.set("selectedColor",m)}),this.colorPickerFragmentView.on("change:selectedColor",(u,f,m)=>{this.set("selectedColor",m)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){!this.colorPickerFragmentView.colorPickerView||this._isColorPickerFragmentVisible||(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,t){this.colorGridsFragmentView.updateDocumentColors(e,t)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class B2e{editor;_components=new Map;constructor(e){this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(sE(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new q("componentfactory-item-missing",this,{name:e});return this._components.get(sE(e)).callback(this.editor.locale)}has(e){return this._components.has(sE(e))}}function sE(n){return String(n).toLowerCase()}const WO="ck-tooltip";class di extends Ei(){tooltipTextView;balloonPanelView;static defaultBalloonPositions=Bn.generatePositions({heightOffset:5,sideOffset:13});_currentElementWithTooltip=null;_currentTooltipPosition=null;_mutationObserver=null;_pinTooltipDebounced;_unpinTooltipDebounced;_watchdogExcluded;static _editors=new Set;static _instance=null;constructor(e){if(super(),di._editors.add(e),di._instance)return di._instance;di._instance=this,this.tooltipTextView=new Le(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Bn(e.locale),this.balloonPanelView.class=WO,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=V2e(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=c0(this._pinTooltip,600),this._unpinTooltipDebounced=c0(this._unpinTooltip,400),this.listenTo(qe.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(qe.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(qe.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(qe.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(qe.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(qe.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;di._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),di._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),di._instance=null)}static getPositioningFunctions(e){const t=di.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){t.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,{target:t}){const r=oE(t);if(!r){e.name==="focus"&&this._unpinTooltip();return}if(r===this._currentElementWithTooltip){this._unpinTooltipDebounced.cancel();return}this._unpinTooltip(),e.name==="focus"&&!r.matches(":hover")||r.matches("[data-cke-tooltip-instant]")?this._pinTooltip(r,aE(r)):this._pinTooltipDebounced(r,aE(r))}_onLeaveOrBlur(e,{target:t,relatedTarget:r}){if(e.name==="mouseleave"){if(!MC(t))return;const i=this.balloonPanelView.element,s=i&&(i===r||i.contains(r)),o=!s&&t===i;if(s){this._unpinTooltipDebounced.cancel();return}if(!o&&this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const a=oE(t),l=oE(r);(o||a&&a!==l)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||a&&a.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:r,cssClass:i}){this._unpinTooltip();const s=_n(di._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.class=[WO,i].filter(o=>o).join(" "),this.balloonPanelView.pin({target:e,positions:di.getPositioningFunctions(r)}),this._mutationObserver.attach(e);for(const o of di._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of di._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=aE(this._currentElementWithTooltip);if(!aa(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:di.getPositioningFunctions(e.position)})}}function oE(n){return MC(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function aE(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function V2e(n){const e=new MutationObserver(()=>{n()});return{attach(t){e.observe(t,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}class U2e extends C9{licenseTypeMessage={evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"};constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"})}_isEnabled(){const t=this.editor.config.get("licenseKey"),r=jO(t);return!!(r&&this.licenseTypeMessage[r])}_createBadgeContent(){const e=this.editor.config.get("licenseKey"),t=jO(e);return new z2e(this.editor.locale,this.licenseTypeMessage[t])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),t=this.editor.config.get("ui.poweredBy")||{},r=t.position||e.position,i=t.side||e.side;return{position:r,side:i==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class z2e extends Le{constructor(e,t){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[t]}]})}}function jO(n){if(n=="GPL")return"GPL";const e=rC(n.split(".")[1]);return e?e.licenseType||"production":null}class dl extends Ao{constructor(e,t){super(e);const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:r.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}const Y1=5,Wd={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",e=>{if(!(!n.isFocusBorderEnabled&&!n.isOpen)){if(n.isOpen)for(const t of n.menus){const r=e.path[0],i=r instanceof dl&&r.children.first===t;t.isOpen=(e.path.includes(t)||i)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(n){const e=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",r=>{t(r.source,e?-1:1)}),n.on("menu:arrowleft",r=>{t(r.source,e?1:-1)});function t(r,i){const s=n.children.getIndex(r),o=r.isOpen,a=n.children.length,l=n.children.get((s+a+i)%a);r.isOpen=!1,o&&(l.isOpen=!0),l.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(e,t,r)=>{r&&n.menus.filter(i=>e.source.parentMenuView===i.parentMenuView&&e.source!==i&&i.isOpen).forEach(i=>{i.isOpen=!1})})},closeOnClickOutside(n){$u({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(e=>e.element)})},enableFocusHighlightOnInteraction(n){let e=!1;n.on("change:isOpen",(t,r,i)=>{i||(e||(n.isFocusBorderEnabled=!1),e=!1)}),n.listenTo(n.element,"keydown",()=>{e=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{e=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{e&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},Gl={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isEnabled&&n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),t())})},openOnArrowRightKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(e,(t,r)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),r())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(e,t)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),t())})},closeOnArrowLeftKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(e,(t,r)=>{n.isOpen&&(n.isOpen=!1,n.focus(),r())})},closeOnEscKey(n){n.keystrokes.set("esc",(e,t)=>{n.isOpen&&(n.isOpen=!1,n.focus(),t())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(e,t,r)=>{!r&&e.source===n.parentMenuView&&(n.isOpen=!1)})}},H2e={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,e)=>({top:n.bottom,left:n.left-e.width+n.width,name:"sw"}),northEast:(n,e)=>({top:n.top-e.height,left:n.left,name:"ne"}),northWest:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-Y1,name:"es"}),eastNorth:(n,e)=>({top:n.top-e.height,left:n.right-Y1,name:"en"}),westSouth:(n,e)=>({top:n.top,left:n.left-e.width+Y1,name:"ws"}),westNorth:(n,e)=>({top:n.top-e.height,left:n.left-e.width+Y1,name:"wn"})},$2e=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"fullscreen",items:["menuBar:fullscreen"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable","menuBar:insertTableLayout"]},{groupId:"insertInline",items:["menuBar:link","menuBar:insertFootnote","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException:inline","menuBar:restrictedEditingException:block"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:lineHeight","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands","menuBar:toggleAi","menuBar:aiQuickActions"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function W2e(n){let e;return!("items"in n)||!n.items?e={items:OC($2e),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n}:e={items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n},e}function j2e({normalizedConfig:n,locale:e,componentFactory:t,extraItems:r}){const i=OC(n);return qO(n,i,r),q2e(n,i),qO(n,i,i.addItems),G2e(n,i,t),z9(n,i),Y2e(i,e),i}function q2e(n,e){const t=e.removeItems,r=[];e.items=e.items.filter(({menuId:i})=>t.includes(i)?(r.push(i),!1):!0),wh(e.items,i=>{i.groups=i.groups.filter(({groupId:s})=>t.includes(s)?(r.push(s),!1):!0);for(const s of i.groups)s.items=s.items.filter(o=>{const a=H9(o);return t.includes(a)?(r.push(a),!1):!0})});for(const i of t)r.includes(i)||Rt("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:i})}function qO(n,e,t){const r=[];if(t.length!=0){for(const i of t){const s=J2e(i.position),o=Q2e(i.position);if(K2e(i))if(!o)s==="start"?(e.items.unshift(i.menu),r.push(i)):s==="end"&&(e.items.push(i.menu),r.push(i));else{const a=e.items.findIndex(l=>l.menuId===o);a!=-1?s==="before"?(e.items.splice(a,0,i.menu),r.push(i)):s==="after"&&(e.items.splice(a+1,0,i.menu),r.push(i)):GO(e,i.menu,o,s)&&r.push(i)}else X2e(i)?wh(e.items,a=>{if(a.menuId===o)s==="start"?(a.groups.unshift(i.group),r.push(i)):s==="end"&&(a.groups.push(i.group),r.push(i));else{const l=a.groups.findIndex(u=>u.groupId===o);l!==-1&&(s==="before"?(a.groups.splice(l,0,i.group),r.push(i)):s==="after"&&(a.groups.splice(l+1,0,i.group),r.push(i)))}}):GO(e,i.item,o,s)&&r.push(i)}for(const i of t)r.includes(i)||Rt("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:i})}}function GO(n,e,t,r){let i=!1;return wh(n.items,s=>{for(const{groupId:o,items:a}of s.groups){if(i)return;if(o===t)r==="start"?(a.unshift(e),i=!0):r==="end"&&(a.push(e),i=!0);else{const l=a.findIndex(u=>H9(u)===t);l!==-1&&(r==="before"?(a.splice(l,0,e),i=!0):r==="after"&&(a.splice(l+1,0,e),i=!0))}}}),i}function G2e(n,e,t){wh(e.items,r=>{for(const i of r.groups)i.items=i.items.filter(s=>{const o=typeof s=="string"&&!t.has(s);return o&&!e.isUsingDefaultConfig&&Rt("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:OC(r),componentName:s}),!o})})}function z9(n,e){const t=e.isUsingDefaultConfig;let r=!1;if(e.items=e.items.filter(i=>i.groups.length?!0:(lE(n,i,t),!1)),!e.items.length){lE(n,n,t);return}wh(e.items,i=>{i.groups=i.groups.filter(s=>s.items.length?!0:(r=!0,!1));for(const s of i.groups)s.items=s.items.filter(o=>$9(o)&&!o.groups.length?(lE(n,o,t),r=!0,!1):!0)}),r&&z9(n,e)}function lE(n,e,t){t||Rt("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:e})}function Y2e(n,e){const t=e.t,r={File:t({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:t({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:t({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:t({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:t({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:t({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:t({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:t({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:t({string:"Font",id:"MENU_BAR_MENU_FONT"})};wh(n.items,i=>{i.label in r&&(i.label=r[i.label])})}function wh(n,e){if(Array.isArray(n))for(const r of n)t(r);function t(r){e(r);for(const i of r.groups)for(const s of i.items)$9(s)&&t(s)}}function K2e(n){return typeof n=="object"&&"menu"in n}function X2e(n){return typeof n=="object"&&"group"in n}function J2e(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function Q2e(n){const e=n.match(/^[^:]+:(.+)/);return e?e[1]:null}function H9(n){return typeof n=="string"?n:n.menuId}function $9(n){return typeof n=="object"&&"menuId"in n}class Z2e extends qt(){editor;componentFactory;focusTracker;tooltipManager;poweredBy;evaluationBadge;ariaLiveAnnouncer;isReady=!1;_editableElementsMap=new Map;_focusableToolbarDefinitions=[];_extraMenuBarElements=[];_lastFocusedForeignElement=null;_domEmitter;constructor(e){super();const t=e.editing.view;this.editor=e,this.componentFactory=new B2e(e),this.focusTracker=new Yt,this.tooltipManager=new di(e),this.poweredBy=new s2e(e),this.evaluationBadge=new U2e(e),this.ariaLiveAnnouncer=new Hxe(e),this._initViewportOffset(this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking(),this._initVisualViewportSupport()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._domEmitter&&this._domEmitter.stopListening()}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}extendMenuBar(e){this._extraMenuBarElements.push(e)}initMenuBar(e){const t=e.element;this.focusTracker.add(t),this.editor.keystrokes.listenTo(t);const r=W2e(this.editor.config.get("menuBar")||{});e.fillFromConfig(r,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(i,s)=>{t.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),s())}),this.editor.keystrokes.set("Alt+F9",(i,s)=>{t.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),s())})}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor;let t;e.keystrokes.set("Alt+F10",(r,i)=>{this._saveLastFocusedForeignElement();const s=this._getCurrentFocusedToolbarDefinition();(!s||!t)&&(t=this._getFocusableCandidateToolbarDefinitions());for(let o=0;o<t.length;o++){const a=t.shift();if(t.push(a),a!==s&&this._focusFocusableCandidateToolbar(a)){s&&s.options.afterBlur&&s.options.afterBlur();break}}i()}),e.keystrokes.set("Esc",(r,i)=>{const s=this._getCurrentFocusedToolbarDefinition();s&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),s.options.afterBlur&&s.options.afterBlur(),i())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:r,options:i}=t;(aa(r.element)||i.beforeFocus)&&e.push(t)}return e.sort((t,r)=>YO(t)-YO(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:r}}=e;return r&&r(),aa(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const r={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=r.top,t.viewportOffset.bottom+=r.bottom,t.viewportOffset.left+=r.left,t.viewportOffset.right+=r.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const t of e)this.focusTracker.add(t.element);e.on("add",(t,r)=>{this.focusTracker.add(r.element)}),e.on("remove",(t,r)=>{this.focusTracker.remove(r.element)})}_initViewportOffset(e){this.on("set:viewportOffset",(t,r,i)=>{const s=this._getVisualViewportTopOffset(i);i.visualTop!==s&&(t.return={...i,visualTop:s})}),this.set("viewportOffset",e)}_initVisualViewportSupport(){if(!qe.window.visualViewport)return;const e=()=>{const t=this._getVisualViewportTopOffset(this.viewportOffset);this.viewportOffset.visualTop!==t&&(this.viewportOffset={...this.viewportOffset,visualTop:t})};this._domEmitter=new(Ei()),this._domEmitter.listenTo(qe.window.visualViewport,"scroll",e),this._domEmitter.listenTo(qe.window.visualViewport,"resize",e)}_getVisualViewportTopOffset(e){const t=Lge().top,r=e.top||0;return t>r?0:r-t}}function YO(n){const{toolbarView:e,options:t}=n;let r=10;return aa(e.element)&&r--,t.isContextual&&(r-=2),r}class eEe extends Le{body;menuBarView;toolbar;constructor(e){super(e),this.body=new ao(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class tEe extends Le{name=null;_editingView;_editableElement;_hasExternalElement;constructor(e,t,r){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?r(this):t(this);function t(i){e.change(s=>{const o=e.document.getRoot(i.name);s.addClass(i.isFocused?"ck-focused":"ck-blurred",o),s.removeClass(i.isFocused?"ck-blurred":"ck-focused",o)})}function r(i){e.once("change:isRenderingInProgress",(s,o,a)=>{a?r(i):t(i)})}}}class nEe extends tEe{_options;constructor(e,t,r,i={}){super(e,t,r),this._options=i,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(t=>{const r=e.document.getRoot(this.name);t.setAttribute("aria-label",this.getEditableAriaLabel(),r)})}getEditableAriaLabel(){const e=this.locale.t,t=this._options.label,r=this._editableElement,i=this.name;if(typeof t=="string")return t;if(typeof t=="object")return t[i];if(typeof t=="function")return t(this);if(r){const s=r.getAttribute("aria-label");if(s)return s}return e("Rich Text Editor. Editing area: %0",i)}}class jr extends Le{children;constructor(e,t={}){super(e);const r=this.bindTemplate;this.set("class",["ck","ck-form__row",...Gt(t.class||[])]),this.children=this.createCollection(),t.children&&t.children.forEach(i=>this.children.add(i)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:r.to("class",i=>i.join(" ")),role:r.to("_role"),"aria-labelledby":r.to("_ariaLabelledBy")},children:this.children})}}class KO extends Ev{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class fc extends qt(){constructor(e,t){super(),t&&Zve(this,t),e&&this.set(e)}}const K1=gh("px");class No extends ee{positionLimiter;visibleStack;_viewToStack=new Map;_idToStack=new Map;_view=null;_rotatorView=null;_fakePanelsView=null;static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.positionLimiter=()=>{const t=this.editor.editing.view,i=t.document.selection.editableElement;return i?t.domConverter.mapViewToDom(i.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new q("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const r=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),r.set(e.view,e),this._viewToStack.set(e.view,r),r===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new q("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:{...this.editor.ui.viewportOffset,top:this.editor.ui.viewportOffset.visualTop}})),e}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new q("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Bn(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(r=>r[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new rEe(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(r,i)=>!i&&r>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(r,i)=>{if(i<2)return"";const s=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[s,i])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new iEe(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,r)=>!r&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:r=!0,singleViewMode:i=!1}){this.view.class=t,this.view.withArrow=r,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}}class rEe extends Le{focusTracker;buttonPrevView;buttonNextView;content;constructor(e){super(e);const t=e.t,r=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Yt,this.buttonPrevView=this._createButtonView(t("Previous"),uc),this.buttonNextView=this._createButtonView(t("Next"),f9),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",r.to("isNavigationVisible",i=>i?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:r.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const r=new et(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r}}class iEe extends Le{content;_balloonPanelView;constructor(e,t){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",r.to("numberOfPanels",i=>i?"":"ck-hidden")],style:{top:r.to("top",K1),left:r.to("left",K1),width:r.to("width",K1),height:r.to("height",K1)}},children:this.content}),this.on("change:numberOfPanels",(i,s,o,a)=>{o>a?this._addPanels(o-a):this._removePanels(a-o),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Le;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:r,height:i}=new bt(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:r,height:i})}}}const sEe=gh("px");class oEe extends ee{toolbarView;focusTracker;_balloonConfig;_resizeObserver=null;_balloon;_fireSelectionChangeDebounced;static get pluginName(){return"BalloonToolbar"}static get isOfficialPlugin(){return!0}static get requires(){return[No]}constructor(e){super(e),this._balloonConfig=F9(e.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new Yt,this._trackFocusableEditableElements(),this.focusTracker.add(this.toolbarView),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=e.plugins.get(No),this._fireSelectionChangeDebounced=c0(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}init(){const e=this.editor,t=e.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(r,i,s)=>{const o=this._balloon.visibleView===this.toolbarView;!s&&o?this.hide():s&&this.show()}),this.listenTo(t,"change:range",(r,i)=>{(i.directChange||t.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(e,"ready",()=>{const r=e.ui.view.editable.element;this._resizeObserver=new Cn(r,i=>{this.toolbarView.maxWidth=sEe(i.contentRect.width*.9)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()}),e.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory)})}_createToolbarView(){const e=this.editor.locale.t,t=!this._balloonConfig.shouldNotGroupWhenFull,r=new dc(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return r.ariaLabel=e("Editor contextual toolbar"),r.render(),r}show(e=!1){const t=this.editor,r=t.model.document.selection,i=t.model.schema;this._balloon.hasView(this.toolbarView)||r.isCollapsed&&!e||aEe(r,i)||Array.from(this.toolbarView.items).every(s=>s.isEnabled!==void 0&&!s.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_trackFocusableEditableElements(){const{editor:e,focusTracker:t}=this,{editing:r}=e;r.view.addObserver(class extends Oo{observe(s){t.add(s)}stopObserving(s){t.remove(s)}})}_getBalloonPositionData(){const t=this.editor.editing.view,r=t.document,i=r.selection,s=r.selection.isBackward;return{target:()=>{const o=s?i.getFirstRange():i.getLastRange(),a=bt.getDomRangeRects(t.domConverter.viewRangeToDom(o));return s?a[0]:(a.length>1&&a[a.length-1].width===0&&a.pop(),a[a.length-1])},positions:this._getBalloonPositions(s)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(e){const r=st.isSafari&&st.isiOS?Bn.generatePositions({heightOffset:Math.max(Bn.arrowHeightOffset,Math.round(20/qe.window.visualViewport.scale))}):Bn.defaultPositions;return e?[r.northWestArrowSouth,r.northWestArrowSouthWest,r.northWestArrowSouthEast,r.northWestArrowSouthMiddleEast,r.northWestArrowSouthMiddleWest,r.southWestArrowNorth,r.southWestArrowNorthWest,r.southWestArrowNorthEast,r.southWestArrowNorthMiddleWest,r.southWestArrowNorthMiddleEast]:[r.southEastArrowNorth,r.southEastArrowNorthEast,r.southEastArrowNorthWest,r.southEastArrowNorthMiddleEast,r.southEastArrowNorthMiddleWest,r.northEastArrowSouth,r.northEastArrowSouthEast,r.northEastArrowSouthWest,r.northEastArrowSouthMiddleEast,r.northEastArrowSouthMiddleWest]}}function aEe(n,e){return n.rangeCount===1?!1:[...n.getRanges()].every(t=>{const r=t.getContainedElement();return r&&e.isSelectable(r)})}class lEe extends ph{arrowView;constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new pa;return e.content=Sv,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class cEe extends Le{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",r=>`ck-menu-bar__menu__panel_position_${r}`),t.if("isVisible","ck-hidden",r=>!r)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}class zi extends Le{buttonView;panelView;focusTracker;keystrokes;constructor(e){super(e);const t=this.bindTemplate;this.buttonView=new lEe(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new cEe(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new bn,this.focusTracker=new Yt,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",r=>!r),t.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Gl.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Gl.openOnButtonClick(this),Gl.openOnArrowRightKey(this),Gl.closeOnArrowLeftKey(this),Gl.openAndFocusOnEnterKeyPress(this),Gl.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Gl.openAndFocusPanelOnArrowDownKey(this),Gl.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,t)=>{this.fire("arrowright"),t()}),this.keystrokes.set("arrowleft",(e,t)=>{this.fire("arrowleft"),t()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,t,r)=>{if(!r)return;const i=zi._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=i?i.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:r,northWest:i,westSouth:s,eastSouth:o,westNorth:a,eastNorth:l}=H2e;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[o,l,s,a]:[e,t,r,i]:this.parentMenuView?[s,a,o,l]:[t,e,i,r]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}static _getOptimalPosition=eC}class hc extends bh{constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const e=Array.from(this.items).some(t=>{const r=XO(t);return r&&r.isToggleable});this.items.forEach(t=>{const r=XO(t);r&&(r.hasCheckSpace=e)})}}function XO(n){return n instanceof Ao?n.children.map(e=>uEe(e)?e.buttonView:e).find(e=>e instanceof ph):null}function uEe(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof et}class W9 extends a2e{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const JO=["mouseenter","arrowleft","arrowright","change:isOpen"];class dEe extends Le{children;menus=[];constructor(e){super(e);const t=e.t,r=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",r.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t,r=[]){const i=this.locale,o=j2e({normalizedConfig:e,locale:i,componentFactory:t,extraItems:r}).items.map(a=>this._createMenu({componentFactory:t,menuDefinition:a}));this.children.addMany(o)}render(){super.render(),Wd.toggleMenusAndFocusItemsOnHover(this),Wd.closeMenusWhenTheBarCloses(this),Wd.closeMenuWhenAnotherOnTheSameLevelOpens(this),Wd.focusCycleMenusOnArrows(this),Wd.closeOnClickOutside(this),Wd.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}disable(){for(const e of this.children)e.isEnabled=!1}enable(){for(const e of this.children)e.isEnabled=!0}registerMenu(e,t=null){t?(e.delegate(...JO).to(t),e.parentMenuView=t):e.delegate(...JO).to(this,r=>"menu:"+r),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:r}){const i=this.locale,s=new zi(i);return this.registerMenu(s,r),s.buttonView.set({label:t.label}),s.once("change:isOpen",()=>{const o=new hc(i);o.ariaLabel=t.label,s.panelView.children.add(o),o.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:s,componentFactory:e}))}),s}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:r}){const i=this.locale,s=[];for(const o of e.groups){for(const a of o.items){const l=new dl(i,t);if(Fy(a))l.children.add(this._createMenu({componentFactory:r,menuDefinition:a,parentMenuView:t}));else{const u=this._createMenuItemContentFromFactory({componentName:a,componentFactory:r,parentMenuView:t});if(!u)continue;l.children.add(u)}s.push(l)}o!==e.groups[e.groups.length-1]&&s.push(new Cv(i))}return s}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:r}){const i=r.create(e);return i instanceof zi||i instanceof xn||i instanceof W9?(this._registerMenuTree(i,t),i.on("execute",()=>{this.close()}),i):(Rt("menu-bar-component-unsupported",{componentName:e,componentView:i}),null)}_registerMenuTree(e,t){if(!(e instanceof zi)){e.delegate("mouseenter").to(t);return}this.registerMenu(e,t);const r=e.panelView.children.filter(s=>s instanceof hc)[0];if(!r){e.delegate("mouseenter").to(t);return}const i=r.items.filter(s=>s instanceof Ao);for(const s of i)this._registerMenuTree(s.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,r,i)=>{clearTimeout(e),i?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(s=>s.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const YC=["left","right","center","justify"];function j9(n){return YC.includes(n)}function q9(n,e){return e.contentLanguageDirection=="rtl"?n==="right":n==="left"}function G9(n){const e=n.map(r=>{let i;return typeof r=="string"?i={name:r}:i=r,i}).filter(r=>{const i=YC.includes(r.name);return i||Rt("alignment-config-name-not-recognized",{option:r}),i}),t=e.filter(r=>!!r.className).length;if(t&&t<e.length)throw new q("alignment-config-classnames-are-missing",{configuredOptions:n});return e.forEach((r,i,s)=>{const o=s.slice(i+1);if(o.some(l=>l.name==r.name))throw new q("alignment-config-name-already-defined",{option:r,configuredOptions:n});if(r.className&&o.some(u=>u.className==r.className))throw new q("alignment-config-classname-already-defined",{option:r,configuredOptions:n})}),e}const KC="alignment";class fEe extends lt{refresh(){const t=this.editor.locale,r=_n(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!r&&this._canBeAligned(r),this.isEnabled&&r.hasAttribute("alignment")?this.value=r.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,r=t.locale,i=t.model,s=i.document,o=e.value;i.change(a=>{const l=Array.from(s.selection.getSelectedBlocks()).filter(m=>this._canBeAligned(m)),u=l[0].getAttribute("alignment");q9(o,r)||u===o||!o?hEe(l,a):mEe(l,a,o)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,KC)}}function hEe(n,e){for(const t of n)e.removeAttribute(KC,t)}function mEe(n,e,t){for(const r of n)e.setAttribute(KC,t,r)}class gEe extends ee{static get pluginName(){return"AlignmentEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("alignment",{options:YC.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,r=e.model.schema,s=G9(e.config.get("alignment.options")).filter(u=>j9(u.name)&&!q9(u.name,t)),o=s.some(u=>!!u.className);r.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?e.conversion.attributeToAttribute(wEe(s)):e.conversion.for("downcast").attributeToAttribute(pEe(s));const a=bEe(s);for(const u of a)e.conversion.for("upcast").attributeToAttribute(u);const l=yEe(s);for(const u of l)e.conversion.for("upcast").attributeToAttribute(u);e.commands.add("alignment",new fEe(e))}}function pEe(n){const e={};for(const{name:r}of n)e[r]={key:"style",value:{"text-align":r}};return{model:{key:"alignment",values:n.map(r=>r.name)},view:e}}function bEe(n){const e=[];for(const{name:t}of n)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function yEe(n){const e=[];for(const{name:t}of n)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function wEe(n){const e={};for(const r of n)e[r.name]={key:"class",value:r.className};return{model:{key:"alignment",values:n.map(r=>r.name)},view:e}}const Dm=new Map([["left",DC],["right",l9],["center",o9],["justify",a9]]);class vEe extends ee{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=G9(e.config.get("alignment.options"));t.map(r=>r.name).filter(j9).forEach(r=>this._addButton(r)),this._addToolbarDropdown(t),this._addMenuBarMenu(t)}_addButton(e){this.editor.ui.componentFactory.add(`alignment:${e}`,r=>this._createButton(r,e))}_createButton(e,t,r={}){const i=this.editor,s=i.commands.get("alignment"),o=new et(e);return o.set({label:this.localizedOptionTitles[t],icon:Dm.get(t),tooltip:!0,isToggleable:!0,...r}),o.bind("isEnabled").to(s),o.bind("isOn").to(s,"value",a=>a===t),this.listenTo(o,"execute",()=>{i.execute("alignment",{value:t}),i.editing.view.focus()}),o}_addToolbarDropdown(e){const t=this.editor;t.ui.componentFactory.add("alignment",i=>{const s=kr(i),o=i.uiLanguageDirection==="rtl"?"w":"e",a=i.t;tp(s,()=>e.map(f=>this._createButton(i,f.name,{tooltipPosition:o})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:a("Text alignment toolbar")}),s.buttonView.set({label:a("Text alignment"),tooltip:!0}),s.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const l=i.contentLanguageDirection==="rtl"?Dm.get("right"):Dm.get("left"),u=t.commands.get("alignment");return s.buttonView.bind("icon").to(u,"value",f=>Dm.get(f)||l),s.bind("isEnabled").to(u,"isEnabled"),this.listenTo(s,"execute",()=>{t.editing.view.focus()}),s})}_addMenuBarMenu(e){const t=this.editor;t.ui.componentFactory.add("menuBar:alignment",r=>{const i=t.commands.get("alignment"),s=r.t,o=new zi(r),a=new hc(r);o.bind("isEnabled").to(i),a.set({ariaLabel:s("Text alignment"),role:"menu"}),o.buttonView.set({label:s("Text alignment")});for(const l of e){const u=new dl(r,o),f=new xn(r);f.delegate("execute").to(o),f.set({label:this.localizedOptionTitles[l.name],icon:Dm.get(l.name),role:"menuitemcheckbox",isToggleable:!0}),f.on("execute",()=>{t.execute("alignment",{value:l.name}),t.editing.view.focus()}),f.bind("isOn").to(i,"value",m=>m===l.name),f.bind("isEnabled").to(i,"isEnabled"),u.children.add(f),a.items.add(u)}return o.panelView.children.add(a),o})}}class _Ee extends ee{static get requires(){return[gEe,vEe]}static get pluginName(){return"Alignment"}static get isOfficialPlugin(){return!0}}function xEe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function EEe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=xEe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function Y9(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(Y9).join(",");const e=String(n);return e==="0"&&Object.is(Number(n),-0)?"-0":e}function kEe(n){return n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}function TEe(n){return kEe(Y9(n))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class K9{model;limit;_isLocked;_size;_batch=null;_changeCallback;_selectionChangeCallback;constructor(e,t=20){this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(r,i)=>{i.isLocal&&i.isUndoable&&i!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}class SEe extends lt{_buffer;constructor(e,t){super(e),this._buffer=new K9(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,r=t.document,i=e.text||"",s=i.length;let o=r.selection;if(e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range)),!t.canEditAt(o))return;const a=e.resultRange;t.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const u=Array.from(r.selection.getAttributes());t.deleteContent(o),i&&t.insertContent(l.createText(i,u),o),a?l.setSelection(a):o.is("documentSelection")||l.setSelection(o),this._buffer.unlock(),this._buffer.input(s)})}}const X9=["insertText","insertReplacementText"],CEe=[...X9,"insertCompositionText"];class AEe extends Oo{focusObserver;constructor(e){super(e),this.focusObserver=e.getObserver(Ry);const t=st.isAndroid?CEe:X9,r=e.document;r.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{data:o,targetRanges:a,inputType:l,domEvent:u,isComposing:f}=s;if(!t.includes(l))return;this.focusObserver.flush();const m=new ul(r,"insertText");r.fire(m,new Au(e,u,{text:o,selection:e.createSelection(a),isComposing:f})),m.stop.called&&i.stop()}),st.isAndroid||r.on("compositionend",(i,{data:s,domEvent:o})=>{this.isEnabled&&s&&r.fire("insertText",new Au(e,o,{text:s,isComposing:!0}))},{priority:"low"})}observe(){}stopObserving(){}}class J9 extends ee{_typingQueue;static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model,r=e.editing.view,i=e.editing.mapper,s=t.document.selection;this._typingQueue=new NEe(e),r.addObserver(AEe);const o=new SEe(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",o),e.commands.add("input",o),this.listenTo(r.document,"beforeinput",()=>{this._typingQueue.flush("next beforeinput")},{priority:"high"}),this.listenTo(r.document,"insertText",(a,l)=>{const{text:u,selection:f}=l;if(r.document.selection.isFake&&f&&r.document.selection.isSimilar(f)&&l.preventDefault(),f&&Array.from(f.getRanges()).some(v=>!v.isCollapsed)&&l.preventDefault(),!o.isEnabled){l.preventDefault();return}let m;f?m=Array.from(f.getRanges()).map(v=>i.toModelRange(v)).map(v=>AC(v,t.schema)||v):m=Array.from(s.getRanges());let p=u;if(st.isAndroid){const v=Array.from(m[0].getItems()).reduce((w,E)=>w+(E.is("$textProxy")?E.data:""),"");if(v&&(v.length<=p.length?p.startsWith(v)&&(p=p.substring(v.length),m[0].start=m[0].start.getShiftedBy(v.length)):v.startsWith(p)&&(m[0].start=m[0].start.getShiftedBy(p.length),p="")),p.length==0&&m[0].isCollapsed)return}const y={text:p,selection:t.createSelection(m)};this._typingQueue.push(y,!!l.isComposing),l.domEvent.defaultPrevented&&this._typingQueue.flush("beforeinput default prevented")}),st.isAndroid?this.listenTo(r.document,"keydown",(a,l)=>{s.isCollapsed||l.keyCode!=229||!r.document.isComposing||QO(t,o)}):this.listenTo(r.document,"compositionstart",()=>{s.isCollapsed||QO(t,o)},{priority:"high"}),this.listenTo(r.document,"mutations",(a,{mutations:l})=>{if(this._typingQueue.hasAffectedElements())for(const{node:u}of l){const f=IEe(u,i),m=i.toModelElement(f);if(this._typingQueue.isElementAffected(m)){this._typingQueue.flush("mutations");return}}}),this.listenTo(r.document,"compositionend",()=>{this._typingQueue.flush("before composition end")},{priority:"high"}),this.listenTo(r.document,"compositionend",()=>{this._typingQueue.flush("after composition end");const a=[];if(this._typingQueue.hasAffectedElements())for(const l of this._typingQueue.flushAffectedElements()){const u=i.toViewElement(l);u&&a.push({type:"children",node:u})}(a.length||!st.isAndroid)&&r.document.fire("mutations",{mutations:a})},{priority:"lowest"})}destroy(){super.destroy(),this._typingQueue.destroy()}}class NEe{editor;flushDebounced=EEe(()=>this.flush("timeout"),50);_queue=[];_isComposing=!1;_affectedElements=new Set;constructor(e){this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._affectedElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e,t){const r={text:e.text};if(e.selection){r.selectionRanges=[];for(const i of e.selection.getRanges())r.selectionRanges.push(Di.fromRange(i)),this._affectedElements.add(i.start.parent)}this._queue.push(r),this._isComposing||=t,this.flushDebounced()}shift(){const e=this._queue.shift(),t={text:e.text};if(e.selectionRanges){const r=e.selectionRanges.map(i=>PEe(i)).filter(i=>!!i);r.length&&(t.selection=this.editor.model.createSelection(r))}return t}flush(e){const t=this.editor,r=t.model,i=t.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const o=t.commands.get("insertText").buffer;r.enqueueChange(o.batch,()=>{for(o.lock();this._queue.length;){const a=this.shift();t.execute("insertText",a)}o.unlock(),this._isComposing||this._affectedElements.clear(),this._isComposing=!1}),i.scrollToTheSelection()}isElementAffected(e){return this._affectedElements.has(e)}hasAffectedElements(){return this._affectedElements.size>0}flushAffectedElements(){const e=Array.from(this._affectedElements);return this._affectedElements.clear(),e}}function QO(n,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}function PEe(n){const e=n.toRange();return n.detach(),e.root.rootName=="$graveyard"?null:e}function IEe(n,e){let t=n.is("$text")?n.parent:n;for(;!e.toModelElement(t);)t=t.parent;return t}class ZO extends lt{direction;_buffer;constructor(e,t){super(e),this.direction=t,this._buffer=new K9(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,r=t.document;t.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const s=i.createSelection(e.selection||r.selection);if(!t.canEditAt(s))return;const o=e.sequence||1,a=s.isCollapsed;if(s.isCollapsed&&t.modifySelection(s,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(i);return}if(this._shouldReplaceFirstBlockWithParagraph(s,o)){this.editor.execute("paragraph",{selection:s});return}if(s.isCollapsed)return;let l=0;s.getFirstRange().getMinimalFlatRanges().forEach(u=>{l+=Ak(u.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(s,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),i.setSelection(s),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,i=t.document.selection,s=t.schema.getLimitElement(i);if(!(i.isCollapsed&&i.containsEntireContent(s))||!t.schema.checkChild(s,"paragraph"))return!1;const a=s.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,i=t.document.selection,s=t.schema.getLimitElement(i),o=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(o,s),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const r=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const i=e.getFirstPosition(),s=r.schema.getLimitElement(i),o=s.getChild(0);return!(i.parent!=o||!e.containsEntireContent(o)||!r.schema.checkChild(s,"paragraph")||o.name=="paragraph")}}const REe="character",e6="word",OEe="codePoint",Kl="selection",rf="backward",Qm="forward",Q9={deleteContent:{unit:Kl,direction:rf},deleteContentBackward:{unit:OEe,direction:rf},deleteWordBackward:{unit:e6,direction:rf},deleteHardLineBackward:{unit:Kl,direction:rf},deleteSoftLineBackward:{unit:Kl,direction:rf},deleteContentForward:{unit:REe,direction:Qm},deleteWordForward:{unit:e6,direction:Qm},deleteHardLineForward:{unit:Kl,direction:Qm},deleteSoftLineForward:{unit:Kl,direction:Qm}};class MEe extends Oo{constructor(e){super(e);const t=e.document;let r=0;t.on("keydown",()=>{r++}),t.on("keyup",()=>{r=0}),t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=s,u=Q9[l];if(!u)return;const f={direction:u.direction,unit:u.unit,sequence:r};f.unit==Kl&&(f.selectionToRemove=e.createSelection(o[0])),l==="deleteContentBackward"&&(st.isAndroid&&(f.sequence=1),FEe(o)&&(f.unit=Kl,f.selectionToRemove=e.createSelection(o)));const m=new zu(t,"delete",o[0]);t.fire(m,new Au(e,a,f)),m.stop.called&&i.stop()}),st.isBlink&&DEe(this)}observe(){}stopObserving(){}}function DEe(n){const e=n.view,t=e.document;let r=null,i=!1;t.on("keydown",(a,{keyCode:l})=>{r=l,i=!1}),t.on("keyup",(a,{keyCode:l,domEvent:u})=>{const f=t.selection,m=n.isEnabled&&l==r&&s(l)&&!f.isCollapsed&&!i;if(r=null,m){const p=f.getFirstRange(),y=new zu(t,"delete",p),v={unit:Kl,direction:o(l),selectionToRemove:f};t.fire(y,new Au(e,u,v))}}),t.on("beforeinput",(a,{inputType:l})=>{const u=Q9[l];s(r)&&u&&u.direction==o(r)&&(i=!0)},{priority:"high"}),t.on("beforeinput",(a,{inputType:l,data:u})=>{r==xt.delete&&l=="insertText"&&u==""&&a.stop()},{priority:"high"});function s(a){return a==xt.backspace||a==xt.delete}function o(a){return a==xt.backspace?rf:Qm}}function FEe(n){if(n.length!=1||n[0].isCollapsed)return!1;const e=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:r,item:i}of e){if(r.parent.is("$text")){const s=r.parent.data,o=r.offset;if(iC(s,o)||sC(s,o)||UB(s,o))continue;t++}else(i.is("containerElement")||i.is("emptyElement"))&&t++;if(t>1)return!0}return!1}class _c extends ee{_undoOnBackspace;static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,r=t.document,i=e.model.document;t.addObserver(MEe),this._undoOnBackspace=!1;const s=new ZO(e,"forward");e.commands.add("deleteForward",s),e.commands.add("forwardDelete",s),e.commands.add("delete",new ZO(e,"backward")),this.listenTo(r,"delete",(o,a)=>{r.isComposing||a.preventDefault();const{direction:l,sequence:u,selectionToRemove:f,unit:m}=a,p=l==="forward"?"deleteForward":"delete",y={sequence:u};if(m=="selection"){const v=Array.from(f.getRanges()).map(w=>e.editing.mapper.toModelRange(w)).map(w=>AC(w,e.model.schema)||w);y.selection=e.model.createSelection(v)}else y.unit=m;e.execute(p,y),t.scrollToTheSelection()},{priority:"low"}),this.listenTo(r,"keydown",(o,a)=>{if(r.isComposing||a.keyCode!=xt.backspace||!i.selection.isCollapsed)return;const l=e.model.schema.getLimitElement(i.selection),u=e.model.createPositionAt(l,0);if(u.isTouching(i.selection.getFirstPosition())){a.preventDefault();const f=e.model.schema.getNearestSelectionRange(u,"forward");if(!f)return;const m=t.createSelection(e.editing.mapper.toViewRange(f)),p=m.getFirstRange(),y=new zu(document,"delete",p),v={unit:"selection",direction:"backward",selectionToRemove:m};r.fire(y,new Au(t,a.domEvent,v))}}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(o,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(i,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Z9 extends ee{static get requires(){return[J9,_c]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function eU(n,e){let t=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((i,{item:s})=>s.is("$text")||s.is("$textProxy")?i+s.data:(t=e.createPositionAfter(s),""),""),range:e.createRange(t,n.end)}}class tU extends qt(){model;testCallback;_hasMatch;constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(r,{directChange:i})=>{if(i){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(r,i)=>{i.isUndo||!i.isLocal||this._evaluateTextBeforeSelection("data",{batch:i})})}_evaluateTextBeforeSelection(e,t={}){const r=this.model,s=r.document.selection,o=r.createRange(r.createPositionAt(s.focus.parent,0),s.focus),{text:a,range:l}=eU(o,r),u=this.testCallback(a);if(!u&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!u,u){const f=Object.assign(t,{text:a,range:l});typeof u=="object"&&Object.assign(f,u),this.fire(`matched:${e}`,f)}}}class zy extends ee{attributes;_overrideUid;_isNextGravityRestorationSkipped=!1;static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,r=e.editing.view,i=e.locale,s=t.document.selection;this.listenTo(r.document,"arrowKey",(o,a)=>{if(!s.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const l=a.keyCode==xt.arrowright,u=a.keyCode==xt.arrowleft;if(!l&&!u)return;const f=i.contentLanguageDirection;let m=!1;f==="ltr"&&l||f==="rtl"&&u?m=this._handleForwardMovement(a):m=this._handleBackwardMovement(a),m===!0&&o.stop()},{context:"$text",priority:"highest"}),this.listenTo(s,"change:range",(o,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&Ls(s.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,r=this.editor.model,i=r.document.selection,s=i.getFirstPosition();return this._isGravityOverridden||s.isAtStart&&Ba(i,t)?!1:Ls(s,t)?(e&&Lm(e),Ba(i,t)&&Ls(s,t,!0)?Fm(r,t):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,r=this.editor.model,i=r.document.selection,s=i.getFirstPosition();return this._isGravityOverridden?(e&&Lm(e),this._restoreGravity(),Ls(s,t,!0)?Fm(r,t):X1(r,t,s),!0):s.isAtStart?Ba(i,t)?(e&&Lm(e),X1(r,t,s),!0):!1:!Ba(i,t)&&Ls(s,t,!0)?(e&&Lm(e),X1(r,t,s),!0):t6(s,t)?s.isAtEnd&&!Ba(i,t)&&Ls(s,t)?(e&&Lm(e),X1(r,t,s),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,t=e.model,r=t.document.selection,i=e.editing.view.document;e.editing.view.addObserver(PC),e.editing.view.addObserver($ye);let s=!1,o=!1;this.listenTo(i,"touchstart",()=>{o=!1,s=!0}),this.listenTo(i,"mousedown",()=>{o=!0}),this.listenTo(i,"selectionChange",()=>{const a=this.attributes;if(!o&&!s||(o=!1,s=!1,!r.isCollapsed)||!Ba(r,a))return;const l=r.getFirstPosition();Ls(l,a)&&(l.isAtStart||Ls(l,a,!0)?Fm(t,a):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,r=t.document.selection,i=this.attributes;this.listenTo(t,"insertContent",()=>{const s=r.getFirstPosition();Ba(r,i)&&Ls(s,i)&&Fm(t,i)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,r=t.document.selection,i=e.editing.view;let s=!1,o=!1;this.listenTo(i.document,"delete",(a,l)=>{s=l.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!s)return;const a=r.getFirstPosition();o=Ba(r,this.attributes)&&!t6(a,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{s&&(s=!1,!o&&e.model.enqueueChange(()=>{const a=r.getFirstPosition();Ba(r,this.attributes)&&Ls(a,this.attributes)&&(a.isAtStart||Ls(a,this.attributes,!0)?Fm(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Ba(n,e){for(const t of e)if(n.hasAttribute(t))return!0;return!1}function X1(n,e,t){const r=t.nodeBefore;n.change(i=>{if(r){const s=[],o=n.schema.isObject(r)&&n.schema.isInline(r);for(const[a,l]of r.getAttributes())n.schema.checkAttribute("$text",a)&&(!o||n.schema.getAttributeProperties(a).copyFromObject!==!1)&&s.push([a,l]);i.setSelectionAttribute(s)}else i.removeSelectionAttribute(e)})}function Fm(n,e){n.change(t=>{t.removeSelectionAttribute(e)})}function Lm(n){n.preventDefault()}function t6(n,e){const t=n.getShiftedBy(-1);return Ls(t,e)}function Ls(n,e,t=!1){const{nodeBefore:r,nodeAfter:i}=n;for(const s of e){const o=r?r.getAttribute(s):void 0,a=i?i.getAttribute(s):void 0;if(!(t&&(o===void 0||a===void 0))&&a!==o)return!0}return!1}const n6={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:jd('"'),to:[null,"",null,""]},quotesSecondary:{from:jd("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:jd("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:jd('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:jd('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:jd("'"),to:[null,"",null,""]}},r6={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},LEe=["symbols","mathematical","typography","quotes"];class BEe extends ee{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("typing",{transformations:{include:LEe}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,r=e.plugins.get("Delete"),i=HEe(e.config.get("typing.transformations")),s=a=>{for(const l of i)if(l.from.test(a))return{normalizedTransformation:l}},o=new tU(e.model,s);o.on("matched:data",(a,l)=>{if(!l.batch.isTyping)return;const{from:u,to:f}=l.normalizedTransformation,m=u.exec(l.text),p=f(m.slice(1)),y=l.range;let v=m.index;t.enqueueChange(w=>{for(let E=1;E<m.length;E++){const k=m[E],T=p[E-1];if(T==null){v+=k.length;continue}const S=y.start.getShiftedBy(v),P=t.createRange(S,S.getShiftedBy(k.length)),I=zEe(S);t.insertContent(w.createText(T,I),P),v+=T.length}t.enqueueChange(()=>{r.requestUndoOnBackspace()})})}),o.bind("isEnabled").to(this)}}function VEe(n){return typeof n=="string"?new RegExp(`(${TEe(n)})$`):n}function UEe(n){return typeof n=="string"?()=>[n]:n instanceof Array?()=>n:n}function zEe(n){return(n.textNode?n.textNode:n.nodeAfter).getAttributes()}function jd(n){return new RegExp(`(^|\\s)(${n})([^${n}]*)(${n})$`)}function HEe(n){const e=n.extra||[],t=n.remove||[],r=s=>!t.includes(s),i=n.include.concat(e).filter(r);return $Ee(i).filter(r).map(s=>typeof s=="string"&&n6[s]?n6[s]:s).filter(s=>typeof s=="object").map(s=>({from:VEe(s.from),to:UEe(s.to)}))}function $Ee(n){const e=new Set;for(const t of n)if(typeof t=="string"&&r6[t])for(const r of r6[t])e.add(r);else e.add(t);return Array.from(e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function np(n,e,t,r){return r.createRange(qk(n,e,t,!0,r),qk(n,e,t,!1,r))}function qk(n,e,t,r,i){let s=n.textNode||(r?n.nodeBefore:n.nodeAfter),o=null;for(;s&&s.getAttribute(e)==t;)o=s,s=r?s.previousSibling:s.nextSibling;return o?i.createPositionAt(o,r?"before":"after"):n}function nU(n,e,t,r){const i=n.editing.view,s=new Set;i.document.registerPostFixer(o=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(e)){const u=np(a.getFirstPosition(),e,a.getAttribute(e),n.model),f=n.editing.mapper.toViewRange(u);for(const m of f.getItems())m.is("element",t)&&!m.hasClass(r)&&(o.addClass(r,m),s.add(m),l=!0)}return l}),n.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){i.change(l=>{for(const u of s.values())l.removeClass(r,u),s.delete(u)})}})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Yl(n,e,t,r){let i,s=null;typeof r=="function"?i=r:(s=n.commands.get(r),i=()=>{n.execute(r)}),n.model.document.on("change:data",(o,a)=>{if(s&&!s.isEnabled||!e.isEnabled)return;const l=_n(n.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const u=Array.from(n.model.document.differ.getChanges()),f=u[0];if(u.length!=1||f.type!=="insert"||f.name!="$text"||f.length!=1)return;const m=f.position.parent;if(m.is("element","codeBlock")||m.is("element","listItem")&&typeof r!="function"&&!["numberedList","bulletedList","todoList"].includes(r)||s&&s.value===!0)return;const p=m.getChild(0),y=n.model.createRangeOn(p);if(!y.containsRange(l)&&!l.end.isEqual(y.end))return;const v=t.exec(p.data.substr(0,l.end.offset));v&&n.model.enqueueChange(w=>{const E=n.model.document.selection,k=w.createPositionAt(m,0),T=w.createPositionAt(m,v[0].length),S=new Di(k,T);if(i({match:v})!==!1){const I=Array.from(E.getAttributes());w.remove(S);const R=E.getFirstRange(),A=w.createRangeIn(m);m.isEmpty&&!A.isEqual(R)&&!A.containsRange(R,!0)&&w.remove(m),WEe(w,E,I)}S.detach(),n.model.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})})})}function WEe(n,e,t){const r=n.model.schema,i=e.getFirstPosition();let s=new tl(i);r.checkChild(s,"$text")&&(s=s.push("$text"));for(const[o,a]of t)r.checkAttribute(s,o)&&n.setSelectionAttribute(o,a)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qd(n,e,t,r){let i,s;t instanceof RegExp?i=t:s=t,s=s||(o=>{let a;const l=[],u=[];for(;(a=i.exec(o))!==null&&!(a&&a.length<4);){let{index:f,"1":m,"2":p,"3":y}=a;const v=m+p+y;f+=a[0].length-v.length;const w=[f,f+m.length],E=[f+m.length+p.length,f+m.length+p.length+y.length];l.push(w),l.push(E),u.push([f+m.length,f+m.length+p.length])}return{remove:l,format:u}}),n.model.document.on("change:data",(o,a)=>{if(a.isUndo||!a.isLocal||!e.isEnabled)return;const l=n.model,u=l.document.selection;if(!u.isCollapsed)return;const f=Array.from(l.document.differ.getChanges()),m=f[0];if(f.length!=1||m.type!=="insert"||m.name!="$text"||m.length!=1)return;const p=u.focus,y=p.parent,{text:v,range:w}=jEe(l.createRange(l.createPositionAt(y,0),p),l),E=s(v),k=i6(w.start,E.format,l),T=i6(w.start,E.remove,l);k.length&&T.length&&l.enqueueChange(S=>{if(r(S,k)!==!1){for(const I of T.reverse())S.remove(I);l.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})}})})}function i6(n,e,t){return e.filter(r=>r[0]!==void 0&&r[1]!==void 0).map(r=>t.createRange(n.getShiftedBy(r[0]),n.getShiftedBy(r[1])))}function jEe(n,e){let t=n.start;return{text:Array.from(n.getItems()).reduce((i,s)=>!(s.is("$text")||s.is("$textProxy"))||s.getAttribute("code")?(t=e.createPositionAfter(s),""):i+s.data,""),range:e.createRange(t,n.end)}}class qEe extends ee{static get requires(){return[_c]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&Yl(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Yl(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&Yl(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&Yl(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const t=J1(this.editor,"bold");qd(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),qd(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){const t=J1(this.editor,"italic");qd(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),qd(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(e.get("code")){const t=J1(this.editor,"code");qd(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(e.get("strikethrough")){const t=J1(this.editor,"strikethrough");qd(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const r=t[7],i=new RegExp(`^(#{${r}})\\s$`);Yl(this.editor,this,i,()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Yl(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&Yl(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Yl(this.editor,this,/^---$/,"horizontalLine")}}function J1(n,e){return(t,r)=>{if(!n.commands.get(e).isEnabled)return!1;const s=n.model.schema.getValidRanges(r,e);for(const o of s)t.setAttribute(e,!0,o);t.removeSelectionAttribute(e)}}function GEe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function YEe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=GEe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class KEe extends ee{adapter;_debouncedSave;_lastDocumentVersion;_savePromise;_domEmitter;_config;_pendingActions;_makeImmediateSave;_action=null;static get pluginName(){return"Autosave"}static get isOfficialPlugin(){return!0}static get requires(){return[Dy]}constructor(e){super(e);const t=e.config.get("autosave")||{},r=t.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=YEe(this._save.bind(this),r),this._lastDocumentVersion=e.model.document.version,this._savePromise=null,this._domEmitter=new(Ei()),this._config=t,this._pendingActions=e.plugins.get(Dy),this._makeImmediateSave=!1}init(){const e=this.editor,t=e.model.document;this.listenTo(e,"ready",()=>{this.listenTo(t,"change:data",(r,i)=>{this._saveCallbacks.length&&i.isLocal&&(this.state==="synchronized"&&(this.state="waiting",this._setPendingAction()),this.state==="waiting"&&this._debouncedSave())})}),this.listenTo(e,"destroy",()=>this._flush(),{priority:"highest"});/* istanbul ignore next -- @preserve */this._domEmitter.listenTo(window,"beforeunload",(r,i)=>{this._pendingActions.hasAny&&(i.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).finally(()=>{this._savePromise=null}).then(()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}).catch(e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e}),this._savePromise)}_setPendingAction(){const e=this.editor.t;this._action||(this._action=this._pendingActions.add(e("Saving changes")))}get _saveCallbacks(){const e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Wu extends lt{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,i=t.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;t.change(o=>{if(i.isCollapsed)s?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const a=t.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const l of a)s?o.setAttribute(this.attributeKey,s,l):o.removeAttribute(this.attributeKey,l)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,r=e.document.selection;if(r.isCollapsed)return r.hasAttribute(this.attributeKey);for(const i of r.getRanges())for(const s of i.getItems())if(t.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey);return!1}}const Gd="bold";class XEe extends ee{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Gd}),e.model.schema.setAttributeProperties(Gd,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Gd,view:"strong",upcastAlso:["b",r=>{const i=r.getStyle("font-weight");return i&&(i=="bold"||Number(i)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Gd,new Wu(e,Gd)),e.keystrokes.set("CTRL+B",Gd),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function ju({editor:n,commandName:e,plugin:t,icon:r,label:i,keystroke:s}){return o=>{const a=n.commands.get(e),l=new o(n.locale);return l.set({label:i,icon:r,keystroke:s,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof xn?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),t.listenTo(l,"execute",()=>{n.execute(e),n.editing.view.focus()}),l}}const cE="bold";class JEe extends ee{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=ju({editor:e,commandName:cE,plugin:this,icon:c9,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(cE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+cE,()=>r(xn))}}class QEe extends ee{static get requires(){return[XEe,JEe]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}const jc="code",ZEe="ck-code_selected";class eke extends ee{static get pluginName(){return"CodeEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[zy]}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:jc}),e.model.schema.setAttributeProperties(jc,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:jc,view:"code"}),e.commands.add(jc,new Wu(e,jc)),e.plugins.get(zy).registerAttribute(jc),nU(e,jc,"code",ZEe),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}const uE="code";class tke extends ee{static get pluginName(){return"CodeUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=ju({editor:e,commandName:uE,plugin:this,icon:s_e,label:t("Code")});e.ui.componentFactory.add(uE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+uE,()=>r(xn))}}class nke extends ee{static get requires(){return[eke,tke]}static get pluginName(){return"Code"}static get isOfficialPlugin(){return!0}}const Yd="italic";class rke extends ee{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Yd}),e.model.schema.setAttributeProperties(Yd,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Yd,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Yd,new Wu(e,Yd)),e.keystrokes.set("CTRL+I",Yd),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const dE="italic";class ike extends ee{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=ju({editor:e,commandName:dE,plugin:this,icon:b_e,keystroke:"CTRL+I",label:t("Italic")});e.ui.componentFactory.add(dE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+dE,()=>r(xn))}}class ske extends ee{static get requires(){return[rke,ike]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}const Bm="strikethrough";class oke extends ee{static get pluginName(){return"StrikethroughEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Bm}),e.model.schema.setAttributeProperties(Bm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Bm,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(Bm,new Wu(e,Bm)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}const fE="strikethrough";class ake extends ee{static get pluginName(){return"StrikethroughUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=ju({editor:e,commandName:fE,plugin:this,icon:q_e,keystroke:"CTRL+SHIFT+X",label:t("Strikethrough")});e.ui.componentFactory.add(fE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+fE,()=>r(xn))}}class lke extends ee{static get requires(){return[oke,ake]}static get pluginName(){return"Strikethrough"}static get isOfficialPlugin(){return!0}}const Vm="subscript";class cke extends ee{static get pluginName(){return"SubscriptEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Vm}),e.model.schema.setAttributeProperties(Vm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Vm,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),e.commands.add(Vm,new Wu(e,Vm))}}const hE="subscript";class uke extends ee{static get pluginName(){return"SubscriptUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=ju({editor:e,commandName:hE,plugin:this,icon:G_e,label:t("Subscript")});e.ui.componentFactory.add(hE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+hE,()=>r(xn))}}class dke extends ee{static get requires(){return[cke,uke]}static get pluginName(){return"Subscript"}static get isOfficialPlugin(){return!0}}const Um="superscript";class fke extends ee{static get pluginName(){return"SuperscriptEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Um}),e.model.schema.setAttributeProperties(Um,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Um,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),e.commands.add(Um,new Wu(e,Um))}}const mE="superscript";class hke extends ee{static get pluginName(){return"SuperscriptUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=ju({editor:e,commandName:mE,plugin:this,icon:Y_e,label:t("Superscript")});e.ui.componentFactory.add(mE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+mE,()=>r(xn))}}class mke extends ee{static get requires(){return[fke,hke]}static get pluginName(){return"Superscript"}static get isOfficialPlugin(){return!0}}const zm="underline";class gke extends ee{static get pluginName(){return"UnderlineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:zm}),e.model.schema.setAttributeProperties(zm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:zm,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(zm,new Wu(e,zm)),e.keystrokes.set("CTRL+U","underline"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Underline text"),keystroke:"CTRL+U"}]})}}const gE="underline";class pke extends ee{static get pluginName(){return"UnderlineUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=ju({editor:e,commandName:gE,plugin:this,icon:rxe,label:t("Underline"),keystroke:"CTRL+U"});e.ui.componentFactory.add(gE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+gE,()=>r(xn))}}class bke extends ee{static get requires(){return[gke,pke]}static get pluginName(){return"Underline"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function*rU(n,e){for(const t of e)t&&n.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class yke extends lt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,r=t.document.selection,i=t.schema,s=r.isCollapsed,o=r.getFirstRange(),a=o.start.parent,l=o.end.parent;if(i.isLimit(a)||i.isLimit(l))return!s&&a==l&&t.deleteContent(r),!1;if(s){const u=rU(e.model.schema,r.getAttributes());return s6(e,o.start),e.setSelectionAttribute(u),!0}else{const u=!(o.start.isAtStart&&o.end.isAtEnd),f=a==l;if(t.deleteContent(r,{leaveUnmerged:u}),u){if(f)return s6(e,r.focus),!0;e.setSelection(l,0)}}return!1}}function s6(n,e){n.split(e),n.setSelection(e.parent.nextSibling,0)}const wke={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class iU extends Oo{constructor(e){super(e);const t=this.document;let r=!1;t.on("keydown",(i,s)=>{r=s.shiftKey}),t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;let o=s.inputType;st.isSafari&&r&&o=="insertParagraph"&&(o="insertLineBreak");const a=s.domEvent,l=wke[o];if(!l)return;const u=new zu(t,"enter",s.targetRanges[0]);t.fire(u,new Au(e,a,{isSoft:l.isSoft})),u.stop.called&&i.stop()})}observe(){}stopObserving(){}}class rp extends ee{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,r=t.document,i=this.editor.t;t.addObserver(iU),e.commands.add("enter",new yke(e)),this.listenTo(r,"enter",(s,o)=>{r.isComposing||o.preventDefault(),!o.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class vke extends lt{execute(){const e=this.editor.model,t=e.document;e.change(r=>{xke(e,r,t.selection),this.fire("afterExecute",{writer:r})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=_ke(e.schema,t.selection)}}function _ke(n,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!n.checkChild(t,"softBreak"))return!1;const r=e.getFirstRange(),i=r.start.parent,s=r.end.parent;return!((Gk(i,n)||Gk(s,n))&&i!==s)}function xke(n,e,t){const r=t.isCollapsed,i=t.getFirstRange(),s=i.start.parent,o=i.end.parent,a=s==o;if(r){const l=rU(n.schema,t.getAttributes());o6(n,e,i.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(l)}else{const l=!(i.start.isAtStart&&i.end.isAtEnd);n.deleteContent(t,{leaveUnmerged:l}),a?o6(n,e,t.focus):l&&e.setSelection(o,0)}}function o6(n,e,t){const r=e.createElement("softBreak");n.insertContent(r,t),e.setSelection(r,"after")}function Gk(n,e){return n.is("rootElement")?!1:e.isLimit(n)||Gk(n.parent,e)}class Eke extends ee{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,r=e.conversion,i=e.editing.view,s=i.document,o=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),r.for("upcast").elementToElement({model:"softBreak",view:"br"}),r.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:l})=>l.createEmptyElement("br")}),i.addObserver(iU),e.commands.add("shiftEnter",new vke(e)),this.listenTo(s,"enter",(a,l)=>{s.isComposing||l.preventDefault(),l.isSoft&&(e.execute("shiftEnter"),i.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class kke extends lt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.schema,i=t.document.selection,s=Array.from(i.getSelectedBlocks()),o=e.forceValue===void 0?!this.value:e.forceValue;t.change(a=>{if(!o)this._removeQuote(a,s.filter(Q1));else{const l=s.filter(u=>Q1(u)||l6(r,u));this._applyQuote(a,l)}})}_getValue(){const e=this.editor.model.document.selection,t=_n(e.getSelectedBlocks());return!!(t&&Q1(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,r=_n(e.getSelectedBlocks());return r?l6(t,r):!1}_removeQuote(e,t){a6(e,t).reverse().forEach(r=>{if(r.start.isAtStart&&r.end.isAtEnd){e.unwrap(r.start.parent);return}if(r.start.isAtStart){const s=e.createPositionBefore(r.start.parent);e.move(r,s);return}r.end.isAtEnd||e.split(r.end);const i=e.createPositionAfter(r.end.parent);e.move(r,i)})}_applyQuote(e,t){const r=[];a6(e,t).reverse().forEach(i=>{let s=Q1(i.start);s||(s=e.createElement("blockQuote"),e.wrap(i,s)),r.push(s)}),r.reverse().reduce((i,s)=>i.nextSibling==s?(e.merge(e.createPositionAfter(i)),i):s)}}function Q1(n){return n.parent.name=="blockQuote"?n.parent:null}function a6(n,e){let t,r=0;const i=[];for(;r<e.length;){const s=e[r],o=e[r+1];t||(t=n.createPositionBefore(s)),(!o||s.nextSibling!=o)&&(i.push(n.createRange(t,n.createPositionAfter(s))),t=null),r++}return i}function l6(n,e){const t=n.checkChild(e.parent,"blockQuote"),r=n.checkChild(["$root","blockQuote"],e);return t&&r}class Tke extends ee{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[rp,_c]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new kke(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(o=>{const a=e.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const u=l.position.nodeAfter;if(!u)continue;if(u.is("element","blockQuote")&&u.isEmpty)return o.remove(u),!0;if(u.is("element","blockQuote")&&!t.checkChild(l.position,u))return o.unwrap(u),!0;if(u.is("element")){const f=o.createRangeIn(u);for(const m of f.getItems())if(m.is("element","blockQuote")&&!t.checkChild(o.createPositionBefore(m),m))return o.unwrap(m),!0}}else if(l.type=="remove"){const u=l.position.parent;if(u.is("element","blockQuote")&&u.isEmpty)return o.remove(u),!0}return!1});const r=this.editor.editing.view.document,i=e.model.document.selection,s=e.commands.get("blockQuote");this.listenTo(r,"enter",(o,a)=>{if(!i.isCollapsed||!s.value)return;i.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(r,"delete",(o,a)=>{if(a.direction!="backward"||!i.isCollapsed||!s.value)return;const l=i.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"})}}class Ske extends ee{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("blockQuote",()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:blockQuote",()=>{const t=this._createButton(xn);return t.set({role:"menuitemcheckbox"}),t})}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("blockQuote"),s=new e(t.locale),o=r.t;return s.set({label:o("Block quote"),icon:U_e,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value"),this.listenTo(s,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),s}}class Cke extends ee{static get requires(){return[Tke,Ske]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}function Ake(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function Nke(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=Ake(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function Pke(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return Nke(n,e,{leading:r,trailing:i,maxWait:e})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Ike extends an(){_stack=[];add(e,t){const r=this._stack,i=r[0];this._insertDescriptor(e);const s=r[0];i!==s&&!pE(i,s)&&this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:t})}remove(e,t){const r=this._stack,i=r[0];this._removeDescriptor(e);const s=r[0];i!==s&&!pE(i,s)&&this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:t})}_insertDescriptor(e){const t=this._stack,r=t.findIndex(s=>s.id===e.id);if(pE(e,t[r]))return;r>-1&&t.splice(r,1);let i=0;for(;t[i]&&Rke(t[i],e);)i++;t.splice(i,0,e)}_removeDescriptor(e){const t=this._stack,r=t.findIndex(i=>i.id===e);r>-1&&t.splice(r,1)}}function pE(n,e){return n&&e&&n.priority==e.priority&&Hy(n.classes)==Hy(e.classes)}function Rke(n,e){return n.priority>e.priority?!0:n.priority<e.priority?!1:Hy(n.classes)>Hy(e.classes)}function Hy(n){return Array.isArray(n)?n.sort().join(","):n}const Oke="ck-widget",c6="ck-widget_selected";function Mn(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function ip(n,e,t={}){if(!n.is("containerElement"))throw new q("widget-to-widget-wrong-element-type",null,{element:n});return e.setAttribute("contenteditable","false",n),e.addClass(Oke,n),e.setCustomProperty("widget",!0,n),n.getFillerOffset=Bke,e.setCustomProperty("widgetLabel",[],n),t.label&&Fke(n,t.label),t.hasSelectionHandle&&Vke(n,e),sU(n,e),n}function Mke(n,e,t){if(e.classes&&t.addClass(Gt(e.classes),n),e.attributes)for(const r in e.attributes)t.setAttribute(r,e.attributes[r],n)}function Dke(n,e,t){if(e.classes&&t.removeClass(Gt(e.classes),n),e.attributes)for(const r in e.attributes)t.removeAttribute(r,n)}function sU(n,e,t=Mke,r=Dke){const i=new Ike;i.on("change:top",(a,l)=>{l.oldDescriptor&&r(n,l.oldDescriptor,l.writer),l.newDescriptor&&t(n,l.newDescriptor,l.writer)});const s=(a,l,u)=>i.add(l,u),o=(a,l,u)=>i.remove(l,u);e.setCustomProperty("addHighlight",s,n),e.setCustomProperty("removeHighlight",o,n)}function Fke(n,e){n.getCustomProperty("widgetLabel").push(e)}function Lke(n){return n.getCustomProperty("widgetLabel").reduce((t,r)=>typeof r=="function"?t?t+". "+r():r():t?t+". "+r:r,"")}function XC(n,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),t.withAriaRole!==!1&&e.setAttribute("role","textbox",n),n.isReadOnly||e.setAttribute("tabindex","-1",n),t.label&&e.setAttribute("aria-label",t.label,n),e.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(r,i,s)=>{e.setAttribute("contenteditable",s?"false":"true",n),s?e.removeAttribute("tabindex",n):e.setAttribute("tabindex","-1",n)}),n.on("change:isFocused",(r,i,s)=>{s?e.addClass("ck-editor__nested-editable_focused",n):e.removeClass("ck-editor__nested-editable_focused",n)}),sU(n,e),n}function oU(n,e){const t=n.getSelectedElement();if(t){const r=za(n);if(r)return e.createRange(e.createPositionAt(t,r))}return e.schema.findOptimalInsertionRange(n)}function Bke(){return null}function Vke(n,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(r){const i=this.toDomElement(r),s=new pa;return s.set("content",l_e),s.render(),i.appendChild(s.element),i});e.insert(e.createPositionAt(n,0),t),e.addClass(["ck-widget_with-selection-handle"],n)}function JC(n){const e=a=>{const{width:l,paddingLeft:u,paddingRight:f}=a.ownerDocument.defaultView.getComputedStyle(a);return parseFloat(l)-(parseFloat(u)||0)-(parseFloat(f)||0)},t=n.parentElement;if(!t)return 0;let r=e(t);const i=5;let s=0,o=t;for(;isNaN(r);){if(o=o.parentElement,++s>i)return 0;r=e(o)}return r}function Uke(n,e=new bt(n)){const t=JC(n);return t?e.width/t*100:0}const Va="widget-type-around";function qc(n,e,t){return!!n&&Mn(n)&&!t.isInline(e)}function zke(n){return n.closest(".ck-widget__type-around__button")}function Hke(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function $ke(n,e){const t=n.closest(".ck-widget");return e.mapDomToView(t)}function za(n){return n.getAttribute(Va)}const aU=["before","after"],Wke=new DOMParser().parseFromString(H_e,"image/svg+xml").firstChild,u6="ck-widget__type-around_disabled";class jke extends ee{_currentFakeCaretModelElement=null;static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[rp,_c]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(r,i,s)=>{t.change(o=>{for(const a of t.document.roots)s?o.removeClass(u6,a):o.addClass(u6,a)}),s||e.model.change(o=>{o.removeSelectionAttribute(Va)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const r=this.editor,i=r.editing.view,s=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,t),attributes:s}),i.focus(),i.scrollToTheSelection()}_listenToIfEnabled(e,t,r,i){this.listenTo(e,t,(...s)=>{this.isEnabled&&r(...s)},i)}_insertParagraphAccordingToFakeCaretPosition(){const r=this.editor.model.document.selection,i=za(r);if(!i)return!1;const s=r.getSelectedElement();return this._insertParagraph(s,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,r=e.locale.t,i={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(s,o,a)=>{const l=a.mapper.toViewElement(o.item);l&&qc(l,o.item,t)&&(qke(a.writer,i,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,r=t.document.selection,i=t.schema,s=e.editing.view;this._listenToIfEnabled(s.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[Mn,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(a,l)=>{l.directChange&&e.model.change(u=>{u.removeSelectionAttribute(Va)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const a=r.getSelectedElement();if(a){const l=e.editing.mapper.toViewElement(a);if(qc(l,a,i))return}e.model.change(l=>{l.removeSelectionAttribute(Va)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,l,u)=>{const f=u.writer;if(this._currentFakeCaretModelElement){const v=u.mapper.toViewElement(this._currentFakeCaretModelElement);v&&(f.removeClass(aU.map(o),v),this._currentFakeCaretModelElement=null)}const m=l.selection.getSelectedElement();if(!m)return;const p=u.mapper.toViewElement(m);if(!qc(p,m,i))return;const y=za(l.selection);y&&(f.addClass(o(y),p),this._currentFakeCaretModelElement=m)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,l,u)=>{u||e.model.change(f=>{f.removeSelectionAttribute(Va)})});function o(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,t){const r=this.editor,i=r.model,s=i.document.selection,o=i.schema,a=r.editing.view;if(t.shiftKey)return;const l=t.keyCode,u=qge(l,r.locale.contentLanguageDirection),f=a.document.selection.getSelectedElement(),m=r.editing.mapper.toModelElement(f);let p;qc(f,m,o)?p=this._handleArrowKeyPressOnSelectedWidget(u):s.isCollapsed?p=this._handleArrowKeyPressWhenSelectionNextToAWidget(u):t.shiftKey||(p=this._handleArrowKeyPressWhenNonCollapsedSelection(u)),p&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const r=this.editor.model,i=r.document.selection,s=za(i);return r.change(o=>{if(s){if(!(s===(e?"after":"before")))return o.removeSelectionAttribute(Va),!0}else return o.setSelectionAttribute(Va,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,r=t.model,i=r.schema,s=t.plugins.get("Widget"),o=s._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(o);return qc(a,o,i)?(r.change(l=>{s._setSelectionOverElement(o),l.setSelectionAttribute(Va,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,r=t.model,i=r.schema,s=t.editing.mapper,o=r.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,l=s.toViewElement(a);return qc(l,a,i)?(r.change(u=>{u.setSelection(a,"on"),u.setSelectionAttribute(Va,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(r,i)=>{const s=zke(i.domTarget);if(!s)return;const o=Hke(s),a=$ke(s,t.domConverter),l=e.editing.mapper.toModelElement(a);this._insertParagraph(l,o),i.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(i,s)=>{if(i.eventPhase!="atTarget")return;const o=t.getSelectedElement(),a=e.editing.mapper.toViewElement(o),l=e.model.schema;let u;this._insertParagraphAccordingToFakeCaretPosition()?u=!0:qc(a,o,l)&&(this._insertParagraph(o,s.isSoft?"before":"after"),u=!0),u&&(s.preventDefault(),i.stop())},{context:Mn})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(r,i)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(i.selection=t.selection)},{priority:"high"}),st.isAndroid?this._listenToIfEnabled(t,"keydown",(r,i)=>{i.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"highest"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,r=e.model,i=r.schema;this._listenToIfEnabled(t.document,"delete",(s,o)=>{if(s.eventPhase!="atTarget")return;const a=za(r.document.selection);if(!a)return;const l=o.direction,u=r.document.selection.getSelectedElement(),f=a==="before",m=l=="forward";if(f===m)e.execute("delete",{selection:r.createSelection(u,"on")});else{const y=i.getNearestSelectionRange(r.createPositionAt(u,a),l);if(y)if(!y.isCollapsed)r.change(v=>{v.setSelection(y),e.execute(m?"deleteForward":"delete")});else{const v=r.createSelection(y.start);if(r.modifySelection(v,{direction:l}),!v.focus.isEqual(y.start))r.change(w=>{w.setSelection(y),e.execute(m?"deleteForward":"delete")});else{const w=Kke(i,y.start.parent);r.deleteContent(r.createSelection(w,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),s.stop()},{context:Mn})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,r=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(i,[s,o])=>{if(o&&!o.is("documentSelection"))return;const a=za(r);if(a)return i.stop(),t.change(l=>{const u=r.getSelectedElement(),f=t.createPositionAt(u,a),m=l.createSelection(f),p=t.insertContent(s,m);return l.setSelection(m),p})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(i,s)=>{const[,o,a={}]=s;if(o&&!o.is("documentSelection"))return;const l=za(r);l&&(a.findOptimalPosition=l,s[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(i,[s])=>{if(s&&!s.is("documentSelection"))return;za(r)&&i.stop()},{priority:"high"})}}function qke(n,e,t){const r=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(i){const s=this.toDomElement(i);return Gke(s,e),Yke(s),s});n.insert(n.createPositionAt(t,"end"),r)}function Gke(n,e){for(const t of aU){const r=new vo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[n.ownerDocument.importNode(Wke,!0)]});n.appendChild(r.render())}}function Yke(n){const e=new vo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(e.render())}function Kke(n,e){let t=e;for(const r of e.getAncestors({parentFirst:!0})){if(r.childCount>1||n.isLimit(r))break;t=r}return t}function Xke(n){const e=n.model;return(t,r)=>{const i=r.keyCode==xt.arrowup,s=r.keyCode==xt.arrowdown,o=r.shiftKey,a=e.document.selection;if(!i&&!s)return;const l=s,u=Jke(n,a,l);if(u){if(u.isCollapsed){if(a.isCollapsed)return;if(o)return}(u.isCollapsed||Qke(n,u,l))&&(e.change(f=>{const m=l?u.end:u.start;if(o){const p=e.createSelection(a.anchor);p.setFocus(m),f.setSelection(p)}else f.setSelection(m)}),t.stop(),r.preventDefault(),r.stopPropagation())}}}function Jke(n,e,t){const r=n.model;if(t){const i=e.focus,s=d6(r,i,"forward");if(!s)return;const o=r.createRange(i,s),a=f6(r.schema,o,"backward");if(a)return r.createRange(i,a)}else{const i=e.focus,s=d6(r,i,"backward");if(!s)return;const o=r.createRange(s,i),a=f6(r.schema,o,"forward");if(a)return r.createRange(a,i)}}function d6(n,e,t){const r=n.schema,i=n.createRangeIn(e.root),s=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of i.getWalker({startPosition:e,direction:t})){if(r.isLimit(a)&&!r.isInline(a))return o;if(l==s&&r.isBlock(a))return null}return null}function f6(n,e,t){const r=t=="backward"?e.end:e.start;if(n.checkChild(r,"$text"))return r;for(const{nextPosition:i}of e.getWalker({direction:t}))if(n.checkChild(i,"$text"))return i}function Qke(n,e,t){const r=n.model,i=n.view.domConverter;if(t){const u=r.createSelection(e.start);r.modifySelection(u),!u.focus.isAtEnd&&!e.start.isEqual(u.focus)&&(e=r.createRange(u.focus,e.end))}const s=n.mapper.toViewRange(e),o=i.viewRangeToDom(s),a=bt.getDomRangeRects(o);let l;for(const u of a){if(l===void 0){l=Math.round(u.bottom);continue}if(Math.round(u.top)>=l)return!1;l=Math.max(l,Math.round(u.bottom))}return!0}class vh extends ee{_previouslySelected=new Set;static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[jke,_c]}init(){const e=this.editor,t=e.editing.view,r=t.document,i=e.t;this.editor.editing.downcastDispatcher.on("selection",(s,o,a)=>{const l=a.writer,u=o.selection;if(u.isCollapsed)return;const f=u.getSelectedElement();if(!f)return;const m=e.editing.mapper.toViewElement(f);Mn(m)&&a.consumable.consume(u,"selection")&&l.setSelection(l.createRangeOn(m),{fake:!0,label:Lke(m)})}),this.editor.editing.downcastDispatcher.on("selection",(s,o,a)=>{this._clearPreviouslySelectedWidgets(a.writer);const l=a.writer,u=l.document.selection;let f=null;for(const m of u.getRanges())for(const p of m){const y=p.item;Mn(y)&&!rTe(y,f)&&(l.addClass(c6,y),this._previouslySelected.add(y),f=y)}},{priority:"low"}),t.addObserver(PC),t.addObserver(VV),this.listenTo(r,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(r,"pointerdown",(...s)=>this._onPointerdown(...s)),this.listenTo(r,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[Mn,"$text"]}),this.listenTo(r,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(r,"arrowKey",Xke(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(s,o)=>{this._handleDelete(o.direction=="forward")&&(o.preventDefault(),s.stop())},{context:"$root"}),this.listenTo(r,"tab",(s,o)=>{this._selectNextEditable(o.shiftKey?"backward":"forward")&&(t.scrollToTheSelection(),o.preventDefault(),s.stop())},{context:s=>Mn(s)||s.is("editableElement"),priority:"low"}),this.listenTo(r,"keydown",(s,o)=>{o.keystroke==xt.esc&&this._selectAncestorWidget()&&(o.preventDefault(),s.stop())},{context:s=>s.is("editableElement"),priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:i("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:i("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:i("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:i("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:i("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:i("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const r=t.target;r&&t.domEvent.detail>=3&&this._selectBlockContent(r)&&t.preventDefault()}_onPointerdown(e,t){if(!t.domEvent.isPrimary)return;const r=this.editor,i=r.editing.view,s=i.document;let o=t.target;if(!o)return;if(!Mn(o)){const l=tTe(o);if(!l)return;if(Mn(l))o=l;else{const u=nTe(i,t);if(u&&Mn(u))o=u;else return}}(st.isAndroid||st.isiOS)&&t.preventDefault(),s.isFocused||i.focus();const a=r.editing.mapper.toModelElement(o);this._setSelectionOverElement(a)}_selectBlockContent(e){const t=this.editor,r=t.model,i=t.editing.mapper,s=r.schema,o=i.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),a=iTe(i.toModelElement(o),r.schema);return a?(r.change(l=>{const u=s.isLimit(a)?null:sTe(l.createPositionAfter(a),s),f=l.createPositionAt(a,0),m=u?l.createPositionAt(u,0):l.createPositionAt(a,"end");l.setSelection(l.createRange(f,m))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,t){const r=t.keyCode,i=this.editor.model,s=i.schema,o=i.document.selection,a=o.getSelectedElement(),l=cv(r,this.editor.locale.contentLanguageDirection),u=l=="down"||l=="right",f=l=="up"||l=="down";if(!t.shiftKey&&!o.isCollapsed){if(Zke(o,s)){const k=u?o.getLastPosition():o.getFirstPosition(),T=s.getNearestSelectionRange(k,u?"forward":"backward");T&&(i.change(S=>{S.setSelection(T)}),t.preventDefault(),e.stop())}return}const m=eTe(i,u),p=i.createSelection(m);if(i.modifySelection(p,{direction:u?"forward":"backward"}),p.isEqual(m))return;p.focus.isTouching(m.focus)&&i.modifySelection(p,{direction:u?"forward":"backward"});const y=u?m.focus.nodeBefore:m.focus.nodeAfter,v=p.focus.nodeBefore,w=p.focus.nodeAfter,E=u?v:w;if(t.shiftKey)(a&&s.isObject(a)||E&&s.isObject(E)||y&&s.isObject(y))&&(i.change(k=>{k.setSelection(p)}),t.preventDefault(),e.stop());else if(E&&s.isObject(E)){if(s.isInline(E)&&f)return;i.change(k=>{k.setSelection(E,"on")}),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const r=this.editor.model,i=r.schema,s=r.document.selection.getSelectedElement();s&&i.isObject(s)&&(t.preventDefault(),e.stop())}_handleDelete(e){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const i=this._getObjectElementNextToSelection(e);if(i)return this.editor.model.change(s=>{let o=r.anchor.parent;for(;o.isEmpty;){const a=o;o=a.parent,s.remove(a)}this._setSelectionOverElement(i)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,r=t.schema,i=t.document.selection,s=t.createSelection(i);if(t.modifySelection(s,{direction:e?"forward":"backward"}),s.isEqual(i))return null;const o=e?s.focus.nodeBefore:s.focus.nodeAfter;return o&&r.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(c6,t);this._previouslySelected.clear()}_selectNextEditable(e){const t=this.editor.editing,r=t.view,i=this.editor.model,s=r.document.selection,o=i.document.selection;let a;if(o.rangeCount>1){const u=o.isBackward?o.getFirstRange():o.getLastRange();a=t.mapper.toViewPosition(e=="forward"?u.end:u.start)}else a=e=="forward"?s.getFirstPosition():s.getLastPosition();const l=this._findNextFocusRange(a,e);return l?(i.change(u=>{u.setSelection(l)}),!0):!1}_findNextFocusRange(e,t){const r=this.editor.editing,i=r.view,s=this.editor.model,o=i.document.selection,a=o.editableElement,l=a.getPath();let u=o.getSelectedElement();u&&!Mn(u)&&(u=null);const f=t=="forward"?i.createRange(e,i.createPositionAt(e.root,"end")):i.createRange(i.createPositionAt(e.root,0),e);for(const{nextPosition:m}of f.getWalker({direction:t})){const p=m.parent;if(Mn(p)&&p!=u){const y=r.mapper.toModelElement(p);if(!s.schema.isBlock(y))continue;if(Ir(l,p.getPath())!="extension")return s.createRangeOn(y)}else if(p.is("editableElement")){if(p==a&&!u)continue;const y=r.mapper.toModelPosition(m),v=s.schema.getNearestSelectionRange(y,t);if(!v)continue;return p==a&&u?v:Ir(l,p.getPath())!="extension"?s.createRangeIn(s.schema.getLimitElement(v)):v}}return null}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,i=e.editing.view.document.selection.getFirstPosition().parent,o=(i.is("$text")?i.parent:i).findAncestor(Mn);if(!o)return!1;const a=t.toModelElement(o);/* istanbul ignore next -- @preserve */return a?(e.model.change(l=>{l.setSelection(a,"on")}),!0):!1}}function Zke(n,e){const t=n.getFirstPosition(),r=n.getLastPosition(),i=t.nodeAfter,s=r.nodeBefore;return!!i&&e.isObject(i)||!!s&&e.isObject(s)}function eTe(n,e){const t=n.document.selection,r=t.getSelectedElement(),i=za(t);return r&&i=="before"?n.createSelection(r,"before"):r&&i=="after"?n.createSelection(r,"after"):n.createSelection(t.getRanges(),{backward:r&&n.schema.isObject(r)?!e:t.isBackward})}function tTe(n){let e=n;for(;e;){if(e.is("editableElement")||Mn(e))return e;e=e.parent}return null}function nTe(n,e){const t=AB(e.domEvent);let r=null;if(t?r=n.domConverter.domRangeToView(t):r=n.createRange(n.createPositionAt(e.target,0)),!r)return null;const i=r.start;if(!i.parent)return null;let s=i.parent;return i.parent.is("editableElement")&&(i.isAtEnd&&i.nodeBefore?s=i.nodeBefore:i.isAtStart&&i.nodeAfter&&(s=i.nodeAfter)),s.is("$text")?s.parent:s}function rTe(n,e){return e?Array.from(n.getAncestors()).includes(e):!1}function iTe(n,e){for(const t of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(t,"$text"))return t;if(e.isLimit(t)&&!e.isObject(t))break}return null}function sTe(n,e){const t=new qa({startPosition:n});for(const{item:r}of t){if(e.isLimit(r)||!r.is("element"))return null;if(e.checkChild(r,"$text"))return r}return null}class $y extends ee{_toolbarDefinitions=new Map;_balloon;static get requires(){return[No]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",r=>{oTe(e.editing.view.document.selection)&&r.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:r,getRelatedElement:i,balloonClassName:s="ck-toolbar-container",positions:o}){if(!r.length){Rt("widget-toolbar-no-items",{toolbarId:e});return}const a=this.editor,l=a.t,u=new dc(a.locale);if(u.ariaLabel=t||l("Widget toolbar"),this._toolbarDefinitions.has(e))throw new q("widget-toolbar-duplicated",this,{toolbarId:e});const f={view:u,getRelatedElement:i,balloonClassName:s,itemsConfig:r,positions:o,initialized:!1};a.ui.addToolbar(u,{isContextual:!0,beforeFocus:()=>{const m=i(a.editing.view.document.selection);m&&this._showToolbar(f,m)},afterBlur:()=>{this._hideToolbar(f)}}),this._toolbarDefinitions.set(e,f)}_updateToolbarsVisibility(){let e=0,t=null,r=null;for(const i of this._toolbarDefinitions.values()){const s=i.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!s)this._isToolbarInBalloon(i)&&this._hideToolbar(i);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(i)&&this._hideToolbar(i);else{const o=s.getAncestors().length;o>e&&(e=o,t=s,r=i)}}r&&this._showToolbar(r,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?h6(this.editor,t,e.positions):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:lU(this.editor,t,e.positions),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const r of this._toolbarDefinitions.values())if(this._isToolbarVisible(r)){const i=r.getRelatedElement(this.editor.editing.view.document.selection);h6(this.editor,i,e.positions)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function h6(n,e,t){const r=n.plugins.get("ContextualBalloon"),i=lU(n,e,t);r.updatePosition(i)}function lU(n,e,t){const r=n.editing.view,i=Bn.defaultPositions;return{target:r.domConverter.mapViewToDom(e),positions:t||[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function oTe(n){const e=n.getSelectedElement();return!!(e&&Mn(e))}class aTe extends qt(){_referenceCoordinates;_options;_originalWidth;_originalHeight;_originalWidthPercents;_aspectRatio;constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,r){const i=new bt(t);this.activeHandlePosition=uTe(e),this._referenceCoordinates=lTe(t,dTe(this.activeHandlePosition)),this._originalWidth=i.width,this._originalHeight=i.height,this._aspectRatio=i.width/i.height;const s=r.style.width;s&&s.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(s):this._originalWidthPercents=Uke(r,i)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function lTe(n,e){const t=new bt(n),r=e.split("-"),i={x:r[1]=="right"?t.right:t.left,y:r[0]=="bottom"?t.bottom:t.top};return i.x+=n.ownerDocument.defaultView.scrollX,i.y+=n.ownerDocument.defaultView.scrollY,i}function cTe(n){return`ck-widget__resizer__handle-${n}`}function uTe(n){const e=["top-left","top-right","bottom-right","bottom-left"];for(const t of e)if(n.classList.contains(cTe(t)))return t}function dTe(n){const e=n.split("-"),t={top:"bottom",bottom:"top",left:"right",right:"left"};return`${t[e[0]]}-${t[e[1]]}`}class fTe extends Le{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(r,i)=>r!==null&&i!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(r,i,s)=>e.unit==="px"?`${r}${i}`:`${s}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(r,i,s)=>i<50||s<50?"above-center":r)}_dismiss(){this.unbind(),this._isVisible=!1}}class m6 extends qt(){_state;_sizeView;_options;_viewResizerWrapper=null;_initialViewWidth;constructor(e){super(),this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,r)=>t&&r),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(i=>{const s=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(o){const a=this.toDomElement(o);return e._appendHandles(a),e._appendSizeUI(a),a});i.insert(i.createPositionAt(t,"end"),s),i.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=s,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new aTe(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(u=>{const f=this._options.unit||"%",m=(f==="%"?t.widthPercents:t.width)+f;u.setStyle("width",m,this._options.viewElement)});const i=this._getHandleHost(),s=new bt(i),o=Math.round(s.width),a=Math.round(s.height),l=new bt(i);t.width=Math.round(l.width),t.height=Math.round(l.height),this.redraw(s),this.state.update({...t,handleHostWidth:o,handleHostHeight:a})}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!gTe(t))return;const r=t.parentElement,i=this._getHandleHost(),s=this._viewResizerWrapper,o=[s.getStyle("width"),s.getStyle("height"),s.getStyle("left"),s.getStyle("top")];let a;if(r.isSameNode(i)){const l=e||new bt(i);a=[l.width+"px",l.height+"px",void 0,void 0]}else a=[i.offsetWidth+"px",i.offsetHeight+"px",i.offsetLeft+"px",i.offsetTop+"px"];Ir(o,a)!=="same"&&this._options.editor.editing.view.change(l=>{l.setStyle({width:a[0],height:a[1],left:a[2],top:a[3]},s)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,r=mTe(e),i=this._options.isCentered?this._options.isCentered(this):!0,s={x:t._referenceCoordinates.x-(r.x+t.originalWidth),y:r.y-t.originalHeight-t._referenceCoordinates.y};i&&t.activeHandlePosition.endsWith("-right")&&(s.x=r.x-(t._referenceCoordinates.x+t.originalWidth)),i&&(s.x*=2);let o=Math.abs(t.originalWidth+s.x),a=Math.abs(t.originalHeight+s.y);return(o/t.aspectRatio>a?"width":"height")=="width"?a=o/t.aspectRatio:o=a*t.aspectRatio,{width:Math.round(o),height:Math.round(a),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*o*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const r of t)e.appendChild(new vo({tag:"div",attributes:{class:`ck-widget__resizer__handle ${hTe(r)}`}}).render())}_appendSizeUI(e){this._sizeView=new fTe,this._sizeView.render(),e.appendChild(this._sizeView.element)}}function hTe(n){return`ck-widget__resizer__handle-${n}`}function mTe(n){return{x:n.pageX,y:n.pageY}}function gTe(n){return n&&n.ownerDocument&&n.ownerDocument.contains(n)}class bE extends ee{_resizers=new Map;_observer;_redrawSelectedResizerThrottled;static get pluginName(){return"WidgetResize"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.editing,t=qe.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(PC),this._observer=new(Ei()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Pke(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[i,s]of this._resizers)i.isAttached()||(this._resizers.delete(i),s.destroy())},{priority:"lowest"}),this._observer.listenTo(qe.window,"resize",this._redrawSelectedResizerThrottled);const r=this.editor.editing.view.document.selection;r.on("change",()=>{const i=r.getSelectedElement(),s=this.getResizerByViewElement(i)||null;s?this.select(s):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new m6(e),r=this.editor.plugins;if(t.attach(),r.has("WidgetToolbarRepository")){const o=r.get("WidgetToolbarRepository");t.on("begin",()=>{o.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{o.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{o.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const s=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(s)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const r=t.domTarget;m6.isResizeHandle(r)&&(this._activeResizer=this._getResizerByHandle(r)||null,this._activeResizer&&(this._activeResizer.begin(r),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}function cU(n){return n}function Yk(n){return n==="__proto__"}function uU(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function dU(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}function fU(n){const e=[],t=n.length;if(t===0)return e;let r=0,i="",s="",o=!1;for(n.charCodeAt(0)===46&&(e.push(""),r++);r<t;){const a=n[r];s?a==="\\"&&r+1<t?(r++,i+=n[r]):a===s?s="":i+=a:o?a==='"'||a==="'"?s=a:a==="]"?(o=!1,e.push(i),i=""):i+=a:a==="["?(o=!0,i&&(e.push(i),i="")):a==="."?i&&(e.push(i),i=""):i+=a,r++}return i&&e.push(i),e}function QC(n,e,t){if(n==null)return t;switch(typeof e){case"string":{if(Yk(e))return t;const r=n[e];return r===void 0?uU(e)?QC(n,fU(e),t):t:r}case"number":case"symbol":{typeof e=="number"&&(e=dU(e));const r=n[e];return r===void 0?t:r}default:{if(Array.isArray(e))return pTe(n,e,t);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),Yk(e))return t;const r=n[e];return r===void 0?t:r}}}function pTe(n,e,t){if(e.length===0)return t;let r=n;for(let i=0;i<e.length;i++){if(r==null||Yk(e[i]))return t;r=r[e[i]]}return r===void 0?t:r}function bTe(n){return function(e){return QC(e,n)}}function yTe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function hU(n){return n==null||typeof n!="object"&&typeof n!="function"}function g6(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function wTe(n,e,t){return typeof t!="function"?ZC(n,e):Kk(n,e,function r(i,s,o,a,l,u){const f=t(i,s,o,a,l,u);return f!==void 0?!!f:Kk(i,s,r,u)},new Map)}function Kk(n,e,t,r){if(e===n)return!0;switch(typeof e){case"object":return vTe(n,e,t,r);case"function":return Object.keys(e).length>0?Kk(n,{...e},t,r):g6(n,e);default:return yTe(n)?typeof e=="string"?e==="":!0:g6(n,e)}}function vTe(n,e,t,r){if(e==null)return!0;if(Array.isArray(e))return mU(n,e,t,r);if(e instanceof Map)return _Te(n,e,t,r);if(e instanceof Set)return xTe(n,e,t,r);const i=Object.keys(e);if(n==null)return i.length===0;if(i.length===0)return!0;if(r&&r.has(e))return r.get(e)===n;r&&r.set(e,n);try{for(let s=0;s<i.length;s++){const o=i[s];if(!hU(n)&&!(o in n)||e[o]===void 0&&n[o]!==void 0||e[o]===null&&n[o]!==null||!t(n[o],e[o],o,n,e,r))return!1}return!0}finally{r&&r.delete(e)}}function _Te(n,e,t,r){if(e.size===0)return!0;if(!(n instanceof Map))return!1;for(const[i,s]of e.entries()){const o=n.get(i);if(t(o,s,i,n,e,r)===!1)return!1}return!0}function mU(n,e,t,r){if(e.length===0)return!0;if(!Array.isArray(n))return!1;const i=new Set;for(let s=0;s<e.length;s++){const o=e[s];let a=!1;for(let l=0;l<n.length;l++){if(i.has(l))continue;const u=n[l];let f=!1;if(t(u,o,s,n,e,r)&&(f=!0),f){i.add(l),a=!0;break}}if(!a)return!1}return!0}function xTe(n,e,t,r){return e.size===0?!0:n instanceof Set?mU([...n],[...e],t,r):!1}function ZC(n,e){return wTe(n,e,()=>{})}function ETe(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function gU(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const kTe="[object RegExp]",pU="[object String]",bU="[object Number]",yU="[object Boolean]",wU="[object Arguments]",TTe="[object Symbol]",STe="[object Date]",CTe="[object Map]",ATe="[object Set]",NTe="[object Array]",PTe="[object ArrayBuffer]",ITe="[object Object]",RTe="[object DataView]",OTe="[object Uint8Array]",MTe="[object Uint8ClampedArray]",DTe="[object Uint16Array]",FTe="[object Uint32Array]",LTe="[object Int8Array]",BTe="[object Int16Array]",VTe="[object Int32Array]",UTe="[object Float32Array]",zTe="[object Float64Array]";function HTe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function $Te(n,e){return lu(n,void 0,n,new Map,e)}function lu(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(hU(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=lu(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,lu(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(lu(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(HTe(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=lu(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),tu(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),tu(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),tu(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,tu(o,n,t,r,i),o}if(typeof n=="object"&&WTe(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),tu(o,n,t,r,i),o}return n}function tu(n,e,t=n,r,i){const s=[...Object.keys(e),...ETe(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=lu(e[a],a,t,r,i))}}function WTe(n){switch(gU(n)){case wU:case NTe:case PTe:case RTe:case yU:case STe:case UTe:case zTe:case LTe:case BTe:case VTe:case CTe:case bU:case ITe:case kTe:case ATe:case pU:case TTe:case OTe:case MTe:case DTe:case FTe:return!0;default:return!1}}function jTe(n){return lu(n,void 0,n,new Map,void 0)}function qTe(n){return n=jTe(n),e=>ZC(e,n)}function GTe(n,e){return $Te(n,(t,r,i,s)=>{if(typeof n=="object")switch(Object.prototype.toString.call(n)){case bU:case pU:case yU:{const o=new n.constructor(n?.valueOf());return tu(o,n),o}case wU:{const o={};return tu(o,n),o.length=n.length,o[Symbol.iterator]=n[Symbol.iterator],o}default:return}})}function YTe(n){return GTe(n)}const KTe=/^(?:0|[1-9]\d*)$/;function XTe(n,e=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<e;case"symbol":return!1;case"string":return KTe.test(n)}}function JTe(n){return n!==null&&typeof n=="object"&&gU(n)==="[object Arguments]"}function QTe(n,e){let t;if(Array.isArray(e)?t=e:typeof e=="string"&&uU(e)&&n?.[e]==null?t=fU(e):t=[e],t.length===0)return!1;let r=n;for(let i=0;i<t.length;i++){const s=t[i];if((r==null||!Object.hasOwn(r,s))&&!((Array.isArray(r)||JTe(r))&&XTe(s)&&s<r.length))return!1;r=r[s]}return!0}function ZTe(n,e){switch(typeof n){case"object":{Object.is(n?.valueOf(),-0)&&(n="-0");break}case"number":{n=dU(n);break}}return e=YTe(e),function(t){const r=QC(t,n);return r===void 0?QTe(t,n):e===void 0?r===void 0:ZC(r,e)}}function eSe(n){if(n==null)return cU;switch(typeof n){case"function":return n;case"object":return Array.isArray(n)&&n.length===2?ZTe(n[0],n[1]):qTe(n);case"string":case"symbol":case"number":return bTe(n)}}function tSe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function nSe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=tSe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function p6(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return nSe(n,e,{leading:r,trailing:i,maxWait:e})}function rSe(n,e){const t={},r=Object.keys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];t[s]=e(o,s,n)}return t}function iSe(n,e=cU){return n==null?{}:rSe(n,eSe(e))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class p0 extends Mo{domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];constructor(e){super(e);const t=this.document;this.listenTo(t,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",r("dragging"),{priority:"low"});function r(i){return(s,o)=>{o.preventDefault();const a=o.dropRange?[o.dropRange]:null,l=new ul(t,i);t.fire(l,{dataTransfer:o.dataTransfer,method:s.name,targetRanges:a,target:o.target,domEvent:o.domEvent}),l.stop.called&&o.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",i={dataTransfer:new lV(t,{cacheFiles:r})};if(e.type=="drop"||e.type=="dragover"){const s=AB(e);i.dropRange=s&&this.view.domConverter.domRangeToView(s)}this.fire(e.type,e,i)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sSe(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function oSe(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const b6=["figcaption","li"],y6=["ol","ul"];function vU(n,e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return`
`;let t="",r=null;for(const i of e.getChildren())t+=aSe(i,r)+vU(n,i),r=i;if(e.is("rawElement")){const s=document.implementation.createHTMLDocument("").createElement("div");e.render(s,n),t+=_U(s)}return t}function _U(n){let e="";if(n.nodeType===Node.TEXT_NODE)return n.textContent;if(n.tagName==="BR")return`
`;for(const t of n.childNodes)e+=_U(t);return e}function aSe(n,e){return e?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||y6.includes(n.name)&&y6.includes(e.name)?`

`:!n.is("containerElement")&&!e.is("containerElement")?"":b6.includes(n.name)||b6.includes(e.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class Tg extends ee{_markersToCopy=new Map;static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,r=i=>i.model.getSelectedContent(i.model.document.selection)){return this.editor.model.change(i=>{const s=i.model.document.selection;i.setSelection(t);const o=this._insertFakeMarkersIntoSelection(i,i.model.document.selection,e),a=r(i),l=this._removeFakeMarkersInsideElement(i,a);for(const[u,f]of Object.entries(o)){l[u]||=i.createRangeIn(a);for(const m of f)i.remove(m)}a.markers.clear();for(const[u,f]of Object.entries(l))a.markers.set(u,f);return i.setSelection(s),a})}_pasteMarkersIntoTransformedElement(e,t){const r=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(i=>{const s=this._insertFakeMarkersElements(i,r),o=t(i),a=this._removeFakeMarkersInsideElement(i,o);for(const l of Object.values(s).flat())i.remove(l);for(const[l,u]of Object.entries(a))i.model.markers.has(l)||i.addMarker(l,{usingOperation:!0,affectsData:!0,range:u});return o})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const r of t)e.markers.set(r.name,r.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,r={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const i=this._markersToCopy.get(e);this._markersToCopy.set(e,r),t(),i?this._markersToCopy.set(e,i):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const r=this._getMarkerClipboardConfig(e);if(!r)return!1;if(!t)return!0;const{allowedActions:i}=r;return i==="all"||i.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,r){const i=this._getCopyableMarkersFromSelection(e,t,r);return this._insertFakeMarkersElements(e,i)}_getCopyableMarkersFromSelection(e,t,r){const i=Array.from(t.getRanges()),s=new Set(i.flatMap(a=>Array.from(e.model.markers.getMarkersIntersectingRange(a)))),o=a=>{if(!this._isMarkerCopyable(a.name,r))return!1;const{copyPartiallySelected:u}=this._getMarkerClipboardConfig(a.name);if(!u){const f=a.getRange();return i.some(m=>m.containsRange(f,!0))}return!0};return Array.from(s).filter(o).map(a=>({name:r==="dragstart"?this._getUniqueMarkerName(a.name):a.name,range:a.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:r}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([s,o])=>{if(!this._hasMarkerConfiguration(s))return[{name:s,range:o}];if(this._isMarkerCopyable(s,t)){const a=this._getMarkerClipboardConfig(s),l=r.markers.has(s)&&r.markers.get(s).getRange().root.rootName==="$graveyard";return(a.duplicateOnPaste||l)&&(s=this._getUniqueMarkerName(s)),[{name:s,range:o}]}return[]})}_insertFakeMarkersElements(e,t){const r={},i=t.flatMap(s=>{const{start:o,end:a}=s.range;return[{position:o,marker:s,type:"start"},{position:a,marker:s,type:"end"}]}).sort(({position:s},{position:o})=>s.isBefore(o)?1:-1);for(const{position:s,marker:o,type:a}of i){const l=e.createElement("$marker",{"data-name":o.name,"data-type":a});r[o.name]||(r[o.name]=[]),r[o.name].push(l),e.insert(l,s)}return r}_removeFakeMarkersInsideElement(e,t){const i=this._getAllFakeMarkersFromElement(e,t).reduce((s,o)=>{const a=o.markerElement&&e.createPositionBefore(o.markerElement);let l=s[o.name],u=!1;return l?.start&&l?.end&&(this._getMarkerClipboardConfig(o.name).duplicateOnPaste?s[this._getUniqueMarkerName(o.name)]=s[o.name]:u=!0,l=null),u||(s[o.name]={...l,[o.type]:a}),o.markerElement&&e.remove(o.markerElement),s},{});return iSe(i,s=>new he(s.start||e.createPositionFromPath(t,[0]),s.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const r=Array.from(e.createRangeIn(t)).flatMap(({item:o})=>{if(!o.is("element","$marker"))return[];const a=o.getAttribute("data-name"),l=o.getAttribute("data-type");return[{markerElement:o,name:a,type:l}]}),i=[],s=[];for(const o of r)o.type==="end"&&(r.some(l=>l.name===o.name&&l.type==="start")||i.push({markerElement:null,name:o.name,type:"start"})),o.type==="start"&&(r.some(l=>l.name===o.name&&l.type==="end")||s.unshift({markerElement:null,name:o.name,type:"end"}));return[...i,...r,...s]}_getUniqueMarkerName(e){const t=e.split(":"),r=ci().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${r}`:`${t.join(":")}:${r}`}}class Ws extends ee{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[Tg]}init(){this.editor.editing.view.addObserver(p0),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,r){const i=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:r==="cut"},()=>{const s=i._copySelectedFragmentWithMarkers(r,t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:r})})}_setupPasteDrop(){const e=this.editor,t=e.model,r=e.editing.view,i=r.document,s=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(i,"clipboardInput",(o,a)=>{a.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&o.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(o,a)=>{const l=a.dataTransfer;let u;if(a.content)u=a.content;else{let p="";l.getData("text/html")?p=oSe(l.getData("text/html")):l.getData("text/plain")&&(p=sSe(l.getData("text/plain"))),u=this.editor.data.htmlProcessor.toView(p)}const f=new ul(this,"inputTransformation"),m=l.getData("application/ckeditor5-editor-id")||null;this.fire(f,{content:u,dataTransfer:l,sourceEditorId:m,targetRanges:a.targetRanges,method:a.method}),f.stop.called&&o.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(o,a)=>{if(a.content.isEmpty)return;const u=this.editor.data.toModel(a.content,"$clipboardHolder");u.childCount!=0&&(o.stop(),t.change(()=>{this.fire("contentInsertion",{content:u,method:a.method,sourceEditorId:a.sourceEditorId,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(o,a)=>{a.resultRange=s._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,i=e.editing.view.document,s=(o,a)=>{const l=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(l,t.selection,o.name)};this.listenTo(i,"copy",s,{priority:"low"}),this.listenTo(i,"cut",(o,a)=>{e.model.canEditAt(e.model.document.selection)?s(o,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,a)=>{const l=e.data.toView(a.content,{isClipboardPipeline:!0});i.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:l,method:a.method})},{priority:"low"}),this.listenTo(i,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",vU(e.data.htmlProcessor.domConverter,a.content)),a.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),a.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}const yE=gh("px");class lSe extends Le{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>yE(t)),top:e.to("top",t=>yE(t)),width:e.to("width",t=>yE(t))}}})}}class Z1 extends ee{removeDropMarkerDelayed=nC(()=>this.removeDropMarker(),40);_updateDropMarkerThrottled=p6(e=>this._updateDropMarker(e),40);_reconvertMarkerThrottled=p6(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0);_dropTargetLineView=new lSe;_domEmitter=new(Ei());_scrollables=new Map;static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,r,i,s,o){this.removeDropMarkerDelayed.cancel();const a=w6(this.editor,e,t,r,i,s,o);/* istanbul ignore next -- @preserve */return a?o&&o.containsRange(a)?(this.removeDropMarker(),null):a&&!this.editor.model.canEditAt(a)?(this.removeDropMarker(),null):(this._updateDropMarkerThrottled(a),a):null}getFinalDropRange(e,t,r,i,s,o){const a=w6(this.editor,e,t,r,i,s,o);return this.removeDropMarker(),a}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:r})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,r=t.model.markers;t.model.change(i=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||i.updateMarker("drop-target",{range:e}):i.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const r=this.toDomElement(t);return r.append("",t.createElement("span"),""),r})}_updateDropTargetLine(e){const t=this.editor.editing,r=e.start.nodeBefore,i=e.start.nodeAfter,s=e.start.parent,o=r?t.mapper.toViewElement(r):null,a=o?t.view.domConverter.mapViewToDom(o):null,l=i?t.mapper.toViewElement(i):null,u=l?t.view.domConverter.mapViewToDom(l):null,f=t.mapper.toViewElement(s);if(!f)return;const m=t.view.domConverter.mapViewToDom(f),p=this._getScrollableRect(f),{scrollX:y,scrollY:v}=qe.window,w=a?new bt(a):null,E=u?new bt(u):null,k=new bt(m).excludeScrollbarsAndBorders(),T=w?w.bottom:k.top,S=E?E.top:k.bottom,P=qe.window.getComputedStyle(m),I=T<=S?(T+S)/2:S;if(p.top<I&&I<p.bottom){const R=k.left+parseFloat(P.paddingLeft),A=k.right-parseFloat(P.paddingRight),F=Math.max(R+y,p.left),V=Math.min(A+y,p.right);this._dropTargetLineView.set({isVisible:!0,left:F,top:I+v,width:V-F})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let r;if(this._scrollables.has(t))r=this._scrollables.get(t).domElement;else{const i=this.editor.editing.view.domConverter.mapViewToDom(e);r=uSe(i),this._domEmitter.listenTo(r,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const s=new Cn(r,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:r,resizeObserver:s})}return new bt(r).excludeScrollbarsAndBorders()}}function w6(n,e,t,r,i,s,o){const a=n.model,l=n.editing.mapper;let f=v6(n,e);for(;f;){if(!s){if(a.schema.checkChild(f,"$text")){if(t){const m=t[0].start,p=l.toModelPosition(m);if(!o||Array.from(o.getItems({shallow:!0})).some(v=>a.schema.checkChild(p,v))){if(a.schema.checkChild(p,"$text"))return a.createRange(p);if(m)return eb(n,v6(n,m.parent),r,i)}}}else if(a.schema.isInline(f))return eb(n,f,r,i)}if(a.schema.isBlock(f))return eb(n,f,r,i);if(a.schema.checkChild(f,"$block")){const m=Array.from(f.getChildren()).filter(v=>v.is("element")&&!cSe(n,v));let p=0,y=m.length;if(y==0)return a.createRange(a.createPositionAt(f,"end"));for(;p<y-1;){const v=Math.floor((p+y)/2);xU(n,m[v],r,i)=="before"?y=v:p=v}return eb(n,m[p],r,i)}f=f.parent}return null}function cSe(n,e){const t=n.editing.mapper,r=n.editing.view.domConverter,i=t.toViewElement(e);if(!i)return!0;const s=r.mapViewToDom(i);return qe.window.getComputedStyle(s).float!="none"}function eb(n,e,t,r){const i=n.model;return i.createRange(i.createPositionAt(e,xU(n,e,t,r)))}function xU(n,e,t,r){const i=n.editing.mapper,s=n.editing.view.domConverter,o=i.toViewElement(e),a=s.mapViewToDom(o),l=new bt(a);return n.model.schema.isInline(e)?t<(l.left+l.right)/2?"before":"after":r<(l.top+l.bottom)/2?"before":"after"}function v6(n,e){const t=n.editing.mapper,r=n.editing.view,i=t.toModelElement(e);if(i)return i;const s=r.createPositionBefore(e),o=t.findMappedViewAncestor(s);return t.toModelElement(o)}function uSe(n){let e=n;do{e=e.parentElement;const t=qe.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}class dSe extends ee{_isBlockDragging=!1;_domEmitter=new(Ei());static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,r,i)=>{i?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),st.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const r=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(r,"dragstart",(i,s)=>this._handleBlockDragStart(s)),this._domEmitter.listenTo(qe.document,"dragover",(i,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(qe.document,"drop",(i,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(qe.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&r.setAttribute("draggable","true"),this.on("change:isEnabled",(i,s,o)=>{r.setAttribute("draggable",o?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,r=t.document.selection,i=this.editor.editing.view,s=Array.from(r.getSelectedBlocks()),o=t.createRange(t.createPositionBefore(s[0]),t.createPositionAfter(s[s.length-1]));t.change(a=>a.setSelection(o)),this._isBlockDragging=!0,i.focus(),i.getObserver(p0).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),r=e.clientY,i=document.elementFromPoint(t,r),s=this.editor.editing.view;!i||!i.closest(".ck-editor__editable")||s.getObserver(p0).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:i,clientX:t,clientY:r,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class fSe extends ee{_draggedRange;_draggingUid;_draggableElement;_clearDraggableAttributesDelayed=nC(()=>this._clearDraggableAttributes(),40);_blockMode=!1;_domEmitter=new(Ei());_previewContainer;static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[Ws,vh,Z1,dSe]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(p0),t.addObserver(VV),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,i,s)=>{s?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,i,s)=>{s||this._finalizeDragging(!1)}),st.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,r=e.editing.view,i=r.document,s=e.plugins.get(Z1);this.listenTo(i,"dragstart",(o,a)=>{if(a.target?.is("editableElement")){a.preventDefault();return}if(this._prepareDraggedRange(a.target),!this._draggedRange){a.preventDefault();return}this._draggingUid=ci();const l=this.isEnabled&&e.model.canEditAt(this._draggedRange);a.dataTransfer.effectAllowed=l?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const u=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(a.dataTransfer,u,"dragstart");const{dataTransfer:m,domTarget:p,domEvent:y}=a,{clientX:v}=y;this._updatePreview({dataTransfer:m,domTarget:p,clientX:v}),a.stopPropagation(),l||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(i,"dragend",(o,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(qe.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(i,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(i,"dragleave",()=>{s.removeDropMarkerDelayed()}),this.listenTo(i,"dragging",(o,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}const{clientX:l,clientY:u}=a.domEvent;if(!s.updateDropMarker(a.target,a.targetRanges,l,u,this._blockMode,this._draggedRange)){a.dataTransfer.dropEffect="none";return}this._draggedRange||(a.dataTransfer.dropEffect="copy"),st.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),o.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,r=e.editing.view.document,i=e.plugins.get(Z1);this.listenTo(r,"clipboardInput",(s,o)=>{if(o.method!="drop")return;const{clientX:a,clientY:l}=o.domEvent,u=i.getFinalDropRange(o.target,o.targetRanges,a,l,this._blockMode,this._draggedRange);if(!u){this._finalizeDragging(!1),s.stop();return}if(this._draggedRange&&this._draggingUid!=o.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),_6(o.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(u,!0)){this._finalizeDragging(!1),s.stop();return}o.targetRanges=[e.editing.mapper.toViewRange(u)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ws);e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const i=r.targetRanges.map(s=>this.editor.editing.mapper.toModelRange(s));this.editor.model.change(s=>s.setSelection(i))},{priority:"high"}),e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const i=_6(r.dataTransfer)=="move",s=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(s&&i)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,r=t.document;this.listenTo(r,"pointerdown",(i,s)=>{if(st.isAndroid||!s)return;this._clearDraggableAttributesDelayed.cancel();let o=x6(s.target);if(st.isBlink&&!e.isReadOnly&&!o&&!r.selection.isCollapsed){const a=r.selection.getSelectedElement();(!a||!Mn(a))&&(o=r.selection.editableElement)}o&&(t.change(a=>{a.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(r,"pointerup",()=>{st.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,r=t.model;t.plugins.get(Z1).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&r.change(s=>{const o=r.createSelection(this._draggedRange);r.deleteContent(o,{doNotAutoparagraph:!0});const a=o.getFirstPosition().parent;a.isEmpty&&!r.schema.checkChild(a,"$text")&&r.schema.checkChild(a,"paragraph")&&s.insertElement("paragraph",a,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,r=t.model,i=r.document.selection,s=e?x6(e):null;if(s){const u=t.editing.mapper.toModelElement(s);this._draggedRange=Di.fromRange(r.createRangeOn(u)),this._blockMode=r.schema.isBlock(u),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(i.isCollapsed&&!i.getFirstPosition().parent.isEmpty)return;const o=Array.from(i.getSelectedBlocks()),a=i.getFirstRange();if(o.length==0){this._draggedRange=Di.fromRange(a);return}const l=EU(r,o);if(o.length>1)this._draggedRange=Di.fromRange(l),this._blockMode=!0;else if(o.length==1){const u=a.start.isTouching(l.start)&&a.end.isTouching(l.end);this._draggedRange=Di.fromRange(u?l:a),this._blockMode=u}r.change(u=>u.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:r}){const i=this.editor.editing.view,s=i.document.selection.editableElement,o=i.domConverter.mapViewToDom(s),a=qe.window.getComputedStyle(o);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=lo(qe.document,"div",{style:"position: fixed; left: -999999px;"}),qe.document.body.appendChild(this._previewContainer));const l=lo(qe.document,"div");l.className="ck ck-content ck-clipboard-preview";const u=new bt(o),f=parseFloat(a.paddingLeft),m=parseFloat(a.paddingRight),p=parseFloat(a.width)-f-m;if(o.contains(t))if(st.isiOS)l.style.maxWidth=`${p}px`,l.style.padding="10px",l.style.minWidth="200px",l.style.minHeight="20px",l.style.boxSizing="border-box",l.style.backgroundColor="var(--ck-color-base-background)";else return;else if(st.isiOS)l.style.width=`${p}px`,l.style.backgroundColor="var(--ck-color-base-background)";else{const y=u.left-r+f;l.style.width=`${p+y}px`,l.style.paddingLeft=`${y}px`}i.domConverter.setContentOf(l,e.getData("text/html")),e.setDragImage(l,0,0),this._previewContainer.appendChild(l)}}function _6(n){return st.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function x6(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(Mn);if(Mn(n))return n;const e=n.findAncestor(t=>Mn(t)||t.is("editableElement"));return Mn(e)?e:null}function EU(n,e){const t=e[0],r=e[e.length-1],i=t.getCommonAncestor(r),s=n.createPositionBefore(t),o=n.createPositionAfter(r);if(i&&i.is("element")&&!n.schema.isLimit(i)){const a=n.createRangeOn(i),l=s.isTouching(a.start),u=o.isTouching(a.end);if(l&&u)return EU(n,[i])}return n.createRange(s,o)}class hSe extends ee{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[Ws]}init(){const e=this.editor,t=e.model,r=e.editing.view,i=t.document.selection;r.addObserver(p0),e.plugins.get(Ws).on("contentInsertion",(s,o)=>{mSe(o.content,t)&&t.change(a=>{const l=Array.from(i.getAttributes()).filter(([f])=>t.schema.getAttributeProperties(f).isFormatting);i.isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0}),l.push(...i.getAttributes());const u=a.createRangeIn(o.content);for(const f of u.getItems())for(const m of l)t.schema.checkAttribute(f,m[0])&&a.setAttribute(m[0],m[1],f)})})}}function mSe(n,e){let t=e.createRangeIn(n);if(n.childCount==1){const r=n.getChild(0);r.is("element")&&e.schema.isBlock(r)&&!e.schema.isObject(r)&&!e.schema.isLimit(r)&&(t=e.createRangeIn(r))}for(const r of t.getItems())if(!e.schema.isInline(r)||Array.from(r.getAttributeKeys()).find(s=>e.schema.getAttributeProperties(s).isFormatting))return!1;return!0}class kU extends ee{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[Tg,Ws,fSe,hSe]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const gSe={autoRefresh:!0},E6=36e5,pSe=5e3;class eA extends qt(){_refresh;_options;_tokenRefreshTimeout;_isDestroyed=!1;constructor(e,t={}){if(super(),!e)throw new q("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),typeof e=="function"?this._refresh=e:this._refresh=()=>bSe(e),this._options={...gSe,...t}}init(){return new Promise((e,t)=>{if(!this.value){this.refreshToken().then(e).catch(t);return}this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)})}refreshToken(){const e=this._options.autoRefresh;return this._refresh().then(t=>(this._validateTokenValue(t),this.set("value",t),e&&this._registerRefreshTokenTimeout(),this)).catch(t=>{throw Rt("token-refresh-failed",{autoRefresh:e}),e&&this._registerRefreshTokenTimeout(pSe),t})}destroy(){this._isDestroyed=!0,clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",r=!/^".*"$/.test(e),i=t&&e.split(".").length===3;if(!(r&&i))throw new q("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(e){if(clearTimeout(this._tokenRefreshTimeout),this._isDestroyed)return;const t=e||this._getTokenRefreshTimeoutTime();this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},t)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?(t>2147483647&&console.warn("Token expiration time exceeds 32-bit integer range. This might cause unpredictable token refresh timing. Token expiration time should always be provided in seconds.",{tokenExpireTime:t}),Math.floor((t*1e3-Date.now())/2)):E6}catch{return E6}}static create(e,t={}){return new eA(e,t).init()}}function bSe(n){return new Promise((e,t)=>{const r=new XMLHttpRequest;r.open("GET",n),r.addEventListener("load",()=>{const i=r.status,s=r.response;return i<200||i>299?t(new q("token-cannot-download-new-token",null)):e(s)}),r.addEventListener("error",()=>t(new Error("Network Error"))),r.addEventListener("abort",()=>t(new Error("Abort"))),r.send()})}const Xk=/^data:(\S*?);base64,/;class ySe extends an(){file;xhr;_token;_apiAddress;constructor(e,t,r){if(super(),!e)throw new q("fileuploader-missing-file",null);if(!t)throw new q("fileuploader-missing-token",null);if(!r)throw new q("fileuploader-missing-api-address",null);this.file=vSe(e)?wSe(e):e,this._token=t,this._apiAddress=r}onProgress(e){return this.on("progress",(t,r)=>e(r)),this}onError(e){return this.once("error",(t,r)=>e(r)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=r=>()=>this.fire("error",r);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort"));/* istanbul ignore else -- @preserve */e.upload&&e.upload.addEventListener("progress",r=>{r.lengthComputable&&this.fire("progress",{total:r.total,uploaded:r.loaded})}),e.addEventListener("load",()=>{const r=e.status,i=e.response;if(r<200||r>299)return this.fire("error",i.message||i.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((r,i)=>{t.addEventListener("load",()=>{const s=t.status,o=t.response;return s<200||s>299?o.message?i(new q("fileuploader-uploading-data-failed",this,{message:o.message})):i(o.error):r(o)}),t.addEventListener("error",()=>i(new Error("Network Error"))),t.addEventListener("abort",()=>i(new Error("Abort"))),t.send(e)})}}function wSe(n,e=512){try{const t=n.match(Xk)[1],r=atob(n.replace(Xk,"")),i=[];for(let s=0;s<r.length;s+=e){const o=r.slice(s,s+e),a=new Array(o.length);for(let l=0;l<o.length;l++)a[l]=o.charCodeAt(l);i.push(new Uint8Array(a))}return new Blob(i,{type:t})}catch{throw new q("fileuploader-decoding-image-data-error",null)}}function vSe(n){return typeof n!="string"?!1:!!n.match(Xk)?.length}class _Se{_token;_apiAddress;constructor(e,t){if(!e)throw new q("uploadgateway-missing-token",null);if(!t)throw new q("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new ySe(e,this._token,this._apiAddress)}}class xSe extends Ev{static get pluginName(){return"CloudServicesCore"}static get isOfficialPlugin(){return!0}createToken(e,t){return new eA(e,t)}createUploadGateway(e,t){return new _Se(e,t)}}class ESe extends Ev{tokenUrl;uploadUrl;webSocketUrl;bundleVersion;autoRefresh=!0;token=null;_tokens=new Map;static get pluginName(){return"CloudServices"}static get isOfficialPlugin(){return!0}static get requires(){return[xSe]}async init(){const t=this.context.config.get("cloudServices")||{};for(const[s,o]of Object.entries(t))this[s]=o;if(!this.tokenUrl){this.token=null;return}const i=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl,{autoRefresh:this.autoRefresh});try{this.token=await i.init(),this._tokens.set(this.tokenUrl,this.token)}catch(s){throw i.destroy(),s}}async registerTokenUrl(e){if(this._tokens.has(e))return this.getTokenFor(e);const r=await this.context.plugins.get("CloudServicesCore").createToken(e,{autoRefresh:this.autoRefresh}).init();return this._tokens.set(e,r),r}getTokenFor(e){const t=this._tokens.get(e);if(!t)throw new q("cloudservices-token-not-registered",this);return t}destroy(){super.destroy();for(const e of this._tokens.values())e.destroy()}}function kSe(n){return typeof n=="object"&&n!==null}function TSe(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function SSe(n){return kSe(n)&&n.nodeType===1&&!TSe(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class CSe extends Z2e{view;constructor(e,t){super(e),this.view=t}init(){const e=this.editor,t=this.view,r=e.editing.view,i=t.editable,s=r.document.getRoot();i.name=s.rootName,t.render();const o=i.element;this.setEditableElement(i.name,o),t.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(o),this._initPlaceholder(),this._initToolbar(),this.initMenuBar(this.view.menuBarView),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;t.getDomRoot(e.editable.name)&&t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view;t.toolbar.fillFromConfig(e.config.get("toolbar"),this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,r=t.document.getRoot(),i=e.config.get("placeholder");if(i){const s=typeof i=="string"?i:i[r.rootName];s&&(r.placeholder=s)}wC({view:t,element:r,isDirectHost:!1,keepOnFocus:!0})}}class ASe extends eEe{toolbar;editable;menuBarView;constructor(e,t,r={}){super(e),this.toolbar=new dc(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),this.menuBarView=new dEe(e),this.editable=new nEe(e,t,r.editableElement,{label:r.label}),this.toolbar.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:e.uiLanguageDirection}}),this.menuBarView.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:e.uiLanguageDirection}})}render(){super.render(),this.registerChild([this.menuBarView,this.toolbar,this.editable])}}class NSe extends uve(lve){static get editorName(){return"DecoupledEditor"}ui;constructor(e,t={}){if(!Db(e)&&t.initialData!==void 0)throw new q("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",PSe(e)),Db(e)&&(this.sourceElement=e,dve(this,e)),this.model.document.createRoot();const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=new ASe(this.locale,this.editing.view,{editableElement:this.sourceElement,shouldToolbarGroupWhenFull:r,label:this.config.get("label")});this.ui=new CSe(this,i)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(r=>{if(Db(e)&&e.tagName==="TEXTAREA")throw new q("editor-wrong-element",null);const i=new this(e,t);r(i.initPlugins().then(()=>i.ui.init()).then(()=>i.data.init(i.config.get("initialData"))).then(()=>i.fire("ready")).then(()=>i))})}}function PSe(n){return Db(n)?Oge(n):n}function Db(n){return SSe(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ISe extends lt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let r=e.schema.getLimitElement(t);if(t.containsEntireContent(r)||!k6(e.schema,r))do if(r=r.parent,!r)return;while(!k6(e.schema,r));e.change(i=>{i.setSelection(r,"in")})}}function k6(n,e){return n.isLimit(e)&&(n.checkChild(e,"$text")||n.checkChild(e,"paragraph"))}const RSe=lv("Ctrl+A");class OSe extends ee{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,i=e.editing.view.document;e.commands.add("selectAll",new ISe(e)),this.listenTo(i,"keydown",(s,o)=>{Cu(o)===RSe&&(e.execute("selectAll"),o.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class MSe extends ee{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(xn))}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("selectAll"),s=new e(t.locale),o=r.t;return s.set({label:o("Select all"),icon:$_e,keystroke:"Ctrl+A"}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),s}}class TU extends ee{static get requires(){return[OSe,MSe]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class SU extends lt{_stack=[];_createdBatches=new WeakSet;constructor(e){super(e),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,r)=>{r[1]={...r[1]};const i=r[1];i.batchType||(i.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,r={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,r){const i=this.editor.model,s=i.document,o=[],a=e.map(u=>u.getTransformedByOperations(r)),l=a.flat();for(const u of a){const f=u.filter(m=>m.root!=s.graveyard).filter(m=>!FSe(m,l));f.length&&(DSe(f),o.push(f[0]))}o.length&&i.change(u=>{u.setSelection(o,{backward:t})})}_undo(e,t){const r=this.editor.model,i=r.document;this._createdBatches.add(t);const s=e.operations.slice().filter(o=>o.isDocumentOperation);s.reverse();for(const o of s){const a=o.baseVersion+1,l=Array.from(i.history.getOperations(a)),f=Qbe([o.getReversed()],l,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let m of f){const p=m.affectedSelectable;p&&!r.canEditAt(p)&&(m=new Er(m.baseVersion)),t.addOperation(m),r.applyOperation(m),i.history.setOperationAsUndone(o,m)}}}}function DSe(n){n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<n.length;e++){const r=n[e-1].getJoined(n[e],!0);r&&(e--,n.splice(e,2,r))}}function FSe(n,e){return e.some(t=>t!==n&&t.containsRange(n,!0))}class LSe extends SU{execute(e=null){const t=e?this._stack.findIndex(s=>s.batch==e):this._stack.length-1,r=this._stack.splice(t,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{this._undo(r.batch,i);const s=this.editor.model.document.history.getOperations(r.batch.baseVersion);this._restoreSelection(r.selection.ranges,r.selection.isBackward,s)}),this.fire("revert",r.batch,i),this.refresh()}}class BSe extends SU{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const i=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(i);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,t)}),this.fire("revert",e.batch,t),this.refresh()}}class VSe extends ee{_undoCommand;_redoCommand;_batchRegistry=new WeakSet;static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;this._undoCommand=new LSe(e),this._redoCommand=new BSe(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(r,i)=>{const s=i[0];if(!s.isDocumentOperation)return;const o=s.batch,a=this._redoCommand.createdBatches.has(o),l=this._undoCommand.createdBatches.has(o);this._batchRegistry.has(o)||(this._batchRegistry.add(o),o.isUndoable&&(a?this._undoCommand.addBatch(o):l||(this._undoCommand.addBatch(o),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,i,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class USe extends ee{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale,r=e.t,i=t.uiLanguageDirection=="ltr"?yO:pO,s=t.uiLanguageDirection=="ltr"?pO:yO;this._addButtonsToFactory("undo",r("Undo"),"CTRL+Z",i),this._addButtonsToFactory("redo",r("Redo"),"CTRL+Y",s)}_addButtonsToFactory(e,t,r,i){const s=this.editor;s.ui.componentFactory.add(e,()=>{const o=this._createButton(et,e,t,r,i);return o.set({tooltip:!0}),o}),s.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(xn,e,t,r,i))}_createButton(e,t,r,i,s){const o=this.editor,a=o.locale,l=o.commands.get(t),u=new e(a);return u.set({label:r,icon:s,keystroke:i}),u.bind("isEnabled").to(l,"isEnabled"),this.listenTo(u,"execute",()=>{o.execute(t),o.editing.view.focus()}),u}}class tA extends ee{static get requires(){return[VSe,USe]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class zSe extends ee{static get requires(){return[S9,kU,rp,TU,Eke,Z9,tA]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}function HSe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function $Se(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=HSe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function CU(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(CU).join(",");const e=String(n);return e==="0"&&Object.is(Number(n),-0)?"-0":e}function WSe(n){return n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}function jSe(n){return WSe(CU(n))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class qSe extends Le{children;_findInputView;_replaceInputView;_findButtonView;_findPrevButtonView;_findNextButtonView;_advancedOptionsCollapsibleView;_matchCaseSwitchView;_wholeWordsOnlySwitchView;_replaceButtonView;_replaceAllButtonView;_inputsDivView;_actionButtonsDivView;_focusTracker;_keystrokes;_focusables;focusCycler;constructor(e){super(e);const t=e.t;this.children=this.createCollection(),this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(r,i)=>r>0&&!i),this._findInputView=this._createInputField(t("Find in text")),this._findPrevButtonView=this._createButton({label:t("Previous result"),class:"ck-button-prev",icon:uc,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:t("Next result"),class:"ck-button-next",icon:uc,keystroke:"F3",tooltip:!0}),this._replaceInputView=this._createInputField(t("Replace with"),"ck-labeled-field-replace"),this._inputsDivView=this._createInputsDiv(),this._matchCaseSwitchView=this._createMatchCaseSwitch(),this._wholeWordsOnlySwitchView=this._createWholeWordsOnlySwitch(),this._advancedOptionsCollapsibleView=this._createAdvancedOptionsCollapsible(),this._replaceAllButtonView=this._createButton({label:t("Replace all"),class:"ck-button-replaceall",withText:!0}),this._replaceButtonView=this._createButton({label:t("Replace"),class:"ck-button-replace",withText:!0}),this._findButtonView=this._createButton({label:t("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._actionButtonsDivView=this._createActionButtonsDiv(),this._focusTracker=new Yt,this._keystrokes=new bn,this._focusables=new br,this.focusCycler=new Tr({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.addMany([this._inputsDivView,this._advancedOptionsCollapsibleView,this._actionButtonsDivView]),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createInputsDiv(){const e=this.locale,t=e.t,r=new Le(e);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:i})=>i),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:i})=>i),this._injectFindResultsCounter(),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:i},s)=>i&&s),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(i,s)=>i||!s?"":t("Tip: Find some text first in order to replace it.")),r.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__inputs"]},children:[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView]}),r}_onFindButtonExecute(){if(!this._textToFind){const e=this.t;this._findInputView.errorText=e("Text to find must not be empty.");return}this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly})}_injectFindResultsCounter(){const e=this.locale,t=e.t,r=this.bindTemplate,i=new Le(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(o,a)=>t("%0 of %1",[o,a])),i.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",r.if("isDirty","ck-hidden")]},children:[{text:r.to("_resultsCounterText")}]});const s=()=>{const o=this._findInputView.fieldView.element;if(!o||!aa(o))return;const a=new bt(i.element).width,l=e.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";a?o.style[l]=`calc( 2 * var(--ck-spacing-standard) + ${a}px )`:o.style[l]=""};this.on("change:_resultsCounterText",s,{priority:"low"}),this.on("change:isDirty",s,{priority:"low"}),this._findInputView.template.children[0].children.push(i)}_createAdvancedOptionsCollapsible(){const e=this.locale.t,t=new WC(this.locale,[this._matchCaseSwitchView,this._wholeWordsOnlySwitchView]);return t.set({label:e("Advanced options"),isCollapsed:!0}),t}_createActionButtonsDiv(){const e=new Le(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:t},r)=>t&&r),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:t},r)=>t&&r),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),e.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__actions"]},children:[this._replaceAllButtonView,this._replaceButtonView,this._findButtonView]}),e}_createMatchCaseSwitch(){const e=this.locale.t,t=new Nu(this.locale);return t.set({label:e("Match case"),withText:!0}),t.bind("isOn").to(this,"_matchCase"),t.on("execute",()=>{this._matchCase=!this._matchCase,this.isDirty=!0}),t}_createWholeWordsOnlySwitch(){const e=this.locale.t,t=new Nu(this.locale);return t.set({label:e("Whole words only"),withText:!0}),t.bind("isOn").to(this,"_wholeWordsOnly"),t.on("execute",()=>{this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),t}_initFocusCycling(){[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._advancedOptionsCollapsibleView.buttonView,this._matchCaseSwitchView,this._wholeWordsOnlySwitchView,this._replaceAllButtonView,this._replaceButtonView,this._findButtonView].forEach(t=>{this._focusables.add(t),this._focusTracker.add(t.element)})}_initKeystrokeHandling(){const e=r=>r.stopPropagation(),t=r=>{r.stopPropagation(),r.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",r=>{t(r),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",r=>{t(r),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",r=>{const i=r.target;i===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),t(r)):i===this._replaceInputView.fieldView.element&&!this.isDirty&&(this._replaceButtonView.fire("execute"),t(r))}),this._keystrokes.set("shift+enter",r=>{r.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),t(r))}),this._keystrokes.set("arrowright",e),this._keystrokes.set("arrowleft",e),this._keystrokes.set("arrowup",e),this._keystrokes.set("arrowdown",e)}_createButton(e){const t=new et(this.locale);return t.set(e),t}_createInputField(e,t){const r=new Kn(this.locale,gs);return r.label=e,r.class=t,r}}class GSe extends ee{static get requires(){return[is]}static get pluginName(){return"FindAndReplaceUI"}static get isOfficialPlugin(){return!0}formView;constructor(e){super(e),e.config.define("findAndReplace.uiType","dialog"),this.formView=null}init(){const e=this.editor,t=e.config.get("findAndReplace.uiType")==="dropdown",r=e.commands.get("find"),i=this.editor.t;e.ui.componentFactory.add("findAndReplace",()=>{let s;return t?(s=this._createDropdown(),s.bind("isEnabled").to(r)):s=this._createDialogButtonForToolbar(),e.keystrokes.set("Ctrl+F",(o,a)=>{if(r.isEnabled){if(s instanceof g0){const l=s.buttonView;l.isOn||l.fire("execute")}else s.isOn?e.plugins.get("Dialog").view.focus():s.fire("execute");a()}}),s}),t||e.ui.componentFactory.add("menuBar:findAndReplace",()=>this._createDialogButtonForMenuBar()),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Find in the document"),keystroke:"CTRL+F"}]})}_createDropdown(){const e=this.editor,t=e.locale.t,r=kr(e.locale);return r.once("change:isOpen",()=>{this.formView=this._createFormView(),this.formView.children.add(new bl(e.locale,{label:t("Find and replace")}),0),r.panelView.children.add(this.formView)}),r.on("change:isOpen",(i,s,o)=>{o?this._setupFormView():this.fire("searchReseted")},{priority:"low"}),r.buttonView.set({icon:dO,label:t("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),r}_createDialogButtonForToolbar(){const e=this.editor,t=this._createButton(et),r=e.plugins.get("Dialog");return t.set({tooltip:!0}),t.bind("isOn").to(r,"id",i=>i==="findAndReplace"),t.on("execute",()=>{t.isOn?r.hide():this._showDialog()}),t}_createDialogButtonForMenuBar(){const e=this._createButton(xn),t=this.editor.plugins.get("Dialog"),r=this.editor.plugins.get("Dialog");return e.set({role:"menuitemcheckbox",isToggleable:!0}),e.bind("isOn").to(r,"id",i=>i==="findAndReplace"),e.on("execute",()=>{if(t.id==="findAndReplace"){t.hide();return}this._showDialog()}),e}_createButton(e){const t=this.editor,r=t.commands.get("find"),i=new e(t.locale),s=t.locale.t;return i.bind("isEnabled").to(r),i.set({icon:dO,label:s("Find and replace"),keystroke:"CTRL+F"}),i}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),r=e.locale.t;this.formView||(this.formView=this._createFormView()),t.show({id:"findAndReplace",title:r("Find and replace"),content:this.formView,position:ns.EDITOR_TOP_SIDE,onShow:()=>{this._setupFormView()},onHide:()=>{this.fire("searchReseted")}})}_createFormView(){const e=this.editor,t=new(f0(qSe))(e.locale),r=e.commands,s=this.editor.plugins.get("FindAndReplaceEditing").state;t.bind("highlightOffset").to(s,"highlightedOffset"),t.listenTo(s.results,"change",()=>{t.matchCount=s.results.length});const o=r.get("findNext"),a=r.get("findPrevious"),l=r.get("replace"),u=r.get("replaceAll");return t.bind("_areCommandsEnabled").to(o,"isEnabled",a,"isEnabled",l,"isEnabled",u,"isEnabled",(f,m,p,y)=>({findNext:f,findPrevious:m,replace:p,replaceAll:y})),t.delegate("findNext","findPrevious","replace","replaceAll").to(this),t.on("change:isDirty",(f,m,p)=>{p&&this.fire("searchReseted")}),t}_setupFormView(){this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()}}class YSe extends lt{_state;constructor(e,t){super(e),this.isEnabled=!0,this.affectsData=!1,this._state=t}execute(e,{matchCase:t,wholeWords:r}={}){const{editor:i}=this,{model:s}=i,o=i.plugins.get("FindAndReplaceUtils");let a,l="";typeof e=="string"?a=(...m)=>({results:o.findByTextCallback(e,{matchCase:t,wholeWords:r})(...m),searchText:e}):a=e;const u=a;a=(...m)=>{const p=u(...m);return p&&"searchText"in p&&(l=p.searchText),p};const f=s.document.getRootNames().reduce((m,p)=>o.updateFindResultFromRange(s.createRangeIn(s.document.getRoot(p)),s,a,m),null);return this._state.clear(s),this._state.results.addMany(f),this._state.highlightedResult=f.get(0),this._state.searchText=l,a&&(this._state.lastSearchCallback=a),this._state.matchCase=!!t,this._state.matchWholeWords=!!r,{results:f,findCallback:a}}}class KSe extends qt(){constructor(e){super(),this.set("results",new sr),this.set("highlightedResult",null),this.set("highlightedOffset",0),this.set("searchText",""),this.set("replaceText",""),this.set("lastSearchCallback",null),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(t,{removed:r,index:i})=>{if(Array.from(r).length){let s=!1;if(e.change(o=>{for(const a of r)this.highlightedResult===a&&(s=!0),e.markers.has(a.marker.name)&&o.removeMarker(a.marker)}),s){const o=i>=this.results.length?0:i;this.highlightedResult=this.results.get(o)}}}),this.on("change:highlightedResult",()=>{this.refreshHighlightOffset(e)})}clear(e){this.searchText="",e.change(t=>{if(this.highlightedResult){const r=this.highlightedResult.marker.name.split(":")[1],i=e.markers.get(`findResultHighlighted:${r}`);i&&t.removeMarker(i)}[...this.results].forEach(({marker:r})=>{t.removeMarker(r)})}),this.results.clear()}refreshHighlightOffset(e){const{highlightedResult:t,results:r}=this;t?this.highlightedOffset=AU(e,[...r]).indexOf(t)+1:this.highlightedOffset=0}}function AU(n,e){const t={before:-1,same:0,after:1,different:1};return n.document.getRootNames().flatMap(r=>e.filter(i=>i.marker.getStart().root.rootName===r).sort((i,s)=>t[i.marker.getStart().compareWith(s.marker.getStart())]))}class NU extends lt{_state;constructor(e,t){super(e),this.isEnabled=!0,this._state=t,this._isEnabledBasedOnSelection=!1}_replace(e,t){const{model:r}=this.editor,i=t.marker.getRange();r.canEditAt(i)&&r.change(s=>{if(i.root.rootName==="$graveyard"){this._state.results.remove(t);return}let o={};for(const a of i.getItems())if(a.is("$text")||a.is("$textProxy")){o=a.getAttributes();break}r.insertContent(s.createText(e,o),i),this._state.results.has(t)&&this._state.results.remove(t)})}}class XSe extends NU{execute(e,t){const r=Math.max(this._state.highlightedOffset-1,0);if(this._replace(e,t),this._state.results.length){const i=AU(this.editor.model,[...this._state.results]);this._state.highlightedResult=i[r%i.length]}}}class JSe extends NU{execute(e,t){const{editor:r}=this,{model:i}=r,s=r.plugins.get("FindAndReplaceUtils"),o=t instanceof sr?t:i.document.getRootNames().reduce((a,l)=>s.updateFindResultFromRange(i.createRangeIn(i.document.getRoot(l)),i,s.findByTextCallback(t,this._state),a),null);o.length&&i.change(()=>{[...o].forEach(a=>{this._replace(e,a)})})}}class PU extends lt{_state;constructor(e,t){super(e),this.affectsData=!1,this._state=t,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const e=this._state.results,t=e.getIndex(this._state.highlightedResult),r=t+1>=e.length?0:t+1;this._state.highlightedResult=this._state.results.get(r)}}class QSe extends PU{execute(){const t=this._state.results.getIndex(this._state.highlightedResult),r=t-1<0?this._state.results.length-1:t-1;this._state.highlightedResult=this._state.results.get(r)}}class ZSe extends ee{static get pluginName(){return"FindAndReplaceUtils"}static get isOfficialPlugin(){return!0}updateFindResultFromRange(e,t,r,i){const s=i||new sr,o=a=>s.find(l=>{const{marker:u}=l,f=u.getRange(),m=a.getRange();return f.isEqual(m)});return t.change(a=>{[...e].forEach(({type:l,item:u})=>{if(l==="elementStart"&&t.schema.checkChild(u,"$text")){let f=r({item:u,text:this.rangeToText(t.createRangeIn(u))});if(!f)return;"results"in f&&(f=f.results),f.forEach(m=>{const p=`findResult:${ci()}`,y=a.addMarker(p,{usingOperation:!1,affectsData:!1,range:a.createRange(a.createPositionAt(u,m.start),a.createPositionAt(u,m.end))}),v=eCe(s,y);o(y)||s.add({id:p,label:m.label,marker:y},v)})}})}),s}rangeToText(e){return Array.from(e.getItems({shallow:!0})).reduce((t,r)=>r.is("$text")||r.is("$textProxy")?t+r.data:`${t}
`,"")}findByTextCallback(e,t){let r="gu";t.matchCase||(r+="i");let i=`(${jSe(e)})`;if(t.wholeWords){const a="[^a-zA-Z--]";new RegExp("^"+a).test(e)||(i=`(^|${a}|_)${i}`),new RegExp(a+"$").test(e)||(i=`${i}(?=_|${a}|$)`)}const s=new RegExp(i,r);function o({text:a}){return[...a.matchAll(s)].map(tCe)}return o}}function eCe(n,e){const t=n.find(({marker:r})=>e.getStart().isBefore(r.getStart()));return t?n.getIndex(t):n.length}function tCe(n){const e=n.length-1;let t=n.index;return n.length===3&&(t+=n[1].length),{label:n[e],start:t,end:t+n[e].length}}const nCe="ck-find-result_selected";class rCe extends ee{static get requires(){return[ZSe]}static get pluginName(){return"FindAndReplaceEditing"}static get licenseFeatureCode(){return"FAR"}static get isPremiumPlugin(){return!0}static get isOfficialPlugin(){return!0}state;init(){this.state=new KSe(this.editor.model),this.set("_isSearchActive",!1),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(r,i,s,o)=>{const{model:a}=this.editor;a.change(l=>{if(o){const u=o.marker.name.split(":")[1],f=a.markers.get(`findResultHighlighted:${u}`);f&&l.removeMarker(f)}if(s){const u=s.marker.name.split(":")[1];l.addMarker(`findResultHighlighted:${u}`,{usingOperation:!1,affectsData:!1,range:s.marker.getRange()})}})});/* istanbul ignore next -- @preserve */const t=$Se(((r,i,s)=>{if(s){const o=this.editor.editing.view.domConverter,a=this.editor.editing.mapper.toViewRange(s.marker.getRange());DB({target:o.viewRangeToDom(a),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",t,{priority:"low"}),this.listenTo(this.editor,"destroy",t.cancel),this.on("change:_isSearchActive",(r,i,s)=>{s?this.listenTo(this.editor.model.document,"change:data",this._onDocumentChange):this.stopListening(this.editor.model.document,"change:data",this._onDocumentChange)})}find(e,t){return this._isSearchActive=!0,this.editor.execute("find",e,t),this.state.results}stop(){this.state.clear(this.editor.model),this._isSearchActive=!1}_defineCommands(){this.editor.commands.add("find",new YSe(this.editor,this.state)),this.editor.commands.add("findNext",new PU(this.editor,this.state)),this.editor.commands.add("findPrevious",new QSe(this.editor,this.state)),this.editor.commands.add("replace",new XSe(this.editor,this.state)),this.editor.commands.add("replaceAll",new JSe(this.editor,this.state))}_defineConverters(){const{editor:e}=this;e.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:t})=>{const[,r]=t.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":r}}}}),e.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:t})=>{const[,r]=t.split(":");return{name:"span",classes:[nCe],attributes:{"data-find-result":r}}}})}_onDocumentChange=()=>{const e=new Set,t=new Set,r=this.editor.model,{results:i}=this.state,s=r.document.differ.getChanges(),o=r.document.differ.getChangedMarkers();s.forEach(u=>{u.position&&(u.name==="$text"||u.position.nodeAfter&&r.schema.isInline(u.position.nodeAfter)?(e.add(u.position.parent),[...r.markers.getMarkersAtPosition(u.position)].forEach(f=>{t.add(f.name)})):u.type==="insert"&&u.position.nodeAfter&&e.add(u.position.nodeAfter))}),o.forEach(({name:u,data:{newRange:f}})=>{f&&f.start.root.rootName==="$graveyard"&&t.add(u)}),e.forEach(u=>{[...r.markers.getMarkersIntersectingRange(r.createRangeIn(u))].forEach(m=>t.add(m.name))}),t.forEach(u=>{i.has(u)&&(i.get(u)===this.state.highlightedResult&&(this.state.highlightedResult=null),i.remove(u))});const a=[],l=this.editor.plugins.get("FindAndReplaceUtils");e.forEach(u=>{const f=l.updateFindResultFromRange(r.createRangeOn(u),r,this.state.lastSearchCallback,i);a.push(...f)}),o.forEach(u=>{if(u.data.newRange){const f=l.updateFindResultFromRange(u.data.newRange,r,this.state.lastSearchCallback,i);a.push(...f)}}),!this.state.highlightedResult&&a.length?this.state.highlightedResult=a[0]:this.state.refreshHighlightOffset(r)}}class iCe extends ee{static get requires(){return[rCe,GSe]}static get pluginName(){return"FindAndReplace"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get("FindAndReplaceUI"),t=this.editor.plugins.get("FindAndReplaceEditing"),r=t.state;e.on("findNext",(i,s)=>{s?(r.searchText=s.searchText,t.find(s.searchText,s)):this.editor.execute("findNext")}),e.on("findPrevious",(i,s)=>{s&&r.searchText!==s.searchText?t.find(s.searchText):this.editor.execute("findPrevious")}),e.on("replace",(i,s)=>{r.searchText!==s.searchText&&t.find(s.searchText);const o=r.highlightedResult;o&&this.editor.execute("replace",s.replaceText,o)}),e.on("replaceAll",(i,s)=>{r.searchText!==s.searchText&&t.find(s.searchText),this.editor.execute("replaceAll",s.replaceText,r.results)}),e.on("searchReseted",()=>{r.clear(this.editor.model),t.stop()})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Nv extends lt{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,i=t.document.selection,s=e.value,o=e.batch,a=l=>{if(i.isCollapsed)s?l.setSelectionAttribute(this.attributeKey,s):l.removeSelectionAttribute(this.attributeKey);else{const u=t.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const f of u)s?l.setAttribute(this.attributeKey,s,f):l.removeAttribute(this.attributeKey,f)}};o?t.enqueueChange(o,l=>{a(l)}):t.change(l=>{a(l)})}}const Ri="fontSize",Oi="fontFamily",Ko="fontColor",$a="fontBackgroundColor";function IU(n,e){const t={model:{key:n,values:[]},view:{},upcastAlso:{}};for(const r of e)t.model.values.push(r.model),t.view[r.model]=r.view,r.upcastAlso&&(t.upcastAlso[r.model]=r.upcastAlso);return t}function RU(n){return e=>oCe(e.getStyle(n))}function OU(n){return(e,{writer:t})=>t.createAttributeElement("span",{style:`${n}:${e}`},{priority:7})}function sCe({dropdownView:n,colors:e,columns:t,removeButtonLabel:r,colorPickerLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerViewConfig:a}){const l=n.locale,u=new GC(l,{colors:e,columns:t,removeButtonLabel:r,colorPickerLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerViewConfig:a});return n.colorSelectorView=u,n.panelView.children.add(u),u}function oCe(n){return n.replace(/\s/g,"")}class aCe extends Nv{constructor(e){super(e,Oi)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function MU(n){return n.map(lCe).filter(e=>e!==void 0)}function Jk(n){return n.replace(/["']/g,"").split(",").map(e=>e.trim())}function lCe(n){if(typeof n=="object")return n;if(n==="default")return{title:"Default",model:void 0};if(typeof n=="string")return cCe(n)}function cCe(n){const e=Jk(n),t=e[0],r=e.map(uCe).join(", ");return{title:t,model:r,view:{name:"span",styles:{"font-family":r},priority:7}}}function uCe(n){return n=n.trim(),n.indexOf(" ")>0&&(n=`'${n}'`),n}class dCe extends ee{static get pluginName(){return"FontFamilyEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Oi,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Oi}),e.model.schema.setAttributeProperties(Oi,{isFormatting:!0,copyOnEnter:!0});const t=MU(e.config.get("fontFamily.options")).filter(i=>i.model),r=IU(Oi,t);e.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(r),e.commands.add(Oi,new aCe(e))}_prepareAnyValueConverters(){const e=this.editor;e.conversion.for("downcast").attributeToElement({model:Oi,view:(t,{writer:r})=>r.createAttributeElement("span",{style:"font-family:"+t},{priority:7})}),e.conversion.for("upcast").elementToAttribute({model:{key:Oi,value:t=>t.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:Oi,value:t=>t.getAttribute("face")}})}}class fCe extends ee{static get pluginName(){return"FontFamilyUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,r=this._getLocalizedOptions(),i=e.commands.get(Oi),s=t("Font Family"),o=hCe(r,i);e.ui.componentFactory.add(Oi,a=>{const l=kr(a);return vc(l,o,{role:"menu",ariaLabel:s}),l.buttonView.set({label:s,icon:fO,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),l.bind("isEnabled").to(i),this.listenTo(l,"execute",u=>{e.execute(u.source.commandName,{value:u.source.commandParam}),e.editing.view.focus()}),l}),e.ui.componentFactory.add(`menuBar:${Oi}`,a=>{const l=new zi(a);l.buttonView.set({label:s,icon:fO}),l.bind("isEnabled").to(i);const u=new hc(a);for(const f of o){const m=new dl(a,l),p=new xn(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(f.model)).to(f.model),p.delegate("execute").to(l),p.on("execute",()=>{e.execute(f.model.commandName,{value:f.model.commandParam}),e.editing.view.focus()}),m.children.add(p),u.items.add(m)}return l.panelView.children.add(u),l})}_getLocalizedOptions(){const e=this.editor,t=e.t;return MU(e.config.get(Oi).options).map(i=>(i.title==="Default"&&(i.title=t("Default")),i))}}function hCe(n,e){const t=new sr;for(const r of n){const i={type:"button",model:new fc({commandName:Oi,commandParam:r.model,label:r.title,role:"menuitemradio",withText:!0})};i.model.bind("isOn").to(e,"value",s=>{if(s===r.model)return!0;if(!s||!r.model)return!1;const o=Jk(s)[0].toLowerCase(),a=Jk(r.model)[0].toLowerCase();return o===a}),r.view&&typeof r.view!="string"&&r.view.styles&&i.model.set("labelStyle",`font-family: ${r.view.styles["font-family"]}`),t.add(i)}return t}class mCe extends ee{static get requires(){return[dCe,fCe]}static get pluginName(){return"FontFamily"}static get isOfficialPlugin(){return!0}}class gCe extends Nv{constructor(e){super(e,Ri)}}function b0(n){return n.map(e=>pCe(e)).filter(e=>e!==void 0)}const T6={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function pCe(n){if(typeof n=="number"&&(n=String(n)),typeof n=="object"&&wCe(n))return Qk(n);const e=yCe(n);if(e)return Qk(e);if(n==="default")return{model:void 0,title:"Default"};if(!vCe(n))return bCe(n)}function bCe(n){return typeof n=="string"&&(n={title:n,model:`${parseFloat(n)}px`}),n.view={name:"span",styles:{"font-size":n.model}},Qk(n)}function Qk(n){return n.view&&typeof n.view!="string"&&!n.view.priority&&(n.view.priority=7),n}function yCe(n){return typeof n=="string"?T6[n]:T6[n.model]}function wCe(n){return n.title&&n.model&&n.view}function vCe(n){let e;if(typeof n=="object")if(n.model)e=parseFloat(n.model);else throw new q("font-size-invalid-definition",null,n);else e=parseFloat(n);return isNaN(e)}const S6=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class _Ce extends ee{static get pluginName(){return"FontSizeEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Ri,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Ri}),e.model.schema.setAttributeProperties(Ri,{isFormatting:!0,copyOnEnter:!0});const t=e.config.get("fontSize.supportAllValues"),r=b0(this.editor.config.get("fontSize.options")).filter(s=>s.model),i=IU(Ri,r);t?(this._prepareAnyValueConverters(i),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(i),e.commands.add(Ri,new gCe(e))}_prepareAnyValueConverters(e){const t=this.editor,r=e.model.values.filter(i=>!xv(String(i))&&!zV(String(i)));if(r.length)throw new q("font-size-invalid-use-of-named-presets",null,{presets:r});t.conversion.for("downcast").attributeToElement({model:Ri,view:(i,{writer:s})=>{if(i)return s.createAttributeElement("span",{style:"font-size:"+i},{priority:7})}}),t.conversion.for("upcast").elementToAttribute({model:{key:Ri,value:i=>i.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:Ri,value:t=>{const r=t.getAttribute("size"),i=r[0]==="-"||r[0]==="+";let s=parseInt(r,10);i&&(s=3+s);const o=S6.length-1,a=Math.min(Math.max(s,0),o);return S6[a]}}})}}class xCe extends ee{static get pluginName(){return"FontSizeUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,r=this._getLocalizedOptions(),i=e.commands.get(Ri),s=t("Font Size"),o=ECe(r,i);e.ui.componentFactory.add(Ri,a=>{const l=kr(a);return vc(l,o,{role:"menu",ariaLabel:s}),l.buttonView.set({label:s,icon:hO,tooltip:!0}),l.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),l.bind("isEnabled").to(i),this.listenTo(l,"execute",u=>{e.execute(u.source.commandName,{value:u.source.commandParam}),e.editing.view.focus()}),l}),e.ui.componentFactory.add(`menuBar:${Ri}`,a=>{const l=new zi(a);l.buttonView.set({label:s,icon:hO}),l.bind("isEnabled").to(i);const u=new hc(a);for(const f of o){const m=new dl(a,l),p=new xn(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(f.model)).to(f.model),p.delegate("execute").to(l),p.on("execute",()=>{e.execute(f.model.commandName,{value:f.model.commandParam}),e.editing.view.focus()}),m.children.add(p),u.items.add(m)}return l.panelView.children.add(u),l})}_getLocalizedOptions(){const e=this.editor,t=e.t,r={Default:t("Default"),Tiny:t("Tiny"),Small:t("Small"),Big:t("Big"),Huge:t("Huge")};return b0(e.config.get(Ri).options).map(s=>{const o=r[s.title];return o&&o!=s.title&&(s=Object.assign({},s,{title:o})),s})}}function ECe(n,e){const t=new sr;for(const r of n){const i={type:"button",model:new fc({commandName:Ri,commandParam:r.model,label:r.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};r.view&&typeof r.view!="string"&&(r.view.styles&&i.model.set("labelStyle",`font-size:${r.view.styles["font-size"]}`),r.view.classes&&i.model.set("class",`${i.model.class} ${r.view.classes}`)),i.model.bind("isOn").to(e,"value",s=>s===r.model),t.add(i)}return t}class kCe extends ee{static get requires(){return[_Ce,xCe]}static get pluginName(){return"FontSize"}static get isOfficialPlugin(){return!0}normalizeSizeOptions(e){return b0(e)}}class TCe extends Nv{constructor(e){super(e,Ko)}}class SCe extends ee{static get pluginName(){return"FontColorEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Ko,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Ko,value:RU("color")}}),e.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Ko,value:t=>t.getAttribute("color")}}),e.conversion.for("downcast").attributeToElement({model:Ko,view:OU("color")}),e.commands.add(Ko,new TCe(e)),e.model.schema.extend("$text",{allowAttributes:Ko}),e.model.schema.setAttributeProperties(Ko,{isFormatting:!0,copyOnEnter:!0})}}class DU extends ee{commandName;componentName;icon;dropdownLabel;columns;constructor(e,{commandName:t,componentName:r,icon:i,dropdownLabel:s}){super(e),this.commandName=t,this.componentName=r,this.icon=i,this.dropdownLabel=s,this.columns=e.config.get(`${this.componentName}.columns`)}init(){const e=this.editor,t=e.locale,r=t.t,i=e.commands.get(this.commandName),s=e.config.get(this.componentName),o=m0(s.colors),a=h0(t,o),l=s.documentColors,u=s.colorPicker!==!1;e.ui.componentFactory.add(this.componentName,f=>{const m=kr(f);let p=!1;const y=sCe({dropdownView:m,colors:a.map(v=>({label:v.label,color:v.model,options:{hasBorder:v.hasBorder}})),columns:this.columns,removeButtonLabel:r("Remove color"),colorPickerLabel:r("Color picker"),documentColorsLabel:l!==0?r("Document colors"):"",documentColorsCount:l===void 0?this.columns:l,colorPickerViewConfig:u?s.colorPicker||{}:!1});return y.bind("selectedColor").to(i,"value"),m.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),m.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),m.bind("isEnabled").to(i),y.on("execute",(v,w)=>{m.isOpen&&e.execute(this.commandName,{value:w.value,batch:this._undoStepBatch}),w.source!=="colorPicker"&&e.editing.view.focus(),w.source==="colorPickerSaveButton"&&(m.isOpen=!1)}),y.on("colorPicker:show",()=>{this._undoStepBatch=e.model.createBatch()}),y.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(m.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()}),m.on("change:isOpen",(v,w,E)=>{p||(p=!0,m.colorSelectorView.appendUI()),E&&(l!==0&&y.updateDocumentColors(e.model,this.componentName),y.updateSelectedColors(),y.showColorGridsFragment())}),Av(m,()=>m.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(v=>v.isOn)),m}),e.ui.componentFactory.add(`menuBar:${this.componentName}`,f=>{const m=new zi(f);m.buttonView.set({label:this.dropdownLabel,icon:this.icon}),m.bind("isEnabled").to(i);let p=!1;const y=new GC(f,{colors:a.map(v=>({label:v.label,color:v.model,options:{hasBorder:v.hasBorder}})),columns:this.columns,removeButtonLabel:r("Remove color"),colorPickerLabel:r("Color picker"),documentColorsLabel:l!==0?r("Document colors"):"",documentColorsCount:l===void 0?this.columns:l,colorPickerViewConfig:!1});return y.bind("selectedColor").to(i,"value"),y.delegate("execute").to(m),y.on("execute",(v,w)=>{e.execute(this.commandName,{value:w.value,batch:this._undoStepBatch}),e.editing.view.focus()}),m.on("change:isOpen",(v,w,E)=>{p||(p=!0,y.appendUI()),E&&(l!==0&&y.updateDocumentColors(e.model,this.componentName),y.updateSelectedColors(),y.showColorGridsFragment())}),m.panelView.children.add(y),m})}}class CCe extends DU{constructor(e){const t=e.locale.t;super(e,{commandName:Ko,componentName:Ko,icon:d_e,dropdownLabel:t("Font Color")})}static get pluginName(){return"FontColorUI"}}class ACe extends ee{static get requires(){return[SCe,CCe]}static get pluginName(){return"FontColor"}static get isOfficialPlugin(){return!0}}class NCe extends Nv{constructor(e){super(e,$a)}}class PCe extends ee{static get pluginName(){return"FontBackgroundColorEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define($a,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.data.addStyleProcessorRules(RC),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:$a,value:RU("background-color")}}),e.conversion.for("downcast").attributeToElement({model:$a,view:OU("background-color")}),e.commands.add($a,new NCe(e)),e.model.schema.extend("$text",{allowAttributes:$a}),e.model.schema.setAttributeProperties($a,{isFormatting:!0,copyOnEnter:!0})}}class ICe extends DU{constructor(e){const t=e.locale.t;super(e,{commandName:$a,componentName:$a,icon:u_e,dropdownLabel:t("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class RCe extends ee{static get requires(){return[PCe,ICe]}static get pluginName(){return"FontBackgroundColor"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class OCe extends lt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,r=_n(t.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&C6(r,e.schema)}execute(e={}){const t=this.editor.model,r=t.document,i=e.selection||r.selection;t.canEditAt(i)&&t.change(s=>{const o=i.getSelectedBlocks();for(const a of o)!a.is("element","paragraph")&&C6(a,t.schema)&&s.rename(a,"paragraph")})}}function C6(n,e){return e.checkChild(n.parent,"paragraph")&&!e.isObject(n)}class MCe extends lt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,r=e.attributes;let i=e.position;return t.canEditAt(i)?t.change(s=>{if(i=this._findPositionToInsertParagraph(i,s),!i)return null;const o=s.createElement("paragraph");return r&&t.schema.setAllowedAttributes(o,r,s),t.insertContent(o,i),s.setSelection(o,"in"),s.createPositionAt(o,0)}):null}_findPositionToInsertParagraph(e,t){const r=this.editor.model;if(r.schema.checkChild(e,"paragraph"))return e;const i=r.schema.findAllowedParent(e,"paragraph");if(!i)return null;const s=e.parent,o=r.schema.checkChild(s,"$text");return s.isEmpty||o&&e.isAtEnd?r.createPositionAfter(s):!s.isEmpty&&o&&e.isAtStart?r.createPositionBefore(s):t.split(e,i).position}}class Pv extends ee{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new OCe(e)),e.commands.add("insertParagraph",new MCe(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(r,{writer:i})=>!Pv.paragraphLikeElements.has(r.name)||r.isEmpty?null:i.createElement("paragraph"),view:/.+/,converterPriority:"low"})}static paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class DCe extends lt{modelElements;constructor(e,t){super(e),this.modelElements=t}refresh(){const e=_n(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>A6(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,r=t.document,i=e.value;t.change(s=>{const o=Array.from(r.selection.getSelectedBlocks()).filter(a=>A6(a,i,t.schema));for(const a of o)a.is("element",i)||s.rename(a,i)})}}function A6(n,e,t){return t.checkChild(n.parent,e)&&!t.isObject(n)}const N6="paragraph";class FCe extends ee{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Pv]}init(){const e=this.editor,t=e.config.get("heading.options"),r=[];for(const i of t)i.model!=="paragraph"&&(e.model.schema.register(i.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(i),r.push(i.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new DCe(e,r))}afterInit(){const e=this.editor,t=e.commands.get("enter"),r=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(i,s)=>{const o=e.model.document.selection.getFirstPosition().parent;r.some(l=>o.is("element",l.model))&&!o.is("element",N6)&&o.childCount===0&&s.writer.rename(o,N6)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:hs.low+1})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function LCe(n){const e=n.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return n.config.get("heading.options").map(r=>{const i=t[r.title];return i&&i!=r.title&&(r.title=i),r})}class BCe extends ee{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,r=LCe(e),i=t("Choose heading"),s=t("Heading");e.ui.componentFactory.add("heading",o=>{const a={},l=new sr,u=e.commands.get("heading"),f=e.commands.get("paragraph"),m=[u];for(const y of r){const v={type:"button",model:new fc({label:y.title,class:y.class,role:"menuitemradio",withText:!0})};y.model==="paragraph"?(v.model.bind("isOn").to(f,"value"),v.model.set("commandName","paragraph"),m.push(f)):(v.model.bind("isOn").to(u,"value",w=>w===y.model),v.model.set({commandName:"heading",commandValue:y.model})),l.add(v),a[y.model]=y.title}const p=kr(o);return vc(p,l,{ariaLabel:s,role:"menu"}),p.buttonView.set({ariaLabel:s,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:s}),p.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),p.bind("isEnabled").toMany(m,"isEnabled",(...y)=>y.some(v=>v)),p.buttonView.bind("label").to(u,"value",f,"value",(y,v)=>{const w=v?"paragraph":y;return typeof w=="boolean"||!a[w]?i:a[w]}),p.buttonView.bind("ariaLabel").to(u,"value",f,"value",(y,v)=>{const w=v?"paragraph":y;return typeof w=="boolean"||!a[w]?s:`${a[w]}, ${s}`}),this.listenTo(p,"execute",y=>{const{commandName:v,commandValue:w}=y.source;e.execute(v,w?{value:w}:void 0),e.editing.view.focus()}),p}),e.ui.componentFactory.add("menuBar:heading",o=>{const a=new zi(o),l=e.commands.get("heading"),u=e.commands.get("paragraph"),f=[l],m=new hc(o);a.set({class:"ck-heading-dropdown"}),m.set({ariaLabel:t("Heading"),role:"menu"}),a.buttonView.set({label:t("Heading")}),a.panelView.children.add(m);for(const p of r){const y=new dl(o,a),v=new xn(o);y.children.add(v),m.items.add(y),v.set({isToggleable:!0,label:p.title,role:"menuitemradio",class:p.class}),v.delegate("execute").to(a),v.on("execute",()=>{const w=p.model==="paragraph"?"paragraph":"heading";e.execute(w,{value:p.model}),e.editing.view.focus()}),p.model==="paragraph"?(v.bind("isOn").to(u,"value"),f.push(u)):v.bind("isOn").to(l,"value",w=>w===p.model)}return a.bind("isEnabled").toMany(f,"isEnabled",(...p)=>p.some(y=>y)),a})}}class VCe extends ee{static get requires(){return[FCe,BCe]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class UCe extends lt{refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute("highlight"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"highlight")}execute(e={}){const t=this.editor.model,i=t.document.selection,s=e.value;t.change(o=>{if(i.isCollapsed){const a=i.getFirstPosition();if(i.hasAttribute("highlight")){const l=p=>p.item.hasAttribute("highlight")&&p.item.getAttribute("highlight")===this.value,u=a.getLastMatchingPosition(l,{direction:"backward"}),f=a.getLastMatchingPosition(l),m=o.createRange(u,f);!s||this.value===s?(a.isEqual(f)||o.removeAttribute("highlight",m),o.removeSelectionAttribute("highlight")):(a.isEqual(f)||o.setAttribute("highlight",s,m),o.setSelectionAttribute("highlight",s))}else s&&o.setSelectionAttribute("highlight",s)}else{const a=t.schema.getValidRanges(i.getRanges(),"highlight");for(const l of a)s?o.setAttribute("highlight",s,l):o.removeAttribute("highlight",l)}})}}class zCe extends ee{static get pluginName(){return"HighlightEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-content-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-content-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-content-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-content-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-content-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-content-highlight-pen-green)",type:"pen"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"highlight"});const t=e.config.get("highlight.options");e.conversion.attributeToElement(HCe(t)),e.commands.add("highlight",new UCe(e))}}function HCe(n){const e={model:{key:"highlight",values:[]},view:{}};for(const t of n)e.model.values.push(t.model),e.view[t.model]={name:"mark",classes:t.class};return e}class $Ce extends ee{get localizedOptionTitles(){const e=this.editor.t;return{"Yellow marker":e("Yellow marker"),"Green marker":e("Green marker"),"Pink marker":e("Pink marker"),"Blue marker":e("Blue marker"),"Red pen":e("Red pen"),"Green pen":e("Green pen")}}static get pluginName(){return"HighlightUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.config.get("highlight.options");for(const t of e)this._addHighlighterButton(t);this._addRemoveHighlightButton(),this._addDropdown(e),this._addMenuBarButton(e)}_addRemoveHighlightButton(){const e=this.editor.t,t=this.editor.commands.get("highlight");this._addButton("removeHighlight",e("Remove highlight"),Vk,null,r=>{r.bind("isEnabled").to(t,"isEnabled")})}_addHighlighterButton(e){const t=this.editor.commands.get("highlight");this._addButton("highlight:"+e.model,e.title,tb(e.type),e.model,r);function r(i){i.bind("isEnabled").to(t,"isEnabled"),i.bind("isOn").to(t,"value",s=>s===e.model),i.iconView.fillColor=e.color,i.isToggleable=!0}}_addButton(e,t,r,i,s){const o=this.editor;o.ui.componentFactory.add(e,a=>{const l=new et(a),u=this.localizedOptionTitles[t]?this.localizedOptionTitles[t]:t;return l.set({label:u,icon:r,tooltip:!0}),l.on("execute",()=>{o.execute("highlight",{value:i}),o.editing.view.focus()}),s(l),l})}_addDropdown(e){const t=this.editor,r=t.t,i=t.ui.componentFactory,s=e[0],o=e.reduce((a,l)=>(a[l.model]=l,a),{});i.add("highlight",a=>{const l=t.commands.get("highlight"),u=kr(a,yh),f=u.buttonView;f.set({label:r("Highlight"),tooltip:!0,lastExecuted:s.model,commandValue:s.model,isToggleable:!0}),f.bind("icon").to(l,"value",y=>tb(p(y,"type"))),f.bind("color").to(l,"value",y=>p(y,"color")),f.bind("commandValue").to(l,"value",y=>p(y,"model")),f.bind("isOn").to(l,"value",y=>!!y),f.delegate("execute").to(u);const m=()=>{const y=e.map(v=>{const w=i.create("highlight:"+v.model);return this.listenTo(w,"execute",()=>{u.buttonView.set({lastExecuted:v.model})}),w});return y.push(new jC),y.push(i.create("removeHighlight")),y};u.bind("isEnabled").to(l,"isEnabled"),tp(u,m,{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:r("Text highlight toolbar")}),WCe(u),f.on("execute",()=>{t.execute("highlight",{value:f.commandValue})}),this.listenTo(u,"execute",()=>{t.editing.view.focus()});function p(y,v){const w=!y||y===f.lastExecuted?f.lastExecuted:y;return o[w][v]}return u})}_addMenuBarButton(e){const t=this.editor,r=t.t,i=t.commands.get("highlight");t.ui.componentFactory.add("menuBar:highlight",s=>{const o=new zi(s);o.buttonView.set({label:r("Highlight"),icon:tb("marker")}),o.bind("isEnabled").to(i),o.buttonView.iconView.fillColor="transparent";const a=new hc(s);for(const f of e){const m=new dl(s,o),p=new xn(s);p.set({label:f.title,icon:tb(f.type),role:"menuitemradio",isToggleable:!0}),p.iconView.fillColor=f.color,p.delegate("execute").to(o),p.bind("isOn").to(i,"value",y=>y===f.model),p.on("execute",()=>{t.execute("highlight",{value:f.model}),t.editing.view.focus()}),m.children.add(p),a.items.add(m)}a.items.add(new Cv(s));const l=new dl(s,o),u=new xn(s);return u.set({label:r("Remove highlight"),icon:Vk}),u.delegate("execute").to(o),u.on("execute",()=>{t.execute("highlight",{value:null}),t.editing.view.focus()}),l.children.add(u),a.items.add(l),o.panelView.children.add(a),o})}}function WCe(n){n.buttonView.actionView.iconView.bind("fillColor").to(n.buttonView,"color")}function tb(n){return n==="marker"?C_e:F_e}class jCe extends ee{static get requires(){return[zCe,$Ce]}static get pluginName(){return"Highlight"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class qCe extends lt{refresh(){const e=this.editor.model,t=e.schema,r=e.document.selection;this.isEnabled=GCe(r,t,e)}execute(){const e=this.editor.model;e.change(t=>{const r=t.createElement("horizontalLine");e.insertObject(r,null,null,{setSelection:"after"})})}}function GCe(n,e,t){const r=YCe(n,t);return e.checkChild(r,"horizontalLine")}function YCe(n,e){const r=oU(n,e).start.parent;return r.isEmpty&&!r.is("element","$root")?r.parent:r}class KCe extends ee{static get pluginName(){return"HorizontalLineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,r=e.t,i=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),i.for("dataDowncast").elementToElement({model:"horizontalLine",view:(s,{writer:o})=>o.createEmptyElement("hr")}),i.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(s,{writer:o})=>{const a=r("Horizontal line"),l=o.createContainerElement("div",null,o.createEmptyElement("hr"));return o.addClass("ck-horizontal-line",l),o.setCustomProperty("hr",!0,l),XCe(l,o,a)}}),i.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new qCe(e))}}function XCe(n,e,t){return e.setCustomProperty("horizontalLine",!0,n),ip(n,e,{label:t})}class JCe extends ee{static get pluginName(){return"HorizontalLineUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("horizontalLine",()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:horizontalLine",()=>this._createButton(xn))}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("horizontalLine"),s=new e(t.locale),o=r.t;return s.set({label:o("Horizontal line"),icon:f_e}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute("horizontalLine"),t.editing.view.focus()}),s}}class QCe extends ee{static get requires(){return[KCe,JCe,vh]}static get pluginName(){return"HorizontalLine"}static get isOfficialPlugin(){return!0}}function ZCe(n){return n==="__proto__"}function nA(n){return n==null||typeof n!="object"&&typeof n!="function"}function eAe(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function Wy(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function jy(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const FU="[object RegExp]",rA="[object String]",iA="[object Number]",sA="[object Boolean]",qy="[object Arguments]",LU="[object Symbol]",BU="[object Date]",VU="[object Map]",UU="[object Set]",zU="[object Array]",tAe="[object Function]",HU="[object ArrayBuffer]",Fb="[object Object]",nAe="[object Error]",$U="[object DataView]",WU="[object Uint8Array]",jU="[object Uint8ClampedArray]",qU="[object Uint16Array]",GU="[object Uint32Array]",rAe="[object BigUint64Array]",YU="[object Int8Array]",KU="[object Int16Array]",XU="[object Int32Array]",iAe="[object BigInt64Array]",JU="[object Float32Array]",QU="[object Float64Array]";function oA(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function sAe(n,e){return pf(n,void 0,n,new Map,e)}function pf(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(nA(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=pf(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,pf(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(pf(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(oA(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=pf(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),nu(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),nu(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),nu(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,nu(o,n,t,r,i),o}if(typeof n=="object"&&oAe(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),nu(o,n,t,r,i),o}return n}function nu(n,e,t=n,r,i){const s=[...Object.keys(e),...Wy(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=pf(e[a],a,t,r,i))}}function oAe(n){switch(jy(n)){case qy:case zU:case HU:case $U:case sA:case BU:case JU:case QU:case YU:case KU:case XU:case VU:case iA:case Fb:case FU:case UU:case rA:case LU:case WU:case jU:case qU:case GU:return!0;default:return!1}}function aAe(n,e){return sAe(n,(t,r,i,s)=>{if(typeof n=="object")switch(Object.prototype.toString.call(n)){case iA:case rA:case sA:{const o=new n.constructor(n?.valueOf());return nu(o,n),o}case qy:{const o={};return nu(o,n),o.length=n.length,o[Symbol.iterator]=n[Symbol.iterator],o}default:return}})}function Zk(n){return aAe(n)}function P6(n){return n!==null&&typeof n=="object"&&jy(n)==="[object Arguments]"}function I6(n){return typeof n=="object"&&n!==null}function ZU(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(ZU).join(",");const e=String(n);return e==="0"&&Object.is(Number(n),-0)?"-0":e}function R6(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function lAe(n,e,t){return Zm(n,e,void 0,void 0,void 0,void 0,t)}function Zm(n,e,t,r,i,s,o){const a=o(n,e,t,r,i,s);if(a!==void 0)return a;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return Sg(n,e,s,o)}return Sg(n,e,s,o)}function Sg(n,e,t,r){if(Object.is(n,e))return!0;let i=jy(n),s=jy(e);if(i===qy&&(i=Fb),s===qy&&(s=Fb),i!==s)return!1;switch(i){case rA:return n.toString()===e.toString();case iA:{const l=n.valueOf(),u=e.valueOf();return eAe(l,u)}case sA:case BU:case LU:return Object.is(n.valueOf(),e.valueOf());case FU:return n.source===e.source&&n.flags===e.flags;case tAe:return n===e}t=t??new Map;const o=t.get(n),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(n,e),t.set(e,n);try{switch(i){case VU:{if(n.size!==e.size)return!1;for(const[l,u]of n.entries())if(!e.has(l)||!Zm(u,e.get(l),l,n,e,t,r))return!1;return!0}case UU:{if(n.size!==e.size)return!1;const l=Array.from(n.values()),u=Array.from(e.values());for(let f=0;f<l.length;f++){const m=l[f],p=u.findIndex(y=>Zm(m,y,void 0,n,e,t,r));if(p===-1)return!1;u.splice(p,1)}return!0}case zU:case WU:case jU:case qU:case GU:case rAe:case YU:case KU:case XU:case iAe:case JU:case QU:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let l=0;l<n.length;l++)if(!Zm(n[l],e[l],l,n,e,t,r))return!1;return!0}case HU:return n.byteLength!==e.byteLength?!1:Sg(new Uint8Array(n),new Uint8Array(e),t,r);case $U:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:Sg(new Uint8Array(n),new Uint8Array(e),t,r);case nAe:return n.name===e.name&&n.message===e.message;case Fb:{if(!(Sg(n.constructor,e.constructor,t,r)||R6(n)&&R6(e)))return!1;const u=[...Object.keys(n),...Wy(n)],f=[...Object.keys(e),...Wy(e)];if(u.length!==f.length)return!1;for(let m=0;m<u.length;m++){const p=u[m],y=n[p];if(!Object.hasOwn(e,p))return!1;const v=e[p];if(!Zm(y,v,p,n,e,t,r))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function cAe(){}function O6(n,e){return lAe(n,e,cAe)}function uAe(n){return oA(n)}function ez(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function dAe(n){if(nA(n))return n;if(Array.isArray(n)||oA(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const r=new t(n);return r.lastIndex=n.lastIndex,r}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const r=new t(n.message);return r.stack=n.stack,r.name=n.name,r.cause=n.cause,r}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const r=Object.create(e);return Object.assign(r,n)}return n}function fAe(n,...e){const t=e.slice(0,-1),r=e[e.length-1];let i=n;for(let s=0;s<t.length;s++){const o=t[s];i=Lb(i,o,r,new Map)}return i}function Lb(n,e,t,r){if(nA(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(r.has(e))return dAe(r.get(e));if(r.set(e,n),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Wy(e)];for(let s=0;s<i.length;s++){const o=i[s];if(ZCe(o))continue;let a=e[o],l=n[o];if(P6(a)&&(a={...a}),P6(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Zk(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const f=[],m=Reflect.ownKeys(l);for(let p=0;p<m.length;p++){const y=m[p];f[y]=l[y]}l=f}else l=[];const u=t(l,a,o,n,e,r);u!=null?n[o]=u:Array.isArray(a)||I6(l)&&I6(a)?n[o]=Lb(l,a,t,r):l==null&&ez(a)?n[o]=Lb({},a,t,r):l==null&&uAe(a)?n[o]=Zk(a):(l===void 0||a!==void 0)&&(n[o]=a)}return n}const hAe=new RegExp("\\p{Lu}?\\p{Ll}+|[0-9]+|\\p{Lu}+(?!\\p{Ll})|\\p{Emoji_Presentation}|\\p{Extended_Pictographic}|\\p{L}+","gu");function mAe(n){return Array.from(n.match(hAe)??[])}function gAe(n){return typeof n!="string"&&(n=ZU(n)),n.replace(/['\u2019]/g,"")}function pAe(n){const e=mAe(gAe(n).trim());let t="";for(let r=0;r<e.length;r++){const i=e[r];t&&(t+=" "),i===i.toUpperCase()?t+=i:t+=i[0].toUpperCase()+i.slice(1).toLowerCase()}return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ra(n,e,t,r){e&&bAe(n,e,r),t&&ia(n,t,r)}function ia(n,e,t){if(e.attributes)for(const[r,i]of Object.entries(e.attributes))n.setAttribute(r,i,t);e.styles&&n.setStyle(e.styles,t),e.classes&&n.addClass(e.classes,t)}function bAe(n,e,t){if(e.attributes)for(const[r]of Object.entries(e.attributes))n.removeAttribute(r,t);if(e.styles)for(const r of Object.keys(e.styles))n.removeStyle(r,t);e.classes&&n.removeClass(e.classes,t)}function yAe(n,e){const t=Zk(n);let r="attributes";for(r in e)r=="classes"?t[r]=Array.from(new Set([...n[r]||[],...e[r]])):t[r]={...n[r],...e[r]};return t}function Kd(n,e,t,r,i){const s=e.getAttribute(t),o={};for(const a of["attributes","styles","classes"]){if(a!=r){s&&s[a]&&(o[a]=s[a]);continue}if(r=="classes"){const u=new Set(s&&s.classes||[]);i(u),u.size&&(o[a]=Array.from(u));continue}const l=new Map(Object.entries(s&&s[a]||{}));i(l),l.size&&(o[a]=Object.fromEntries(l))}Object.keys(o).length?e.is("documentSelection")?n.setSelectionAttribute(t,o):n.setAttribute(t,o,e):s&&(e.is("documentSelection")?n.removeSelectionAttribute(t):n.removeAttribute(t,e))}function wAe(n,e,t){for(const r of e.getItems({shallow:!0})){const i=r.getAttribute(n);i&&i.attributes&&Object.keys(i.attributes).length?Object.keys(i).length>1&&t.setAttribute(n,{attributes:i.attributes},r):t.removeAttribute(n,r)}}function vAe(n){return pAe(n).replace(/ /g,"")}function Hs(n){return`html${vAe(n)}Attributes`}function aA({model:n}){return(e,t)=>t.writer.createElement(n,{htmlContent:e.getCustomProperty("$rawContent")})}function _Ae(n,{view:e,isInline:t}){const r=n.t;return(i,{writer:s})=>{const o=r("HTML object"),a=Iv(e,i,s),l=i.getAttribute(Hs(e));s.addClass("html-object-embed__content",a),l&&ia(s,l,a);const u=s.createContainerElement(t?"span":"div",{class:"html-object-embed","data-html-object-embed-label":o},a);return ip(u,s,{label:o})}}function Iv(n,e,t){return t.createRawElement(n,null,(r,i)=>{i.setContentOf(r,e.getAttribute("htmlContent"))})}function xAe({view:n,model:e,allowEmpty:t},r){return s=>{s.on(`element:${n}`,(o,a,l)=>{let u=r.processViewAttributes(a.viewItem,l);if(!(!u&&!l.consumable.test(a.viewItem,{name:!0}))){if(u=u||{},l.consumable.consume(a.viewItem,{name:!0}),a.modelRange||(a=Object.assign(a,l.convertChildren(a.viewItem,a.modelCursor))),t&&a.modelRange.isCollapsed&&Object.keys(u).length){const f=l.writer.createElement("htmlEmptyElement");if(!l.safeInsert(f,a.modelCursor))return;const m=l.getSplitParts(f);a.modelRange=l.writer.createRange(a.modelRange.start,l.writer.createPositionAfter(m[m.length-1])),l.updateConversionResult(f,a),i(f,u,l);return}for(const f of a.modelRange.getItems())i(f,u,l)}},{priority:"low"})};function i(s,o,a){if(a.schema.checkAttribute(s,e)){const l=s.getAttribute(e),u=yAe(o,l||{});a.writer.setAttribute(e,u,s)}}}function M6({model:n,view:e},t){return(r,{writer:i,consumable:s})=>{if(!r.hasAttribute(n))return null;const o=i.createContainerElement(e),a=r.getAttribute(n);return s.consume(r,`attribute:${n}`),ia(i,a,o),o.getFillerOffset=()=>null,t?ip(o,i):o}}function EAe({priority:n,view:e}){return(t,r)=>{if(!t)return;const{writer:i}=r,s=i.createAttributeElement(e,null,{priority:n});return ia(i,t,s),s}}function Xf({view:n},e){return t=>{t.on(`element:${n}`,(r,i,s)=>{if(!i.modelRange||i.modelRange.isCollapsed)return;const o=e.processViewAttributes(i.viewItem,s);o&&s.writer.setAttribute(Hs(i.viewItem.name),o,i.modelRange)},{priority:"low"})}}function y0({view:n,model:e}){return t=>{t.on(`attribute:${Hs(n)}:${e}`,(r,i,s)=>{if(!s.consumable.consume(i.item,r.name))return;const{attributeOldValue:o,attributeNewValue:a}=i,l=s.writer,u=s.mapper.toViewElement(i.item);ra(l,o,a,u)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const D6={block:[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"horizontalLine",view:"hr"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6","$text"],allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowIn:["$root","$container"],allowChildren:["paragraph","htmlP","htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlHr",view:"hr",isEmpty:!0,modelSchema:{inheritAllFrom:"$blockObject"}}],inline:[{model:"htmlLiAttributes",view:"li",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlOlAttributes",view:"ol",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlUlAttributes",view:"ul",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"table"},{model:"htmlTheadAttributes",view:"thead",appliesToBlock:"table"},{model:"htmlTbodyAttributes",view:"tbody",appliesToBlock:"table"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"imageBlock"},{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref",attributeProperties:{isFormatting:!0}},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],allowAttributesOf:"$inlineObject",isInline:!0}}]};class Jf extends ee{_definitions=[];static get pluginName(){return"DataSchema"}static get isOfficialPlugin(){return!0}init(){for(const e of D6.block)this.registerBlockElement(e);for(const e of D6.inline)this.registerInlineElement(e)}registerBlockElement(e){this._definitions.push({...e,isBlock:!0})}registerInlineElement(e){this._definitions.push({...e,isInline:!0})}extendBlockElement(e){this._extendDefinition({...e,isBlock:!0})}extendInlineElement(e){this._extendDefinition({...e,isInline:!0})}getDefinitionsForView(e,t=!1){const r=new Set;for(const i of this._getMatchingViewDefinitions(e)){if(t)for(const s of this._getReferences(i.model))r.add(s);r.add(i)}return r}getDefinitionsForModel(e){return this._definitions.filter(t=>t.model==e)}_getMatchingViewDefinitions(e){return this._definitions.filter(t=>t.view&&kAe(e,t.view))}*_getReferences(e){const t=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"],r=this._definitions.filter(i=>i.model==e);for(const{modelSchema:i}of r)if(i)for(const s of t)for(const o of Gt(i[s]||[])){const a=this._definitions.filter(l=>l.model==o);for(const l of a)o!==e&&(yield*this._getReferences(l.model),yield l)}}_extendDefinition(e){const t=Array.from(this._definitions.entries()).filter(([,r])=>r.model==e.model);if(t.length==0){this._definitions.push(e);return}for(const[r,i]of t)this._definitions[r]=fAe({},i,e,(s,o)=>Array.isArray(s)?s.concat(o):void 0)}}function kAe(n,e){return typeof n=="string"?n===e:n instanceof RegExp?n.test(e):!1}class Vn extends ee{_dataSchema;_allowedAttributes;_disallowedAttributes;_allowedElements;_disallowedElements;_dataInitialized;_coupledAttributes;constructor(e){super(e),this._dataSchema=e.plugins.get("DataSchema"),this._allowedAttributes=new ua,this._disallowedAttributes=new ua,this._allowedElements=new Set,this._disallowedElements=new Set,this._dataInitialized=!1,this._coupledAttributes=null,this._registerElementsAfterInit(),this._registerElementHandlers(),this._registerCoupledAttributesPostFixer(),this._registerAssociatedHtmlAttributesPostFixer()}static get pluginName(){return"DataFilter"}static get isOfficialPlugin(){return!0}static get requires(){return[Jf,vh]}loadAllowedConfig(e){for(const t of e){const r=t.name||/[\s\S]+/,i=L6(t);this.allowElement(r),i.forEach(s=>this.allowAttributes(s))}}loadDisallowedConfig(e){for(const t of e){const r=t.name||/[\s\S]+/,i=L6(t);i.length==0?this.disallowElement(r):i.forEach(s=>this.disallowAttributes(s))}}loadAllowedEmptyElementsConfig(e){for(const t of e)this.allowEmptyElement(t)}allowElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!0))this._addAllowedElement(t),this._coupledAttributes=null}disallowElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!1))this._disallowedElements.add(t.view)}allowEmptyElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!0))t.isInline&&this._dataSchema.extendInlineElement({...t,allowEmpty:!0})}allowAttributes(e){this._allowedAttributes.add(e)}disallowAttributes(e){this._disallowedAttributes.add(e)}processViewAttributes(e,t){const{consumable:r}=t;return F6(e,this._disallowedAttributes,r),TAe(e,F6(e,this._allowedAttributes,r))}_addAllowedElement(e){if(!this._allowedElements.has(e)){if(this._allowedElements.add(e),"appliesToBlock"in e&&typeof e.appliesToBlock=="string")for(const t of this._dataSchema.getDefinitionsForModel(e.appliesToBlock))t.isBlock&&this._addAllowedElement(t);this._dataInitialized&&this.editor.data.once("set",()=>{this._fireRegisterEvent(e)},{priority:hs.highest+1})}}_registerElementsAfterInit(){this.editor.data.on("init",()=>{this._dataInitialized=!0;for(const e of this._allowedElements)this._fireRegisterEvent(e)},{priority:hs.highest+1})}_registerElementHandlers(){this.on("register",(e,t)=>{const r=this.editor.model.schema;if(t.isObject&&!r.isRegistered(t.model))this._registerObjectElement(t);else if(t.isBlock)this._registerBlockElement(t);else if(t.isInline)this._registerInlineElement(t);else throw new q("data-filter-invalid-definition",null,t);e.stop()},{priority:"lowest"})}_registerCoupledAttributesPostFixer(){const e=this.editor.model,t=e.document.selection;e.document.registerPostFixer(r=>{const i=e.document.differ.getChanges();let s=!1;const o=this._getCoupledAttributesMap();for(const a of i){if(a.type!="attribute"||a.attributeNewValue!==null)continue;const l=o.get(a.attributeKey);if(l)for(const{item:u}of a.range.getWalker())for(const f of l)u.hasAttribute(f)&&(r.removeAttribute(f,u),s=!0)}return s}),this.listenTo(t,"change:attribute",(r,{attributeKeys:i})=>{const s=new Set,o=this._getCoupledAttributesMap();for(const a of i){if(t.hasAttribute(a))continue;const l=o.get(a);if(l)for(const u of l)t.hasAttribute(u)&&s.add(u)}s.size!=0&&e.change(a=>{for(const l of s)a.removeSelectionAttribute(l)})})}_registerAssociatedHtmlAttributesPostFixer(){const e=this.editor.model;e.document.registerPostFixer(t=>{const r=e.document.differ.getChanges();let i=!1;for(const s of r)if(!(s.type!=="insert"||s.name==="$text"))for(const o of s.attributes.keys())!o.startsWith("html")||!o.endsWith("Attributes")||e.schema.checkAttribute(s.name,o)||(t.removeAttribute(o,s.position.nodeAfter),i=!0);return i})}_getCoupledAttributesMap(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;for(const e of this._allowedElements)if(e.coupledAttribute&&e.model){const t=this._coupledAttributes.get(e.coupledAttribute);t?t.push(e.model):this._coupledAttributes.set(e.coupledAttribute,[e.model])}return this._coupledAttributes}_fireRegisterEvent(e){e.view&&this._disallowedElements.has(e.view)||this.fire(e.view?`register:${e.view}`:"register",e)}_registerObjectElement(e){const t=this.editor,r=t.model.schema,i=t.conversion,{view:s,model:o}=e;r.register(o,e.modelSchema);/* istanbul ignore next: paranoid check -- @preserve */s&&(r.extend(e.model,{allowAttributes:[Hs(s),"htmlContent"]}),t.data.registerRawContentMatcher({name:s}),i.for("upcast").elementToElement({view:s,model:aA(e),converterPriority:hs.low+2}),i.for("upcast").add(Xf(e,this)),i.for("editingDowncast").elementToStructure({model:{name:o,attributes:[Hs(s)]},view:_Ae(t,e)}),i.for("dataDowncast").elementToElement({model:o,view:(a,{writer:l})=>Iv(s,a,l)}),i.for("dataDowncast").add(y0(e)))}_registerBlockElement(e){const t=this.editor,r=t.model.schema,i=t.conversion,{view:s,model:o}=e;if(!r.isRegistered(e.model)){if(!e.modelSchema||(r.register(e.model,e.modelSchema),!s))return;i.for("upcast").elementToElement({model:o,view:s,converterPriority:hs.low+2}),i.for("downcast").elementToElement({model:o,view:(a,{writer:l})=>e.isEmpty?l.createEmptyElement(s):l.createContainerElement(s)})}s&&(r.extend(e.model,{allowAttributes:Hs(s)}),i.for("upcast").add(Xf(e,this)),i.for("downcast").add(y0(e)))}_registerInlineElement(e){const t=this.editor,r=t.model.schema,i=t.conversion,s=e.model;if(!e.appliesToBlock&&(r.extend("$text",{allowAttributes:s}),e.attributeProperties&&r.setAttributeProperties(s,e.attributeProperties),i.for("upcast").add(xAe(e,this)),i.for("downcast").attributeToElement({model:s,view:EAe(e)}),!!e.allowEmpty)){if(r.setAttributeProperties(s,{copyFromObject:!1}),!r.isRegistered("htmlEmptyElement")){r.register("htmlEmptyElement",{inheritAllFrom:"$inlineObject"});const o=a=>Array.from(a.getAttributeKeys()).some(l=>l.startsWith("html"));t.model.document.registerPostFixer(a=>{const l=t.model.document.differ.getChanges(),u=new Set;for(const f of l)if(f.type!=="remove"){if(f.type==="attribute"&&f.attributeNewValue===null)for(const{item:m}of f.range)m.is("element","htmlEmptyElement")&&!o(m)&&u.add(m);if(f.type==="insert"&&f.position.nodeAfter){const m=f.position.nodeAfter;for(const{item:p}of a.createRangeOn(m))p.is("element","htmlEmptyElement")&&!o(p)&&u.add(p)}}for(const f of u)a.remove(f);return u.size>0})}t.data.htmlProcessor.domConverter.registerInlineObjectMatcher(o=>o.name==e.view&&o.isEmpty&&Array.from(o.getAttributeKeys()).length?{name:!0}:null),i.for("editingDowncast").elementToElement({model:"htmlEmptyElement",view:M6(e,!0)}),i.for("dataDowncast").elementToElement({model:"htmlEmptyElement",view:M6(e)})}}}function F6(n,e,t){const r=e.matchAll(n)||[],i=n.document.stylesProcessor;return r.reduce((s,{match:o})=>{for(const[a,l]of o.attributes||[])if(a=="style"){const u=l,f=i.getRelatedStyles(u).filter(m=>m.split("-").length>u.split("-").length).sort((m,p)=>p.split("-").length-m.split("-").length);for(const m of f)t.consume(n,{styles:[m]})&&s.styles.push(m);t.consume(n,{styles:[u]})&&s.styles.push(u)}else if(a=="class"){const u=l;t.consume(n,{classes:[u]})&&s.classes.push(u)}else t.consume(n,{attributes:[a]})&&s.attributes.push(a);return s},{attributes:[],classes:[],styles:[]})}function TAe(n,{attributes:e,classes:t,styles:r}){return!e.length&&!t.length&&!r.length?null:{...e.length&&{attributes:SAe(n,e)},...r.length&&{styles:CAe(n,r)},...t.length&&{classes:t}}}function SAe(n,e){const t={};for(const r of e){const i=n.getAttribute(r);i!==void 0&&RB(r)&&(t[r]=i)}return t}function CAe(n,e){const t=new Nf(n.document.stylesProcessor);for(const r of e){const i=n.getStyle(r);i!==void 0&&t.set(r,i)}return Object.fromEntries(t.getStylesEntries())}function wE(n,e){const{name:t}=n,r=n[e];return ez(r)?Object.entries(r).map(([i,s])=>({name:t,[e]:{[i]:s}})):Array.isArray(r)?r.map(i=>({name:t,[e]:[i]})):[n]}function L6(n){const{name:e,attributes:t,classes:r,styles:i}=n,s=[];return t&&s.push(...wE({name:e,attributes:t},"attributes")),r&&s.push(...wE({name:e,classes:r},"classes")),i&&s.push(...wE({name:e,styles:i},"styles")),s}class AAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"CodeBlockElementSupport"}static get isOfficialPlugin(){return!0}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const e=this.editor.plugins.get(Vn);e.on("register:pre",(t,r)=>{if(r.model!=="codeBlock")return;const i=this.editor,s=i.model.schema,o=i.conversion;s.extend("codeBlock",{allowAttributes:["htmlPreAttributes","htmlContentAttributes"]}),o.for("upcast").add(NAe(e)),o.for("downcast").add(PAe()),t.stop()})}}function NAe(n){return e=>{e.on("element:code",(t,r,i)=>{const s=r.viewItem,o=s.parent;if(!o||!o.is("element","pre"))return;a(o,"htmlPreAttributes"),a(s,"htmlContentAttributes");function a(l,u){const f=n.processViewAttributes(l,i);f&&i.writer.setAttribute(u,f,r.modelRange)}},{priority:"low"})}}function PAe(){return n=>{n.on("attribute:htmlPreAttributes:codeBlock",(e,t,r)=>{if(!r.consumable.consume(t.item,e.name))return;const{attributeOldValue:i,attributeNewValue:s}=t,a=r.mapper.toViewElement(t.item).parent;ra(r.writer,i,s,a)}),n.on("attribute:htmlContentAttributes:codeBlock",(e,t,r)=>{if(!r.consumable.consume(t.item,e.name))return;const{attributeOldValue:i,attributeNewValue:s}=t,o=r.mapper.toViewElement(t.item);ra(r.writer,i,s,o)})}}class IAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"DualContentModelElementSupport"}static get isOfficialPlugin(){return!0}init(){this.editor.plugins.get(Vn).on("register",(t,r)=>{const i=r,s=this.editor,o=s.model.schema,a=s.conversion;if(!i.paragraphLikeModel||o.isRegistered(i.model)||o.isRegistered(i.paragraphLikeModel))return;const l={model:i.paragraphLikeModel,view:i.view};o.register(i.model,i.modelSchema),o.register(l.model,{inheritAllFrom:"$block"}),a.for("upcast").elementToElement({view:i.view,model:(u,{writer:f})=>this._hasBlockContent(u)?f.createElement(i.model):f.createElement(l.model),converterPriority:hs.low+.5}),a.for("downcast").elementToElement({view:i.view,model:i.model}),this._addAttributeConversion(i),a.for("downcast").elementToElement({view:l.view,model:l.model}),this._addAttributeConversion(l),t.stop()})}_hasBlockContent(e){const t=this.editor.editing.view,r=t.domConverter.blockElements;for(const i of t.createRangeIn(e).getItems())if(i.is("element")&&r.includes(i.name))return!0;return!1}_addAttributeConversion(e){const t=this.editor,r=t.conversion,i=t.plugins.get(Vn);t.model.schema.extend(e.model,{allowAttributes:Hs(e.view)}),r.for("upcast").add(Xf(e,i)),r.for("downcast").add(y0(e))}}class RAe extends ee{static get requires(){return[Jf,rp]}static get pluginName(){return"HeadingElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("HeadingEditing"))return;const t=e.config.get("heading.options");this.registerHeadingElements(e,t)}registerHeadingElements(e,t){const r=e.plugins.get(Jf),i=[];for(const s of t)"model"in s&&"view"in s&&(r.registerBlockElement({view:s.view,model:s.model}),i.push(s.model));r.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:i}}),r.extendBlockElement({model:"htmlSummary",modelSchema:{allowChildren:i}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function w0(n,e,t){const r=n.createRangeOn(e);for(const{item:i}of r.getWalker())if(i.is("element",t))return i}class OAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"ImageElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("ImageInlineEditing")&&!e.plugins.has("ImageBlockEditing"))return;const t=e.model.schema,r=e.conversion,i=e.plugins.get(Vn);i.on("register:figure",()=>{r.for("upcast").add(FAe(i))}),i.on("register:img",(s,o)=>{o.model!=="imageBlock"&&o.model!=="imageInline"||(t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["htmlImgAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["htmlA","htmlImgAttributes"]}),r.for("upcast").add(MAe(i)),r.for("downcast").add(LAe()),e.plugins.has("LinkImage")&&r.for("upcast").add(DAe(i,e)),s.stop())})}}function MAe(n){return e=>{e.on("element:img",(t,r,i)=>{if(!r.modelRange)return;const s=r.viewItem,o=n.processViewAttributes(s,i);o&&i.writer.setAttribute("htmlImgAttributes",o,r.modelRange)},{priority:"low"})}}function DAe(n,e){const t=e.plugins.get("ImageUtils");return r=>{r.on("element:a",(i,s,o)=>{const a=s.viewItem;if(!t.findViewImgElement(a))return;const u=s.modelCursor.parent;if(!u.is("element","imageBlock"))return;const f=n.processViewAttributes(a,o);f&&o.writer.setAttribute("htmlLinkAttributes",f,u)},{priority:"low"})}}function FAe(n){return e=>{e.on("element:figure",(t,r,i)=>{const s=r.viewItem;if(!r.modelRange||!s.hasClass("image"))return;const o=n.processViewAttributes(s,i);o&&i.writer.setAttribute("htmlFigureAttributes",o,r.modelRange)},{priority:"low"})}}function LAe(){return n=>{e("htmlImgAttributes"),t("img","htmlImgAttributes"),t("figure","htmlFigureAttributes"),t("a","htmlLinkAttributes");function e(r){n.on(`attribute:${r}:imageInline`,(i,s,o)=>{if(!o.consumable.consume(s.item,i.name))return;const{attributeOldValue:a,attributeNewValue:l}=s,u=o.mapper.toViewElement(s.item);ra(o.writer,a,l,u)},{priority:"low"})}function t(r,i){n.on(`attribute:${i}:imageBlock`,(s,o,a)=>{if(!a.consumable.test(o.item,s.name))return;const{attributeOldValue:l,attributeNewValue:u}=o,f=a.mapper.toViewElement(o.item),m=w0(a.writer,f,r);m&&(ra(a.writer,l,u,m),a.consumable.consume(o.item,s.name))},{priority:"low"}),r==="a"&&n.on("attribute:linkHref:imageBlock",(s,o,a)=>{if(!a.consumable.consume(o.item,"attribute:htmlLinkAttributes:imageBlock"))return;const l=a.mapper.toViewElement(o.item),u=w0(a.writer,l,"a");ia(a.writer,o.item.getAttribute("htmlLinkAttributes"),u)},{priority:"low"})}}}class BAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"MediaEmbedElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("MediaEmbed")||e.config.get("mediaEmbed.previewsInData"))return;const t=e.model.schema,r=e.conversion,i=this.editor.plugins.get(Vn),s=this.editor.plugins.get(Jf),o=e.config.get("mediaEmbed.elementName");s.registerBlockElement({model:"media",view:o}),i.on("register:figure",()=>{r.for("upcast").add(UAe(i))}),i.on(`register:${o}`,(a,l)=>{l.model==="media"&&(t.extend("media",{allowAttributes:[Hs(o),"htmlFigureAttributes"]}),r.for("upcast").add(VAe(i,o)),r.for("dataDowncast").add(zAe(o)),a.stop())})}}function VAe(n,e){const t=(r,i,s)=>{const o=i.viewItem;a(o,Hs(e));function a(l,u){const f=n.processViewAttributes(l,s);f&&s.writer.setAttribute(u,f,i.modelRange)}};return r=>{r.on(`element:${e}`,t,{priority:"low"})}}function UAe(n){return e=>{e.on("element:figure",(t,r,i)=>{const s=r.viewItem;if(!r.modelRange||!s.hasClass("media"))return;const o=n.processViewAttributes(s,i);o&&i.writer.setAttribute("htmlFigureAttributes",o,r.modelRange)},{priority:"low"})}}function zAe(n){return e=>{t(n,Hs(n)),t("figure","htmlFigureAttributes");function t(r,i){e.on(`attribute:${i}:media`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const{attributeOldValue:l,attributeNewValue:u}=o,f=a.mapper.toViewElement(o.item),m=w0(a.writer,f,r);ra(a.writer,l,u,m)})}}}class HAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"ScriptElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(Vn);e.on("register:script",(t,r)=>{const i=this.editor,s=i.model.schema,o=i.conversion;s.register("htmlScript",r.modelSchema),s.extend("htmlScript",{allowAttributes:["htmlScriptAttributes","htmlContent"],isContent:!0}),i.data.registerRawContentMatcher({name:"script"}),o.for("upcast").elementToElement({view:"script",model:aA(r)}),o.for("upcast").add(Xf(r,e)),o.for("downcast").elementToElement({model:"htmlScript",view:(a,{writer:l})=>Iv("script",a,l)}),o.for("downcast").add(y0(r)),t.stop()})}}const $Ae=["width","max-width","min-width","height","min-height","max-height"];class WAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"TableElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("TableEditing"))return;const t=e.model.schema,r=e.conversion,i=e.plugins.get(Vn),s=e.plugins.get("TableUtils");i.on("register:figure",()=>{r.for("upcast").add(GAe(i))}),i.on("register:table",(o,a)=>{a.model==="table"&&(t.extend("table",{allowAttributes:["htmlTableAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),r.for("upcast").add(qAe(i)),r.for("downcast").add(YAe()),e.model.document.registerPostFixer(jAe(e.model,s)),o.stop())})}}function jAe(n,e){return t=>{const r=n.document.differ.getChanges();let i=!1;for(const s of r){if(s.type!="attribute"||s.attributeKey!="headingRows")continue;const o=s.range.start.nodeAfter,a=o.getAttribute("htmlTheadAttributes"),l=o.getAttribute("htmlTbodyAttributes");a&&!s.attributeNewValue?(t.removeAttribute("htmlTheadAttributes",o),i=!0):l&&s.attributeNewValue==e.getRows(o)&&(t.removeAttribute("htmlTbodyAttributes",o),i=!0)}return i}}function qAe(n){return e=>{e.on("element:table",(t,r,i)=>{if(!r.modelRange)return;const s=r.viewItem;i.consumable.consume(s,{classes:"table"}),o(s,"htmlTableAttributes");for(const a of s.getChildren())a.is("element","thead")&&o(a,"htmlTheadAttributes"),a.is("element","tbody")&&o(a,"htmlTbodyAttributes");function o(a,l){const u=n.processViewAttributes(a,i);u&&i.writer.setAttribute(l,u,r.modelRange)}},{priority:"low"})}}function GAe(n){return e=>{e.on("element:figure",(t,r,i)=>{const s=r.viewItem;if(!r.modelRange||!s.hasClass("table"))return;const o=n.processViewAttributes(s,i);o&&i.writer.setAttribute("htmlFigureAttributes",o,r.modelRange)},{priority:"low"})}}function YAe(){return n=>{e("table","htmlTableAttributes"),e("figure","htmlFigureAttributes"),e("thead","htmlTheadAttributes"),e("tbody","htmlTbodyAttributes");function e(t,r){n.on(`attribute:${r}:table`,(i,s,o)=>{if(!o.consumable.test(s.item,i.name))return;const a=o.mapper.toViewElement(s.item),l=w0(o.writer,a,t);if(l)if(o.consumable.consume(s.item,i.name),r==="htmlTableAttributes"&&a!==l){const u=B6(s.attributeOldValue),f=B6(s.attributeNewValue);ra(o.writer,u.tableAttributes,f.tableAttributes,l),ra(o.writer,u.figureAttributes,f.figureAttributes,a)}else ra(o.writer,s.attributeOldValue,s.attributeNewValue,l)})}}}function B6(n){const e={},t={...n};if(!n||!("styles"in n))return{figureAttributes:e,tableAttributes:t};t.styles={};for(const[r,i]of Object.entries(n.styles))$Ae.includes(r)?e.styles={...e.styles,[r]:i}:t.styles={...t.styles,[r]:i};return{figureAttributes:e,tableAttributes:t}}class KAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"StyleElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(Vn);e.on("register:style",(t,r)=>{const i=this.editor,s=i.model.schema,o=i.conversion;s.register("htmlStyle",r.modelSchema),s.extend("htmlStyle",{allowAttributes:["htmlStyleAttributes","htmlContent"],isContent:!0}),i.data.registerRawContentMatcher({name:"style"}),o.for("upcast").elementToElement({view:"style",model:aA(r)}),o.for("upcast").add(Xf(r,e)),o.for("downcast").elementToElement({model:"htmlStyle",view:(a,{writer:l})=>Iv("style",a,l)}),o.for("downcast").add(y0(r)),t.stop()})}}class XAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"ListElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("ListEditing"))return;const t=e.model.schema,r=e.conversion,i=e.plugins.get(Vn),s=e.plugins.get("ListEditing"),o=e.plugins.get("ListUtils"),a=["ul","ol","li"];s.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast:ia}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlUlAttributes",setAttributeOnDowncast:ia}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlOlAttributes",setAttributeOnDowncast:ia}),i.on("register",(l,u)=>{if(!a.includes(u.view)||(l.stop(),t.checkAttribute("$block","htmlLiAttributes")))return;const f=a.map(m=>Hs(m));t.extend("$listItem",{allowAttributes:f}),r.for("upcast").add(m=>{m.on("element:ul",vE("htmlUlAttributes",i),{priority:"low"}),m.on("element:ol",vE("htmlOlAttributes",i),{priority:"low"}),m.on("element:li",vE("htmlLiAttributes",i),{priority:"low"})})}),s.on("postFixer",(l,{listNodes:u,writer:f})=>{for(const{node:m,previousNodeInList:p}of u)if(p){if(p.getAttribute("listType")==m.getAttribute("listType")){const y=V6(p.getAttribute("listType")),v=p.getAttribute(y);!O6(m.getAttribute(y),v)&&f.model.schema.checkAttribute(m,y)&&(f.setAttribute(y,v,m),l.return=!0)}if(p.getAttribute("listItemId")==m.getAttribute("listItemId")){const y=p.getAttribute("htmlLiAttributes");!O6(m.getAttribute("htmlLiAttributes"),y)&&f.model.schema.checkAttribute(m,"htmlLiAttributes")&&(f.setAttribute("htmlLiAttributes",y,m),l.return=!0)}}}),s.on("postFixer",(l,{listNodes:u,writer:f})=>{for(const{node:m}of u){const p=m.getAttribute("listType");!o.isNumberedListType(p)&&m.getAttribute("htmlOlAttributes")&&(f.removeAttribute("htmlOlAttributes",m),l.return=!0),o.isNumberedListType(p)&&m.getAttribute("htmlUlAttributes")&&(f.removeAttribute("htmlUlAttributes",m),l.return=!0)}})}afterInit(){const e=this.editor;if(!e.commands.get("indentList"))return;const t=e.commands.get("indentList");this.listenTo(t,"afterExecute",(r,i)=>{e.model.change(s=>{for(const o of i){const a=V6(o.getAttribute("listType"));e.model.schema.checkAttribute(o,a)&&s.setAttribute(a,{},o)}})})}}function vE(n,e){return(t,r,i)=>{const s=r.viewItem;r.modelRange||Object.assign(r,i.convertChildren(r.viewItem,r.modelCursor));const o=e.processViewAttributes(s,i);for(const a of r.modelRange.getItems({shallow:!0}))a.hasAttribute("listItemId")&&(a.hasAttribute("htmlUlAttributes")||a.hasAttribute("htmlOlAttributes")||i.writer.model.schema.checkAttribute(a,n)&&i.writer.setAttribute(n,o||{},a))}}function V6(n){return n==="numbered"||n=="customNumbered"?"htmlOlAttributes":"htmlUlAttributes"}class JAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"HorizontalLineElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("HorizontalLineEditing"))return;const t=e.model.schema,r=e.conversion,i=e.plugins.get(Vn);i.on("register:hr",(s,o)=>{o.model==="horizontalLine"&&(t.extend("horizontalLine",{allowAttributes:["htmlHrAttributes"]}),r.for("upcast").add(Xf(o,i)),r.for("downcast").add(QAe()),s.stop())})}}function QAe(){return n=>{n.on("attribute:htmlHrAttributes:horizontalLine",(e,t,r)=>{if(!r.consumable.test(t.item,e.name))return;const{attributeOldValue:i,attributeNewValue:s}=t,o=r.mapper.toViewElement(t.item),a=w0(r.writer,o,"hr");a&&(ra(r.writer,i,s,a),r.consumable.consume(t.item,e.name))},{priority:"low"})}}class ZAe extends ee{static get requires(){return[Vn,Jf]}static get pluginName(){return"CustomElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(Vn),t=this.editor.plugins.get(Jf);e.on("register:$customElement",(r,i)=>{r.stop();const s=this.editor,o=s.model.schema,a=s.conversion,l=s.editing.view.domConverter.unsafeElements,u=s.data.htmlProcessor.domConverter.preElements;o.register(i.model,i.modelSchema),o.extend(i.model,{allowAttributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"],isContent:!0}),s.data.htmlProcessor.domConverter.registerRawContentMatcher({name:"template"}),a.for("upcast").elementToElement({view:/.*/,model:(f,m)=>{if(f.name=="$comment")return null;/* istanbul ignore next -- @preserve */if(!e5e(f.name)||t.getDefinitionsForView(f.name).size)return null;l.includes(f.name)||l.push(f.name),u.includes(f.name)||u.push(f.name);const p=m.writer.createElement(i.model,{htmlElementName:f.name}),y=e.processViewAttributes(f,m);y&&m.writer.setAttribute("htmlCustomElementAttributes",y,p);let v;if(f.is("element","template")&&f.getCustomProperty("$rawContent"))v=f.getCustomProperty("$rawContent");else{const E=new _v(f.document).createDocumentFragment(f),k=s.data.htmlProcessor.domConverter.viewToDom(E),T=k.firstChild;for(;T.firstChild;)k.appendChild(T.firstChild);T.remove(),v=s.data.htmlProcessor.htmlWriter.getHtml(k)}m.writer.setAttribute("htmlContent",v,p);for(const{item:w}of s.editing.view.createRangeIn(f))m.consumable.consume(w,{name:!0});return p},converterPriority:"low"}),a.for("editingDowncast").elementToElement({model:{name:i.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(f,{writer:m})=>{const p=f.getAttribute("htmlElementName"),y=m.createRawElement(p);return f.hasAttribute("htmlCustomElementAttributes")&&ia(m,f.getAttribute("htmlCustomElementAttributes"),y),y}}),a.for("dataDowncast").elementToElement({model:{name:i.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(f,{writer:m})=>{const p=f.getAttribute("htmlElementName"),y=f.getAttribute("htmlContent"),v=m.createRawElement(p,null,(w,E)=>{E.setContentOf(w,y)});return f.hasAttribute("htmlCustomElementAttributes")&&ia(m,f.getAttribute("htmlCustomElementAttributes"),v),v}})})}}function e5e(n){try{document.createElement(n)}catch{/* istanbul ignore next -- @preserve */return!1}return!0}class t5e extends ee{static get pluginName(){return"GeneralHtmlSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[Vn,AAe,IAe,RAe,OAe,BAe,HAe,WAe,KAe,XAe,JAe,ZAe]}init(){const e=this.editor,t=e.plugins.get(Vn);t.loadAllowedEmptyElementsConfig(e.config.get("htmlSupport.allowEmpty")||[]),t.loadAllowedConfig(e.config.get("htmlSupport.allow")||[]),t.loadDisallowedConfig(e.config.get("htmlSupport.disallow")||[])}afterInit(){this.editor.commands.get("removeFormat")?.registerCustomAttribute(t=>t.startsWith("html")&&t.endsWith("Attributes"),wAe)}getGhsAttributeNameForElement(e){const t=this.editor.plugins.get("DataSchema"),r=Array.from(t.getDefinitionsForView(e,!1)),i=r.find(s=>s.isInline&&!r[0].isObject);return i?i.model:Hs(e)}addModelHtmlClass(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Xd(i,r,s))Kd(o,a,s,"classes",l=>{for(const u of Gt(t))l.add(u)})})}removeModelHtmlClass(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Xd(i,r,s))Kd(o,a,s,"classes",l=>{for(const u of Gt(t))l.delete(u)})})}setModelHtmlAttributes(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Xd(i,r,s))Kd(o,a,s,"attributes",l=>{for(const[u,f]of Object.entries(t))l.set(u,f)})})}removeModelHtmlAttributes(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Xd(i,r,s))Kd(o,a,s,"attributes",l=>{for(const u of Gt(t))l.delete(u)})})}setModelHtmlStyles(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Xd(i,r,s))Kd(o,a,s,"styles",l=>{for(const[u,f]of Object.entries(t))l.set(u,f)})})}removeModelHtmlStyles(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Xd(i,r,s))Kd(o,a,s,"styles",l=>{for(const u of Gt(t))l.delete(u)})})}}function*Xd(n,e,t){if(e)if(!(Symbol.iterator in e)&&e.is("documentSelection")&&e.isCollapsed)n.schema.checkAttributeInSelection(e,t)&&(yield e);else for(const r of n5e(n,e,t))yield*r.getItems({shallow:!0})}function n5e(n,e,t){return!(Symbol.iterator in e)&&(e.is("node")||e.is("$text")||e.is("$textProxy"))?n.schema.checkAttribute(e,t)?[n.createRangeOn(e)]:[]:n.schema.getValidRanges(n.createSelection(e).getRanges(),t)}function tz(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Hm(n){return n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function r5e(n){return n.createContainerElement("span",{class:"image-inline"},n.createEmptyElement("img"))}function U6(n){return n.createContainerElement("figure",{class:"image"},[n.createEmptyElement("img"),n.createSlot("children")])}function nz(n,e){const t=n.plugins.get("ImageUtils"),r=n.plugins.has("ImageInlineEditing")&&n.plugins.has("ImageBlockEditing");return s=>t.isInlineImageView(s)?r&&(s.getStyle("display")=="block"||s.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:i(s):null;function i(s){const o={name:!0};return s.hasAttribute("src")&&(o.attributes=["src"]),o}}function lA(n,e){const t=_n(e.getSelectedBlocks());return!t||n.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function Gy(n){return n&&n.endsWith("px")?parseInt(n):null}function Yy(n){const e=Gy(n.getStyle("width")),t=Gy(n.getStyle("height"));return!!(e&&t)}const i5e=/^(image|image-inline)$/;class Jr extends ee{_domEmitter=new(Ei());static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,r=null,i={}){const s=this.editor,o=s.model,a=o.document.selection,l=rz(s,t||a,r);e={...Object.fromEntries(a.getAttributes()),...e};for(const u in e)o.schema.checkAttribute(l,u)||delete e[u];return o.change(u=>{const{setImageSizes:f=!0}=i,m=u.createElement(l,e);return o.insertObject(m,t,null,{setSelection:"on",findOptimalPosition:!t&&l!="imageInline"?"auto":void 0}),m.parent?(f&&this.setImageNaturalSizeAttributes(m),m):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(r=>{const i=new qe.window.Image;this._domEmitter.listenTo(i,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(r.batch,s=>{s.setAttribute("width",i.naturalWidth,e),s.setAttribute("height",i.naturalHeight,e)}),this._domEmitter.stopListening(i,"load")}),i.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let i=t.parent;for(;i;){if(i.is("element")&&this.isImageWidget(i))return i;i=i.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:i5e})}isImageAllowed(){const t=this.editor.model.document.selection;return s5e(this.editor,t)&&o5e(t)}toImageWidget(e,t,r){return t.setCustomProperty("image",!0,e),ip(e,t,{label:()=>{const o=this.findViewImgElement(e).getAttribute("alt");return o?`${o} ${r}`:r}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Mn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:r}of t.createRangeIn(e))if(this.isInlineImageView(r))return r}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function s5e(n,e){if(rz(n,e,null)=="imageBlock"){const r=a5e(e,n.model);if(n.model.schema.checkChild(r,"imageBlock"))return!0}else if(n.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function o5e(n){return[...n.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function a5e(n,e){const r=oU(n,e).start.parent;return r.isEmpty&&!r.is("element","$root")?r.parent:r}function rz(n,e,t){const r=n.model.schema,i=n.config.get("image.insert.type");return n.plugins.has("ImageBlockEditing")?n.plugins.has("ImageInlineEditing")?t||(i==="inline"?"imageInline":i!=="auto"?"imageBlock":e.is("selection")?lA(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const l5e=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class c5e extends ee{static get requires(){return[kU,Jr,tA,_c]}static get pluginName(){return"AutoImage"}static get isOfficialPlugin(){return!0}_timeoutId;_positionToInsert;constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",()=>{const i=t.selection.getFirstRange(),s=tr.fromPosition(i.start);s.stickiness="toPrevious";const o=tr.fromPosition(i.end);o.stickiness="toNext",t.once("change:data",()=>{this._embedImageBetweenPositions(s,o),s.detach(),o.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(qe.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,t){const r=this.editor,i=new Di(e,t),s=i.getWalker({ignoreElementEnd:!0}),o=Object.fromEntries(r.model.document.selection.getAttributes()),a=this.editor.plugins.get("ImageUtils");let l="";for(const u of s)u.item.is("$textProxy")&&(l+=u.item.data);if(l=l.trim(),!l.match(l5e)){i.detach();return}this._positionToInsert=tr.fromPosition(e),this._timeoutId=setTimeout(()=>{if(!r.commands.get("insertImage").isEnabled){i.detach();return}r.model.change(m=>{this._timeoutId=null,m.remove(i),i.detach();let p;this._positionToInsert.root.rootName!=="$graveyard"&&(p=this._positionToInsert.toPosition()),a.insertImage({...o,src:l},p),this._positionToInsert.detach(),this._positionToInsert=null}),r.plugins.get("Delete").requestUndoOnBackspace()},100)}}class u5e extends lt{refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.isEnabled&&r.hasAttribute("alt")?this.value=r.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,r=t.plugins.get("ImageUtils"),i=t.model,s=r.getClosestSelectedImageElement(i.document.selection);i.change(o=>{o.setAttribute("alt",e.newValue,s)})}}class d5e extends ee{static get requires(){return[Jr]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new u5e(this.editor))}}class f5e extends Le{focusTracker;keystrokes;labeledInput;backButtonView;saveButtonView;children;_focusables;_focusCycler;constructor(e){super(e),this.focusTracker=new Yt,this.keystrokes=new bn,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.labeledInput=this._createLabeledInputView(),this.children=this.createCollection([this._createHeaderView()]),this.children.add(new jr(e,{children:[this.labeledInput,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding"]})),this._focusables=new br,this.keystrokes.set("Esc",(t,r)=>{this.fire("cancel"),r()}),this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.backButtonView,this.labeledInput,this.saveButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new et(this.locale);return t.set({label:e("Save"),withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new bl(this.locale,{label:e("Text Alternative")});return t.children.add(this.backButtonView,0),t}_createLabeledInputView(){const e=this.locale.t,t=new Kn(this.locale,gs);return t.label=e("Text alternative"),t.class="ck-labeled-field-view_full-width",t}}function h5e(n){const e=n.plugins.get("ContextualBalloon");if(n.plugins.get("ImageUtils").getClosestSelectedImageWidget(n.editing.view.document.selection)){const r=cA(n);e.updatePosition(r)}}function cA(n){const e=n.editing.view,t=Bn.defaultPositions,r=n.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class m5e extends ee{_balloon;_form;static get requires(){return[No]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",r=>{const i=e.commands.get("imageTextAlternative"),s=new et(r);return s.set({label:t("Change image text alternative"),icon:exe,tooltip:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",o=>!!o),this.listenTo(s,"execute",()=>{this._showForm()}),s})}_createForm(){const e=this.editor,r=e.editing.view.document,i=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(f0(f5e))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this.listenTo(e.ui,"update",()=>{i.getClosestSelectedImageWidget(r.selection)?this._isVisible&&h5e(e):this._hideForm(!0)}),$u({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),r=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:cA(e)}),r.fieldView.value=r.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class iz extends ee{static get requires(){return[d5e,m5e]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function g5e(n){const e=(t,r,i)=>{if(!i.consumable.test(r.viewItem,{name:!0,classes:"image"}))return;const s=n.findViewImgElement(r.viewItem);if(!s||!i.consumable.test(s,{name:!0}))return;i.consumable.consume(r.viewItem,{name:!0,classes:"image"});const o=i.convertItem(s,r.modelCursor),a=_n(o.modelRange.getItems());if(!a){i.consumable.revert(r.viewItem,{name:!0,classes:"image"});return}i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r)};return t=>{t.on("element:figure",e)}}function sz(n,e){const t=(r,i,s)=>{if(!s.consumable.consume(i.item,r.name))return;const o=s.writer,a=s.mapper.toViewElement(i.item),l=n.findViewImgElement(a);i.attributeNewValue===null?(o.removeAttribute("srcset",l),o.removeAttribute("sizes",l)):i.attributeNewValue&&(o.setAttribute("srcset",i.attributeNewValue,l),o.setAttribute("sizes","100vw",l))};return r=>{r.on(`attribute:srcset:${e}`,t)}}function Ky(n,e,t){const r=(i,s,o)=>{if(!o.consumable.consume(s.item,i.name))return;const a=o.writer,l=o.mapper.toViewElement(s.item),u=n.findViewImgElement(l);a.setAttribute(s.attributeKey,s.attributeNewValue||"",u)};return i=>{i.on(`attribute:${t}:${e}`,r)}}class uA extends Oo{observe(e){this.listenTo(e,"load",(t,r)=>{const i=r.target;this.checkShouldIgnoreEventFromTarget(i)||i.tagName=="IMG"&&this._fireEvents(r)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class p5e extends lt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&Rt("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&Rt("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Gt(e.source),r=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(r.getAttributes());t.forEach((o,a)=>{const l=r.getSelectedElement();if(typeof o=="string"&&(o={src:o}),a&&l&&i.isImage(l)){const u=this.editor.model.createPositionAfter(l);i.insertImage({...o,...s},u,e.imageType)}else e.breakBlock?i.insertImage({...o,...s},r.getFirstPosition(),e.imageType):i.insertImage({...o,...s},null,e.imageType)})}}class b5e extends lt{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const t=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),r=this.editor.plugins.get("ImageUtils");this.editor.model.change(i=>{i.setAttribute("src",e.source,t),this.cleanupImage(i,t),r.setImageNaturalSizeAttributes(t)})}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class oz extends ee{static get requires(){return[Jr]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(uA),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const r=new p5e(e),i=new b5e(e);e.commands.add("insertImage",r),e.commands.add("replaceImageSource",i),e.commands.add("imageInsert",r)}}class az extends ee{static get requires(){return[Jr]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,r=t.plugins.get("ImageUtils"),i=e==="imageBlock"?"figure":"img";t.conversion.for("upcast").attributeToAttribute({view:{name:i,styles:{width:/.+/}},model:{key:"width",value:o=>Yy(o)?Gy(o.getStyle("width")):null}}).attributeToAttribute({view:{name:i,key:"width"},model:"width"}).attributeToAttribute({view:{name:i,styles:{height:/.+/}},model:{key:"height",value:o=>Yy(o)?Gy(o.getStyle("height")):null}}).attributeToAttribute({view:{name:i,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(o=>{s(o,"width","width",!0,!0),s(o,"height","height",!0,!0)}),t.conversion.for("dataDowncast").add(o=>{s(o,"width","width",!1),s(o,"height","height",!1)}),t.conversion.for("upcast").add(o=>{o.on("element:img",(a,l,u)=>{const f=l.viewItem.getAttribute("width"),m=l.viewItem.getAttribute("height");f&&m&&u.consumable.consume(l.viewItem,{styles:["aspect-ratio"]})})});function s(o,a,l,u,f=!1){o.on(`attribute:${a}:${e}`,(m,p,y)=>{if(!y.consumable.consume(p.item,m.name))return;const v=y.writer,w=y.mapper.toViewElement(p.item),E=r.findViewImgElement(w);p.attributeNewValue!==null?v.setAttribute(l,p.attributeNewValue,E):v.removeAttribute(l,E);const k=p.item.getAttribute("width"),T=p.item.getAttribute("height"),S=k&&T;if(S&&f&&v.setAttribute("loading","lazy",E),p.item.hasAttribute("sources"))return;const P=p.item.hasAttribute("resizedWidth");e==="imageInline"&&!P&&!u||S&&v.setStyle("aspect-ratio",`${k}/${T}`,E)})}}}class lz extends lt{_modelElementName;constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),r=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(r):this.isEnabled=t.isBlockImage(r)}execute(e={}){const t=this.editor,r=this.editor.model,i=t.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(r.document.selection),o=Object.fromEntries(s.getAttributes());return!o.src&&!o.uploadId?null:r.change(a=>{const{setImageSizes:l=!0}=e,u=Array.from(r.markers).filter(p=>p.getRange().containsItem(s)),f=i.insertImage(o,r.createSelection(s,"on"),this._modelElementName,{setImageSizes:l});if(!f)return null;const m=a.createRangeOn(f);for(const p of u){const y=p.getRange(),v=y.root.rootName!="$graveyard"?y.getJoined(m,!0):m;a.updateMarker(p,{range:v})}return{oldElement:s,newElement:f}})}}class cz extends ee{static get requires(){return[Jr]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,r=e.plugins.get("ImageUtils");t.for("editingDowncast").add(i=>{i.on("attribute:placeholder",(s,o,a)=>{if(!a.consumable.test(o.item,s.name)||!o.item.is("element","imageBlock")&&!o.item.is("element","imageInline"))return;a.consumable.consume(o.item,s.name);const l=a.writer,u=a.mapper.toViewElement(o.item),f=r.findViewImgElement(u);o.attributeNewValue?(l.addClass("image_placeholder",f),l.setStyle("background-image",`url(${o.attributeNewValue})`,f),l.setCustomProperty("editingPipeline:doNotReuseOnce",!0,f)):(l.removeClass("image_placeholder",f),l.removeStyle("background-image",f))})})}_setupLoadListener(){const e=this.editor,t=e.model,r=e.editing,i=r.view,s=e.plugins.get("ImageUtils");i.addObserver(uA),this.listenTo(i.document,"imageLoaded",(o,a)=>{const l=i.domConverter.mapDomToView(a.target);if(!l)return;const u=s.getImageWidgetFromImageView(l);if(!u)return;const f=r.mapper.toModelElement(u);!f||!f.hasAttribute("placeholder")||t.enqueueChange({isUndoable:!1},m=>{m.removeAttribute("placeholder",f)})})}}class uz extends ee{static get requires(){return[oz,az,Jr,cz,Ws]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new lz(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,r=e.conversion,i=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>U6(o)}),r.for("editingDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>i.toImageWidget(U6(o),o,t("image widget"))}),r.for("downcast").add(Ky(i,"imageBlock","src")).add(Ky(i,"imageBlock","alt")).add(sz(i,"imageBlock")),r.for("upcast").elementToElement({view:nz(e,"imageBlock"),model:(s,{writer:o})=>o.createElement("imageBlock",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}).add(g5e(i))}_setupClipboardIntegration(){const e=this.editor,t=e.model,r=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let u;if(!l.every(i.isInlineImageView))return;a.targetRanges?u=e.editing.mapper.toModelRange(a.targetRanges[0]):u=t.document.selection.getFirstRange();const f=t.createSelection(u);if(lA(t.schema,f)==="imageBlock"){const m=new _v(r.document),p=l.map(y=>m.createElement("figure",{class:"image"},y));a.content=m.createDocumentFragment(p)}}),this.listenTo(s,"contentInsertion",(o,a)=>{a.method==="paste"&&t.change(l=>{const u=l.createRangeIn(a.content);for(const f of u.getItems())f.is("element","imageBlock")&&i.setImageNaturalSizeAttributes(f)})})}}class y5e extends Le{focusTracker;keystrokes;_focusables;_focusCycler;children;constructor(e,t=[]){super(e),this.focusTracker=new Yt,this.keystrokes=new bn,this._focusables=new br,this.children=this.createCollection(),this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const r of t)this.children.add(r),this._focusables.add(r),r instanceof WC&&this._focusables.addMany(r.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),wc({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class Rv extends ee{static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Jr]}dropdownView;_integrations=new Map;constructor(e){super(e),e.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const e=this.editor,t=e.model.document.selection,r=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=r.isImage(t.getSelectedElement())});const i=o=>this._createToolbarComponent(o),s=o=>this._createMenuBarComponent(o);e.ui.componentFactory.add("insertImage",i),e.ui.componentFactory.add("imageInsert",i),e.ui.componentFactory.add("menuBar:insertImage",s)}registerIntegration({name:e,observable:t,buttonViewCreator:r,formViewCreator:i,menuBarButtonViewCreator:s,requiresForm:o=!1,override:a=!1}){this._integrations.has(e)&&!a&&Rt("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:t,buttonViewCreator:r,menuBarButtonViewCreator:s,formViewCreator:i,requiresForm:o})}_createToolbarComponent(e){const t=this.editor,r=e.t,i=this._prepareIntegrations();if(!i.length)return null;let s;const o=i[0];if(i.length==1){if(!o.requiresForm)return o.buttonViewCreator(!0);s=o.buttonViewCreator(!0)}else{const u=o.buttonViewCreator(!1);s=new yh(e,u),s.tooltip=!0,s.bind("label").to(this,"isImageSelected",f=>r(f?"Replace image":"Insert image"))}const a=this.dropdownView=kr(e,s),l=i.map(({observable:u})=>typeof u=="function"?u():u);return a.bind("isEnabled").toMany(l,"isEnabled",(...u)=>u.some(f=>f)),a.once("change:isOpen",()=>{const u=i.flatMap(({formViewCreator:m})=>m(i.length==1)),f=new y5e(t.locale,u);a.panelView.children.add(f)}),a}_createMenuBarComponent(e){const t=e.t,r=this._prepareIntegrations();if(!r.length)return null;const i=r.flatMap(({menuBarButtonViewCreator:a})=>a(r.length==1)),s=new zi(e),o=new hc(e);s.panelView.children.add(o),s.buttonView.set({icon:h_e,label:t("Image")});for(const a of i){const l=new dl(e,s);l.children.add(a),o.items.add(l),a.delegate("execute").to(s)}return s}_prepareIntegrations(){const t=this.editor.config.get("image.insert.integrations"),r=[];if(!t.length)return Rt("image-insert-integrations-not-specified"),r;for(const i of t){if(!this._integrations.has(i)){["upload","assetManager","url"].includes(i)||Rt("image-insert-unknown-integration",{item:i});continue}r.push(this._integrations.get(i))}return r.length||Rt("image-insert-integrations-not-registered"),r}}class w5e extends ee{static get requires(){return[uz,vh,iz,Rv]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class v5e extends ee{static get requires(){return[oz,az,Jr,cz,Ws]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new lz(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,r=e.conversion,i=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToElement({model:"imageInline",view:(s,{writer:o})=>o.createEmptyElement("img")}),r.for("editingDowncast").elementToStructure({model:"imageInline",view:(s,{writer:o})=>i.toImageWidget(r5e(o),o,t("image widget"))}),r.for("downcast").add(Ky(i,"imageInline","src")).add(Ky(i,"imageInline","alt")).add(sz(i,"imageInline")),r.for("upcast").elementToElement({view:nz(e,"imageInline"),model:(s,{writer:o})=>o.createElement("imageInline",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,r=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let u;if(!l.every(i.isBlockImageView))return;a.targetRanges?u=e.editing.mapper.toModelRange(a.targetRanges[0]):u=t.document.selection.getFirstRange();const f=t.createSelection(u);if(lA(t.schema,f)==="imageInline"){const m=new _v(r.document),p=l.map(y=>y.childCount===1?(Array.from(y.getAttributes()).forEach(v=>m.setAttribute(...v,i.findViewImgElement(y))),y.getChild(0)):y);a.content=m.createDocumentFragment(p)}}),this.listenTo(s,"contentInsertion",(o,a)=>{a.method==="paste"&&t.change(l=>{const u=l.createRangeIn(a.content);for(const f of u.getItems())f.is("element","imageInline")&&i.setImageNaturalSizeAttributes(f)})})}}class _5e extends ee{static get requires(){return[v5e,vh,iz,Rv]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class dz extends ee{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[Jr]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),r=e.getFirstPosition().findAncestor("caption");return r&&t.isBlockImage(r.parent)?r:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class x5e extends lt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),r=e.plugins.get("ImageUtils");if(!e.plugins.has(uz)){this.isEnabled=!1,this.value=!1;return}const i=e.model.document.selection,s=i.getSelectedElement();if(!s){const o=t.getCaptionFromModelSelection(i);this.isEnabled=!!o,this.value=!!o;return}this.isEnabled=r.isImage(s),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(s):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(r=>{this.value?this._hideImageCaption(r):this._showImageCaption(r,t)})}_showImageCaption(e,t){const i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let a=i.getSelectedElement();const l=s._getSavedCaption(a);o.isInlineImage(a)&&(this.editor.execute("imageTypeBlock"),a=i.getSelectedElement());const u=l||e.createElement("caption");e.append(u,a),t&&e.setSelection(u,"in")}_hideImageCaption(e){const t=this.editor,r=t.model.document.selection,i=t.plugins.get("ImageCaptionEditing"),s=t.plugins.get("ImageCaptionUtils");let o=r.getSelectedElement(),a;o?a=s.getCaptionFromImageModelElement(o):(a=s.getCaptionFromModelSelection(r),o=a.parent),i._saveCaption(o,a),e.setSelection(o,"on"),e.remove(a)}}class E5e extends ee{static get requires(){return[Jr,dz]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}_savedCaptionsMap;constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new x5e(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),s=e.t;e.conversion.for("upcast").elementToElement({view:o=>i.matchImageCaptionViewElement(o),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>r.isBlockImage(o.parent)?a.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!r.isBlockImage(o.parent))return null;const l=a.createEditableElement("figcaption");a.setCustomProperty("imageCaption",!0,l),l.placeholder=s("Enter image caption"),wC({view:t,element:l,keepOnFocus:!0});const u=o.parent.getAttribute("alt"),f=u?s("Caption for image: %0",[u]):s("Caption for the image");return XC(l,a,{label:f})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),i=e.commands.get("imageTypeInline"),s=e.commands.get("imageTypeBlock"),o=a=>{if(!a.return)return;const{oldElement:l,newElement:u}=a.return;/* istanbul ignore if: paranoid check -- @preserve */if(!l)return;if(t.isBlockImage(l)){const m=r.getCaptionFromImageModelElement(l);if(m){this._saveCaption(u,m);return}}const f=this._getSavedCaption(l);f&&this._saveCaption(u,f)};i&&this.listenTo(i,"execute",o,{priority:"low"}),s&&this.listenTo(s,"execute",o,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?gn.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,r=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const s=t.document.differ.getChanges();for(const o of s){if(o.attributeKey!=="alt")continue;const a=o.range.start.nodeAfter;if(r.isBlockImage(a)){const l=i.getCaptionFromImageModelElement(a);if(!l)return;e.editing.reconvertItem(l)}}})}}class k5e extends ee{static get requires(){return[dz]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageCaptionUtils"),i=e.t;e.ui.componentFactory.add("toggleImageCaption",s=>{const o=e.commands.get("toggleImageCaption"),a=new et(s);return a.set({icon:u9,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.bind("label").to(o,"value",l=>i(l?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const l=r.getCaptionFromModelSelection(e.model.document.selection);if(l){const u=e.editing.mapper.toViewElement(l);t.scrollToTheSelection(),t.change(f=>{f.addClass("image__caption_highlighted",u)})}e.editing.view.focus()}),a})}}class T5e extends ee{static get requires(){return[E5e,k5e]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}}function fz(n){const e=n.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function S5e(n){return new Promise((e,t)=>{const r=n.getAttribute("src");fetch(r).then(i=>i.blob()).then(i=>{const s=hz(i,r),a=`image.${s.replace("image/","")}`,l=new File([i],a,{type:s});e(l)}).catch(i=>i&&i.name==="TypeError"?A5e(r).then(e).catch(t):t(i))})}function C5e(n,e){return!n.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function hz(n,e){return n.type?n.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function A5e(n){return N5e(n).then(e=>{const t=hz(e,n),i=`image.${t.replace("image/","")}`;return new File([e],i,{type:t})})}function N5e(n){return new Promise((e,t)=>{const r=qe.document.createElement("img");r.addEventListener("load",()=>{const i=qe.document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0),i.toBlob(o=>o?e(o):t())}),r.addEventListener("error",()=>t()),r.src=n})}class P5e extends ee{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("uploadImage",()=>this._createToolbarButton()),e.ui.componentFactory.add("imageUpload",()=>this._createToolbarButton()),e.ui.componentFactory.add("menuBar:uploadImage",()=>this._createMenuBarButton("standalone")),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:t=>this._createMenuBarButton(t?"insertOnly":"insertNested")})}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("uploadImage"),s=t.config.get("image.upload.types"),o=fz(s),a=new e(t.locale),l=r.t;return a.set({acceptedType:s.map(u=>`image/${u}`).join(","),allowMultipleFiles:!0,label:l("Upload from computer"),icon:m_e}),a.bind("isEnabled").to(i),a.on("done",(u,f)=>{const m=Array.from(f).filter(p=>o.test(p.type));m.length&&(t.execute("uploadImage",{file:m}),t.editing.view.focus())}),a}_createToolbarButton(){const e=this.editor.locale.t,t=this.editor.plugins.get("ImageInsertUI"),r=this.editor.commands.get("uploadImage"),i=this._createButton(BO);return i.tooltip=!0,i.bind("label").to(t,"isImageSelected",r,"isAccessAllowed",(s,o)=>e(o?s?"Replace image from computer":"Upload image from computer":"You have no image upload permissions.")),i}_createDropdownButton(){const e=this.editor.locale.t,t=this.editor.plugins.get("ImageInsertUI"),r=this._createButton(BO);return r.withText=!0,r.bind("label").to(t,"isImageSelected",i=>e(i?"Replace from computer":"Upload from computer")),r.on("execute",()=>{t.dropdownView.isOpen=!1}),r}_createMenuBarButton(e){const t=this.editor.locale.t,r=this._createButton(W9);switch(r.withText=!0,e){case"standalone":r.label=t("Image from computer");break;case"insertOnly":r.label=t("Image");break;case"insertNested":r.label=t("From computer");break}return r}}class I5e extends ee{static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}placeholder;constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}uploadStatusChange=(e,t,r)=>{const i=this.editor,s=t.item,o=s.getAttribute("uploadId");if(!r.consumable.consume(t.item,e.name))return;const a=i.plugins.get("ImageUtils"),l=i.plugins.get(mf),u=o?t.attributeNewValue:null,f=this.placeholder,m=i.editing.mapper.toViewElement(s),p=r.writer;if(u=="reading"){z6(m,p),H6(a,f,m,p);return}if(u=="uploading"){const y=l.loaders.get(o);z6(m,p),y?($6(m,p),O5e(m,p,y,i.editing.view),B5e(a,m,p,y)):H6(a,f,m,p);return}u=="complete"&&l.loaders.get(o)&&D5e(m,p,i.editing.view),M5e(m,p),$6(m,p),R5e(m,p)}}function z6(n,e){n.hasClass("ck-appear")||e.addClass("ck-appear",n)}function R5e(n,e){e.removeClass("ck-appear",n)}function H6(n,e,t,r){t.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",t);const i=n.findViewImgElement(t);i.getAttribute("src")!==e&&r.setAttribute("src",e,i),mz(t,"placeholder")||r.insert(r.createPositionAfter(i),L5e(r))}function $6(n,e){n.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",n),gz(n,e,"placeholder")}function O5e(n,e,t,r){const i=F5e(e);e.insert(e.createPositionAt(n,"end"),i),t.on("change:uploadedPercent",(s,o,a)=>{r.change(l=>{l.setStyle("width",a+"%",i)})})}function M5e(n,e){gz(n,e,"progressBar")}function D5e(n,e,t){const r=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(n,"end"),r),setTimeout(()=>{t.change(i=>i.remove(i.createRangeOn(r)))},3e3)}function F5e(n){const e=n.createUIElement("div",{class:"ck-progress-bar"});return n.setCustomProperty("progressBar",!0,e),e}function L5e(n){const e=n.createUIElement("div",{class:"ck-upload-placeholder-loader"});return n.setCustomProperty("placeholder",!0,e),e}function mz(n,e){for(const t of n.getChildren())if(t.getCustomProperty(e))return t}function gz(n,e,t){const r=mz(n,t);r&&e.remove(e.createRangeOn(r))}function B5e(n,e,t,r){if(r.data){const i=n.findViewImgElement(e);t.setAttribute("src",r.data,i)}}class V5e extends lt{constructor(e){super(e),this.set("isAccessAllowed",!0)}refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),r=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(r)}execute(e){const t=Gt(e.file),r=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(r.getAttributes());t.forEach((o,a)=>{const l=r.getSelectedElement();if(a&&l&&i.isImage(l)){const u=this.editor.model.createPositionAfter(l);this._uploadImage(o,s,u)}else this._uploadImage(o,s)})}_uploadImage(e,t,r){const i=this.editor,o=i.plugins.get(mf).createLoader(e),a=i.plugins.get("ImageUtils");o&&a.insertImage({...t,uploadId:o.id},r)}}class U5e extends ee{static get requires(){return[mf,KO,Ws,Jr]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}_uploadImageElements;_uploadedImages=new Map;constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,r=e.conversion,i=e.plugins.get(mf),s=e.plugins.get("ImageUtils"),o=e.plugins.get("ClipboardPipeline"),a=fz(e.config.get("image.upload.types")),l=new V5e(e);e.commands.add("uploadImage",l),e.commands.add("imageUpload",l),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add(u=>u.on("element:img",(f,m,p)=>{if(!p.consumable.test(m.viewItem,{attributes:["data-ck-upload-id"]}))return;const y=m.viewItem.getAttribute("data-ck-upload-id");if(!y)return;const[v]=Array.from(m.modelRange.getItems({shallow:!0})),w=i.loaders.get(y);v&&(p.writer.setAttribute("uploadId",y,v),p.consumable.consume(m.viewItem,{attributes:["data-ck-upload-id"]}),w&&w.data&&p.writer.setAttribute("uploadStatus",w.status,v))},{priority:"low"})),this.listenTo(e.editing.view.document,"clipboardInput",(u,f)=>{if(z5e(f.dataTransfer))return;const m=Array.from(f.dataTransfer.files).filter(y=>y?a.test(y.type):!1);if(!m.length)return;if(u.stop(),e.model.change(y=>{f.targetRanges&&y.setSelection(f.targetRanges.map(v=>e.editing.mapper.toModelRange(v))),e.execute("uploadImage",{file:m})}),!e.commands.get("uploadImage").isAccessAllowed){const y=e.plugins.get("Notification"),v=e.locale.t;y.showWarning(v("You have no image upload permissions."),{namespace:"image"})}}),this.listenTo(o,"inputTransformation",(u,f)=>{const m=Array.from(e.editing.view.createRangeIn(f.content)).map(y=>y.item).filter(y=>C5e(s,y)&&!y.getAttribute("uploadProcessed")).map(y=>({promise:S5e(y),imageElement:y}));if(!m.length)return;const p=new _v(e.editing.view.document);for(const y of m){p.setAttribute("uploadProcessed",!0,y.imageElement);const v=i.createLoader(y.promise);v&&(p.setAttribute("src","",y.imageElement),p.setAttribute("uploadId",v.id,y.imageElement))}}),e.editing.view.document.on("dragover",(u,f)=>{f.preventDefault()}),t.on("change",()=>{const u=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),f=new Set;for(const m of u)if(m.type=="insert"&&m.name!="$text"){const p=m.position.nodeAfter,y=m.position.root.rootName=="$graveyard";for(const v of H5e(e,p)){const w=v.getAttribute("uploadId"),E=v.getAttribute("uploadStatus");if(!w||E=="complete")continue;const k=i.loaders.get(w);if(!k){!y&&this._uploadedImages.has(w)&&e.model.enqueueChange({isUndoable:!1},T=>{T.setAttribute("uploadStatus","complete",v),this.fire("uploadComplete",{data:this._uploadedImages.get(w),imageElement:v})});continue}y?f.has(w)||Array.from(this._uploadImageElements.get(w)).every(S=>S.root.rootName=="$graveyard")&&k.abort():(f.add(w),this._uploadImageElements.has(w)?this._uploadImageElements.get(w).add(v):this._uploadImageElements.set(w,new Set([v])),k.status=="idle"&&this._readAndUpload(k))}}}),this.on("uploadComplete",(u,{imageElement:f,data:m})=>{const p=m.urls?m.urls:m;this.editor.model.change(y=>{y.setAttribute("src",p.default,f),this._parseAndSetSrcsetAttributeOnImage(p,f,y),s.setImageNaturalSizeAttributes(f)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(e){const t=this.editor,r=t.model,i=t.locale.t,s=t.plugins.get(mf),o=t.plugins.get(KO),a=t.plugins.get("ImageUtils"),l=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},f=>{const m=l.get(e.id);for(const p of m)f.setAttribute("uploadStatus","reading",p)}),e.read().then(()=>{const f=e.upload();t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Uploading image"));for(const m of l.get(e.id)){/* istanbul ignore next -- @preserve */if(st.isSafari){const p=t.editing.mapper.toViewElement(m),y=a.findViewImgElement(p);t.editing.view.once("render",()=>{if(!y.parent)return;const v=t.editing.view.domConverter.mapViewToDom(y.parent);if(!v)return;const w=v.style.display;v.style.display="none",v._ckHack=v.offsetHeight,v.style.display=w})}r.enqueueChange({isUndoable:!1},p=>{p.setAttribute("uploadStatus","uploading",m)})}return f}).then(f=>{r.enqueueChange({isUndoable:!1},m=>{for(const p of l.get(e.id))m.setAttribute("uploadStatus","complete",p),this.fire("uploadComplete",{data:f,imageElement:p});t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Image upload complete")),this._uploadedImages.set(e.id,f)}),u()}).catch(f=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw f;e.status=="error"&&f&&o.showWarning(f,{title:i("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},m=>{for(const p of l.get(e.id))p.root.rootName!=="$graveyard"&&m.remove(p)}),u()});function u(){r.enqueueChange({isUndoable:!1},f=>{for(const m of l.get(e.id))f.removeAttribute("uploadId",m),f.removeAttribute("uploadStatus",m);l.delete(e.id)}),s.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,r){let i=0;const s=Object.keys(e).filter(o=>{const a=parseInt(o,10);if(!isNaN(a))return i=Math.max(i,a),!0}).map(o=>`${e[o]} ${o}w`).join(", ");if(s!=""){const o={srcset:s};!t.hasAttribute("width")&&!t.hasAttribute("height")&&(o.width=i),r.setAttributes(o,t)}}_registerConverters(e){const{conversion:t,plugins:r}=this.editor,i=r.get(mf),s=r.get(Jr);t.for("dataDowncast").add(o=>{o.on(`attribute:uploadId:${e}`,(a,l,u)=>{if(!u.consumable.test(l.item,a.name))return;const f=i.loaders.get(l.attributeNewValue);if(!f||!f.data)return null;const m=u.mapper.toViewElement(l.item),p=s.findViewImgElement(m);p&&(u.consumable.consume(l.item,a.name),u.writer.setAttribute("data-ck-upload-id",f.id,p))})})}}function z5e(n){return Array.from(n.types).includes("text/html")&&n.getData("text/html")!==""}function H5e(n,e){const t=n.plugins.get("ImageUtils");return Array.from(n.model.createRangeOn(e)).filter(r=>t.isImage(r.item)).map(r=>r.item)}class $5e extends ee{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[U5e,P5e,I5e]}}class W5e extends Le{urlInputView;keystrokes;constructor(e){super(e),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.keystrokes=new bn,this.urlInputView=this._createUrlInputView(),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-url"],tabindex:"-1"},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]}}]})}render(){super.render(),wc({view:this}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const e=this.locale,t=e.t,r=new Kn(e,gs);return r.bind("label").to(this,"isImageSelected",i=>t(i?"Update image URL":"Insert image via URL")),r.bind("isEnabled").to(this),r.fieldView.inputMode="url",r.fieldView.placeholder="https://example.com/image.png",r.fieldView.bind("value").to(this,"imageURLInputValue",i=>i||""),r.fieldView.on("input",()=>{this.imageURLInputValue=r.fieldView.element.value.trim()}),r}focus(){this.urlInputView.focus()}}class j5e extends ee{_imageInsertUI;_formView;static get pluginName(){return"ImageInsertViaUrlUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Rv,is]}init(){this.editor.ui.componentFactory.add("insertImageViaUrl",()=>this._createToolbarButton()),this.editor.ui.componentFactory.add("menuBar:insertImageViaUrl",()=>this._createMenuBarButton("standalone"))}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createInsertUrlButton(e){const t=new e(this.editor.locale);return t.icon=g_e,t.on("execute",()=>{this._showModal()}),t}_createToolbarButton(){const e=this.editor.locale.t,t=this._createInsertUrlButton(et);return t.tooltip=!0,t.bind("label").to(this._imageInsertUI,"isImageSelected",r=>e(r?"Update image URL":"Insert image via URL")),t}_createDropdownButton(){const e=this.editor.locale.t,t=this._createInsertUrlButton(et);return t.withText=!0,t.bind("label").to(this._imageInsertUI,"isImageSelected",r=>e(r?"Update image URL":"Insert via URL")),t}_createMenuBarButton(e){const t=this.editor.locale.t,r=this._createInsertUrlButton(xn);switch(r.withText=!0,e){case"standalone":r.label=t("Image via URL");break;case"insertOnly":r.label=t("Image");break;case"insertNested":r.label=t("Via URL");break}return r}_createInsertUrlView(){const e=this.editor,t=e.locale,r=e.commands.get("replaceImageSource"),i=e.commands.get("insertImage"),s=new W5e(t);return s.bind("isImageSelected").to(this._imageInsertUI),s.bind("isEnabled").toMany([i,r],"isEnabled",(...o)=>o.some(a=>a)),s}_showModal(){const e=this.editor,r=e.locale.t,i=e.plugins.get("Dialog");this._formView||(this._formView=this._createInsertUrlView(),this._formView.on("submit",()=>this._handleSave()));const s=e.commands.get("replaceImageSource");this._formView.imageURLInputValue=s.value||"",i.show({id:"insertImageViaUrl",title:r("Image via URL"),isModal:!0,content:this._formView,actionButtons:[{label:r("Cancel"),withText:!0,onExecute:()=>i.hide()},{label:this._imageInsertUI.isImageSelected?r("Save"):r("Insert"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSave()}]})}_handleSave(){this.editor.commands.get("replaceImageSource").isEnabled?this.editor.execute("replaceImageSource",{source:this._formView.imageURLInputValue}):this.editor.execute("insertImage",{source:this._formView.imageURLInputValue}),this.editor.plugins.get("Dialog").hide()}}class q5e extends ee{static get pluginName(){return"ImageInsertViaUrl"}static get isOfficialPlugin(){return!0}static get requires(){return[j5e,Rv]}}class G5e extends lt{refresh(){const e=this.editor,r=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!r,!r||!r.hasAttribute("resizedWidth")?this.value=null:this.value={width:r.getAttribute("resizedWidth"),height:null}}execute(e){const t=this.editor,r=t.model,i=t.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(r.document.selection);this.value={width:e.width,height:null},s&&r.change(o=>{o.setAttribute("resizedWidth",e.width,s),o.removeAttribute("resizedHeight",s),i.setImageNaturalSizeAttributes(s)})}}class pz extends ee{static get requires(){return[Jr]}static get pluginName(){return"ImageResizeEditing"}static get licenseFeatureCode(){return"IR"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new G5e(e);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}afterInit(){this._registerSchema()}_registerSchema(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),e.setAttributeProperties("resizedWidth",{isFormatting:!0}),e.setAttributeProperties("resizedHeight",{isFormatting:!0})),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]}),e.setAttributeProperties("resizedWidth",{isFormatting:!0}),e.setAttributeProperties("resizedHeight",{isFormatting:!0}))}_registerConverters(e){const t=this.editor,r=t.plugins.get("ImageUtils");t.conversion.for("downcast").add(i=>i.on(`attribute:resizedWidth:${e}`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const l=a.writer,u=a.mapper.toViewElement(o.item);o.attributeNewValue!==null?(l.setStyle("width",o.attributeNewValue,u),l.addClass("image_resized",u)):(l.removeStyle("width",u),l.removeClass("image_resized",u))})),t.conversion.for("dataDowncast").attributeToAttribute({model:{name:e,key:"resizedHeight"},view:i=>({key:"style",value:{height:i}})}),t.conversion.for("editingDowncast").add(i=>i.on(`attribute:resizedHeight:${e}`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const l=a.writer,u=a.mapper.toViewElement(o.item),f=e==="imageInline"?r.findViewImgElement(u):u;o.attributeNewValue!==null?l.setStyle("height",o.attributeNewValue,f):l.removeStyle("height",f)})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:i=>Yy(i)?null:i.getStyle("width")}}),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:i=>Yy(i)?null:i.getStyle("height")}}),t.conversion.for("upcast").add(i=>{i.on(`element:${e==="imageBlock"?"figure":"img"}`,(s,o,a)=>{a.consumable.consume(o.viewItem,{classes:["image_resized"]})})})}}const _E={small:O_e,medium:R_e,large:I_e,custom:N_e,original:P_e};class Y5e extends ee{static get requires(){return[pz]}static get pluginName(){return"ImageResizeButtons"}static get isOfficialPlugin(){return!0}_resizeUnit;constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),r=e.commands.get("resizeImage");this.bind("isEnabled").to(r);for(const i of t)this._registerImageResizeButton(i);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:r,value:i,icon:s}=e;t.ui.componentFactory.add(r,o=>{const a=new et(o),l=t.commands.get("resizeImage"),u=this._getOptionLabelValue(e,!0);if(!_E[s])throw new q("imageresizebuttons-missing-icon",t,e);if(a.set({label:u,icon:_E[s],tooltip:u,isToggleable:!0}),a.bind("isEnabled").to(this),t.plugins.has("ImageCustomResizeUI")&&$m(e)){const f=t.plugins.get("ImageCustomResizeUI");this.listenTo(a,"execute",()=>{f._showForm(this._resizeUnit)})}else{const f=i?i+this._resizeUnit:null;a.bind("isOn").to(l,"value",l,"isEnabled",eT(f)),this.listenTo(a,"execute",()=>{t.execute("resizeImage",{width:f})})}return a})}_registerImageResizeDropdown(e){const t=this.editor,r=t.t,i=e.find(o=>!o.value),s=o=>{const a=t.commands.get("resizeImage"),l=kr(o,D9),u=l.buttonView,f=r("Resize image");return u.set({tooltip:f,commandValue:i.value,icon:_E.medium,isToggleable:!0,label:this._getOptionLabelValue(i),withText:!0,class:"ck-resize-image-button",ariaLabel:f,ariaLabelledBy:void 0}),u.bind("label").to(a,"value",m=>m&&m.width?m.width:this._getOptionLabelValue(i)),l.bind("isEnabled").to(this),vc(l,()=>this._getResizeDropdownListItemDefinitions(e,a),{ariaLabel:r("Image resize list"),role:"menu"}),this.listenTo(l,"execute",m=>{"onClick"in m.source?m.source.onClick():(t.execute(m.source.commandName,{width:m.source.commandValue}),t.editing.view.focus())}),l};t.ui.componentFactory.add("resizeImage",s),t.ui.componentFactory.add("imageResize",s)}_getOptionLabelValue(e,t=!1){const r=this.editor.t;return e.label?e.label:t?$m(e)?r("Custom image size"):e.value?r("Resize image to %0",e.value+this._resizeUnit):r("Resize image to the original size"):$m(e)?r("Custom"):e.value?e.value+this._resizeUnit:r("Original")}_getResizeDropdownListItemDefinitions(e,t){const{editor:r}=this,i=new sr,s=e.map(o=>$m(o)?{...o,valueWithUnits:"custom"}:o.value?{...o,valueWithUnits:`${o.value}${this._resizeUnit}`}:{...o,valueWithUnits:null});for(const o of s){let a=null;if(r.plugins.has("ImageCustomResizeUI")&&$m(o)){const l=r.plugins.get("ImageCustomResizeUI");a={type:"button",model:new fc({label:this._getOptionLabelValue(o),role:"menuitemradio",withText:!0,icon:null,onClick:()=>{l._showForm(this._resizeUnit)}})};const u=Object.values(s).map(f=>f.valueWithUnits);a.model.bind("isOn").to(t,"value",t,"isEnabled",K5e(u))}else a={type:"button",model:new fc({commandName:"resizeImage",commandValue:o.valueWithUnits,label:this._getOptionLabelValue(o),role:"menuitemradio",withText:!0,icon:null})},a.model.bind("isOn").to(t,"value",t,"isEnabled",eT(o.valueWithUnits));a.model.bind("isEnabled").to(t,"isEnabled"),i.add(a)}return i}}function $m(n){return n.value==="custom"}function eT(n){return(e,t)=>{const r=e;return r===void 0||!t?!1:n===null&&r===n?!0:r!==null&&r.width===n}}function K5e(n){return(e,t)=>!n.some(r=>eT(r)(e,t))}const X5e="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",xE="image_resized";class J5e extends ee{static get requires(){return[bE,Jr]}static get pluginName(){return"ImageResizeHandles"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageUtils");t.addObserver(uA),this.listenTo(t.document,"imageLoaded",(i,s)=>{if(!s.target.matches(X5e))return;const o=e.editing.view.domConverter,a=o.domToView(s.target),l=r.getImageWidgetFromImageView(a);let u=this.editor.plugins.get(bE).getResizerByViewElement(l);if(u){u.redraw();return}const f=e.editing.mapper,m=f.toModelElement(l);u=e.plugins.get(bE).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:m,viewElement:l,editor:e,getHandleHost(p){return p.querySelector("img")},getResizeHost(){return o.mapViewToDom(f.toViewElement(m))},isCentered(){return m.getAttribute("imageStyle")=="alignCenter"},onCommit(p){t.change(y=>{y.removeClass(xE,l)}),e.execute("resizeImage",{width:p})}}),u.on("updateSize",()=>{l.hasClass(xE)||t.change(y=>{y.addClass(xE,l)});const p=m.name==="imageInline"?a:l;p.getStyle("height")&&t.change(y=>{y.removeStyle("height",p)})}),u.bind("isEnabled").to(this)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bz(n){if(!n)return null;const[,e,t]=n.trim().match(/([.,\d]+)(%|px)$/)||[],r=Number.parseFloat(e);return Number.isNaN(r)?null:{value:r,unit:t}}function yz(n,e,t){return t==="px"?{value:e.value,unit:"px"}:{value:e.value/n*100,unit:"%"}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wz(n){const{editing:e}=n,r=n.plugins.get("ImageUtils").getClosestSelectedImageElement(n.model.document.selection);if(!r)return null;const i=e.mapper.toViewElement(r),s=e.view.domConverter.mapViewToDom(i);return{model:r,view:i,dom:s}}function Q5e(n,e){const t=wz(n);if(!t)return null;const r=bz(t.model.getAttribute("resizedWidth")||null);if(!r)return null;if(r.unit===e)return r;const i=JC(t.dom),s={value:new bt(t.dom).width};return yz(i,s,e)}class Z5e extends Le{focusTracker;keystrokes;unit;backButtonView;saveButtonView;labeledInput;children;_focusables;_focusCycler;_validators;constructor(e,t,r){super(e),this.focusTracker=new Yt,this.keystrokes=new bn,this.unit=t,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.labeledInput=this._createLabeledInputView(),this.children=this.createCollection([this._createHeaderView()]),this.children.add(new jr(e,{children:[this.labeledInput,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding"]})),this._focusables=new br,this._validators=r,this.keystrokes.set("Esc",(i,s)=>{this.fire("cancel"),s()}),this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-image-custom-resize-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.backButtonView,this.labeledInput,this.saveButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new et(this.locale);return t.set({label:e("Save"),withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new bl(this.locale,{label:e("Image Resize")});return t.children.add(this.backButtonView,0),t}_createLabeledInputView(){const e=this.locale.t,t=new Kn(this.locale,V9);return t.label=e("Resize image (in %0)",this.unit),t.class="ck-labeled-field-view_full-width",t.fieldView.set({step:.1}),t}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.labeledInput.errorText=t,!1}return!0}resetFormStatus(){this.labeledInput.errorText=null}get rawSize(){const{element:e}=this.labeledInput.fieldView;return e?e.value:null}get parsedSize(){const{rawSize:e}=this;if(e===null)return null;const t=Number.parseFloat(e);return Number.isNaN(t)?null:t}get sizeWithUnits(){const{parsedSize:e,unit:t}=this;return e===null?null:`${e}${t}`}}function e4e(n,e){const t=wz(n);if(!t)return null;const r=JC(t.dom),i=bz(window.getComputedStyle(t.dom).minWidth)||{value:1},s=Math.max(.1,yz(r,i,e).value);return{unit:e,lower:s,upper:e==="px"?r:100}}class t4e extends ee{_balloon;_form;static get requires(){return[No]}static get pluginName(){return"ImageCustomResizeUI"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._form&&this._form.destroy()}_createForm(e){const t=this.editor;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(f0(Z5e))(t.locale,e,n4e(t)),this._form.render(),this.listenTo(this._form,"submit",()=>{this._form.isValid()&&(t.execute("resizeImage",{width:this._form.sizeWithUnits}),this._hideForm(!0))}),this.listenTo(this._form.labeledInput,"change:errorText",()=>{t.ui.update()}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),$u({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(e){if(this._isVisible)return;this._form||this._createForm(e);const t=this.editor,r=this._form.labeledInput;this._form.disableCssTransitions(),this._form.resetFormStatus(),this._isInBalloon||this._balloon.add({view:this._form,position:cA(t)});const i=Q5e(t,e),s=i?i.value.toFixed(1):"",o=e4e(t,e);r.fieldView.value=r.fieldView.element.value=s,o&&Object.assign(r.fieldView,{min:o.lower.toFixed(1),max:Math.ceil(o.upper).toFixed(1)}),this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}function n4e(n){const e=n.t;return[t=>{if(t.rawSize.trim()==="")return e("The value must not be empty.");if(t.parsedSize===null)return e("The value should be a plain number.")}]}class r4e extends ee{static get requires(){return[pz,J5e,t4e,Y5e]}static get pluginName(){return"ImageResize"}static get isOfficialPlugin(){return!0}}class i4e extends lt{_defaultStyles;_styles;constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(r=>{if(r.isDefault)for(const i of r.modelElements)this._defaultStyles[i]=r.name;return[r.name,r]}))}refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.isEnabled?r.hasAttribute("imageStyle")?this.value=r.getAttribute("imageStyle"):this.value=this._defaultStyles[r.name]:this.value=!1}execute(e={}){const t=this.editor,r=t.model,i=t.plugins.get("ImageUtils");r.change(s=>{const o=e.value,{setImageSizes:a=!0}=e;let l=i.getClosestSelectedImageElement(r.document.selection);o&&this.shouldConvertImageType(o,l)&&(this.editor.execute(i.isBlockImage(l)?"imageTypeInline":"imageTypeBlock",{setImageSizes:a}),l=i.getClosestSelectedImageElement(r.document.selection)),!o||this._styles.get(o).isDefault?s.removeAttribute("imageStyle",l):s.setAttribute("imageStyle",o,l),a&&i.setImageNaturalSizeAttributes(l)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const EE={get inline(){return{name:"inline",title:"In line",icon:h9,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:BC,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:m9,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:By,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Vy,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:g9,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:By,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Vy,modelElements:["imageBlock"],className:"image-style-side"}}},s4e={full:A_e,left:m9,right:g9,center:By,inlineLeft:BC,inlineRight:Vy,inline:h9},o4e=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function a4e(n){return(n.configuredStyles.options||[]).map(r=>u4e(r)).filter(r=>d4e(r,n))}function l4e(n,e){return n&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:n?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function c4e(n){return n.has("ImageBlockEditing")&&n.has("ImageInlineEditing")?[...o4e]:[]}function u4e(n){return typeof n=="string"?EE[n]?n={...EE[n]}:n={name:n}:n=f4e(EE[n.name],n),typeof n.icon=="string"&&(n.icon=s4e[n.icon]||n.icon),n}function d4e(n,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:r,name:i}=n;if(!r||!r.length||!i)return vz({style:n}),!1;{const s=[e?"imageBlock":null,t?"imageInline":null];if(!r.some(o=>s.includes(o)))return Rt("image-style-missing-dependency",{style:n,missingPlugins:r.map(o=>o==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function f4e(n,e){const t={...e};for(const r in n)Object.prototype.hasOwnProperty.call(e,r)||(t[r]=n[r]);return t}function vz(n){Rt("image-style-configuration-definition-invalid",n)}const Xy={normalizeStyles:a4e,getDefaultStylesConfiguration:l4e,getDefaultDropdownDefinitions:c4e,warnInvalidStyle:vz};function h4e(n){return(e,t,r)=>{if(!r.consumable.consume(t.item,e.name))return;const i=W6(t.attributeNewValue,n),s=W6(t.attributeOldValue,n),o=r.mapper.toViewElement(t.item),a=r.writer;s&&a.removeClass(s.className,o),i&&a.addClass(i.className,o)}}function m4e(n){const e={imageInline:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,r,i)=>{if(!r.modelRange)return;const s=r.viewItem,o=_n(r.modelRange.getItems());if(o&&i.schema.checkAttribute(o,"imageStyle"))for(const a of e[o.name])i.consumable.consume(s,{classes:a.className})&&i.writer.setAttribute("imageStyle",a.name,o)}}function W6(n,e){for(const t of e)if(t.name===n)return t}class _z extends ee{static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Jr]}normalizedStyles;init(){const e=this.editor,t=e.plugins.has("ImageBlockEditing"),r=e.plugins.has("ImageInlineEditing");e.config.define("image.styles",Xy.getDefaultStylesConfiguration(t,r)),this.normalizedStyles=Xy.normalizeStyles({configuredStyles:e.config.get("image.styles"),isBlockPluginLoaded:t,isInlinePluginLoaded:r}),this._setupConversion(t,r),this._setupPostFixer(),e.commands.add("imageStyle",new i4e(e,this.normalizedStyles))}_setupConversion(e,t){const r=this.editor,i=r.model.schema,s=h4e(this.normalizedStyles),o=m4e(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",s),r.data.downcastDispatcher.on("attribute:imageStyle",s),e&&(i.extend("imageBlock",{allowAttributes:"imageStyle"}),i.setAttributeProperties("imageStyle",{isFormatting:!0}),r.data.upcastDispatcher.on("element:figure",o,{priority:"low"})),t&&(i.extend("imageInline",{allowAttributes:"imageStyle"}),i.setAttributeProperties("imageStyle",{isFormatting:!0}),r.data.upcastDispatcher.on("element:img",o,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,r=e.plugins.get(Jr),i=new Map(this.normalizedStyles.map(s=>[s.name,s]));t.registerPostFixer(s=>{let o=!1;for(const a of t.differ.getChanges())if(a.type=="insert"||a.type=="attribute"&&a.attributeKey=="imageStyle"){let l=a.type=="insert"?a.position.nodeAfter:a.range.start.nodeAfter;if(l&&l.is("element","paragraph")&&l.childCount>0&&(l=l.getChild(0)),!r.isImage(l))continue;const u=l.getAttribute("imageStyle");if(!u)continue;const f=i.get(u);(!f||!f.modelElements.includes(l.name))&&(s.removeAttribute("imageStyle",l),o=!0)}return o})}}class g4e extends ee{static get requires(){return[_z]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],r=e.get("ImageStyleEditing"),i=j6(r.normalizedStyles,this.localizedDefaultStylesTitles);for(const o of i)this._createButton(o);const s=j6([...t.filter(tz),...Xy.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const o of s)this._createDropdown(o,i)}_createDropdown(e,t){const r=this.editor.ui.componentFactory;r.add(e.name,i=>{let s;const{defaultItem:o,items:a,title:l}=e,u=a.filter(y=>t.find(({name:v})=>q6(v)===y)).map(y=>{const v=r.create(y);return y===o&&(s=v),v});a.length!==u.length&&Xy.warnInvalidStyle({dropdown:e});const f=kr(i,yh),m=f.buttonView,p=m.arrowView;return tp(f,u,{enableActiveItemFocusOnDropdownOpen:!0}),m.set({label:G6(l,s.label),class:null,tooltip:!0}),p.unbind("label"),p.set({label:l}),m.bind("icon").toMany(u,"isOn",(...y)=>{const v=y.findIndex(Hm);return v<0?s.icon:u[v].icon}),m.bind("label").toMany(u,"isOn",(...y)=>{const v=y.findIndex(Hm);return G6(l,v<0?s.label:u[v].label)}),m.bind("isOn").toMany(u,"isOn",(...y)=>y.some(Hm)),m.bind("class").toMany(u,"isOn",(...y)=>y.some(Hm)?"ck-splitbutton_flatten":void 0),m.on("execute",()=>{u.some(({isOn:y})=>y)?f.isOpen=!f.isOpen:s.fire("execute")}),f.bind("isEnabled").toMany(u,"isEnabled",(...y)=>y.some(Hm)),this.listenTo(f,"execute",()=>{this.editor.editing.view.focus()}),f})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(q6(t),r=>{const i=this.editor.commands.get("imageStyle"),s=new et(r);return s.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",o=>o===t),s.on("execute",this._executeCommand.bind(this,t)),s})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function j6(n,e){for(const t of n)e[t.title]&&(t.title=e[t.title]);return n}function q6(n){return`imageStyle:${n}`}function G6(n,e){return(n?n+": ":"")+e}class p4e extends ee{static get requires(){return[_z,g4e]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}}class b4e extends ee{static get requires(){return[$y,Jr]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=e.t,r=e.plugins.get($y),i=e.plugins.get("ImageUtils");r.register("image",{ariaLabel:t("Image toolbar"),items:y4e(e.config.get("image.toolbar")||[]),getRelatedElement:s=>i.getClosestSelectedImageWidget(s)})}}function y4e(n){return n.map(e=>tz(e)?e.name:e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class w4e extends ee{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.commands.add("indent",new oO(e)),e.commands.add("outdent",new oO(e))}}class v4e extends ee{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale,r=e.t,i=t.uiLanguageDirection=="ltr"?mO:gO,s=t.uiLanguageDirection=="ltr"?gO:mO;this._defineButton("indent",r("Increase indent"),i),this._defineButton("outdent",r("Decrease indent"),s)}_defineButton(e,t,r){const i=this.editor;i.ui.componentFactory.add(e,()=>{const s=this._createButton(et,e,t,r);return s.set({tooltip:!0}),s}),i.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(xn,e,t,r))}_createButton(e,t,r,i){const s=this.editor,o=s.commands.get(t),a=new e(s.locale);return a.set({label:r,icon:i}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{s.execute(t),s.editing.view.focus()}),a}}class _4e extends ee{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[w4e,v4e]}}class nb extends lt{_indentBehavior;constructor(e,t){super(e),this._indentBehavior=t}refresh(){const t=this.editor.model,r=_n(t.document.selection.getSelectedBlocks());if(!r||!this._isIndentationChangeAllowed(r)){this.isEnabled=!1;return}this.isEnabled=this._indentBehavior.checkEnabled(r.getAttribute("blockIndent"))}execute(){const e=this.editor.model,t=this._getBlocksToChange();e.change(r=>{for(const i of t){const s=i.getAttribute("blockIndent"),o=this._indentBehavior.getNextIndent(s);o?r.setAttribute("blockIndent",o,i):r.removeAttribute("blockIndent",i)}})}_getBlocksToChange(){const t=this.editor.model.document.selection;return Array.from(t.getSelectedBlocks()).filter(i=>this._isIndentationChangeAllowed(i))}_isIndentationChangeAllowed(e){const t=this.editor;return t.model.schema.checkAttribute(e,"blockIndent")?!t.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!t.plugins.get("ListUtils").isListItemBlock(e):!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Y6{isForward;offset;unit;constructor(e){this.isForward=e.direction==="forward",this.offset=e.offset,this.unit=e.unit}checkEnabled(e){const t=parseFloat(e||"0");return this.isForward||t>0}getNextIndent(e){const t=parseFloat(e||"0");if(!(!e||e.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const i=this.isForward?this.offset:-this.offset,s=t+i;return s>0?s+this.unit:void 0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class K6{isForward;classes;constructor(e){this.isForward=e.direction==="forward",this.classes=e.classes}checkEnabled(e){const t=this.classes.indexOf(e);return this.isForward?t<this.classes.length-1:t>=0}getNextIndent(e){const t=this.classes.indexOf(e),r=this.isForward?1:-1;return this.classes[t+r]}}const x4e=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class E4e extends ee{constructor(e){super(e),e.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.config.get("indentBlock");t.classes&&t.classes.length?(this._setupConversionUsingClasses(t.classes),e.commands.add("indentBlock",new nb(e,new K6({direction:"forward",classes:t.classes}))),e.commands.add("outdentBlock",new nb(e,new K6({direction:"backward",classes:t.classes})))):(e.data.addStyleProcessorRules(jV),this._setupConversionUsingOffset(),e.commands.add("indentBlock",new nb(e,new Y6({direction:"forward",offset:t.offset,unit:t.unit}))),e.commands.add("outdentBlock",new nb(e,new Y6({direction:"backward",offset:t.offset,unit:t.unit}))))}afterInit(){const e=this.editor,t=e.model.schema,r=e.commands.get("indent"),i=e.commands.get("outdent"),s=e.config.get("heading.options");(s&&s.map(l=>l.model)||x4e).forEach(l=>{t.isRegistered(l)&&t.extend(l,{allowAttributes:"blockIndent"})}),t.setAttributeProperties("blockIndent",{isFormatting:!0}),r.registerChildCommand(e.commands.get("indentBlock")),i.registerChildCommand(e.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const e=this.editor.conversion,r=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:{[r]:/[\s\S]+/}},model:{key:"blockIndent",value:i=>{if(!i.is("element","li"))return i.getStyle(r)}}}),e.for("downcast").attributeToAttribute({model:"blockIndent",view:i=>({key:"style",value:{[r]:i}})})}_setupConversionUsingClasses(e){const t={model:{key:"blockIndent",values:[]},view:{}};for(const r of e)t.model.values.push(r),t.view[r]={key:"class",value:[r]};this.editor.conversion.attributeToAttribute(t)}}function xz(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(xz).join(",");const e=String(n);return e==="0"&&Object.is(Number(n),-0)?"-0":e}function k4e(n){return n.substring(0,1).toUpperCase()+n.substring(1)}function T4e(n){return k4e(xz(n))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class S4e{_definitions=new Set;get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,r,i)=>{if(!i.consumable.test(r.item,"attribute:linkHref")||!(r.item.is("selection")||i.schema.isInline(r.item)))return;const s=i.writer,o=s.document.selection;for(const a of this._definitions){const l=s.createAttributeElement("a",a.attributes,{priority:5});a.classes&&s.addClass(a.classes,l);for(const u in a.styles)s.setStyle(u,a.styles[u],l);s.setCustomProperty("link",!0,l),a.callback(r.attributeNewValue)?r.item.is("selection")?s.wrap(o.getFirstRange(),l):s.wrap(i.mapper.toViewRange(r.range),l):s.unwrap(i.mapper.toViewRange(r.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,r,{writer:i,mapper:s})=>{const o=s.toViewElement(r.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));if(a)for(const l of this._definitions){const u=la(l.attributes);if(l.callback(r.attributeNewValue)){for(const[f,m]of u)f==="class"?i.addClass(m,a):i.setAttribute(f,m,a);l.classes&&i.addClass(l.classes,a);for(const f in l.styles)i.setStyle(f,l.styles[f],a)}else{for(const[f,m]of u)f==="class"?i.removeClass(m,a):i.removeAttribute(f,a);l.classes&&i.removeClass(l.classes,a);for(const f in l.styles)i.removeStyle(f,a)}}})}}}const C4e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,A4e="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",N4e=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,P4e=/^((\w+:(\/{2,})?)|(\W))/i,I4e=["https?","ftps?","mailto"],eg="Ctrl+K";function R4e(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function X6(n,{writer:e}){const t=e.createAttributeElement("a",{href:n},{priority:5});return e.setCustomProperty("link",!0,t),t}function Ez(n,e=I4e){const t=String(n),r=e.join("|"),i=new RegExp(`${A4e.replace("<protocols>",r)}`,"i");return O4e(t,i)?t:"#"}function O4e(n,e){return!!n.replace(C4e,"").match(e)}function M4e(n,e){const t={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return e.forEach(r=>("label"in r&&t[r.label]&&(r.label=t[r.label]),r)),e}function D4e(n){const e=[];if(n)for(const[t,r]of Object.entries(n)){const i=Object.assign({},r,{id:`link${T4e(t)}`});e.push(i)}return e}function tT(n,e){return n?e.checkAttribute(n.name,"linkHref"):!1}function F4e(n){return N4e.test(n)}function dA(n,e){const t=F4e(n)?"mailto:":e,r=!!t&&!kz(n);return n&&r?t+n:n}function kz(n){return P4e.test(n)}function L4e(n){window.open(n,"_blank","noopener")}function nT(n){let e="";for(const t of n.getItems()){if(!t.is("$text")&&!t.is("$textProxy"))return;e+=t.data}return e}class B4e extends lt{manualDecorators=new sr;automaticDecorators=new S4e;restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,r=t.getSelectedElement()||_n(t.getSelectedBlocks());tT(r,e.schema)?(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(r,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}execute(e,t={},r){const i=this.editor.model,s=i.document.selection,o=[],a=[];for(const l in t)t[l]?o.push(l):a.push(l);i.change(l=>{const u=p=>{l.setAttribute("linkHref",e,p),o.forEach(y=>l.setAttribute(y,!0,p)),a.forEach(y=>l.removeAttribute(y,p))},f=(p,y)=>{const v=nT(p);if(!v)return p;let w=r;if(w||(w=y&&y==v?e:v),w!=v){const E=l.createDocumentFragment();for(const P of p.getItems()){const I=P;l.append(l.createText(I.data,I.getAttributes()),E)}const k=l.createRangeIn(E),T=V4e(v,w);let S=0;for(const{offset:P,actual:I,expected:R}of T){const A=P+S,F=l.createRange(k.start.getShiftedBy(A),k.start.getShiftedBy(A+I.length)),K=U4e(F,k).getAttributes(),re=Array.from(K).filter(([te])=>i.schema.getAttributeProperties(te).isFormatting),N=l.createText(R,re);u(N),l.remove(F),l.insert(N,F.start),S+=R.length}return i.insertContent(E,p),l.createRange(p.start,p.start.getShiftedBy(w.length))}},m=p=>{const{plugins:y}=this.editor;if(l.setSelection(p.end),y.has("TwoStepCaretMovement"))y.get("TwoStepCaretMovement")._handleForwardMovement();else for(const v of["linkHref",...o,...a])l.removeSelectionAttribute(v)};if(s.isCollapsed){const p=s.getFirstPosition();if(s.hasAttribute("linkHref")){const y=s.getAttribute("linkHref"),v=np(p,"linkHref",y,i),w=f(v,y);u(w||v),w&&m(w)}else if(e!==""){const y=la(s.getAttributes());y.set("linkHref",e),o.forEach(w=>{y.set(w,!0)});const v=i.insertContent(l.createText(r||e,y),p);m(v)}}else{const p=Array.from(s.getRanges()),y=i.schema.getValidRanges(p,"linkHref"),v=[];for(const k of s.getSelectedBlocks())i.schema.checkAttribute(k,"linkHref")&&v.push(l.createRangeOn(k));const w=v.slice();for(const k of y)this._isRangeToUpdate(k,v)&&w.push(k);const E=p.map(k=>({start:tr.fromPosition(k.start,"toPrevious"),end:tr.fromPosition(k.end,"toNext")}));for(let k of w){const T=(k.start.textNode||k.start.nodeAfter).getAttribute("linkHref");k=f(k,T)||k,u(k)}l.setSelection(E.map(k=>{const T=k.start.toPosition(),S=k.end.toPosition();return k.start.detach(),k.end.detach(),i.createRange(T,S)}))}})}_getDecoratorStateFromModel(e){const t=this.editor.model,r=t.document.selection,i=r.getSelectedElement();return tT(i,t.schema)?i.getAttribute(e):r.getAttribute(e)}_isRangeToUpdate(e,t){for(const r of t)if(r.containsRange(e))return!1;return!0}}function V4e(n,e){const t=Af(n,e),r={equal:0,insert:0,delete:0},i=[];let s="",o="";for(const a of[...t,null])a=="insert"?o+=e[r.equal+r.insert]:a=="delete"?s+=n[r.equal+r.delete]:(s.length||o.length)&&(i.push({offset:r.equal,actual:s,expected:o}),s="",o=""),a&&r[a]++;return i}function U4e(n,e){if(!n.isCollapsed)return _n(n.getItems());const t=n.start;return t.textNode?t.textNode:!t.nodeBefore||t.isEqual(e.start)?t.nodeAfter:t.nodeBefore}class z4e extends lt{refresh(){const e=this.editor.model,t=e.document.selection,r=t.getSelectedElement();tT(r,e.schema)?this.isEnabled=e.schema.checkAttribute(r,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,r=t.document.selection,i=e.commands.get("link");t.change(s=>{const o=r.isCollapsed?[np(r.getFirstPosition(),"linkHref",r.getAttribute("linkHref"),t)]:t.schema.getValidRanges(r.getRanges(),"linkHref");for(const a of o)if(s.removeAttribute("linkHref",a),i)for(const l of i.manualDecorators)s.removeAttribute(l.id,a)})}}class H4e extends qt(){id;defaultValue;label;attributes;classes;styles;constructor({id:e,label:t,attributes:r,classes:i,styles:s,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=t,this.attributes=r,this.classes=i,this.styles=s}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const $4e="ck-link_selected",J6="automatic",W4e="manual",j4e=/^(https?:)?\/\//;class Qf extends ee{_linkOpeners=[];static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[zy,J9,Ws]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1,toolbar:["linkPreview","|","editLink","linkProperties","unlink"]})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:X6}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,o)=>X6(Ez(s,t),o)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new B4e(e)),e.commands.add("unlink",new z4e(e));const r=M4e(e.t,D4e(e.config.get("link.decorators")));this._enableAutomaticDecorators(r.filter(s=>s.mode===J6)),this._enableManualDecorators(r.filter(s=>s.mode===W4e)),e.plugins.get(zy).registerAttribute("linkHref"),nU(e,"linkHref","a",$4e),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_registerLinkOpener(e){this._linkOpeners.push(e)}_enableAutomaticDecorators(e){const t=this.editor,i=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:J6,callback:s=>!!s&&j4e.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(e),i.length&&t.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,i=t.commands.get("link").manualDecorators;e.forEach(s=>{t.model.schema.extend("$text",{allowAttributes:s.id});const o=new H4e(s);i.add(o),t.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:u},{item:f})=>{if((f.is("selection")||u.isInline(f))&&a){const m=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,m);for(const p in o.styles)l.setStyle(p,o.styles[p],m);return l.setCustomProperty("link",!0,m),m}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const e=this.editor,r=e.editing.view.document,i=s=>{this._linkOpeners.some(o=>o(s))||L4e(s)};this.listenTo(r,"click",(s,o)=>{if(!(st.isMac?o.domEvent.metaKey:o.domEvent.ctrlKey))return;let l=o.domTarget;if(l.tagName.toLowerCase()!="a"&&(l=l.closest("a")),!l)return;const u=l.getAttribute("href");u&&(s.stop(),o.preventDefault(),i(u))},{context:"$capture"}),this.listenTo(r,"keydown",(s,o)=>{const l=e.commands.get("link").value;l&&o.keyCode===xt.enter&&o.altKey&&(s.stop(),i(l))})}_enableSelectionAttributesFixer(){const t=this.editor.model,r=t.document.selection;this.listenTo(r,"change:attribute",(i,{attributeKeys:s})=>{!s.includes("linkHref")||r.hasAttribute("linkHref")||t.change(o=>{q4e(o,G4e(t.schema))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,r=this.editor.config.get("link.defaultProtocol");r&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(i,s)=>{t.change(o=>{const a=o.createRangeIn(s.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const u=dA(l.getAttribute("linkHref"),r);o.setAttribute("linkHref",u,l)}})})}}function q4e(n,e){n.removeSelectionAttribute("linkHref");for(const t of e)n.removeSelectionAttribute(t)}function G4e(n){return n.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}class Y4e extends et{constructor(e){super(e);const t=this.bindTemplate;this.set({href:void 0,withText:!0}),this.extendTemplate({attributes:{class:["ck-link-toolbar__preview"],href:t.to("href"),target:"_blank",rel:"noopener noreferrer"},on:{click:t.to(r=>{if(this.href){const i=()=>r.preventDefault();this.fire("navigate",this.href,i)}})}}),this.template.tag="a"}}class K4e extends Le{focusTracker=new Yt;keystrokes=new bn;backButtonView;saveButtonView;displayedTextInputView;urlInputView;children;providersListChildren;_validators;_focusables=new br;_focusCycler;constructor(e,t){super(e),this._validators=t,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.displayedTextInputView=this._createDisplayedTextInput(),this.urlInputView=this._createUrlInput(),this.providersListChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView()]),this._createFormChildren(),this.listenTo(this.providersListChildren,"add",()=>{this.stopListening(this.providersListChildren,"add"),this.children.add(this._createProvidersListView())}),this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-link-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.urlInputView,this.saveButtonView,...this.providersListChildren,this.backButtonView,this.displayedTextInputView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new et(this.locale);return t.set({label:e("Insert"),tooltip:!1,withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new bl(this.locale,{label:e("Link")});return t.children.add(this.backButtonView,0),t}_createProvidersListView(){const e=new bh(this.locale);return e.extendTemplate({attributes:{class:["ck-link-form__providers-list"]}}),e.items.bindTo(this.providersListChildren).using(t=>{const r=new Ao(this.locale);return r.children.add(t),r}),e}_createDisplayedTextInput(){const e=this.locale.t,t=new Kn(this.locale,gs);return t.label=e("Displayed text"),t.class="ck-labeled-field-view_full-width",t}_createUrlInput(){const e=this.locale.t,t=new Kn(this.locale,gs);return t.fieldView.inputMode="url",t.label=e("Link URL"),t.class="ck-labeled-field-view_full-width",t}_createFormChildren(){this.children.add(new jr(this.locale,{children:[this.displayedTextInputView],class:["ck-form__row_large-top-padding"]})),this.children.add(new jr(this.locale,{children:[this.urlInputView,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding","ck-form__row_large-bottom-padding"]}))}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}class X4e extends Le{focusTracker=new Yt;keystrokes=new bn;backButtonView;listView;listChildren;emptyListInformation;children;_focusables=new br;_focusCycler;constructor(e){super(e),this.listChildren=this.createCollection(),this.backButtonView=this._createBackButton(),this.listView=this._createListView(),this.emptyListInformation=this._createEmptyLinksListItemView(),this.children=this.createCollection([this._createHeaderView(),this.emptyListInformation]),this.set("title",""),this.set("emptyListPlaceholder",""),this.set("hasItems",!1),this.listenTo(this.listChildren,"change",()=>{this.hasItems=this.listChildren.length>0}),this.on("change:hasItems",(t,r,i)=>{i?(this.children.remove(this.emptyListInformation),this.children.add(this.listView)):(this.children.remove(this.listView),this.children.add(this.emptyListInformation))}),this.keystrokes.set("Esc",(t,r)=>{this.fire("cancel"),r()}),this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-providers"],tabindex:"-1"},children:this.children})}render(){super.render(),[this.listView,this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createListView(){const e=new bh(this.locale);return e.extendTemplate({attributes:{class:["ck-link-providers__list"]}}),e.items.bindTo(this.listChildren).using(t=>{const r=new Ao(this.locale);return r.children.add(t),r}),e}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createHeaderView(){const e=new bl(this.locale);return e.bind("label").to(this,"title"),e.children.add(this.backButtonView,0),e}_createEmptyLinksListItemView(){const e=new Le(this.locale);return e.setTemplate({tag:"p",attributes:{class:["ck","ck-link__empty-list-info"]},children:[{text:this.bindTemplate.to("emptyListPlaceholder")}]}),e}}class J4e extends Le{focusTracker=new Yt;keystrokes=new bn;backButtonView;children;listChildren;_focusables=new br;_focusCycler;constructor(e){super(e),this.backButtonView=this._createBackButton(),this.listChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView(),this._createListView()]),this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-properties"],tabindex:"-1"},children:this.children}),this.keystrokes.set("Esc",(t,r)=>{this.fire("back"),r()})}render(){super.render(),[...this.listChildren,this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"back"),t}_createHeaderView(){const e=this.locale.t,t=new bl(this.locale,{label:e("Link properties")});return t.children.add(this.backButtonView,0),t}_createListView(){const e=new bh(this.locale);return e.extendTemplate({attributes:{class:["ck-link__list"]}}),e.items.bindTo(this.listChildren).using(t=>{const r=new Ao(this.locale);return r.children.add(t),r}),e}}class Q4e extends et{arrowView;constructor(e){super(e),this.set({withText:!0}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-link__button"]}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new pa;return e.content=f9,e}}const jo="link-ui";class Tz extends ee{toolbarView=null;formView=null;linkProviderItemsView=null;propertiesView=null;_balloon;_linksProviders=new sr;static get requires(){return[No,Qf]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;this.set("selectedLinkableText",void 0),e.editing.view.addObserver(Hye),this._balloon=e.plugins.get(No),this._registerComponents(),this._registerEditingOpeners(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:jo,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:jo,view:(r,{writer:i})=>{if(!r.markerRange.isCollapsed)return null;const s=i.createUIElement("span");return i.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],s),s}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:eg},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.propertiesView&&this.propertiesView.destroy(),this.formView&&this.formView.destroy(),this.toolbarView&&this.toolbarView.destroy(),this.linkProviderItemsView&&this.linkProviderItemsView.destroy()}registerLinksListProvider(e){const t=this._linksProviders.filter(r=>(r.order||0)<=(e.order||0)).length;this._linksProviders.add(e,t)}_createViews(){const e=this.editor.commands.get("link");this.toolbarView=this._createToolbarView(),this.formView=this._createFormView(),e.manualDecorators.length&&(this.propertiesView=this._createPropertiesView()),this._enableUserBalloonInteractions()}_createToolbarView(){const e=this.editor,t=new dc(e.locale),r=e.commands.get("link");t.class="ck-link-toolbar";let i=e.config.get("link.toolbar");return r.manualDecorators.length||(i=i.filter(s=>s!=="linkProperties")),t.fillFromConfig(i,e.ui.componentFactory),t.keystrokes.set("Esc",(s,o)=>{this._hideUI(),o()}),t.keystrokes.set(eg,(s,o)=>{this._addFormView(),o()}),e.ui.addToolbar(t,{isContextual:!0,beforeFocus:()=>{this._getSelectedLinkElement()&&!this._isToolbarVisible&&this._showUI(!0)},afterBlur:()=>{this._hideUI(!1)}}),t}_createFormView(){const e=this.editor,t=e.locale.t,r=e.commands.get("link"),i=e.config.get("link.defaultProtocol"),s=new(f0(K4e))(e.locale,Z4e(e));return s.displayedTextInputView.bind("isEnabled").to(this,"selectedLinkableText",o=>o!==void 0),s.urlInputView.bind("isEnabled").to(r,"isEnabled"),s.saveButtonView.bind("isEnabled").to(r,"isEnabled"),s.saveButtonView.bind("label").to(r,"value",o=>t(o?"Update":"Insert")),this.listenTo(s,"submit",()=>{if(s.isValid()){const o=s.urlInputView.fieldView.element.value,a=dA(o,i),l=s.displayedTextInputView.fieldView.element.value;e.execute("link",a,this._getDecoratorSwitchesState(),l!==this.selectedLinkableText?l:void 0),this._closeFormView()}}),this.listenTo(s.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(o,a)=>{this._closeFormView(),a()}),s.providersListChildren.bindTo(this._linksProviders).using(o=>this._createLinksListProviderButton(o)),s}_createLinkProviderListView(e){return e.getListItems().map(({href:t,label:r,icon:i})=>{const s=new et;return s.set({label:r,icon:i,tooltip:!1,withText:!0}),s.on("execute",()=>{this.formView.resetFormStatus(),this.formView.urlInputView.fieldView.value=t,this.editor.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),s})}_createLinkProviderItemsView(e){const t=this.editor,r=t.locale.t,i=new X4e(t.locale),{emptyListPlaceholder:s,label:o}=e;return i.emptyListPlaceholder=s||r("No links available"),i.title=o,this.listenTo(i,"cancel",()=>{t.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),i}_createPropertiesView(){const e=this.editor,t=this.editor.commands.get("link"),r=new(f0(J4e))(e.locale);return this.listenTo(r,"back",()=>{e.editing.view.focus(),this._removePropertiesView()}),r.listChildren.bindTo(t.manualDecorators).using(i=>{const s=new Nu(e.locale);return s.set({label:i.label,withText:!0}),s.bind("isOn").toMany([i,t],"value",(o,a)=>a===void 0&&o===void 0?!!i.defaultValue:!!o),s.on("execute",()=>{i.set("value",!s.isOn),e.execute("link",t.value,this._getDecoratorSwitchesState())}),s}),r}_getDecoratorSwitchesState(){const e=this.editor.commands.get("link");return Array.from(e.manualDecorators).reduce((t,r)=>{const i=e.value===void 0&&r.value===void 0?r.defaultValue:r.value;return{...t,[r.id]:!!i}},{})}_registerEditingOpeners(){this.editor.plugins.get(Qf)._registerLinkOpener(t=>{const r=this._getLinkProviderLinkByHref(t);if(!r)return!1;const{item:i,provider:s}=r;return s.navigate?s.navigate(i):!1})}_registerComponents(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:link",()=>{const t=this._createButton(xn);return t.set({role:"menuitemcheckbox"}),t}),e.ui.componentFactory.add("linkPreview",t=>{const r=new Y4e(t),i=e.config.get("link.allowedProtocols"),s=e.commands.get("link"),o=t.t;r.bind("isEnabled").to(s,"value",l=>!!l),r.bind("href").to(s,"value",l=>l&&Ez(l,i));const a=l=>{if(!l){r.label=void 0,r.icon=void 0,r.tooltip=o("Open link in new tab");return}const u=this._getLinkProviderLinkByHref(l);if(u){const{label:f,tooltip:m,icon:p}=u.item;r.label=f,r.tooltip=m||!1,r.icon=p}else r.label=l,r.icon=void 0,r.tooltip=o("Open link in new tab")};return a(s.value),this.listenTo(s,"change:value",(l,u,f)=>{a(f)}),this.listenTo(r,"navigate",(l,u,f)=>{const m=this._getLinkProviderLinkByHref(u);if(!m)return;const{provider:p,item:y}=m,{navigate:v}=p;v&&v(y)&&(l.stop(),f())}),r}),e.ui.componentFactory.add("unlink",t=>{const r=e.commands.get("unlink"),i=new et(t),s=t.t;return i.set({label:s("Unlink"),icon:ixe,tooltip:!0}),i.bind("isEnabled").to(r),this.listenTo(i,"execute",()=>{e.execute("unlink"),this._hideUI()}),i}),e.ui.componentFactory.add("editLink",t=>{const r=e.commands.get("link"),i=new et(t),s=t.t;return i.set({label:s("Edit link"),icon:D_e,tooltip:!0}),i.bind("isEnabled").to(r),this.listenTo(i,"execute",()=>{this._addFormView()}),i}),e.ui.componentFactory.add("linkProperties",t=>{const r=e.commands.get("link"),i=new et(t),s=t.t;return i.set({label:s("Link properties"),icon:W_e,tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled",r,"value",r,"manualDecorators",(o,a,l)=>o&&!!a&&l.length>0),this.listenTo(i,"execute",()=>{this._addPropertiesView()}),i})}_createLinksListProviderButton(e){const t=this.editor.locale,r=new Q4e(t);return r.set({label:e.label}),this.listenTo(r,"execute",()=>{this._showLinksProviderView(e)}),r}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("link"),s=new e(t.locale),o=r.t;return s.set({label:o("Link"),icon:d9,keystroke:eg,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",a=>!!a),this.listenTo(s,"execute",()=>{t.editing.view.scrollToTheSelection(),this._showUI(!0),this._getSelectedLinkElement()&&this._addFormView()}),s}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(eg,(r,i)=>{i(),e.commands.get("link").isEnabled&&(e.editing.view.scrollToTheSelection(),this._showUI(!0))})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._isToolbarVisible&&!this.toolbarView.focusTracker.isFocused&&(this.toolbarView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),$u({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>{this._hideUI(!1)}})}_addToolbarView(){this.toolbarView||this._createViews(),!this._isToolbarInPanel&&this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this.formView.backButtonView.isVisible=e.isEnabled&&!!e.value,this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.selectedLinkableText=this._getSelectedLinkableText(),this.formView.displayedTextInputView.fieldView.value=this.selectedLinkableText||"",this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_addPropertiesView(){this.propertiesView||this._createViews(),!this._arePropertiesInPanel&&(this.propertiesView.disableCssTransitions(),this._balloon.add({view:this.propertiesView,position:this._getBalloonPositionData()}),this.propertiesView.enableCssTransitions(),this.propertiesView.focus())}_showLinksProviderView(e){this.linkProviderItemsView&&this._removeLinksProviderView(),this.linkProviderItemsView=this._createLinkProviderItemsView(e),this._addLinkProviderItemsView(e)}_addLinkProviderItemsView(e){this.linkProviderItemsView.listChildren.clear(),this.linkProviderItemsView.listChildren.addMany(this._createLinkProviderListView(e)),this._balloon.add({view:this.linkProviderItemsView,position:this._getBalloonPositionData()}),this.linkProviderItemsView.focus()}_closeFormView(){const e=this.editor.commands.get("link");this.selectedLinkableText=void 0,e.value!==void 0?this._removeFormView():this._hideUI()}_removePropertiesView(){this._arePropertiesInPanel&&this._balloon.remove(this.propertiesView)}_removeLinksProviderView(){this._isLinksListInPanel&&this._balloon.remove(this.linkProviderItemsView)}_removeFormView(e=!0){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.displayedTextInputView.fieldView.reset(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),e&&this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._isToolbarVisible?this._addFormView():this._addToolbarView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addToolbarView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(e=!0){const t=this.editor;this._isUIInPanel&&(this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e&&t.editing.view.focus(),this._removeLinksProviderView(),this._removePropertiesView(),this._removeFormView(e),this._isToolbarInPanel&&this._balloon.remove(this.toolbarView),this._hideFakeVisualSelection())}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let r=this._getSelectedLinkElement(),i=o();const s=()=>{const a=this._getSelectedLinkElement(),l=o();r&&!a||!r&&l!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),r=a,i=l};function o(){return t.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _arePropertiesInPanel(){return!!this.propertiesView&&this._balloon.hasView(this.propertiesView)}get _isLinksListInPanel(){return!!this.linkProviderItemsView&&this._balloon.hasView(this.linkProviderItemsView)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _isToolbarInPanel(){return!!this.toolbarView&&this._balloon.hasView(this.toolbarView)}get _isPropertiesVisible(){return!!this.propertiesView&&this._balloon.visibleView===this.propertiesView}get _isFormVisible(){return!!this.formView&&this._balloon.visibleView==this.formView}get _isToolbarVisible(){return!!this.toolbarView&&this._balloon.visibleView===this.toolbarView}get _isUIInPanel(){return this._arePropertiesInPanel||this._isLinksListInPanel||this._isFormInPanel||this._isToolbarInPanel}get _isUIVisible(){return this._isPropertiesVisible||this._isLinksListInPanel||this._isFormVisible||this._isToolbarVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;if(this.editor.model.markers.has(jo)){const i=this.editor.editing.mapper.markerNameToElements(jo);if(i){const s=Array.from(i),o=e.createRange(e.createPositionBefore(s[0]),e.createPositionAfter(s[s.length-1]));return{target:e.domConverter.viewRangeToDom(o)}}}return{target:()=>{const i=this._getSelectedLinkElement();return i?e.domConverter.mapViewToDom(i):e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,r=t.getSelectedElement();if(t.isCollapsed||r&&Mn(r))return kE(t.getFirstPosition());{const i=t.getFirstRange().getTrimmed(),s=kE(i.start),o=kE(i.end);return!s||s!=o?null:e.createRangeIn(s).getTrimmed().isEqual(i)?s:null}}_getSelectedLinkableText(){const e=this.editor.model,t=this.editor.editing,r=this._getSelectedLinkElement();if(!r)return nT(e.document.selection.getFirstRange());const i=t.view.createRangeOn(r),s=t.mapper.toModelRange(i);return nT(s)}_getLinkProviderLinkByHref(e){if(!e)return null;for(const t of this._linksProviders){const r=t.getItem?t.getItem(e):t.getListItems().find(i=>i.href===e);if(r)return{provider:t,item:r}}return null}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const r=e.document.selection.getFirstRange();if(e.markers.has(jo))t.updateMarker(jo,{range:r});else if(r.start.isAtEnd){const i=r.start.getLastMatchingPosition(({item:s})=>!e.schema.isContent(s),{boundaries:r});t.addMarker(jo,{usingOperation:!1,affectsData:!1,range:t.createRange(i,r.end)})}else t.addMarker(jo,{usingOperation:!1,affectsData:!1,range:r})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(jo)&&e.change(t=>{t.removeMarker(jo)})}}function kE(n){return n.getAncestors().find(e=>R4e(e))||null}function Z4e(n){const e=n.t,t=n.config.get("link.allowCreatingEmptyLinks");return[r=>{if(!t&&!r.url.length)return e("Link URL must not be empty.")}]}const e3e=4,Sz=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63}))|localhost)(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),t3e=2;class Cz extends ee{static get requires(){return[_c,Qf]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?np(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const i=this.editor.model,s=i.document.selection,o=s.getFirstPosition(),a=s.getLastPosition();let l=t.getJoined(this._expandLinkRange(i,o)||t);l&&(l=l.getJoined(this._expandLinkRange(i,a)||t)),l&&(l.start.isBefore(o)||l.end.isAfter(a))&&e.setSelection(l)}_enablePasteLinking(){const e=this.editor,t=e.model,r=t.document.selection,i=e.plugins.get("ClipboardPipeline"),s=e.commands.get("link");i.on("inputTransformation",(o,a)=>{if(!this.isEnabled||!s.isEnabled||r.isCollapsed||a.method!=="paste"||r.rangeCount>1)return;const l=r.getFirstRange(),u=a.dataTransfer.getData("text/plain");if(!u)return;const f=u.match(Sz);f&&f[2]===u&&(t.change(m=>{this._selectEntireLinks(m,l),s.execute(u)}),o.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new tU(e.model,r=>{let i=r;if(!n3e(i))return;i=i.slice(0,-1),"!.:,;?".includes(i[i.length-1])&&(i=i.slice(0,-1));const s=Q6(i);if(s)return{url:s,removedTrailingCharacters:r.length-i.length}});t.on("matched:data",(r,i)=>{const{batch:s,range:o,url:a,removedTrailingCharacters:l}=i;if(!s.isTyping)return;const u=o.end.getShiftedBy(-l),f=u.getShiftedBy(-a.length),m=e.model.createRange(f,u);this._applyAutoLink(a,m)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,r=e.commands.get("enter");r&&r.on("execute",()=>{const i=t.document.selection.getFirstPosition();let s;i.parent.previousSibling?.is("element")?s=t.createRangeIn(i.parent.previousSibling):s=t.createRange(t.createPositionAt(i.parent,0),i),this._checkAndApplyAutoLinkOnRange(s)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,r=e.commands.get("shiftEnter");r&&r.on("execute",()=>{const i=t.document.selection.getFirstPosition(),s=t.createRange(t.createPositionAt(i.parent,0),i.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(s)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:r,range:i}=eU(e,t),s=Q6(r);if(s){const o=t.createRange(i.end.getShiftedBy(-s.length),i.end);this._applyAutoLink(s,o)}}_applyAutoLink(e,t){const r=this.editor.model,i=this.editor.config.get("link.defaultProtocol"),s=dA(e,i);!this.isEnabled||!r3e(t,r)||!kz(s)||i3e(t)||this._persistAutoLink(s,t)}_persistAutoLink(e,t){const r=this.editor.model,i=this.editor.plugins.get("Delete");r.enqueueChange(s=>{s.setAttribute("linkHref",e,t),r.enqueueChange(()=>{i.requestUndoOnBackspace()})})}}function n3e(n){return n.length>e3e&&n[n.length-1]===" "&&n[n.length-2]!==" "}function Q6(n){const e=Sz.exec(n);return e?e[t3e]:null}function r3e(n,e){return e.schema.checkAttributeInSelection(e.createSelection(n),"linkHref")}function i3e(n){const e=n.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}class s3e extends ee{static get requires(){return[Qf,Tz,Cz]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}class o3e extends ee{static get requires(){return["ImageEditing","ImageUtils",Qf]}static get pluginName(){return"LinkImageEditing"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(a3e(e)),e.conversion.for("downcast").add(l3e(e)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,r=e.commands.get("link").automaticDecorators;r.length&&e.conversion.for("downcast").add(r.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const r of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:r.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:r.id}),e.conversion.for("downcast").add(c3e(r)),e.conversion.for("upcast").add(u3e(e,r))}}function a3e(n){const e=n.plugins.has("ImageInlineEditing"),t=n.plugins.get("ImageUtils");return r=>{r.on("element:a",(i,s,o)=>{const a=s.viewItem,l=t.findViewImgElement(a);if(!l)return;const u=l.findAncestor(y=>t.isBlockImageView(y));if(e&&!u)return;const f={attributes:["href"]};if(!o.consumable.consume(a,f))return;const m=a.getAttribute("href");if(!m)return;let p=s.modelCursor.parent;if(!p.is("element","imageBlock")){const y=o.convertItem(l,s.modelCursor);s.modelRange=y.modelRange,s.modelCursor=y.modelCursor,p=s.modelCursor.nodeBefore}p&&p.is("element","imageBlock")&&o.writer.setAttribute("linkHref",m,p)},{priority:"high"})}}function l3e(n){const e=n.plugins.get("ImageUtils");return t=>{t.on("attribute:linkHref:imageBlock",(r,i,s)=>{if(!s.consumable.consume(i.item,r.name))return;const o=s.mapper.toViewElement(i.item),a=s.writer,l=Array.from(o.getChildren()).find(m=>m.is("element","a")),u=e.findViewImgElement(o),f=u.parent.is("element","picture")?u.parent:u;if(l)i.attributeNewValue?a.setAttribute("href",i.attributeNewValue,l):(a.move(a.createRangeOn(f),a.createPositionAt(o,0)),a.remove(l));else{const m=a.createContainerElement("a",{href:i.attributeNewValue});a.insert(a.createPositionAt(o,0),m),a.move(a.createRangeOn(f),a.createPositionAt(m,0))}},{priority:"high"})}}function c3e(n){return e=>{e.on(`attribute:${n.id}:imageBlock`,(t,r,i)=>{const s=i.mapper.toViewElement(r.item),o=Array.from(s.getChildren()).find(a=>a.is("element","a"));if(o){if(r.attributeOldValue){for(const a in n.attributes)i.writer.removeAttribute(a,o);n.classes&&i.writer.removeClass(n.classes,o);for(const a in n.styles)i.writer.removeStyle(a,o)}if(r.attributeNewValue){for(const[a,l]of la(n.attributes))i.writer.setAttribute(a,l,o);n.classes&&i.writer.addClass(n.classes,o);for(const a in n.styles)i.writer.setStyle(a,n.styles[a],o)}}})}}function u3e(n,e){const t=n.plugins.has("ImageInlineEditing"),r=n.plugins.get("ImageUtils");return i=>{i.on("element:a",(s,o,a)=>{const l=o.viewItem,u=r.findViewImgElement(l);if(!u)return;const f=u.findAncestor(v=>r.isBlockImageView(v));if(t&&!f)return;const p=new ua(e._createPattern()).match(l);if(!p||!a.consumable.consume(l,p.match))return;const y=o.modelCursor.nodeBefore||o.modelCursor.parent;a.writer.setAttribute(e.id,!0,y)},{priority:"high"})}}class d3e extends ee{static get requires(){return[Qf,Tz,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(r,i)=>{this._isSelectedLinkedImage(e.model.document.selection)&&(i.preventDefault(),r.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("linkImage",r=>{const i=new et(r),s=e.plugins.get("LinkUI"),o=e.commands.get("link");return i.set({isEnabled:!0,label:t("Link image"),icon:d9,keystroke:eg,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(o,"isEnabled"),i.bind("isOn").to(o,"value",a=>!!a),this.listenTo(i,"execute",()=>{this._isSelectedLinkedImage(e.model.document.selection)?s._addToolbarView():s._showUI(!0)}),i})}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}class f3e extends ee{static get requires(){return[o3e,d3e]}static get pluginName(){return"LinkImage"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class js{_startElement;_referenceIndent;_isForward;_includeSelf;_sameAttributes;_sameIndent;_lowerIndent;_higherIndent;constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=t.direction=="forward",this._includeSelf=!!t.includeSelf,this._sameAttributes=Gt(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){const i=new this(e,t)[Symbol.iterator]();return _n(i)}*[Symbol.iterator](){const e=[];for(const{node:t}of new sp(this._getStartNode(),this._isForward?"forward":"backward")){const r=t.getAttribute("listIndent");if(r<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=r}else if(r>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(i=>t.getAttribute(i)!==this._startElement.getAttribute(i)))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class sp{_node;_isForward;_previousNodesByIndent=[];_previous=null;_previousNodeIndent=null;constructor(e,t="forward"){this._node=e,this._isForward=t==="forward"}[Symbol.iterator](){return this}next(){if(!Mt(this._node))return{done:!0,value:void 0};const e=this._node.getAttribute("listIndent");let t=null;if(this._previous){const i=this._previousNodeIndent;e>i?this._previousNodesByIndent[i]=this._previous:e<i?(t=this._previousNodesByIndent[e]||null,this._previousNodesByIndent.length=e):t=this._previous}const r={node:this._node,previous:this._previous,previousNodeInList:t};return this._previous=this._node,this._previousNodeIndent=e,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:r,done:!1}}}class h3e{_listHead;constructor(e){this._listHead=e}[Symbol.iterator](){return new sp(this._listHead)}}class Zf{static next(){return ci()}}function Mt(n){return!!n&&n.is("element")&&n.hasAttribute("listItemId")}function fl(n,e={}){return[...mc(n,{...e,direction:"backward"}),...mc(n,{...e,direction:"forward"})]}function mc(n,e={}){const t=e.direction=="forward",r=Array.from(new js(n,{...e,includeSelf:t,sameIndent:!0,sameAttributes:"listItemId"}));return t?r:r.reverse()}function m3e(n){return Array.from(new js(n,{direction:"forward",higherIndent:!0}))}function Az(n,e){const t=new js(n,{sameIndent:!0,sameAttributes:"listType",...e}),r=new js(n,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...e});return[...Array.from(t).reverse(),...r]}function da(n){return!js.first(n,{sameIndent:!0,sameAttributes:"listItemId"})}function Z6(n){return!js.first(n,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function op(n,e={}){n=Gt(n);const t=e.withNested!==!1,r=new Set;for(const i of n)for(const s of fl(i,{higherIndent:t}))r.add(s);return qu(r)}function Ov(n){n=Gt(n);const e=new Set;for(const t of n)for(const r of Az(t))e.add(r);return qu(e)}function fA(n,e){const t=mc(n,{direction:"forward"}),r=Zf.next();for(const i of t)e.setAttribute("listItemId",r,i);return t}function rT(n,e,t){const r={};for(const[s,o]of e.getAttributes())s.startsWith("list")&&(r[s]=o);const i=mc(n,{direction:"forward"});for(const s of i)t.setAttributes(r,s);return i}function iT(n,e,{expand:t,indentBy:r=1}={}){n=Gt(n);const i=t?op(n):n;for(const s of i){const o=s.getAttribute("listIndent")+r;o<0?Mv(s,e):e.setAttribute("listIndent",o,s)}return i}function g3e(n,e){n=Gt(n);const t=op(n),r=new Set,i=Math.min(...t.map(o=>o.getAttribute("listIndent"))),s=new Map;for(const o of t)s.set(o,js.first(o,{lowerIndent:!0}));for(const o of t){if(r.has(o))continue;r.add(o);const a=o.getAttribute("listIndent")-1;if(a<0){Mv(o,e);continue}if(o.getAttribute("listIndent")==i){const l=b3e(o,s.get(o),e);for(const u of l)r.add(u);if(l.length)continue}e.setAttribute("listIndent",a,o)}return qu(r)}function Mv(n,e){n=Gt(n);for(const t of n)t.is("element","listItem")&&e.rename(t,"paragraph");for(const t of n)for(const r of t.getAttributeKeys())r.startsWith("list")&&e.removeAttribute(r,t);return n}function v0(n){if(!n.length)return!1;const e=n[0].getAttribute("listItemId");return e?!n.some(t=>t.getAttribute("listItemId")!=e):!1}function p3e(n,e){const t=[];let r=Number.POSITIVE_INFINITY;for(const{node:i}of new sp(n.nextSibling)){const s=i.getAttribute("listIndent");if(s==0)break;s<r&&(r=s);const o=s-r;e.setAttribute("listIndent",o,i),t.push(i)}return t}function qu(n){return Array.from(n).filter(e=>e.root.rootName!=="$graveyard").sort((e,t)=>e.index-t.index)}function _0(n){const e=n.document.selection.getSelectedElement();return e&&n.schema.isObject(e)&&n.schema.isBlock(e)?e:null}function TE(n,e){return e.checkChild(n.parent,"listItem")&&e.checkChild(n,"$text")&&!e.isObject(n)}function Jy(n){return n=="numbered"||n=="customNumbered"}function b3e(n,e,t){return mc(e,{direction:"forward"}).pop().index>n.index?rT(n,e,t):[]}class eM extends lt{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=tM(e.document.selection);e.change(r=>{const i=[];v0(t)&&!da(t[0])?(this._direction=="forward"&&i.push(...iT(t,r)),i.push(...fA(t[0],r))):this._direction=="forward"?i.push(...iT(t,r,{expand:!0})):i.push(...g3e(t,r));for(const s of i){if(!s.hasAttribute("listType"))continue;const o=js.first(s,{sameIndent:!0});o&&r.setAttribute("listType",o.getAttribute("listType"),s)}this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",qu(new Set(e)))}_checkEnabled(){let e=tM(this.editor.model.document.selection),t=e[0];if(!t)return!1;if(this._direction=="backward"||v0(e)&&!da(e[0]))return!0;e=op(e),t=e[0];const r=js.first(t,{sameIndent:!0});return r?r.getAttribute("listType")==t.getAttribute("listType"):!1}}function tM(n){const e=Array.from(n.getSelectedBlocks()),t=e.findIndex(r=>!Mt(r));return t!=-1&&(e.length=t),e}class tg extends lt{type;_listWalkerOptions;constructor(e,t,r={}){super(e),this.type=t,this._listWalkerOptions=r.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.document,i=_0(t),s=Array.from(r.selection.getSelectedBlocks()).filter(a=>t.schema.checkAttribute(a,"listType")||TE(a,t.schema)),o=e.forceValue!==void 0?!e.forceValue:this.value;t.change(a=>{if(o){const l=s[s.length-1],u=mc(l,{direction:"forward"}),f=[];u.length>1&&f.push(...fA(u[1],a)),f.push(...Mv(s,a)),f.push(...p3e(l,a)),this._fireAfterExecute(f)}else if((i||r.selection.isCollapsed)&&Mt(s[0])){const l=Az(i||s[0],this._listWalkerOptions);for(const u of l)a.setAttributes({...e.additionalAttributes,listType:this.type},u);this._fireAfterExecute(l)}else{const l=[];for(const u of s)if(!u.hasAttribute("listType"))!u.is("element","listItem")&&TE(u,t.schema)&&a.rename(u,"listItem"),a.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:Zf.next(),listType:this.type},u),l.push(u);else for(const f of op(u,{withNested:!1}))f.getAttribute("listType")!=this.type&&(a.setAttributes({...e.additionalAttributes,listType:this.type},f),l.push(f));this._fireAfterExecute(l)}})}_fireAfterExecute(e){this.fire("afterExecute",qu(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const r of t)if(r.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,r=e.document.selection,i=Array.from(r.getSelectedBlocks());if(!i.length)return!1;if(this.value)return!0;for(const s of i)if(t.checkAttribute(s,"listType")||TE(s,t))return!0;return!1}}class nM extends lt{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,r=t.document.selection,i=[];t.change(s=>{const{firstElement:o,lastElement:a}=this._getMergeSubjectElements(r,e),l=o.getAttribute("listIndent")||0,u=a.getAttribute("listIndent"),f=a.getAttribute("listItemId");if(l!=u){const m=m3e(a);i.push(...iT([a,...m],s,{indentBy:l-u,expand:l<u}))}if(e){let m=r;r.isCollapsed&&(m=s.createSelection(s.createRange(s.createPositionAt(o,"end"),s.createPositionAt(a,0)))),t.deleteContent(m,{doNotResetEntireContent:r.isCollapsed});const p=m.getLastPosition().parent,y=p.nextSibling;i.push(p),y&&y!==a&&y.getAttribute("listItemId")==f&&i.push(...rT(y,p,s))}else i.push(...rT(a,o,s));this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",qu(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,r=_0(e);if(t.isCollapsed||r){const i=r||t.getFirstPosition().parent;if(!Mt(i))return!1;const s=this._direction=="backward"?i.previousSibling:i.nextSibling;if(!s||v0([i,s]))return!1}else{const i=t.getLastPosition(),s=t.getFirstPosition();if(i.parent===s.parent||!Mt(i.parent))return!1}return!0}_getMergeSubjectElements(e,t){const r=this.editor.model,i=_0(r);let s,o;if(e.isCollapsed||i){const a=i||e.getFirstPosition().parent,l=da(a);this._direction=="backward"?(o=a,l&&!t?s=js.first(a,{sameIndent:!0,lowerIndent:!0}):s=a.previousSibling):(s=a,o=a.nextSibling)}else s=e.getFirstPosition().parent,o=e.getLastPosition().parent;return{firstElement:s,lastElement:o}}}class rM extends lt{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(t=>{const r=fA(this._getStartBlock(),t);this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",qu(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&Mt(t)&&!da(t)}_getStartBlock(){const t=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?t:t.nextSibling}}class y3e extends ee{static get pluginName(){return"ListItemBoldIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);!e.plugins.has("BoldEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("bold","listItemBold"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemBold",setAttributeOnDowncast(i,s,o,a){s&&(i.addClass("ck-list-marker-bold",o),st.isSafari&&!(a&&a.dataPipeline)&&i.setStyle("--ck-content-list-marker-dummy-bold","0",o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("BoldEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemBold"}),t.schema.setAttributeProperties("listItemBold",{isFormatting:!0}),t.schema.addAttributeCheck(r=>{if(!r.last.getAttribute("listItemId"))return!1},"listItemBold"),e.conversion.for("upcast").attributeToAttribute({model:"listItemBold",view:{name:"li",classes:"ck-list-marker-bold"}}))}}class w3e extends ee{static get pluginName(){return"ListItemItalicIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);!e.plugins.has("ItalicEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("italic","listItemItalic"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemItalic",setAttributeOnDowncast(i,s,o,a){s&&(i.addClass("ck-list-marker-italic",o),st.isSafari&&!(a&&a.dataPipeline)&&i.setStyle("--ck-content-list-marker-dummy-italic","0",o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("ItalicEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemItalic"}),t.schema.setAttributeProperties("listItemItalic",{isFormatting:!0}),t.schema.addAttributeCheck(r=>{if(!r.last.getAttribute("listItemId"))return!1},"listItemItalic"),e.conversion.for("upcast").attributeToAttribute({model:"listItemItalic",view:{name:"li",classes:"ck-list-marker-italic"}}))}}class v3e extends ee{static get pluginName(){return"ListItemFontSizeIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);if(!e.plugins.has("FontSizeEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting"))return;const i=b0(e.config.get("fontSize.options"));t.registerFormatAttribute("fontSize","listItemFontSize"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemFontSize",setAttributeOnDowncast(s,o,a,l){if(o){const u=i.find(f=>f.model==o);u&&u.view&&typeof u.view!="string"?u.view.styles?(s.addClass("ck-list-marker-font-size",a),s.setStyle("--ck-content-list-marker-font-size",u.view.styles["font-size"],a)):u.view.classes&&(s.addClass(`ck-list-marker-font-size-${o}`,a),st.isSafari&&!(l&&l.dataPipeline)&&s.setStyle("--ck-content-list-marker-dummy-font-size","0",a)):(s.addClass("ck-list-marker-font-size",a),s.setStyle("--ck-content-list-marker-font-size",o,a))}}})}afterInit(){const e=this.editor,t=e.model;if(!e.plugins.has("FontSizeEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting"))return;t.schema.extend("$listItem",{allowAttributes:"listItemFontSize"}),t.schema.setAttributeProperties("listItemFontSize",{isFormatting:!0}),t.schema.addAttributeCheck(i=>{if(!i.last.getAttribute("listItemId"))return!1},"listItemFontSize"),e.conversion.for("upcast").elementToAttribute({model:{key:"listItemFontSize",value:i=>i.getStyle("--ck-content-list-marker-font-size")},view:{name:"li",classes:"ck-list-marker-font-size",styles:{"--ck-content-list-marker-font-size":/.*/}}});const r=b0(e.config.get("fontSize.options"));for(const i of r)i.model&&i.view&&e.conversion.for("upcast").elementToAttribute({model:{key:"listItemFontSize",value:i.model},view:{name:"li",classes:`ck-list-marker-font-size-${i.model}`}})}}class _3e extends ee{static get pluginName(){return"ListItemFontColorIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);!e.plugins.has("FontColorEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("fontColor","listItemFontColor"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemFontColor",setAttributeOnDowncast(i,s,o){s&&(i.addClass("ck-list-marker-color",o),i.setStyle("--ck-content-list-marker-color",s,o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("FontColorEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemFontColor"}),t.schema.setAttributeProperties("listItemFontColor",{isFormatting:!0}),t.schema.addAttributeCheck(r=>{if(!r.last.getAttribute("listItemId"))return!1},"listItemFontColor"),e.conversion.for("upcast").attributeToAttribute({model:{key:"listItemFontColor",value:r=>r.getStyle("--ck-content-list-marker-color")},view:{name:"li",classes:"ck-list-marker-color",styles:{"--ck-content-list-marker-color":/.*/}}}))}}class x3e extends ee{static get pluginName(){return"ListItemFontFamilyIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);!e.plugins.has("FontFamilyEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("fontFamily","listItemFontFamily"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemFontFamily",setAttributeOnDowncast(i,s,o){s&&(i.addClass("ck-list-marker-font-family",o),i.setStyle("--ck-content-list-marker-font-family",s,o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("FontFamilyEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemFontFamily"}),t.schema.setAttributeProperties("listItemFontFamily",{isFormatting:!0}),t.schema.addAttributeCheck(r=>{if(!r.last.getAttribute("listItemId"))return!1},"listItemFontFamily"),e.conversion.for("upcast").attributeToAttribute({model:{key:"listItemFontFamily",value:r=>r.getStyle("--ck-content-list-marker-font-family")},view:{name:"li",classes:"ck-list-marker-font-family",styles:{"--ck-content-list-marker-font-family":/.*/}}}))}}class E3e extends ee{_loadedFormatting={};static get pluginName(){return"ListFormatting"}static get isOfficialPlugin(){return!0}static get requires(){return[y3e,w3e,v3e,_3e,x3e]}constructor(e){super(e),e.config.define("list.enableListItemMarkerFormatting",!0)}afterInit(){this.editor.config.get("list.enableListItemMarkerFormatting")&&this._registerPostfixerForListItemFormatting()}_registerPostfixerForListItemFormatting(){const e=this.editor.model;e.document.registerPostFixer(t=>{const r=e.document.differ.getChanges(),i=new Set;let s=!1;for(const o of r)if(o.type==="attribute")(o.attributeKey=="listItemId"||o.attributeKey=="listType"||this._isInlineOrSelectionFormatting(o.attributeKey)||Object.values(this._loadedFormatting).includes(o.attributeKey))&&(Mt(o.range.start.nodeAfter)?i.add(o.range.start.nodeAfter):Mt(o.range.start.parent)&&i.add(o.range.start.parent));else if(Mt(o.position.nodeAfter)&&i.add(o.position.nodeAfter),Mt(o.position.nodeBefore)&&i.add(o.position.nodeBefore),Mt(o.position.parent)&&i.add(o.position.parent),o.type=="insert"&&o.name!="$text"){const a=t.createRangeIn(o.position.nodeAfter);for(const l of a.getItems())Mt(l)&&i.add(l)}for(const o of i){const a=k3e(e,o,Object.keys(this._loadedFormatting));for(const[l,u]of Object.entries(a)){const f=this._loadedFormatting[l];(u&&T3e(t,o,f,u)||!u&&S3e(t,o,f))&&(s=!0)}}return s})}registerFormatAttribute(e,t){this._loadedFormatting[e]=t}_isInlineOrSelectionFormatting(e){return e.replace(/^selection:/,"")in this._loadedFormatting}}function k3e(n,e,t){if(da(e))return iM(n,e,t);const r=fl(e);return iM(n,r[0],t)}function iM(n,e,t){if(!C3e(e)||n.schema.isLimit(e))return Object.fromEntries(t.map(a=>[a]));if(e.isEmpty)return Object.fromEntries(t.map(a=>[a,e.getAttribute(`selection:${a}`)]));const r=new Set(t),i={},o=n.createRangeIn(e).getWalker({ignoreElementEnd:!0});for(const{item:a}of o){for(const l of r)if(n.schema.checkAttribute(a,l)){const u=a.getAttribute(l);u===void 0?(r.delete(l),i[l]=void 0):i[l]===void 0?i[l]=u:i[l]!==u&&(r.delete(l),i[l]=void 0)}else l in i||(i[l]=void 0);if(!r.size)break;n.schema.isLimit(a)&&o.jumpTo(n.createPositionAfter(a))}return i}function T3e(n,e,t,r){const i=fl(e);let s=!1;for(const o of i)(!o.hasAttribute(t)||o.getAttribute(t)!==r)&&(n.setAttribute(t,r,o),s=!0);return s}function S3e(n,e,t){const r=fl(e);let i=!1;for(const s of r)s.hasAttribute(t)&&(n.removeAttribute(t,s),i=!0);return i}function C3e(n){return["numbered","bulleted","customNumbered","customBulleted"].includes(n.getAttribute("listType"))}class A3e extends ee{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(e){return Ov(e)}isFirstBlockOfListItem(e){return da(e)}isListItemBlock(e){return Mt(e)}expandListBlocksToCompleteItems(e,t={}){return op(e,t)}isNumberedListType(e){return Jy(e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function N3e(n){return n.is("element","ol")||n.is("element","ul")}function sT(n){return n.is("element","li")}function P3e(n){let e=0,t=n.parent;for(;t;){if(sT(t))e++;else{const r=t.previousSibling;r&&sT(r)&&e++}t=t.parent}return e}function I3e(n,e,t,r=Pz(t,e)){return n.createAttributeElement(Nz(t),null,{priority:2*e/100-100,id:r})}function R3e(n,e,t){return n.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:t})}function Nz(n){return n=="numbered"||n=="customNumbered"?"ol":"ul"}function Pz(n,e){return`list-${n}-${e}`}function co(n,e,t){const r=n.nodeBefore;if(Mt(r)){let i=r;for(const{node:s}of new sp(i,"backward"))if(i=s,t.has(i)||(t.add(i),e.has(r)))return;e.add(i)}else{const i=n.nodeAfter;Mt(i)&&e.add(i)}}function O3e(n,e){let t=0,r=-1,i=null,s=!1;for(const{node:o}of n){const a=o.getAttribute("listIndent");if(a>t){let l;i===null?(i=a-t,l=t):(i>a&&(i=a),l=a-i),l>r+1&&(l=r+1),e.setAttribute("listIndent",l,o),s=!0,r=l}else i=null,t=a+1,r=a}return s}function M3e(n,e,t){const r=new Set;let i=!1;for(const{node:s}of n){if(r.has(s))continue;let o=s.getAttribute("listType"),a=s.getAttribute("listItemId");if(e.has(a)&&(a=Zf.next()),e.add(a),s.is("element","listItem")){s.getAttribute("listItemId")!=a&&(t.setAttribute("listItemId",a,s),i=!0);continue}for(const l of mc(s,{direction:"forward"}))r.add(l),l.getAttribute("listType")!=o&&(a=Zf.next(),o=l.getAttribute("listType")),l.getAttribute("listItemId")!=a&&(t.setAttribute("listItemId",a,l),i=!0)}return i}function D3e(){return(n,e,t)=>{const{writer:r,schema:i}=t;if(!e.modelRange)return;const s=Array.from(e.modelRange.getItems({shallow:!0})).filter(m=>i.checkAttribute(m,"listItemId"));if(!s.length)return;const o=e.viewItem.getAttribute("data-list-item-id")||Zf.next();t.consumable.consume(e.viewItem,{attributes:"data-list-item-id"});const a=P3e(e.viewItem);let l=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const u=s[0].getAttribute("listType");u&&(l=u);const f={listItemId:o,listIndent:a,listType:l};for(const m of s)m.hasAttribute("listItemId")||r.setAttributes(f,m);s.length>1&&s[1].getAttribute("listItemId")!=f.listItemId&&t.keepEmptyElement(s[0])}}function F3e(n,e,t,r){return()=>{const l=n.document.differ.getChanges(),u=[],f=new Set,m=new Set,p=new Set;for(const y of l)if(y.type=="insert"&&y.name!="$text")co(y.position,f,p),y.attributes.has("listItemId")?m.add(y.position.nodeAfter):co(y.position.getShiftedBy(y.length),f,p);else if(y.type=="remove"&&y.attributes.has("listItemId"))co(y.position,f,p);else if(y.type=="attribute"){const v=y.range.start.nodeAfter;t.includes(y.attributeKey)?(co(y.range.start,f,p),y.attributeNewValue===null?(co(y.range.start.getShiftedBy(1),f,p),s(v)&&u.push(v)):m.add(v)):Mt(v)&&s(v)&&u.push(v)}for(const y of f.values())u.push(...i(y,m));for(const y of new Set(u))e.reconvertItem(y)};function i(l,u){const f=[],m=new Set,p=[];for(const{node:y,previous:v}of new sp(l)){if(m.has(y))continue;const w=y.getAttribute("listIndent");v&&w<v.getAttribute("listIndent")&&(p.length=w+1),p[w]={modelAttributes:Object.fromEntries(Array.from(y.getAttributes()).filter(([k])=>t.includes(k))),modelElement:y};const E=mc(y,{direction:"forward"});for(const k of E)m.add(k),(s(k,E)||a(k,p,u))&&f.push(k)}return f}function s(l,u){const f=e.mapper.toViewElement(l);if(!f)return!1;if(o(f)||r.fire("checkElement",{modelElement:l,viewElement:f}))return!0;if(!l.is("element","paragraph")&&!l.is("element","listItem"))return!1;const p=Rz(l,t,u);return p&&f.is("element","p")?!0:!!(!p&&f.is("element","span"))}function o(l){for(l=l.parent;l.is("attributeElement")&&["ol","ul","li"].includes(l.name);)l=l.parent;return!!(l.getCustomProperty("$structureSlotParent")&&!e.mapper.toModelElement(l))}function a(l,u,f){if(f.has(l))return!1;const m=e.mapper.toViewElement(l);let p=u.length-1;for(let y=m.parent;!y.is("editableElement");y=y.parent){const v=sT(y),w=N3e(y);if(!w&&!v)continue;const E=`checkAttributes:${v?"item":"list"}`;if(r.fire(E,{viewElement:y,modelAttributes:u[p].modelAttributes,modelReferenceElement:u[p].modelElement}))break;if(w&&(p--,p<0))return!1}return!0}}function sM(n,e,t,{dataPipeline:r}={}){const i=$3e(n,e);return(s,o,a)=>{const{writer:l,mapper:u,consumable:f}=a,m=o.item;if(!n.includes(o.attributeKey)||!i(m,f))return;const p={...a.options,dataPipeline:r},y=B3e(m,u,t,l);Iz(y,l,u),z3e(y,l);const v=U3e(m,y,e,l,p);H3e(m,v,e,l,p)}}function L3e(n){return(e,t,r)=>{const{writer:i,mapper:s}=r,o=e.name.split(":")[1];if(!n.checkAttribute(o,"listItemId"))return;const a=s.toViewPosition(t.position),l=t.position.getShiftedBy(t.length),u=s.toViewPosition(l,{isPhantom:!0}),m=i.createRange(a,u).getTrimmed().end.nodeBefore;/* istanbul ignore next -- @preserve */m&&Iz(m,i,s)}}function oM(n,{dataPipeline:e}={}){return(t,{writer:r})=>{if(!Rz(t,n))return null;if(!e)return r.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const i=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}function B3e(n,e,t,r){const i=t.createRangeOn(n),o=e.toViewRange(i).getTrimmed().getWalker();for(const{item:a}of o)if(a.is("element")&&a.getCustomProperty("listItemMarker"))o.jumpTo(r.createPositionAfter(a));else if(a.is("element")&&!a.getCustomProperty("listItemWrapper"))return a}function V3e(n,e){return(t,r)=>{if(r.modelPosition.offset>0)return;const i=r.modelPosition.parent;if(!Mt(i)||!n.some(u=>u.scope=="itemMarker"&&u.canInjectMarkerIntoElement&&u.canInjectMarkerIntoElement(i)))return;const s=r.mapper.toViewElement(i),o=e.createRangeIn(s),a=o.getWalker();let l=o.start;for(const{item:u}of a){if(u.is("element")&&r.mapper.toModelElement(u)||u.is("$textProxy"))break;u.is("element")&&u.getCustomProperty("listItemMarker")&&(l=e.createPositionAfter(u),a.skip(({previousPosition:f})=>!f.isEqual(l)))}r.viewPosition=l}}function Iz(n,e,t){for(;n.parent.is("attributeElement")&&n.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(n),n.parent);const r=[];i(e.createPositionBefore(n).getWalker({direction:"backward"})),i(e.createRangeIn(n).getWalker());for(const s of r)e.remove(s);function i(s){for(const{item:o}of s){if(o.is("element")&&t.toModelElement(o))break;o.is("element")&&o.getCustomProperty("listItemMarker")&&r.push(o)}}}function U3e(n,e,t,r,{dataPipeline:i}){let s=r.createRangeOn(e);if(!da(n))return s;for(const o of t){if(o.scope!="itemMarker")continue;const a=o.createElement(r,n,{dataPipeline:i});if(!a||(r.setCustomProperty("listItemMarker",!0,a),o.canInjectMarkerIntoElement&&o.canInjectMarkerIntoElement(n)?r.insert(r.createPositionAt(e,0),a):(r.insert(s.start,a),s=r.createRange(r.createPositionBefore(a),r.createPositionAfter(e))),!o.createWrapperElement||!o.canWrapElement))continue;const l=o.createWrapperElement(r,n,{dataPipeline:i});r.setCustomProperty("listItemWrapper",!0,l),o.canWrapElement(n)?s=r.wrap(s,l):(s=r.wrap(r.createRangeOn(a),l),s=r.createRange(s.start,r.createPositionAfter(e)))}return s}function z3e(n,e){let t=n.parent;for(;t.is("attributeElement")&&["ul","ol","li"].includes(t.name);){const r=t.parent;e.unwrap(e.createRangeOn(n),t),t=r}}function H3e(n,e,t,r,i){if(!n.hasAttribute("listIndent"))return;const s=n.getAttribute("listIndent");let o=n;for(let a=s;a>=0;a--){const l=R3e(r,a,o.getAttribute("listItemId")),u=I3e(r,a,o.getAttribute("listType"));for(const f of t)(f.scope=="list"||f.scope=="item")&&o.hasAttribute(f.attributeName)&&f.setAttributeOnDowncast(r,o.getAttribute(f.attributeName),f.scope=="list"?u:l,i,o);if(e=r.wrap(e,l),e=r.wrap(e,u),a==0||(o=js.first(o,{lowerIndent:!0}),!o))break}}function $3e(n,e){const t=e.filter(r=>r.consume===!1).map(r=>r.attributeName);return(r,i)=>{const s=[];for(const o of n)r.hasAttribute(o)&&!t.includes(o)&&s.push(`attribute:${o}`);return s.every(o=>i.test(r,o)!==!1)?(s.forEach(o=>i.consume(r,o)),!0):!1}}function Rz(n,e,t=fl(n)){if(!Mt(n))return!1;for(const r of n.getAttributeKeys())if(!(r.startsWith("selection:")||r=="htmlEmptyBlock")&&!e.includes(r))return!1;return t.length<2}const Bb=["listType","listIndent","listItemId"];class xi extends ee{_downcastStrategies=[];static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[rp,_c,A3e,Ws,E3e]}constructor(e){super(e),e.config.define("list.multiBlock",!0)}init(){const e=this.editor,t=e.model,r=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new q("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:Bb}),r?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const i of Bb)t.schema.setAttributeProperties(i,{copyOnReplace:!0});e.commands.add("numberedList",new tg(e,"numbered")),e.commands.add("bulletedList",new tg(e,"bulleted")),e.commands.add("customNumberedList",new tg(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new tg(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new eM(e,"forward")),e.commands.add("outdentList",new eM(e,"backward")),e.commands.add("splitListItemBefore",new rM(e,"before")),e.commands.add("splitListItemAfter",new rM(e,"after")),r&&(e.commands.add("mergeListItemBackward",new nM(e,"backward")),e.commands.add("mergeListItemForward",new nM(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration(),this._setupListItemIdConversionStrategy()}afterInit(){const t=this.editor.commands,r=t.get("indent"),i=t.get("outdent");r&&r.registerChildCommand(t.get("indentList"),{priority:"high"}),i&&i.registerChildCommand(t.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...Bb,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),r=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(i,s)=>{const o=e.model.document.selection;_0(e.model)||e.model.change(()=>{const a=o.getFirstPosition();if(o.isCollapsed&&s.direction=="backward"){if(!a.isAtStart)return;const l=a.parent;if(!Mt(l))return;if(!js.first(l,{sameAttributes:"listType",sameIndent:!0})&&l.getAttribute("listIndent")===0)Z6(l)||e.execute("splitListItemAfter"),e.execute("outdentList");else{if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:aM(e.model,"backward")})}s.preventDefault(),i.stop()}else{if(o.isCollapsed&&!o.getLastPosition().isAtEnd||!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:aM(e.model,"forward")}),s.preventDefault(),i.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,r=e.commands,i=r.get("enter");this.listenTo(e.editing.view.document,"enter",(s,o)=>{const a=t.document,l=a.selection.getFirstPosition().parent;if(a.selection.isCollapsed&&Mt(l)&&l.isEmpty&&!o.isSoft){const u=da(l),f=Z6(l);u&&f?(e.execute("outdentList"),o.preventDefault(),s.stop()):u&&!f?(e.execute("splitListItemAfter"),o.preventDefault(),s.stop()):f&&(e.execute("splitListItemBefore"),o.preventDefault(),s.stop())}},{context:"li"}),this.listenTo(i,"afterExecute",()=>{const s=r.get("splitListItemBefore");if(s.refresh(),!s.isEnabled)return;const a=e.model.document.selection.getLastPosition().parent;fl(a).length===2&&s.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,r)=>{const i=r.shiftKey?"outdentList":"indentList";this.editor.commands.get(i).isEnabled&&(e.execute(i),r.stopPropagation(),r.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,r=this.getListAttributeNames(),i=e.config.get("list.multiBlock"),s=i?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(a,{writer:l})=>l.createElement(s,{listType:""})}).elementToElement({view:"p",model:(a,{writer:l})=>a.parent&&a.parent.is("element","li")?l.createElement(s,{listType:""}):null,converterPriority:"high"}).add(a=>{a.on("element:li",D3e())}),i||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:s,view:oM(r),converterPriority:"high"}).add(a=>{a.on("attribute",sM(r,this._downcastStrategies,t)),a.on("remove",L3e(t.schema))}),e.conversion.for("dataDowncast").elementToElement({model:s,view:oM(r,{dataPipeline:!0}),converterPriority:"high"}).add(a=>{a.on("attribute",sM(r,this._downcastStrategies,t,{dataPipeline:!0}))});const o=V3e(this._downcastStrategies,e.editing.view);e.editing.mapper.on("modelToViewPosition",o),e.data.mapper.on("modelToViewPosition",o),this.listenTo(t.document,"change:data",F3e(t,e.editing,r,this),{priority:"high"}),this.on("checkAttributes:item",(a,{viewElement:l,modelAttributes:u})=>{l.id!=u.listItemId&&(a.return=!0,a.stop())}),this.on("checkAttributes:list",(a,{viewElement:l,modelAttributes:u})=>{(l.name!=Nz(u.listType)||l.id!=Pz(u.listType,u.listIndent))&&(a.return=!0,a.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(r=>W3e(e,r,t,this)),this.on("postFixer",(r,{listNodes:i,writer:s})=>{r.return=O3e(i,s)||r.return},{priority:"high"}),this.on("postFixer",(r,{listNodes:i,writer:s,seenIds:o})=>{r.return=M3e(i,o,s)||r.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",j3e(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(r,i)=>{e.change(s=>{const o=Array.from(i.content.getChildren()),a=o[o.length-1];if(o.length>1&&a.is("element")&&a.isEmpty&&o.slice(0,-1).every(Mt)&&s.remove(a),i.method=="copy"||i.method=="cut"){const l=Array.from(i.content.getChildren());v0(l)&&Mv(l,s)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}_setupListItemIdConversionStrategy(){this.registerDowncastStrategy({scope:"item",attributeName:"listItemId",setAttributeOnDowncast(e,t,r,i){i&&(i.skipListItemIds||i.isClipboardPipeline)||e.setAttribute("data-list-item-id",t,r)}})}}function W3e(n,e,t,r){const i=n.document.differ.getChanges(),s=new Set,o=new Set,a=r.editor.config.get("list.multiBlock");let l=!1;for(const f of i){if(f.type=="insert"&&f.name!="$text"){const m=f.position.nodeAfter;if(!n.schema.checkAttribute(m,"listItemId"))for(const p of Array.from(m.getAttributeKeys()))t.includes(p)&&(e.removeAttribute(p,m),l=!0);co(f.position,o,s),f.attributes.has("listItemId")||co(f.position.getShiftedBy(f.length),o,s);for(const{item:p,previousPosition:y}of n.createRangeIn(m))Mt(p)&&co(y,o,s)}else f.type=="remove"?co(f.position,o,s):f.type=="attribute"&&t.includes(f.attributeKey)&&(co(f.range.start,o,s),f.attributeNewValue===null&&co(f.range.start.getShiftedBy(1),o,s));if(!a&&f.type=="attribute"&&Bb.includes(f.attributeKey)){const m=f.range.start.nodeAfter;f.attributeNewValue===null&&m&&m.is("element","listItem")?(e.rename(m,"paragraph"),l=!0):f.attributeOldValue===null&&m&&m.is("element")&&m.name!="listItem"&&(e.rename(m,"listItem"),l=!0)}}const u=new Set;for(const f of o.values())l=r.fire("postFixer",{listNodes:new h3e(f),listHead:f,writer:e,seenIds:u})||l;return l}function j3e(n){return(e,[t,r])=>{const i=t.is("documentFragment")?Array.from(t.getChildren()):[t];if(!i.length)return;const o=(r?n.createSelection(r):n.document.selection).getFirstPosition();let a;if(Mt(o.parent))a=o.parent;else if(Mt(o.nodeBefore)&&Mt(o.nodeAfter))a=o.nodeBefore;else return;n.change(l=>{const u=a.getAttribute("listType"),f=a.getAttribute("listIndent"),m=i[0].getAttribute("listIndent")||0,p=Math.max(f-m,0);for(const y of i){const v=Mt(y);a.is("element","listItem")&&y.is("element","paragraph")&&l.rename(y,"listItem"),l.setAttributes({listIndent:(v?y.getAttribute("listIndent"):0)+p,listItemId:v?y.getAttribute("listItemId"):Zf.next(),listType:u},y)}})}}function aM(n,e){const t=n.document.selection;if(!t.isCollapsed)return!_0(n);if(e==="forward")return!0;const i=t.getFirstPosition().parent,s=i.previousSibling;return n.schema.isObject(s)?!1:s.isEmpty?!0:v0([i,s])}function oT(n,e,t,r){n.ui.componentFactory.add(e,()=>{const i=lM(et,n,e,t,r);return i.set({tooltip:!0,isToggleable:!0}),i}),n.ui.componentFactory.add(`menuBar:${e}`,()=>{const i=lM(xn,n,e,t,r);return i.set({role:"menuitemcheckbox",isToggleable:!0}),i})}function lM(n,e,t,r,i){const s=e.commands.get(t),o=new n(e.locale);return o.set({label:r,icon:i}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.on("execute",()=>{e.execute(t),e.editing.view.focus()}),o}class q3e extends ee{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||oT(this.editor,"numberedList",e("Numbered List"),LC),this.editor.ui.componentFactory.has("bulletedList")||oT(this.editor,"bulletedList",e("Bulleted List"),FC)}}class G3e extends ee{static get requires(){return[xi,q3e]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}class Y3e extends lt{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute({startIndex:e=1}={}){const t=this.editor.model,r=t.document;let i=Array.from(r.selection.getSelectedBlocks()).filter(s=>Mt(s)&&Jy(s.getAttribute("listType")));i=Ov(i),t.change(s=>{for(const o of i)s.setAttribute("listStart",e>=0?e:1,o)})}_getValue(){const t=this.editor.model.document,r=_n(t.selection.getSelectedBlocks());return r&&Mt(r)&&Jy(r.getAttribute("listType"))?r.getAttribute("listStart"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Oz={},Mz={},Dz={},Fz=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:e,listType:t}of Fz)Oz[n]=t,Mz[n]=e,e&&(Dz[e]=n);function Lz(){return Fz.map(n=>n.listStyle)}function hA(n){return Oz[n]||null}function Bz(n){return Dz[n]||null}function aT(n){return Mz[n]||null}function K3e(n){switch(n){case"lower-alpha":return"lower-latin";case"upper-alpha":return"upper-latin";default:return n}}class X3e extends lt{defaultType;_supportedTypes;constructor(e,t,r){super(e),this.defaultType=t,this._supportedTypes=r}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.document;t.change(i=>{this._tryToConvertItemsToList(e);let s=Array.from(r.selection.getSelectedBlocks()).filter(o=>o.hasAttribute("listType"));if(s.length){s=Ov(s);for(const o of s)i.setAttribute("listStyle",e.type||this.defaultType,o)}})}isStyleTypeSupported(e){return this._supportedTypes?this._supportedTypes.includes(e):!0}_getValue(){const e=_n(this.editor.model.document.selection.getSelectedBlocks());return Mt(e)?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,t=e.commands.get("numberedList"),r=e.commands.get("bulletedList");return t.isEnabled||r.isEnabled}_tryToConvertItemsToList(e){if(!e.type)return;const t=hA(e.type);if(!t)return;const r=this.editor,i=`${t}List`;r.commands.get(i).value||r.execute(i)}}class J3e extends lt{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute(e={}){const t=this.editor.model,r=t.document;let i=Array.from(r.selection.getSelectedBlocks()).filter(s=>Mt(s)&&s.getAttribute("listType")=="numbered");i=Ov(i),t.change(s=>{for(const o of i)s.setAttribute("listReversed",!!e.reversed,o)})}_getValue(){const t=this.editor.model.document,r=_n(t.selection.getSelectedBlocks());return Mt(r)&&r.getAttribute("listType")=="numbered"?r.getAttribute("listReversed"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cM(n){return(e,t,r)=>{const{writer:i,schema:s,consumable:o}=r;if(o.test(t.viewItem,n.viewConsumables)===!1)return;t.modelRange||Object.assign(t,r.convertChildren(t.viewItem,t.modelCursor));let a=!1;for(const l of t.modelRange.getItems({shallow:!0}))s.checkAttribute(l,n.attributeName)&&n.appliesToListItem(l)&&(l.hasAttribute(n.attributeName)||(i.setAttribute(n.attributeName,n.getAttributeOnUpcast(t.viewItem),l),a=!0));a&&o.consume(t.viewItem,n.viewConsumables)}}class Q3e extends ee{static get pluginName(){return"ListPropertiesUtils"}static get isOfficialPlugin(){return!0}getAllSupportedStyleTypes(){return Lz()}getListTypeFromListStyleType(e){return hA(e)}getListStyleTypeFromTypeAttribute(e){return Bz(e)}getTypeAttributeFromListStyleType(e){return aT(e)}}function Vz(n){const{startIndex:e,reversed:t,styles:r}=n;return{styles:Z3e(r),startIndex:e||!1,reversed:t||!1}}function Z3e(n){const e={listTypes:["bulleted","numbered"],useAttribute:!1};return n===!0||(n?Array.isArray(n)||typeof n=="string"?e.listTypes=Gt(n):(e.listTypes=n.listTypes?Gt(n.listTypes):e.listTypes,e.useAttribute=!!n.useAttribute,n.listStyleTypes&&(e.listStyleTypes=n.listStyleTypes)):e.listTypes=[]),e}const Wm="default";class eNe extends ee{static get requires(){return[xi,Q3e]}static get pluginName(){return"ListPropertiesEditing"}static get licenseFeatureCode(){return"LP"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}constructor(e){super(e),e.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const e=this.editor,t=e.model,r=e.plugins.get(xi),i=e.config.get("list.properties"),s=tNe(i);for(const o of s)o.addCommand(e),t.schema.extend("$listItem",{allowAttributes:o.attributeName}),r.registerDowncastStrategy({scope:"list",attributeName:o.attributeName,setAttributeOnDowncast(a,l,u){o.setAttributeOnDowncast(a,l,u)}});e.conversion.for("upcast").add(o=>{for(const a of s)o.on("element:ol",cM(a)),o.on("element:ul",cM(a))}),r.on("checkAttributes:list",(o,{viewElement:a,modelAttributes:l,modelReferenceElement:u})=>{for(const f of s)f.appliesToListItem(u)&&f.getAttributeOnUpcast(a)!=l[f.attributeName]&&(o.return=!0,o.stop())}),this.listenTo(e.commands.get("indentList"),"afterExecute",(o,a)=>{t.change(l=>{for(const u of a)for(const f of s)f.appliesToListItem(u)&&l.setAttribute(f.attributeName,f.defaultValue,u)})}),r.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:u}of a)for(const f of s)f.hasValidAttribute(u)||(f.appliesToListItem(u)?l.setAttribute(f.attributeName,f.defaultValue,u):l.removeAttribute(f.attributeName,u),o.return=!0)}),r.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:u,previousNodeInList:f}of a)if(f&&f.getAttribute("listType")==u.getAttribute("listType"))for(const m of s){const{attributeName:p}=m;if(!m.appliesToListItem(u))continue;const y=f.getAttribute(p);u.getAttribute(p)!=y&&(l.setAttribute(p,y,u),o.return=!0)}})}}function tNe(n){const e=[],t=Vz(n);if(n.styles){const r=t.styles.useAttribute;e.push({attributeName:"listStyle",defaultValue:Wm,viewConsumables:{styles:"list-style-type"},addCommand(i){let s=Lz();r&&(s=s.filter(o=>!!aT(o))),i.commands.add("listStyle",new X3e(i,Wm,s))},appliesToListItem(i){return i.getAttribute("listType")=="numbered"||i.getAttribute("listType")=="bulleted"},hasValidAttribute(i){if(!this.appliesToListItem(i))return!i.hasAttribute("listStyle");if(!i.hasAttribute("listStyle"))return!1;const s=i.getAttribute("listStyle");return s==Wm?!0:hA(s)==i.getAttribute("listType")},setAttributeOnDowncast(i,s,o){if(s&&s!==Wm)if(r){const a=aT(s);if(a){i.setAttribute("type",a,o);return}}else{i.setStyle("list-style-type",s,o);return}i.removeStyle("list-style-type",o),i.removeAttribute("type",o)},getAttributeOnUpcast(i){const s=i.getStyle("list-style-type");if(s)return K3e(s);const o=i.getAttribute("type");return o?Bz(o):Wm}})}return n.reversed&&e.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(r){r.commands.add("listReversed",new J3e(r))},appliesToListItem(r){return r.getAttribute("listType")=="numbered"},hasValidAttribute(r){return this.appliesToListItem(r)==r.hasAttribute("listReversed")},setAttributeOnDowncast(r,i,s){i?r.setAttribute("reversed","reversed",s):r.removeAttribute("reversed",s)},getAttributeOnUpcast(r){return r.hasAttribute("reversed")}}),n.startIndex&&e.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(r){r.commands.add("listStart",new Y3e(r))},appliesToListItem(r){return Jy(r.getAttribute("listType"))},hasValidAttribute(r){return this.appliesToListItem(r)==r.hasAttribute("listStart")},setAttributeOnDowncast(r,i,s){i==0||i>1?r.setAttribute("start",i,s):r.removeAttribute("start",s)},getAttributeOnUpcast(r){const i=r.getAttribute("start");return i>=0?i:1}}),e}class Uz extends Le{children;stylesView=null;additionalPropertiesCollapsibleView=null;startIndexFieldView=null;reversedSwitchButtonView=null;focusTracker=new Yt;keystrokes=new bn;focusables=new br;focusCycler;constructor(e,{enabledProperties:t,styleButtonViews:r,styleGridAriaLabel:i}){super(e);const s=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new Tr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r&&r.length?(this.stylesView=this._createStylesView(r,i),this.children.add(this.stylesView)):s.push("ck-list-properties_without-styles"),(t.startIndex||t.reversed)&&(this._addNumberedListPropertyViews(t),s.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:s},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const e of this.stylesView.children)this.stylesView.focusTracker.add(e.element);Z0({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>qe.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,t){const r=new Le(this.locale);return r.children=r.createCollection(),r.children.addMany(e),r.setTemplate({tag:"div",attributes:{"aria-label":t,class:["ck","ck-list-styles-list"]},children:r.children}),r.children.delegate("execute").to(this),r.focus=function(){for(const i of this.children)if(i instanceof et&&i.isOn){i.focus();return}this.children.first.focus()},r.focusTracker=new Yt,r.keystrokes=new bn,r.render(),r.keystrokes.listenTo(r.element),r}_addNumberedListPropertyViews(e){const t=this.locale.t,r=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),r.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),r.push(this.reversedSwitchButtonView)),this.stylesView?(this.additionalPropertiesCollapsibleView=new WC(this.locale,r),this.additionalPropertiesCollapsibleView.set({label:t("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(r,"isEnabled",(...i)=>i.some(s=>s)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(i,s,o)=>{o||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(r)}_createStartIndexField(){const e=this.locale.t,t=new Kn(this.locale,V9);return t.set({label:e("Start at"),class:"ck-numbered-list-properties__start-index"}),t.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),t.fieldView.on("input",()=>{const r=t.fieldView.element,i=r.valueAsNumber;if(Number.isNaN(i)){t.errorText=e("Invalid start index value.");return}r.checkValidity()?this.fire("listStart",{startIndex:i}):t.errorText=e("Start index must be greater than 0.")}),t}_createReversedSwitchButton(){const e=this.locale.t,t=new Nu(this.locale);return t.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),t.delegate("execute").to(this,"listReversed"),t}}class nNe extends ee{static get pluginName(){return"ListPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=e.config.get("list.properties"),i=Vz(r),s=i.styles.listTypes;if(s.includes("bulleted")){const o=[{label:t("Toggle the disc list style"),tooltip:t("Disc"),type:"disc",icon:__e},{label:t("Toggle the circle list style"),tooltip:t("Circle"),type:"circle",icon:y_e},{label:t("Toggle the square list style"),tooltip:t("Square"),type:"square",icon:k_e}],a=t("Bulleted List"),l=t("Bulleted list styles toolbar"),u="bulletedList";e.ui.componentFactory.add(u,uM({editor:e,normalizedConfig:i,parentCommandName:u,buttonLabel:a,buttonIcon:FC,styleGridAriaLabel:l,styleDefinitions:o})),e.ui.componentFactory.add(`menuBar:${u}`,dM({editor:e,normalizedConfig:i,parentCommandName:u,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}if(s.includes("numbered")||r.startIndex||r.reversed){const o=[{label:t("Toggle the decimal list style"),tooltip:t("Decimal"),type:"decimal",icon:v_e},{label:t("Toggle the decimal with leading zero list style"),tooltip:t("Decimal with leading zero"),type:"decimal-leading-zero",icon:w_e},{label:t("Toggle the lowerroman list style"),tooltip:t("Lowerroman"),type:"lower-roman",icon:E_e},{label:t("Toggle the upperroman list style"),tooltip:t("Upper-roman"),type:"upper-roman",icon:S_e},{label:t("Toggle the lowerlatin list style"),tooltip:t("Lower-latin"),type:"lower-latin",icon:x_e},{label:t("Toggle the upperlatin list style"),tooltip:t("Upper-latin"),type:"upper-latin",icon:T_e}],a=t("Numbered List"),l=t("Numbered list styles toolbar"),u="numberedList";e.ui.componentFactory.add(u,uM({editor:e,normalizedConfig:i,parentCommandName:u,buttonLabel:a,buttonIcon:LC,styleGridAriaLabel:l,styleDefinitions:o})),s.includes("numbered")&&e.ui.componentFactory.add(`menuBar:${u}`,dM({editor:e,normalizedConfig:i,parentCommandName:u,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}}}function uM({editor:n,normalizedConfig:e,parentCommandName:t,buttonLabel:r,buttonIcon:i,styleGridAriaLabel:s,styleDefinitions:o}){const a=n.commands.get(t);return l=>{const u=kr(l,yh),f=u.buttonView;return u.bind("isEnabled").to(a),u.class="ck-list-styles-dropdown",f.on("execute",()=>{n.execute(t),n.editing.view.focus()}),f.set({label:r,icon:i,tooltip:!0,isToggleable:!0}),f.bind("isOn").to(a,"value",m=>!!m),u.once("change:isOpen",()=>{const m=rNe({editor:n,normalizedConfig:e,dropdownView:u,parentCommandName:t,styleGridAriaLabel:s,styleDefinitions:o});u.panelView.children.add(m)}),u.on("execute",()=>{n.editing.view.focus()}),u}}function zz({editor:n,listStyleCommand:e,parentCommandName:t}){const r=n.locale,i=n.commands.get(t);return({label:s,type:o,icon:a,tooltip:l})=>{const u=new et(r);return u.set({label:s,icon:a,tooltip:l}),u.bind("isOn").to(e,"value",f=>f===o),u.on("execute",()=>{i.value?e.value===o?n.execute(t):e.value!==o&&n.execute("listStyle",{type:o}):n.model.change(()=>{n.execute("listStyle",{type:o})})}),u}}function rNe({editor:n,normalizedConfig:e,dropdownView:t,parentCommandName:r,styleDefinitions:i,styleGridAriaLabel:s}){const o=n.locale,a={...e,...r!="numberedList"?{startIndex:!1,reversed:!1}:null},l=r.replace("List","");let u=null;if(e.styles.listTypes.includes(l)){const m=n.commands.get("listStyle"),p=zz({editor:n,parentCommandName:r,listStyleCommand:m}),y=e.styles.listStyleTypes;let v=i;if(y){const E=y[l];E&&(v=i.filter(k=>E.includes(k.type)))}const w=Hz(m);u=v.filter(w).map(p)}const f=new Uz(o,{styleGridAriaLabel:s,enabledProperties:a,styleButtonViews:u});if(e.styles.listTypes.includes(l)&&Av(t,()=>f.stylesView.children.find(m=>m.isOn)),a.startIndex){const m=n.commands.get("listStart");f.startIndexFieldView.bind("isEnabled").to(m),f.startIndexFieldView.fieldView.bind("value").to(m),f.on("listStart",(p,y)=>n.execute("listStart",y))}if(a.reversed){const m=n.commands.get("listReversed");f.reversedSwitchButtonView.bind("isEnabled").to(m),f.reversedSwitchButtonView.bind("isOn").to(m,"value",p=>!!p),f.on("listReversed",()=>{const p=m.value;n.execute("listReversed",{reversed:!p})})}return f.delegate("execute").to(t),f}function dM({editor:n,normalizedConfig:e,parentCommandName:t,buttonLabel:r,styleGridAriaLabel:i,styleDefinitions:s}){return o=>{const a=new zi(o),l=n.commands.get(t),u=n.commands.get("listStyle"),f=Hz(u),m=zz({editor:n,parentCommandName:t,listStyleCommand:u}),p=e.styles.listStyleTypes;let y=s;if(p){const E=l.type,k=p[E];k&&(y=s.filter(T=>k.includes(T.type)))}const v=y.filter(f).map(m),w=new Uz(o,{styleGridAriaLabel:i,enabledProperties:{...e,startIndex:!1,reversed:!1},styleButtonViews:v});return w.delegate("execute").to(a),a.buttonView.set({label:r,icon:t==="bulletedList"?FC:LC}),a.panelView.children.add(w),a.bind("isEnabled").to(l,"isEnabled"),a.on("execute",()=>{n.editing.view.focus()}),a}}function Hz(n){return typeof n.isStyleTypeSupported=="function"?e=>n.isStyleTypeSupported(e.type):()=>!0}class iNe extends ee{static get requires(){return[eNe,nNe]}static get pluginName(){return"ListProperties"}static get isOfficialPlugin(){return!0}}class sNe extends lt{constructor(e){super(e),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const e=this._getSelectedItems();this.value=this._getValue(e),this.isEnabled=!!e.length}execute(e={}){this.editor.model.change(t=>{const r=this._getSelectedItems(),i=e.forceValue===void 0?!this._getValue(r):e.forceValue;for(const s of r)i?t.setAttribute("todoListChecked",!0,s):t.removeAttribute("todoListChecked",s)})}_getValue(e){return e.every(t=>t.getAttribute("todoListChecked"))}_getSelectedItems(){const e=this.editor.model,t=e.schema,r=e.document.selection.getFirstRange(),i=r.start.parent,s=[];t.checkAttribute(i,"todoListChecked")&&s.push(...fl(i));for(const o of r.getItems({shallow:!0}))t.checkAttribute(o,"todoListChecked")&&!s.includes(o)&&s.push(...fl(o));return s}}class oNe extends Mo{domEventType=["change"];onDomEvent(e){if(e.target){const t=this.view.domConverter.mapDomToView(e.target);t&&t.is("element","input")&&t.getAttribute("type")=="checkbox"&&t.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",e)}}}const aNe=lv("Ctrl+Enter");class lNe extends ee{static get pluginName(){return"TodoListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.model,r=e.editing,i=e.plugins.get(xi),o=e.config.get("list.multiBlock")?"paragraph":"listItem";e.commands.add("todoList",new tg(e,"todo")),e.commands.add("checkTodoList",new sNe(e)),r.view.addObserver(oNe),t.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),t.schema.addAttributeCheck(a=>{const l=a.last;if(!l.getAttribute("listItemId")||l.getAttribute("listType")!="todo")return!1},"todoListChecked"),e.conversion.for("upcast").add(a=>{a.on("element:input",uNe()),a.on("element:li",cNe(),{priority:"low"}),a.on("element:label",SE({name:"label",classes:"todo-list__label"})),a.on("element:label",SE({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),a.on("element:span",SE({name:"span",classes:"todo-list__label__description"})),a.on("element:ul",dNe({name:"ul",classes:"todo-list"}))}),e.conversion.for("downcast").elementToElement({model:o,view:(a,{writer:l})=>{if(rb(a,i.getListAttributeNames()))return l.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),i.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(a,l,u){l=="todo"?a.addClass("todo-list",u):a.removeClass("todo-list",u)}}),i.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(a,l,{dataPipeline:u}){if(l.getAttribute("listType")!="todo")return null;const f=a.createUIElement("input",{type:"checkbox",...l.getAttribute("todoListChecked")?{checked:"checked"}:null,...u?{disabled:"disabled"}:{tabindex:"-1"}});if(u)return f;const m=a.createContainerElement("span",{contenteditable:"false"},f);return m.getFillerOffset=()=>null,m},canWrapElement(a){return rb(a,i.getListAttributeNames())},createWrapperElement(a,l,{dataPipeline:u}){const f=["todo-list__label"];return rb(l,i.getListAttributeNames())||f.push("todo-list__label_without-description"),a.createAttributeElement(u?"label":"span",{class:f.join(" ")})}}),i.on("checkElement",(a,{modelElement:l,viewElement:u})=>{const f=rb(l,i.getListAttributeNames());u.hasClass("todo-list__label__description")!=f&&(a.return=!0,a.stop())}),i.on("checkElement",(a,{modelElement:l,viewElement:u})=>{const f=l.getAttribute("listType")=="todo"&&da(l);let m=!1;const p=e.editing.view.createPositionBefore(u).getWalker({direction:"backward"});for(const{item:y}of p){if(y.is("element")&&e.editing.mapper.toModelElement(y))break;y.is("element","input")&&y.getAttribute("type")=="checkbox"&&(m=!0)}m!=f&&(a.return=!0,a.stop())}),i.on("postFixer",(a,{listNodes:l,writer:u})=>{for(const{node:f,previousNodeInList:m}of l){if(!m||m.getAttribute("listItemId")!=f.getAttribute("listItemId"))continue;const p=m.hasAttribute("todoListChecked"),y=f.hasAttribute("todoListChecked");y&&!p?(u.removeAttribute("todoListChecked",f),a.return=!0):!y&&p&&(u.setAttribute("todoListChecked",!0,f),a.return=!0)}}),t.document.registerPostFixer(a=>{const l=t.document.differ.getChanges();let u=!1;for(const f of l)if(f.type=="attribute"&&f.attributeKey=="listType"){const m=f.range.start.nodeAfter;f.attributeOldValue=="todo"&&m.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",m),u=!0)}else if(f.type=="insert"&&f.name!="$text")for(const{item:m}of a.createRangeOn(f.position.nodeAfter))m.is("element")&&m.getAttribute("listType")!="todo"&&m.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",m),u=!0);return u}),this.listenTo(r.view.document,"keydown",(a,l)=>{Cu(l)===aNe&&(e.execute("checkTodoList"),a.stop())},{priority:"high"}),this.listenTo(r.view.document,"todoCheckboxChange",(a,l)=>{const u=l.target;if(!u||!u.is("element","input"))return;const f=r.view.createPositionAfter(u),p=r.mapper.toModelPosition(f).parent;p&&Mt(p)&&p.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(p)}),this.listenTo(r.view.document,"arrowKey",hNe(t,e.locale),{context:"$text"}),this.listenTo(r.mapper,"viewToModelPosition",(a,l)=>{const u=l.viewPosition.parent,f=u.is("attributeElement","li")&&l.viewPosition.offset==0,m=fM(u)&&l.viewPosition.offset<=1,p=u.is("element","span")&&u.getAttribute("contenteditable")=="false"&&fM(u.parent);if(!f&&!m&&!p)return;const y=l.modelPosition.nodeAfter;y&&y.getAttribute("listType")=="todo"&&(l.modelPosition=t.createPositionAt(y,0))},{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(e){const t=this.editor,r=t.model,i=Array.from(r.document.selection.getRanges());r.change(s=>{s.setSelection(e,"end"),t.execute("checkTodoList"),s.setSelection(i)})}_initAriaAnnouncements(){const{model:e,ui:t,t:r}=this.editor;let i=null;t&&e.document.selection.on("change:range",()=>{const s=e.document.selection.focus.parent,o=hM(i),a=hM(s);o&&!a?t.ariaLiveAnnouncer.announce(r("Leaving a to-do list")):!o&&a&&t.ariaLiveAnnouncer.announce(r("Entering a to-do list")),i=s})}}function cNe(){return(n,e,t)=>{const{writer:r,schema:i}=t;if(!e.modelRange)return;const s=Array.from(e.modelRange.getItems({shallow:!0})).filter(o=>o.getAttribute("listType")==="todo"&&i.checkAttribute(o,"listItemId")).reduce((o,a)=>{const l=a.getAttribute("listItemId");return o.has(l)||o.set(l,fl(a)),o},new Map);for(const[,o]of s.entries())if(o.some(a=>a.getAttribute("todoListChecked")))for(const a of o)r.setAttribute("todoListChecked",!0,a)}}function uNe(){return(n,e,t)=>{const r=e.modelCursor,i=r.parent,s=e.viewItem;if(!t.consumable.test(s,{name:!0})||s.getAttribute("type")!="checkbox"||!r.isAtStart||!i.hasAttribute("listType"))return;t.consumable.consume(s,{name:!0});const o=t.writer;o.setAttribute("listType","todo",i),e.viewItem.hasAttribute("checked")&&o.setAttribute("todoListChecked",!0,i),e.modelRange=o.createRange(r)}}function SE(n){const e=new ua(n);return(t,r,i)=>{const s=e.match(r.viewItem);s&&i.consumable.consume(r.viewItem,s.match)&&Object.assign(r,i.convertChildren(r.viewItem,r.modelCursor))}}function dNe(n){const e=new ua(n);return(t,r,i)=>{const s=e.match(r.viewItem);if(!s)return;const o=s.match;o.name=!1,i.consumable.consume(r.viewItem,o)}}function rb(n,e){return(n.is("element","paragraph")||n.is("element","listItem"))&&n.getAttribute("listType")=="todo"&&da(n)&&fNe(n,e)}function fNe(n,e){for(const t of n.getAttributeKeys())if(!t.startsWith("selection:")&&!e.includes(t))return!1;return!0}function hNe(n,e){return(t,r)=>{const i=cv(r.keyCode,e.contentLanguageDirection),s=n.schema,o=n.document.selection;if(!o.isCollapsed)return;const a=o.getFirstPosition(),l=a.parent;if(i=="right"&&a.isAtEnd){const u=s.getNearestSelectionRange(n.createPositionAfter(l),"forward");if(!u)return;const f=u.start.parent;f&&Mt(f)&&f.getAttribute("listType")=="todo"&&(n.change(m=>m.setSelection(u)),r.preventDefault(),r.stopPropagation(),t.stop())}else if(i=="left"&&a.isAtStart&&Mt(l)&&l.getAttribute("listType")=="todo"){const u=s.getNearestSelectionRange(n.createPositionBefore(l),"backward");if(!u)return;n.change(f=>f.setSelection(u)),r.preventDefault(),r.stopPropagation(),t.stop()}}}function fM(n){return!!n&&n.is("attributeElement")&&n.hasClass("todo-list__label")}function hM(n){return!n||!n.is("element","paragraph")&&!n.is("element","listItem")?!1:n.getAttribute("listType")=="todo"}class mNe extends ee{static get pluginName(){return"TodoListUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.t;oT(this.editor,"todoList",e("To-do List"),nxe)}}class gNe extends ee{static get requires(){return[lNe,mNe]}static get pluginName(){return"TodoList"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */xt.arrowup,xt.arrowdown,xt.esc;xt.enter,xt.tab;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ib="removeFormat";class pNe extends ee{static get pluginName(){return"RemoveFormatUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add(ib,()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add(`menuBar:${ib}`,()=>this._createButton(xn))}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get(ib),s=new e(t.locale),o=r.t;return s.set({label:o("Remove Format"),icon:z_e}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute(ib),t.editing.view.focus()}),s}}class bNe extends lt{_customAttributesHandlers=[];refresh(){const e=this.editor.model;this.isEnabled=!!_n(this._getFormattingItems(e.document.selection))}execute(){const e=this.editor.model;e.change(t=>{for(const r of this._getFormattingItems(e.document.selection))if(r.is("selection"))for(const i of this._getFormattingAttributes(r))t.removeSelectionAttribute(i);else{const i=t.createRangeOn(r);for(const s of this._getFormattingAttributes(r))this._removeFormatting(s,r,i,t)}})}registerCustomAttribute(e,t){this._customAttributesHandlers.push({isFormatting:e,removeFormatting:t})}_removeFormatting(e,t,r,i){let s=!1;for(const{isFormatting:o,removeFormatting:a}of this._customAttributesHandlers)o(e,t)&&(a(e,r,i),s=!0);s||i.removeAttribute(e,r)}*_getFormattingItems(e){const t=this.editor.model,r=t.schema,i=s=>!!_n(this._getFormattingAttributes(s));for(const s of e.getRanges())for(const o of s.getItems())r.isBlock(o)&&s.end.isTouching(t.createPositionAt(o,0))||i(o)&&(yield o);for(const s of e.getSelectedBlocks())i(s)&&(yield s);i(e)&&(yield e)}*_getFormattingAttributes(e){const t=this.editor.model.schema;for(const[r]of e.getAttributes()){for(const{isFormatting:s}of this._customAttributesHandlers)s(r,e)&&(yield r);const i=t.getAttributeProperties(r);i&&i.isFormatting&&(yield r)}}}class yNe extends ee{static get pluginName(){return"RemoveFormatEditing"}static get licenseFeatureCode(){return"RF"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}init(){const e=this.editor;e.commands.add("removeFormat",new bNe(e))}}class wNe extends ee{static get requires(){return[yNe,pNe]}static get pluginName(){return"RemoveFormat"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class vNe extends Le{tiles;focusTracker;keystrokes;constructor(e){super(e),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new Yt,this.keystrokes=new bn,Z0({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>qe.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(e,t){const r=new et(this.locale);return r.set({label:e,withText:!0,class:"ck-character-grid__tile"}),r.extendTemplate({attributes:{title:t},on:{mouseover:r.bindTemplate.to("mouseover"),focus:r.bindTemplate.to("focus")}}),r.on("mouseover",()=>{this.fire("tileHover",{name:t,character:e})}),r.on("focus",()=>{this.fire("tileFocus",{name:t,character:e})}),r.on("execute",()=>{this.fire("execute",{name:t,character:e})}),r}render(){super.render();for(const e of this.tiles)this.focusTracker.add(e.element);this.tiles.on("change",(e,{added:t,removed:r})=>{if(t.length>0)for(const i of t)this.focusTracker.add(i.element);if(r.length>0)for(const i of r)this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}class _Ne extends Le{constructor(e){super(e);const t=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",xNe),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:t.to("name",r=>r||"")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:t.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function xNe(n){return n===null?"":"U+"+("0000"+n.codePointAt(0).toString(16)).slice(-4)}class ENe extends Le{items;focusTracker;keystrokes;_focusCycler;categoriesView;gridView;infoView;constructor(e,t,r,i){super(e),this.categoriesView=t,this.gridView=r,this.infoView=i,this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this._focusCycler=new Tr({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.categoriesView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.categoriesView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class kNe extends Le{_groupNames;_dropdownView;constructor(e,t){super(e),this.set("currentGroupName",Array.from(t.entries())[0][0]),this._groupNames=t,this._dropdownView=new Kn(e,qC),this.setTemplate({tag:"div",attributes:{class:["ck","ck-character-categories"]},children:[this._dropdownView]})}render(){super.render(),this._setupDropdown()}focus(){this._dropdownView.focus()}_setupDropdown(){const e=new sr;for(const[i,s]of this._groupNames){const o={type:"button",model:new fc({name:i,label:s,role:"menuitemradio",withText:!0})};o.model.bind("isOn").to(this,"currentGroupName",a=>a===i),e.add(o)}const t=this.locale.t,r=t("Category");this._dropdownView.set({label:r,isEmpty:!1}),this._dropdownView.fieldView.panelPosition=this.locale.uiLanguageDirection==="rtl"?"se":"sw",this._dropdownView.fieldView.buttonView.set({withText:!0,tooltip:r,ariaLabel:r,ariaLabelledBy:void 0,isOn:!1}),this._dropdownView.fieldView.buttonView.bind("label").to(this,"currentGroupName",i=>this._groupNames.get(i)),this._dropdownView.fieldView.on("execute",({source:i})=>{this.currentGroupName=i.name}),vc(this._dropdownView.fieldView,e,{ariaLabel:r,role:"menu"})}}const CE="All";class TNe extends ee{_characters;_groups;_allSpecialCharactersGroupLabel;static get requires(){return[Z9,is]}static get pluginName(){return"SpecialCharacters"}static get licenseFeatureCode(){return"SCH"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}constructor(e){super(e);const t=e.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=t("All")}init(){const e=this.editor;e.ui.componentFactory.add("specialCharacters",()=>{const t=this._createDialogButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:specialCharacters",()=>this._createDialogButton(xn))}addItems(e,t,r={label:e}){if(e===CE)throw new q("special-character-invalid-group-name",null);const i=this._getGroup(e,r.label);for(const s of t)i.items.add(s.title),this._characters.set(s.title,s.character)}getGroups(){const e=Array.from(this._groups.keys()),t=this.editor.config.get("specialCharacters.order")||[],r=t.find(i=>!e.includes(i));if(r)throw new q("special-character-invalid-order-group-name",null,{invalidGroup:r});return new Set([...t,...e])}getCharactersForGroup(e){if(e===CE)return new Set(this._characters.keys());const t=this._groups.get(e);if(t)return t.items}getCharacter(e){return this._characters.get(e)}_getGroup(e,t){return this._groups.has(e)||this._groups.set(e,{items:new Set,label:t}),this._groups.get(e)}_updateGrid(e,t){t.tiles.clear();const r=this.getCharactersForGroup(e);for(const i of r){const s=this.getCharacter(i);t.tiles.add(t.createTile(s,i))}}_createDropdownPanelContent(e){const t=Array.from(this.getGroups()).map(a=>[a,this._groups.get(a).label]),r=new Map([[CE,this._allSpecialCharactersGroupLabel],...t]),i=new kNe(e,r),s=new vNe(e),o=new _Ne(e);return s.on("tileHover",(a,l)=>{o.set(l)}),s.on("tileFocus",(a,l)=>{o.set(l)}),i.on("change:currentGroupName",(a,l,u)=>{this._updateGrid(u,s)}),this._updateGrid(i.currentGroupName,s),{categoriesView:i,gridView:s,infoView:o}}_createDialogButton(e){const t=this.editor,r=t.locale,i=new e(t.locale),s=t.commands.get("insertText"),o=r.t,a=this.editor.plugins.get("Dialog");return i.set({label:o("Special characters"),icon:j_e,isToggleable:!0}),i.bind("isOn").to(a,"id",l=>l==="specialCharacters"),i.bind("isEnabled").to(s,"isEnabled"),i.on("execute",()=>{if(a.id==="specialCharacters"){a.hide();return}this._showDialog()}),i}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),r=e.locale,i=r.t,{categoriesView:s,gridView:o,infoView:a}=this._createDropdownPanelContent(r),l=new ENe(r,s,o,a);o.on("execute",(u,f)=>{e.execute("insertText",{text:f.character})}),t.show({id:"specialCharacters",title:i("Special characters"),className:"ck-special-characters",content:l,position:ns.EDITOR_TOP_SIDE})}}class $z extends ee{static get pluginName(){return"SpecialCharactersArrows"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Arrows",[{title:t("leftwards simple arrow"),character:""},{title:t("rightwards simple arrow"),character:""},{title:t("upwards simple arrow"),character:""},{title:t("downwards simple arrow"),character:""},{title:t("leftwards double arrow"),character:""},{title:t("rightwards double arrow"),character:""},{title:t("upwards double arrow"),character:""},{title:t("downwards double arrow"),character:""},{title:t("leftwards dashed arrow"),character:""},{title:t("rightwards dashed arrow"),character:""},{title:t("upwards dashed arrow"),character:""},{title:t("downwards dashed arrow"),character:""},{title:t("leftwards arrow to bar"),character:""},{title:t("rightwards arrow to bar"),character:""},{title:t("upwards arrow to bar"),character:""},{title:t("downwards arrow to bar"),character:""},{title:t("up down arrow with base"),character:""},{title:t("back with leftwards arrow above"),character:""},{title:t("end with leftwards arrow above"),character:""},{title:t("on with exclamation mark with left right arrow above"),character:""},{title:t("soon with rightwards arrow above"),character:""},{title:t("top with upwards arrow above"),character:""}],{label:t("Arrows")})}}class Wz extends ee{static get pluginName(){return"SpecialCharactersText"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Text",[{character:"",title:t("Single left-pointing angle quotation mark")},{character:"",title:t("Single right-pointing angle quotation mark")},{character:"",title:t("Left-pointing double angle quotation mark")},{character:"",title:t("Right-pointing double angle quotation mark")},{character:"",title:t("Left single quotation mark")},{character:"",title:t("Right single quotation mark")},{character:"",title:t("Left double quotation mark")},{character:"",title:t("Right double quotation mark")},{character:"",title:t("Single low-9 quotation mark")},{character:"",title:t("Double low-9 quotation mark")},{character:"",title:t("Inverted exclamation mark")},{character:"",title:t("Inverted question mark")},{character:"",title:t("Two dot leader")},{character:"",title:t("Horizontal ellipsis")},{character:"",title:t("Double dagger")},{character:"",title:t("Per mille sign")},{character:"",title:t("Per ten thousand sign")},{character:"",title:t("Double exclamation mark")},{character:"",title:t("Question exclamation mark")},{character:"",title:t("Exclamation question mark")},{character:"",title:t("Double question mark")},{character:"",title:t("Copyright sign")},{character:"",title:t("Registered sign")},{character:"",title:t("Trade mark sign")},{character:"",title:t("Section sign")},{character:"",title:t("Paragraph sign")},{character:"",title:t("Reversed paragraph sign")}],{label:t("Text")})}}class jz extends ee{static get pluginName(){return"SpecialCharactersMathematical"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:t("Less-than sign")},{character:">",title:t("Greater-than sign")},{character:"",title:t("Less-than or equal to")},{character:"",title:t("Greater-than or equal to")},{character:"",title:t("En dash")},{character:"",title:t("Em dash")},{character:"",title:t("Macron")},{character:"",title:t("Overline")},{character:"",title:t("Degree sign")},{character:"",title:t("Minus sign")},{character:"",title:t("Plus-minus sign")},{character:"",title:t("Division sign")},{character:"",title:t("Fraction slash")},{character:"",title:t("Multiplication sign")},{character:"",title:t("Latin small letter f with hook")},{character:"",title:t("Integral")},{character:"",title:t("N-ary summation")},{character:"",title:t("Infinity")},{character:"",title:t("Square root")},{character:"",title:t("Tilde operator")},{character:"",title:t("Approximately equal to")},{character:"",title:t("Almost equal to")},{character:"",title:t("Not equal to")},{character:"",title:t("Identical to")},{character:"",title:t("Element of")},{character:"",title:t("Not an element of")},{character:"",title:t("Contains as member")},{character:"",title:t("N-ary product")},{character:"",title:t("Logical and")},{character:"",title:t("Logical or")},{character:"",title:t("Not sign")},{character:"",title:t("Intersection")},{character:"",title:t("Union")},{character:"",title:t("Partial differential")},{character:"",title:t("For all")},{character:"",title:t("There exists")},{character:"",title:t("Empty set")},{character:"",title:t("Nabla")},{character:"",title:t("Asterisk operator")},{character:"",title:t("Proportional to")},{character:"",title:t("Angle")},{character:"",title:t("Vulgar fraction one quarter")},{character:"",title:t("Vulgar fraction one half")},{character:"",title:t("Vulgar fraction three quarters")}],{label:t("Mathematical")})}}class qz extends ee{static get pluginName(){return"SpecialCharactersLatin"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Latin",[{character:"",title:t("Latin capital letter a with macron")},{character:"",title:t("Latin small letter a with macron")},{character:"",title:t("Latin capital letter a with breve")},{character:"",title:t("Latin small letter a with breve")},{character:"",title:t("Latin capital letter a with ogonek")},{character:"",title:t("Latin small letter a with ogonek")},{character:"",title:t("Latin capital letter c with acute")},{character:"",title:t("Latin small letter c with acute")},{character:"",title:t("Latin capital letter c with circumflex")},{character:"",title:t("Latin small letter c with circumflex")},{character:"",title:t("Latin capital letter c with dot above")},{character:"",title:t("Latin small letter c with dot above")},{character:"",title:t("Latin capital letter c with caron")},{character:"",title:t("Latin small letter c with caron")},{character:"",title:t("Latin capital letter d with caron")},{character:"",title:t("Latin small letter d with caron")},{character:"",title:t("Latin capital letter d with stroke")},{character:"",title:t("Latin small letter d with stroke")},{character:"",title:t("Latin capital letter e with macron")},{character:"",title:t("Latin small letter e with macron")},{character:"",title:t("Latin capital letter e with breve")},{character:"",title:t("Latin small letter e with breve")},{character:"",title:t("Latin capital letter e with dot above")},{character:"",title:t("Latin small letter e with dot above")},{character:"",title:t("Latin capital letter e with ogonek")},{character:"",title:t("Latin small letter e with ogonek")},{character:"",title:t("Latin capital letter e with caron")},{character:"",title:t("Latin small letter e with caron")},{character:"",title:t("Latin capital letter g with circumflex")},{character:"",title:t("Latin small letter g with circumflex")},{character:"",title:t("Latin capital letter g with breve")},{character:"",title:t("Latin small letter g with breve")},{character:"",title:t("Latin capital letter g with dot above")},{character:"",title:t("Latin small letter g with dot above")},{character:"",title:t("Latin capital letter g with cedilla")},{character:"",title:t("Latin small letter g with cedilla")},{character:"",title:t("Latin capital letter h with circumflex")},{character:"",title:t("Latin small letter h with circumflex")},{character:"",title:t("Latin capital letter h with stroke")},{character:"",title:t("Latin small letter h with stroke")},{character:"",title:t("Latin capital letter i with tilde")},{character:"",title:t("Latin small letter i with tilde")},{character:"",title:t("Latin capital letter i with macron")},{character:"",title:t("Latin small letter i with macron")},{character:"",title:t("Latin capital letter i with breve")},{character:"",title:t("Latin small letter i with breve")},{character:"",title:t("Latin capital letter i with ogonek")},{character:"",title:t("Latin small letter i with ogonek")},{character:"",title:t("Latin capital letter i with dot above")},{character:"",title:t("Latin small letter dotless i")},{character:"",title:t("Latin capital ligature ij")},{character:"",title:t("Latin small ligature ij")},{character:"",title:t("Latin capital letter j with circumflex")},{character:"",title:t("Latin small letter j with circumflex")},{character:"",title:t("Latin capital letter k with cedilla")},{character:"",title:t("Latin small letter k with cedilla")},{character:"",title:t("Latin small letter kra")},{character:"",title:t("Latin capital letter l with acute")},{character:"",title:t("Latin small letter l with acute")},{character:"",title:t("Latin capital letter l with cedilla")},{character:"",title:t("Latin small letter l with cedilla")},{character:"",title:t("Latin capital letter l with caron")},{character:"",title:t("Latin small letter l with caron")},{character:"",title:t("Latin capital letter l with middle dot")},{character:"",title:t("Latin small letter l with middle dot")},{character:"",title:t("Latin capital letter l with stroke")},{character:"",title:t("Latin small letter l with stroke")},{character:"",title:t("Latin capital letter n with acute")},{character:"",title:t("Latin small letter n with acute")},{character:"",title:t("Latin capital letter n with cedilla")},{character:"",title:t("Latin small letter n with cedilla")},{character:"",title:t("Latin capital letter n with caron")},{character:"",title:t("Latin small letter n with caron")},{character:"",title:t("Latin small letter n preceded by apostrophe")},{character:"",title:t("Latin capital letter eng")},{character:"",title:t("Latin small letter eng")},{character:"",title:t("Latin capital letter o with macron")},{character:"",title:t("Latin small letter o with macron")},{character:"",title:t("Latin capital letter o with breve")},{character:"",title:t("Latin small letter o with breve")},{character:"",title:t("Latin capital letter o with double acute")},{character:"",title:t("Latin small letter o with double acute")},{character:"",title:t("Latin capital ligature oe")},{character:"",title:t("Latin small ligature oe")},{character:"",title:t("Latin capital letter r with acute")},{character:"",title:t("Latin small letter r with acute")},{character:"",title:t("Latin capital letter r with cedilla")},{character:"",title:t("Latin small letter r with cedilla")},{character:"",title:t("Latin capital letter r with caron")},{character:"",title:t("Latin small letter r with caron")},{character:"",title:t("Latin capital letter s with acute")},{character:"",title:t("Latin small letter s with acute")},{character:"",title:t("Latin capital letter s with circumflex")},{character:"",title:t("Latin small letter s with circumflex")},{character:"",title:t("Latin capital letter s with cedilla")},{character:"",title:t("Latin small letter s with cedilla")},{character:"",title:t("Latin capital letter s with caron")},{character:"",title:t("Latin small letter s with caron")},{character:"",title:t("Latin capital letter t with cedilla")},{character:"",title:t("Latin small letter t with cedilla")},{character:"",title:t("Latin capital letter t with caron")},{character:"",title:t("Latin small letter t with caron")},{character:"",title:t("Latin capital letter t with stroke")},{character:"",title:t("Latin small letter t with stroke")},{character:"",title:t("Latin capital letter u with tilde")},{character:"",title:t("Latin small letter u with tilde")},{character:"",title:t("Latin capital letter u with macron")},{character:"",title:t("Latin small letter u with macron")},{character:"",title:t("Latin capital letter u with breve")},{character:"",title:t("Latin small letter u with breve")},{character:"",title:t("Latin capital letter u with ring above")},{character:"",title:t("Latin small letter u with ring above")},{character:"",title:t("Latin capital letter u with double acute")},{character:"",title:t("Latin small letter u with double acute")},{character:"",title:t("Latin capital letter u with ogonek")},{character:"",title:t("Latin small letter u with ogonek")},{character:"",title:t("Latin capital letter w with circumflex")},{character:"",title:t("Latin small letter w with circumflex")},{character:"",title:t("Latin capital letter y with circumflex")},{character:"",title:t("Latin small letter y with circumflex")},{character:"",title:t("Latin capital letter y with diaeresis")},{character:"",title:t("Latin capital letter z with acute")},{character:"",title:t("Latin small letter z with acute")},{character:"",title:t("Latin capital letter z with dot above")},{character:"",title:t("Latin small letter z with dot above")},{character:"",title:t("Latin capital letter z with caron")},{character:"",title:t("Latin small letter z with caron")},{character:"",title:t("Latin small letter long s")}],{label:t("Latin")})}}class Gz extends ee{static get pluginName(){return"SpecialCharactersCurrency"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:t("Dollar sign")},{character:"",title:t("Euro sign")},{character:"",title:t("Yen sign")},{character:"",title:t("Pound sign")},{character:"",title:t("Cent sign")},{character:"",title:t("Euro-currency sign")},{character:"",title:t("Colon sign")},{character:"",title:t("Cruzeiro sign")},{character:"",title:t("French franc sign")},{character:"",title:t("Lira sign")},{character:"",title:t("Currency sign")},{character:"",title:t("Bitcoin sign")},{character:"",title:t("Mill sign")},{character:"",title:t("Naira sign")},{character:"",title:t("Peseta sign")},{character:"",title:t("Rupee sign")},{character:"",title:t("Won sign")},{character:"",title:t("New sheqel sign")},{character:"",title:t("Dong sign")},{character:"",title:t("Kip sign")},{character:"",title:t("Tugrik sign")},{character:"",title:t("Drachma sign")},{character:"",title:t("German penny sign")},{character:"",title:t("Peso sign")},{character:"",title:t("Guarani sign")},{character:"",title:t("Austral sign")},{character:"",title:t("Hryvnia sign")},{character:"",title:t("Cedi sign")},{character:"",title:t("Livre tournois sign")},{character:"",title:t("Spesmilo sign")},{character:"",title:t("Tenge sign")},{character:"",title:t("Indian rupee sign")},{character:"",title:t("Turkish lira sign")},{character:"",title:t("Nordic mark sign")},{character:"",title:t("Manat sign")},{character:"",title:t("Ruble sign")}],{label:t("Currency")})}}class SNe extends ee{static get pluginName(){return"SpecialCharactersEssentials"}static get isOfficialPlugin(){return!0}static get requires(){return[Gz,Wz,jz,$z,qz]}}function CNe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ANe extends et{styleDefinition;previewView;constructor(e,t){super(e),this.styleDefinition=t,this.previewView=this._createPreview(),this.set({label:t.name,class:"ck-style-grid__button",withText:!0}),this.extendTemplate({attributes:{role:"option"}}),this.children.add(this.previewView,0)}_createPreview(){const e=new Le(this.locale);return e.setTemplate({tag:"div",attributes:{class:["ck","ck-reset_all-excluded","ck-style-grid__button__preview","ck-content"],"aria-hidden":"true"},children:[this.styleDefinition.previewTemplate]}),e}}class NNe extends Le{focusTracker;keystrokes;children;constructor(e,t){super(e),this.focusTracker=new Yt,this.keystrokes=new bn,this.set("activeStyles",[]),this.set("enabledStyles",[]),this.children=this.createCollection(),this.children.delegate("execute").to(this);for(const r of t){const i=new ANe(e,r);this.children.add(i)}this.on("change:activeStyles",()=>{for(const r of this.children)r.isOn=this.activeStyles.includes(r.styleDefinition.name)}),this.on("change:enabledStyles",()=>{for(const r of this.children)r.isEnabled=this.enabledStyles.includes(r.styleDefinition.name)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-grid"],role:"listbox"},children:this.children})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element);Z0({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.children,numberOfColumns:3,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection}),this.keystrokes.listenTo(this.element)}focus(){this.children.first.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class mM extends Le{gridView;labelView;constructor(e,t,r){super(e),this.labelView=new zs(e),this.labelView.text=t,this.gridView=new NNe(e,r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel__style-group"],role:"group","aria-labelledby":this.labelView.id},children:[this.labelView,this.gridView]})}}class PNe extends Le{focusTracker;keystrokes;children;blockStylesGroupView;inlineStylesGroupView;_focusables;_focusCycler;constructor(e,t){super(e);const r=e.t;this.focusTracker=new Yt,this.keystrokes=new bn,this.children=this.createCollection(),this.blockStylesGroupView=new mM(e,r("Block styles"),t.block),this.inlineStylesGroupView=new mM(e,r("Text styles"),t.inline),this.set("activeStyles",[]),this.set("enabledStyles",[]),this._focusables=new br,this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["shift + tab"],focusNext:["tab"]}}),t.block.length&&this.children.add(this.blockStylesGroupView),t.inline.length&&this.children.add(this.inlineStylesGroupView),this.blockStylesGroupView.gridView.delegate("execute").to(this),this.inlineStylesGroupView.gridView.delegate("execute").to(this),this.blockStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.inlineStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel"]},children:this.children})}render(){super.render(),this._focusables.add(this.blockStylesGroupView.gridView),this._focusables.add(this.inlineStylesGroupView.gridView),this.focusTracker.add(this.blockStylesGroupView.gridView.element),this.focusTracker.add(this.inlineStylesGroupView.gridView.element),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}const INe=["caption","colgroup","dd","dt","figcaption","legend","li","optgroup","option","rp","rt","summary","tbody","td","tfoot","th","thead","tr"];class hl extends ee{_htmlSupport;static get pluginName(){return"StyleUtils"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.decorate("isStyleEnabledForBlock"),this.decorate("isStyleActiveForBlock"),this.decorate("getAffectedBlocks"),this.decorate("isStyleEnabledForInlineSelection"),this.decorate("isStyleActiveForInlineSelection"),this.decorate("getAffectedInlineSelectable"),this.decorate("getStylePreview"),this.decorate("configureGHSDataFilter")}init(){this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport")}normalizeConfig(e,t=[]){const r={block:[],inline:[]};for(const i of t){const s=[],o=[];for(const l of e.getDefinitionsForView(i.element)){const u="appliesToBlock"in l?l.appliesToBlock:!1;if(l.isBlock||u){if(typeof u=="string")s.push(u);else if(l.isBlock){const f=l;s.push(l.model),f.paragraphLikeModel&&s.push(f.paragraphLikeModel)}}else o.push(l.model)}const a=this.getStylePreview(i,[{text:"AaBbCcDdEeFfGgHhIiJj"}]);s.length?r.block.push({...i,previewTemplate:a,modelElements:s,isBlock:!0}):r.inline.push({...i,previewTemplate:a,ghsAttributes:o})}return r}isStyleEnabledForBlock(e,t){const r=this.editor.model,i=this._htmlSupport.getGhsAttributeNameForElement(e.element);return r.schema.checkAttribute(t,i)?e.modelElements.includes(t.name):!1}isStyleActiveForBlock(e,t){const r=this._htmlSupport.getGhsAttributeNameForElement(e.element),i=t.getAttribute(r);return this.hasAllClasses(i,e.classes)}getAffectedBlocks(e,t){return e.modelElements.includes(t.name)?[t]:null}isStyleEnabledForInlineSelection(e,t){const r=this.editor.model;for(const i of e.ghsAttributes)if(r.schema.checkAttributeInSelection(t,i))return!0;return!1}isStyleActiveForInlineSelection(e,t){for(const r of e.ghsAttributes){const i=this._getValueFromFirstAllowedNode(t,r);if(this.hasAllClasses(i,e.classes))return!0}return!1}getAffectedInlineSelectable(e,t){return t}getStylePreview(e,t){const{element:r,classes:i}=e;return{tag:ONe(r)?r:"div",attributes:{class:i},children:t}}hasAllClasses(e,t){return CNe(e)&&RNe(e)&&t.every(r=>e.classes.includes(r))}configureGHSDataFilter({block:e,inline:t}){const r=this.editor.plugins.get("DataFilter");r.loadAllowedConfig(e.map(gM)),r.loadAllowedConfig(t.map(gM))}_getValueFromFirstAllowedNode(e,t){const i=this.editor.model.schema;if(e.isCollapsed)return e.getAttribute(t);for(const s of e.getRanges())for(const o of s.getItems())if(i.checkAttribute(o,t))return o.getAttribute(t);return null}}function RNe(n){return!!n.classes&&Array.isArray(n.classes)}function ONe(n){return!INe.includes(n)}function gM({element:n,classes:e}){return{name:n,classes:e}}class MNe extends ee{static get pluginName(){return"StyleUI"}static get isOfficialPlugin(){return!0}static get requires(){return[hl]}init(){const e=this.editor,t=e.plugins.get("DataSchema"),r=e.plugins.get("StyleUtils"),i=e.config.get("style.definitions"),s=r.normalizeConfig(t,i);e.ui.componentFactory.add("style",o=>{const a=o.t,l=kr(o),u=e.commands.get("style");return l.once("change:isOpen",()=>{const f=new PNe(o,s);l.panelView.children.add(f),f.delegate("execute").to(l),f.bind("activeStyles").to(u,"value"),f.bind("enabledStyles").to(u,"enabledStyles")}),l.bind("isEnabled").to(u),l.buttonView.withText=!0,l.buttonView.bind("label").to(u,"value",f=>f.length>1?a("Multiple styles"):f.length===1?f[0]:a("Styles")),l.bind("class").to(u,"value",f=>{const m=["ck-style-dropdown"];return f.length>1&&m.push("ck-style-dropdown_multiple-active"),m.join(" ")}),l.on("execute",f=>{e.execute("style",{styleName:f.source.styleDefinition.name}),e.editing.view.focus()}),l})}}class DNe extends lt{_styleDefinitions;_styleUtils;constructor(e,t){super(e),this.set("value",[]),this.set("enabledStyles",[]),this._styleDefinitions=t,this._styleUtils=this.editor.plugins.get(hl)}refresh(){const e=this.editor.model,t=e.document.selection,r=new Set,i=new Set;for(const o of this._styleDefinitions.inline)this._styleUtils.isStyleEnabledForInlineSelection(o,t)&&i.add(o.name),this._styleUtils.isStyleActiveForInlineSelection(o,t)&&r.add(o.name);const s=_n(t.getSelectedBlocks())||t.getFirstPosition().parent;if(s){const o=s.getAncestors({includeSelf:!0,parentFirst:!0});for(const a of o){if(a.is("rootElement"))break;for(const l of this._styleDefinitions.block)this._styleUtils.isStyleEnabledForBlock(l,a)&&(i.add(l.name),this._styleUtils.isStyleActiveForBlock(l,a)&&r.add(l.name));if(e.schema.isObject(a))break}}this.enabledStyles=Array.from(i).sort(),this.isEnabled=this.enabledStyles.length>0,this.value=this.isEnabled?Array.from(r).sort():[]}execute({styleName:e,forceValue:t}){if(!this.enabledStyles.includes(e)){Rt("style-command-executed-with-incorrect-style-name");return}const r=this.editor.model,i=r.document.selection,s=this.editor.plugins.get("GeneralHtmlSupport"),o=[...this._styleDefinitions.inline,...this._styleDefinitions.block],a=o.filter(({name:f})=>this.value.includes(f)),l=o.find(({name:f})=>f==e),u=t===void 0?!this.value.includes(l.name):t;r.change(()=>{let f;LNe(l)?f=this._findAffectedBlocks(BNe(i),l):f=[this._styleUtils.getAffectedInlineSelectable(l,i)];for(const m of f)u?s.addModelHtmlClass(l.element,l.classes,m):s.removeModelHtmlClass(l.element,FNe(a,l),m)})}_findAffectedBlocks(e,t){const r=new Set;for(const i of e){const s=i.getAncestors({includeSelf:!0,parentFirst:!0});for(const o of s){if(o.is("rootElement"))break;const a=this._styleUtils.getAffectedBlocks(t,o);if(a){for(const l of a)r.add(l);break}}}return r}}function FNe(n,e){return n.reduce((t,r)=>r.name===e.name?t:t.filter(i=>!r.classes.includes(i)),e.classes)}function LNe(n){return"isBlock"in n}function BNe(n){const e=Array.from(n.getSelectedBlocks());return e.length?e:[n.getFirstPosition().parent]}class VNe extends ee{_listUtils;_styleUtils;_htmlSupport;static get pluginName(){return"ListStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[hl,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("ListEditing")&&(this._styleUtils=e.plugins.get(hl),this._listUtils=this.editor.plugins.get("ListUtils"),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(t,[r,i])=>{this._isStyleEnabledForBlock(r,i)&&(t.return=!0,t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForBlock",(t,[r,i])=>{this._isStyleActiveForBlock(r,i)&&(t.return=!0,t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(t,[r,i])=>{const s=this._getAffectedBlocks(r,i);s&&(t.return=s,t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getStylePreview",(t,[r,i])=>{const s=this._getStylePreview(r,i);s&&(t.return=s,t.stop())},{priority:"high"}))}_isStyleEnabledForBlock(e,t){const r=this.editor.model;if(!["ol","ul","li"].includes(e.element)||!this._listUtils.isListItemBlock(t))return!1;const i=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(e.element=="ol"||e.element=="ul"){if(!r.schema.checkAttribute(t,i))return!1;const o=this._listUtils.isNumberedListType(t.getAttribute("listType"))?"ol":"ul";return e.element==o}else return r.schema.checkAttribute(t,i)}_isStyleActiveForBlock(e,t){const r=this._htmlSupport.getGhsAttributeNameForElement(e.element),i=t.getAttribute(r);return this._styleUtils.hasAllClasses(i,e.classes)}_getAffectedBlocks(e,t){return this._isStyleEnabledForBlock(e,t)?e.element=="li"?this._listUtils.expandListBlocksToCompleteItems(t,{withNested:!1}):this._listUtils.expandListBlocksToCompleteList(t):null}_getStylePreview(e,t){const{element:r,classes:i}=e;return r=="ol"||r=="ul"?{tag:r,attributes:{class:i},children:[{tag:"li",children:t}]}:r=="li"?{tag:"ol",children:[{tag:r,attributes:{class:i},children:t}]}:null}}class UNe extends ee{_tableUtils;_styleUtils;static get pluginName(){return"TableStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[hl]}init(){const e=this.editor;e.plugins.has("TableEditing")&&(this._styleUtils=e.plugins.get(hl),this._tableUtils=this.editor.plugins.get("TableUtils"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(t,[r,i])=>{this._isApplicable(r,i)&&(t.return=this._isStyleEnabledForBlock(r,i),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(t,[r,i])=>{this._isApplicable(r,i)&&(t.return=this._getAffectedBlocks(r,i),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"configureGHSDataFilter",(t,[{block:r}])=>{this.editor.plugins.get("DataFilter").loadAllowedConfig(r.filter(s=>s.element=="figcaption").map(s=>({name:"caption",classes:s.classes})))}))}_isApplicable(e,t){return["td","th"].includes(e.element)?t.name=="tableCell":["thead","tbody"].includes(e.element)?t.name=="table":!1}_isStyleEnabledForBlock(e,t){if(["td","th"].includes(e.element)){const r=this._tableUtils.getCellLocation(t),s=t.parent.parent,o=s.getAttribute("headingRows")||0,a=s.getAttribute("headingColumns")||0,l=r.row<o||r.column<a;return e.element=="th"?l:!l}if(["thead","tbody"].includes(e.element)){const r=t.getAttribute("headingRows")||0;return e.element=="thead"?r>0:r<this._tableUtils.getRows(t)}/* istanbul ignore next -- @preserve */return!1}_getAffectedBlocks(e,t){return this._isStyleEnabledForBlock(e,t)?[t]:null}}class zNe extends ee{_styleUtils;_htmlSupport;static get pluginName(){return"LinkStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[hl,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("LinkEditing")&&(this._styleUtils=e.plugins.get(hl),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForInlineSelection",(t,[r,i])=>{r.element=="a"&&(t.return=this._isStyleEnabled(r,i),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForInlineSelection",(t,[r,i])=>{r.element=="a"&&(t.return=this._isStyleActive(r,i),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedInlineSelectable",(t,[r,i])=>{if(r.element!="a")return;const s=this._getAffectedSelectable(r,i);s&&(t.return=s,t.stop())},{priority:"high"}))}_isStyleEnabled(e,t){const r=this.editor.model;if(t.isCollapsed)return t.hasAttribute("linkHref");for(const i of t.getRanges())for(const s of i.getItems())if((s.is("$textProxy")||r.schema.isInline(s))&&s.hasAttribute("linkHref"))return!0;return!1}_isStyleActive(e,t){const r=this.editor.model,i=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(t.isCollapsed){if(t.hasAttribute("linkHref")){const s=t.getAttribute(i);if(this._styleUtils.hasAllClasses(s,e.classes))return!0}return!1}for(const s of t.getRanges())for(const o of s.getItems())if((o.is("$textProxy")||r.schema.isInline(o))&&o.hasAttribute("linkHref")){const a=o.getAttribute(i);return this._styleUtils.hasAllClasses(a,e.classes)}return!1}_getAffectedSelectable(e,t){const r=this.editor.model;if(t.isCollapsed){const s=t.getAttribute("linkHref");return np(t.getFirstPosition(),"linkHref",s,r)}const i=[];for(const s of t.getRanges()){const o=r.createRange(pM(s.start,"linkHref",!0,r),pM(s.end,"linkHref",!1,r));for(const a of o.getItems())(a.is("$textProxy")||r.schema.isInline(a))&&a.hasAttribute("linkHref")&&i.push(this.editor.model.createRangeOn(a))}return HNe(i)}}function pM(n,e,t,r){const i=n.textNode||(t?n.nodeAfter:n.nodeBefore);if(!i||!i.hasAttribute(e))return n;const s=i.getAttribute(e);return qk(n,e,s,t,r)}function HNe(n){for(let e=1;e<n.length;e++){const t=n[e-1].getJoined(n[e]);t&&n.splice(--e,2,t)}return n}class $Ne extends ee{static get pluginName(){return"StyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return["GeneralHtmlSupport",hl,VNe,UNe,zNe]}init(){const e=this.editor,t=e.plugins.get("DataSchema"),r=e.plugins.get("StyleUtils"),i=e.config.get("style.definitions"),s=r.normalizeConfig(t,i);e.commands.add("style",new DNe(e,s)),r.configureGHSDataFilter(s)}}class WNe extends ee{static get pluginName(){return"Style"}static get isOfficialPlugin(){return!0}static get requires(){return[$Ne,MNe]}}function jNe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function qNe(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function bM(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function yM(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const GNe="[object RegExp]",YNe="[object String]",KNe="[object Number]",XNe="[object Boolean]",wM="[object Arguments]",JNe="[object Symbol]",QNe="[object Date]",ZNe="[object Map]",ePe="[object Set]",tPe="[object Array]",nPe="[object Function]",rPe="[object ArrayBuffer]",AE="[object Object]",iPe="[object Error]",sPe="[object DataView]",oPe="[object Uint8Array]",aPe="[object Uint8ClampedArray]",lPe="[object Uint16Array]",cPe="[object Uint32Array]",uPe="[object BigUint64Array]",dPe="[object Int8Array]",fPe="[object Int16Array]",hPe="[object Int32Array]",mPe="[object BigInt64Array]",gPe="[object Float32Array]",pPe="[object Float64Array]";function bPe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function mA(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=bPe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function yPe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return mA(n,e,{leading:r,trailing:i,maxWait:e})}function vM(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function wPe(n,e,t){return ng(n,e,void 0,void 0,void 0,void 0,t)}function ng(n,e,t,r,i,s,o){const a=o(n,e,t,r,i,s);if(a!==void 0)return a;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return Cg(n,e,s,o)}return Cg(n,e,s,o)}function Cg(n,e,t,r){if(Object.is(n,e))return!0;let i=yM(n),s=yM(e);if(i===wM&&(i=AE),s===wM&&(s=AE),i!==s)return!1;switch(i){case YNe:return n.toString()===e.toString();case KNe:{const l=n.valueOf(),u=e.valueOf();return qNe(l,u)}case XNe:case QNe:case JNe:return Object.is(n.valueOf(),e.valueOf());case GNe:return n.source===e.source&&n.flags===e.flags;case nPe:return n===e}t=t??new Map;const o=t.get(n),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(n,e),t.set(e,n);try{switch(i){case ZNe:{if(n.size!==e.size)return!1;for(const[l,u]of n.entries())if(!e.has(l)||!ng(u,e.get(l),l,n,e,t,r))return!1;return!0}case ePe:{if(n.size!==e.size)return!1;const l=Array.from(n.values()),u=Array.from(e.values());for(let f=0;f<l.length;f++){const m=l[f],p=u.findIndex(y=>ng(m,y,void 0,n,e,t,r));if(p===-1)return!1;u.splice(p,1)}return!0}case tPe:case oPe:case aPe:case lPe:case cPe:case uPe:case dPe:case fPe:case hPe:case mPe:case gPe:case pPe:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let l=0;l<n.length;l++)if(!ng(n[l],e[l],l,n,e,t,r))return!1;return!0}case rPe:return n.byteLength!==e.byteLength?!1:Cg(new Uint8Array(n),new Uint8Array(e),t,r);case sPe:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:Cg(new Uint8Array(n),new Uint8Array(e),t,r);case iPe:return n.name===e.name&&n.message===e.message;case AE:{if(!(Cg(n.constructor,e.constructor,t,r)||vM(n)&&vM(e)))return!1;const u=[...Object.keys(n),...bM(n)],f=[...Object.keys(e),...bM(e)];if(u.length!==f.length)return!1;for(let m=0;m<u.length;m++){const p=u[m],y=n[p];if(!Object.hasOwn(e,p))return!1;const v=e[p];if(!ng(y,v,p,n,e,t,r))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function vPe(){}function _M(n,e){return wPe(n,e,vPe)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const _Pe=/^(left|center|right)$/,xPe=/^(left|none|right)$/;function gA(n,e){const{modelAttribute:t,styleName:r,attributeName:i,attributeType:s,viewElement:o,defaultValue:a,shouldUpcast:l=()=>!0,reduceBoxSides:u=!1}=e;n.for("upcast").attributeToAttribute({view:{name:o,styles:{[r]:/[\s\S]+/}},model:{key:t,value:(f,m,p)=>{if(!l(f))return;const y=_o(a,"",p),v=f.getNormalizedStyle(r),w=u?Ub(v):v;if(y!==w)return w;m.consumable.consume(f,{styles:r})}}}),i&&n.for("upcast").attributeToAttribute({view:{name:o,attributes:{[i]:/.+/}},model:{key:t,value:(f,m,p)=>{if(f.name=="figure"||f.hasStyle(r)||f.name=="table"&&f.parent.name=="figure"&&f.parent.hasStyle(r))return;const y=_o(a,"",p);let v=f.getAttribute(i);if(v&&s=="length"&&!v.endsWith("px")&&(v+="px"),y!==v)return v;m.consumable.consume(f,{attributes:i})}}})}function lT(n,e,t,r){const{conversion:i}=n;i.for("upcast").add(s=>s.on("element:"+e,(o,a,l)=>{if(!a.modelRange)return;const u=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(E=>a.viewItem.hasStyle(E));if(!u.length)return;const f={styles:u};if(!l.consumable.test(a.viewItem,f))return;const m=[...a.modelRange.getItems({shallow:!0})].pop(),p=m.findAncestor("table",{includeSelf:!0});let y=r;p&&p.getAttribute("tableType")=="layout"&&(y={style:"none",color:"",width:""}),l.consumable.consume(a.viewItem,f);const v={style:a.viewItem.getNormalizedStyle("border-style"),color:a.viewItem.getNormalizedStyle("border-color"),width:a.viewItem.getNormalizedStyle("border-width")},w={style:Ub(v.style),color:Ub(v.color),width:Ub(v.width)};w.style!==y.style&&l.writer.setAttribute(t.style,w.style,m),w.color!==y.color&&l.writer.setAttribute(t.color,w.color,m),w.width!==y.width&&l.writer.setAttribute(t.width,w.width,m)})),n.config.get("experimentalFlags.upcastTableBorderZeroAttributes")&&i.for("upcast").add(s=>{s.on(`element:${e}`,(o,a,l)=>{const{modelRange:u,viewItem:f}=a,m=f.is("element","table")?f:f.findAncestor("table");if(!l.consumable.test(m,{attributes:"border"})||m.getAttribute("border")!=="0")return;const p=u?.start?.nodeAfter;!p||p.hasAttribute(t.style)||(l.writer.setAttribute(t.style,"none",p),f.is("element","table")&&l.consumable.consume(f,{attributes:"border"}))})})}function Ag(n,e){const{modelElement:t,modelAttribute:r,styleName:i}=e;n.for("downcast").attributeToAttribute({model:{name:t,key:r},view:s=>({key:"style",value:{[i]:s}})})}function Vb(n,e){const{modelAttribute:t,styleName:r}=e;n.for("downcast").add(i=>i.on(`attribute:${t}:table`,(s,o,a)=>{const{item:l,attributeNewValue:u}=o,{mapper:f,writer:m}=a;if(!a.consumable.consume(o.item,s.name))return;const p=[...f.toViewElement(l).getChildren()].find(y=>y.is("element","table"));u?m.setStyle(r,u,p):m.removeStyle(r,p)}))}function _o(n,e,t){const r=t.modelRange&&_n(t.modelRange.getItems({shallow:!0})),i=r&&r.is("element")&&r.findAncestor("table",{includeSelf:!0});return i&&i.getAttribute("tableType")==="layout"?e:n}function Ub(n){if(!n)return;const e=["top","right","bottom","left"];if(!e.every(s=>n[s]))return n;const r=n.top;return e.every(s=>n[s]===r)?r:n}const ii={left:{className:"table-style-align-left"},center:{className:"table-style-align-center"},right:{className:"table-style-align-right"},blockLeft:{className:"table-style-block-align-left"},blockRight:{className:"table-style-block-align-right"}},EPe=[{view:{name:/^(table|figure)$/,styles:{float:xPe}},getAlign:n=>{let e=n.getStyle("float");return e==="none"&&(e="center"),e},getConsumables(n){const e=n.getStyle("float"),t=["float"];return e==="left"&&n.hasStyle("margin-right")?t.push("margin-right"):e==="right"&&n.hasStyle("margin-left")&&t.push("margin-left"),{styles:t}}},{view:{name:/^(table|figure)$/,styles:{"margin-left":"auto","margin-right":"auto"}},getAlign:()=>"center",getConsumables:()=>({styles:["margin-left","margin-right"]})},{view:{name:/^(table|figure)$/,key:"class",value:"table-style-align-left"},getAlign:()=>"left",getConsumables(){return{classes:ii.left.className}}},{view:{name:/^(table|figure)$/,key:"class",value:ii.right.className},getAlign:()=>"right",getConsumables(){return{classes:ii.right.className}}},{view:{name:/^(table|figure)$/,key:"class",value:ii.center.className},getAlign:()=>"center",getConsumables(){return{classes:ii.center.className}}},{view:{name:/^(table|figure)$/,key:"class",value:ii.blockLeft.className},getAlign:()=>"blockLeft",getConsumables(){return{classes:ii.blockLeft.className}}},{view:{name:/^(table|figure)$/,key:"class",value:ii.blockRight.className},getAlign:()=>"blockRight",getConsumables(){return{classes:ii.blockRight.className}}},{view:{name:/^(table|figure)$/,styles:{"margin-left":"0","margin-right":"auto"}},getAlign:()=>"blockLeft",getConsumables(){return{styles:["margin-left","margin-right"]}}},{view:{name:/^(table|figure)$/,styles:{"margin-left":"auto","margin-right":"0"}},getAlign:()=>"blockRight",getConsumables(){return{styles:["margin-left","margin-right"]}}},{view:{name:"table",attributes:{align:_Pe}},getAlign:n=>n.getAttribute("align"),getConsumables(){return{attributes:"align"}}}],sb={center:{align:"center",style:"margin-left: auto; margin-right: auto;",className:"table-style-align-center"},left:{align:"left",style:"float: left;",className:"table-style-align-left"},right:{align:"right",style:"float: right;",className:"table-style-align-right"},blockLeft:{align:void 0,style:"margin-left: 0; margin-right: auto;",className:ii.blockLeft.className},blockRight:{align:void 0,style:"margin-left: auto; margin-right: 0;",className:ii.blockRight.className}};function qn(n,e,t,r,i=1){e!=null&&i!==void 0&&i!==null&&e>i?r.setAttribute(n,e,t):r.removeAttribute(n,t)}function Gu(n,e,t={}){const r=n.createElement("tableCell",t);return n.insertElement("paragraph",r),n.insert(r,e),r}function cT(n,e){const t=e.parent.parent,r=parseInt(t.getAttribute("headingColumns")||"0"),{column:i}=n.getCellLocation(e);return!!r&&i<r}function zb(n,e,t){const{modelAttribute:r}=t;n.extend("tableCell",{allowAttributes:[r]}),n.setAttributeProperties(r,{isFormatting:!0}),gA(e,{viewElement:/^(td|th)$/,...t}),Ag(e,{modelElement:"tableCell",...t})}function nc(n){const e=n.getSelectedElement();return e&&e.is("element","table")?e:n.getFirstPosition().findAncestor("table")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Xt{_table;_startRow;_endRow;_startColumn;_endColumn;_includeAllSlots;_skipRows;_row;_rowIndex;_column;_cellIndex;_spannedCells;_nextCellAtColumn;_jumpedToStartRow=!1;constructor(e,t={}){this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const r=this._getSpanned();if(r)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(r.cell,r.row,r.column));else{const i=e.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();const s=parseInt(i.getAttribute("colspan")||"1"),o=parseInt(i.getAttribute("rowspan")||"1");(s>1||o>1)&&this._recordSpans(i,o,s),this._shouldSkipSlot()||(t=this._formatOutValue(i)),this._nextCellAtColumn=this._column+s}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,r=this._column){return{done:!1,value:new kPe(this,e,t,r)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,r=this._column<this._startColumn,i=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||r||i}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,r){const i={cell:e,row:this._row,column:this._column};for(let s=this._row;s<this._row+t;s++)for(let o=this._column;o<this._column+r;o++)(s!=this._row||o!=this._column)&&this._markSpannedCell(s,o,i)}_markSpannedCell(e,t,r){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,r)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((r,i)=>r+parseInt(i.getAttribute("colspan")||"1"),0)}}class kPe{cell;row;column;cellAnchorRow;cellAnchorColumn;_cellIndex;_rowIndex;_table;constructor(e,t,r,i){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=r,this.cellAnchorColumn=i,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function Yz(n,e,t){const{startRow:r,startColumn:i,endRow:s,endColumn:o}=e,a=t.createElement("table"),l=n.getAttribute("tableType");l&&t.setAttribute("tableType",l,a);const u=s-r+1;for(let m=0;m<u;m++)t.insertElement("tableRow",a,"end");const f=[...new Xt(n,{startRow:r,endRow:s,startColumn:i,endColumn:o,includeAllSlots:!0})];for(const{row:m,column:p,cell:y,isAnchor:v,cellAnchorRow:w,cellAnchorColumn:E}of f){const k=m-r,T=a.getChild(k);if(!v)(w<r||E<i)&&Gu(t,t.createPositionAt(T,"end"));else{const S=t.cloneElement(y);t.append(S,T),Zz(S,m,p,s,o,t)}}return TPe(a,n,r,i,t),a}function Kz(n,e,t=0){const r=[],i=new Xt(n,{startRow:t,endRow:e-1});for(const s of i){const{row:o,cellHeight:a}=s,l=o+a-1;o<e&&e<=l&&r.push(s)}return r}function Xz(n,e,t){const r=n.parent,i=r.parent,s=r.index,o=parseInt(n.getAttribute("rowspan")),a=e-s,l={},u=o-a;u>1&&(l.rowspan=u);const f=parseInt(n.getAttribute("colspan")||"1");f>1&&(l.colspan=f);const m=s,p=m+a,y=[...new Xt(i,{startRow:m,endRow:p,includeAllSlots:!0})];let v=null,w;for(const E of y){const{row:k,column:T,cell:S}=E;S===n&&w===void 0&&(w=T),w!==void 0&&w===T&&k===p&&(v=Gu(t,E.getPositionBefore(),l))}return qn("rowspan",a,n,t),v}function Jz(n,e){const t=[],r=new Xt(n);for(const i of r){const{column:s,cellWidth:o}=i,a=s+o-1;s<e&&e<=a&&t.push(i)}return t}function Qz(n,e,t,r){const i=parseInt(n.getAttribute("colspan")),s=t-e,o={},a=i-s;a>1&&(o.colspan=a);const l=parseInt(n.getAttribute("rowspan")||"1");l>1&&(o.rowspan=l);const u=Gu(r,r.createPositionAfter(n),o);return qn("colspan",s,n,r),u}function Zz(n,e,t,r,i,s){const o=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");if(t+o-1>i){const f=i-t+1;qn("colspan",f,n,s,1)}if(e+a-1>r){const f=r-e+1;qn("rowspan",f,n,s,1)}}function TPe(n,e,t,r,i){const s=parseInt(e.getAttribute("headingRows")||"0");if(s>0){const a=s-t;qn("headingRows",a,n,i,0)}const o=parseInt(e.getAttribute("headingColumns")||"0");if(o>0){const a=o-r;qn("headingColumns",a,n,i,0)}}function uT(n,e){const t=e.getColumns(n),r=new Array(t).fill(0);for(const{column:s}of new Xt(n))r[s]++;const i=r.reduce((s,o,a)=>o?s:[...s,a],[]);if(i.length>0){const s=i[i.length-1];return e.removeColumns(n,{at:s}),!0}return!1}function dT(n,e){const t=[],r=e.getRows(n);for(let i=0;i<r;i++)n.getChild(i).isEmpty&&t.push(i);if(t.length>0){const i=t[t.length-1];return e.removeRows(n,{at:i}),!0}return!1}function pA(n,e){uT(n,e)||dT(n,e)}function eH(n,e){const t=Array.from(new Xt(n,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:s})=>s===1))return e.lastRow;const i=t[0].cellHeight-1;return e.lastRow+i}function tH(n,e){const t=Array.from(new Xt(n,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:s})=>s===1))return e.lastColumn;const i=t[0].cellWidth-1;return e.lastColumn+i}function nH(n){for(const e of n.getChildren())if(e.is("element","table"))return e}function SPe(){return n=>{n.on("element:figure",(e,t,r)=>{if(!r.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const i=nH(t.viewItem);if(!i||!r.consumable.test(i,{name:!0}))return;r.consumable.consume(t.viewItem,{name:!0,classes:"table"});const s=r.convertItem(i,t.modelCursor),o=_n(s.modelRange.getItems());if(!o||!o.is("element","table")){r.consumable.revert(t.viewItem,{name:!0,classes:"table"}),s.modelRange&&!s.modelRange.isCollapsed&&(t.modelRange=s.modelRange,t.modelCursor=s.modelCursor);return}r.convertChildren(t.viewItem,r.writer.createPositionAt(o,"end")),r.updateConversionResult(o,t)})}}function CPe(){return n=>{n.on("element:table",(e,t,r)=>{const i=t.viewItem;if(!r.consumable.test(i,{name:!0}))return;const{rows:s,headingRows:o,headingColumns:a}=NPe(i),l={};a&&(l.headingColumns=a),o&&(l.headingRows=o);const u=r.writer.createElement("table",l);if(r.safeInsert(u,t.modelCursor)){if(r.consumable.consume(i,{name:!0}),s.forEach(f=>r.convertItem(f,r.writer.createPositionAt(u,"end"))),r.convertChildren(i,r.writer.createPositionAt(u,"end")),u.isEmpty){const f=r.writer.createElement("tableRow");r.writer.insert(f,r.writer.createPositionAt(u,"end")),Gu(r.writer,r.writer.createPositionAt(f,"end"))}r.updateConversionResult(u,t)}})}}function APe(){return n=>{n.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&t.modelCursor.index==0&&e.stop()},{priority:"high"})}}function xM(n){return e=>{e.on(`element:${n}`,(t,r,{writer:i})=>{if(!r.modelRange)return;const s=r.modelRange.start.nodeAfter,o=i.createPositionAt(s,0);if(r.viewItem.isEmpty){i.insertElement("paragraph",o);return}const a=Array.from(s.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=i.createElement("paragraph");i.insert(l,i.createPositionAt(s,0));for(const u of a)i.move(i.createRangeOn(u),i.createPositionAt(l,"end"))}},{priority:"low"})}}function NPe(n){let e=0,t;const r=[],i=[];let s;for(const a of Array.from(n.getChildren())){if(a.name!=="tbody"&&a.name!=="thead"&&a.name!=="tfoot")continue;a.name==="thead"&&!s&&(s=a);const l=Array.from(a.getChildren()).filter(f=>f.is("element","tr"));let u=null;for(const f of l){const m=Array.from(f.getChildren()).filter(p=>p.is("element","td")||p.is("element","th"));s&&a===s||a.name==="tbody"&&m.length>0&&(u===null||m.length===u)&&m.every(p=>p.is("element","th"))?(e++,r.push(f)):i.push(f),u=Math.max(u||0,m.length)}}const o=PPe(i);for(const a of o){let l=0;for(;l<a.length&&a[l]?.name==="th";)l+=1;(!t||l<t)&&(t=l)}return{headingRows:e,headingColumns:t||0,rows:[...r,...i]}}function PPe(n){let e=new Map,t=0;const r=n.map(i=>{const s=[],o=Array.from(i.getChildren()).filter(l=>l.name==="th"||l.name==="td"),a=new Map;for(;o.length||s.length<t;){const l=e.get(s.length);if(l&&l.remaining>0)s.push(l.cell);else{const u=o.shift();if(u){const f=parseInt(u.getAttribute("colspan")||"1"),m=parseInt(u.getAttribute("rowspan")||"1");for(let p=0;p<f;p++)m>1&&a.set(s.length,{cell:u,remaining:m-1}),s.push(u)}else{s.push(null);continue}}}for(const[l,u]of e.entries())u.remaining-=1,u.remaining>0&&!a.has(l)&&a.set(l,u);return e=a,t=Math.max(t,s.length),s});for(const i of r)for(;i.length<t;)i.push(null);return r}function Yu(n){if(!n||!jNe(n))return n;const{top:e,right:t,bottom:r,left:i}=n;if(e==t&&t==r&&r==i)return e}function Ku(n,e){const t=parseFloat(n);return Number.isNaN(t)||String(t)!==String(n)?n:`${t}${e}`}function Dv(n,e={}){const t={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...n};return e.includeAlignmentProperty&&!t.alignment&&(t.alignment="center"),e.includePaddingProperty&&!t.padding&&(t.padding=""),e.includeVerticalAlignmentProperty&&!t.verticalAlignment&&(t.verticalAlignment="middle"),e.includeHorizontalAlignmentProperty&&!t.horizontalAlignment&&(t.horizontalAlignment=e.isRightToLeftContent?"right":"left"),t}function bA(n,e){return Dv({borderStyle:"double",borderColor:"hsl(0, 0%, 70%)",borderWidth:"1px",...n},e)}function yA(n,e){return Dv({borderStyle:"solid",borderColor:"hsl(0, 0%, 75%)",borderWidth:"1px",...n},e)}function EM(n,e){return(t,{writer:r})=>{const i=t.getAttribute("headingRows")||0,s=r.createContainerElement("table",null,[]),o=r.createContainerElement("figure",{class:"table"},s);i>0&&r.insert(r.createPositionAt(s,"end"),r.createContainerElement("thead",null,r.createSlot(a=>a.is("element","tableRow")&&a.index<i))),i<n.getRows(t)&&r.insert(r.createPositionAt(s,"end"),r.createContainerElement("tbody",null,r.createSlot(a=>a.is("element","tableRow")&&a.index>=i)));for(const{positionOffset:a,filter:l}of e.additionalSlots)r.insert(r.createPositionAt(s,a),r.createSlot(l));return r.insert(r.createPositionAt(s,"after"),r.createSlot(a=>a.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:l})=>l(a)))),e.asWidget?RPe(o,r):o}}function IPe(){return(n,{writer:e})=>n.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function kM(n={}){return(e,{writer:t})=>{const r=e.parent,i=r.parent,s=i.getChildIndex(r),o=new Xt(i,{row:s}),a=i.getAttribute("headingRows")||0,l=i.getAttribute("headingColumns")||0;let u=null;for(const f of o)if(f.cell==e){const p=f.row<a||f.column<l?"th":"td";u=n.asWidget?XC(t.createEditableElement(p),t,{withAriaRole:!1}):t.createContainerElement(p);break}return u}}function TM(n={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!rH(e))return null;if(n.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const r=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}}function rH(n){return n.parent.childCount==1&&!OPe(n)}function RPe(n,e){return e.setCustomProperty("table",!0,n),ip(n,e,{hasSelectionHandle:!0})}function OPe(n){for(const e of n.getAttributeKeys())if(!(e.startsWith("selection:")||e=="htmlEmptyBlock"))return!0;return!1}function MPe(n){return(e,t)=>{const r=n.plugins.has("PlainTableOutput"),i=t.options.isClipboardPipeline,s=n.config.get("experimentalFlags.useExtendedTableBlockAlignment");return!r&&!(s&&i)?null:FPe(e,t,n)}}function DPe(n){return(e,{writer:t,options:r})=>{const i=n.plugins.has("PlainTableOutput"),s=r.isClipboardPipeline,o=n.config.get("experimentalFlags.useExtendedTableBlockAlignment");return!i&&!(o&&s)?null:e.parent.name==="table"?t.createContainerElement("caption"):null}}function FPe(n,e,t){const r=e.writer,i=n.getAttribute("headingRows")||0,s=r.createSlot(p=>p.is("element","tableRow")&&p.index<i),o=r.createSlot(p=>p.is("element","tableRow")&&p.index>=i),a=r.createSlot(p=>!p.is("element","tableRow")),l=r.createContainerElement("thead",null,s),u=r.createContainerElement("tbody",null,o),f=[];i&&f.push(l),i<n.childCount&&f.push(u);const m={class:"table"};if(t.plugins.has("TableProperties")&&e.options.isClipboardPipeline){const p=bA(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),y=n.getAttribute("tableAlignment");let v=p.alignment;n.getAttribute("tableType")==="layout"&&(v="");const w=y||v;w&&(m.class+=" "+sb[w].className,m.style=sb[w].style,sb[w].align!==void 0&&(m.align=sb[w].align))}return r.createContainerElement("table",m,[a,...f])}function LPe(n){const e={"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"};for(const[t,r]of Object.entries(e))n.conversion.for("dataDowncast").add(i=>i.on(`attribute:${r}:table`,(s,o,a)=>{const{item:l,attributeNewValue:u}=o,{mapper:f,writer:m}=a,p=n.plugins.has("PlainTableOutput"),y=a.options.isClipboardPipeline,v=n.config.get("experimentalFlags.useExtendedTableBlockAlignment");if(!p&&!(v&&y)||!a.consumable.consume(l,s.name))return;const w=f.toViewElement(l);u?m.setStyle(t,u,w):m.removeStyle(t,w)},{priority:"high"}))}class BPe extends lt{refresh(){const e=this.editor.model,t=e.document.selection,r=e.schema;this.isEnabled=VPe(t,r)}execute(e={}){const t=this.editor,r=t.model,i=t.plugins.get("TableUtils"),s=t.config.get("table.defaultHeadings.rows"),o=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&s&&(e.headingRows=s),e.headingColumns===void 0&&o&&(e.headingColumns=o),r.change(a=>{const l=i.createTable(a,e);r.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}function VPe(n,e){const t=n.getFirstPosition().parent,r=t===t.root?t:t.parent;return e.checkChild(r,"table")}class SM extends lt{order;constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,t=e.model.document.selection,r=e.plugins.get("TableUtils"),i=this.order==="above",s=r.getSelectionAffectedTableCells(t),o=r.getRowIndexes(s),a=i?o.first:o.last,l=s[0].findAncestor("table");r.insertRows(l,{at:i?a:a+1,copyStructureFromAbove:!i})}}class CM extends lt{order;constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,t=e.model.document.selection,r=e.plugins.get("TableUtils"),i=this.order==="left",s=r.getSelectionAffectedTableCells(t),o=r.getColumnIndexes(s),a=i?o.first:o.last,l=s[0].findAncestor("table");r.insertColumns(l,{columns:1,at:i?a:a+1})}}class AM extends lt{direction;constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}class ob extends lt{direction;isHorizontal;constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,i=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],s=this.value,o=this.direction;e.change(a=>{const l=o=="right"||o=="down",u=l?i:s,f=l?s:i,m=f.parent;HPe(f,u,a);const p=this.isHorizontal?"colspan":"rowspan",y=parseInt(i.getAttribute(p)||"1"),v=parseInt(s.getAttribute(p)||"1");a.setAttribute(p,y+v,u),a.setSelection(a.createRangeIn(u));const w=this.editor.plugins.get("TableUtils"),E=m.findAncestor("table");pA(E,w)})}_getMergeableCell(){const t=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),i=r.getTableCellsContainingSelection(t.selection)[0];if(!i)return;const s=this.isHorizontal?UPe(i,this.direction,r):zPe(i,this.direction,r);if(!s)return;const o=this.isHorizontal?"rowspan":"colspan",a=parseInt(i.getAttribute(o)||"1");if(parseInt(s.getAttribute(o)||"1")===a)return s}}function UPe(n,e,t){const i=n.parent.parent,s=e=="right"?n.nextSibling:n.previousSibling,o=(i.getAttribute("headingColumns")||0)>0;if(!s)return;const a=e=="right"?n:s,l=e=="right"?s:n,{column:u}=t.getCellLocation(a),{column:f}=t.getCellLocation(l),m=parseInt(a.getAttribute("colspan")||"1"),p=cT(t,a),y=cT(t,l);return o&&p!=y?void 0:u+m===f?s:void 0}function zPe(n,e,t){const r=n.parent,i=r.parent,s=i.getChildIndex(r);if(e=="down"&&s===t.getRows(i)-1||e=="up"&&s===0)return null;const o=parseInt(n.getAttribute("rowspan")||"1"),a=i.getAttribute("headingRows")||0,l=e=="down"&&s+o===a,u=e=="up"&&s===a;if(a&&(l||u))return null;const f=parseInt(n.getAttribute("rowspan")||"1"),m=e=="down"?s+f:s,p=[...new Xt(i,{endRow:m})],v=p.find(E=>E.cell===n).column,w=p.find(({row:E,cellHeight:k,column:T})=>T!==v?!1:e=="down"?E===m:m===E+k);return w&&w.cell?w.cell:null}function HPe(n,e,t){NM(n)||(NM(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function NM(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class $Pe extends lt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=t[0];if(r){const i=r.findAncestor("table"),o=e.getRows(i)-1,a=e.getRowIndexes(t),l=a.first===0&&a.last===o;this.isEnabled=!l}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),r=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(r),s=r[0],o=s.findAncestor("table"),a=t.getCellLocation(s).column;e.change(l=>{const u=i.last-i.first+1;t.removeRows(o,{at:i.first,rows:u});const f=WPe(o,i.first,a,t.getRows(o));l.setSelection(l.createPositionAt(f,0))})}}function WPe(n,e,t,r){const i=n.getChild(Math.min(e,r-1));let s=i.getChild(0),o=0;for(const a of i.getChildren()){if(o>t)return s;s=a,o+=parseInt(a.getAttribute("colspan")||"1")}return s}class jPe extends lt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=t[0];if(r){const i=r.findAncestor("table"),s=e.getColumns(i),{first:o,last:a}=e.getColumnIndexes(t);this.isEnabled=a-o<s-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,r]=GPe(this.editor.model.document.selection,e),i=t.parent.parent,s=[...new Xt(i)],o={first:s.find(l=>l.cell===t).column,last:s.find(l=>l.cell===r).column},a=qPe(s,t,r,o);this.editor.model.change(l=>{const u=o.last-o.first+1;e.removeColumns(i,{at:o.first,columns:u}),l.setSelection(l.createPositionAt(a,0))})}}function qPe(n,e,t,r){return parseInt(t.getAttribute("colspan")||"1")>1?t:e.previousSibling||t.nextSibling?t.nextSibling||e.previousSibling:r.first?n.reverse().find(({column:s})=>s<r.first).cell:n.reverse().find(({column:s})=>s>r.last).cell}function GPe(n,e){const t=e.getSelectionAffectedTableCells(n),r=t[0],i=t.pop(),s=[r,i];return r.isBefore(i)?s:s.reverse()}class YPe extends lt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,r=e.getSelectionAffectedTableCells(t.document.selection);if(r.length===0){this.isEnabled=!1,this.value=!1;return}const i=r[0].findAncestor("table");this.isEnabled=t.schema.checkAttribute(i,"headingRows"),this.value=r.every(s=>this._isInHeading(s,s.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=t.getSelectionAffectedTableCells(r.document.selection),s=i[0].findAncestor("table"),{first:o,last:a}=t.getRowIndexes(i),l=this.value?o:a+1,u=s.getAttribute("headingRows")||0;r.change(f=>{if(l){const m=l>u?u:0,p=Kz(s,l,m);for(const{cell:y}of p)Xz(y,l,f)}qn("headingRows",l,s,f,0)})}_isInHeading(e,t){const r=parseInt(t.getAttribute("headingRows")||"0");return!!r&&e.parent.index<r}}class KPe extends lt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,r=e.getSelectionAffectedTableCells(t.document.selection);if(r.length===0){this.isEnabled=!1,this.value=!1;return}const i=r[0].findAncestor("table");this.isEnabled=t.schema.checkAttribute(i,"headingColumns"),this.value=r.every(s=>cT(e,s))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=t.getSelectionAffectedTableCells(r.document.selection),s=i[0].findAncestor("table"),{first:o,last:a}=t.getColumnIndexes(i),l=this.value?o:a+1;r.change(u=>{if(l){const f=Jz(s,l);for(const{cell:m,column:p}of f)Qz(m,p,l,u)}qn("headingColumns",l,s,u,0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const XPe=5,fT=40,JPe=2,QPe=3;function ZPe(n){const e=new Set;for(const t of n.document.differ.getChanges()){let r=null;switch(t.type){case"insert":r=["table","tableRow","tableCell"].includes(t.name)?t.position:null;break;case"remove":r=["tableRow","tableCell"].includes(t.name)?t.position:null;break;case"attribute":t.range.start.nodeAfter&&(r=["table","tableRow","tableCell"].includes(t.range.start.nodeAfter.name)?t.range.start:null);break}if(!r)continue;const i=r.nodeAfter&&r.nodeAfter.is("element","table")?r.nodeAfter:r.findAncestor("table");for(const s of n.createRangeOn(i).getItems())s.is("element","table")&&ap(s)&&e.add(s)}return e}function eIe(n,e){return fT*100/iH(n,e)}function iH(n,e){const t=PM(n,"tbody",e)||PM(n,"thead",e),r=e.editing.view.domConverter.mapViewToDom(t);return hT(r)}function PM(n,e,t){return[...[...t.editing.mapper.toViewElement(n).getChildren()].find(s=>s.is("element","table")).getChildren()].find(s=>s.is("element",e))}function hT(n){const e=qe.window.getComputedStyle(n);return e.boxSizing==="border-box"?parseFloat(e.width)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth):parseFloat(e.width)}function tIe(n,e){const t=e.getCellLocation(n).column,r=n.getAttribute("colspan")||1;return{leftEdge:t,rightEdge:t+r-1}}function Mi(n){const e=Math.pow(10,JPe),t=typeof n=="number"?n:parseFloat(n);return Math.round(t*e)/e}function nIe(n,e,t){return n<=e?Mi(e):n>=t?Mi(t):Mi(n)}function rIe(n,e){return Array(n).fill(e)}function x0(n){return n.map(e=>typeof e=="number"?e:parseFloat(e)).filter(e=>!Number.isNaN(e)).reduce((e,t)=>e+t,0)}function wA(n){const e=n.map(i=>i==="auto"||i===void 0?"auto":parseFloat(i.replace("%","")));let t=iIe(e);const r=x0(t);return r!==100&&(t=t.map(i=>Mi(i*100/r)).map((i,s,o)=>{if(!(s===o.length-1))return i;const l=x0(o);return Mi(i+100-l)})),t.map(i=>i+"%")}function iIe(n){const e=n.filter(i=>i==="auto").length;if(e===0)return n.map(i=>Mi(i));const t=x0(n),r=Math.max((100-t)/e,XPe);return n.map(i=>i==="auto"?r:i).map(i=>Mi(i))}function sIe(n){const e=qe.window.getComputedStyle(n);return e.boxSizing==="border-box"?parseInt(e.width):parseFloat(e.width)+parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderWidth)}function sH(n,e,t,r){for(let i=0;i<Math.max(t.length,n.length);i++){const s=n[i],o=t[i];o?s?r.setAttribute("columnWidth",o,s):r.appendElement("tableColumn",{columnWidth:o},e):r.remove(s)}}function ap(n){if(n.is("element","tableColumnGroup"))return n;const e=n.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function lp(n){const e=ap(n);return e?Array.from(e.getChildren()):[]}function oIe(n){return lp(n).map(e=>e.getAttribute("columnWidth"))}function aIe(n,e){return lp(n).reduce((r,i)=>{const s=i.getAttribute("columnWidth"),o=i.getAttribute("colSpan");if(!o)return r.push(s),r;for(let a=0;a<o;a++)r.push(s);return e.removeAttribute("colSpan",i),r},[])}class Or extends ee{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,r=t.parent,i=r.getChildIndex(t),s=new Xt(r,{row:i});for(const{cell:o,row:a,column:l}of s)if(o===e)return{row:a,column:l};/* istanbul ignore next -- @preserve */}createTable(e,t){const r=e.createElement("table"),i=t.rows||2,s=t.columns||2;return NE(e,r,0,i,s),t.headingRows&&qn("headingRows",Math.min(t.headingRows,i),r,e,0),t.headingColumns&&qn("headingColumns",Math.min(t.headingColumns,s),r,e,0),r}insertRows(e,t={}){const r=this.editor.model,i=t.at||0,s=t.rows||1,o=t.copyStructureFromAbove!==void 0,a=t.copyStructureFromAbove?i-1:i,l=this.getRows(e),u=this.getColumns(e);if(i>l)throw new q("tableutils-insertrows-insert-out-of-range",this,{options:t});r.change(f=>{const m=e.getAttribute("headingRows")||0;if(m>i&&qn("headingRows",m+s,e,f,0),!o&&(i===0||i===l)){NE(f,e,i,s,u);return}const p=o?Math.max(i,a):i,y=new Xt(e,{endRow:p}),v=new Array(u).fill(1);for(const{row:w,column:E,cellHeight:k,cellWidth:T,cell:S}of y){const P=w+k-1,I=w<i&&i<=P,R=w<=a&&a<=P;I?(f.setAttribute("rowspan",k+s,S),v[E]=-T):o&&R&&(v[E]=T)}for(let w=0;w<s;w++){const E=f.createElement("tableRow");f.insert(E,e,i);for(let k=0;k<v.length;k++){const T=v[k],S=f.createPositionAt(E,"end");T>0&&Gu(f,S,T>1?{colspan:T}:void 0),k+=Math.abs(T)-1}}})}insertColumns(e,t={}){const r=this.editor.model,i=t.at||0,s=t.columns||1;r.change(o=>{const a=e.getAttribute("headingColumns");i<a&&o.setAttribute("headingColumns",a+s,e);const l=this.getColumns(e);if(i===0||l===i){for(const f of e.getChildren())f.is("element","tableRow")&&sf(s,o,o.createPositionAt(f,i?"end":0));return}const u=new Xt(e,{column:i,includeAllSlots:!0});for(const f of u){const{row:m,cell:p,cellAnchorColumn:y,cellAnchorRow:v,cellWidth:w,cellHeight:E}=f;if(y<i){o.setAttribute("colspan",w+s,p);const k=v+E-1;for(let T=m;T<=k;T++)u.skipRow(T)}else sf(s,o,f.getPositionBefore())}})}removeRows(e,t){const r=this.editor.model,i=t.rows||1,s=this.getRows(e),o=t.at,a=o+i-1;if(a>s-1)throw new q("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});r.change(l=>{const u={first:o,last:a},{cellsToMove:f,cellsToTrim:m}=uIe(e,u);if(f.size){const p=a+1;dIe(e,p,f,l)}for(let p=a;p>=o;p--)l.remove(e.getChild(p));for(const{rowspan:p,cell:y}of m)qn("rowspan",p,y,l);cIe(e,u,l),uT(e,this)||dT(e,this)})}removeColumns(e,t){const r=this.editor.model,i=t.at,s=t.columns||1,o=t.at+s-1;r.change(a=>{lIe(e,{first:i,last:o},a);const l=lp(e);for(let u=o;u>=i;u--){for(const{cell:f,column:m,cellWidth:p}of[...new Xt(e)])m<=u&&p>1&&m+p>u?qn("colspan",p-1,f,a):m===u&&a.remove(f);if(l[u]){const f=u===0?l[1]:l[u-1],m=parseFloat(l[u].getAttribute("columnWidth")),p=parseFloat(f.getAttribute("columnWidth"));a.remove(l[u]),a.setAttribute("columnWidth",m+p+"%",f)}}dT(e,this)||uT(e,this)})}splitCellVertically(e,t=2){const r=this.editor.model,s=e.parent.parent,o=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");r.change(l=>{if(a>1){const{newCellsSpan:u,updatedSpan:f}=IM(a,t);qn("colspan",f,e,l);const m={};u>1&&(m.colspan=u),o>1&&(m.rowspan=o);const p=a>t?t-1:a-1;sf(p,l,l.createPositionAfter(e),m)}if(a<t){const u=t-a,f=[...new Xt(s)],{column:m}=f.find(({cell:w})=>w===e),p=f.filter(({cell:w,cellWidth:E,column:k})=>{const T=w!==e&&k===m,S=k<m&&k+E>m;return T||S});for(const{cell:w,cellWidth:E}of p)l.setAttribute("colspan",E+u,w);const y={};o>1&&(y.rowspan=o),sf(u,l,l.createPositionAfter(e),y);const v=s.getAttribute("headingColumns")||0;v>m&&qn("headingColumns",v+u,s,l)}})}splitCellHorizontally(e,t=2){const r=this.editor.model,i=e.parent,s=i.parent,o=s.getChildIndex(i),a=parseInt(e.getAttribute("rowspan")||"1"),l=parseInt(e.getAttribute("colspan")||"1");r.change(u=>{if(a>1){const f=[...new Xt(s,{startRow:o,endRow:o+a-1,includeAllSlots:!0})],{newCellsSpan:m,updatedSpan:p}=IM(a,t);qn("rowspan",p,e,u);const{column:y}=f.find(({cell:E})=>E===e),v={};m>1&&(v.rowspan=m),l>1&&(v.colspan=l);let w=0;for(const E of f){const{column:k,row:T}=E,S=T>=o+p,P=k===y;w>=m&&P&&(w=0),S&&P&&(w||sf(1,u,E.getPositionBefore(),v),w++)}}if(a<t){const f=t-a,m=[...new Xt(s,{startRow:0,endRow:o})];for(const{cell:v,cellHeight:w,row:E}of m)if(v!==e&&E+w>o){const k=w+f;u.setAttribute("rowspan",k,v)}const p={};l>1&&(p.colspan=l),NE(u,s,o+1,f,1,p);const y=s.getAttribute("headingRows")||0;y>o&&qn("headingRows",y+f,s,u)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(r=>r.is("element","tableCell")).reduce((r,i)=>{const s=parseInt(i.getAttribute("colspan")||"1");return r+s},0)}getRows(e){return Array.from(e.getChildren()).reduce((t,r)=>r.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Xt(e,t)}getSelectedTableCells(e){const t=[];for(const r of this.sortRanges(e.getRanges())){const i=r.getContainedElement();i&&i.is("element","tableCell")&&t.push(i)}return t}getTableCellsContainingSelection(e){const t=[];for(const r of e.getRanges()){const i=r.start.findAncestor("tableCell");i&&t.push(i)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(r=>r.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),i=[...new Xt(t)].filter(s=>e.includes(s.cell)).map(s=>s.column);return this._getFirstLastIndexesObject(i)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,r=new Set;let i=0;for(const o of e){const{row:a,column:l}=this.getCellLocation(o),u=parseInt(o.getAttribute("rowspan"))||1,f=parseInt(o.getAttribute("colspan"))||1;t.add(a),r.add(l),u>1&&t.add(a+u-1),f>1&&r.add(l+f-1),i+=u*f}return hIe(t,r)==i}sortRanges(e){return Array.from(e).sort(fIe)}_getFirstLastIndexesObject(e){const t=e.sort((s,o)=>s-o),r=t[0],i=t[t.length-1];return{first:r,last:i}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),r=this.getRowIndexes(e),i=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(r,i))return!1;const s=this.getColumnIndexes(e),o=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(s,o)}_areIndexesInSameSection({first:e,last:t},r){const i=e<r,s=t<r;return i===s}}function NE(n,e,t,r,i,s={}){for(let o=0;o<r;o++){const a=n.createElement("tableRow");n.insert(a,e,t),sf(i,n,n.createPositionAt(a,"end"),s)}}function sf(n,e,t,r={}){for(let i=0;i<n;i++)Gu(e,t,r)}function IM(n,e){if(n<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(n/e),r=n-t*e+t;return{newCellsSpan:t,updatedSpan:r}}function lIe(n,e,t){const r=n.getAttribute("headingColumns")||0;if(r&&e.first<r){const i=Math.min(r-1,e.last)-e.first+1;t.setAttribute("headingColumns",r-i,n)}}function cIe(n,{first:e,last:t},r){const i=n.getAttribute("headingRows")||0;if(e<i){const s=t<i?i-(t-e+1):e;qn("headingRows",s,n,r,0)}}function uIe(n,{first:e,last:t}){const r=new Map,i=[];for(const{row:s,column:o,cellHeight:a,cell:l}of new Xt(n,{endRow:t})){const u=s+a-1;if(s>=e&&s<=t&&u>t){const p=t-s+1,y=a-p;r.set(o,{cell:l,rowspan:y})}if(s<e&&u>=e){let p;u>=t?p=t-e+1:p=u-e+1,i.push({cell:l,rowspan:a-p})}}return{cellsToMove:r,cellsToTrim:i}}function dIe(n,e,t,r){const s=[...new Xt(n,{includeAllSlots:!0,row:e})],o=n.getChild(e);let a;for(const{column:l,cell:u,isAnchor:f}of s)if(t.has(l)){const{cell:m,rowspan:p}=t.get(l),y=a?r.createPositionAfter(a):r.createPositionAt(o,0);r.move(r.createRangeOn(m),y),qn("rowspan",p,m,r),a=m}else f&&(a=u)}function fIe(n,e){const t=n.start,r=e.start;return t.isBefore(r)?-1:1}function hIe(n,e){const t=Array.from(n.values()),r=Array.from(e.values()),i=Math.max(...t),s=Math.min(...t),o=Math.max(...r),a=Math.min(...r);return(i-s+1)*(o-a+1)}class mIe extends lt{refresh(){const e=this.editor.plugins.get(Or),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(Or);e.change(r=>{const i=t.getSelectedTableCells(e.document.selection),s=i.shift(),{mergeWidth:o,mergeHeight:a}=pIe(s,i,t);qn("colspan",o,s,r),qn("rowspan",a,s,r);for(const u of i)gIe(u,s,r);const l=s.findAncestor("table");pA(l,t),r.setSelection(s,"in")})}}function gIe(n,e,t){RM(n)||(RM(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function RM(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function pIe(n,e,t){let r=0,i=0;for(const u of e){const{row:f,column:m}=t.getCellLocation(u);r=OM(u,m,r,"colspan"),i=OM(u,f,i,"rowspan")}const{row:s,column:o}=t.getCellLocation(n),a=r-o,l=i-s;return{mergeWidth:a,mergeHeight:l}}function OM(n,e,t,r){const i=parseInt(n.getAttribute(r)||"1");return Math.max(t,e+i)}class bIe extends lt{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),r=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(r),s=r[0].findAncestor("table"),o=[];for(let a=i.first;a<=i.last;a++)for(const l of s.getChild(a).getChildren())o.push(e.createRangeOn(l));e.change(a=>{a.setSelection(o)})}}class yIe extends lt{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,r=e.getSelectionAffectedTableCells(t.document.selection),i=r[0],s=r.pop(),o=i.findAncestor("table"),a=e.getCellLocation(i),l=e.getCellLocation(s),u=Math.min(a.column,l.column),f=Math.max(a.column,l.column),m=[];for(const p of new Xt(o,{startColumn:u,endColumn:f}))m.push(t.createRangeOn(p.cell));t.change(p=>{p.setSelection(m)})}}function wIe(n){n.document.registerPostFixer(e=>vIe(e,n))}function vIe(n,e){const t=e.document.differ.getChanges();let r=!1;const i=new Set;for(const s of t){let o=null;s.type=="insert"&&s.name=="table"&&(o=s.position.nodeAfter),(s.type=="insert"||s.type=="remove")&&(s.name=="tableRow"||s.name=="tableCell")&&(o=s.position.findAncestor("table")),TIe(s)&&(o=s.range.start.findAncestor("table")),o&&!i.has(o)&&(r=_Ie(o,n)||r,r=xIe(o,n)||r,i.add(o))}return r}function _Ie(n,e){let t=!1;const r=EIe(n);if(r.length){t=!0;for(const i of r)qn("rowspan",i.rowspan,i.cell,e,1)}return t}function xIe(n,e){let t=!1;const r=kIe(n),i=[];for(const[l,u]of r.entries())!u&&n.getChild(l).is("element","tableRow")&&i.push(l);if(i.length){t=!0;for(const l of i.reverse())e.remove(n.getChild(l)),r.splice(l,1)}const s=r.filter((l,u)=>n.getChild(u).is("element","tableRow")),o=s[0];if(!s.every(l=>l===o)){const l=s.reduce((u,f)=>f>u?f:u,0);for(const[u,f]of s.entries()){const m=l-f;if(m){for(let p=0;p<m;p++)Gu(e,e.createPositionAt(n.getChild(u),"end"));t=!0}}}return t}function EIe(n){const e=parseInt(n.getAttribute("headingRows")||"0"),t=Array.from(n.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0),r=[];for(const{row:i,cell:s,cellHeight:o}of new Xt(n)){if(o<2)continue;const l=i<e?e:t;if(i+o>l){const u=l-i;r.push({cell:s,rowspan:u})}}return r}function kIe(n){const e=new Array(n.childCount).fill(0);for(const{rowIndex:t}of new Xt(n,{includeAllSlots:!0}))e[t]++;return e}function TIe(n){if(n.type!=="attribute")return!1;const e=n.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function SIe(n){n.document.registerPostFixer(e=>CIe(e,n))}function CIe(n,e){const t=e.document.differ.getChanges();let r=!1;for(const i of t)i.type=="insert"&&i.name=="table"&&(r=AIe(i.position.nodeAfter,n)||r),i.type=="insert"&&i.name=="tableRow"&&(r=oH(i.position.nodeAfter,n)||r),i.type=="insert"&&i.name=="tableCell"&&(r=mT(i.position.nodeAfter,n)||r),(i.type=="remove"||i.type=="insert")&&NIe(i)&&(r=mT(i.position.parent,n)||r);return r}function AIe(n,e){let t=!1;for(const r of n.getChildren())r.is("element","tableRow")&&(t=oH(r,e)||t);return t}function oH(n,e){let t=!1;for(const r of n.getChildren())t=mT(r,e)||t;return t}function mT(n,e){if(n.childCount==0)return e.insertElement("paragraph",n),!0;const t=Array.from(n.getChildren()).filter(r=>r.is("$text"));for(const r of t)e.wrap(e.createRangeOn(r),"paragraph");return!!t.length}function NIe(n){return n.position.parent.is("element","tableCell")?n.type=="insert"&&n.name=="$text"||n.type=="remove":!1}function PIe(n,e){const t=n.document.differ;for(const r of t.getChanges()){let i,s=!1;if(r.type=="attribute"){const u=r.range.start.nodeAfter;if(!u||!u.is("element","table")||r.attributeKey!="headingRows"&&r.attributeKey!="headingColumns")continue;i=u,s=r.attributeKey=="headingRows"}else(r.name=="tableRow"||r.name=="tableCell")&&(i=r.position.findAncestor("table"),s=r.name=="tableRow");if(!i)continue;const o=i.getAttribute("headingRows")||0,a=i.getAttribute("headingColumns")||0,l=new Xt(i);for(const u of l){const m=u.row<o||u.column<a?"th":"td",p=e.mapper.toViewElement(u.cell);p&&p.is("element")&&p.name!=m&&e.reconvertItem(s?u.cell.parent:u.cell)}}}function IIe(n,e){const t=n.document.differ,r=new Set;for(const i of t.getChanges()){const s=i.type=="attribute"?i.range.start.parent:i.position.parent;s.is("element","tableCell")&&r.add(s)}for(const i of r.values()){const s=Array.from(i.getChildren()).filter(o=>RIe(o,e.mapper));for(const o of s)e.reconvertItem(o)}}function RIe(n,e){if(!n.is("element","paragraph"))return!1;const t=e.toViewElement(n);return t?rH(n)!==t.is("element","span"):!1}class cp extends ee{_additionalSlots;static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Or]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,t=e.model,r=t.schema,i=e.conversion,s=e.plugins.get(Or);r.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),r.register("tableRow",{allowIn:"table",isLimit:!0}),r.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),i.for("upcast").add(SPe()),i.for("upcast").add(CPe()),i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:EM(s,{asWidget:!0,additionalSlots:this._additionalSlots})}),i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:EM(s,{additionalSlots:this._additionalSlots})}),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add(APe()),i.for("downcast").elementToElement({model:"tableRow",view:IPe()}),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add(xM("td")),i.for("upcast").add(xM("th")),i.for("editingDowncast").elementToElement({model:"tableCell",view:kM({asWidget:!0})}),i.for("dataDowncast").elementToElement({model:"tableCell",view:kM()}),i.for("editingDowncast").elementToElement({model:"paragraph",view:TM({asWidget:!0}),converterPriority:"high"}),i.for("dataDowncast").elementToElement({model:"paragraph",view:TM(),converterPriority:"high"}),i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),i.for("upcast").attributeToAttribute({model:{key:"colspan",value:MM("colspan")},view:"colspan"}),i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:MM("rowspan")},view:"rowspan"}),this._addPlainTableOutputConverters(),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new BPe(e)),e.commands.add("insertTableRowAbove",new SM(e,{order:"above"})),e.commands.add("insertTableRowBelow",new SM(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new CM(e,{order:"left"})),e.commands.add("insertTableColumnRight",new CM(e,{order:"right"})),e.commands.add("removeTableRow",new $Pe(e)),e.commands.add("removeTableColumn",new jPe(e)),e.commands.add("splitTableCellVertically",new AM(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new AM(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new mIe(e)),e.commands.add("mergeTableCellRight",new ob(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new ob(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new ob(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new ob(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new KPe(e)),e.commands.add("setTableRowHeader",new YPe(e)),e.commands.add("selectTableRow",new bIe(e)),e.commands.add("selectTableColumn",new yIe(e)),wIe(t),SIe(t),this.listenTo(t.document,"change:data",()=>{PIe(t,e.editing),IIe(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}_addPlainTableOutputConverters(){const e=this.editor;e.conversion.for("dataDowncast").elementToStructure({model:"table",view:MPe(e),converterPriority:"high"}),e.plugins.has("TableCaption")&&e.conversion.for("dataDowncast").elementToElement({model:"caption",view:DPe(e),converterPriority:"high"}),e.plugins.has("TableProperties")&&LPe(e)}}function MM(n){return e=>{const t=parseInt(e.getAttribute(n));return Number.isNaN(t)||t<=0?null:t}}class DM extends Le{items;keystrokes;focusTracker;constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new bn,this.focusTracker=new Yt,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(r,i)=>`${i}  ${r}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(r=>{r.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(r,i)=>{const{row:s,column:o}=i.target.dataset;this.items.get((parseInt(s,10)-1)*10+(parseInt(o,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(r,i,s)=>{if(!s)return;const{row:o,column:a}=s.dataset;this.set({rows:parseInt(o),columns:parseInt(a)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Z0({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((r,i)=>{const s=Math.floor(i/10),o=i%10,a=s<e&&o<t;r.set("isOn",a)})}_createGridButton(e,t,r,i){const s=new et(e);return s.set({label:i,class:"ck-insert-table-dropdown-grid-box"}),s.extendTemplate({attributes:{"data-row":t,"data-column":r}}),s}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const r=Math.floor(t/10),i=t%10,s=`${r+1}  ${i+1}`;e.push(this._createGridButton(this.locale,r+1,i+1,s))}return this.createCollection(e)}}class OIe extends ee{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t,i=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",s=>{const o=e.commands.get("insertTable"),a=kr(s);a.bind("isEnabled").to(o),a.buttonView.set({icon:bO,label:t("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new DM(s),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}))}),a}),e.ui.componentFactory.add("menuBar:insertTable",s=>{const o=e.commands.get("insertTable"),a=new zi(s),l=new DM(s);return l.delegate("execute").to(a),a.on("change:isOpen",(u,f,m)=>{m||l.reset()}),l.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}),a.buttonView.set({label:t("Table"),icon:bO}),a.panelView.children.add(l),a.bind("isEnabled").to(o),a}),e.ui.componentFactory.add("tableColumn",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),X_e,o,s)}),e.ui.componentFactory.add("tableRow",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),Z_e,o,s)}),e.ui.componentFactory.add("mergeTableCells",s=>{const o=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),J_e,o,s)})}_prepareDropdown(e,t,r,i){const s=this.editor,o=kr(i),a=this._fillDropdownWithListOptions(o,r);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(u=>u)),this.listenTo(o,"execute",l=>{s.execute(l.source.commandName),l.source instanceof Nu||s.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(e,t,r,i){const s=this.editor,o=kr(i,yh),a="mergeTableCells",l=s.commands.get(a),u=this._fillDropdownWithListOptions(o,r);return o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([l,...u],"isEnabled",(...f)=>f.some(m=>m)),this.listenTo(o.buttonView,"execute",()=>{s.execute(a),s.editing.view.focus()}),this.listenTo(o,"execute",f=>{s.execute(f.source.commandName),s.editing.view.focus()}),o}_fillDropdownWithListOptions(e,t){const r=this.editor,i=[],s=new sr;for(const o of t)MIe(o,r,i,s);return vc(e,s),i}}function MIe(n,e,t,r){if(n.type==="button"||n.type==="switchbutton"){const i=n.model=new fc(n.model),{commandName:s,bindIsOn:o}=n.model,a=e.commands.get(s);t.push(a),i.set({commandName:s}),i.bind("isEnabled").to(a),o&&i.bind("isOn").to(a,"value"),i.set({withText:!0})}r.add(n)}class rc extends ee{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[Or,Or]}init(){const e=this.editor,t=e.model,r=e.editing.view;this.listenTo(t,"deleteContent",(i,s)=>this._handleDeleteContent(i,s),{priority:"high"}),this.listenTo(r.document,"insertText",(i,s)=>this._handleInsertTextEvent(i,s),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Or),t=this.editor.model.document.selection,r=e.getSelectedTableCells(t);return r.length==0?null:r}getSelectionAsFragment(){const e=this.editor.plugins.get(Or),t=this.getSelectedTableCells();return t?this.editor.model.change(r=>{const i=r.createDocumentFragment(),{first:s,last:o}=e.getColumnIndexes(t),{first:a,last:l}=e.getRowIndexes(t),u=t[0].findAncestor("table");let f=l,m=o;if(e.isSelectionRectangular(t)){const v={firstColumn:s,lastColumn:o,firstRow:a,lastRow:l};f=eH(u,v),m=tH(u,v)}const y=Yz(u,{startRow:a,startColumn:s,endRow:f,endColumn:m},r);return r.insert(y,i,0),i}):null}setCellSelection(e,t){const r=this._getCellsToSelect(e,t);this.editor.model.change(i=>{i.setSelection(r.cells.map(s=>i.createRangeOn(s)),{backward:r.backward})})}getFocusCell(){const r=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return r&&r.is("element","tableCell")?r:null}getAnchorCell(){const e=this.editor.model.document.selection,r=_n(e.getRanges()).getContainedElement();return r&&r.is("element","tableCell")?r:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(i=>i.on("selection",(s,o,a)=>{const l=a.writer;r(l);const u=this.getSelectedTableCells();if(!u)return;for(const m of u){const p=a.mapper.toViewElement(m);l.addClass("ck-editor__editable_selected",p),t.add(p)}const f=a.mapper.toViewElement(u[u.length-1]);l.setSelection(f,0)},{priority:"lowest"}));function r(i){for(const s of t)i.removeClass("ck-editor__editable_selected",s);t.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(r=>{const i=r.createPositionAt(t[0],0),s=e.model.schema.getNearestSelectionRange(i);r.setSelection(s)})}})}_handleDeleteContent(e,t){const r=this.editor.plugins.get(Or),i=t[0],s=t[1],o=this.editor.model,a=!s||s.direction=="backward",l=r.getSelectedTableCells(i);l.length&&(e.stop(),o.change(u=>{const f=l[a?l.length-1:0];o.change(p=>{for(const y of l)o.deleteContent(p.createSelection(y,"in"))});const m=o.schema.getNearestSelectionRange(u.createPositionAt(f,0));i.is("documentSelection")?u.setSelection(m):i.setTo(m)}))}_handleInsertTextEvent(e,t){const r=this.editor,i=this.getSelectedTableCells();if(!i)return;const s=r.editing.view,o=r.editing.mapper,a=i.map(l=>s.createRangeOn(o.toViewElement(l)));t.selection=s.createSelection(a),t.preventDefault()}_getCellsToSelect(e,t){const r=this.editor.plugins.get("TableUtils"),i=r.getCellLocation(e),s=r.getCellLocation(t),o=Math.min(i.row,s.row),a=Math.max(i.row,s.row),l=Math.min(i.column,s.column),u=parseInt(t.getAttribute("colspan")||"1")-1,f=Math.max(i.column,s.column+u),m=new Array(a-o+1).fill(null).map(()=>[]),p={startRow:o,endRow:a,startColumn:l,endColumn:f};for(const{row:w,cell:E}of new Xt(e.findAncestor("table"),p))m[w-o].push(E);const y=s.row<i.row,v=s.column<i.column;return y&&m.reverse(),v&&m.forEach(w=>w.reverse()),{cells:m.flat(),backward:y||v}}}class DIe extends ee{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[Tg,Ws,rc,Or]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"copy",(r,i)=>this._onCopyCut(r,i)),this.listenTo(t,"cut",(r,i)=>this._onCopyCut(r,i)),this._listenToContentInsertion(),this.decorate("_replaceTableSlotCell")}_listenToContentInsertion(){const{editor:e}=this,t=e.plugins.get(Ws),r=e.plugins.get(rc);let i=!1;t.on("contentInsertion",(s,o)=>{i=o.method==="paste"}),this.listenTo(e.model,"insertContent",(s,[o,a])=>{(i||r.getSelectedTableCells()!==null)&&this._onInsertContent(s,o,a)},{priority:"high"}),t.on("contentInsertion",()=>{i=!1},{priority:"lowest"})}_onCopyCut(e,t){const r=this.editor.editing.view,i=this.editor.plugins.get(rc),s=this.editor.plugins.get(Tg);i.getSelectedTableCells()&&(e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection)||(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const o=s._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>i.getSelectionAsFragment());r.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(o),method:e.name})})))}_onInsertContent(e,t,r){if(r&&!r.is("documentSelection"))return;const i=this.editor.model,s=this.editor.plugins.get(Or),o=this.editor.plugins.get(Tg),a=this.getTableIfOnlyTableInContent(t,i);if(!a)return;const l=s.getSelectionAffectedTableCells(i.document.selection);if(!l.length){pA(a,s);return}e.stop(),t.is("documentFragment")?o._pasteMarkersIntoTransformedElement(t.markers,u=>this._replaceSelectedCells(a,l,u)):this.editor.model.change(u=>{this._replaceSelectedCells(a,l,u)})}_replaceSelectedCells(e,t,r){const i=this.editor.plugins.get(Or),s={width:i.getColumns(e),height:i.getRows(e)},o=FIe(t,s,r,i),a=o.lastRow-o.firstRow+1,l=o.lastColumn-o.firstColumn+1,u={startRow:0,startColumn:0,endRow:Math.min(a,s.height)-1,endColumn:Math.min(l,s.width)-1};e=Yz(e,u,r);const f=t[0].findAncestor("table"),m=this._replaceSelectedCellsWithPasted(e,s,f,o,r);if(this.editor.plugins.get("TableSelection").isEnabled){const p=i.sortRanges(m.map(y=>r.createRangeOn(y)));r.setSelection(p)}else r.setSelection(m[0],0);return f}_replaceSelectedCellsWithPasted(e,t,r,i,s){const{width:o,height:a}=t,l=BIe(e,o,a),u=[...new Xt(r,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],f=[];let m;for(const E of u){const{row:k,column:T}=E;T===i.firstColumn&&(m=E.getPositionBefore());const S=k-i.firstRow,P=T-i.firstColumn,I=l[S%a][P%o],R=I?s.cloneElement(I):null,A=this._replaceTableSlotCell(E,R,m,s);A&&(Zz(A,k,T,i.lastRow,i.lastColumn,s),f.push(A),m=s.createPositionAfter(A))}const p=parseInt(r.getAttribute("headingRows")||"0"),y=parseInt(r.getAttribute("headingColumns")||"0"),v=i.firstRow<p&&p<=i.lastRow,w=i.firstColumn<y&&y<=i.lastColumn;if(v){const E={first:i.firstColumn,last:i.lastColumn},k=gT(r,p,E,s,i.firstRow);f.push(...k)}if(w){const E={first:i.firstRow,last:i.lastRow},k=pT(r,y,E,s);f.push(...k)}return f}_replaceTableSlotCell(e,t,r,i){const{cell:s,isAnchor:o}=e;return o&&i.remove(s),t?(i.insert(t,r),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const r=t.createRangeIn(e);for(const i of r.getItems())if(i.is("element","table")){const s=t.createRange(r.start,t.createPositionBefore(i));if(t.hasContent(s,{ignoreWhitespaces:!0}))return null;const o=t.createRange(t.createPositionAfter(i),r.end);return t.hasContent(o,{ignoreWhitespaces:!0})?null:i}return null}}function FIe(n,e,t,r){const i=n[0].findAncestor("table"),s=r.getColumnIndexes(n),o=r.getRowIndexes(n),a={firstColumn:s.first,lastColumn:s.last,firstRow:o.first,lastRow:o.last},l=n.length===1;return l&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,LIe(i,a.lastRow+1,a.lastColumn+1,r)),l||!r.isSelectionRectangular(n)?VIe(i,a,t):(a.lastRow=eH(i,a),a.lastColumn=tH(i,a)),a}function LIe(n,e,t,r){const i=r.getColumns(n),s=r.getRows(n);t>i&&r.insertColumns(n,{at:i,columns:t-i}),e>s&&r.insertRows(n,{at:s,rows:e-s})}function BIe(n,e,t){const r=new Array(t).fill(null).map(()=>new Array(e).fill(null));for(const{column:i,row:s,cell:o}of new Xt(n))r[s][i]=o;return r}function VIe(n,e,t){const{firstRow:r,lastRow:i,firstColumn:s,lastColumn:o}=e,a={first:r,last:i},l={first:s,last:o};pT(n,s,a,t),pT(n,o+1,a,t),gT(n,r,l,t),gT(n,i+1,l,t,r)}function gT(n,e,t,r,i=0){return e<1?void 0:Kz(n,e,i).filter(({column:a,cellWidth:l})=>aH(a,l,t)).map(({cell:a})=>Xz(a,e,r))}function pT(n,e,t,r){return e<1?void 0:Jz(n,e).filter(({row:o,cellHeight:a})=>aH(o,a,t)).map(({cell:o,column:a})=>Qz(o,a,e,r))}function aH(n,e,t){const r=n+e-1,{first:i,last:s}=t,o=n>=i&&n<=s,a=n<i&&r>=i;return o||a}class UIe extends ee{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[rc,Or]}init(){const e=this.editor,r=e.editing.view.document,i=e.t;this.listenTo(r,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(r,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(r,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:i("Keystrokes that can be used in a table cell"),keystrokes:[{label:i("Move the selection to the next cell"),keystroke:"Tab"},{label:i("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:i("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:i("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const s=this.editor.model.document.selection.getSelectedElement();!s||!s.is("element","table")||t.stopPropagation()}_handleTab(e,t){const r=this.editor,i=this.editor.plugins.get(Or),s=this.editor.plugins.get("TableSelection"),o=r.model.document.selection,a=!t.shiftKey;let l=i.getTableCellsContainingSelection(o)[0];if(l||(l=s.getFocusCell()),!l)return;t.stopPropagation();const u=l.parent,f=u.parent,m=f.getChildIndex(u),y=u.getChildIndex(l)===u.childCount-1,v=m===i.getRows(f)-1;a&&v&&y&&r.execute("insertTableRowBelow")}_onArrowKey(e,t){const r=this.editor,i=t.keyCode,s=cv(i,r.locale.contentLanguageDirection);this._handleArrowKeys(s,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const r=this.editor.plugins.get(Or),i=this.editor.plugins.get("TableSelection"),s=this.editor.model,o=s.document.selection,a=["right","down"].includes(e),l=r.getSelectedTableCells(o);if(l.length){let f;return t?f=i.getFocusCell():f=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(f,e,t),!0}const u=o.focus.findAncestor("tableCell");/* istanbul ignore if: paranoid check -- @preserve */if(!u)return!1;if(!o.isCollapsed)if(t){if(o.isBackward==a&&!o.containsEntireContent(u))return!1}else{const f=o.getSelectedElement();if(!f||!s.schema.isObject(f))return!1}return this._isSelectionAtCellEdge(o,u,a)?(this._navigateFromCellInDirection(u,e,t),!0):!1}_isSelectionAtCellEdge(e,t,r){const i=this.editor.model,s=this.editor.model.schema,o=r?e.getLastPosition():e.getFirstPosition();if(!s.getLimitElement(o).is("element","tableCell"))return i.createPositionAt(t,r?"end":0).isTouching(o);const a=i.createSelection(o);return i.modifySelection(a,{direction:r?"forward":"backward"}),o.isEqual(a.focus)}_navigateFromCellInDirection(e,t,r=!1){const i=this.editor.model,s=e.findAncestor("table"),o=[...new Xt(s,{includeAllSlots:!0})],{row:a,column:l}=o[o.length-1],u=o.find(({cell:T})=>T==e);let{row:f,column:m}=u;switch(t){case"left":m--;break;case"up":f--;break;case"right":m+=u.cellWidth;break;case"down":f+=u.cellHeight;break}const p=f<0||f>a,y=m<0&&f<=0,v=m>l&&f>=a;if(p||y||v){i.change(T=>{T.setSelection(T.createRangeOn(s))});return}m<0?(m=r?0:l,f--):m>l&&(m=r?l:0,f++);const w=o.find(T=>T.row==f&&T.column==m).cell,E=["right","down"].includes(t),k=this.editor.plugins.get("TableSelection");if(r&&k.isEnabled){const T=k.getAnchorCell()||e;k.setCellSelection(T,w)}else{const T=i.createPositionAt(w,E?0:"end");i.change(S=>{S.setSelection(T)})}}}class lH extends Mo{domEventType=["mousemove","mouseleave"];onDomEvent(e){this.fire(e.type,e)}}class zIe extends ee{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[rc,Or]}init(){this.editor.editing.view.addObserver(lH),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Or);let r=!1;const i=e.plugins.get(rc);this.listenTo(e.editing.view.document,"mousedown",(s,o)=>{const a=e.model.document.selection;if(!this.isEnabled||!i.isEnabled||!o.domEvent.shiftKey)return;const l=i.getAnchorCell()||t.getTableCellsContainingSelection(a)[0];if(!l)return;const u=this._getModelTableCellFromDomEvent(o);u&&FM(l,u)&&(r=!0,i.setCellSelection(l,u),o.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{r=!1}),this.listenTo(e.editing.view.document,"selectionChange",s=>{r&&s.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,r,i=!1,s=!1;const o=e.plugins.get(rc);this.listenTo(e.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!o.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(l))}),this.listenTo(e.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!t)return;const u=this._getModelTableCellFromDomEvent(l);u&&FM(t,u)&&(r=u,!i&&r!=t&&(i=!0)),i&&(s=!0,o.setCellSelection(t,r),l.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1,s=!1,t=null,r=null}),this.listenTo(e.editing.view.document,"selectionChange",a=>{s&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,r=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(r).parent.findAncestor("tableCell",{includeSelf:!0})}}function FM(n,e){return n.parent.parent==e.parent.parent}class HIe extends ee{static get requires(){return[cp,OIe,rc,zIe,UIe,DIe,vh]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}}function Qy(n){const e=cH(n);return e||Fv(n)}function cH(n){const e=n.getSelectedElement();return e&&uH(e)?e:null}function Fv(n){const e=n.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&uH(t))return t;t=t.parent}return null}function uH(n){return n.is("element")&&!!n.getCustomProperty("table")&&Mn(n)}class $Ie extends ee{static get requires(){return[$y]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=e.t,r=e.plugins.get($y),i=e.config.get("table.contentToolbar"),s=e.config.get("table.tableToolbar");i&&r.register("tableContent",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:Fv}),s&&r.register("table",{ariaLabel:t("Table toolbar"),items:s,getRelatedElement:cH})}}class WIe extends Le{options;focusTracker;focusCycler;_focusables;dropdownView;inputView;keystrokes;_stillTyping;constructor(e,t){super(e),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=t,this.focusTracker=new Yt,this._focusables=new br,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new bn,this._stillTyping=!1,this.focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(r,i,s)=>this._setInputValue(s))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(e=>{this.focusTracker.add(e.element),this._focusables.add(e)}),this.keystrokes.listenTo(this.element)}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const e=this.locale,t=e.t,r=this.bindTemplate,i=this._createColorSelector(e),s=kr(e),o=new Le;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:r.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",r.if("value","ck-hidden",a=>a!="")]}}]}),s.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),s.buttonView.children.add(o),s.buttonView.label=t("Color picker"),s.buttonView.tooltip=!0,s.panelPosition=e.uiLanguageDirection==="rtl"?"se":"sw",s.panelView.children.add(i),s.bind("isEnabled").to(this,"isReadOnly",a=>!a),s.on("change:isOpen",(a,l,u)=>{u&&(i.updateSelectedColors(),i.showColorGridsFragment())}),s}_createInputTextView(){const e=this.locale,t=new M9(e);return t.extendTemplate({on:{blur:t.bindTemplate.to("blur")}}),t.value=this.value,t.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(t),t.on("input",()=>{const r=t.element.value,i=this.options.colorDefinitions.find(s=>r===s.label);this._stillTyping=!0,this.value=i&&i.color||r}),t.on("blur",()=>{this._stillTyping=!1,this._setInputValue(t.element.value)}),t.delegate("input").to(this),t}_createColorSelector(e){const t=e.t,r=this.options.defaultColorValue||"",i=t(r?"Restore default":"Remove color"),s=new GC(e,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:i,colorPickerLabel:t("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig===!1?!1:{...this.options.colorPickerConfig,hideInput:!0}});s.appendUI(),s.on("execute",(a,l)=>{if(l.source==="colorPickerSaveButton"){this.dropdownView.isOpen=!1;return}this.value=l.value||r,this.fire("input"),l.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)});let o=this.value;return s.on("colorPicker:cancel",()=>{this.value=o,this.fire("input"),this.dropdownView.isOpen=!1}),s.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{o=this.value}),s.bind("selectedColor").to(this,"value"),s}_setInputValue(e){if(!this._stillTyping){const t=LM(e),r=this.options.colorDefinitions.find(i=>t===LM(i.color));r?this.inputView.value=r.label:this.inputView.value=e||""}}}function LM(n){return n.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const vA=n=>n==="";function _A(n){return{none:n("None"),solid:n("Solid"),dotted:n("Dotted"),dashed:n("Dashed"),double:n("Double"),groove:n("Groove"),ridge:n("Ridge"),inset:n("Inset"),outset:n("Outset")}}function dH(n){return n('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function fH(n){return n('The value is invalid. Try "10px" or "2em" or simply "2".')}function Zy(n){return n=n.trim().toLowerCase(),vA(n)||UV(n)}function Ng(n){return n=n.trim(),vA(n)||gH(n)||xv(n)||zV(n)}function hH(n){return n=n.trim(),vA(n)||gH(n)||xv(n)}function mH(n,e){const t=new sr,r=_A(n.t);for(const i in r){const s={type:"button",model:new fc({_borderStyleValue:i,label:r[i],role:"menuitemradio",withText:!0})};i==="none"?s.model.bind("isOn").to(n,"borderStyle",o=>e==="none"?!o:o===i):s.model.bind("isOn").to(n,"borderStyle",o=>o===i),t.add(s)}return t}function bT(n){const{view:e,icons:t,toolbar:r,labels:i,propertyName:s,nameToValue:o,defaultValue:a}=n;for(const l in i){const u=new et(e.locale);u.set({role:"radio",isToggleable:!0,label:i[l],icon:t[l],tooltip:i[l]});const f=o?o(l):l;u.bind("isOn").to(e,s,m=>{let p=m;return m===""&&a&&(p=a),f===p}),u.on("execute",()=>{!a&&f&&e[s]===f?e[s]=void 0:e[s]=f}),r.items.add(u)}}const ew=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function tw(n){return(e,t,r)=>{const i=new WIe(e.locale,{colorDefinitions:jIe(n.colorConfig),columns:n.columns,defaultColorValue:n.defaultColorValue,colorPickerConfig:n.colorPickerConfig});return i.inputView.set({id:t,ariaDescribedById:r}),i.bind("isReadOnly").to(e,"isEnabled",s=>!s),i.bind("hasError").to(e,"errorText",s=>!!s),i.on("input",()=>{e.errorText=null}),e.bind("isEmpty","isFocused").to(i),i}}function gH(n){const e=parseFloat(n);return!Number.isNaN(e)&&n===String(e)}function jIe(n){return n.map(e=>({color:e.model,label:e.label,options:{hasBorder:e.hasBorder}}))}class qIe extends Le{options;focusTracker;keystrokes;children;borderStyleDropdown;borderWidthInput;borderColorInput;backgroundInput;paddingInput;widthInput;heightInput;horizontalAlignmentToolbar;verticalAlignmentToolbar;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=t;const{borderStyleDropdown:r,borderWidthInput:i,borderColorInput:s,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:a,backgroundInput:l}=this._createBackgroundFields(),{widthInput:u,operatorLabel:f,heightInput:m,dimensionsLabel:p}=this._createDimensionFields(),{horizontalAlignmentToolbar:y,verticalAlignmentToolbar:v,alignmentLabel:w}=this._createAlignmentFields();this.focusTracker=new Yt,this.keystrokes=new bn,this.children=this.createCollection(),this.borderStyleDropdown=r,this.borderWidthInput=i,this.borderColorInput=s,this.backgroundInput=l,this.paddingInput=this._createPaddingField(),this.widthInput=u,this.heightInput=m,this.horizontalAlignmentToolbar=y,this.verticalAlignmentToolbar=v;const{saveButtonView:E,cancelButtonView:k}=this._createActionButtons();this.saveButtonView=E,this.cancelButtonView=k,this._focusables=new br,this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new bl(e,{label:this.t("Cell properties")})),this.children.add(new jr(e,{labelView:o,children:[o,r,s,i],class:"ck-table-form__border-row"})),this.children.add(new jr(e,{labelView:a,children:[a,l],class:"ck-table-form__background-row"})),this.children.add(new jr(e,{children:[new jr(e,{labelView:p,children:[p,u,f,m],class:"ck-table-form__dimensions-row"}),new jr(e,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new jr(e,{labelView:w,children:[w,y,v],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new jr(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableCellProperties,t={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},r=tw({colorConfig:this.options.borderColors,columns:5,defaultColorValue:t.color,colorPickerConfig:this.options.colorPickerConfig}),i=this.locale,s=this.t,o=s("Style"),a=new zs(i);a.text=s("Border");const l=_A(s),u=new Kn(i,qC);u.set({label:o,class:"ck-table-form__border-style"}),u.fieldView.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),u.fieldView.buttonView.bind("label").to(this,"borderStyle",p=>l[p||"none"]),u.fieldView.on("execute",p=>{this.borderStyle=p.source._borderStyleValue}),u.bind("isEmpty").to(this,"borderStyle",p=>!p),vc(u.fieldView,mH(this,t.style),{role:"menu",ariaLabel:o});const f=new Kn(i,gs);f.set({label:s("Width"),class:"ck-table-form__border-width"}),f.fieldView.bind("value").to(this,"borderWidth"),f.bind("isEnabled").to(this,"borderStyle",ab),f.fieldView.on("input",()=>{this.borderWidth=f.fieldView.element.value});const m=new Kn(i,r);return m.set({label:s("Color"),class:"ck-table-form__border-color"}),m.fieldView.bind("value").to(this,"borderColor"),m.bind("isEnabled").to(this,"borderStyle",ab),m.fieldView.on("input",()=>{this.borderColor=m.fieldView.value}),this.on("change:borderStyle",(p,y,v,w)=>{ab(v)||(this.borderColor="",this.borderWidth=""),ab(w)||(this.borderColor=t.color,this.borderWidth=t.width)}),{borderRowLabel:a,borderStyleDropdown:u,borderColorInput:m,borderWidthInput:f}}_createBackgroundFields(){const e=this.locale,t=this.t,r=new zs(e);r.text=t("Background");const i=tw({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),s=new Kn(e,i);return s.set({label:t("Color"),class:"ck-table-cell-properties-form__background"}),s.fieldView.bind("value").to(this,"backgroundColor"),s.fieldView.on("input",()=>{this.backgroundColor=s.fieldView.value}),{backgroundRowLabel:r,backgroundInput:s}}_createDimensionFields(){const e=this.locale,t=this.t,r=new zs(e);r.text=t("Dimensions");const i=new Kn(e,gs);i.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),i.fieldView.bind("value").to(this,"width"),i.fieldView.on("input",()=>{this.width=i.fieldView.element.value});const s=new Le(e);s.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const o=new Kn(e,gs);return o.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),o.fieldView.bind("value").to(this,"height"),o.fieldView.on("input",()=>{this.height=o.fieldView.element.value}),{dimensionsLabel:r,widthInput:i,operatorLabel:s,heightInput:o}}_createPaddingField(){const e=this.locale,t=this.t,r=new Kn(e,gs);return r.set({label:t("Padding"),class:"ck-table-cell-properties-form__padding"}),r.fieldView.bind("value").to(this,"padding"),r.fieldView.on("input",()=>{this.padding=r.fieldView.element.value}),r}_createAlignmentFields(){const e=this.locale,t=this.t,r=new zs(e),i={left:DC,center:o9,right:l9,justify:a9,top:i_e,middle:r_e,bottom:n_e};r.text=t("Table cell text alignment");const s=new dc(e),o=e.contentLanguageDirection==="rtl";s.set({isCompact:!0,role:"radiogroup",ariaLabel:t("Horizontal text alignment toolbar")}),bT({view:this,icons:i,toolbar:s,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:l=>{if(o){if(l==="left")return"right";if(l==="right")return"left"}return l},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const a=new dc(e);return a.set({isCompact:!0,role:"radiogroup",ariaLabel:t("Vertical text alignment toolbar")}),bT({view:this,icons:i,toolbar:a,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:s,verticalAlignmentToolbar:a,alignmentLabel:r}}_createActionButtons(){const e=this.locale,t=this.t,r=new et(e),i=new et(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return r.set({label:t("Save"),icon:Tv,class:"ck-button-save",type:"submit",withText:!0}),r.bind("isEnabled").toMany(s,"errorText",(...o)=>o.every(a=>!a)),i.set({label:t("Cancel"),icon:kv,class:"ck-button-cancel",withText:!0}),i.delegate("execute").to(this,"cancel"),{saveButtonView:r,cancelButtonView:i}}get _horizontalAlignmentLabels(){const e=this.locale,t=this.t,r=t("Align cell text to the left"),i=t("Align cell text to the center"),s=t("Align cell text to the right"),o=t("Justify cell text");return e.uiLanguageDirection==="rtl"?{right:s,center:i,left:r,justify:o}:{left:r,center:i,right:s,justify:o}}get _verticalAlignmentLabels(){const e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}function ab(n){return n!=="none"}const yT=[Bn.defaultPositions.northArrowSouth,Bn.defaultPositions.northArrowSouthWest,Bn.defaultPositions.northArrowSouthEast,Bn.defaultPositions.southArrowNorth,Bn.defaultPositions.southArrowNorthWest,Bn.defaultPositions.southArrowNorthEast,Bn.defaultPositions.viewportStickyNorth];function pH(n,e){const t=n.plugins.get("ContextualBalloon"),r=n.editing.view.document.selection;let i;e==="cell"?Fv(r)&&(i=yH(n)):Qy(r)&&(i=bH(n)),i&&t.updatePosition(i)}function bH(n){const e=n.model.document.selection,t=nc(e),r=n.editing.mapper.toViewElement(t);return{target:n.editing.view.domConverter.mapViewToDom(r),positions:yT}}function yH(n){const e=n.editing.mapper,t=n.editing.view.domConverter,r=n.model.document.selection;if(r.rangeCount>1)return{target:()=>GIe(r.getRanges(),n),positions:yT};const i=wH(r.getFirstPosition()),s=e.toViewElement(i);return{target:t.mapViewToDom(s),positions:yT}}function wH(n){return n.nodeAfter&&n.nodeAfter.is("element","tableCell")?n.nodeAfter:n.findAncestor("tableCell")}function GIe(n,e){const t=e.editing.mapper,r=e.editing.view.domConverter,i=Array.from(n).map(s=>{const o=wH(s.start),a=t.toViewElement(o);return new bt(r.mapViewToDom(a))});return bt.getBoundingRect(i)}const YIe=500,BM={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class KIe extends ee{_defaultContentTableCellProperties;_defaultLayoutTableCellProperties;_balloon;view;_viewWithContentTableDefaults;_viewWithLayoutTableDefaults;_undoStepBatch;_isReady;static get requires(){return[No]}static get pluginName(){return"TableCellPropertiesUI"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("table.tableCellProperties",{borderColors:ew,backgroundColors:ew})}init(){const e=this.editor,t=e.t;this._defaultContentTableCellProperties=yA(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"}),this._defaultLayoutTableCellProperties=Dv(void 0,{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"}),this._balloon=e.plugins.get(No),this.view=null,this._isReady=!1,e.ui.componentFactory.add("tableCellProperties",r=>{const i=new et(r);i.set({label:t("Cell properties"),icon:K_e,tooltip:!0}),this.listenTo(i,"execute",()=>this._showView());const s=Object.values(BM).map(o=>e.commands.get(o));return i.bind("isEnabled").toMany(s,"isEnabled",(...o)=>o.some(a=>a)),i})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(e){const t=this.editor,r=t.config.get("table.tableCellProperties"),i=m0(r.borderColors),s=h0(t.locale,i),o=m0(r.backgroundColors),a=h0(t.locale,o),l=r.colorPicker!==!1,u=new qIe(t.locale,{borderColors:s,backgroundColors:a,defaultTableCellProperties:e,colorPickerConfig:l?r.colorPicker||{}:!1}),f=t.t;u.render(),this.listenTo(u,"submit",()=>{this._hideView()}),this.listenTo(u,"cancel",()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()}),u.keystrokes.set("Esc",(y,v)=>{this._hideView(),v()}),$u({emitter:u,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const m=dH(f),p=fH(f);return u.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),u.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:u.borderColorInput,commandName:"tableCellBorderColor",errorText:m,validator:Zy})),u.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:u.borderWidthInput,commandName:"tableCellBorderWidth",errorText:p,validator:hH})),u.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:u.paddingInput,commandName:"tableCellPadding",errorText:p,validator:Ng})),u.on("change:width",this._getValidatedPropertyChangeCallback({viewField:u.widthInput,commandName:"tableCellWidth",errorText:p,validator:Ng})),u.on("change:height",this._getValidatedPropertyChangeCallback({viewField:u.heightInput,commandName:"tableCellHeight",errorText:p,validator:Ng})),u.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:u.backgroundInput,commandName:"tableCellBackgroundColor",errorText:m,validator:Zy})),u.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),u.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),u}_fillViewFormFromCommandValues(){const e=this.editor.commands,t=e.get("tableCellBorderStyle");Object.entries(BM).map(([r,i])=>{const s=r,o=this.view===this._viewWithContentTableDefaults?this._defaultContentTableCellProperties[s]||"":this._defaultLayoutTableCellProperties[s]||"";return[r,e.get(i).value||o]}).forEach(([r,i])=>{(r==="borderColor"||r==="borderWidth")&&t.value==="none"||this.view.set(r,i)}),this._isReady=!0}_showView(){const e=this.editor,t=Qy(e.editing.view.document.selection),r=t&&e.editing.mapper.toModelElement(t),i=!r||r.getAttribute("tableType")!=="layout";i&&!this._viewWithContentTableDefaults?this._viewWithContentTableDefaults=this._createPropertiesView(this._defaultContentTableCellProperties):!i&&!this._viewWithLayoutTableDefaults&&(this._viewWithLayoutTableDefaults=this._createPropertiesView(this._defaultLayoutTableCellProperties)),this.view=i?this._viewWithContentTableDefaults:this._viewWithLayoutTableDefaults,this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:yH(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,t=e.editing.view.document;Fv(t.selection)?this._isViewVisible&&pH(e,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(t,r,i)=>{this._isReady&&this.editor.execute(e,{value:i,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:t,viewField:r,validator:i,errorText:s}=e,o=mA(()=>{r.errorText=s},YIe);return(a,l,u)=>{o.cancel(),this._isReady&&(i(u)?(this.editor.execute(t,{value:u,batch:this._undoStepBatch}),r.errorText=null):o())}}}class yl extends lt{attributeName;_defaultValue;_defaultContentTableValue;_defaultLayoutTableValue;constructor(e,t,r){switch(super(e),this.attributeName=t,this._defaultContentTableValue=r,t){case"tableCellBorderStyle":this._defaultLayoutTableValue="none";break;case"tableCellHorizontalAlignment":this._defaultLayoutTableValue="left";break;case"tableCellVerticalAlignment":this._defaultLayoutTableValue="middle";break;default:this._defaultLayoutTableValue=void 0}}refresh(){const t=this.editor.model.document.selection,i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t),s=nc(t);this._defaultValue=!s||s.getAttribute("tableType")!=="layout"?this._defaultContentTableValue:this._defaultLayoutTableValue,this.isEnabled=!!i.length,this.value=this._getSingleValue(i)}execute(e={}){const{value:t,batch:r}=e,i=this.editor.model,o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(i.document.selection),a=this._getValueToSet(t);i.enqueueChange(r,l=>{a?o.forEach(u=>l.setAttribute(this.attributeName,a,u)):o.forEach(u=>l.removeAttribute(this.attributeName,u))})}_getAttribute(e){if(!e)return;const t=e.getAttribute(this.attributeName);if(t!==this._defaultValue)return t}_getValueToSet(e){if(e!==this._defaultValue)return e}_getSingleValue(e){const t=this._getAttribute(e[0]);return e.every(i=>this._getAttribute(i)===t)?t:void 0}}class XIe extends yl{constructor(e,t){super(e,"tableCellWidth",t)}_getValueToSet(e){if(e=Ku(e,"px"),e!==this._defaultValue)return e}}class vH extends ee{static get pluginName(){return"TableCellWidthEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[cp]}init(){const e=this.editor,t=yA(e.config.get("table.tableCellProperties.defaultProperties"));zb(e.model.schema,e.conversion,{modelAttribute:"tableCellWidth",styleName:"width",attributeName:"width",attributeType:"length",defaultValue:t.width}),e.commands.add("tableCellWidth",new XIe(e,t.width))}}class JIe extends yl{constructor(e,t){super(e,"tableCellPadding",t)}_getAttribute(e){if(!e)return;const t=Yu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}_getValueToSet(e){const t=Ku(e,"px");if(t!==this._defaultValue)return t}}class QIe extends yl{constructor(e,t){super(e,"tableCellHeight",t)}_getValueToSet(e){const t=Ku(e,"px");if(t!==this._defaultValue)return t}}class ZIe extends yl{constructor(e,t){super(e,"tableCellBackgroundColor",t)}}class eRe extends yl{constructor(e,t){super(e,"tableCellVerticalAlignment",t)}}class tRe extends yl{constructor(e,t){super(e,"tableCellHorizontalAlignment",t)}}class nRe extends yl{constructor(e,t){super(e,"tableCellBorderStyle",t)}_getAttribute(e){if(!e)return;const t=Yu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class rRe extends yl{constructor(e,t){super(e,"tableCellBorderColor",t)}_getAttribute(e){if(!e)return;const t=Yu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class iRe extends yl{constructor(e,t){super(e,"tableCellBorderWidth",t)}_getAttribute(e){if(!e)return;const t=Yu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}_getValueToSet(e){const t=Ku(e,"px");if(t!==this._defaultValue)return t}}const VM=/^(top|middle|bottom)$/,UM=/^(left|center|right|justify)$/;class sRe extends ee{static get pluginName(){return"TableCellPropertiesEditing"}static get licenseFeatureCode(){return"TCP"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}static get requires(){return[cp,vH]}init(){const e=this.editor,t=e.model.schema,r=e.conversion;e.config.define("table.tableCellProperties.defaultProperties",{});const i=yA(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"});e.data.addStyleProcessorRules($V),oRe(e,{color:i.borderColor,style:i.borderStyle,width:i.borderWidth}),e.commands.add("tableCellBorderStyle",new nRe(e,i.borderStyle)),e.commands.add("tableCellBorderColor",new rRe(e,i.borderColor)),e.commands.add("tableCellBorderWidth",new iRe(e,i.borderWidth)),zb(t,r,{modelAttribute:"tableCellHeight",styleName:"height",attributeName:"height",attributeType:"length",defaultValue:i.height}),e.commands.add("tableCellHeight",new QIe(e,i.height)),e.data.addStyleProcessorRules(pwe),zb(t,r,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:i.padding}),e.commands.add("tableCellPadding",new JIe(e,i.padding)),e.data.addStyleProcessorRules(RC),zb(t,r,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",attributeName:"bgcolor",attributeType:"color",defaultValue:i.backgroundColor}),e.commands.add("tableCellBackgroundColor",new ZIe(e,i.backgroundColor)),aRe(t,r,i.horizontalAlignment),e.commands.add("tableCellHorizontalAlignment",new tRe(e,i.horizontalAlignment)),lRe(t,r,i.verticalAlignment),e.commands.add("tableCellVerticalAlignment",new eRe(e,i.verticalAlignment))}}function oRe(n,e){const{conversion:t}=n,{schema:r}=n.model,i={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};r.extend("tableCell",{allowAttributes:Object.values(i)});for(const s of Object.values(i))r.setAttributeProperties(s,{isFormatting:!0});lT(n,"td",i,e),lT(n,"th",i,e),Ag(t,{modelElement:"tableCell",modelAttribute:i.style,styleName:"border-style"}),Ag(t,{modelElement:"tableCell",modelAttribute:i.color,styleName:"border-color"}),Ag(t,{modelElement:"tableCell",modelAttribute:i.width,styleName:"border-width"})}function aRe(n,e,t){n.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),n.setAttributeProperties("tableCellHorizontalAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:r=>({key:"style",value:{"text-align":r}})}),e.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":UM}},model:{key:"tableCellHorizontalAlignment",value:(r,i,s)=>{const o=_o(t,"left",s),a=r.getStyle("text-align");if(a!==o)return a;i.consumable.consume(r,{styles:"text-align"})}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:UM}},model:{key:"tableCellHorizontalAlignment",value:(r,i,s)=>{const o=_o(t,"left",s),a=r.getAttribute("align");if(a!==o)return a;i.consumable.consume(r,{attributes:"align"})}}})}function lRe(n,e,t){n.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),n.setAttributeProperties("tableCellVerticalAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:r=>({key:"style",value:{"vertical-align":r}})}),e.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":VM}},model:{key:"tableCellVerticalAlignment",value:(r,i,s)=>{const o=_o(t,"middle",s),a=r.getStyle("vertical-align");if(a!==o)return a;i.consumable.consume(r,{styles:"vertical-align"})}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:VM}},model:{key:"tableCellVerticalAlignment",value:(r,i,s)=>{const o=_o(t,"middle",s),a=r.getAttribute("valign");if(a!==o)return a;i.consumable.consume(r,{attributes:"valign"})}}})}class cRe extends ee{static get pluginName(){return"TableCellProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[sRe,KIe]}}class uRe extends lt{refresh(){this.isEnabled=!0}execute(e={}){const{model:t,plugins:r}=this.editor;let{table:i=t.document.selection.getSelectedElement(),columnWidths:s,tableWidth:o}=e;s&&(s=Array.isArray(s)?s:s.split(",")),t.change(a=>{o?a.setAttribute("tableWidth",o,i):a.removeAttribute("tableWidth",i);const l=r.get("TableColumnResizeEditing").getColumnGroupElement(i);if(!s&&!l)return;if(!s)return a.remove(l);const u=wA(s);if(l)Array.from(l.getChildren()).forEach((f,m)=>a.setAttribute("columnWidth",u[m],f));else{const f=a.createElement("tableColumnGroup");u.forEach(m=>a.appendElement("tableColumn",{columnWidth:m},f)),a.append(f,i)}})}}function dRe(n){return e=>e.on("element:colgroup",(t,r,i)=>{const s=r.modelCursor.findAncestor("table"),o=ap(s);if(!o)return;const a=lp(o),l=n.getColumns(s);let u=aIe(o,i.writer);u=Array.from({length:l},(f,m)=>u[m]||"auto"),(u.length!=a.length||u.includes("auto"))&&sH(a,o,wA(u),i.writer)},{priority:"low"})}function fRe(){return n=>n.on("insert:table",(e,t,r)=>{const i=r.writer,s=t.item,o=r.mapper.toViewElement(s),a=o.is("element","table")?o:Array.from(o.getChildren()).find(u=>u.is("element","table"));ap(s)?i.addClass("ck-table-resized",a):i.removeClass("ck-table-resized",a)},{priority:"low"})}function hRe(){return n=>{n.on("element:table",(e,t,r)=>{r.consumable.consume(t.viewItem,{classes:"ck-table-resized"})})}}const zM=gh("px");class mRe extends ee{_isResizingActive;_resizingData;_domEmitter;_tableUtilsPlugin;_initialMouseEventData=null;static get requires(){return[cp,Or]}static get pluginName(){return"TableColumnResizeEditing"}static get licenseFeatureCode(){return"TCR"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}constructor(e){super(e),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(Ei()),this._tableUtilsPlugin=e.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(t,r,i)=>{const s=i?"removeClass":"addClass";e.editing.view.change(o=>{for(const a of e.editing.view.document.roots)o[s]("ck-column-resize_disabled",e.editing.view.document.getRoot(a.rootName))})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const e=this.editor,t=e.plugins.get("TableColumnResize");e.plugins.get("TableEditing").registerAdditionalSlot({filter:s=>s.is("element","tableColumnGroup"),positionOffset:0});const i=new uRe(e);e.commands.add("resizeTableWidth",i),e.commands.add("resizeColumnWidths",i),this.bind("_isResizingAllowed").to(e,"isReadOnly",t,"isEnabled",i,"isEnabled",(s,o,a)=>!s&&o&&a)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(e){return ap(e)}getTableColumnElements(e){return lp(e)}getTableColumnsWidths(e){return oIe(e)}_extendSchema(){const e=this.editor.model.schema;e.extend("table",{allowAttributes:["tableWidth"]}),e.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),e.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0}),e.setAttributeProperties("columnWidth",{isFormatting:!0})}_registerPostFixer(){const t=this.editor.model;t.document.registerPostFixer(s=>{let o=!1;for(const a of ZPe(t)){const l=this.getColumnGroupElement(a),u=this.getTableColumnElements(l),f=this.getTableColumnsWidths(l);let m=wA(f);m=r(m,a,this),!_M(f,m)&&(sH(u,l,m,s),o=!0)}return o});function r(s,o,a){const l=a._tableUtilsPlugin.getColumns(o);if(l-s.length===0)return s;const f=s.map(p=>Number(p.replace("%",""))),m=i(a.editor.model.document.differ,o);for(const p of m){const y=l-f.length;if(y===0)continue;const v=y>0,w=a._tableUtilsPlugin.getCellLocation(p).column;if(v){const E=eIe(o,a.editor),k=rIe(y,E);f.splice(w,0,...k)}else{const E=f.splice(w,Math.abs(y));f[w]+=x0(E)}}return f.map(p=>p+"%")}function i(s,o){const a=new Set;for(const l of s.getChanges())if(l.type=="insert"&&l.position.nodeAfter&&l.position.nodeAfter.name=="tableCell"&&l.position.nodeAfter.getAncestors().includes(o))a.add(l.position.nodeAfter);else if(l.type=="remove"){const u=l.position.nodeBefore||l.position.nodeAfter;u.name=="tableCell"&&u.getAncestors().includes(o)&&a.add(u)}return a}}_registerConverters(){const t=this.editor.conversion;t.for("upcast").attributeToAttribute({view:{name:/^(figure|table)$/,styles:{width:/[\s\S]+/}},model:{key:"tableWidth",value:r=>{if(!r.parent.is("element","figure"))return r.getStyle("width")}}}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:r=>({name:"figure",key:"style",value:{width:r}})}),t.elementToElement({model:"tableColumnGroup",view:"colgroup"}),t.elementToElement({model:"tableColumn",view:"col"}),t.for("downcast").add(fRe()),t.for("upcast").add(hRe()),t.for("upcast").add(dRe(this._tableUtilsPlugin)),t.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:r=>{const i=r.getStyle("width");return!i||!i.endsWith("%")&&!i.endsWith("pt")?"auto":i}}}),t.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),t.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:r=>({key:"style",value:{width:r}})})}_registerResizingListeners(){const e=this.editor.editing.view;e.addObserver(lH),e.document.on("mouseover",this._onMouseOverHandler.bind(this),{priority:"high"}),e.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),e.document.on("mouseout",this._onMouseOutHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(qe.window.document,"mousemove",yPe(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(qe.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_recalculateResizerElement(e){const t=this.editor,r=t.editing.view.domConverter,i=r.mapViewToDom(e.findAncestor("table")),s=r.mapViewToDom(e.findAncestor(f=>["td","th"].includes(f.name))),o=new bt(i),a=new bt(s),l=zM(Number((o.top-a.top).toFixed(4))),u=zM(Number((a.bottom-o.bottom).toFixed(4)));t.editing.view.change(f=>{f.setStyle("top",l,e),f.setStyle("bottom",u,e)})}_resetResizerStyles(e){this.editor.editing.view.change(t=>{t.removeStyle("top",e),t.removeStyle("bottom",e)})}_onMouseOverHandler(e,t){const r=t.target;r.hasClass("ck-table-column-resizer")&&this._isResizingAllowed&&this._recalculateResizerElement(r)}_onMouseOutHandler(e,t){const r=t.target;r.hasClass("ck-table-column-resizer")&&this._isResizingAllowed&&(this._isResizingActive||this._resetResizerStyles(r))}_onMouseDownHandler(e,t){const r=t.target;if(!r.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const i=this.editor,s=i.editing.mapper.toModelElement(r.findAncestor("figure"));i.model.canEditAt(s)&&(t.preventDefault(),e.stop(),this._initialMouseEventData=t)}_startResizingAfterThreshold(){const e=this._initialMouseEventData,{target:t}=e,r=this.editor.editing.mapper.toModelElement(t.findAncestor("figure")),i=t.findAncestor("table"),s=o(r,this._tableUtilsPlugin,this.editor);Array.from(i.getChildren()).find(u=>u.is("element","colgroup"))||this.editor.editing.view.change(u=>{a(u,s,i)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(e,s),this.editor.editing.view.change(u=>l(u,i,this._resizingData));function o(u,f,m){const p=Array(f.getColumns(u)),y=new Xt(u);for(const v of y){const w=m.editing.mapper.toViewElement(v.cell),E=m.editing.view.domConverter.mapViewToDom(w),k=sIe(E);(!p[v.column]||k<p[v.column])&&(p[v.column]=Mi(k))}return p}function a(u,f,m){const p=u.createContainerElement("colgroup");for(let y=0;y<f.length;y++){const v=u.createEmptyElement("col"),w=`${Mi(f[y]/x0(f)*100)}%`;u.setStyle("width",w,v),u.insert(u.createPositionAt(p,"end"),v)}u.insert(u.createPositionAt(m,0),p)}function l(u,f,m){const p=m.widths.viewFigureWidth/m.widths.viewFigureParentWidth;u.addClass("ck-table-resized",f),u.addClass("ck-table-column-resizer__active",m.elements.viewResizer),u.setStyle("width",`${Mi(p*100)}%`,f.findAncestor("figure"))}}_onMouseMoveHandler(e,t){if(this._initialMouseEventData){const S=this._initialMouseEventData.domEvent;if(Math.abs(t.clientX-S.clientX)>=QPe)this._startResizingAfterThreshold(),this._initialMouseEventData=null;else return}if(!this._isResizingActive)return;if(!this._isResizingAllowed){this._onMouseUpHandler();return}const{columnPosition:r,flags:{isRightEdge:i,isTableCentered:s,isLtrContent:o},elements:{viewFigure:a,viewLeftColumn:l,viewRightColumn:u,viewResizer:f},widths:{viewFigureParentWidth:m,tableWidth:p,leftColumnWidth:y,rightColumnWidth:v}}=this._resizingData,w=-y+fT,E=i?m-p:v-fT,k=(o?1:-1)*(i&&s?2:1),T=nIe((t.clientX-r)*k,Math.min(w,0),Math.max(E,0));T!==0&&(this.editor.editing.view.change(S=>{const P=Mi((y+T)*100/p);if(S.setStyle("width",`${P}%`,l),i){const I=Mi((p+T)*100/m);S.setStyle("width",`${I}%`,a)}else{const I=Mi((v-T)*100/p);S.setStyle("width",`${I}%`,u)}}),this._recalculateResizerElement(f))}_onMouseUpHandler(){if(this._initialMouseEventData=null,!this._isResizingActive)return;const{viewResizer:e,modelTable:t,viewFigure:r,viewColgroup:i}=this._resizingData.elements,s=this.editor,o=s.editing.view,a=this.getColumnGroupElement(t),l=Array.from(i.getChildren()).filter(E=>E.is("view:element")),u=a?this.getTableColumnsWidths(a):null,f=l.map(E=>E.getStyle("width")),m=!_M(u,f),p=t.getAttribute("tableWidth"),y=r.getStyle("width"),v=p!==y;(m||v)&&(this._isResizingAllowed?s.execute("resizeTableWidth",{table:t,tableWidth:`${Mi(y)}%`,columnWidths:f}):o.change(E=>{if(u)for(const k of l)E.setStyle("width",u.shift(),k);else E.remove(i);v&&(p?E.setStyle("width",p,r):E.removeStyle("width",r)),!u&&!p&&E.removeClass("ck-table-resized",[...r.getChildren()].find(k=>k.name==="table"))})),o.change(E=>{E.removeClass("ck-table-column-resizer__active",e)}),o.domConverter.mapViewToDom(e).matches(":hover")||this._resetResizerStyles(e),this._isResizingActive=!1,this._resizingData=null}_getResizingData(e,t){const r=this.editor,i=e.domEvent.clientX,s=e.target,o=s.findAncestor("td")||s.findAncestor("th"),a=r.editing.mapper.toModelElement(o),l=a.findAncestor("table"),u=tIe(a,this._tableUtilsPlugin).rightEdge,f=this._tableUtilsPlugin.getColumns(l)-1,m=u===f,p=!l.hasAttribute("tableAlignment"),y=r.locale.contentLanguageDirection!=="rtl",v=o.findAncestor("table"),w=v.findAncestor("figure"),E=[...v.getChildren()].find(F=>F.is("element","colgroup")),k=E.getChild(u),T=m?void 0:E.getChild(u+1),S=hT(r.editing.view.domConverter.mapViewToDom(w.parent)),P=hT(r.editing.view.domConverter.mapViewToDom(w)),I=iH(l,r),R=t[u],A=m?void 0:t[u+1];return{columnPosition:i,flags:{isRightEdge:m,isTableCentered:p,isLtrContent:y},elements:{viewResizer:s,modelTable:l,viewFigure:w,viewColgroup:E,viewLeftColumn:k,viewRightColumn:T},widths:{viewFigureParentWidth:S,viewFigureWidth:P,tableWidth:I,leftColumnWidth:R,rightColumnWidth:A}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(e=>{e.on("insert:tableCell",(t,r,i)=>{const s=r.item,o=i.mapper.toViewElement(s),a=i.writer;a.insert(a.createPositionAt(o,"end"),a.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}class gRe extends ee{static get requires(){return[mRe,vH]}static get pluginName(){return"TableColumnResize"}static get isOfficialPlugin(){return!0}}class Xu extends lt{attributeName;_defaultValue;_defaultContentTableValue;_defaultLayoutTableValue;constructor(e,t,r){super(e),this.attributeName=t,this._defaultContentTableValue=r,this._defaultLayoutTableValue=t==="tableBorderStyle"?"none":void 0}refresh(){const t=this.editor.model.document.selection,r=nc(t);this._defaultValue=!r||r.getAttribute("tableType")!=="layout"?this._defaultContentTableValue:this._defaultLayoutTableValue,this.isEnabled=!!r,this.value=this._getValue(r)}execute(e={}){const t=this.editor.model,r=t.document.selection,{value:i,batch:s}=e,o=nc(r),a=this._getValueToSet(i);t.enqueueChange(s,l=>{a?l.setAttribute(this.attributeName,a,o):l.removeAttribute(this.attributeName,o)})}_getValue(e){if(!e)return;const t=e.getAttribute(this.attributeName);if(t!==this._defaultValue)return t}_getValueToSet(e){if(e!==this._defaultValue)return e}}class pRe extends Xu{constructor(e,t){super(e,"tableBackgroundColor",t)}}class bRe extends Xu{constructor(e,t){super(e,"tableBorderColor",t)}_getValue(e){if(!e)return;const t=Yu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class yRe extends Xu{constructor(e,t){super(e,"tableBorderStyle",t)}_getValue(e){if(!e)return;const t=Yu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class wRe extends Xu{constructor(e,t){super(e,"tableBorderWidth",t)}_getValue(e){if(!e)return;const t=Yu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}_getValueToSet(e){const t=Ku(e,"px");if(t!==this._defaultValue)return t}}class vRe extends Xu{constructor(e,t){super(e,"tableWidth",t)}_getValueToSet(e){if(e=Ku(e,"px"),e!==this._defaultValue)return e}}class _Re extends Xu{constructor(e,t){super(e,"tableHeight",t)}_getValueToSet(e){if(e=Ku(e,"px"),e!==this._defaultValue)return e}}class xRe extends Xu{constructor(e,t){super(e,"tableAlignment",t)}}class ERe extends ee{static get pluginName(){return"TablePropertiesEditing"}static get licenseFeatureCode(){return"TCP"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}static get requires(){return[cp]}init(){const e=this.editor,t=e.model.schema,r=e.conversion;e.config.define("table.tableProperties.defaultProperties",{});const i=bA(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),s=e.config.get("table.tableProperties.alignment.useInlineStyles")!==!1;if(e.data.addStyleProcessorRules(jV),e.data.addStyleProcessorRules($V),TRe(e,{color:i.borderColor,style:i.borderStyle,width:i.borderWidth}),e.commands.add("tableBorderColor",new bRe(e,i.borderColor)),e.commands.add("tableBorderStyle",new yRe(e,i.borderStyle)),e.commands.add("tableBorderWidth",new wRe(e,i.borderWidth)),e.config.get("experimentalFlags.useExtendedTableBlockAlignment")?SRe(t,r,i.alignment,s):CRe(t,r,i.alignment),e.commands.add("tableAlignment",new xRe(e,i.alignment)),$M(t,r,{modelAttribute:"tableWidth",styleName:"width",attributeName:"width",attributeType:"length",defaultValue:i.width}),e.commands.add("tableWidth",new vRe(e,i.width)),$M(t,r,{modelAttribute:"tableHeight",styleName:"height",attributeName:"height",attributeType:"length",defaultValue:i.height}),e.commands.add("tableHeight",new _Re(e,i.height)),e.data.addStyleProcessorRules(RC),PRe(t,r,{modelAttribute:"tableBackgroundColor",styleName:"background-color",attributeName:"bgcolor",attributeType:"color",defaultValue:i.backgroundColor}),e.commands.add("tableBackgroundColor",new pRe(e,i.backgroundColor)),e.config.get("experimentalFlags.useExtendedTableBlockAlignment")){const o=e.editing.view.document;this.listenTo(o,"clipboardOutput",(a,l)=>{e.editing.view.change(u=>{for(const{item:f}of u.createRangeIn(l.content))kRe(f,u);l.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(l.content))})},{priority:"lowest"})}}}function kRe(n,e){if(!n.is("element","table"))return;const t=n.getAttribute("align"),r=n.getStyle("float"),i=n.getStyle("margin-left"),s=n.getStyle("margin-right");if(t&&t==="center"||r&&r==="right"&&t&&t==="right"){HM(e,t,n);return}r===void 0&&i==="auto"&&s==="0"&&HM(e,"right",n)}function HM(n,e,t){const r=n.createPositionBefore(t),i=n.createContainerElement("div",{align:e},t);n.insert(r,i)}function TRe(n,e){const{conversion:t}=n,{schema:r}=n.model,i={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};r.extend("table",{allowAttributes:Object.values(i)});for(const s of Object.values(i))r.setAttributeProperties(s,{isFormatting:!0});lT(n,"table",i,e),Vb(t,{modelAttribute:i.color,styleName:"border-color"}),Vb(t,{modelAttribute:i.style,styleName:"border-style"}),Vb(t,{modelAttribute:i.width,styleName:"border-width"})}function SRe(n,e,t,r){n.extend("table",{allowAttributes:["tableAlignment"]}),n.setAttributeProperties("tableAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment",values:["left","center","right","blockLeft","blockRight"]},view:{left:r?{key:"style",value:{float:"left","margin-right":"var(--ck-content-table-style-spacing, 1.5em)"}}:{key:"class",value:ii.left.className},right:r?{key:"style",value:{float:"right","margin-left":"var(--ck-content-table-style-spacing, 1.5em)"}}:{key:"class",value:ii.right.className},center:r?{key:"style",value:{"margin-left":"auto","margin-right":"auto"}}:{key:"class",value:ii.center.className},blockLeft:r?{key:"style",value:{"margin-left":"0","margin-right":"auto"}}:{key:"class",value:ii.blockLeft.className},blockRight:r?{key:"style",value:{"margin-left":"auto","margin-right":"0"}}:{key:"class",value:ii.blockRight.className}},converterPriority:"high"}),EPe.forEach(i=>{e.for("upcast").attributeToAttribute({view:i.view,model:{key:"tableAlignment",value:(s,o,a)=>{if(IRe(s))return;const l=_o(t,"",a),u=i.getAlign(s),f=i.getConsumables(s);if(o.consumable.consume(s,f),u!==l)return u}}})}),e.for("upcast").add(ARe(t))}function CRe(n,e,t){const r=/^(left|center|right)$/,i=/^(left|none|right)$/;n.extend("table",{allowAttributes:["tableAlignment"]}),n.setAttributeProperties("tableAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment",values:["left","center","right"]},view:{left:{key:"style",value:{float:"left"}},right:{key:"style",value:{float:"right"}},center:(s,o,a)=>({key:"style",value:a.item.getAttribute("tableType")!=="layout"?{float:"none"}:{"margin-left":"auto","margin-right":"auto"}})},converterPriority:"high"}),e.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:i}},model:{key:"tableAlignment",value:(s,o,a)=>{if(s.name=="figure"&&!s.hasClass("table"))return;const l=_o(t,"",a);let u=s.getStyle("float");if(u==="none"&&(u="center"),u!==l)return u;o.consumable.consume(s,{styles:"float"})}}}).attributeToAttribute({view:{name:/^(table|figure)$/,styles:{"margin-left":"auto","margin-right":"auto"}},model:{key:"tableAlignment",value:(s,o,a)=>{if(s.name=="figure"&&!s.hasClass("table"))return;const l=_o(t,"",a),u="center";if(u!==l)return u;o.consumable.consume(s,{styles:["margin-left","margin-right"]})}}}).attributeToAttribute({view:{name:"table",attributes:{align:r}},model:{key:"tableAlignment",value:(s,o,a)=>{const l=_o(t,"",a),u=s.getAttribute("align");if(u!==l)return u;o.consumable.consume(s,{attributes:"align"})}}})}function ARe(n){return e=>{e.on("element:div",(t,r,i)=>{if(!i.consumable.test(r.viewItem,{name:!0,attributes:"align"}))return;const s=nH(r.viewItem);if(!s||!i.consumable.test(s,{name:!0}))return;i.consumable.consume(r.viewItem,{name:!0,attributes:"align"});const o=i.convertItem(s,r.modelCursor),a=_n(o.modelRange.getItems());if(!a||!a.is("element","table")){i.consumable.revert(r.viewItem,{name:!0,attributes:"align"}),o.modelRange&&!o.modelRange.isCollapsed&&(r.modelRange=o.modelRange,r.modelCursor=o.modelCursor);return}const l=r.viewItem.getAttribute("align"),u=s.getAttribute("align"),f=_o(n,"",r),m=NRe(l,u,f);m&&i.writer.setAttribute("tableAlignment",m,a),i.convertChildren(r.viewItem,i.writer.createPositionAt(a,"end")),i.updateConversionResult(a,r)})}}function NRe(n,e,t){if(n)switch(n){case"right":return e==="right"?"right":e==="left"?"left":"blockRight";case"center":return"center";case"left":return e===void 0?"blockLeft":"left";default:return t}}function PRe(n,e,t){const{modelAttribute:r}=t;n.extend("table",{allowAttributes:[r]}),n.setAttributeProperties(r,{isFormatting:!0}),gA(e,{viewElement:"table",...t}),Vb(e,t)}function $M(n,e,t){const{modelAttribute:r}=t;n.extend("table",{allowAttributes:[r]}),n.setAttributeProperties(r,{isFormatting:!0}),gA(e,{viewElement:/^(table|figure)$/,shouldUpcast:i=>!(i.name=="table"&&i.parent.name=="figure"||i.name=="figure"&&!i.hasClass("table")),...t}),Ag(e,{modelElement:"table",...t})}function IRe(n){return n.name=="figure"&&!n.hasClass("table")}class RRe extends Le{options;focusTracker;keystrokes;children;borderStyleDropdown;borderWidthInput;borderColorInput;backgroundInput;widthInput;heightInput;alignmentToolbar;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=t;const{borderStyleDropdown:r,borderWidthInput:i,borderColorInput:s,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:a,backgroundInput:l}=this._createBackgroundFields(),{widthInput:u,operatorLabel:f,heightInput:m,dimensionsLabel:p}=this._createDimensionFields(),{alignmentToolbar:y,alignmentLabel:v}=this._createAlignmentFields();this.focusTracker=new Yt,this.keystrokes=new bn,this.children=this.createCollection(),this.borderStyleDropdown=r,this.borderWidthInput=i,this.borderColorInput=s,this.backgroundInput=l,this.widthInput=u,this.heightInput=m,this.alignmentToolbar=y;const{saveButtonView:w,cancelButtonView:E}=this._createActionButtons();this.saveButtonView=w,this.cancelButtonView=E,this._focusables=new br,this._focusCycler=new Tr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new bl(e,{label:this.t("Table properties")})),this.children.add(new jr(e,{labelView:o,children:[o,r,s,i],class:"ck-table-form__border-row"})),this.children.add(new jr(e,{labelView:a,children:[a,l],class:"ck-table-form__background-row"})),this.children.add(new jr(e,{children:[new jr(e,{labelView:p,children:[p,u,f,m],class:"ck-table-form__dimensions-row"}),new jr(e,{labelView:v,children:[v,y],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new jr(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableProperties,t={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},r=tw({colorConfig:this.options.borderColors,columns:5,defaultColorValue:t.color,colorPickerConfig:this.options.colorPickerConfig}),i=this.locale,s=this.t,o=s("Style"),a=new zs(i);a.text=s("Border");const l=_A(s),u=new Kn(i,qC);u.set({label:o,class:"ck-table-form__border-style"}),u.fieldView.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),u.fieldView.buttonView.bind("label").to(this,"borderStyle",p=>l[p||"none"]),u.fieldView.on("execute",p=>{this.borderStyle=p.source._borderStyleValue}),u.bind("isEmpty").to(this,"borderStyle",p=>!p),vc(u.fieldView,mH(this,t.style),{role:"menu",ariaLabel:o});const f=new Kn(i,gs);f.set({label:s("Width"),class:"ck-table-form__border-width"}),f.fieldView.bind("value").to(this,"borderWidth"),f.bind("isEnabled").to(this,"borderStyle",lb),f.fieldView.on("input",()=>{this.borderWidth=f.fieldView.element.value});const m=new Kn(i,r);return m.set({label:s("Color"),class:"ck-table-form__border-color"}),m.fieldView.bind("value").to(this,"borderColor"),m.bind("isEnabled").to(this,"borderStyle",lb),m.fieldView.on("input",()=>{this.borderColor=m.fieldView.value}),this.on("change:borderStyle",(p,y,v,w)=>{lb(v)||(this.borderColor="",this.borderWidth=""),lb(w)||(this.borderColor=t.color,this.borderWidth=t.width)}),{borderRowLabel:a,borderStyleDropdown:u,borderColorInput:m,borderWidthInput:f}}_createBackgroundFields(){const e=this.locale,t=this.t,r=new zs(e);r.text=t("Background");const i=tw({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),s=new Kn(e,i);return s.set({label:t("Color"),class:"ck-table-properties-form__background"}),s.fieldView.bind("value").to(this,"backgroundColor"),s.fieldView.on("input",()=>{this.backgroundColor=s.fieldView.value}),{backgroundRowLabel:r,backgroundInput:s}}_createDimensionFields(){const e=this.locale,t=this.t,r=new zs(e);r.text=t("Dimensions");const i=new Kn(e,gs);i.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),i.fieldView.bind("value").to(this,"width"),i.fieldView.on("input",()=>{this.width=i.fieldView.element.value});const s=new Le(e);s.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const o=new Kn(e,gs);return o.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),o.fieldView.bind("value").to(this,"height"),o.fieldView.on("input",()=>{this.height=o.fieldView.element.value}),{dimensionsLabel:r,widthInput:i,operatorLabel:s,heightInput:o}}_createAlignmentFields(){const e=this.locale,t=this.t,r=new zs(e);r.text=t("Alignment");const i=new dc(e);return i.set({role:"radiogroup",isCompact:!0,ariaLabel:t("Table alignment toolbar")}),bT({view:this,icons:{left:BC,center:By,right:Vy},toolbar:i,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:r,alignmentToolbar:i}}_createActionButtons(){const e=this.locale,t=this.t,r=new et(e),i=new et(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return r.set({label:t("Save"),icon:Tv,class:"ck-button-save",type:"submit",withText:!0}),r.bind("isEnabled").toMany(s,"errorText",(...o)=>o.every(a=>!a)),i.set({label:t("Cancel"),icon:kv,class:"ck-button-cancel",withText:!0}),i.delegate("execute").to(this,"cancel"),{saveButtonView:r,cancelButtonView:i}}get _alignmentLabels(){const e=this.locale,t=this.t,r=t("Align table to the left"),i=t("Center table"),s=t("Align table to the right");return e.uiLanguageDirection==="rtl"?{right:s,center:i,left:r}:{left:r,center:i,right:s}}}function lb(n){return n!=="none"}const ORe=500,WM={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class MRe extends ee{_defaultContentTableProperties;_defaultLayoutTableProperties;_balloon;view=null;_viewWithContentTableDefaults=null;_viewWithLayoutTableDefaults=null;_undoStepBatch;_isReady;static get requires(){return[No]}static get pluginName(){return"TablePropertiesUI"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("table.tableProperties",{borderColors:ew,backgroundColors:ew})}init(){const e=this.editor;this._defaultContentTableProperties=bA(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._defaultLayoutTableProperties=Dv(),this._balloon=e.plugins.get(No),e.ui.componentFactory.add("tableProperties",()=>this._createTablePropertiesButton())}_createTablePropertiesButton(){const e=this.editor,t=e.t,r=new et(e.locale);r.set({label:t("Table properties"),icon:Q_e,tooltip:!0}),this.listenTo(r,"execute",()=>this._showView());const i=Object.values(WM).map(s=>e.commands.get(s));return r.bind("isEnabled").toMany(i,"isEnabled",(...s)=>s.some(o=>o)),r}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(e){const t=this.editor,r=t.config.get("table.tableProperties"),i=m0(r.borderColors),s=h0(t.locale,i),o=m0(r.backgroundColors),a=h0(t.locale,o),l=r.colorPicker!==!1,u=new RRe(t.locale,{borderColors:s,backgroundColors:a,defaultTableProperties:e,colorPickerConfig:l?r.colorPicker||{}:!1}),f=t.t;u.render(),this.listenTo(u,"submit",()=>{this._hideView()}),this.listenTo(u,"cancel",()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()}),u.keystrokes.set("Esc",(y,v)=>{this._hideView(),v()}),$u({emitter:u,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const m=dH(f),p=fH(f);return u.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),u.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:u.borderColorInput,commandName:"tableBorderColor",errorText:m,validator:Zy})),u.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:u.borderWidthInput,commandName:"tableBorderWidth",errorText:p,validator:hH})),u.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:u.backgroundInput,commandName:"tableBackgroundColor",errorText:m,validator:Zy})),u.on("change:width",this._getValidatedPropertyChangeCallback({viewField:u.widthInput,commandName:"tableWidth",errorText:p,validator:Ng})),u.on("change:height",this._getValidatedPropertyChangeCallback({viewField:u.heightInput,commandName:"tableHeight",errorText:p,validator:Ng})),u.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),u}_fillViewFormFromCommandValues(){const e=this.editor.commands,t=e.get("tableBorderStyle");Object.entries(WM).map(([r,i])=>{const s=r,o=this.view===this._viewWithContentTableDefaults?this._defaultContentTableProperties[s]||"":this._defaultLayoutTableProperties[s]||"";return[s,e.get(i).value||o]}).forEach(([r,i])=>{(r==="borderColor"||r==="borderWidth")&&t.value==="none"||this.view.set(r,i)}),this._isReady=!0}_showView(){const e=this.editor,t=Qy(e.editing.view.document.selection),r=t&&e.editing.mapper.toModelElement(t),i=!r||r.getAttribute("tableType")!=="layout";i&&!this._viewWithContentTableDefaults?this._viewWithContentTableDefaults=this._createPropertiesView(this._defaultContentTableProperties):!i&&!this._viewWithLayoutTableDefaults&&(this._viewWithLayoutTableDefaults=this._createPropertiesView(this._defaultLayoutTableProperties)),this.view=i?this._viewWithContentTableDefaults:this._viewWithLayoutTableDefaults,this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:bH(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,t=e.editing.view.document;Qy(t.selection)?this._isViewVisible&&pH(e,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(t,r,i)=>{this._isReady&&this.editor.execute(e,{value:i,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:t,viewField:r,validator:i,errorText:s}=e,o=mA(()=>{r.errorText=s},ORe);return(a,l,u)=>{o.cancel(),this._isReady&&(i(u)?(this.editor.execute(t,{value:u,batch:this._undoStepBatch}),r.errorText=null):o())}}}class DRe extends ee{static get pluginName(){return"TableProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[ERe,MRe]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function FRe(n){n.document.registerPostFixer(e=>LRe(e,n))}function LRe(n,e){const t=e.document.differ.getChanges();let r=!1;for(const i of t){if(i.type!="insert")continue;const s=i.position.parent;if(s.is("element","table")||i.name=="table"){const o=i.name=="table"?i.position.nodeAfter:s,a=Array.from(o.getChildren()).filter(u=>u.is("element","caption")),l=a.shift();if(!l)continue;for(const u of a)n.move(n.createRangeIn(u),l,"end"),n.remove(u);l.nextSibling&&(n.move(n.createRangeOn(l),o,"end"),r=!0),r=!!a.length||r}}return r}function jM(n){return!!n&&n.is("element","table")}function wT(n){for(const e of n.getChildren())if(e.is("element","caption"))return e;return null}function BRe(n){const e=nc(n);return e?wT(e):null}function VRe(n){const e=n.parent;return n.name=="figcaption"&&e&&e.is("element","figure")&&e.hasClass("table")?{name:!0}:n.name=="caption"&&e&&e.is("element","table")?{name:!0}:null}class URe extends lt{refresh(){const e=this.editor,t=nc(e.model.document.selection);this.isEnabled=!!t&&e.model.schema.checkChild(t,"caption"),this.isEnabled?this.value=!!wT(t):this.value=!1}execute({focusCaptionOnShow:e=!1}={}){this.editor.model.change(t=>{this.value?this._hideTableCaption(t):this._showTableCaption(t,e)})}_showTableCaption(e,t){const r=this.editor.model,i=nc(r.document.selection),a=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(i)||e.createElement("caption");r.insertContent(a,i,"end"),t&&e.setSelection(a,"in")}_hideTableCaption(e){const t=this.editor.model,r=nc(t.document.selection),i=this.editor.plugins.get("TableCaptionEditing"),s=wT(r);i._saveCaption(r,s),t.deleteContent(e.createSelection(s,"on"))}}class zRe extends ee{_savedCaptionsMap=new WeakMap;static get pluginName(){return"TableCaptionEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,r=e.editing.view,i=e.t,s=e.config.get("table.tableCaption.useCaptionElement");t.isRegistered("caption")?t.extend("caption",{allowIn:"table"}):t.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleTableCaption",new URe(this.editor)),s&&e.plugins.get("TableEditing").registerAdditionalSlot({filter:a=>a.is("element","caption"),positionOffset:"end"}),e.conversion.for("upcast").elementToElement({view:VRe,model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>jM(o.parent)?a.createContainerElement(s?"caption":"figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!jM(o.parent))return null;const l=a.createEditableElement(s?"caption":"figcaption");return a.setCustomProperty("tableCaption",!0,l),l.placeholder=i("Enter table caption"),wC({view:r,element:l,keepOnFocus:!0}),XC(l,a)}}),FRe(e.model)}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?gn.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}}class HRe extends ee{static get pluginName(){return"TableCaptionUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,r=e.t;e.ui.componentFactory.add("toggleTableCaption",i=>{const s=e.commands.get("toggleTableCaption"),o=new et(i);return o.set({icon:u9,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.bind("label").to(s,"value",a=>r(a?"Toggle caption off":"Toggle caption on")),this.listenTo(o,"execute",()=>{if(e.execute("toggleTableCaption",{focusCaptionOnShow:!0}),s.value){const a=BRe(e.model.document.selection),l=e.editing.mapper.toViewElement(a);if(!l)return;t.scrollToTheSelection(),t.change(u=>{u.addClass("table__caption_highlighted",l)})}e.editing.view.focus()}),o})}}class $Re extends ee{static get pluginName(){return"TableCaption"}static get isOfficialPlugin(){return!0}static get requires(){return[zRe,HRe]}}const WRe={toolbar:{items:["undo","redo","|","heading","style","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","|","link","insertTable","highlight","blockQuote","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[S9,_Ee,qEe,c5e,Cz,KEe,oEe,Cke,QEe,ESe,nke,zSe,iCe,RCe,ACe,mCe,kCe,t5e,VCe,jCe,QCe,w5e,T5e,_5e,q5e,r4e,p4e,b4e,$5e,_4e,E4e,ske,s3e,f3e,G3e,iNe,Pv,wNe,TU,TNe,$z,Gz,SNe,qz,jz,Wz,lke,WNe,dke,mke,HIe,$Re,cRe,gRe,DRe,$Ie,BEe,gNe,bke,tA],balloonToolbar:["bold","italic","|","link","|","bulletedList","numberedList"],fontFamily:{supportAllValues:!0,options:["default","Arial","Times New Roman","Trebuchet MS","Courier New","Consolas","Monaco","Oswald"]},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},htmlSupport:{allow:[{name:/^.*$/,styles:!0,attributes:!0,classes:!0}]},image:{toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","resizeImage"]},initialData:"",link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},menuBar:{isVisible:!0},placeholder:"Type or paste your content here!",style:{definitions:[{name:"Article category",element:"h3",classes:["category"]},{name:"Title",element:"h2",classes:["document-title"]},{name:"Subtitle",element:"h3",classes:["document-subtitle"]},{name:"Info box",element:"p",classes:["info-box"]},{name:"Side quote",element:"blockquote",classes:["side-quote"]},{name:"Marker",element:"span",classes:["marker"]},{name:"Spoiler",element:"span",classes:["spoiler"]},{name:"Code (dark)",element:"pre",classes:["fancy-code","fancy-code-dark"]},{name:"Code (bright)",element:"pre",classes:["fancy-code","fancy-code-bright"]}]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]}};function xA({name:n,control:e,hotelId:t=1,type:r="thumbnail",label:i,disabled:s=!1,onChange:o}){const a=O.useRef(null),l=O.useRef(null),u=O.useRef(null),f=O.useRef(null),[m,p]=O.useState(!1),{field:{value:y,onChange:v,onBlur:w,ref:E},fieldState:{invalid:k,error:T}}=MS({name:n,control:e});O.useEffect(()=>(p(!0),()=>p(!1)),[]);function S(I){return{upload:()=>new Promise((R,A)=>{I.file.then(F=>{const V=new FormData;V.append("myFiles",F),zf.UploadFileApi(V).then(async K=>{if(K&&K.DT){const re=await D0(K.DT);R({default:re})}else A("Upload failed: No data received")}).catch(A)}).catch(A)})}}function P(I){I.plugins.get("FileRepository").createUploadAdapter=R=>S(R)}return g.createElement(aB,{fullWidth:!0,size:"medium",error:k},i&&g.createElement(kk,{gutterBottom:!0,variant:"body2",fontWeight:600,color:"text.secondary"},i),g.createElement("div",{className:"main-container"},g.createElement("div",{className:"editor-container editor-container_document-editor editor-container_include-style",ref:a},g.createElement("div",{className:"editor-container__menu-bar",ref:l}),g.createElement("div",{className:"editor-container__toolbar",ref:u}),g.createElement("div",{className:"editor-container__editor-wrapper"},g.createElement("div",{className:"editor-container__editor"},g.createElement("div",{ref:f},m&&g.createElement(BS,{disabled:s,onReady:I=>{u.current?.appendChild(I.ui.view.toolbar.element),l.current?.appendChild(I.ui.view.menuBarView.element)},onAfterDestroy:()=>{Array.from(u.current?.children||[]).forEach(I=>I.remove()),Array.from(l.current?.children||[]).forEach(I=>I.remove())},editor:NSe,config:{...WRe,licenseKey:"GPL",extraPlugins:[P]},data:y,onChange:(I,R)=>{const A=R.getData();v(A),o?.(A)},onBlur:w,ref:E})))))),k&&g.createElement(lB,{error:!0},T?.message))}const rg={createProductImageApi:n=>mt.post("/product-image/create",n),getProductImagesByProductIdApi:n=>mt.get(`/product-image/byProductId/${n}`),updateProductImageApi:(n,e)=>mt.put(`/product-image/update/${n}`,e),deleteProductImageApi:n=>mt.delete(`/product-image/delete/${n}`)},qM=5*1024*1024;function jRe({productId:n,onClose:e}){const[t,r]=O.useState([]),[i,s]=O.useState(!1),[o,a]=O.useState(!1),[l,u]=O.useState(""),[f,m]=O.useState(null),[p,y]=O.useState("");O.useEffect(()=>{n&&v()},[n]);const v=async()=>{s(!0);try{const T=await rg.getProductImagesByProductIdApi(n);if(T?.DT){const S=await Promise.all(T.DT.map(async P=>{try{const I=await D0(P.image);return{...P,previewUrl:I}}catch(I){return console.error("Failed to load image:",I),{...P,previewUrl:P.image}}}));r(S)}}catch{be.error("Khng th ti danh sch nh")}finally{s(!1)}},w=async T=>{const S=T.target.files?.[0];if(S){if(S.size>qM){be.error(`Kch thc tp phi nh hn ${qM/(1024*1024)}MB.`),T.target.value=null;return}if(!S.type.startsWith("image/")){be.error("Vui lng chn mt tp hnh nh hp l."),T.target.value=null;return}a(!0);try{const P=new FormData;P.append("myFiles",S);const I=await zf.UploadFileApi(P);if(I&&I.DT){const R=I.DT,A={productId:n,color:l,image:R},F=await rg.createProductImageApi(A);F&&F.EC===0?(be.success("Thm nh thnh cng"),u(""),v()):be.error(F.EM||"Li khi to ProductImage")}else be.error("Khng th ly path file t server!")}catch(P){console.error("Upload error:",P),be.error("Li server")}finally{a(!1),T.target.value=null}}},E=async T=>{if(window.confirm("Bn c chc chn mun xa nh ny?"))try{const S=await rg.deleteProductImageApi(T);S&&S.EC===0&&(r(t.filter(P=>P.id!==T)),be.success(" xa nh"))}catch{be.error("Khng th xa nh")}},k=async T=>{try{const S=await rg.updateProductImageApi(T,{color:p});S&&S.EC===0&&(be.success("Cp nht mu thnh cng"),m(null),v())}catch{be.error("Li khi cp nht")}};return g.createElement("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},g.createElement("div",{className:"bg-white w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]"},g.createElement("div",{className:"flex justify-between items-center p-5 border-b bg-gray-50"},g.createElement("div",null,g.createElement("h2",{className:"font-bold text-xl text-gray-800"},"Qun l hnh nh"),g.createElement("p",{className:"text-xs text-gray-500 italic font-medium"},"ID sn phm: #",n)),g.createElement("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors"},g.createElement(Vf,{size:24}))),g.createElement("div",{className:"p-6 overflow-y-auto"},g.createElement("div",{className:"mb-8 p-4 border-2 border-dashed border-teal-200 rounded-xl bg-teal-50/30"},g.createElement("h3",{className:"text-sm font-bold text-teal-700 mb-3 uppercase tracking-wider"},"Ti nh mi"),g.createElement("div",{className:"flex flex-col md:flex-row gap-3"},g.createElement("input",{type:"text",placeholder:"Nhp mu (VD: en nhm, Trng...)",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-teal-500 outline-none",value:l,onChange:T=>u(T.target.value)}),g.createElement("label",{className:`flex-[1] flex items-center justify-center gap-2 px-4 py-2 rounded-lg cursor-pointer transition-all ${o?"bg-gray-300":"bg-teal-600 hover:bg-teal-700 text-white shadow-md"}`},o?g.createElement(FD,{className:"animate-spin",size:18}):g.createElement(Pu,{size:18}),g.createElement("span",{className:"font-medium"},o?"ang x l...":"Chn nh & Upload"),g.createElement("input",{type:"file",className:"hidden",onChange:w,disabled:o})))),i?g.createElement("div",{className:"text-center py-10 text-gray-500"},"ang ti d liu..."):g.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-6"},t.map(T=>g.createElement("div",{key:T.id,className:"group border rounded-xl overflow-hidden bg-white hover:shadow-xl transition-all border-gray-100"},g.createElement("div",{className:"relative aspect-square bg-gray-100"},g.createElement("img",{src:T.previewUrl||T.image,alt:"product",className:"w-full h-full object-cover cursor-pointer"}),g.createElement("button",{onClick:()=>E(T.id),className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity shadow-lg"},g.createElement(Iu,{size:16}))),g.createElement("div",{className:"p-3"},f===T.id?g.createElement("div",{className:"flex items-center gap-1"},g.createElement("input",{autoFocus:!0,className:"w-full border rounded px-2 py-1 text-xs",value:p,onChange:S=>y(S.target.value)}),g.createElement("button",{onClick:()=>k(T.id),className:"text-green-600"},g.createElement(sG,{size:16})),g.createElement("button",{onClick:()=>m(null),className:"text-gray-400"},g.createElement(Vf,{size:16}))):g.createElement("div",{className:"flex items-center justify-between"},g.createElement("span",{className:"text-sm font-medium text-gray-700 truncate"},"Mu: ",T.color),g.createElement("button",{onClick:()=>{m(T.id),y(T.color)},className:"text-gray-400 hover:text-teal-600 transition-colors"},g.createElement(OD,{size:14}))))))),!i&&t.length===0&&g.createElement("div",{className:"text-center py-20 bg-gray-50 rounded-xl border border-dashed"},g.createElement("p",{className:"text-gray-400"},"Cha c hnh nh no cho sn phm ny.")))))}const GM=5*1024*1024;function qRe({initialData:n,onClose:e,onSubmit:t}){const[r,i]=O.useState(!1),[s,o]=O.useState(""),[a,l]=O.useState(null),[u,f]=O.useState(!1),{control:m,handleSubmit:p,setValue:y,getValues:v}=LS({defaultValues:{name:"",price:0,description:"",detail:"",status:!0}});O.useEffect(()=>{const k=async T=>{try{i(!0);const S=await D0(T);o(S)}catch(S){console.error("Failed to load initial image:",S)}finally{i(!1)}};n&&(y("name",n.name||""),y("price",n.price||0),y("description",n.description||""),y("detail",n.detail||""),y("status",n.status??!0),l(null),o(n.image||""),n.image&&k(n.image))},[n,y]);const w=async k=>{const T=k.target.files?.[0];if(T){if(T.size>GM){be.error(`Kch thc tp phi nh hn ${GM/1024}KB.`),k.target.value=null;return}if(!T.type.startsWith("image/")){be.error("Vui lng chn mt tp hnh nh hp l."),k.target.value=null;return}i(!0);try{const S=new FormData;S.append("myFiles",T);const P=await zf.UploadFileApi(S);if(P&&P.DT){const I=P.DT,R=await zf.GetFileApi(I),A=new Blob([R],{type:"image/jpeg"}),F=URL.createObjectURL(A);l(I),o(F),be.success("Ti tp ln thnh cng!")}else be.error("Khng th ly path file t server!")}catch(S){console.error("Upload error:",S),be.error("Ti tp ln tht bi!")}finally{i(!1),k.target.value=null}}},E=p(k=>{t({...k,price:Number(k.price),image:a})});return g.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"},g.createElement("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden animate-in fade-in zoom-in duration-200"},g.createElement("div",{className:`${n?"bg-blue-600":"bg-teal-600"} p-4 flex justify-between items-center text-white`},g.createElement("h3",{className:"font-bold flex items-center gap-2"},n?g.createElement(OD,{size:20}):g.createElement(RD,{size:20}),n?"Chnh sa sn phm":"Thm sn phm mi"),g.createElement("button",{onClick:e,className:"hover:bg-black/20 rounded-full p-1 transition-colors"},g.createElement(Vf,{size:20}))),g.createElement("form",{className:"p-6 space-y-4 max-h-[80vh] overflow-y-auto",onSubmit:E},g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Tn sn phm"),g.createElement(us,{name:"name",control:m,render:({field:k})=>g.createElement("input",{...k,required:!0,type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"V d: iPhone 15 Pro Max..."})})),g.createElement("div",{className:"space-y-2"},g.createElement("label",{className:"block text-sm font-semibold text-gray-700"},"Hnh nh sn phm"),g.createElement("div",{className:"flex items-center gap-4"},g.createElement("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center overflow-hidden bg-gray-50"},s?g.createElement("img",{src:s,alt:"Preview",className:"w-full h-full object-cover"}):g.createElement(kN,{className:"text-gray-400",size:32})),g.createElement("div",{className:"flex-1"},g.createElement("input",{type:"file",id:"file-upload",className:"hidden",accept:"image/*",onChange:w,disabled:r}),g.createElement("div",{className:"flex items-center gap-6"},g.createElement("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer"},r&&g.createElement(cu,{className:"animate-spin mr-2",size:16}),s?"Thay i nh":"Chn nh"),g.createElement("button",{type:"button",onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-teal-600 text-white rounded-md text-xs font-semibold hover:bg-teal-700"},g.createElement(kN,{size:16,className:"mr-1"}),"Thm nh")),g.createElement("p",{className:"mt-1 text-xs text-gray-500"},"PNG, JPG, GIF ti a 5MB.")))),g.createElement("div",{className:"grid grid-cols-2 gap-4"},g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Gi bn (VN)"),g.createElement(us,{name:"price",control:m,render:({field:k})=>g.createElement("input",{...k,required:!0,type:"number",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 outline-none"})})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Trng thi"),g.createElement("label",{className:"relative inline-flex items-center cursor-pointer mt-2"},g.createElement(us,{name:"status",control:m,render:({field:k})=>g.createElement("input",{type:"checkbox",checked:k.value,onChange:k.onChange,className:"sr-only peer"})}),g.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"}),g.createElement("span",{className:"ml-3 text-sm font-medium text-gray-700"},g.createElement(us,{name:"status",control:m,render:({field:k})=>k.value?"ang bn":"Ngng bn"}))))),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"M t ngn"),g.createElement(us,{name:"description",control:m,render:({field:k})=>g.createElement("textarea",{...k,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 outline-none",rows:"2"})})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"M t chi tit"),g.createElement(xA,{name:"detail",control:m,label:""})),g.createElement("div",{className:"pt-4 flex gap-3"},g.createElement("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors"},"Hy b"),g.createElement("button",{type:"submit",disabled:r,className:`flex-1 px-4 py-2.5 text-white font-semibold rounded-lg shadow-md transition-colors ${r?"opacity-50":""} ${n?"bg-blue-600 hover:bg-blue-700":"bg-teal-600 hover:bg-teal-700"}`},n?"Cp nht":"Lu sn phm")))),u&&g.createElement(jRe,{productId:n?.id,onClose:()=>f(!1)}))}const pu={getListProductApi:(n,e,t="")=>mt.get(`/product/list?page=${n}&limit=${e}&keyword=${t}`),getProductByIdApi:n=>mt.get(`/product/byProductId/${n}`),createProductApi:n=>mt.post("/product/create",n),updateProductApi:(n,e)=>mt.put(`/product/update/${n}`,e),deleteProductApi:n=>mt.delete(`/product/delete/${n}`),getListProductDropdownApi:()=>mt.get("/product/dropdown"),filterProductApi:(n,e,t,r)=>mt.get(`/product/filter?page=${n}&limit=${e}&categoryId=${t}&priceProduct=${r}`)},YM={ProductList:[],ProductTotal:0,ProductDropdown:[]},Hb=Gs("product/getListProduct",async({page:n,limit:e,keyword:t},r)=>await pu.getListProductApi(n,e,t)),Pg=Gs("product/getListProductDropdown",async n=>await pu.getListProductDropdownApi()),_H=rh({name:"product",initialState:YM,reducers:{resetProduct:n=>YM},extraReducers:n=>{n.addCase(Hb.pending,e=>{}).addCase(Hb.fulfilled,(e,t)=>{e.ProductList=t.payload.DT.products,e.ProductTotal=t.payload.DT.total}).addCase(Hb.rejected,(e,t)=>{}),n.addCase(Pg.pending,e=>{}).addCase(Pg.fulfilled,(e,t)=>{e.ProductDropdown=t.payload.DT}).addCase(Pg.rejected,(e,t)=>{})}}),{resetProduct:y6e}=_H.actions,GRe=_H.reducer;function fa({imagePath:n,onClick:e,className:t,alt:r}){const[i,s]=O.useState(null);return O.useEffect(()=>{if(!n){s(null);return}let o=!0,a=null;return(async()=>{const u=await D0(n);o&&(a=u,s(u))})(),()=>{o=!1,a&&URL.revokeObjectURL(a)}},[n]),g.createElement("img",{src:i??"/no-image.png",alt:r||"image",className:t,onClick:e})}function YRe(){const n=gr(),[e,t]=O.useState(!1),[r,i]=O.useState(null),[s,o]=O.useState(1),[a,l]=O.useState(10),[u,f]=O.useState(!1),[m,p]=O.useState(""),{ProductList:y,ProductTotal:v}=Un(R=>R.product),w=Math.ceil(v/a),E=async()=>{f(!0);try{const R=await n(Hb({page:s,limit:a,keyword:m})).unwrap()}catch{be.error("Khng th ti danh sch sn phm")}finally{f(!1)}};O.useEffect(()=>{E()},[s,a,m]),O.useEffect(()=>{const R=setTimeout(()=>{o(1)},300);return()=>clearTimeout(R)},[m]);const k=()=>{i(null),t(!0)},T=R=>{i(R),t(!0)},S=async R=>{if(window.confirm(`Bn c chc chn mun xa sn phm "${R.name}" khng?`)){let A=await pu.deleteProductApi(R.id);A&&A.EC===0?(E(),be.success("Xa sn phm thnh cng!")):be.error(A.EM)}},P=async R=>{if(r){let A=await pu.updateProductApi(r.id,R);A&&A.EC===0?(E(),be.success("Cp nht sn phm thnh cng!")):be.error(A.EM)}else{let A=await pu.createProductApi(R);A&&A.EC===0?(E(),be.success("Thm sn phm thnh cng!")):be.error(A.EM)}t(!1)},I=()=>{const R=y.map((V,K)=>({STT:K+1,"Tn sn phm":V.name,"M t":V.description,Gi:V.price,"Trng thi":V.status?"Kinh doanh":"Ngng bn"})),A=y2.json_to_sheet(R),F=y2.book_new();y2.book_append_sheet(F,A,"Sn phm"),Bce(F,"Danh_sach_san_pham.xlsx")};return g.createElement("div",{className:"p-6 bg-gray-50 min-h-screen"},g.createElement("div",{className:"max-w-0xl mx-auto bg-white rounded-xl shadow-sm border border-gray-200"},g.createElement("div",{className:"p-6 border-b border-gray-200 flex flex-col md:flex-row md:items-center justify-between gap-4"},g.createElement("div",null,g.createElement("h1",{className:"text-2xl font-bold text-gray-800"},"Qun l kho hng"),g.createElement("p",{className:"text-sm text-gray-500"},"Xem v qun l thng tin cc sn phm trong h thng")),g.createElement("div",{className:"flex gap-2"},g.createElement("button",{onClick:I,className:"flex items-center gap-2 bg-white border border-gray-300 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors"},g.createElement(AD,{size:18})," Xut file"),g.createElement("button",{className:"flex items-center gap-2 bg-teal-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-teal-700 transition-colors",onClick:()=>k()},g.createElement(Pu,{size:18})," Thm mi"))),g.createElement("div",{className:"p-4 bg-gray-50/50 border-b border-gray-200 flex items-center gap-4"},g.createElement("div",{className:"relative flex-1 max-w-md"},g.createElement(S0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),g.createElement("input",{type:"text",placeholder:"Tm kim tn sn phm...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 outline-none",value:m,onChange:R=>p(R.target.value)}))),g.createElement("div",{className:"overflow-x-auto"},g.createElement("table",{className:"w-full text-left border-collapse"},g.createElement("thead",null,g.createElement("tr",{className:"bg-gray-50 text-gray-600 text-xs uppercase tracking-wider font-semibold"},g.createElement("th",{className:"px-6 py-4 text-center w-16"},"STT"),g.createElement("th",{className:"px-6 py-4"},"Sn phm"),g.createElement("th",{className:"px-6 py-4"},"M t"),g.createElement("th",{className:"px-6 py-4"},"Gi bn"),g.createElement("th",{className:"px-6 py-4 text-center"},"Trng thi"),g.createElement("th",{className:"px-6 py-4 text-right"},"Thao tc"))),g.createElement("tbody",{className:"divide-y divide-gray-200 text-sm"},u?g.createElement("tr",null,g.createElement("td",{colSpan:"6",className:"py-20 text-center"},g.createElement(cu,{className:"animate-spin mx-auto text-teal-600",size:40}))):y.map((R,A)=>g.createElement("tr",{key:R.id,className:"hover:bg-gray-50 transition-colors"},g.createElement("td",{className:"px-6 py-4 text-center text-gray-500 font-medium"},(s-1)*a+A+1),g.createElement("td",{className:"px-6 py-4"},g.createElement("div",{className:"flex items-center gap-3"},g.createElement(fa,{imagePath:R.image,className:"w-10 h-10 rounded-md border object-cover"}),g.createElement("span",{className:"font-semibold text-gray-900"},R.name))),g.createElement("td",{className:"px-6 py-4 text-gray-500 italic max-w-xs truncate"},R.description),g.createElement("td",{className:"px-6 py-4 font-bold text-teal-700"},R.price.toLocaleString("vi-VN")," "),g.createElement("td",{className:"px-6 py-4 text-center"},g.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${R.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`},R.status?"ang bn":"Tm ngng")),g.createElement("td",{className:"px-6 py-4 text-right flex justify-end gap-2"},g.createElement("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",onClick:()=>T(R)},g.createElement(LD,{size:18})),g.createElement("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",onClick:()=>S(R)},g.createElement(Iu,{size:18})))))))),g.createElement("div",{className:"p-4 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-4"},g.createElement("div",{className:"flex items-center gap-4"},g.createElement("span",{className:"text-sm text-gray-500"},"Hin th ",g.createElement("strong",null,y.length)," trn ",g.createElement("strong",null,v)," sn phm"),g.createElement("select",{value:a,onChange:R=>{l(Number(R.target.value)),o(1)},className:"text-sm border border-gray-300 rounded px-2 py-1 outline-none focus:ring-2 focus:ring-teal-500"},[5,10,20,50].map(R=>g.createElement("option",{key:R,value:R},"Hin ",R," dng")))),g.createElement("div",{className:"flex items-center gap-2"},g.createElement("button",{disabled:s===1||u,onClick:()=>o(1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang u"},g.createElement(SD,{size:16})),g.createElement("button",{disabled:s===1||u,onClick:()=>o(R=>R-1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang trc"},g.createElement(gc,{size:16})),g.createElement("div",{className:"flex items-center px-4 h-9 border rounded bg-teal-50 border-teal-200"},g.createElement("span",{className:"text-sm font-semibold text-teal-700"},"Trang ",s," / ",w||1)),g.createElement("button",{disabled:s>=w||u,onClick:()=>o(R=>R+1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang sau"},g.createElement(xo,{size:16})),g.createElement("button",{disabled:s>=w||u,onClick:()=>o(w),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang cui"},g.createElement(CD,{size:16})))),e&&g.createElement(qRe,{initialData:r,onClose:()=>t(!1),onSubmit:P})))}const Mf={getCategoriesByProduct:n=>mt.get(`/product-category/byProduct/${n}`),getProductsByCategory:n=>mt.get(`/product-category/byCategory/${n}`),addProductCategory:n=>mt.post("/product-category/add",n),removeProductCategory:n=>mt.post("/product-category/remove",n)};function KRe({visible:n,onClose:e,form:t}){const r=gr(),{ProductDropdown:i}=Un(R=>R.product),[s,o]=O.useState(!1),a=t?.id||null,l=O.useMemo(()=>({id:a,name:t?.name||"",status:t?.status}),[t,a]);O.useEffect(()=>{n&&(typeof l.status=="boolean"?o(l.status):o(!1))},[n,l.status,l.name]);const[u,f]=O.useState(""),[m,p]=O.useState([]),[y,v]=O.useState(!1),[w,E]=O.useState(null);O.useEffect(()=>{(async()=>{let A=await r(Pg());A.payload?.EC!==0&&be.error(A.payload?.EM)})()},[r]),O.useEffect(()=>{const R=async()=>{if(n){v(!0);try{const A=l.id;if(A){const F=await Mf.getProductsByCategory(A),K=(Array.isArray(F?.DT)?F.DT:[]).map(re=>({id:re.id??re.SubjectID??re.ProductID,name:re.name??re.SubjectName??re.ProductName,code:re.code??re.SubjectCode??re.ProductCode,raw:re}));p(K)}else p([])}catch{be.error("Ly d liu sn phm  chn tht bi")}finally{v(!1)}}};n&&(f(""),R())},[n,l.id]);const k=O.useMemo(()=>(Array.isArray(i)?i:[]).filter(A=>{const F=A.name||"",V=A.description||"",K=F.toLowerCase().includes(u.toLowerCase())||V.toLowerCase().includes(u.toLowerCase()),re=!(m||[]).some(N=>N.id===A.id);return K&&re}),[i,u,m]),T=async R=>{const A=l.id;if(!A){be.warning("Vui lng lu thng tin danh mc trc khi thm sn phm.");return}E(`add-${R.id}`);try{const F={categoryId:A,productId:R.id};let V=await Mf.addProductCategory(F);if(V?.EC!==0)be.error(V?.EM||"Thm sn phm tht bi");else{const K=V?.DT??R,re={id:K.id??K.SubjectID??R.id,name:K.name??K.SubjectName??R.name,code:K.code??K.SubjectCode??R.detail,raw:K};p(N=>[...N,re]),be.success(` thm: ${R.name}`)}}catch{be.error("Li thm sn phm")}finally{E(null)}},S=async R=>{const A=l.id;if(A){E(`remove-${R.id}`);try{const F={categoryId:A,productId:R.id};let V=await Mf.removeProductCategory(F);V?.EC!==0?be.error(V?.EM||"Xa sn phm tht bi"):(p(K=>K.filter(re=>re.id!==R.id)),be.success(` xa: ${R.name}`))}catch{be.error("Li xa sn phm")}finally{E(null)}}},P=()=>{e()};if(!n)return null;const I="overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 [&::-webkit-scrollbar-thumb]:rounded-full hover:[&::-webkit-scrollbar-thumb]:bg-gray-400";return g.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4"},g.createElement("div",{className:"w-full max-w-6xl bg-white rounded-lg shadow-xl flex flex-col h-[90vh]"},g.createElement("div",{className:"flex-none flex items-center justify-between p-4 border-b"},g.createElement("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-800"},g.createElement(LD,{className:"w-5 h-5 text-teal-600"}),"Chn sn phm cho: ",g.createElement("span",{className:"text-teal-600"},l.name)),g.createElement("button",{onClick:P,className:"text-gray-400 hover:text-red-500"},g.createElement(Vf,{size:24}))),g.createElement("div",{className:"flex-1 p-4 bg-gray-50 min-h-0"},g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 h-full"},g.createElement("div",{className:"bg-white rounded border border-gray-200 shadow-sm flex flex-col h-full overflow-"},g.createElement("div",{className:"flex-none p-3 border-b bg-white"},g.createElement("div",{className:"relative"},g.createElement("input",{value:u,onChange:R=>f(R.target.value),placeholder:"Tm kim sn phm ...",className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-teal-500 outline-none"}),g.createElement(S0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}))),g.createElement("div",{className:`flex-1 ${I} p-2 space-y-2`},k.length===0?g.createElement("div",{className:"text-center text-gray-500 py-10 text-sm"},Array.isArray(i)&&i.length===0?"ang ti d liu...":"Khng tm thy kt qu"):k.map(R=>g.createElement("div",{key:R.id,className:"flex items-center justify-between p-3 rounded hover:bg-teal-50 border border-transparent hover:border-teal-100 transition group bg-white shadow-sm mb-1"},g.createElement("div",{className:"flex-1 pr-2 min-w-0"},g.createElement("div",{className:"text-sm font-medium text-gray-800 truncate",title:R.name},R.name),g.createElement("div",{className:"text-xs text-gray-500 mt-0.5"},R.detail)),g.createElement("button",{onClick:()=>T(R),disabled:!!w,className:"flex-none px-3 py-1.5 bg-white border border-teal-200 text-teal-600 rounded-full hover:bg-teal-500 hover:text-white transition disabled:opacity-50 disabled:cursor-not-allowed",title:"Thm sn phm"},w===`add-${R.id}`?g.createElement(cu,{size:16,className:"animate-spin"}):g.createElement(NT,{size:16})))))),g.createElement("div",{className:"bg-white rounded border border-teal-200 shadow-sm flex flex-col h-full overflow-"},g.createElement("div",{className:"flex-none p-3 border-b border-teal-100 bg-teal-50 flex justify-between items-center"},g.createElement("span",{className:"text-sm font-bold text-teal-800 flex items-center gap-2"},g.createElement(bG,{size:14})," Sn phm  lu"),g.createElement("span",{className:"text-xs bg-teal-200 text-teal-800 px-2 py-0.5 rounded-full font-bold"},m.length)),g.createElement("div",{className:`flex-1 ${I} p-2 space-y-2`},y?g.createElement("div",{className:"flex justify-center py-10"},g.createElement(cu,{className:"w-6 h-6 animate-spin text-teal-500"})):m.length===0?g.createElement("div",{className:"text-center text-gray-400 py-10 text-sm"},"Cha c sn phm no c chn"):m.map(R=>g.createElement("div",{key:R.id,className:"flex items-center justify-between p-3 bg-white border-l-4 border-l-teal-500 border border-gray-100 rounded-r shadow-sm mb-1"},g.createElement("div",{className:"flex-1 pr-2 min-w-0"},g.createElement("div",{className:"text-sm font-medium text-gray-800 truncate",title:R.name},R.name),g.createElement("div",{className:"text-xs text-gray-500 mt-0.5"},R.code)),g.createElement("button",{onClick:()=>S(R),disabled:!!w,className:"flex-none p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition disabled:opacity-50"},w===`remove-${R.id}`?g.createElement(cu,{size:16,className:"animate-spin text-red-500"}):g.createElement(Iu,{size:16})))))))),g.createElement("div",{className:"flex-none p-4 border-t bg-gray-50 flex justify-between items-center"},g.createElement("div",{className:"text-sm text-gray-600"},"Tng s sn phm trong danh mc: ",g.createElement("span",{className:"font-bold text-teal-600"},m.length)),g.createElement("button",{onClick:P,className:"px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700 transition"},"ng"))))}const XRe=({visible:n,onClose:e,onConfirm:t,isLoading:r,categories:i=[],parentIdToAdd:s=null,editData:o=null})=>{const[a,l]=O.useState(""),[u,f]=O.useState(""),[m,p]=O.useState(!0),[y,v]=O.useState(""),w=(k,T=0)=>k.reduce((S,P)=>{const I=T>0?" ".repeat(T):"";return S.push(g.createElement("option",{key:P.id,value:P.id},I,P.name)),P.children&&P.children.length>0&&S.push(...w(P.children,T+1)),S},[]);if(O.useEffect(()=>{n&&(o?(l(o.name||""),f(o.icon||""),p(o.status??!0),v(o.parentId?String(o.parentId):"")):(l(""),f(""),p(!0),v(s?String(s):"")))},[n,o,s]),!n)return null;const E=k=>{if(k.preventDefault(),!a.trim()){alert("Vui lng nhp tn danh mc");return}const T=y?parseInt(y):null;t({name:a,icon:u,status:m,parentId:T})};return g.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200"},g.createElement("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden transform transition-all scale-100"},g.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gray-50"},g.createElement("h3",{className:"font-bold text-gray-800 flex items-center gap-2"},g.createElement(ND,{className:"text-indigo-600",size:20}),o?"Cp nht danh mc":"Thm danh mc mi"),g.createElement("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full transition-colors text-gray-500"},g.createElement(Vf,{size:20}))),g.createElement("form",{onSubmit:E,className:"p-5 space-y-4"},g.createElement("div",{className:"space-y-1.5"},g.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-1.5"},"Tn danh mc ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("input",{type:"text",value:a,onChange:k=>l(k.target.value),placeholder:"V d: in t, Thi trang...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-sm",autoFocus:!0})),g.createElement("div",{className:"space-y-1.5"},g.createElement("label",{className:"text-sm font-medium text-gray-700"},"Icon (Class name)"),g.createElement("input",{type:"text",value:u,onChange:k=>f(k.target.value),placeholder:"V d: fas fa-home",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-sm"})),g.createElement("div",{className:"space-y-1.5 disabled:opacity-75 disabled:cursor-not-allowed"},g.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-1.5"},g.createElement(kG,{size:16,className:"text-gray-500"}),"Danh mc cha (Ty chn)",s&&g.createElement("span",{className:"text-xs text-orange-600 font-semibold"},"( chn)")),g.createElement("div",{className:"relative"},g.createElement("select",{value:y,onChange:k=>v(k.target.value),disabled:!0,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-sm appearance-none bg-white ${s?"bg-gray-100 cursor-not-allowed opacity-75":""}`},g.createElement("option",{value:""},"-- L danh mc gc (Root) --"),w(i)),g.createElement("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none"},g.createElement("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})))),g.createElement("p",{className:"text-xs text-gray-500"},s?"Danh mc cha  c t ng chn.":" trng nu y l danh mc cao nht.")),g.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100"},g.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},g.createElement(jq,{size:16,className:m?"text-green-500":"text-gray-400"}),"Trng thi hot ng"),g.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},g.createElement("input",{type:"checkbox",checked:m,onChange:k=>p(k.target.checked),className:"sr-only peer"}),g.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"}))),g.createElement("div",{className:"pt-4 flex items-center justify-end gap-3 border-t border-gray-100 mt-4"},g.createElement("button",{type:"submit",disabled:r,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-indigo-200"},g.createElement(cw,{size:16}),r?"ang lu...":"Lu li"),g.createElement("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Hy b")))))},xH=({item:n,depth:e=0,onAddProduct:t,setShowAddModal:r,handleDeleteCategory:i,setParentIdToAdd:s,handleOpenEdit:o})=>{const[a,l]=O.useState(!1),u=n.children&&n.children.length>0;return g.createElement("div",{className:"select-none"},g.createElement("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 transition-colors group",style:{paddingLeft:`${e*24+12}px`}},g.createElement("div",{className:"flex items-center gap-3"},g.createElement("button",{onClick:()=>l(!a),className:`p-1 rounded hover:bg-gray-200 ${!u&&"invisible"}`},a?g.createElement(lw,{size:16}):g.createElement(xo,{size:16})),g.createElement(SG,{size:18,className:e===0?"text-blue-500":"text-gray-400"}),g.createElement("div",{className:"flex flex-col"},g.createElement("span",{className:"font-medium text-gray-700"},n.name),g.createElement("span",{className:"text-[10px] text-gray-400 flex items-center gap-1"},g.createElement(BD,{size:10})," ",n.productCount||0," sn phm")),n.status?g.createElement("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-600 rounded-full text-[10px]"},"Active"):g.createElement("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-600 rounded-full text-[10px]"},"Hidden")),g.createElement("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},g.createElement("button",{onClick:()=>t(n),className:"flex items-center gap-1 p-1.5 text-green-600 hover:bg-green-50 rounded border border-green-100 text-xs font-medium",title:"Thm sn phm"},g.createElement(RD,{size:14})," ",g.createElement("span",{className:"hidden sm:inline"},"Thm SP")),g.createElement("button",{className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded border border-blue-100",title:"Thm con",onClick:()=>{const f=n.parentId===null||n.parentId===void 0?n.id:n.parentId;s(f),r(!0)}},g.createElement(Pu,{size:14})),g.createElement("button",{className:"p-1.5 text-amber-600 hover:bg-amber-50 rounded border border-amber-100",title:"Sa",onClick:()=>o(n)},g.createElement(MD,{size:14})),g.createElement("button",{className:"p-1.5 text-red-600 hover:bg-red-50 rounded border border-red-100",title:"Xa",onClick:()=>i(n)},g.createElement(Iu,{size:14})))),a&&u&&g.createElement("div",{className:"bg-gray-50/30"},n.children.map(f=>g.createElement(xH,{key:f.id,item:f,depth:e+1,onAddProduct:t,setShowAddModal:r,handleDeleteCategory:i,setParentIdToAdd:s,handleOpenEdit:o}))))};function JRe(){const n=gr(),{CategoryList:e,CategoryTotal:t}=Un(N=>N.category),[r,i]=O.useState(null),[s,o]=O.useState(!1),[a,l]=O.useState(1),[u,f]=O.useState(10),[m,p]=O.useState(!1),y=Math.ceil(t/u),[v,w]=O.useState(!1),[E,k]=O.useState(!1),[T,S]=O.useState(null),[P,I]=O.useState(null),R=async()=>{p(!0);try{const N=await n(_f({page:a,limit:u})).unwrap()}catch{be.error("Khng th ti danh sch danh mc")}finally{p(!1)}};O.useEffect(()=>{R()},[a,u]);const A=async N=>{k(!0);try{let te;P?te=await kb.updateCategoryApi(P.id,N):te=await kb.createCategoryApi(N),te&&te.EC===0?(be.success(`${P?"Cp nht":"Thm"} danh mc thnh cng!`),V(),R()):be.error(te.EM)}catch(te){be.error("C li xy ra"),console.error(te)}finally{k(!1)}},F=N=>{I(N),S(N.parentId),w(!0)},V=()=>{w(!1),I(null),S(null)},K=N=>{i(N),o(!0)},re=async N=>{if(window.confirm(`Bn c chc mun xa danh mc "${N.name}" khng?`))try{let te=await kb.deleteCategoryApi(N.id);te&&te.EC===0?(be.success("Xa danh mc thnh cng!"),R()):be.error(te.EM)}catch(te){be.error("C li xy ra khi xa danh mc!"),console.error(te)}};return g.createElement("div",{className:"max-w-0xl mx-auto p-6 bg-gray-50 min-h-screen relative"},g.createElement("div",{className:"mb-8 flex justify-between items-center"},g.createElement("div",null,g.createElement("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2"},g.createElement(UG,{className:"text-indigo-600"})," Qun l Danh mc"),g.createElement("p",{className:"text-gray-500 text-sm"},"Cu trc a tng & Qun l sn phm")),g.createElement("button",{className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-semibold transition-all shadow-lg shadow-indigo-200",onClick:()=>{S(null),w(!0)}},g.createElement(Pu,{size:18})," Thm danh mc gc")),g.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},g.createElement("div",{className:"grid grid-cols-1 bg-gray-100/50 p-3 border-b border-gray-200 text-xs font-bold text-gray-500 uppercase tracking-wider"},g.createElement("div",{className:"ml-10"},"Tn danh mc / Thng tin")),g.createElement("div",{className:"divide-y divide-gray-100"},e.map(N=>g.createElement(xH,{key:N.id,item:N,onAddProduct:K,setShowAddModal:w,handleDeleteCategory:re,setParentIdToAdd:S,handleOpenEdit:F})))),g.createElement("div",{className:"p-4 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-4"},g.createElement("div",{className:"flex items-center gap-4"},g.createElement("span",{className:"text-sm text-gray-500"},"Hin th ",g.createElement("strong",null,e.length)," trn ",g.createElement("strong",null,t)," danh mc"),g.createElement("select",{value:u,onChange:N=>{f(Number(N.target.value)),l(1)},className:"text-sm border border-gray-300 rounded px-2 py-1 outline-none focus:ring-2 focus:ring-teal-500"},[5,10,20,50].map(N=>g.createElement("option",{key:N,value:N},"Hin ",N," dng")))),g.createElement("div",{className:"flex items-center gap-2"},g.createElement("button",{disabled:a===1||m,onClick:()=>l(1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang u"},g.createElement(SD,{size:16})),g.createElement("button",{disabled:a===1||m,onClick:()=>l(N=>N-1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang trc"},g.createElement(gc,{size:16})),g.createElement("div",{className:"flex items-center px-4 h-9 border rounded bg-teal-50 border-teal-200"},g.createElement("span",{className:"text-sm font-semibold text-teal-700"},"Trang ",a," / ",y||1)),g.createElement("button",{disabled:a>=y||m,onClick:()=>l(N=>N+1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang sau"},g.createElement(xo,{size:16})),g.createElement("button",{disabled:a>=y||m,onClick:()=>l(y),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang cui"},g.createElement(CD,{size:16})))),g.createElement(KRe,{visible:s,onClose:()=>{o(!1),R()},form:r}),g.createElement(XRe,{visible:v,onClose:V,onConfirm:A,isLoading:E,categories:e,parentIdToAdd:T,editData:P}))}const Df={getListPostApi:(n,e)=>mt.get(`/post/list?page=${n}&limit=${e}`),getPostByIdApi:n=>mt.get(`/post/byPostId/${n}`),createPostApi:n=>mt.post("/post/create",n),updatePostApi:(n,e)=>mt.put(`/post/update/${n}`,e),deletePostApi:n=>mt.delete(`/post/delete/${n}`),getListPostDropdownApi:()=>mt.get("/post/dropdown")},KM={PostList:[],PostTotal:0},Ff=Gs("post/getListPost",async({page:n,limit:e},t)=>await Df.getListPostApi(n,e)),EH=rh({name:"post",initialState:KM,reducers:{resetPost:n=>KM},extraReducers:n=>{n.addCase(Ff.pending,e=>{}).addCase(Ff.fulfilled,(e,t)=>{e.PostList=t.payload.DT.posts,e.PostTotal=t.payload.DT.total}).addCase(Ff.rejected,(e,t)=>{})}}),{resetPost:w6e}=EH.actions,QRe=EH.reducer;function ZRe(){const n=mr(),e=gr(),{PostList:t,PostTotal:r}=Un(m=>m.post),[i,s]=O.useState(1),o=10,a=Math.ceil(r/o),l=async()=>{let m=await e(Ff({page:i,limit:o})).unwrap();m&&m.EC!==0&&be.error(m.EM)};O.useEffect(()=>{l()},[i]);const u=m=>{m>=1&&m<=a&&(s(m),window.scrollTo({top:0,behavior:"smooth"}))},f=async m=>{if(window.confirm("Bn c chc chn mun xa bi vit ny?"))try{let p=await Df.deletePostApi(m);p&&p.EC===0?(be.success(p.EM),l()):be.error(p.EM)}catch(p){console.error("Error deleting post:",p),be.error("Khng th xa bi vit")}};return g.createElement("div",{className:"min-h-screen bg-gray-50 py-8 px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"grid grid-cols-1 gap-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-bold text-gray-700 uppercase tracking-tight"},"Danh sch bi vit"),g.createElement("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all shadow-md active:scale-95 cursor-pointer",onClick:()=>{n("/news/detail")}},g.createElement(Pu,{size:18}),"Thm mi")),g.createElement("div",{className:"p-6 space-y-6"},t&&t.length>0?t.map(m=>g.createElement("div",{key:m.id,className:"flex flex-col md:flex-row gap-4 p-4 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100 group"},g.createElement("div",{className:"flex-shrink-0 w-28 h-24 flex items-center justify-center text-white text-[10px] font-bold rounded-lg uppercase shadow-sm"},g.createElement(fa,{imagePath:m.image,className:"w-10 h-10 rounded-md border object-cover"})),g.createElement("div",{className:"flex-1"},g.createElement("div",{className:"flex justify-between items-start"},g.createElement("h3",{className:"font-bold text-gray-800 text-[15px] mb-1 group-hover:text-blue-600 transition-colors cursor-pointer"},m.title),g.createElement("div",{className:"flex items-center gap-2 ml-4"},g.createElement("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all cursor-pointer",onClick:()=>n("/news/detail?id="+m.id),title:"Chnh sa"},g.createElement(DD,{size:16})),g.createElement("button",{className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all cursor-pointer",onClick:()=>f(m.id),title:"Xa tin"},g.createElement(Iu,{size:16})))),g.createElement("p",{className:"text-xs text-gray-500 italic leading-relaxed line-clamp-2"},m.description)))):g.createElement("div",{className:"text-center py-10 text-gray-400"},"Khng c d liu hin th.")),g.createElement("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-center gap-2"},g.createElement("button",{onClick:()=>u(i-1),disabled:i===1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},g.createElement(gc,{size:20,className:"text-gray-600"})),[...Array(Math.max(a,1))].map((m,p)=>{const y=p+1;return g.createElement("button",{key:y,onClick:()=>u(y),className:`w-10 h-10 rounded-lg text-sm font-medium transition-all ${i===y?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100 border border-transparent"}`},y)}),g.createElement("button",{onClick:()=>u(i+1),disabled:i===a||a<=1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},g.createElement(xo,{size:20,className:"text-gray-600"}))))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-400 font-medium"},"Copyright  2025 by ",g.createElement("span",{className:"text-gray-600"},"CMICSTUDIO"))))}const eOe={getListStaffApi:()=>mt.get("/staff/list")},XM={listStaff:[]},Ig=Gs("staff/getListStaff",async n=>await eOe.getListStaffApi()),kH=rh({name:"staff",initialState:XM,reducers:{resetStaff:n=>XM},extraReducers:n=>{n.addCase(Ig.pending,e=>{}).addCase(Ig.fulfilled,(e,t)=>{e.listStaff=t.payload.DT}).addCase(Ig.rejected,(e,t)=>{})}}),{resetStaff:v6e}=kH.actions,tOe=kH.reducer,nOe=()=>{const n=gr(),[e,t]=O.useState(null),{listStaff:r}=Un(f=>f.staff);O.useEffect(()=>{const f=async()=>{try{let m=await n(Ig());m.payload?.EC!==0&&be.error(m.payload?.EM||"Khng th ti danh sch nhn vin")}catch{be.error("Li kt ni h thng")}};r.length===0&&f()},[n,r.length]);const i=[{group:"Qun l Sn phm",permissions:["Xem sn phm","Thm mi","Chnh sa","Xa"]},{group:"Qun l n hng",permissions:["Xem n hng","Cp nht trng thi","Hy n"]},{group:"H thng",permissions:["Cu hnh chung","Xem bo co","Qun l nhn s"]}],[s,o]=O.useState(""),[a,l]=O.useState([]),u=f=>{a.includes(f)?l(a.filter(m=>m!==f)):l([...a,f])};return g.createElement("div",{className:"min-h-screen bg-gray-50 p-8 font-sans text-gray-800"},g.createElement("div",{className:"max-w-0xl mx-auto"},g.createElement("div",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4"},g.createElement("div",null,g.createElement("h1",{className:"text-2xl font-bold flex items-center gap-2"},"Phn quyn Nhn vin"),g.createElement("p",{className:"text-gray-500"},"Chn nhn vin  thit lp quyn truy cp h thng")),g.createElement("div",{className:"flex flex-col md:flex-row gap-4"},g.createElement("div",{className:"flex-1 space-y-2"},g.createElement(F0,{options:r,placeholder:"--- Chn nhn vin ---",labelKey:"userName",valueKey:"id",onChange:f=>t(f.id)})))),s?g.createElement("div",{className:"space-y-6 animate-in fade-in duration-500"},g.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},i.map((f,m)=>g.createElement("div",{key:m,className:"border-b last:border-b-0 border-gray-100 p-6"},g.createElement("h3",{className:"font-semibold text-gray-700 mb-4"},f.group),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},f.permissions.map(p=>g.createElement("label",{key:p,className:`flex items-center p-3 rounded-lg border cursor-pointer transition-all ${a.includes(p)?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-gray-50 border-gray-100 hover:border-gray-300"}`},g.createElement("input",{type:"checkbox",className:"hidden",checked:a.includes(p),onChange:()=>u(p)}),g.createElement("div",{className:`w-5 h-5 rounded border mr-3 flex items-center justify-center ${a.includes(p)?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300"}`},a.includes(p)&&g.createElement(hG,{size:14,className:"text-white"})),g.createElement("span",{className:"text-sm font-medium"},p))))))),g.createElement("div",{className:"flex justify-end gap-3 pt-4"},g.createElement("button",{className:"px-6 py-2 bg-white border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition"},"Hy b"),g.createElement("button",{className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 shadow-md transition"},g.createElement(cw,{size:18}),"Lu quyn hn"))):g.createElement("div",{className:"bg-white rounded-xl border-2 border-dashed border-gray-200 p-20 text-center"},g.createElement("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(jb,{size:32,className:"text-gray-400"})),g.createElement("p",{className:"text-gray-500 font-medium"},"Vui lng chn mt nhn vin t danh sch  bt u thit lp"))))},JM=200*1024;function TH({children:n,name:e,control:t,type:r="thumbnail",sx:i,disabled:s=!1,onUploadChange:o,...a}){const{field:{value:l,onChange:u},fieldState:{invalid:f,error:m}}=MS({name:e,control:t}),[p,y]=O.useState(!1);async function v(E){const k=E.target.files?.[0];if(!k)return;if(k.size>JM){be.error(`Kch thc tp phi nh hn ${JM/1024}KB.`),E.target.value=null;return}if(!k.type.startsWith("image/")){be.error("Vui lng chn mt tp hnh nh hp l."),E.target.value=null;return}const T=new FormData;T.append("myFiles",k),y(!0);try{const S=await zf.UploadFileApi(T);S&&S.DT?(u(S.DT),o?.(S.DT),be.success("Ti tp ln thnh cng!")):be.error("Ti tp ln tht bi, khng nhn c ng dn tp.")}catch(S){console.error("Upload error:",S),be.error("Li khi ti tp ln server. Vui lng th li.")}finally{y(!1),E.target.value=null}}const w=s||p;return g.createElement(M2,{component:"label",htmlFor:`upload-input-${e}`,...a},g.createElement(aB,{fullWidth:!0,error:f,sx:{height:"100%",width:"100%",...i}},n||g.createElement(M2,null,g.createElement(D2,{justifyContent:"center",alignItems:"center",sx:{aspectRatio:"1/1",borderRadius:"8px",cursor:w?"not-allowed":"pointer",border:l?"none":"2px dashed #ccc",overflow:"hidden",position:"relative",opacity:p?.7:1}},g.createElement(fa,{imagePath:l||"",alt:`nh: ${l}`,className:"w-full h-full object-cover rounded mx-auto border border-gray-200"}),!l&&!p&&g.createElement(D2,{alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",color:"gray",backgroundColor:"rgba(255, 255, 255, 0.7)"}},g.createElement(kk,{variant:"body2"},"Chn nh")),p&&g.createElement(D2,{alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:10}},g.createElement(lme,{size:24}),g.createElement(kk,{variant:"caption",sx:{mt:1}},"ang ti...")))),g.createElement(M2,{component:"input",id:`upload-input-${e}`,disabled:w,onChange:v,type:"file",accept:"image/*",sx:{display:"none"}})),m&&g.createElement(lB,{error:!0},m.message))}const QM="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm";function rOe(){const[n]=xD(),e=mr(),t=n.get("id"),r=!!t,[i]=O.useState(t),{control:s,handleSubmit:o,reset:a,setValue:l,getValues:u}=LS({defaultValues:{title:"",status:!0,description:"",detail:"",image:"",id:i||null}}),[f,m]=O.useState(!1);O.useEffect(()=>{r&&i&&p(i)},[i,r]);const p=async v=>{m(!0);try{const w=await Df.getPostByIdApi(v);if(w&&w.DT){const E=w.DT;l("title",E.title||""),l("status",E.status),l("description",E.description||""),l("detail",E.detail||""),l("image",E.image||""),l("id",E.id)}else be.error("Khng tm thy thng bo hoc li ti d liu.")}catch{be.error("Li khi ti chi tit thng bo.")}finally{m(!1)}},y=o(async v=>{m(!0);try{if(!v.title.trim()){be.error("Vui lng nhp tiu "),m(!1);return}if(!v.description.trim()){be.error("Vui lng nhp m t ngn"),m(!1);return}if(!v.detail.replace(/<[^>]*>/g,"").trim()){be.error("Vui lng nhp ni dung"),m(!1);return}const E={...v,...r&&{id:i}};let k;r?(k=await Df.updatePostApi(i,E),k&&k.EC===0?(be.success("Cp nht thng bo thnh cng!"),e("/news/manager"),a()):be.error(k.EM)):(k=await Df.createPostApi(E),k&&k.EC===0?(be.success("Thm mi thng bo thnh cng!"),e("/news/manager"),a()):be.error(k.EM))}catch{be.error(`Li h thng khi ${r?"cp nht":"to"} thng bo`)}finally{m(!1)}});return g.createElement("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8"},g.createElement("div",{className:"max-w-[1600px] mx-auto"},g.createElement("h1",{className:"text-xl md:text-2xl text-gray-600"},r?"Chnh sa bi vit":"Thm bi mi"),g.createElement("div",{className:"max-w-8xl mx-auto px-4 py-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200"},g.createElement("div",{className:"p-6 space-y-6"},g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Tiu  ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(us,{name:"title",control:s,render:({field:v})=>g.createElement("input",{...v,type:"text",className:QM,placeholder:"Nhp tiu  thng bo"})}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2"},"Trng thi"),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement("div",{className:"flex items-center h-full pt-1"},g.createElement(us,{name:"status",control:s,render:({field:v})=>g.createElement("input",{type:"checkbox",checked:v.value,onChange:v.onChange,id:"status-checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),g.createElement("label",{htmlFor:"status-checkbox",className:"ml-2 text-sm font-medium text-gray-700"},"Hin th")))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Hnh nh"),g.createElement("div",{className:"col-span-12 md:col-span-3"},g.createElement(TH,{name:"image",control:s,label:"Chn hnh nh"}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"M t ngn ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(us,{name:"description",control:s,render:({field:v})=>g.createElement("textarea",{...v,rows:3,className:QM+" resize-none",placeholder:"Nhp m t ngn"})}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"M t ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(xA,{name:"detail",control:s,label:""})))),g.createElement("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg"},g.createElement("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:gap-3"},g.createElement("button",{type:"button",onClick:y,disabled:f,className:"px-3 sm:px-4 py-2 bg-[#337ab7] hover:bg-[#2e6da4] text-white rounded-lg flex items-center justify-center gap-1 sm:gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-xs sm:text-sm font-medium whitespace-nowrap cursor-pointer"},f?g.createElement(cu,{className:"w-4 h-4 animate-spin"}):g.createElement(cw,{className:"w-4 h-4"}),g.createElement("span",null,r?"Lu li":"Thm mi")))))),g.createElement("footer",{className:"mt-12 py-6 text-center text-sm text-gray-500 border-t border-gray-200"},"Copyright  2025 by G&BSoft")))}const Lf={getListRecruitmentApi:(n,e)=>mt.get(`/recruitment/list?page=${n}&limit=${e}`),getRecruitmentByIdApi:n=>mt.get(`/recruitment/byRecruitmentId/${n}`),createRecruitmentApi:n=>mt.post("/recruitment/create",n),updateRecruitmentApi:(n,e)=>mt.put(`/recruitment/update/${n}`,e),deleteRecruitmentApi:n=>mt.delete(`/recruitment/delete/${n}`),getListRecruitmentDropdownApi:()=>mt.get("/recruitment/dropdown")},ZM={RecruitmentList:[],RecruitmentTotal:0},Rg=Gs("recruitment/getListRecruitment",async({page:n,limit:e},t)=>await Lf.getListRecruitmentApi(n,e)),SH=rh({name:"recruitment",initialState:ZM,reducers:{resetRecruitment:n=>ZM},extraReducers:n=>{n.addCase(Rg.pending,e=>{}).addCase(Rg.fulfilled,(e,t)=>{e.RecruitmentList=t.payload.DT.recruitments,e.RecruitmentTotal=t.payload.DT.total}).addCase(Rg.rejected,(e,t)=>{})}}),{resetRecruitment:_6e}=SH.actions,iOe=SH.reducer;function sOe(){const n=mr(),e=gr(),{RecruitmentList:t,RecruitmentTotal:r}=Un(m=>m.recruitment),[i,s]=O.useState(1),o=10,a=Math.ceil(r/o),l=async()=>{let m=await e(Rg({page:i,limit:o})).unwrap();m&&m.EC!==0&&be.error(m.EM)};O.useEffect(()=>{l()},[i]);const u=m=>{m>=1&&m<=a&&(s(m),window.scrollTo({top:0,behavior:"smooth"}))},f=async m=>{if(window.confirm("Bn c chc chn mun xa bi vit ny?"))try{let p=await Lf.deleteRecruitmentApi(m);p&&p.EC===0?(be.success(p.EM),l()):be.error(p.EM)}catch(p){console.error("Error deleting post:",p),be.error("Khng th xa bi vit")}};return g.createElement("div",{className:"min-h-screen bg-gray-50 py-8 px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"grid grid-cols-1 gap-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-bold text-gray-700 uppercase tracking-tight"},"Qun l tuyn dng"),g.createElement("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all shadow-md active:scale-95 cursor-pointer",onClick:()=>{n("/recruitment/detail")}},g.createElement(Pu,{size:18}),"Thm mi")),g.createElement("div",{className:"p-6 space-y-6"},t&&t.length>0?t.map(m=>g.createElement("div",{key:m.id,className:"flex flex-col md:flex-row gap-4 p-4 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100 group"},g.createElement("div",{className:"flex-shrink-0 w-28 h-24 flex items-center justify-center text-white text-[10px] font-bold rounded-lg uppercase shadow-sm"},g.createElement(fa,{imagePath:m.image,className:"w-10 h-10 rounded-md border object-cover"})),g.createElement("div",{className:"flex-1"},g.createElement("div",{className:"flex justify-between items-start"},g.createElement("h3",{className:"font-bold text-gray-800 text-[15px] mb-1 group-hover:text-blue-600 transition-colors cursor-pointer"},m.title),g.createElement("div",{className:"flex items-center gap-2 ml-4"},g.createElement("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all cursor-pointer",onClick:()=>n("/recruitment/detail?id="+m.id),title:"Chnh sa"},g.createElement(DD,{size:16})),g.createElement("button",{className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all cursor-pointer",onClick:()=>f(m.id),title:"Xa tin"},g.createElement(Iu,{size:16})))),g.createElement("p",{className:"text-xs text-gray-500 italic leading-relaxed line-clamp-2"},m.description)))):g.createElement("div",{className:"text-center py-10 text-gray-400"},"Khng c d liu hin th.")),g.createElement("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-center gap-2"},g.createElement("button",{onClick:()=>u(i-1),disabled:i===1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},g.createElement(gc,{size:20,className:"text-gray-600"})),[...Array(Math.max(a,1))].map((m,p)=>{const y=p+1;return g.createElement("button",{key:y,onClick:()=>u(y),className:`w-10 h-10 rounded-lg text-sm font-medium transition-all ${i===y?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100 border border-transparent"}`},y)}),g.createElement("button",{onClick:()=>u(i+1),disabled:i===a||a<=1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},g.createElement(xo,{size:20,className:"text-gray-600"}))))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-400 font-medium"},"Copyright  2025 by ",g.createElement("span",{className:"text-gray-600"},"CMICSTUDIO"))))}function oOe({showModal:n,setShowModal:e,editingEmployee:t,formData:r,setFormData:i,handleSubmit:s,roleOptions:o,handleInputChange:a}){return n?g.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"},g.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto"},g.createElement("h2",{className:"text-xl font-semibold mb-4"},t?"Chnh sa nhn vin":"Thm nhn vin mi"),g.createElement("form",{onSubmit:s,className:"space-y-4"},g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Tn ngi dng *"),g.createElement("input",{type:"text",name:"userName",value:r.userName,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Nhp tn ngi dng",required:!0})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Email *"),g.createElement("input",{type:"email",name:"email",value:r.email,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Nhp email",required:!0})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"S in thoi *"),g.createElement("input",{type:"tel",name:"phone",value:r.phone,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Nhp s in thoi",required:!0})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"a ch"),g.createElement("input",{type:"text",name:"address",value:r.address,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Nhp a ch"})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"nh i din"),g.createElement("input",{type:"text",name:"image",value:r.image,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"URL nh hoc ng dn"})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Vai tr *"),g.createElement("div",{className:"flex-1 space-y-2"},g.createElement(F0,{options:o,placeholder:"--- Tm theo vai tr ---",labelKey:"value",valueKey:"key",value:r.role,onChange:l=>i({...r,role:l.key})}))),g.createElement("div",{className:"flex gap-3 mt-6"},g.createElement("button",{type:"submit",className:"flex-1 bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded text-sm font-semibold"},t?"Cp nht":"Thm mi"),g.createElement("button",{type:"button",onClick:()=>e(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded text-sm font-semibold"},"Hy"))))):null}function aOe(){const n=gr(),{UserList:e,UserTotal:t}=Un(Ie=>Ie.auth),[r,i]=O.useState([]),[s,o]=O.useState(""),[a,l]=O.useState(""),[u,f]=O.useState(!1),[m,p]=O.useState(!1),[y,v]=O.useState(null),[w,E]=O.useState(1),[k]=O.useState(10),[T,S]=O.useState({userName:"",email:"",image:"",phone:"",address:"",role:""}),P=[{key:"",value:"Tt c vai tr"},...Object.entries(tne).map(([Ie,j])=>({key:j,value:Ie}))];O.useEffect(()=>{I()},[]),O.useEffect(()=>{R(),E(1)},[s,a,e]);const I=async()=>{try{f(!0);const Ie=await n(vb({page:1,limit:10,role:a?.key||""}))}catch(Ie){console.error("Error fetching UserList:",Ie),be.error("Khng th ti danh sch nhn vin")}finally{f(!1)}},R=()=>{let Ie=[...e];if(s){const j=s.toLowerCase();Ie=Ie.filter(xe=>xe.userName?.toLowerCase().includes(j)||xe.email?.toLowerCase().includes(j)||xe.phone?.includes(j))}a&&a.key&&(Ie=Ie.filter(j=>String(j.role).toLowerCase()===String(a.key).toLowerCase())),i(Ie)},A=()=>{v(null),S({userName:"",email:"",image:"",phone:"",address:"",role:""}),p(!0)},F=Ie=>{v(Ie),S({id:Ie.id||"",userName:Ie.userName||"",email:Ie.email||"",image:Ie.image||"",phone:Ie.phone||"",address:Ie.address||"",role:Ie.role||""}),p(!0)},V=async Ie=>{if(window.confirm("Bn c chc chn mun xa nhn vin ny?"))try{let j=await Ka.deleteUserApi(Ie);j&&j.EC===0?(be.success(j.EM),I()):be.error(j.EM)}catch(j){console.error("Error deleting employee:",j),be.error("Khng th xa nhn vin")}},K=async Ie=>{if(Ie.preventDefault(),!T.userName||!T.email||!T.phone||!T.role){be.info("Vui lng in y  thng tin bt buc");return}try{if(y){let j=await Ka.updateUserApi(y.id,T);j&&j.EC===0&&(be.success("Cp nht nhn vin thnh cng"),I())}else{let j=await Ka.createUserApi(T);j&&j.EC===0?(be.success("Thm mi nhn vin thnh cng"),I()):be.error(j.EM)}p(!1)}catch(j){console.error("Error saving employee:",j),be.error("Khng th lu thng tin nhn vin")}},re=Ie=>{const{name:j,value:xe}=Ie.target;S(U=>({...U,[j]:xe}))},N=()=>{const Ie=["STT","Tn ngi dng","Email","S in thoi","a ch","Vai tr"],j=r.map((J,ue)=>[ue+1,J.userName,J.email,J.phone,J.address,J.role]),xe=[Ie.join(","),...j.map(J=>J.map(ue=>`"${ue}"`).join(","))].join(`
`),U=new Blob([xe],{type:"text/csv"}),Q=window.URL.createObjectURL(U),Y=document.createElement("a");Y.href=Q,Y.download="UserList.csv",Y.click()},te=Math.ceil(r.length/k),ye=(w-1)*k,Ee=ye+k,ne=r.slice(ye,Ee),ke=()=>{w>1&&E(w-1)},We=()=>{w<te&&E(w+1)};return g.createElement("div",{className:"min-h-screen bg-gray-50 p-8"},g.createElement("div",{className:"max-w-[1600px] mx-auto"},g.createElement("h1",{className:"text-2xl text-gray-600 mb-6"},"Qun l nhn vin"),g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6"},g.createElement("div",{className:"flex items-center gap-4 flex-wrap"},g.createElement("div",{className:"flex items-center gap-2 flex-1 min-w-[250px]"},g.createElement(S0,{size:18,className:"text-gray-400"}),g.createElement("input",{type:"text",placeholder:"Tm kim theo tn, email, s in thoi...",value:s,onChange:Ie=>o(Ie.target.value),className:"border border-gray-300 rounded px-3 py-2 text-sm w-full text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500"})),g.createElement("div",{className:"flex flex-col md:flex-row gap-4"},g.createElement("div",{className:"flex-1 space-y-2"},g.createElement(F0,{options:P,placeholder:"--- Tm theo vai tr ---",labelKey:"value",valueKey:"key",onChange:Ie=>l(Ie)}))),g.createElement("button",{onClick:A,className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded flex items-center gap-2 text-sm"},g.createElement(Pu,{size:16}),"Thm mi"),g.createElement("button",{onClick:N,className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded flex items-center gap-2 text-sm"},g.createElement(AD,{size:16}),"Export"))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"overflow-x-auto"},g.createElement("table",{className:"w-full text-sm"},g.createElement("thead",{className:"bg-gray-100 border-b-2 border-gray-300"},g.createElement("tr",null,g.createElement("th",{className:"px-4 py-3 text-center text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap w-16"},"STT"),g.createElement("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"Tn ngi dng"),g.createElement("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"Email"),g.createElement("th",{className:"px-4 py-3 text-center text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"S in thoi"),g.createElement("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"a ch"),g.createElement("th",{className:"px-4 py-3 text-center text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"Vai tr"),g.createElement("th",{className:"px-4 py-3 text-center text-gray-700 font-semibold whitespace-nowrap"},"Hnh ng"))),g.createElement("tbody",null,u?g.createElement("tr",null,g.createElement("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500"},"ang ti...")):r.length===0?g.createElement("tr",null,g.createElement("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500"},"Khng c d liu")):ne.map((Ie,j)=>g.createElement("tr",{key:Ie.id,className:`border-b border-gray-200 hover:bg-gray-50 ${j%2===1?"bg-gray-50":"bg-white"}`},g.createElement("td",{className:"px-4 py-3 border-r border-gray-200 text-center"},ye+j+1),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200"},Ie.userName),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200"},Ie.email),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200 text-center"},Ie.phone),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200"},Ie.address),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200 text-center"},g.createElement("span",{className:"bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-xs font-semibold"},Ie.role)),g.createElement("td",{className:"px-4 py-3 text-center"},g.createElement("div",{className:"flex justify-center gap-2"},g.createElement("button",{onClick:()=>F(Ie),className:"text-blue-500 hover:text-blue-700",title:"Chnh sa"},g.createElement(MD,{size:16})),g.createElement("button",{onClick:()=>V(Ie.id),className:"text-red-500 hover:text-red-700",title:"Xa"},g.createElement(Iu,{size:16})))))))))),g.createElement("div",{className:"mt-6 flex items-center justify-between"},g.createElement("div",{className:"text-sm text-gray-600"},"Hin th ",r.length===0?0:ye+1," n ",Math.min(Ee,r.length)," ca ",r.length," nhn vin"),g.createElement("div",{className:"flex items-center gap-2"},g.createElement("button",{onClick:ke,disabled:w===1,className:"flex items-center gap-1 px-3 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},g.createElement(gc,{size:16}),"Trc"),g.createElement("div",{className:"flex items-center gap-1"},Array.from({length:te},(Ie,j)=>j+1).map(Ie=>g.createElement("button",{key:Ie,onClick:()=>E(Ie),className:`w-8 h-8 rounded ${w===Ie?"bg-teal-500 text-white font-semibold":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`},Ie))),g.createElement("button",{onClick:We,disabled:w===te,className:"flex items-center gap-1 px-3 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Tip",g.createElement(xo,{size:16})))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-500"},"Copyright  2025 by CMICSTUDIO")),g.createElement(oOe,{showModal:m,setShowModal:p,editingEmployee:y,formData:T,setFormData:S,handleSubmit:K,roleOptions:P,handleInputChange:re}))}const PE=({label:n,name:e,value:t,isShown:r,onChange:i,onToggle:s})=>g.createElement("div",{className:"mb-6 flex flex-col md:flex-row md:items-center"},g.createElement("label",{className:"text-gray-600 text-sm mb-1 md:mb-0 md:w-64 md:text-right md:pr-6"},n),g.createElement("div",{className:"flex-1 w-full max-w-full md:max-w-md relative"},g.createElement("input",{type:r?"text":"password",name:e,value:t,onChange:i,placeholder:"Mt khu",className:"w-full border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10"}),g.createElement("button",{type:"button",onClick:s,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},r?g.createElement(wG,{size:18}):g.createElement(_G,{size:18}))));function lOe(){const{userInfo:n,type:e}=Un(u=>u.auth),[t,r]=O.useState({tenDangNhap:n?n.userName:"",PassWordOld:"",PassWordNew:"",nhapLaiMatKhauMoi:""}),[i,s]=O.useState({PassWordOld:!1,PassWordNew:!1,nhapLaiMatKhauMoi:!1}),o=u=>{const{name:f,value:m}=u.target;r(p=>({...p,[f]:m}))},a=u=>{s(f=>({...f,[u]:!f[u]}))},l=async()=>{const{PassWordOld:u,PassWordNew:f,nhapLaiMatKhauMoi:m}=t;if(!u||!f||!m){be.error("Vui lng nhp y  Mt khu c, Mt khu mi v Nhp li Mt khu mi.");return}if(f!==m){be.error("Mt khu mi v Nhp li Mt khu mi khng khp nhau.");return}if(f===u){be.error("Mt khu mi khng c trng vi Mt khu c.");return}try{let p=await Ka.ChangePasswordApi(t);p&&p.EC===0?(be.success("i mt khu thnh cng!"),r(y=>({...y,PassWordOld:"",PassWordNew:"",nhapLaiMatKhauMoi:""}))):be.error(p.EM||"i mt khu tht bi.")}catch{be.error("Li h thng khi i mt khu.")}};return g.createElement("div",{className:"min-h-screen bg-gray-50 py-4 px-4 lg:py-8 lg:px-6"},g.createElement("div",{className:"max-w-5xl mx-auto"},g.createElement("h1",{className:"text-xl md:text-2xl text-gray-600 mb-6 md:mb-8"},"i mt khu"),g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200"},g.createElement("div",{className:"p-4 sm:p-6 md:p-8"},g.createElement("div",{className:"mb-6 flex flex-col md:flex-row md:items-center"},g.createElement("label",{className:"text-gray-600 text-sm mb-1 md:mb-0 md:w-64 md:text-right md:pr-6"},"Tn ng nhp"),g.createElement("input",{type:"text",name:"tenDangNhap",value:t.tenDangNhap,onChange:o,disabled:!0,className:"flex-1 w-full max-w-full md:max-w-md border border-gray-300 rounded px-4 py-2 text-sm bg-gray-50 text-gray-500"})),g.createElement(PE,{label:"Mt khu c",name:"PassWordOld",value:t.PassWordOld,isShown:i.PassWordOld,onChange:o,onToggle:()=>a("PassWordOld")}),g.createElement(PE,{label:"Mt khu mi",name:"PassWordNew",value:t.PassWordNew,isShown:i.PassWordNew,onChange:o,onToggle:()=>a("PassWordNew")}),g.createElement(PE,{label:"Nhp li Mt khu mi",name:"nhapLaiMatKhauMoi",value:t.nhapLaiMatKhauMoi,isShown:i.nhapLaiMatKhauMoi,onChange:o,onToggle:()=>a("nhapLaiMatKhauMoi")}),g.createElement("div",{className:"flex flex-col md:flex-row md:items-center border-t border-gray-200 pt-6 mt-6"},g.createElement("div",{className:"w-full md:w-64 mb-4 md:mb-0"}),g.createElement("button",{onClick:l,className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition-colors"},"i mt khu")))),g.createElement("div",{className:"mt-8 text-center md:text-right text-xs text-gray-500"},"Copyright  2025 by CMICSTUDIO")))}function cOe(){const n=gr(),[e,t]=O.useState(null),{listStaff:r}=Un(s=>s.staff),i=()=>{if(!e){be.warning("Vui lng chn nhn vin trc khi thc hin!");return}console.log("X l i mt khu cho nhn vin:",e)};return O.useEffect(()=>{const s=async()=>{try{let o=await n(Ig());o.payload?.EC!==0&&be.error(o.payload?.EM||"Khng th ti danh sch nhn vin")}catch{be.error("Li kt ni h thng")}};r.length===0&&s()},[n,r.length]),g.createElement("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8 flex justify-center items-start"},g.createElement("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 w-full max-w-7xl overflow-hidden"},g.createElement("div",{className:"bg-gray-50/50 border-b border-gray-100 px-8 py-4 flex items-center gap-3"},g.createElement("h1",{className:"text-lg font-bold text-gray-800"},"Lm mi mt khu nhn vin")),g.createElement("div",{className:"p-8 space-y-8"},g.createElement("div",{className:"flex flex-col md:flex-row gap-4"},g.createElement("label",{className:"text-gray-700 text-sm font-medium md:w-32 md:text-left pt-2"},"Nhn vin ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"flex-1 space-y-2"},g.createElement(F0,{options:r,placeholder:"--- Chn nhn vin ---",labelKey:"userName",valueKey:"id",onChange:s=>t(s.id)}),g.createElement("p",{className:"text-xs text-gray-500 italic"},"* Mt khu s c t li v gi tr mc nh ca h thng."))),g.createElement("div",{className:"flex justify-end border-t border-gray-100 pt-6"},g.createElement("button",{onClick:i,className:"flex items-center gap-2 px-8 py-2.5 bg-blue-600 hover:bg-blue-700 active:scale-95 text-white rounded-lg text-sm font-semibold transition-all shadow-md hover:shadow-lg"},"Xc nhn i mt khu")))))}const cb="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm";function uOe(){const[n]=xD(),e=mr(),t=n.get("id"),r=!!t,[i]=O.useState(t),{control:s,handleSubmit:o,reset:a,setValue:l,getValues:u}=LS({defaultValues:{title:"",type:"",experience:"",status:!0,description:"",detail:"",image:"",id:i||null}}),[f,m]=O.useState(!1);O.useEffect(()=>{r&&i&&p(i)},[i,r]);const p=async v=>{m(!0);try{const w=await Lf.getRecruitmentByIdApi(v);if(w&&w.DT){const E=w.DT;l("title",E.title||""),l("type",E.type||""),l("experience",E.experience||""),l("status",E.status),l("description",E.description||""),l("detail",E.detail||""),l("image",E.image||""),l("id",E.id)}else be.error("Khng tm thy thng bo hoc li ti d liu.")}catch{be.error("Li khi ti chi tit thng bo.")}finally{m(!1)}},y=o(async v=>{m(!0);try{if(!v.title.trim()){be.error("Vui lng nhp tiu "),m(!1);return}if(!v.description.trim()){be.error("Vui lng nhp m t ngn"),m(!1);return}if(!v.type){be.error("Vui lng chn loi cng vic"),m(!1);return}if(!v.experience){be.error("Vui lng chn kinh nghim"),m(!1);return}if(!v.detail.replace(/<[^>]*>/g,"").trim()){be.error("Vui lng nhp ni dung"),m(!1);return}const E={...v,...r&&{id:i}};let k;r?(k=await Lf.updateRecruitmentApi(i,E),k&&k.EC===0?(be.success("Cp nht thng bo thnh cng!"),e("/recruitment/manager"),a()):be.error(k.EM)):(k=await Lf.createRecruitmentApi(E),k&&k.EC===0?(be.success("Thm mi thng bo thnh cng!"),e("/recruitment/manager"),a()):be.error(k.EM))}catch{be.error(`Li h thng khi ${r?"cp nht":"to"} thng bo`)}finally{m(!1)}});return g.createElement("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8"},g.createElement("div",{className:"max-w-full mx-auto"},g.createElement("h1",{className:"text-xl md:text-2xl text-gray-600"},r?"Chnh sa bi vit":"Thm bi mi"),g.createElement("div",{className:"max-w-0xl mx-auto px-4 py-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200"},g.createElement("div",{className:"p-6 space-y-6"},g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Tiu  ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(us,{name:"title",control:s,render:({field:v})=>g.createElement("input",{...v,type:"text",className:cb,placeholder:"Nhp tiu  thng bo"})}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Phn loi"),g.createElement("div",{className:"col-span-12 md:col-span-10 grid grid-cols-1 md:grid-cols-2 gap-4"},g.createElement(us,{name:"type",control:s,render:({field:v})=>g.createElement("select",{...v,className:cb},g.createElement("option",{value:""},"-- Chn loi --"),g.createElement("option",{value:"intern"},"Intern"),g.createElement("option",{value:"fulltime"},"Full-time"),g.createElement("option",{value:"freelance"},"Freelance"))}),g.createElement(us,{name:"experience",control:s,render:({field:v})=>g.createElement("select",{...v,className:cb},g.createElement("option",{value:""},"-- Kinh nghim --"),g.createElement("option",{value:"0-1"},"0  1 nm"),g.createElement("option",{value:"1-3"},"1  3 nm"),g.createElement("option",{value:"3-5"},"3  5 nm"),g.createElement("option",{value:"5+"},"Trn 5 nm"))}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2"},"Trng thi"),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement("div",{className:"flex items-center h-full pt-1"},g.createElement(us,{name:"status",control:s,render:({field:v})=>g.createElement("input",{type:"checkbox",checked:v.value,onChange:v.onChange,id:"status-checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),g.createElement("label",{htmlFor:"status-checkbox",className:"ml-2 text-sm font-medium text-gray-700"},"Hin th")))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Hnh nh"),g.createElement("div",{className:"col-span-12 md:col-span-3"},g.createElement(TH,{name:"image",control:s,label:"Chn hnh nh"}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"M t ngn ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(us,{name:"description",control:s,render:({field:v})=>g.createElement("textarea",{...v,rows:3,className:cb+" resize-none",placeholder:"Nhp m t ngn"})}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"M t ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(xA,{name:"detail",control:s,label:""})))),g.createElement("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg"},g.createElement("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:gap-3"},g.createElement("button",{type:"button",onClick:y,disabled:f,className:"px-3 sm:px-4 py-2 bg-[#337ab7] hover:bg-[#2e6da4] text-white rounded-lg flex items-center justify-center gap-1 sm:gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-xs sm:text-sm font-medium whitespace-nowrap cursor-pointer"},f?g.createElement(cu,{className:"w-4 h-4 animate-spin"}):g.createElement(cw,{className:"w-4 h-4"}),g.createElement("span",null,r?"Lu li":"Thm mi")),g.createElement("button",{type:"button",onClick:()=>e("/recruitment/manager"),disabled:f,className:"px-3 sm:px-4 py-2 bg-[#f0ad4e] hover:bg-[#e69c3b] text-white rounded-lg flex items-center justify-center gap-1 sm:gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-xs sm:text-sm font-medium whitespace-nowrap"},g.createElement(FD,{className:"w-4 h-4"}),g.createElement("span",null,"Tr v danh sch")))))),g.createElement("footer",{className:"mt-12 py-6 text-center text-sm text-gray-500 border-t border-gray-200"},"Copyright  2025 by G&BSoft")))}function dOe(){const{userInfo:n}=Un(a=>a.auth),e=gr();mr();const[t,r]=O.useState({email:n.email||"",userName:n.userName||"",role:n.role||"",phone:n.phone||"",address:n.address||""}),i=a=>{const{name:l,value:u,type:f,checked:m}=a.target;r(p=>({...p,[l]:f==="checkbox"?m:u}))},s=async()=>{let a=await e(yb(t));a&&a.payload&&a.payload.EC===0?be.success(a.payload.EM):be.error(a.payload.EM)},o=()=>{};return g.createElement("div",{className:"min-h-screen bg-gray-50 p-8"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("h1",{className:"text-2xl text-red-600 mb-8 font-medium"},"Thng c nhn ngi dng"),g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200"},g.createElement("div",{className:"p-8"},g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"H v tn"),g.createElement("input",{type:"text",name:"userName",value:t.userName,onChange:i,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"Email"),g.createElement("input",{type:"text",name:"email",value:t.email,onChange:i,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"Phone"),g.createElement("input",{type:"text",name:"phone",value:t.phone,onChange:i,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"a ch"),g.createElement("input",{type:"text",name:"address",value:t.address,onChange:i,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"Vai tr"),g.createElement("input",{type:"text",name:"role",value:t.role,onChange:i,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"flex items-center"},g.createElement("div",{className:"w-48"}),g.createElement("div",{className:"flex gap-3"},g.createElement("button",{onClick:s,className:"px-6 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded text-sm font-medium transition-colors"},"Lu li"),g.createElement("button",{onClick:o,className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded text-sm font-medium transition-colors"},"B qua"))))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-500"},"Copyright  2025 by CMICSTUDIO")))}const fOe=()=>{const n=mr(),e=gr(),[t,r]=O.useState(""),[i,s]=O.useState(""),o=async a=>{a.preventDefault();let l={username:t,password:i};if(t&&i){let u=await e(pb(l));u&&u.payload&&u.payload.EC===0?n("/profile/info"):be.error(u.payload.EM)}else be.error("Vui lng in y  thng tin ng nhp")};return g.createElement("div",{className:"flex items-center justify-center min-h-screen bg-white"},g.createElement("div",{className:"w-full max-w-xs sm:max-w-[360px] bg-white p-4 sm:p-0 text-center"},g.createElement("div",{className:"mb-6"},g.createElement("div",{className:"mx-auto w-32 h-32 mb-4"},g.createElement("img",{src:"/logo.png",alt:"HCA Logo",className:"w-full h-full object-contain"})),g.createElement("div",{className:"flex items-center justify-center space-x-3 mb-6"},g.createElement("div",{className:"flex-grow border-t border-gray-300 max-w-[40px]"}),g.createElement("h1",{className:"text-xl text-gray-700 font-light tracking-wide"},"ng nhp"),g.createElement("div",{className:"flex-grow border-t border-gray-300 max-w-[40px]"}))),g.createElement("form",{onSubmit:o},g.createElement("div",{className:"mb-4"},g.createElement("input",{type:"text",placeholder:"Email or phone",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-500 text-sm",required:!0,value:t,onChange:a=>r(a.target.value)})),g.createElement("div",{className:"mb-6"},g.createElement("input",{type:"password",placeholder:"Password",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-500 text-sm",required:!0,value:i,onChange:a=>s(a.target.value)})),g.createElement("div",{className:"flex justify-center space-x-2"},g.createElement("button",{type:"submit",className:"w-[90px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm"},"ng nhp"),g.createElement("button",{type:"button",className:"w-[90px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm",onClick:()=>n("/register")},"ng k"),g.createElement("button",{type:"button",className:"w-[70px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm",onClick:()=>console.log("Quay li trang trc")},"Quay li")),g.createElement("div",{className:"text-right text-sm mt-3 mb-6 pr-1"},g.createElement("a",{href:"#",className:"text-blue-500 hover:text-blue-700"},"Lost your password?"))),g.createElement("div",{className:"w-full border-t border-gray-300 mt-8 mb-4"}),g.createElement("div",{className:"text-center"},g.createElement("h2",{className:"text-lg text-gray-600 font-light tracking-widest mb-1"},"CMICSTUDIO"),g.createElement("p",{className:"text-xs text-gray-500"},"",new Date().getFullYear()," All Rights Reserved. Privacy and Terms"))))};var CH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eD=g.createContext&&g.createContext(CH),hOe=["attr","size","title"];function mOe(n,e){if(n==null)return{};var t=gOe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function gOe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function nw(){return nw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nw.apply(this,arguments)}function tD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(t),!0).forEach(function(r){pOe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pOe(n,e,t){return e=bOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bOe(n){var e=yOe(n,"string");return typeof e=="symbol"?e:e+""}function yOe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AH(n){return n&&n.map((e,t)=>g.createElement(e.tag,rw({key:t},e.attr),AH(e.child)))}function NH(n){return e=>g.createElement(wOe,nw({attr:rw({},n.attr)},e),AH(n.child))}function wOe(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=mOe(n,hOe),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),g.createElement("svg",nw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:rw(rw({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&g.createElement("title",null,s),n.children)};return eD!==void 0?g.createElement(eD.Consumer,null,t=>e(t)):e(CH)}function nD(n){return NH({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5zm-63.57-320.64L836 122.88a8 8 0 0 0-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 0 0 0 11.31L155.17 889a8 8 0 0 0 11.31 0l712.15-712.12a8 8 0 0 0 0-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 0 0-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 0 1 146.2-106.69L401.31 546.2A112 112 0 0 1 396 512z"},child:[]},{tag:"path",attr:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 0 0 227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 0 1-112 112z"},child:[]}]})(n)}function rD(n){return NH({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"},child:[]}]})(n)}const vOe=()=>{const n=mr(),e=gr(),[t,r]=O.useState(""),[i,s]=O.useState(""),[o,a]=O.useState(""),[l,u]=O.useState(""),[f,m]=O.useState(""),[p,y]=O.useState(""),[v,w]=O.useState(!1),[E,k]=O.useState(!1),T=async S=>{if(S.preventDefault(),!t||!i||!o||!l||!f){alert("Vui lng nhp y  thng tin bt buc.");return}if(i!==o){alert("Mt khu v nhp li mt khu khng khp.");return}const P={username:t,password:i,email:l,phone:f,address:p};try{const I=await e(bb(P));I&&I.payload.EC===0?(alert("ng k thnh cng!"),n("/login")):alert(I.payload.EM||"ng k tht bi.")}catch(I){console.error("Register error:",I),alert("C li xy ra, vui lng th li.")}};return g.createElement("div",{className:"flex items-center justify-center min-h-screen bg-white"},g.createElement("div",{className:"w-full max-w-xs sm:max-w-[360px] bg-white p-4 sm:p-0 text-center"},g.createElement("div",{className:"mb-6"},g.createElement("div",{className:"mx-auto w-32 h-32 mb-4"},g.createElement("img",{src:"/logo.png",alt:"HCA Logo",className:"w-full h-full object-contain"})),g.createElement("div",{className:"flex items-center justify-center space-x-3 mb-6"},g.createElement("div",{className:"flex-grow border-t border-gray-300 max-w-[40px]"}),g.createElement("h1",{className:"text-xl text-gray-700 font-light tracking-wide"},"ng k"),g.createElement("div",{className:"flex-grow border-t border-gray-300 max-w-[40px]"}))),g.createElement("form",{onSubmit:T},g.createElement("div",{className:"mb-4 text-left"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Username *"),g.createElement("input",{type:"text",placeholder:"Enter your username",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm",value:t,onChange:S=>r(S.target.value),required:!0})),g.createElement("div",{className:"mb-4 text-left"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Email *"),g.createElement("input",{type:"email",placeholder:"Enter your email",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm",value:l,onChange:S=>u(S.target.value),required:!0})),g.createElement("div",{className:"mb-4 text-left"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Phone *"),g.createElement("input",{type:"text",placeholder:"Enter your phone",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm",value:f,onChange:S=>m(S.target.value),required:!0})),g.createElement("div",{className:"mb-4 text-left"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Address"),g.createElement("input",{type:"text",placeholder:"Enter your address",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm",value:p,onChange:S=>y(S.target.value)})),g.createElement("div",{className:"mb-4 text-left relative"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Password *"),g.createElement("input",{type:v?"text":"password",placeholder:"Enter your password",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm pr-10",value:i,onChange:S=>s(S.target.value),required:!0}),g.createElement("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500",onClick:()=>w(!v)},v?g.createElement(nD,{size:20}):g.createElement(rD,{size:20}))),g.createElement("div",{className:"mb-6 text-left relative"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Confirm Password *"),g.createElement("input",{type:E?"text":"password",placeholder:"Re-enter your password",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm pr-10",value:o,onChange:S=>a(S.target.value),required:!0}),g.createElement("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500",onClick:()=>k(!E)},E?g.createElement(nD,{size:20}):g.createElement(rD,{size:20}))),g.createElement("div",{className:"flex justify-center space-x-2"},g.createElement("button",{type:"submit",className:"w-[90px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm"},"ng k"),g.createElement("button",{type:"button",className:"w-[90px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm",onClick:()=>n("/login")},"ng nhp"))),g.createElement("div",{className:"w-full border-t border-gray-300 mt-8 mb-4"}),g.createElement("div",{className:"text-center"},g.createElement("h2",{className:"text-lg text-gray-600 font-light tracking-widest mb-1"},"CMICSTUDIO"),g.createElement("p",{className:"text-xs text-gray-500"},"",new Date().getFullYear()," All Rights Reserved. Privacy and Terms"))))};function PH(){return g.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-white/95 z-[10000]"},g.createElement("div",{className:"flex flex-col items-center gap-4"},g.createElement("div",{className:"relative"},g.createElement("div",{className:"h-16 w-16 border-4 border-blue-100 rounded-full"}),g.createElement("div",{className:"h-16 w-16 border-4 border-t-blue-500 border-r-blue-500 rounded-full animate-spin absolute top-0"})),g.createElement("p",{className:"text-gray-600 text-base font-medium tracking-wide"},"ang ti d liu...")))}function iw({product:n,isTopSeller:e=!1}){const[t,r]=O.useState(!1),i=mr(),s=()=>{const o=n.category_id||n.categoryId||"all",a=n.id;i(`/${Hf(n.name)}/${o}/${a}`)};return g.createElement("div",{onClick:s,className:"group bg-white rounded-2xl overflow-hidden transition-all duration-500 cursor-pointer shadow-lg hover:shadow-2xl hover:-translate-y-2"},g.createElement("div",{className:"relative overflow-hidden h-40 sm:h-44"},g.createElement(fa,{imagePath:n.image,className:"w-full h-full object-contain group-hover:scale-110 transition-transform duration-700"}),g.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),g.createElement("div",{className:"absolute top-2 right-2 bg-red-500 text-white font-bold shadow-lg rounded-full px-3 py-1 text-xs"},"-25%"),g.createElement("button",{onClick:o=>{o.stopPropagation(),r(!t)},className:"absolute bottom-2 right-2 bg-white/95 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 hover:scale-110 shadow-lg w-9 h-9"},g.createElement(MG,{className:`w-4 h-4 transition-colors ${t?"fill-red-500 text-red-500":"text-gray-600"}`}))),g.createElement("div",{className:"p-3 sm:p-4"},g.createElement("h3",{className:"text-gray-800 font-bold mb-1.5 line-clamp-2 group-hover:text-orange-600 transition-colors text-base sm:text-lg min-h-[40px]"},n.name),g.createElement("div",{className:"flex flex-row items-baseline gap-2 mb-4 justify-between"},g.createElement("div",{className:"flex flex-col"},e?g.createElement("div",{className:"flex items-center gap-1.5"},g.createElement("span",{className:"font-bold text-[10px] sm:text-[11px] text-gray-900"},n.price.toLocaleString("vi-VN")," VN"),g.createElement("span",{className:"text-gray-400 line-through text-[11px]"},(Number(n.price||0)*1.25).toLocaleString("vi-VN")," VN")):g.createElement("div",{className:"flex flex-col gap-0.5"},g.createElement("span",{className:"font-bold text-[10px] sm:text-[11px] text-gray-900"},Number(n.price).toLocaleString("vi-VN")," VN"),g.createElement("span",{className:"text-gray-400 line-through text-[11px] sm:text-[12px] font-medium"},(Number(n.price||0)*1.25).toLocaleString("vi-VN")," VN"))),g.createElement("div",{className:`bg-green-50 border border-green-100 rounded-full flex items-center shadow-sm transition-colors hover:bg-green-100 w-fit px-3 py-1.5
                        }`},g.createElement("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-bold mr-1.5"},"LH:"),g.createElement("span",{className:"font-bold text-green-700 tracking-wider text-[12px]"},"037.2672.396")))))}const _Oe=[{title:"COMBO KT NI LIVESTREAM",subtitle:"CHUYN NGHIP",img:"https://images.unsplash.com/photo-1590602847861-f357a9332bbc?w=600&q=80"},{title:"COMBO PH KIN C BN",subtitle:"TI U HIU SUT",img:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=600&q=80"},{title:"B 3 PH KIN",subtitle:"CHO MIC KHNG DY",img:"https://images.unsplash.com/photo-1545127398-14699f92334b?w=600&q=80"},{title:"COMBO CHN M",subtitle:"DNH CHO PODCASTER",img:"https://images.unsplash.com/photo-1589903308904-1010c2294adc?w=600&q=80"}],iD=({header:n,products:e,bannerImage:t,buttonLink:r})=>{const i=e.slice(0,6);return g.createElement("section",{className:"px-5 sm:px-0 py-4 md:py-8 bg-white"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"flex justify-between items-center mb-12 mt-5"},g.createElement("h2",{className:"text-2xl lg:text-3xl font-black text-black uppercase tracking-tighter"},n),g.createElement("div",{className:"hidden md:block flex-1 h-[1px] bg-gray-100 mx-10"})),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8"},g.createElement("div",{className:"md:col-span-4 flex justify-center self-center"},g.createElement("div",{className:"hidden md:block relative w-full max-w-[542px] aspect-[542/640] rounded-[2.5rem] overflow-hidden shadow-2xl group cursor-pointer"},g.createElement("img",{src:t,alt:"",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}))),g.createElement("div",{className:"md:col-span-8"},g.createElement("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 cursor-pointer"},i.map(s=>g.createElement(iw,{key:s.id,product:s,ProductCard:!0}))))),g.createElement("div",{className:"mt-12 text-center"},g.createElement("a",{href:r,className:"inline-flex items-center justify-center px-10 py-4 bg-[#ed792f] text-white text-lg font-bold rounded-full shadow-lg hover:brightness-110 hover:scale-105 transition-all duration-300"},"Xem thm"))))},xOe=({article:n})=>g.createElement("div",{className:"bg-white rounded-[1.5rem] md:rounded-[2rem] shadow-sm hover:shadow-2xl transition-all duration-500 overflow-hidden group cursor-pointer md:hover:-translate-y-1 border border-gray-100"},g.createElement("div",{className:"h-40 md:h-48 w-full overflow-hidden"},g.createElement(fa,{imagePath:n.image,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})),g.createElement("div",{className:"p-4 md:p-6"},g.createElement("h3",{className:"text-base md:text-lg font-bold text-gray-900 mb-3 md:mb-4 line-clamp-2 min-h-[40px] md:min-h-[44px] group-hover:text-[#ed792f] transition-colors uppercase italic"},n.title),g.createElement("span",{className:"inline-flex items-center text-[#ed792f] font-black text-[10px] md:text-xs uppercase tracking-widest"},"c thm ",g.createElement(NT,{className:"ml-1 md:ml-2 w-3 h-3 md:w-4 md:h-4"}))));function EOe(){const n=gr(),[e,t]=O.useState(0),{PostList:r}=Un(w=>w.post),{ProductDropdown:i}=Un(w=>w.product),[s,o]=O.useState([]),[a,l]=O.useState([]),[u,f]=O.useState([]),m=[{img:"/bannerhome1.png"},{img:"/bannerhome2.png"},{img:"/bannerhome3.png"}],p=O.useCallback(()=>{t(w=>(w+1)%m.length)},[m.length]);O.useEffect(()=>{const w=setInterval(p,5e3);return()=>clearInterval(w)},[p]);const y=async()=>{let w=await n(Ff({page:1,limit:3})).unwrap();w&&w.EC!==0&&be.error(w.EM),await n(Pg()).unwrap();let E=await Mf.getProductsByCategory(c2.comboLivestream);E&&E.DT&&o(E.DT);let k=await Mf.getProductsByCategory(c2.resPhuKienThuAm);k&&k.DT&&l(k.DT);let T=await Mf.getProductsByCategory(c2.Loa);T&&T.DT&&f(T.DT)};O.useEffect(()=>{y()},[]);const v=O.useMemo(()=>[...i].sort(()=>Math.random()-.5).slice(0,3),[i]);return g.createElement("div",{className:"min-h-screen bg-white font-sans selection:bg-[#ed792f] selection:text-white"},g.createElement("main",{className:""},g.createElement("section",{className:"w-full mt-6 mb-12 px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"relative w-full max-w-[650px] lg:max-w-[1280px] aspect-[3/2] rounded-[3rem] overflow-hidden shadow-2xl mx-auto"},g.createElement("div",{className:"flex h-full transition-transform duration-1000 cubic-bezier(0.4, 0, 0.2, 1)",style:{transform:`translateX(-${e*100}%)`}},m.map((w,E)=>g.createElement("div",{key:E,className:"relative flex-shrink-0 w-full h-full"},g.createElement("img",{src:w.img,alt:"",className:"hidden md:block absolute inset-0 w-full h-full object-contain"}),g.createElement("img",{src:w.img,alt:"",className:"block md:hidden absolute inset-0 w-full h-full object-cover"})))),g.createElement("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex space-x-3"},m.map((w,E)=>g.createElement("button",{key:E,onClick:()=>t(E),className:`h-2 rounded-full transition-all ${e===E?"bg-white w-12":"bg-white/40 w-2"}`})))))),g.createElement("section",{className:"max-w-7xl mx-auto py-8 md:py-10 px-8 bg-[#ed792f] overflow-hidden rounded-2xl"},g.createElement("div",{className:"flex flex-col items-center mb-10 md:mb-16"},g.createElement("h2",{className:"text-3xl lg:text-4xl font-black text-black tracking-tighter uppercase"},"TOP SELLER"),g.createElement("p",{className:"text-black/80 font-bold uppercase mt-4 md:mt-6 text-xs md:text-sm text-center"},"Sn phm khch hng tin dng nht")),g.createElement("div",{className:`\r
                            flex flex-nowrap overflow-x-auto gap-6 pb-15 scrollbar-hide\r
                            sm:grid sm:grid-cols-2 lg:grid-cols-3 sm:gap-x-3 sm:gap-y-4 sm:overflow-visible sm:pb-0\r
                            snap-x snap-mandatory\r
                        `},v.map(w=>g.createElement("div",{key:w.id,className:"relative min-w-[80%] sm:min-w-0 snap-center flex-shrink-0 sm:flex-shrink"},g.createElement(iw,{product:w,isTopSeller:!0}),g.createElement("div",{className:"absolute -top-2 -left-2 bg-black text-white px-3 py-1 text-[10px] font-bold shadow-lg transform -rotate-12 origin-top-left z-10",style:{clipPath:"polygon(0 0, 100% 0, 85% 100%, 0 100%)"}},g.createElement("div",{className:"transform rotate-12 text-center leading-tight"},g.createElement("div",{className:"text-[8px]"},"TOP"),g.createElement("div",{className:"font-black"},"SELLER"))))))),g.createElement(iD,{header:"COMBO LIVESTREAM",products:s,bannerImage:"/BannerBLivestream.png",buttonLink:"/combo-livestream/1/all"}),g.createElement("section",{className:"py-8 md:py-16 px-4 sm:px-6 lg:px-8 bg-white"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"flex justify-between items-center mb-6 md:mb-6"},g.createElement("h2",{className:"text-xl md:text-2xl lg:text-3xl font-black text-black uppercase tracking-tighter"},"PH KIN THU M"),g.createElement("div",{className:"hidden md:block flex-1 h-[1px] bg-gray-100 mx-10"})),g.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-x-4 gap-y-6 md:gap-y-10"},a.slice(0,8).map(w=>g.createElement(iw,{key:w.id,product:w}))),g.createElement("div",{className:"mt-10 md:mt-16 text-center"},g.createElement("a",{href:"/phu-kien-thu-am/11/all",className:"inline-flex items-center justify-center px-8 md:px-12 py-3 md:py-4 bg-[#ed792f] text-white text-xs md:text-sm font-black uppercase tracking-widest rounded-full shadow-xl hover:bg-black hover:scale-105 transition-all duration-300"},"Xem thm sn phm")))),g.createElement("section",{className:"sm:px-4 lg:px-6"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"flex flex-nowrap overflow-x-auto pb-6 gap-4 md:gap-8 scrollbar-hide sm:grid sm:grid-cols-2 lg:grid-cols-4 sm:overflow-visible"},_Oe.map((w,E)=>g.createElement("div",{key:E,className:"group relative aspect-[4/3] min-w-[85%] sm:min-w-0 overflow-hidden rounded-[1.5rem] md:rounded-[2.5rem] shadow-xl cursor-pointer bg-gray-100 flex-shrink-0 sm:flex-shrink"},g.createElement("img",{src:w.img,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-all duration-700",alt:""}),g.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-[#ed792f] via-[#ed792f]/20 to-transparent opacity-90 group-hover:opacity-100 transition-opacity"}),g.createElement("div",{className:"absolute inset-0 p-5 md:p-8 flex flex-col justify-end text-white"},g.createElement("span",{className:"text-[10px] font-black tracking-[0.3em] mb-1 md:mb-2 opacity-80 uppercase"},w.subtitle),g.createElement("h3",{className:"text-lg md:text-xl font-black leading-tight uppercase italic drop-shadow-md group-hover:text-yellow-300 transition-colors"},w.title),g.createElement("div",{className:"mt-2 md:mt-4 w-12 h-1 bg-white group-hover:w-24 transition-all duration-500"}))))))),g.createElement(iD,{header:"LOA KIM M",products:u,bannerImage:"/BannerLoa.png",buttonLink:"/loa-kiem-am/12/all"}),g.createElement("section",{className:"py-16 md:py-10 px-4 sm:px-6 lg:px-8 bg-gray-50 border-t border-gray-100 overflow-hidden"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"text-center mb-6 md:mb-10"},g.createElement("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-black text-black uppercase tracking-tighter"},"BI VIT HU CH"),g.createElement("p",{className:"text-gray-400 font-medium uppercase tracking-[0.3em] text-[9px] md:text-[10px] mt-2"},"Chia s kinh nghim & K thut m thanh")),g.createElement("div",{className:`\r
                            flex flex-nowrap overflow-x-auto gap-6 pb-8 scrollbar-hide\r
                            md:grid md:grid-cols-3 md:gap-10 md:overflow-visible md:pb-0\r
                            snap-x snap-mandatory\r
                        `},r.map((w,E)=>g.createElement("div",{key:E,className:"min-w-[80%] sm:min-w-[45%] md:min-w-0 snap-center flex-shrink-0 md:flex-shrink"},g.createElement(xOe,{article:w}))))))))}function kOe(){return g.createElement("div",{className:"min-h-screen bg-white"},g.createElement("section",{className:"max-w-7xl mx-auto px-4 py-16 bg-white"},g.createElement("h2",{className:"text-4xl font-bold text-orange-500 text-center mb-12"},"CU CHUYN THNG HIU"),g.createElement("div",{className:"grid md:grid-cols-2 gap-8 items-center"},g.createElement("div",{className:"relative"},g.createElement("img",{src:"/CauChuyenThuongHieu.png",alt:"CU CHUYN THNG HIU",className:"mx-auto mb-12"})),g.createElement("div",{className:"space-y-6"},g.createElement("p",{className:"text-gray-700 leading-relaxed"},"Trong sut thi gian lm ni dung, thu m ging ni hay ht live ti nh, hu ht khch hng u gp chung mt vn : H khng bit mnh cn mua g. Khng phi v h thiu am m, khng phi v h li tm hiu, m v th trng qu nhiu thng tin:"),g.createElement("ul",{className:"space-y-3 text-gray-700"},g.createElement("li",{className:"flex items-start gap-2"},g.createElement("span",{className:"text-orange-500 font-bold"},""),g.createElement("span",null,"Thng s k thut phc tp")),g.createElement("li",{className:"flex items-start gap-2"},g.createElement("span",{className:"text-orange-500 font-bold"},""),g.createElement("span",null,"Nghe t vn mi ni mt kiu")),g.createElement("li",{className:"flex items-start gap-2"},g.createElement("span",{className:"text-orange-500 font-bold"},""),g.createElement("span",null,"S mua sai ri li tn tin")),g.createElement("li",{className:"flex items-start gap-2"},g.createElement("span",{className:"text-orange-500 font-bold"},""),g.createElement("span",null,"Cch setup phc tp, mi khng ra c cht lng nh mong mun"))),g.createElement("p",{className:"text-gray-700 leading-relaxed"},"Ngi mi ch cn mt th: s r rng v mt ngi c th ng hnh. Nhng th trng li cha ai lm iu  ng ngha."),g.createElement("p",{className:"text-gray-700 leading-relaxed"},"V  l lc hai con ngi - hai nng lc - gp nhau. Mt ngi am hiu sn phm, k thut nhng cha tng ngh n vic xy dng mt thng hiu bi bn, c h thng hay c nh hng di hn. Ngi cn li, xut pht im l mt khch hng, nhn thy c tim nng v sn sng b sung cho nhng iu cn thiu st:"),g.createElement("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded"},g.createElement("p",{className:"text-gray-700 italic"},'"Nu nhng kin thc k thut kia c h thng li, nu c mt thng hiu thc s quan tm ti vic gip khch hng chn ng thit b ngay t u, th y khng cn l vic bn l, m l mt dch v c gi tr thc s."')),g.createElement("p",{className:"text-gray-800 font-semibold"},"T mt ci bt tay, thng hiu CMIC Studio t  ra i."),g.createElement("p",{className:"text-gray-700 leading-relaxed"},"Tt c hnh trnh thng hiu t ngy u n hin ti u xoay quanh mt nguyn tc:"),g.createElement("div",{className:"text-center py-4"},g.createElement("p",{className:"text-xl font-bold text-gray-800 mb-2"},"T VN TH BN MUN - BN NG TH BN CN"),g.createElement("p",{className:"text-gray-600"},"Chng ti khng chy theo vic bn nhiu nht. Chng ti theo ui vic bn ng nht."))))),g.createElement("section",{className:"bg-white px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-orange-500 text-center mb-10 tracking-wider"},"TM NHN"),g.createElement("div",{className:"relative bg-black text-white rounded-[2rem] overflow-hidden py-20 px-6 md:px-12 shadow-2xl"},g.createElement("div",{className:"absolute inset-0 opacity-40 bg-[url('https://images.unsplash.com/photo-1590602847861-f357a9332bbc?q=80&w=2000')] bg-cover bg-center"}),g.createElement("div",{className:"relative z-10"},g.createElement("div",{className:"text-center mb-16 max-w-4xl mx-auto space-y-4"},g.createElement("p",{className:"text-lg md:text-xl font-semibold leading-relaxed"},"Tr thnh h sinh thi audio ton din dnh cho nh sng to ni dung m thanh ti Vit Nam - ni khch hng c ng hnh t thit b, k thut, n kin thc ti u m thanh."),g.createElement("p",{className:"text-orange-400 italic text-sm md:text-base"},"Trong 3 - 5 nm ti, CMIC Studio hng n:")),g.createElement("div",{className:"grid md:grid-cols-3 gap-12 text-center"},g.createElement("div",{className:"flex flex-col items-center"},g.createElement(xN,{className:"w-16 h-16 text-orange-500 mb-6"}),g.createElement("h3",{className:"font-bold text-lg mb-2 text-white"},"Xy dng thng hiu chun mc t vn m thanh cho ngi mi, uy tn nht ti Vit Nam.")),g.createElement("div",{className:"flex flex-col items-center"},g.createElement(sY,{className:"w-16 h-16 text-orange-500 mb-6"}),g.createElement("h3",{className:"font-bold text-lg mb-2 text-white"},"Pht trin h thng dch v setup livestream - nng cao cht lng m thanh v hnh nh - la chn thit b ph hp v chuyn nghip")),g.createElement("div",{className:"flex flex-col items-center"},g.createElement(CY,{className:"w-16 h-16 text-orange-500 mb-6"}),g.createElement("h3",{className:"font-bold text-lg mb-2 text-white"},"To ra mt h sinh thi ni dung, kha hc v ti nguyn cht lng  bt k ai cng c th bt u hnh trnh tr thnh nh sng to ni dung m thanh khng ro cn"))),g.createElement("div",{className:"mt-20 text-center max-w-4xl mx-auto border-t border-white/10 pt-8"},g.createElement("p",{className:"text-lg md:text-xl font-medium"},"Tm nhn ca chng ti da trn mt nim tin n gin:"),g.createElement("p",{className:"italic text-gray-400 mb-2  "},"m thanh cht lng khng nn l c quyn ca nhng ngi chuyn v k thut, m l quyn ca mi nh sng to ni dung.")))))),g.createElement("section",{className:"bg-white py-16 px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-orange-500 text-center mb-10 tracking-wider"},"S MNH"),g.createElement("div",{className:"relative bg-[#0a0a0a] text-white rounded-[2rem] overflow-hidden py-20 px-6 md:px-12 shadow-2xl"},g.createElement("div",{className:"absolute inset-0 opacity-30 bg-[url('https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?q=80&w=2000')] bg-cover bg-center"}),g.createElement("div",{className:"relative z-10"},g.createElement("div",{className:"text-center mb-12 space-y-4 max-w-4xl mx-auto"},g.createElement("p",{className:"text-lg md:text-xl font-semibold"},"Gip cc nh sng to ni dung to ra m thanh cht lng mt cch d dng, ng nhu cu v khng tn km sai lm."),g.createElement("p",{className:"text-gray-300"},"CMIC Studio tn ti vi mc tiu duy nht: gii quyt ni lo ",g.createElement("span",{className:"text-white font-bold"},'"mua sai thit b"')," v mang n tri nghim m thanh trn vn cho khch hng."),g.createElement("p",{className:"italic text-gray-400"},"Chng ti thc hin iu  bng cch:")),g.createElement("div",{className:"grid md:grid-cols-2 gap-8"},g.createElement("div",{className:"bg-white text-black p-8 rounded-[1.5rem] relative min-h-[140px] flex items-center shadow-lg"},g.createElement("p",{className:"font-bold text-lg pr-12 leading-tight"},"T vn c nhn ho 1:1 da trn mc tiu v nhu cu ca khch"),g.createElement(VD,{className:"absolute bottom-4 right-6 w-10 h-10 text-orange-500"})),g.createElement("div",{className:"bg-white text-black p-8 rounded-[1.5rem] relative min-h-[140px] flex items-center shadow-lg"},g.createElement("p",{className:"font-bold text-lg pr-12 leading-tight"},"m bo bn ng - khng upsell - khng lng ph"),g.createElement(_N,{className:"absolute bottom-4 right-6 w-10 h-10 text-orange-500"})),g.createElement("div",{className:"bg-white text-black p-8 rounded-[1.5rem] relative min-h-[140px] flex items-center shadow-lg"},g.createElement("p",{className:"font-bold text-lg pr-12 leading-tight"},"ng hnh & h tr sau bn"),g.createElement(EN,{className:"absolute bottom-4 right-6 w-10 h-10 text-orange-500"})),g.createElement("div",{className:"bg-white text-black p-8 rounded-[1.5rem] relative min-h-[140px] flex items-center shadow-lg"},g.createElement("p",{className:"font-bold text-lg pr-12 leading-tight"},"H thng ho kin thc m thanh  gip khch hng hiu - lm - kim sot cht lng theo cch n gin nht."),g.createElement(Qq,{className:"absolute bottom-4 right-6 w-10 h-10 text-orange-500"}))))))),g.createElement("section",{className:"bg-white py-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4"},g.createElement("div",{className:"grid md:grid-cols-2 gap-12 items-center"},g.createElement("div",null,g.createElement("h2",{className:"text-4xl font-bold text-orange-500 mb-6"},"LNH VC HOT NG"),g.createElement("h1",{className:" font-medium mb-6 text-gray-700 leading-relaxed"},"Chng ti cung cp thit b thu m chnh hng, ng thi h tr cc dch v i km nh set up live stream, ci cubase, cho thu linh ng cc thit b ty theo nhu cu ca khch hng.")),g.createElement("img",{src:"/LinhVucHoatDong.png",alt:"LNH VC HOT NG",className:"bg-white "})))),g.createElement("section",{className:"bg-white py-4 px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"text-center mb-16"},g.createElement("h2",{className:"text-4xl font-bold text-orange-500 inline-block relative pb-4"},"GI TR CT LI",g.createElement("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-24 h-1 bg-black"}))),g.createElement("div",{className:"grid md:grid-cols-3 gap-y-12 gap-x-8"},g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(PY,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"NHIT TNH - TN TM - CHUYN NGHIP"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Mi khch hng u c h tr nghim tc")),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(mY,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"MINH BCH GI"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},'Khng i gi, khng "seller ni sao th mua vy".')),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(_N,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"KHNG UPSELL"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Nu thit b r hn m dng vn tt - chng ti chn phng n ")),g.createElement("div",{className:"hidden md:block col-span-3 h-[10px] bg-black my-4"}),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(xN,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"T VN NG NHU CU"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Khng phi ai cng cn soundcard 3-4 triu; i khi ch cn micro 900k.")),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(EN,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"NG HNH SAU BN"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Setup 1:1, h tr chnh v khc phc vn  v m thanh")),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(wY,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"TI U CHI PH"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Gip khch trnh mua sai, trnh lng ph"))))),g.createElement("section",{className:"max-w-7xl mx-auto px-4 py-12 md:py-20"},g.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-orange-500 text-center mb-10 md:mb-16"},"NH SNG LP CMIC STUDIO"),g.createElement("div",{className:"relative w-full bg-white overflow-hidden flex flex-col lg:block py-10 lg:py-20"},g.createElement("div",{className:"flex flex-col lg:block items-center mb-16 lg:mb-0"},g.createElement("div",{className:"lg:absolute lg:left-0 lg:top-1/2 lg:-translate-y-1/2 z-0 mb-6 lg:mb-0"},g.createElement("img",{src:"/thao.jpg",alt:"NGUYN THANH THO",className:"h-[300px] md:h-[380px] w-[250px] md:w-[300px] object-cover mx-auto",style:{clipPath:"polygon(15% 0%, 100% 0%, 85% 100%, 0% 100%)"}})),g.createElement("div",{className:"relative z-10 lg:max-w-3xl lg:mx-auto text-center lg:text-left"},g.createElement("div",{className:"lg:translate-x-15 inline-block px-8 py-4 w-full lg:w-auto",style:{background:"linear-gradient(to right, #f3f4f6 0%, rgba(243, 244, 246, 0) 100%)"}},g.createElement("h3",{className:"text-2xl md:text-3xl font-bold tracking-wide"},"NGUYN THANH THO"),g.createElement("p",{className:"mt-1 md:mt-2 text-gray-600 tracking-widest text-sm md:text-base"},"FOUNDER")))),g.createElement("div",{className:"hidden lg:block h-px bg-gray-200 w-1/3 mx-auto my-16 relative z-10"}),g.createElement("div",{className:"flex flex-col lg:block items-center"},g.createElement("div",{className:"lg:absolute lg:right-0 lg:top-1/2 lg:-translate-y-1/2 z-0 mb-6 lg:mb-0 order-first lg:order-none"},g.createElement("img",{src:"/quynh.jpg",alt:"L XUN QUNH",className:"h-[300px] md:h-[380px] w-[250px] md:w-[300px] object-cover mx-auto",style:{clipPath:"polygon(15% 0%, 100% 0%, 85% 100%, 0% 100%)"}})),g.createElement("div",{className:"relative z-10 lg:max-w-3xl lg:mx-auto text-center lg:text-right"},g.createElement("div",{className:"lg:-translate-x-15 inline-block px-8 py-4 w-full lg:w-auto",style:{background:"linear-gradient(to left, #f3f4f6 0%, rgba(243, 244, 246, 0) 100%)"}},g.createElement("h3",{className:"text-2xl md:text-3xl font-bold tracking-wide"},"L XUN QUNH"),g.createElement("p",{className:"mt-1 md:mt-2 text-gray-600 tracking-widest text-sm md:text-base"},"CO-FOUNDER")))))))}const ub={clipPath:"polygon(50% 0%, 93% 25%, 93% 75%, 50% 100%, 7% 75%, 7% 25%)"},TOe={cyan:"bg-cyan-400",slate:"bg-slate-700",yellow:"bg-yellow-400",orange:"bg-orange-400"},SOe=()=>g.createElement("div",{className:"bg-orange-50 min-h-screen font-sans text-gray-800 pb-20"},g.createElement("section",{className:"relative w-full bg-[#f9f4f0] pt-16 pb-32 overflow-hidden"},g.createElement("div",{className:"absolute bottom-0 right-0 w-64 h-64 opacity-20",style:{backgroundImage:"radial-gradient(#000 1.5px, transparent 1.5px)",backgroundSize:"20px 20px"}}),g.createElement("div",{className:"absolute bottom-24 right-0 w-[55%] h-20 bg-orange-500 -z-0 rounded-l-full hidden md:block"}),g.createElement("div",{className:"max-w-7xl mx-auto px-6 relative z-10"},g.createElement("div",{className:"grid md:grid-cols-2 items-center gap-4"},g.createElement("div",{className:"flex flex-col space-y-4"},g.createElement("div",{className:"relative"},g.createElement("h2",{className:"text-[#e67e22] text-6xl md:text-8xl font-black leading-none mb-2 tracking-tighter"},"Dch v"),g.createElement("h1",{className:"text-gray-900 text-4xl md:text-5xl font-black uppercase tracking-tight leading-tight"},"SETUP PHNG HT ",g.createElement("br",null),"LIVESTREAM"),g.createElement("p",{className:"text-gray-600 italic font-semibold text-lg mt-4"},"m bo ng yu cu, chuyn nghip")),g.createElement("div",{className:"pt-6"},g.createElement("div",{className:"inline-flex items-center bg-white border-[3px] border-black rounded-2xl px-5 py-3 gap-4 shadow-[5px_5px_0px_0px_rgba(0,0,0,1)] hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all cursor-pointer"},g.createElement("div",{className:"bg-black p-2 rounded-full"},g.createElement(Bf,{size:20,className:"text-white fill-white"})),g.createElement("span",{className:"text-2xl font-black text-gray-900 tracking-wider"},"037.267.2396")))),g.createElement("div",{className:"relative h-[450px] mt-12 md:mt-0 hidden md:block"},g.createElement("div",{className:"absolute top-0 left-20 grid grid-cols-5 gap-2 z-0"},[...Array(10)].map((n,e)=>g.createElement("div",{key:e,className:"font-bold text-xl"},"+"))),g.createElement("div",{className:"absolute -right-6 -top-38  w-90 h-90 drop-shadow-xl z-10"},g.createElement("div",{className:"w-full h-full bg-orange-500 p-1.5",style:ub},g.createElement("div",{className:"w-full h-full bg-white overflow-hidden",style:ub},g.createElement("img",{src:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=500",className:"w-full h-full object-cover",alt:"setup 1"})))),g.createElement("div",{className:"absolute left-6 top-[20%] translate-y-1 w-90 h-90 drop-shadow-2xl z-20"},g.createElement("div",{className:"w-full h-full bg-orange-500 p-1.5",style:ub},g.createElement("div",{className:"w-full h-full bg-white overflow-hidden",style:ub},g.createElement("img",{src:"https://images.unsplash.com/photo-1478737270239-2fccd2c7862a?w=600",className:"w-full h-full object-cover",alt:"setup 2"})))))))),g.createElement("section",{className:"max-w-6xl mx-auto px-4 py-12"},g.createElement("p",{className:"text-center text-lg mb-12 max-w-4xl mx-auto leading-relaxed"},"Cht lng livestream ph thuc trc tip vo m thanh, nh sng v khng gian. Nhng vn  nh hnh nh thiu sng, m thanh khng n nh hoc khng gian khng ph hp thng khin bui livestream km hiu qu v thiu chuyn nghip. CMIC STUDIO cung cp dch v setup gc livestream ht trn gi, gip ngi dng sn sng ln sng vi cht lng n nh ngay t u."),g.createElement("div",{className:"grid md:grid-cols-3 gap-8"},g.createElement("div",{className:"bg-white p-6 rounded-3xl border-2 border-orange-400 relative shadow-sm"},g.createElement("div",{className:"bg-orange-500 text-white px-6 py-2 rounded-xl absolute -top-5 left-6 font-bold"},"Gii php m thanh"),g.createElement("p",{className:"mt-6 text-sm leading-relaxed"},"H thng m thanh c thit lp v cn chnh ph hp cho livestream ht, m bo ging ht r rng, n nh v hn ch ti a cc li thng gp nh h, r hoc v ting. Thit b c la chn da trn nhu cu s dng v ngn sch thc t ca khch hng.")),g.createElement("div",{className:"bg-white p-6 rounded-3xl border-2 border-orange-400 relative shadow-sm"},g.createElement("div",{className:"bg-orange-500 text-white px-6 py-2 rounded-xl absolute -top-5 left-6 font-bold"},"Hnh nh v nh sng"),g.createElement("p",{className:"mt-6 text-sm leading-relaxed"},"CMIC STUDIO thit k b cc nh sng ph hp vi tng khng gian v gc quay, gip hnh nh ln sng r nt, cn bng sng v ni bt ch th. Ngi dng c th livestream ngay m khng cn x l hnh nh phc tp.")),g.createElement("div",{className:"bg-white p-6 rounded-3xl border-2 border-orange-400 relative shadow-sm"},g.createElement("div",{className:"bg-orange-500 text-white px-6 py-2 rounded-xl absolute -top-5 left-6 font-bold"},"Khng gian livestream"),g.createElement("p",{className:"mt-6 text-sm leading-relaxed"},"Khng gian c b tr ring t, gn gng v ph hp cho hot ng livestream ht. Cch sp xp ti u gip to cm gic chuyn nghip, ng thi nng cao tri nghim cho c ngi livestream v ngi xem.")))),g.createElement("section",{className:"max-w-5xl mx-auto px-4 py-16"},g.createElement("h2",{className:"text-orange-600 text-3xl font-bold text-center mb-12 uppercase tracking-wide"},"Quy trnh setup ht livestream"),g.createElement("div",{className:"relative flex flex-col md:flex-row justify-between gap-16 md:gap-4 mt-10"},g.createElement("div",{className:"hidden md:block absolute top-1/2 left-0 w-full h-0.5 border-t-2 border-dashed border-gray-300 -z-0"}),[{title:"Tip nhn nhu cu & ngn sch",color:"cyan"},{title:"T vn gii php ph hp",color:"slate"},{title:"Setup m thanh - nh sng - gc quay",color:"yellow"},{title:"Hng dn s dng & h tr",color:"orange"}].map((n,e)=>g.createElement("div",{key:e,className:"relative z-10 bg-white border-2 border-gray-100 rounded-2xl p-6 w-full md:w-60 shadow-md text-center flex flex-col items-center"},g.createElement("div",{className:`
                                absolute -top-10 w-20 h-20 rounded-full 
                                flex items-center justify-center text-white font-bold text-xl
                                ${TOe[n.color]}
                            `}),g.createElement("p",{className:"mt-8 text-base font-semibold leading-relaxed"},n.title))))),g.createElement("section",{className:"max-w-4xl mx-auto px-4 py-12"},g.createElement("h2",{className:"text-orange-600 text-3xl font-bold text-center mb-10 uppercase"},"Ti sao chn CMIC Studio?"),g.createElement("div",{className:"space-y-6"},["Phng live mu thc t ti TP.HCM  test live trc khi trin khai","Gii php live trn gi: nh sng  m thanh  thit b y ","i ng k thut vin nhiu nm kinh nghim, tng setup cho idol live v ca s ti nhiu tnh thnh"].map((n,e)=>g.createElement("div",{key:e,className:"flex items-center bg-white rounded-full shadow-md p-1 border border-orange-200"},g.createElement("div",{className:"bg-white border-2 border-orange-500 text-black font-bold w-12 h-12 rounded-full flex items-center justify-center mr-4 shadow-inner"},e+1),g.createElement("p",{className:"font-medium pr-6"},n))))),g.createElement("section",{className:"max-w-6xl mx-auto px-4 py-12"},g.createElement("h2",{className:"text-orange-600 text-3xl font-bold text-center mb-10 uppercase"},"Mt s d n tiu biu"),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 border-4 border-yellow-200 p-6 rounded-3xl bg-white"},g.createElement("div",{className:"aspect-[3/4] bg-gray-200 rounded-xl overflow-hidden shadow-lg"},g.createElement("img",{src:"/api/placeholder/400/600",alt:"Project 1",className:"w-full h-full object-cover"})),g.createElement("div",{className:"aspect-[3/4] bg-gray-200 rounded-xl overflow-hidden shadow-lg"},g.createElement("img",{src:"/api/placeholder/400/600",alt:"Project 2",className:"w-full h-full object-cover"})),g.createElement("div",{className:"aspect-[3/4] bg-gray-200 rounded-xl overflow-hidden shadow-lg"},g.createElement("img",{src:"/api/placeholder/400/600",alt:"Project 3",className:"w-full h-full object-cover"})))),g.createElement("section",{className:"max-w-xl mx-auto px-4 py-16 text-center"},g.createElement("h2",{className:"text-orange-600 text-3xl font-bold mb-8 uppercase"},"ng k t vn ngay"),g.createElement("form",{className:"space-y-6 text-left"},g.createElement("div",null,g.createElement("label",{className:"block font-bold mb-2"},"*H v tn"),g.createElement("input",{type:"text",placeholder:"Nhp h v tn",className:"w-full p-3 border-2 border-orange-400 rounded-xl focus:outline-none focus:ring-2 ring-orange-200"})),g.createElement("div",null,g.createElement("label",{className:"block font-bold mb-2"},"*S in thoi"),g.createElement("input",{type:"text",placeholder:"Nhp s in thoi",className:"w-full p-3 border-2 border-orange-400 rounded-xl focus:outline-none focus:ring-2 ring-orange-200"})),g.createElement("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 rounded-2xl transition shadow-lg text-xl uppercase"},"Gi")),g.createElement("p",{className:"mt-6 text-gray-500 italic text-sm"},"CMIC STUDIO s lin h trong vng 24h. Thng tin ca bn s c bo mt."))),COe=({news:n})=>g.createElement(ec,{to:`/post/${n.id}`,className:"block"},g.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow hover:shadow-lg transition-shadow duration-300 h-full flex flex-col cursor-pointer"},g.createElement("div",{className:"w-full h-40 bg-gray-300 flex items-center justify-center text-gray-500"},g.createElement(fa,{imagePath:n.image,className:"w-10 h-10 rounded-md border object-cover"})),g.createElement("div",{className:"p-4 flex flex-col flex-grow"},g.createElement("h3",{className:"text-base font-bold text-gray-800 line-clamp-2 hover:text-orange-700 transition mb-2"},n.title),g.createElement("p",{className:"text-sm text-gray-600 line-clamp-3 flex-grow"},n.description)))),AOe=({currentPage:n,totalPages:e,onPageChange:t,itemsPerPage:r,totalItems:i})=>{let o,a;e<=5?(o=1,a=e):n<=3?(o=1,a=5):n+1>=e?(o=e-5+1,a=e):(o=n-2,a=n+2);const l=Array.from({length:a-o+1},(u,f)=>o+f);return g.createElement("div",{className:"flex flex-col gap-6 mt-10"},g.createElement("div",{className:"flex items-center justify-center gap-2 flex-wrap"},g.createElement("button",{onClick:()=>t(n-1),disabled:n===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",title:"Trang trc"},g.createElement(gc,{className:"w-5 h-5 text-gray-700"})),o>1&&g.createElement("span",{className:"px-2 text-gray-400"},"..."),l.map(u=>g.createElement("button",{key:u,onClick:()=>t(u),className:`min-w-10 h-10 border rounded-lg transition-all duration-200 text-sm font-medium
                            ${n===u?"bg-orange-600 text-white border-orange-600 shadow-md":"border-gray-300 text-gray-700 hover:bg-orange-50 hover:border-orange-400"}
                        `},u)),a<e&&g.createElement("span",{className:"px-2 text-gray-400"},"..."),g.createElement("button",{onClick:()=>t(n+1),disabled:n===e,className:"p-2 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",title:"Trang tip theo"},g.createElement(xo,{className:"w-5 h-5 text-gray-700"}))))},NOe=({search:n,setSearch:e,className:t=""})=>g.createElement("div",{className:`bg-white p-4 rounded-xl shadow-md ${t}`},g.createElement("h2",{className:"text-xl font-semibold mb-3 text-gray-800"},"Tm kim"),g.createElement("div",{className:"relative w-full"},g.createElement(S0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),g.createElement("input",{type:"text",placeholder:"Tm kim tiu  hoc ni dung...",value:n,onChange:r=>e(r.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition"}))),POe=()=>{const n=mr(),e=gr(),{PostList:t,PostTotal:r}=Un(p=>p.post),[i,s]=O.useState(""),[o,a]=O.useState(1),l=20,u=Math.ceil(r/l),f=async()=>{let p=await e(Ff({page:o,limit:l})).unwrap();p&&p.EC!==0&&be.error(p.EM)};O.useEffect(()=>{f()},[o]),O.useEffect(()=>{a(1)},[i]),O.useEffect(()=>{r===1&&t.length===1&&o===1&&n(`/post/${t[0].id}`,{replace:!0})},[r,t,o,n]);const m=O.useMemo(()=>{if(!i)return t;const p=i.toLowerCase();return t.filter(y=>y.title?.toLowerCase().includes(p)||y.description?.toLowerCase().includes(p))},[i,t]);return g.createElement("div",{className:"min-h-screen bg-gray-50"},g.createElement("main",{className:"max-w-0xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},g.createElement("h1",{className:"text-3xl md:text-4xl font-black mb-12 bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent"},"TIN TC"),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8"},g.createElement("div",{className:"lg:col-span-3"},g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},m.map(p=>g.createElement(COe,{key:p.id,news:p}))),u>1&&g.createElement(AOe,{currentPage:o,totalPages:u,onPageChange:a,itemsPerPage:l,totalItems:r})),g.createElement("div",{className:"lg:col-span-1 space-y-8"},g.createElement("div",{className:"hidden lg:block"},g.createElement(NOe,{search:i,setSearch:s})),g.createElement("div",{className:"w-full aspect-[3/4] rounded-2xl shadow-xl relative overflow-hidden group cursor-pointer"},g.createElement("img",{src:"/BannerBLivestream.png",alt:"Combo livestream",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}),g.createElement("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all"}),g.createElement("div",{className:"relative z-10 flex items-center justify-center h-full text-center text-white p-6"},g.createElement("div",null,g.createElement("div",{className:"text-2xl font-black mb-4 leading-tight"},"Combo Livestream Cht Lng Cao"),g.createElement("div",{className:"text-sm opacity-90 mb-6"},"Khuyn mi c bit"),g.createElement("div",{className:"inline-flex items-center gap-2 text-sm font-bold bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full group-hover:bg-white/30 transition-all"},"Xem ngay "))))))))},IOe=({news:n})=>g.createElement(ec,{to:`/careers/${n.id}`,className:"block"},g.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow hover:shadow-lg transition-shadow duration-300 h-full flex flex-col cursor-pointer"},g.createElement("div",{className:"w-full h-40 bg-gray-300 flex items-center justify-center text-gray-500"},g.createElement(fa,{imagePath:n.image,className:"w-10 h-10 rounded-md border object-cover"})),g.createElement("div",{className:"p-4 flex flex-col flex-grow"},g.createElement("h3",{className:"text-base font-bold text-gray-800 line-clamp-2 hover:text-orange-700 transition mb-2"},n.title),g.createElement("p",{className:"text-sm text-gray-600 line-clamp-3 flex-grow"},n.description)))),ROe=({currentPage:n,totalPages:e,onPageChange:t,itemsPerPage:r,totalItems:i})=>{let o,a;e<=5?(o=1,a=e):n<=3?(o=1,a=5):n+1>=e?(o=e-5+1,a=e):(o=n-2,a=n+2);const l=Array.from({length:a-o+1},(u,f)=>o+f);return g.createElement("div",{className:"flex flex-col gap-6 mt-10"},g.createElement("div",{className:"flex items-center justify-center gap-2 flex-wrap"},g.createElement("button",{onClick:()=>t(n-1),disabled:n===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",title:"Trang trc"},g.createElement(gc,{className:"w-5 h-5 text-gray-700"})),o>1&&g.createElement("span",{className:"px-2 text-gray-400"},"..."),l.map(u=>g.createElement("button",{key:u,onClick:()=>t(u),className:`min-w-10 h-10 border rounded-lg transition-all duration-200 text-sm font-medium
                            ${n===u?"bg-orange-600 text-white border-orange-600 shadow-md":"border-gray-300 text-gray-700 hover:bg-orange-50 hover:border-orange-400"}
                        `},u)),a<e&&g.createElement("span",{className:"px-2 text-gray-400"},"..."),g.createElement("button",{onClick:()=>t(n+1),disabled:n===e,className:"p-2 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",title:"Trang tip theo"},g.createElement(xo,{className:"w-5 h-5 text-gray-700"}))))},OOe=()=>{const n=mr(),e=gr(),{RecruitmentList:t,RecruitmentTotal:r}=Un(u=>u.recruitment),[i,s]=O.useState(1),o=20,a=Math.ceil(r/o),l=async()=>{let u=await e(Rg({page:i,limit:o})).unwrap();u&&u.EC!==0&&be.error(u.EM)};return O.useEffect(()=>{l()},[i]),O.useEffect(()=>{r===1&&t.length===1&&i===1&&n(`/careers/${t[0].id}`,{replace:!0})},[r,t,i,n]),g.createElement("div",{className:"min-h-screen bg-gray-50"},g.createElement("main",{className:"max-w-0xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},g.createElement("h1",{className:"text-3xl md:text-4xl font-black mb-12 bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent"},"TUYN DNG"),g.createElement("div",{className:"grid grid-cols-1 gap-8"},g.createElement("div",{className:"lg:col-span-4"},g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},t.map(u=>g.createElement(IOe,{key:u.id,news:u}))),a>1&&g.createElement(ROe,{currentPage:i,totalPages:a,onPageChange:s,itemsPerPage:o,totalItems:r})))))},IE=({name:n,placeholder:e,required:t=!0,type:r="text",value:i,onChange:s})=>g.createElement("input",{type:r,name:n,placeholder:e,value:i,onChange:s,required:t,className:" bg-white w-full px-4 py-3 border border-gray-900 focus:outline-none focus:ring-2 focus:ring-black transition duration-200 text-base placeholder-gray-500"}),MOe=()=>{const[n,e]=O.useState(!1),[t,r]=O.useState({fullName:"",email:"",phone:"",content:""}),i=o=>{r({...t,[o.target.name]:o.target.value})},s=async o=>{o.preventDefault();try{e(!0);const a={name:t.fullName,email:t.email,message:t.content+" .Ti ang quan tm n sn phm ca bn.Hy lin h ti s in thoi: "+t.phone};await S8.sendContactApi(a),be.success(" gi thng tin lin h thnh cng!"),r({fullName:"",email:"",phone:"",content:""})}catch(a){console.error("Error sending contact:",a),be.error("Gi thng tin lin h tht bi. Vui lng th li.")}finally{e(!1)}};return g.createElement("div",{className:"space-y-4"},g.createElement("h2",{className:"text-xl font-bold text-orange-800 uppercase"},"Lin h vi chng ti"),g.createElement("form",{onSubmit:s,className:"space-y-4"},g.createElement(IE,{name:"fullName",placeholder:"H v tn",value:t.fullName,onChange:i}),g.createElement(IE,{name:"email",placeholder:"Email (khng bt buc)",required:!1,type:"email",value:t.email,onChange:i}),g.createElement(IE,{name:"phone",placeholder:"S in thoi",type:"tel",value:t.phone,onChange:i}),g.createElement("textarea",{name:"content",placeholder:"Ni dung",rows:"5",value:t.content,onChange:i,required:!0,className:"bg-white w-full px-4 py-3 border border-gray-900 focus:outline-none focus:ring-2 focus:ring-black transition duration-200 text-base resize-none"}),g.createElement("button",{type:"submit",disabled:n,className:`
                        px-8 py-3 text-lg font-bold transition duration-300 cursor-pointer
                        ${n?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}
                        text-white
                    `},n?"ANG GI...":"GI")))},DOe=()=>{const[n,e]=O.useState({fullName:"",email:"",phone:"",content:""});return g.createElement("div",{className:"min-h-screen bg-white"},g.createElement("main",{className:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8 py-16"},g.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-10"},"Lin H Vi Chng Ti"),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10"},g.createElement("div",{className:"space-y-8"},g.createElement("div",{className:"space-y-4 text-gray-800"},g.createElement("div",{className:"flex items-start gap-4"},g.createElement(FG,{className:"w-6 h-6 mt-1"}),g.createElement("div",null,g.createElement("p",{className:"font-semibold"},"S 49 , ng 45, P14, G Vp, "),g.createElement("p",{className:"text-sm"},"Tp. H Ch Minh"))),g.createElement("div",{className:"flex items-center gap-4"},g.createElement(Bf,{className:"w-6 h-6"}),g.createElement("p",null,"Hotline t hng: 037.2672.396")),g.createElement("div",{className:"flex items-center gap-4"},g.createElement(Bf,{className:"w-6 h-6"}),g.createElement("p",null,"Hotline truyn thng: 034. 7577. 034")),g.createElement("div",{className:"flex items-center gap-4"},g.createElement(PT,{className:"w-6 h-6"}),g.createElement("p",null,"contact@creatimichub.vn"))),g.createElement(MOe,null)),g.createElement("div",{className:"lg:min-h-full"},g.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.5775884053332!2d106.6338516108667!3d10.843602757905886!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3175298438641ae7%3A0xff62706173136f71!2zQ2h1bmcgQ8awIEtoYW5nIEdpYSwgTMO0IEEvMDA2QSDEkC4gNDUsIFBoxrDhu51uZyAxNCwgR8OyIFbhuqVwLCBUaMOgbmggcGjhu5EgSOG7kyBDaMOtIE1pbmggNzAwMDAsIFZp4buHdCBOYW0!5e0!3m2!1svi!2sbd!4v1763259832646!5m2!1svi!2sbd",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full h-[300px] md:h-[300px] lg:h-[630px] border-0 rounded-xl shadow-lg"})))))},FOe=()=>{const{id:n}=k0();mr();const[e,t]=O.useState([]);O.useEffect(()=>{n&&r(n)},[n]);const r=async i=>{const s=await Lf.getRecruitmentByIdApi(i);s&&s.DT&&(s.DT,t(s.DT))};return g.createElement("div",{className:"min-h-screen bg-gray-50"},g.createElement("main",{className:"max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 py-12"},g.createElement("header",{className:"bg-white p-6 md:p-8 rounded-xl shadow-lg mb-10"},g.createElement("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2"},e.title),g.createElement("p",{className:"text-xl text-orange-600 font-semibold mb-4"},"CMIC STUDIO"),g.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 border-t pt-4 mt-4"},g.createElement("span",{className:"flex items-center gap-2"},g.createElement(PD,{className:"w-5 h-5 text-indigo-500"}),"S 49 , ng 45, P14, G Vp, TP. HCM"),g.createElement("span",{className:"flex items-center gap-2"},g.createElement(gG,{className:"w-5 h-5 text-blue-500"}),e.type),g.createElement("span",{className:"flex items-center gap-2"},g.createElement(EY,{className:"w-5 h-5 text-red-500"}),e.experience," nm"))),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10"},g.createElement("div",{className:"lg:col-span-2 space-y-4 prose max-w-none",dangerouslySetInnerHTML:{__html:e.detail}}),g.createElement("aside",{className:"lg:col-span-1"},g.createElement("div",{className:"sticky top-10 space-y-6"},g.createElement("div",{className:"bg-orange-500 p-6 rounded-xl shadow-xl text-white text-center"},g.createElement("p",{className:"text-lg font-semibold mb-3"},"Sn sng th thch?"),g.createElement("a",{href:e.ctaLink,className:"w-full inline-flex items-center justify-center bg-white text-orange-600 font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-gray-100 transition duration-300 text-lg group cursor-pointer"},"ng Tuyn Ngay",g.createElement(NT,{className:"w-5 h-5 ml-2 transition-transform group-hover:translate-x-1"}))))))))},LOe=()=>{const{id:n}=k0();mr();const[e,t]=O.useState([]);O.useEffect(()=>{n&&r(n)},[n]);const r=async i=>{const s=await Df.getPostByIdApi(i);s&&s.DT&&(s.DT,t(s.DT))};return g.createElement("div",{className:"min-h-screen bg-gray-50"},g.createElement("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},g.createElement("header",{className:"p-4 md:p-6 rounded-xl mb-5"},g.createElement("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2"},e.title)),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10"},g.createElement("div",{className:"lg:col-span-2 space-y-4 prose max-w-none whitespace-pre-line",dangerouslySetInnerHTML:{__html:e.detail}}))))},BOe=[{value:"all",label:"Tt c mc gi",min:0,max:1/0},{value:"under500k",label:"Di 500.000",min:0,max:499999},{value:"500kto1m",label:"500.000 - 1.000.000",min:5e5,max:1e6},{value:"over1m",label:"Trn 1.000.000",min:1000001,max:1/0}],VOe=({filters:n,onFilterChange:e})=>g.createElement("div",{className:" w-full md:w-64 lg:w-72 flex-shrink-0 p-6 bg-white rounded-2xl shadow-xl top-4 self-start"},g.createElement("h2",{className:"text-2xl font-black text-gray-800 mb-6 flex items-center gap-2"},g.createElement(AG,{className:"w-5 h-5 text-orange-500"}),"B Lc"),g.createElement("div",{className:"mb-8 border-b border-gray-100 pb-6"},g.createElement("h3",{className:"text-lg font-bold text-gray-700 mb-3"},"Mc gi"),g.createElement("div",{className:"space-y-3"},BOe.map(t=>g.createElement("label",{key:t.value,className:"flex items-center space-x-3 cursor-pointer group"},g.createElement("input",{type:"radio",name:"priceRange",value:t.value,checked:n.priceRange===t.value,onChange:()=>e("priceRange",t.value),className:"w-5 h-5 text-orange-500 bg-gray-100 border-gray-300 focus:ring-orange-500"}),g.createElement("span",{className:`text-base font-medium transition-colors ${n.priceRange===t.value?"text-orange-600 font-semibold":"text-gray-600 group-hover:text-gray-800"}`},t.label)))))),UOe=({categoryList:n,selectedCategory:e,onCategoryClick:t,onSubClick:r})=>g.createElement("div",{className:"flex justify-center mb-10"},g.createElement("div",{className:"flex flex-wrap justify-center gap-4"},g.createElement("button",{onClick:()=>t("all"),className:`px-6 py-3 rounded-2xl text-lg font-bold transition
                        ${e==="all"?"bg-orange-500 text-white shadow-lg":"bg-white shadow hover:bg-orange-50"}
                    `},"Tt c"),n.map(i=>g.createElement("div",{key:i.name,className:"relative group px-2 py-2"},g.createElement("button",{onClick:()=>t(i),className:`px-6 py-3 rounded-2xl text-lg font-bold transition
                                ${e===String(i.id)?"bg-orange-500 text-white shadow-lg":"bg-white shadow hover:bg-orange-50"}
                            `},i.name),i.children.length>0&&g.createElement(g.Fragment,null,g.createElement("div",{className:"absolute left-0 right-0 top-full h-4"}),g.createElement("div",{className:`absolute left-1/2 -translate-x-1/2 top-full mt-1\r
                                        hidden group-hover:block\r
                                        bg-white shadow-xl rounded-2xl\r
                                        min-w-[240px] z-50`},i.children.map(s=>g.createElement("button",{key:s.name,onClick:()=>r(i,s),className:`block w-full text-left px-5 py-3\r
                                                text-base font-medium\r
                                                hover:bg-orange-50 text-gray-700`},s.name)))))))),zOe=({products:n,currentPage:e,totalPages:t,onPageChange:r,loading:i})=>g.createElement("div",{className:"flex-1 md:pl-8"},g.createElement("div",{className:"mb-6 pb-4 border-b border-gray-200 flex justify-between items-center"},g.createElement("h1",{className:"text-2xl font-black text-gray-900"},"Sn Phm"),g.createElement("p",{className:"text-gray-600 font-medium"},n.length," kt qu")),n.length>0?g.createElement("div",{className:"relative"},g.createElement("div",{className:`grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6
            ${i?"opacity-40 pointer-events-none":""}`},n.map(s=>g.createElement(iw,{key:s.id,product:s}))),i&&g.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-white/60"},g.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}))):!i&&g.createElement("div",{className:"text-center p-12 bg-white rounded-xl shadow-inner mt-10"},g.createElement("h3",{className:"text-xl font-bold text-gray-700"},"Khng tm thy sn phm no"),g.createElement("p",{className:"text-gray-500 mt-2"},"Vui lng th iu chnh b lc ca bn.")),t>1&&g.createElement("div",{className:"flex justify-center items-center space-x-2 mt-10"},g.createElement("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-3 bg-white border border-gray-300 rounded-lg hover:bg-orange-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},g.createElement(gc,{className:"w-5 h-5 text-gray-700"})),Array.from({length:t},(s,o)=>{const a=o+1;return g.createElement("button",{key:`page-${a}-total-${t}`,onClick:()=>r(a),className:`px-4 py-2 font-bold rounded-lg transition-all
                                    ${e===a?"bg-orange-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-orange-100 border border-gray-300"}`},a)}),g.createElement("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-3 bg-white border border-gray-300 rounded-lg hover:bg-orange-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},g.createElement(xo,{className:"w-5 h-5 text-gray-700"}))));function HOe(){const n=gr(),{CategoryList:e,CategoryTotal:t}=Un(A=>A.category),{id_category:r,id_product:i}=k0(),s=mr(),[o,a]=O.useState({priceRange:"all"}),[l,u]=O.useState([]),[f,m]=O.useState(1),[p,y]=O.useState(1),[v,w]=O.useState(!1),E=O.useMemo(()=>r||"all",[r]);O.useMemo(()=>{if(i==="all"||!i)return"all";const A=e.find(F=>F.id===r);if(A){const F=A.children.find(V=>V.id===i);return F?F.name:"all"}return"all"},[i,r,e]);const k=async()=>{await n(_f({page:1,limit:20})).unwrap()},T=async(A=1)=>{w(!0);try{let F=r||"all";i&&i!=="all"&&(F=i);const V=o.priceRange,K=await pu.filterProductApi(A,9,F,V);u(K.DT.products||[]),y(Math.ceil(K.DT.total/K.DT.limit)),m(K.DT.page)}catch(F){console.error(F),be.error("Li khi ti sn phm")}finally{w(!1)}};O.useEffect(()=>{k()},[]),O.useEffect(()=>{e.length>0&&r!==void 0&&T(1)},[r,i,o.priceRange,e]);const S=(A,F)=>{a(V=>({...V,[A]:F}))},P=A=>{s(A==="all"?"/product/all/all":`/${Hf(A.name)}/${A.id}/all`)},I=(A,F)=>{s(`/${Hf(F.name)}/${F.id}/all`)},R=A=>{w(!0),T(A)};return g.createElement("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 lg:p-12 font-sans"},g.createElement(UOe,{categoryList:e,selectedCategory:E,onCategoryClick:P,onSubClick:I}),g.createElement("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row gap-8"},g.createElement(VOe,{filters:o,onFilterChange:S}),g.createElement(zOe,{products:l,currentPage:f,totalPages:p,onPageChange:R,loading:v})))}const $Oe=()=>{const{id_product:n}=k0(),e=gr();let[t,r]=O.useState({}),[i,s]=O.useState([]),[o,a]=O.useState(null),[l,u]=O.useState(!1);return O.useEffect(()=>{n&&(async()=>{let m=await pu.getProductByIdApi(n);if(m&&m.DT){r(m.DT),a(m.DT.image),u(!0);try{let p=await rg.getProductImagesByProductIdApi(n);if(p&&p.DT){const y=await Promise.all(p.DT.map(async v=>{try{const w=await D0(v.image);return{...v,previewUrl:w}}catch(w){return console.error("Failed to load image:",w),{...v,previewUrl:v.image}}}));s(y)}}catch(p){console.error("Error loading product images:",p)}finally{u(!1)}}})()},[n,e]),t?(t.specifications?.type,t.specifications?.frequency,t.specifications?.range,t.specifications?.batteryMic,t.specifications?.batteryReceiver,t.specifications?.chargeTime,t.specifications?.weight,t.specifications?.connection,t.specifications?.uhfFrequency,g.createElement("div",{className:"bg-gray-50 min-h-screen pb-20"},g.createElement("section",{className:"bg-white"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-10 lg:py-16"},g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12"},g.createElement("div",{className:"space-y-4"},g.createElement("div",{className:"relative bg-[#f8f8f8] rounded-3xl p-2 flex justify-center items-center overflow-hidden group"},t.discount&&g.createElement("div",{className:"absolute top-0 left-0 bg-[#ed792f] text-white px-6 py-2 rounded-br-2xl font-bold uppercase tracking-widest shadow-lg z-10"},"-",t.discount,"%"),g.createElement(fa,{imagePath:o||t.image||t.images?.[0],className:"w-auto h-[400px] object-contain transform group-hover:scale-105 transition-transform duration-500"})),i.length>0&&g.createElement("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-3"},g.createElement("button",{onClick:()=>a(t.image),className:`relative bg-[#f8f8f8] rounded-xl p-2 overflow-hidden transition-all hover:ring-2 hover:ring-orange-400 ${o===t.image?"ring-2 ring-orange-500":""}`},g.createElement(fa,{imagePath:t.image,className:"w-full h-20 object-contain"})),i.map((f,m)=>g.createElement("button",{key:f.id,onClick:()=>a(f.image),className:`relative bg-[#f8f8f8] rounded-xl p-2 overflow-hidden transition-all hover:ring-2 hover:ring-orange-400 ${o===f.image?"ring-2 ring-orange-500":""}`},g.createElement("img",{src:f.previewUrl||f.image,alt:`${t.name} - ${f.color}`,className:"w-full h-20 object-contain"}),f.color&&g.createElement("div",{className:"absolute bottom-1 left-1 bg-black/60 text-white text-[10px] px-1.5 py-0.5 rounded truncate max-w-[90%]"},f.color)))),l&&g.createElement("div",{className:"text-center py-4"},g.createElement("p",{className:"text-sm text-gray-500"},"ang ti thm nh..."))),g.createElement("div",null,g.createElement("h1",{className:"text-4xl lg:text-5xl font-black text-gray-900 mb-6 uppercase tracking-tighter"},t.name),g.createElement("p",{className:"text-gray-600 text-lg leading-relaxed mb-8"},t.description),g.createElement("div",{className:"flex items-start gap-6 mb-10"},g.createElement("div",{className:"flex flex-col"},g.createElement("span",{className:"text-lg text-gray-400 line-through mt-1"},"Gi gc: ",(Number(t.price||0)*1.25).toLocaleString("vi-VN")," VN"),g.createElement("span",{className:"text-2xl font-black text-red-600"},"Gi khuyn mi: ",Number(t.price||0).toLocaleString("vi-VN")," VN")),g.createElement("div",{className:"self-center bg-green-700 rounded-full flex items-center shadow-md transition-all hover:bg-green-800 w-fit px-4 py-2 cursor-pointer"},g.createElement("span",{className:"text-[10px] uppercase tracking-wider text-white/90 font-bold mr-2"},"Lin H:"),g.createElement("span",{className:"font-bold text-white tracking-wider text-[13px]"},"037.2672.396"))))))),g.createElement("section",{className:"max-w-7xl mx-auto px-4 grid gap-8"},g.createElement("h2",{className:"text-2xl font-black uppercase"},"M t sn phm"),g.createElement("div",{className:"prose prose-lg text-gray-600 max-w-none break-words",dangerouslySetInnerHTML:{__html:t.detail}})))):g.createElement("div",{className:"flex items-center justify-center min-h-screen"},g.createElement("div",{className:"text-center"},g.createElement("p",{className:"text-xl text-gray-600"},"ang ti...")))},WOe=()=>{const{id_product:n}=k0();return n==="all"?g.createElement(HOe,null):g.createElement($Oe,null)},jOe=({children:n})=>{const{userInfo:e,isLoading:t}=Un(r=>r.auth);return t?g.createElement(PH,null):!e||Object.keys(e).length===0?g.createElement(bf,{to:"/login",replace:!0}):e.role==="client"?g.createElement(bf,{to:"/profile/info",replace:!0}):n},sD=({children:n})=>{const{userInfo:e,isLoading:t}=Un(r=>r.auth);return t?g.createElement(PH,null):e&&Object.keys(e).length>0?g.createElement(bf,{to:"/profile/info",replace:!0}):n};function qOe(){const n=gr(),{userInfo:e,isLoading:t,hasCheckedAuth:r}=Un(i=>i.auth);return O.useEffect(()=>{du.get("fr")&&!r&&!t&&n(wb())},[n,r,t]),g.createElement(cq,null,g.createElement(Bj,null,g.createElement(tn,{path:"/login",element:g.createElement(sD,null,g.createElement(fOe,null))}),g.createElement(tn,{path:"/register",element:g.createElement(sD,null,g.createElement(vOe,null))}),g.createElement(tn,{path:"/",element:g.createElement(one,null)},g.createElement(tn,{index:!0,element:g.createElement(bf,{to:"home",replace:!0})}),g.createElement(tn,{path:"home",element:g.createElement(EOe,null)}),g.createElement(tn,{path:"about",element:g.createElement(kOe,null)}),g.createElement(tn,{path:"/:name/:id_category/:id_product",element:g.createElement(WOe,null)}),g.createElement(tn,{path:"service",element:g.createElement(SOe,null)}),g.createElement(tn,{path:"post",element:g.createElement(POe,null)}),g.createElement(tn,{path:"/post/:id",element:g.createElement(LOe,null)}),g.createElement(tn,{path:"careers",element:g.createElement(OOe,null)}),g.createElement(tn,{path:"/careers/:id",element:g.createElement(FOe,null)}),g.createElement(tn,{path:"contact",element:g.createElement(DOe,null)})),g.createElement(tn,{path:"/",element:g.createElement(jOe,null,g.createElement(eQ,null))},g.createElement(tn,{index:!0,element:g.createElement(bf,{to:"dashboard",replace:!0})}),g.createElement(tn,{path:"dashboard",element:g.createElement(ane,null)}),g.createElement(tn,{path:"profile/info",element:g.createElement(dOe,null)}),g.createElement(tn,{path:"profile/change-password",element:g.createElement(lOe,null)}),g.createElement(tn,{path:"profile/change-password-staff",element:g.createElement(cOe,null)}),g.createElement(tn,{path:"products/categories",element:g.createElement(JRe,null)}),"        ",g.createElement(tn,{path:"products/list",element:g.createElement(YRe,null)}),"      ",g.createElement(tn,{path:"news/detail",element:g.createElement(rOe,null)}),"   ",g.createElement(tn,{path:"news/manager",element:g.createElement(ZRe,null)}),"           ",g.createElement(tn,{path:"recruitment/manager",element:g.createElement(sOe,null)}),g.createElement(tn,{path:"recruitment/detail",element:g.createElement(uOe,null)}),g.createElement(tn,{path:"hr/employees",element:g.createElement(aOe,null)}),"   ",g.createElement(tn,{path:"hr/roles",element:g.createElement(nOe,null)}),"      "),g.createElement(tn,{path:"*",element:g.createElement(bf,{to:"/login",replace:!0})})))}function GOe(){return g.createElement(g.Fragment,null,g.createElement(qOe,null),g.createElement(N7,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}))}const YOe=rK({reducer:{auth:QJ,staff:tOe,product:GRe,category:sne,post:QRe,recruitment:iOe}});jW.createRoot(document.getElementById("root")).render(g.createElement(Mq,{store:YOe},g.createElement(g.StrictMode,null,g.createElement(GOe,null))))});export default KOe();
