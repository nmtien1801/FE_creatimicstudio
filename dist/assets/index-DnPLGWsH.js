var OW=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var XOe=OW((E6e,Vb)=>{function MW(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function pT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vx={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3;function DW(){if(J3)return vt;J3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function E(j,_e,U){this.props=j,this.context=_e,this.refs=w,this.updater=U||y}E.prototype.isReactComponent={},E.prototype.setState=function(j,_e){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,_e,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=E.prototype;function T(j,_e,U){this.props=j,this.context=_e,this.refs=w,this.updater=U||y}var S=T.prototype=new k;S.constructor=T,v(S,E.prototype),S.isPureReactComponent=!0;var P=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function A(j,_e,U,Q,Y,J){return U=J.ref,{$$typeof:n,type:j,key:_e,ref:U!==void 0?U:null,props:J}}function F(j,_e){return A(j.type,_e,void 0,void 0,void 0,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function X(j){var _e={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(U){return _e[U]})}var re=/\/+/g;function N(j,_e){return typeof j=="object"&&j!==null&&j.key!=null?X(""+j.key):_e.toString(36)}function te(){}function be(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(te,te):(j.status="pending",j.then(function(_e){j.status==="pending"&&(j.status="fulfilled",j.value=_e)},function(_e){j.status==="pending"&&(j.status="rejected",j.reason=_e)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function xe(j,_e,U,Q,Y){var J=typeof j;(J==="undefined"||J==="boolean")&&(j=null);var ue=!1;if(j===null)ue=!0;else switch(J){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(j.$$typeof){case n:case e:ue=!0;break;case f:return ue=j._init,xe(ue(j._payload),_e,U,Q,Y)}}if(ue)return Y=Y(j),ue=Q===""?"."+N(j,0):Q,P(Y)?(U="",ue!=null&&(U=ue.replace(re,"$&/")+"/"),xe(Y,_e,U,"",function(Je){return Je})):Y!=null&&(V(Y)&&(Y=F(Y,U+(Y.key==null||j&&j.key===Y.key?"":(""+Y.key).replace(re,"$&/")+"/")+ue)),_e.push(Y)),1;ue=0;var Ye=Q===""?".":Q+":";if(P(j))for(var Be=0;Be<j.length;Be++)Q=j[Be],J=Ye+N(Q,Be),ue+=xe(Q,_e,U,J,Y);else if(Be=p(j),typeof Be=="function")for(j=Be.call(j),Be=0;!(Q=j.next()).done;)Q=Q.value,J=Ye+N(Q,Be++),ue+=xe(Q,_e,U,J,Y);else if(J==="object"){if(typeof j.then=="function")return xe(be(j),_e,U,Q,Y);throw _e=String(j),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.")}return ue}function ne(j,_e,U){if(j==null)return j;var Q=[],Y=0;return xe(j,Q,"","",function(J){return _e.call(U,J,Y++)}),Q}function Ee(j){if(j._status===-1){var _e=j._result;_e=_e(),_e.then(function(U){(j._status===0||j._status===-1)&&(j._status=1,j._result=U)},function(U){(j._status===0||j._status===-1)&&(j._status=2,j._result=U)}),j._status===-1&&(j._status=0,j._result=_e)}if(j._status===1)return j._result.default;throw j._result}var We=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(_e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Re(){}return vt.Children={map:ne,forEach:function(j,_e,U){ne(j,function(){_e.apply(this,arguments)},U)},count:function(j){var _e=0;return ne(j,function(){_e++}),_e},toArray:function(j){return ne(j,function(_e){return _e})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},vt.Component=E,vt.Fragment=t,vt.Profiler=i,vt.PureComponent=T,vt.StrictMode=r,vt.Suspense=l,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,vt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},vt.cache=function(j){return function(){return j.apply(null,arguments)}},vt.cloneElement=function(j,_e,U){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Q=v({},j.props),Y=j.key,J=void 0;if(_e!=null)for(ue in _e.ref!==void 0&&(J=void 0),_e.key!==void 0&&(Y=""+_e.key),_e)!D.call(_e,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&_e.ref===void 0||(Q[ue]=_e[ue]);var ue=arguments.length-2;if(ue===1)Q.children=U;else if(1<ue){for(var Ye=Array(ue),Be=0;Be<ue;Be++)Ye[Be]=arguments[Be+2];Q.children=Ye}return A(j.type,Y,void 0,void 0,J,Q)},vt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},vt.createElement=function(j,_e,U){var Q,Y={},J=null;if(_e!=null)for(Q in _e.key!==void 0&&(J=""+_e.key),_e)D.call(_e,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(Y[Q]=_e[Q]);var ue=arguments.length-2;if(ue===1)Y.children=U;else if(1<ue){for(var Ye=Array(ue),Be=0;Be<ue;Be++)Ye[Be]=arguments[Be+2];Y.children=Ye}if(j&&j.defaultProps)for(Q in ue=j.defaultProps,ue)Y[Q]===void 0&&(Y[Q]=ue[Q]);return A(j,J,void 0,void 0,null,Y)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(j){return{$$typeof:a,render:j}},vt.isValidElement=V,vt.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:Ee}},vt.memo=function(j,_e){return{$$typeof:u,type:j,compare:_e===void 0?null:_e}},vt.startTransition=function(j){var _e=R.T,U={};R.T=U;try{var Q=j(),Y=R.S;Y!==null&&Y(U,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Re,We)}catch(J){We(J)}finally{R.T=_e}},vt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},vt.use=function(j){return R.H.use(j)},vt.useActionState=function(j,_e,U){return R.H.useActionState(j,_e,U)},vt.useCallback=function(j,_e){return R.H.useCallback(j,_e)},vt.useContext=function(j){return R.H.useContext(j)},vt.useDebugValue=function(){},vt.useDeferredValue=function(j,_e){return R.H.useDeferredValue(j,_e)},vt.useEffect=function(j,_e,U){var Q=R.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(j,_e)},vt.useId=function(){return R.H.useId()},vt.useImperativeHandle=function(j,_e,U){return R.H.useImperativeHandle(j,_e,U)},vt.useInsertionEffect=function(j,_e){return R.H.useInsertionEffect(j,_e)},vt.useLayoutEffect=function(j,_e){return R.H.useLayoutEffect(j,_e)},vt.useMemo=function(j,_e){return R.H.useMemo(j,_e)},vt.useOptimistic=function(j,_e){return R.H.useOptimistic(j,_e)},vt.useReducer=function(j,_e,U){return R.H.useReducer(j,_e,U)},vt.useRef=function(j){return R.H.useRef(j)},vt.useState=function(j){return R.H.useState(j)},vt.useSyncExternalStore=function(j,_e,U){return R.H.useSyncExternalStore(j,_e,U)},vt.useTransition=function(){return R.H.useTransition()},vt.version="19.1.0",vt}var Q3;function tw(){return Q3||(Q3=1,Vx.exports=DW()),Vx.exports}var O=tw();const g=pT(O),Z3=MW({__proto__:null,default:g},[O]);var Ux={exports:{}},gm={},zx={exports:{}},Hx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function FW(){return eN||(eN=1,function(n){function e(ne,Ee){var We=ne.length;ne.push(Ee);e:for(;0<We;){var Re=We-1>>>1,j=ne[Re];if(0<i(j,Ee))ne[Re]=Ee,ne[We]=j,We=Re;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var Ee=ne[0],We=ne.pop();if(We!==Ee){ne[0]=We;e:for(var Re=0,j=ne.length,_e=j>>>1;Re<_e;){var U=2*(Re+1)-1,Q=ne[U],Y=U+1,J=ne[Y];if(0>i(Q,We))Y<j&&0>i(J,Q)?(ne[Re]=J,ne[Y]=We,Re=Y):(ne[Re]=Q,ne[U]=We,Re=U);else if(Y<j&&0>i(J,We))ne[Re]=J,ne[Y]=We,Re=Y;else break e}}return Ee}function i(ne,Ee){var We=ne.sortIndex-Ee.sortIndex;return We!==0?We:ne.id-Ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,m=null,p=3,y=!1,v=!1,w=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function P(ne){for(var Ee=t(u);Ee!==null;){if(Ee.callback===null)r(u);else if(Ee.startTime<=ne)r(u),Ee.sortIndex=Ee.expirationTime,e(l,Ee);else break;Ee=t(u)}}function R(ne){if(w=!1,P(ne),!v)if(t(l)!==null)v=!0,D||(D=!0,N());else{var Ee=t(u);Ee!==null&&xe(R,Ee.startTime-ne)}}var D=!1,A=-1,F=5,V=-1;function X(){return E?!0:!(n.unstable_now()-V<F)}function re(){if(E=!1,D){var ne=n.unstable_now();V=ne;var Ee=!0;try{e:{v=!1,w&&(w=!1,T(A),A=-1),y=!0;var We=p;try{t:{for(P(ne),m=t(l);m!==null&&!(m.expirationTime>ne&&X());){var Re=m.callback;if(typeof Re=="function"){m.callback=null,p=m.priorityLevel;var j=Re(m.expirationTime<=ne);if(ne=n.unstable_now(),typeof j=="function"){m.callback=j,P(ne),Ee=!0;break t}m===t(l)&&r(l),P(ne)}else r(l);m=t(l)}if(m!==null)Ee=!0;else{var _e=t(u);_e!==null&&xe(R,_e.startTime-ne),Ee=!1}}break e}finally{m=null,p=We,y=!1}Ee=void 0}}finally{Ee?N():D=!1}}}var N;if(typeof S=="function")N=function(){S(re)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,be=te.port2;te.port1.onmessage=re,N=function(){be.postMessage(null)}}else N=function(){k(re,0)};function xe(ne,Ee){A=k(function(){ne(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_next=function(ne){switch(p){case 1:case 2:case 3:var Ee=3;break;default:Ee=p}var We=p;p=Ee;try{return ne()}finally{p=We}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(ne,Ee){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var We=p;p=ne;try{return Ee()}finally{p=We}},n.unstable_scheduleCallback=function(ne,Ee,We){var Re=n.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?Re+We:Re):We=Re,ne){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=We+j,ne={id:f++,callback:Ee,priorityLevel:ne,startTime:We,expirationTime:j,sortIndex:-1},We>Re?(ne.sortIndex=We,e(u,ne),t(l)===null&&ne===t(u)&&(w?(T(A),A=-1):w=!0,xe(R,We-Re))):(ne.sortIndex=j,e(l,ne),v||y||(v=!0,D||(D=!0,N()))),ne},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(ne){var Ee=p;return function(){var We=p;p=Ee;try{return ne.apply(this,arguments)}finally{p=We}}}}(Hx)),Hx}var tN;function LW(){return tN||(tN=1,zx.exports=FW()),zx.exports}var $x={exports:{}},ei={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function BW(){if(nN)return ei;nN=1;var n=tw();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:l,containerInfo:u,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ei.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ei.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,f)},ei.flushSync=function(l){var u=o.T,f=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=u,r.p=f,r.d.f()}},ei.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},ei.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},ei.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var f=u.as,m=a(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:y}):f==="script"&&r.d.X(l,{crossOrigin:m,integrity:p,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ei.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=a(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},ei.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,m=a(f,u.crossOrigin);r.d.L(l,f,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ei.preloadModule=function(l,u){if(typeof l=="string")if(u){var f=a(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},ei.requestFormReset=function(l){r.d.r(l)},ei.unstable_batchedUpdates=function(l,u){return l(u)},ei.useFormState=function(l,u,f){return o.H.useFormState(l,u,f)},ei.useFormStatus=function(){return o.H.useHostTransitionStatus()},ei.version="19.1.0",ei}var rN;function VW(){if(rN)return $x.exports;rN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$x.exports=BW(),$x.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function UW(){if(iN)return gm;iN=1;var n=LW(),e=tw(),t=VW();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var d=c,h=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(h=d.return),c=d.return;while(c)}return d.tag===3?h:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(s(c)!==c)throw Error(r(188))}function l(c){var d=c.alternate;if(!d){if(d=s(c),d===null)throw Error(r(188));return d!==c?null:c}for(var h=c,b=d;;){var _=h.return;if(_===null)break;var x=_.alternate;if(x===null){if(b=_.return,b!==null){h=b;continue}break}if(_.child===x.child){for(x=_.child;x;){if(x===h)return a(_),c;if(x===b)return a(_),d;x=x.sibling}throw Error(r(188))}if(h.return!==b.return)h=_,b=x;else{for(var C=!1,M=_.child;M;){if(M===h){C=!0,h=_,b=x;break}if(M===b){C=!0,b=_,h=x;break}M=M.sibling}if(!C){for(M=x.child;M;){if(M===h){C=!0,h=x,b=_;break}if(M===b){C=!0,b=x,h=_;break}M=M.sibling}if(!C)throw Error(r(189))}}if(h.alternate!==b)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?c:d}function u(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=u(c),d!==null)return d;c=c.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),S=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function N(c){return c===null||typeof c!="object"?null:(c=re&&c[re]||c["@@iterator"],typeof c=="function"?c:null)}var te=Symbol.for("react.client.reference");function be(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===te?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case V:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case S:return(c.displayName||"Context")+".Provider";case T:return(c._context.displayName||"Context")+".Consumer";case P:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case A:return d=c.displayName||null,d!==null?d:be(c.type)||"Memo";case F:d=c._payload,c=c._init;try{return be(c(d))}catch{}}return null}var xe=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,We={pending:!1,data:null,method:null,action:null},Re=[],j=-1;function _e(c){return{current:c}}function U(c){0>j||(c.current=Re[j],Re[j]=null,j--)}function Q(c,d){j++,Re[j]=c.current,c.current=d}var Y=_e(null),J=_e(null),ue=_e(null),Ye=_e(null);function Be(c,d){switch(Q(ue,d),Q(J,c),Q(Y,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?T3(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=T3(d),c=S3(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}U(Y),Q(Y,c)}function Je(){U(Y),U(J),U(ue)}function je(c){c.memoizedState!==null&&Q(Ye,c);var d=Y.current,h=S3(d,c.type);d!==h&&(Q(J,c),Q(Y,h))}function Nt(c){J.current===c&&(U(Y),U(J)),Ye.current===c&&(U(Ye),um._currentValue=We)}var kt=Object.prototype.hasOwnProperty,Un=n.unstable_scheduleCallback,Pt=n.unstable_cancelCallback,ki=n.unstable_shouldYield,wn=n.unstable_requestPaint,Ge=n.unstable_now,Qr=n.unstable_getCurrentPriorityLevel,ji=n.unstable_ImmediatePriority,qi=n.unstable_UserBlockingPriority,K=n.unstable_NormalPriority,le=n.unstable_LowPriority,ye=n.unstable_IdlePriority,$e=n.log,Ve=n.unstable_setDisableYieldValue,Oe=null,Ze=null;function mt(c){if(typeof $e=="function"&&Ve(c),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Oe,c)}catch{}}var yt=Math.clz32?Math.clz32:Gi,Fr=Math.log,ha=Math.LN2;function Gi(c){return c>>>=0,c===0?32:31-(Fr(c)/ha|0)|0}var ma=256,Qs=4194304;function Ti(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function yl(c,d,h){var b=c.pendingLanes;if(b===0)return 0;var _=0,x=c.suspendedLanes,C=c.pingedLanes;c=c.warmLanes;var M=b&134217727;return M!==0?(b=M&~x,b!==0?_=Ti(b):(C&=M,C!==0?_=Ti(C):h||(h=M&~c,h!==0&&(_=Ti(h))))):(M=b&~x,M!==0?_=Ti(M):C!==0?_=Ti(C):h||(h=b&~c,h!==0&&(_=Ti(h)))),_===0?0:d!==0&&d!==_&&(d&x)===0&&(x=_&-_,h=d&-d,x>=h||x===32&&(h&4194048)!==0)?d:_}function Oo(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Xu(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wl(){var c=ma;return ma<<=1,(ma&4194048)===0&&(ma=256),c}function yh(){var c=Qs;return Qs<<=1,(Qs&62914560)===0&&(Qs=4194304),c}function wh(c){for(var d=[],h=0;31>h;h++)d.push(c);return d}function xc(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ju(c,d,h,b,_,x){var C=c.pendingLanes;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=h,c.entangledLanes&=h,c.errorRecoveryDisabledLanes&=h,c.shellSuspendCounter=0;var M=c.entanglements,G=c.expirationTimes,ae=c.hiddenUpdates;for(h=C&~h;0<h;){var Se=31-yt(h),Ae=1<<Se;M[Se]=0,G[Se]=-1;var fe=ae[Se];if(fe!==null)for(ae[Se]=null,Se=0;Se<fe.length;Se++){var ge=fe[Se];ge!==null&&(ge.lane&=-536870913)}h&=~Ae}b!==0&&op(c,b,0),x!==0&&_===0&&c.tag!==0&&(c.suspendedLanes|=x&~(C&~d))}function op(c,d,h){c.pendingLanes|=d,c.suspendedLanes&=~d;var b=31-yt(d);c.entangledLanes|=d,c.entanglements[b]=c.entanglements[b]|1073741824|h&4194090}function ap(c,d){var h=c.entangledLanes|=d;for(c=c.entanglements;h;){var b=31-yt(h),_=1<<b;_&d|c[b]&d&&(c[b]|=d),h&=~_}}function vh(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function _h(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function lp(){var c=Ee.p;return c!==0?c:(c=window.event,c===void 0?32:j3(c.type))}function Mv(c,d){var h=Ee.p;try{return Ee.p=c,d()}finally{Ee.p=h}}var Mo=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Mo,Sr="__reactProps$"+Mo,vl="__reactContainer$"+Mo,xh="__reactEvents$"+Mo,Dv="__reactListeners$"+Mo,I="__reactHandles$"+Mo,H="__reactResources$"+Mo,L="__reactMarker$"+Mo;function B(c){delete c[Tr],delete c[Sr],delete c[xh],delete c[Dv],delete c[I]}function z(c){var d=c[Tr];if(d)return d;for(var h=c.parentNode;h;){if(d=h[vl]||h[Tr]){if(h=d.alternate,d.child!==null||h!==null&&h.child!==null)for(c=P3(c);c!==null;){if(h=c[Tr])return h;c=P3(c)}return d}c=h,h=c.parentNode}return null}function W(c){if(c=c[Tr]||c[vl]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function ce(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function we(c){var d=c[H];return d||(d=c[H]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function se(c){c[L]=!0}var de=new Set,me={};function Ie(c,d){Ue(c,d),Ue(c+"Capture",d)}function Ue(c,d){for(me[c]=d,c=0;c<d.length;c++)de.add(d[c])}var nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fe={},Xe={};function gt(c){return kt.call(Xe,c)?!0:kt.call(Fe,c)?!1:nt.test(c)?Xe[c]=!0:(Fe[c]=!0,!1)}function ln(c,d,h){if(gt(d))if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+h)}}function cn(c,d,h){if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+h)}}function En(c,d,h,b){if(b===null)c.removeAttribute(h);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttributeNS(d,h,""+b)}}var ga,_l;function Es(c){if(ga===void 0)try{throw Error()}catch(h){var d=h.stack.trim().match(/\n( *(at )?)/);ga=d&&d[1]||"",_l=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+c+_l}var Zs=!1;function Ec(c,d){if(!c||Zs)return"";Zs=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(ge){var fe=ge}Reflect.construct(c,[],Ae)}else{try{Ae.call()}catch(ge){fe=ge}c.call(Ae.prototype)}}else{try{throw Error()}catch(ge){fe=ge}(Ae=c())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(ge){if(ge&&fe&&typeof ge.stack=="string")return[ge.stack,fe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=b.DetermineComponentFrameRoot(),C=x[0],M=x[1];if(C&&M){var G=C.split(`
`),ae=M.split(`
`);for(_=b=0;b<G.length&&!G[b].includes("DetermineComponentFrameRoot");)b++;for(;_<ae.length&&!ae[_].includes("DetermineComponentFrameRoot");)_++;if(b===G.length||_===ae.length)for(b=G.length-1,_=ae.length-1;1<=b&&0<=_&&G[b]!==ae[_];)_--;for(;1<=b&&0<=_;b--,_--)if(G[b]!==ae[_]){if(b!==1||_!==1)do if(b--,_--,0>_||G[b]!==ae[_]){var Se=`
`+G[b].replace(" at new "," at ");return c.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",c.displayName)),Se}while(1<=b&&0<=_);break}}}finally{Zs=!1,Error.prepareStackTrace=h}return(h=c?c.displayName||c.name:"")?Es(h):""}function eo(c){switch(c.tag){case 26:case 27:case 5:return Es(c.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return Ec(c.type,!1);case 11:return Ec(c.type.render,!1);case 1:return Ec(c.type,!0);case 31:return Es("Activity");default:return""}}function wA(c){try{var d="";do d+=eo(c),c=c.return;while(c);return d}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function ks(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function vA(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function AH(c){var d=vA(c)?"checked":"value",h=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),b=""+c[d];if(!c.hasOwnProperty(d)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,x=h.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return _.call(this)},set:function(C){b=""+C,x.call(this,C)}}),Object.defineProperty(c,d,{enumerable:h.enumerable}),{getValue:function(){return b},setValue:function(C){b=""+C},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function cp(c){c._valueTracker||(c._valueTracker=AH(c))}function _A(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var h=d.getValue(),b="";return c&&(b=vA(c)?c.checked?"true":"false":c.value),c=b,c!==h?(d.setValue(c),!0):!1}function up(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var NH=/[\n"\\]/g;function Ts(c){return c.replace(NH,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Fv(c,d,h,b,_,x,C,M){c.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?c.type=C:c.removeAttribute("type"),d!=null?C==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+ks(d)):c.value!==""+ks(d)&&(c.value=""+ks(d)):C!=="submit"&&C!=="reset"||c.removeAttribute("value"),d!=null?Lv(c,C,ks(d)):h!=null?Lv(c,C,ks(h)):b!=null&&c.removeAttribute("value"),_==null&&x!=null&&(c.defaultChecked=!!x),_!=null&&(c.checked=_&&typeof _!="function"&&typeof _!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?c.name=""+ks(M):c.removeAttribute("name")}function xA(c,d,h,b,_,x,C,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(c.type=x),d!=null||h!=null){if(!(x!=="submit"&&x!=="reset"||d!=null))return;h=h!=null?""+ks(h):"",d=d!=null?""+ks(d):h,M||d===c.value||(c.value=d),c.defaultValue=d}b=b??_,b=typeof b!="function"&&typeof b!="symbol"&&!!b,c.checked=M?c.checked:!!b,c.defaultChecked=!!b,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(c.name=C)}function Lv(c,d,h){d==="number"&&up(c.ownerDocument)===c||c.defaultValue===""+h||(c.defaultValue=""+h)}function Qu(c,d,h,b){if(c=c.options,d){d={};for(var _=0;_<h.length;_++)d["$"+h[_]]=!0;for(h=0;h<c.length;h++)_=d.hasOwnProperty("$"+c[h].value),c[h].selected!==_&&(c[h].selected=_),_&&b&&(c[h].defaultSelected=!0)}else{for(h=""+ks(h),d=null,_=0;_<c.length;_++){if(c[_].value===h){c[_].selected=!0,b&&(c[_].defaultSelected=!0);return}d!==null||c[_].disabled||(d=c[_])}d!==null&&(d.selected=!0)}}function EA(c,d,h){if(d!=null&&(d=""+ks(d),d!==c.value&&(c.value=d),h==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=h!=null?""+ks(h):""}function kA(c,d,h,b){if(d==null){if(b!=null){if(h!=null)throw Error(r(92));if(xe(b)){if(1<b.length)throw Error(r(93));b=b[0]}h=b}h==null&&(h=""),d=h}h=ks(d),c.defaultValue=h,b=c.textContent,b===h&&b!==""&&b!==null&&(c.value=b)}function Zu(c,d){if(d){var h=c.firstChild;if(h&&h===c.lastChild&&h.nodeType===3){h.nodeValue=d;return}}c.textContent=d}var PH=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function TA(c,d,h){var b=d.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?b?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":b?c.setProperty(d,h):typeof h!="number"||h===0||PH.has(d)?d==="float"?c.cssFloat=h:c[d]=(""+h).trim():c[d]=h+"px"}function SA(c,d,h){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,h!=null){for(var b in h)!h.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?c.setProperty(b,""):b==="float"?c.cssFloat="":c[b]="");for(var _ in d)b=d[_],d.hasOwnProperty(_)&&h[_]!==b&&TA(c,_,b)}else for(var x in d)d.hasOwnProperty(x)&&TA(c,x,d[x])}function Bv(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RH=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IH=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dp(c){return IH.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Vv=null;function Uv(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ed=null,td=null;function CA(c){var d=W(c);if(d&&(c=d.stateNode)){var h=c[Sr]||null;e:switch(c=d.stateNode,d.type){case"input":if(Fv(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),d=h.name,h.type==="radio"&&d!=null){for(h=c;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ts(""+d)+'"][type="radio"]'),d=0;d<h.length;d++){var b=h[d];if(b!==c&&b.form===c.form){var _=b[Sr]||null;if(!_)throw Error(r(90));Fv(b,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(d=0;d<h.length;d++)b=h[d],b.form===c.form&&_A(b)}break e;case"textarea":EA(c,h.value,h.defaultValue);break e;case"select":d=h.value,d!=null&&Qu(c,!!h.multiple,d,!1)}}}var zv=!1;function AA(c,d,h){if(zv)return c(d,h);zv=!0;try{var b=c(d);return b}finally{if(zv=!1,(ed!==null||td!==null)&&(Xp(),ed&&(d=ed,c=td,td=ed=null,CA(d),c)))for(d=0;d<c.length;d++)CA(c[d])}}function Eh(c,d){var h=c.stateNode;if(h===null)return null;var b=h[Sr]||null;if(b===null)return null;h=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(h&&typeof h!="function")throw Error(r(231,d,typeof h));return h}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hv=!1;if(pa)try{var kh={};Object.defineProperty(kh,"passive",{get:function(){Hv=!0}}),window.addEventListener("test",kh,kh),window.removeEventListener("test",kh,kh)}catch{Hv=!1}var xl=null,$v=null,fp=null;function NA(){if(fp)return fp;var c,d=$v,h=d.length,b,_="value"in xl?xl.value:xl.textContent,x=_.length;for(c=0;c<h&&d[c]===_[c];c++);var C=h-c;for(b=1;b<=C&&d[h-b]===_[x-b];b++);return fp=_.slice(c,1<b?1-b:void 0)}function hp(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function mp(){return!0}function PA(){return!1}function Si(c){function d(h,b,_,x,C){this._reactName=h,this._targetInst=_,this.type=b,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var M in c)c.hasOwnProperty(M)&&(h=c[M],this[M]=h?h(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?mp:PA,this.isPropagationStopped=PA,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=mp)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=mp)},persist:function(){},isPersistent:mp}),d}var kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gp=Si(kc),Th=f({},kc,{view:0,detail:0}),OH=Si(Th),Wv,jv,Sh,pp=f({},Th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gv,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Sh&&(Sh&&c.type==="mousemove"?(Wv=c.screenX-Sh.screenX,jv=c.screenY-Sh.screenY):jv=Wv=0,Sh=c),Wv)},movementY:function(c){return"movementY"in c?c.movementY:jv}}),RA=Si(pp),MH=f({},pp,{dataTransfer:0}),DH=Si(MH),FH=f({},Th,{relatedTarget:0}),qv=Si(FH),LH=f({},kc,{animationName:0,elapsedTime:0,pseudoElement:0}),BH=Si(LH),VH=f({},kc,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),UH=Si(VH),zH=f({},kc,{data:0}),IA=Si(zH),HH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jH(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=WH[c])?!!d[c]:!1}function Gv(){return jH}var qH=f({},Th,{key:function(c){if(c.key){var d=HH[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=hp(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?$H[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gv,charCode:function(c){return c.type==="keypress"?hp(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?hp(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),GH=Si(qH),YH=f({},pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OA=Si(YH),KH=f({},Th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gv}),XH=Si(KH),JH=f({},kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),QH=Si(JH),ZH=f({},pp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),e$=Si(ZH),t$=f({},kc,{newState:0,oldState:0}),n$=Si(t$),r$=[9,13,27,32],Yv=pa&&"CompositionEvent"in window,Ch=null;pa&&"documentMode"in document&&(Ch=document.documentMode);var i$=pa&&"TextEvent"in window&&!Ch,MA=pa&&(!Yv||Ch&&8<Ch&&11>=Ch),DA=" ",FA=!1;function LA(c,d){switch(c){case"keyup":return r$.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BA(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var nd=!1;function s$(c,d){switch(c){case"compositionend":return BA(d);case"keypress":return d.which!==32?null:(FA=!0,DA);case"textInput":return c=d.data,c===DA&&FA?null:c;default:return null}}function o$(c,d){if(nd)return c==="compositionend"||!Yv&&LA(c,d)?(c=NA(),fp=$v=xl=null,nd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return MA&&d.locale!=="ko"?null:d.data;default:return null}}var a$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VA(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!a$[c.type]:d==="textarea"}function UA(c,d,h,b){ed?td?td.push(b):td=[b]:ed=b,d=n1(d,"onChange"),0<d.length&&(h=new gp("onChange","change",null,h,b),c.push({event:h,listeners:d}))}var Ah=null,Nh=null;function l$(c){v3(c,0)}function bp(c){var d=ce(c);if(_A(d))return c}function zA(c,d){if(c==="change")return d}var HA=!1;if(pa){var Kv;if(pa){var Xv="oninput"in document;if(!Xv){var $A=document.createElement("div");$A.setAttribute("oninput","return;"),Xv=typeof $A.oninput=="function"}Kv=Xv}else Kv=!1;HA=Kv&&(!document.documentMode||9<document.documentMode)}function WA(){Ah&&(Ah.detachEvent("onpropertychange",jA),Nh=Ah=null)}function jA(c){if(c.propertyName==="value"&&bp(Nh)){var d=[];UA(d,Nh,c,Uv(c)),AA(l$,d)}}function c$(c,d,h){c==="focusin"?(WA(),Ah=d,Nh=h,Ah.attachEvent("onpropertychange",jA)):c==="focusout"&&WA()}function u$(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return bp(Nh)}function d$(c,d){if(c==="click")return bp(d)}function f$(c,d){if(c==="input"||c==="change")return bp(d)}function h$(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Yi=typeof Object.is=="function"?Object.is:h$;function Ph(c,d){if(Yi(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var h=Object.keys(c),b=Object.keys(d);if(h.length!==b.length)return!1;for(b=0;b<h.length;b++){var _=h[b];if(!kt.call(d,_)||!Yi(c[_],d[_]))return!1}return!0}function qA(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function GA(c,d){var h=qA(c);c=0;for(var b;h;){if(h.nodeType===3){if(b=c+h.textContent.length,c<=d&&b>=d)return{node:h,offset:d-c};c=b}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=qA(h)}}function YA(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?YA(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function KA(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=up(c.document);d instanceof c.HTMLIFrameElement;){try{var h=typeof d.contentWindow.location.href=="string"}catch{h=!1}if(h)c=d.contentWindow;else break;d=up(c.document)}return d}function Jv(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var m$=pa&&"documentMode"in document&&11>=document.documentMode,rd=null,Qv=null,Rh=null,Zv=!1;function XA(c,d,h){var b=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Zv||rd==null||rd!==up(b)||(b=rd,"selectionStart"in b&&Jv(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Rh&&Ph(Rh,b)||(Rh=b,b=n1(Qv,"onSelect"),0<b.length&&(d=new gp("onSelect","select",null,d,h),c.push({event:d,listeners:b}),d.target=rd)))}function Tc(c,d){var h={};return h[c.toLowerCase()]=d.toLowerCase(),h["Webkit"+c]="webkit"+d,h["Moz"+c]="moz"+d,h}var id={animationend:Tc("Animation","AnimationEnd"),animationiteration:Tc("Animation","AnimationIteration"),animationstart:Tc("Animation","AnimationStart"),transitionrun:Tc("Transition","TransitionRun"),transitionstart:Tc("Transition","TransitionStart"),transitioncancel:Tc("Transition","TransitionCancel"),transitionend:Tc("Transition","TransitionEnd")},e_={},JA={};pa&&(JA=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function Sc(c){if(e_[c])return e_[c];if(!id[c])return c;var d=id[c],h;for(h in d)if(d.hasOwnProperty(h)&&h in JA)return e_[c]=d[h];return c}var QA=Sc("animationend"),ZA=Sc("animationiteration"),e5=Sc("animationstart"),g$=Sc("transitionrun"),p$=Sc("transitionstart"),b$=Sc("transitioncancel"),t5=Sc("transitionend"),n5=new Map,t_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");t_.push("scrollEnd");function to(c,d){n5.set(c,d),Ie(d,[c])}var r5=new WeakMap;function Ss(c,d){if(typeof c=="object"&&c!==null){var h=r5.get(c);return h!==void 0?h:(d={value:c,source:d,stack:wA(d)},r5.set(c,d),d)}return{value:c,source:d,stack:wA(d)}}var Cs=[],sd=0,n_=0;function yp(){for(var c=sd,d=n_=sd=0;d<c;){var h=Cs[d];Cs[d++]=null;var b=Cs[d];Cs[d++]=null;var _=Cs[d];Cs[d++]=null;var x=Cs[d];if(Cs[d++]=null,b!==null&&_!==null){var C=b.pending;C===null?_.next=_:(_.next=C.next,C.next=_),b.pending=_}x!==0&&i5(h,_,x)}}function wp(c,d,h,b){Cs[sd++]=c,Cs[sd++]=d,Cs[sd++]=h,Cs[sd++]=b,n_|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function r_(c,d,h,b){return wp(c,d,h,b),vp(c)}function od(c,d){return wp(c,null,null,d),vp(c)}function i5(c,d,h){c.lanes|=h;var b=c.alternate;b!==null&&(b.lanes|=h);for(var _=!1,x=c.return;x!==null;)x.childLanes|=h,b=x.alternate,b!==null&&(b.childLanes|=h),x.tag===22&&(c=x.stateNode,c===null||c._visibility&1||(_=!0)),c=x,x=x.return;return c.tag===3?(x=c.stateNode,_&&d!==null&&(_=31-yt(h),c=x.hiddenUpdates,b=c[_],b===null?c[_]=[d]:b.push(d),d.lane=h|536870912),x):null}function vp(c){if(50<nm)throw nm=0,cx=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var ad={};function y$(c,d,h,b){this.tag=c,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(c,d,h,b){return new y$(c,d,h,b)}function i_(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ba(c,d){var h=c.alternate;return h===null?(h=Ki(c.tag,d,c.key,c.mode),h.elementType=c.elementType,h.type=c.type,h.stateNode=c.stateNode,h.alternate=c,c.alternate=h):(h.pendingProps=d,h.type=c.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=c.flags&65011712,h.childLanes=c.childLanes,h.lanes=c.lanes,h.child=c.child,h.memoizedProps=c.memoizedProps,h.memoizedState=c.memoizedState,h.updateQueue=c.updateQueue,d=c.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},h.sibling=c.sibling,h.index=c.index,h.ref=c.ref,h.refCleanup=c.refCleanup,h}function s5(c,d){c.flags&=65011714;var h=c.alternate;return h===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,d=h.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function _p(c,d,h,b,_,x){var C=0;if(b=c,typeof c=="function")i_(c)&&(C=1);else if(typeof c=="string")C=vW(c,h,Y.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case V:return c=Ki(31,h,d,_),c.elementType=V,c.lanes=x,c;case v:return Cc(h.children,_,x,d);case w:C=8,_|=24;break;case E:return c=Ki(12,h,d,_|2),c.elementType=E,c.lanes=x,c;case R:return c=Ki(13,h,d,_),c.elementType=R,c.lanes=x,c;case D:return c=Ki(19,h,d,_),c.elementType=D,c.lanes=x,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case k:case S:C=10;break e;case T:C=9;break e;case P:C=11;break e;case A:C=14;break e;case F:C=16,b=null;break e}C=29,h=Error(r(130,c===null?"null":typeof c,"")),b=null}return d=Ki(C,h,d,_),d.elementType=c,d.type=b,d.lanes=x,d}function Cc(c,d,h,b){return c=Ki(7,c,b,d),c.lanes=h,c}function s_(c,d,h){return c=Ki(6,c,null,d),c.lanes=h,c}function o_(c,d,h){return d=Ki(4,c.children!==null?c.children:[],c.key,d),d.lanes=h,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var ld=[],cd=0,xp=null,Ep=0,As=[],Ns=0,Ac=null,ya=1,wa="";function Nc(c,d){ld[cd++]=Ep,ld[cd++]=xp,xp=c,Ep=d}function o5(c,d,h){As[Ns++]=ya,As[Ns++]=wa,As[Ns++]=Ac,Ac=c;var b=ya;c=wa;var _=32-yt(b)-1;b&=~(1<<_),h+=1;var x=32-yt(d)+_;if(30<x){var C=_-_%5;x=(b&(1<<C)-1).toString(32),b>>=C,_-=C,ya=1<<32-yt(d)+_|h<<_|b,wa=x+c}else ya=1<<x|h<<_|b,wa=c}function a_(c){c.return!==null&&(Nc(c,1),o5(c,1,0))}function l_(c){for(;c===xp;)xp=ld[--cd],ld[cd]=null,Ep=ld[--cd],ld[cd]=null;for(;c===Ac;)Ac=As[--Ns],As[Ns]=null,wa=As[--Ns],As[Ns]=null,ya=As[--Ns],As[Ns]=null}var ui=null,zn=null,Ht=!1,Pc=null,Do=!1,c_=Error(r(519));function Rc(c){var d=Error(r(418,""));throw Mh(Ss(d,c)),c_}function a5(c){var d=c.stateNode,h=c.type,b=c.memoizedProps;switch(d[Tr]=c,d[Sr]=b,h){case"dialog":At("cancel",d),At("close",d);break;case"iframe":case"object":case"embed":At("load",d);break;case"video":case"audio":for(h=0;h<im.length;h++)At(im[h],d);break;case"source":At("error",d);break;case"img":case"image":case"link":At("error",d),At("load",d);break;case"details":At("toggle",d);break;case"input":At("invalid",d),xA(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),cp(d);break;case"select":At("invalid",d);break;case"textarea":At("invalid",d),kA(d,b.value,b.defaultValue,b.children),cp(d)}h=b.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||d.textContent===""+h||b.suppressHydrationWarning===!0||k3(d.textContent,h)?(b.popover!=null&&(At("beforetoggle",d),At("toggle",d)),b.onScroll!=null&&At("scroll",d),b.onScrollEnd!=null&&At("scrollend",d),b.onClick!=null&&(d.onclick=r1),d=!0):d=!1,d||Rc(c)}function l5(c){for(ui=c.return;ui;)switch(ui.tag){case 5:case 13:Do=!1;return;case 27:case 3:Do=!0;return;default:ui=ui.return}}function Ih(c){if(c!==ui)return!1;if(!Ht)return l5(c),Ht=!0,!1;var d=c.tag,h;if((h=d!==3&&d!==27)&&((h=d===5)&&(h=c.type,h=!(h!=="form"&&h!=="button")||Tx(c.type,c.memoizedProps)),h=!h),h&&zn&&Rc(c),l5(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(h=c.data,h==="/$"){if(d===0){zn=ro(c.nextSibling);break e}d--}else h!=="$"&&h!=="$!"&&h!=="$?"||d++;c=c.nextSibling}zn=null}}else d===27?(d=zn,Bl(c.type)?(c=Nx,Nx=null,zn=c):zn=d):zn=ui?ro(c.stateNode.nextSibling):null;return!0}function Oh(){zn=ui=null,Ht=!1}function c5(){var c=Pc;return c!==null&&(Ni===null?Ni=c:Ni.push.apply(Ni,c),Pc=null),c}function Mh(c){Pc===null?Pc=[c]:Pc.push(c)}var u_=_e(null),Ic=null,va=null;function El(c,d,h){Q(u_,d._currentValue),d._currentValue=h}function _a(c){c._currentValue=u_.current,U(u_)}function d_(c,d,h){for(;c!==null;){var b=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),c===h)break;c=c.return}}function f_(c,d,h,b){var _=c.child;for(_!==null&&(_.return=c);_!==null;){var x=_.dependencies;if(x!==null){var C=_.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=_;for(var G=0;G<d.length;G++)if(M.context===d[G]){x.lanes|=h,M=x.alternate,M!==null&&(M.lanes|=h),d_(x.return,h,c),b||(C=null);break e}x=M.next}}else if(_.tag===18){if(C=_.return,C===null)throw Error(r(341));C.lanes|=h,x=C.alternate,x!==null&&(x.lanes|=h),d_(C,h,c),C=null}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===c){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}}function Dh(c,d,h,b){c=null;for(var _=d,x=!1;_!==null;){if(!x){if((_.flags&524288)!==0)x=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var C=_.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var M=_.type;Yi(_.pendingProps.value,C.value)||(c!==null?c.push(M):c=[M])}}else if(_===Ye.current){if(C=_.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(c!==null?c.push(um):c=[um])}_=_.return}c!==null&&f_(d,c,h,b),d.flags|=262144}function kp(c){for(c=c.firstContext;c!==null;){if(!Yi(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Oc(c){Ic=c,va=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Zr(c){return u5(Ic,c)}function Tp(c,d){return Ic===null&&Oc(c),u5(c,d)}function u5(c,d){var h=d._currentValue;if(d={context:d,memoizedValue:h,next:null},va===null){if(c===null)throw Error(r(308));va=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else va=va.next=d;return h}var w$=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(h,b){c.push(b)}};this.abort=function(){d.aborted=!0,c.forEach(function(h){return h()})}},v$=n.unstable_scheduleCallback,_$=n.unstable_NormalPriority,br={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function h_(){return{controller:new w$,data:new Map,refCount:0}}function Fh(c){c.refCount--,c.refCount===0&&v$(_$,function(){c.controller.abort()})}var Lh=null,m_=0,ud=0,dd=null;function x$(c,d){if(Lh===null){var h=Lh=[];m_=0,ud=px(),dd={status:"pending",value:void 0,then:function(b){h.push(b)}}}return m_++,d.then(d5,d5),d}function d5(){if(--m_===0&&Lh!==null){dd!==null&&(dd.status="fulfilled");var c=Lh;Lh=null,ud=0,dd=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function E$(c,d){var h=[],b={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return c.then(function(){b.status="fulfilled",b.value=d;for(var _=0;_<h.length;_++)(0,h[_])(d)},function(_){for(b.status="rejected",b.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),b}var f5=ne.S;ne.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&x$(c,d),f5!==null&&f5(c,d)};var Mc=_e(null);function g_(){var c=Mc.current;return c!==null?c:kn.pooledCache}function Sp(c,d){d===null?Q(Mc,Mc.current):Q(Mc,d.pool)}function h5(){var c=g_();return c===null?null:{parent:br._currentValue,pool:c}}var Bh=Error(r(460)),m5=Error(r(474)),Cp=Error(r(542)),p_={then:function(){}};function g5(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ap(){}function p5(c,d,h){switch(h=c[h],h===void 0?c.push(d):h!==d&&(d.then(Ap,Ap),d=h),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,y5(c),c;default:if(typeof d.status=="string")d.then(Ap,Ap);else{if(c=kn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(b){if(d.status==="pending"){var _=d;_.status="fulfilled",_.value=b}},function(b){if(d.status==="pending"){var _=d;_.status="rejected",_.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,y5(c),c}throw Vh=d,Bh}}var Vh=null;function b5(){if(Vh===null)throw Error(r(459));var c=Vh;return Vh=null,c}function y5(c){if(c===Bh||c===Cp)throw Error(r(483))}var kl=!1;function b_(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function y_(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Tl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Sl(c,d,h){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(Qt&2)!==0){var _=b.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),b.pending=d,d=vp(c),i5(c,null,h),d}return wp(c,b,d,h),vp(c)}function Uh(c,d,h){if(d=d.updateQueue,d!==null&&(d=d.shared,(h&4194048)!==0)){var b=d.lanes;b&=c.pendingLanes,h|=b,d.lanes=h,ap(c,h)}}function w_(c,d){var h=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,h===b)){var _=null,x=null;if(h=h.firstBaseUpdate,h!==null){do{var C={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};x===null?_=x=C:x=x.next=C,h=h.next}while(h!==null);x===null?_=x=d:x=x.next=d}else _=x=d;h={baseState:b.baseState,firstBaseUpdate:_,lastBaseUpdate:x,shared:b.shared,callbacks:b.callbacks},c.updateQueue=h;return}c=h.lastBaseUpdate,c===null?h.firstBaseUpdate=d:c.next=d,h.lastBaseUpdate=d}var v_=!1;function zh(){if(v_){var c=dd;if(c!==null)throw c}}function Hh(c,d,h,b){v_=!1;var _=c.updateQueue;kl=!1;var x=_.firstBaseUpdate,C=_.lastBaseUpdate,M=_.shared.pending;if(M!==null){_.shared.pending=null;var G=M,ae=G.next;G.next=null,C===null?x=ae:C.next=ae,C=G;var Se=c.alternate;Se!==null&&(Se=Se.updateQueue,M=Se.lastBaseUpdate,M!==C&&(M===null?Se.firstBaseUpdate=ae:M.next=ae,Se.lastBaseUpdate=G))}if(x!==null){var Ae=_.baseState;C=0,Se=ae=G=null,M=x;do{var fe=M.lane&-536870913,ge=fe!==M.lane;if(ge?(Ot&fe)===fe:(b&fe)===fe){fe!==0&&fe===ud&&(v_=!0),Se!==null&&(Se=Se.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ht=c,ut=M;fe=d;var fn=h;switch(ut.tag){case 1:if(ht=ut.payload,typeof ht=="function"){Ae=ht.call(fn,Ae,fe);break e}Ae=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ut.payload,fe=typeof ht=="function"?ht.call(fn,Ae,fe):ht,fe==null)break e;Ae=f({},Ae,fe);break e;case 2:kl=!0}}fe=M.callback,fe!==null&&(c.flags|=64,ge&&(c.flags|=8192),ge=_.callbacks,ge===null?_.callbacks=[fe]:ge.push(fe))}else ge={lane:fe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Se===null?(ae=Se=ge,G=Ae):Se=Se.next=ge,C|=fe;if(M=M.next,M===null){if(M=_.shared.pending,M===null)break;ge=M,M=ge.next,ge.next=null,_.lastBaseUpdate=ge,_.shared.pending=null}}while(!0);Se===null&&(G=Ae),_.baseState=G,_.firstBaseUpdate=ae,_.lastBaseUpdate=Se,x===null&&(_.shared.lanes=0),Ml|=C,c.lanes=C,c.memoizedState=Ae}}function w5(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function v5(c,d){var h=c.callbacks;if(h!==null)for(c.callbacks=null,c=0;c<h.length;c++)w5(h[c],d)}var fd=_e(null),Np=_e(0);function _5(c,d){c=Aa,Q(Np,c),Q(fd,d),Aa=c|d.baseLanes}function __(){Q(Np,Aa),Q(fd,fd.current)}function x_(){Aa=Np.current,U(fd),U(Np)}var Cl=0,Tt=null,un=null,or=null,Pp=!1,hd=!1,Dc=!1,Rp=0,$h=0,md=null,k$=0;function Qn(){throw Error(r(321))}function E_(c,d){if(d===null)return!1;for(var h=0;h<d.length&&h<c.length;h++)if(!Yi(c[h],d[h]))return!1;return!0}function k_(c,d,h,b,_,x){return Cl=x,Tt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ne.H=c===null||c.memoizedState===null?i4:s4,Dc=!1,x=h(b,_),Dc=!1,hd&&(x=E5(d,h,b,_)),x5(c),x}function x5(c){ne.H=Lp;var d=un!==null&&un.next!==null;if(Cl=0,or=un=Tt=null,Pp=!1,$h=0,md=null,d)throw Error(r(300));c===null||Cr||(c=c.dependencies,c!==null&&kp(c)&&(Cr=!0))}function E5(c,d,h,b){Tt=c;var _=0;do{if(hd&&(md=null),$h=0,hd=!1,25<=_)throw Error(r(301));if(_+=1,or=un=null,c.updateQueue!=null){var x=c.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}ne.H=R$,x=d(h,b)}while(hd);return x}function T$(){var c=ne.H,d=c.useState()[0];return d=typeof d.then=="function"?Wh(d):d,c=c.useState()[0],(un!==null?un.memoizedState:null)!==c&&(Tt.flags|=1024),d}function T_(){var c=Rp!==0;return Rp=0,c}function S_(c,d,h){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~h}function C_(c){if(Pp){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Pp=!1}Cl=0,or=un=Tt=null,hd=!1,$h=Rp=0,md=null}function Ci(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Tt.memoizedState=or=c:or=or.next=c,or}function ar(){if(un===null){var c=Tt.alternate;c=c!==null?c.memoizedState:null}else c=un.next;var d=or===null?Tt.memoizedState:or.next;if(d!==null)or=d,un=c;else{if(c===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));un=c,c={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},or===null?Tt.memoizedState=or=c:or=or.next=c}return or}function A_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wh(c){var d=$h;return $h+=1,md===null&&(md=[]),c=p5(md,c,d),d=Tt,(or===null?d.memoizedState:or.next)===null&&(d=d.alternate,ne.H=d===null||d.memoizedState===null?i4:s4),c}function Ip(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Wh(c);if(c.$$typeof===S)return Zr(c)}throw Error(r(438,String(c)))}function N_(c){var d=null,h=Tt.updateQueue;if(h!==null&&(d=h.memoCache),d==null){var b=Tt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(_){return _.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),h===null&&(h=A_(),Tt.updateQueue=h),h.memoCache=d,h=d.data[d.index],h===void 0)for(h=d.data[d.index]=Array(c),b=0;b<c;b++)h[b]=X;return d.index++,h}function xa(c,d){return typeof d=="function"?d(c):d}function Op(c){var d=ar();return P_(d,un,c)}function P_(c,d,h){var b=c.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var _=c.baseQueue,x=b.pending;if(x!==null){if(_!==null){var C=_.next;_.next=x.next,x.next=C}d.baseQueue=_=x,b.pending=null}if(x=c.baseState,_===null)c.memoizedState=x;else{d=_.next;var M=C=null,G=null,ae=d,Se=!1;do{var Ae=ae.lane&-536870913;if(Ae!==ae.lane?(Ot&Ae)===Ae:(Cl&Ae)===Ae){var fe=ae.revertLane;if(fe===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),Ae===ud&&(Se=!0);else if((Cl&fe)===fe){ae=ae.next,fe===ud&&(Se=!0);continue}else Ae={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(M=G=Ae,C=x):G=G.next=Ae,Tt.lanes|=fe,Ml|=fe;Ae=ae.action,Dc&&h(x,Ae),x=ae.hasEagerState?ae.eagerState:h(x,Ae)}else fe={lane:Ae,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(M=G=fe,C=x):G=G.next=fe,Tt.lanes|=Ae,Ml|=Ae;ae=ae.next}while(ae!==null&&ae!==d);if(G===null?C=x:G.next=M,!Yi(x,c.memoizedState)&&(Cr=!0,Se&&(h=dd,h!==null)))throw h;c.memoizedState=x,c.baseState=C,c.baseQueue=G,b.lastRenderedState=x}return _===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function R_(c){var d=ar(),h=d.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var b=h.dispatch,_=h.pending,x=d.memoizedState;if(_!==null){h.pending=null;var C=_=_.next;do x=c(x,C.action),C=C.next;while(C!==_);Yi(x,d.memoizedState)||(Cr=!0),d.memoizedState=x,d.baseQueue===null&&(d.baseState=x),h.lastRenderedState=x}return[x,b]}function k5(c,d,h){var b=Tt,_=ar(),x=Ht;if(x){if(h===void 0)throw Error(r(407));h=h()}else h=d();var C=!Yi((un||_).memoizedState,h);C&&(_.memoizedState=h,Cr=!0),_=_.queue;var M=C5.bind(null,b,_,c);if(jh(2048,8,M,[c]),_.getSnapshot!==d||C||or!==null&&or.memoizedState.tag&1){if(b.flags|=2048,gd(9,Mp(),S5.bind(null,b,_,h,d),null),kn===null)throw Error(r(349));x||(Cl&124)!==0||T5(b,d,h)}return h}function T5(c,d,h){c.flags|=16384,c={getSnapshot:d,value:h},d=Tt.updateQueue,d===null?(d=A_(),Tt.updateQueue=d,d.stores=[c]):(h=d.stores,h===null?d.stores=[c]:h.push(c))}function S5(c,d,h,b){d.value=h,d.getSnapshot=b,A5(d)&&N5(c)}function C5(c,d,h){return h(function(){A5(d)&&N5(c)})}function A5(c){var d=c.getSnapshot;c=c.value;try{var h=d();return!Yi(c,h)}catch{return!0}}function N5(c){var d=od(c,2);d!==null&&es(d,c,2)}function I_(c){var d=Ci();if(typeof c=="function"){var h=c;if(c=h(),Dc){mt(!0);try{h()}finally{mt(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:c},d}function P5(c,d,h,b){return c.baseState=h,P_(c,un,typeof b=="function"?b:xa)}function S$(c,d,h,b,_){if(Fp(c))throw Error(r(485));if(c=d.action,c!==null){var x={payload:_,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};ne.T!==null?h(!0):x.isTransition=!1,b(x),h=d.pending,h===null?(x.next=d.pending=x,R5(d,x)):(x.next=h.next,d.pending=h.next=x)}}function R5(c,d){var h=d.action,b=d.payload,_=c.state;if(d.isTransition){var x=ne.T,C={};ne.T=C;try{var M=h(_,b),G=ne.S;G!==null&&G(C,M),I5(c,d,M)}catch(ae){O_(c,d,ae)}finally{ne.T=x}}else try{x=h(_,b),I5(c,d,x)}catch(ae){O_(c,d,ae)}}function I5(c,d,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(b){O5(c,d,b)},function(b){return O_(c,d,b)}):O5(c,d,h)}function O5(c,d,h){d.status="fulfilled",d.value=h,M5(d),c.state=h,d=c.pending,d!==null&&(h=d.next,h===d?c.pending=null:(h=h.next,d.next=h,R5(c,h)))}function O_(c,d,h){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=h,M5(d),d=d.next;while(d!==b)}c.action=null}function M5(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function D5(c,d){return d}function F5(c,d){if(Ht){var h=kn.formState;if(h!==null){e:{var b=Tt;if(Ht){if(zn){t:{for(var _=zn,x=Do;_.nodeType!==8;){if(!x){_=null;break t}if(_=ro(_.nextSibling),_===null){_=null;break t}}x=_.data,_=x==="F!"||x==="F"?_:null}if(_){zn=ro(_.nextSibling),b=_.data==="F!";break e}}Rc(b)}b=!1}b&&(d=h[0])}}return h=Ci(),h.memoizedState=h.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D5,lastRenderedState:d},h.queue=b,h=t4.bind(null,Tt,b),b.dispatch=h,b=I_(!1),x=B_.bind(null,Tt,!1,b.queue),b=Ci(),_={state:d,dispatch:null,action:c,pending:null},b.queue=_,h=S$.bind(null,Tt,_,x,h),_.dispatch=h,b.memoizedState=c,[d,h,!1]}function L5(c){var d=ar();return B5(d,un,c)}function B5(c,d,h){if(d=P_(c,d,D5)[0],c=Op(xa)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=Wh(d)}catch(C){throw C===Bh?Cp:C}else b=d;d=ar();var _=d.queue,x=_.dispatch;return h!==d.memoizedState&&(Tt.flags|=2048,gd(9,Mp(),C$.bind(null,_,h),null)),[b,x,c]}function C$(c,d){c.action=d}function V5(c){var d=ar(),h=un;if(h!==null)return B5(d,h,c);ar(),d=d.memoizedState,h=ar();var b=h.queue.dispatch;return h.memoizedState=c,[d,b,!1]}function gd(c,d,h,b){return c={tag:c,create:h,deps:b,inst:d,next:null},d=Tt.updateQueue,d===null&&(d=A_(),Tt.updateQueue=d),h=d.lastEffect,h===null?d.lastEffect=c.next=c:(b=h.next,h.next=c,c.next=b,d.lastEffect=c),c}function Mp(){return{destroy:void 0,resource:void 0}}function U5(){return ar().memoizedState}function Dp(c,d,h,b){var _=Ci();b=b===void 0?null:b,Tt.flags|=c,_.memoizedState=gd(1|d,Mp(),h,b)}function jh(c,d,h,b){var _=ar();b=b===void 0?null:b;var x=_.memoizedState.inst;un!==null&&b!==null&&E_(b,un.memoizedState.deps)?_.memoizedState=gd(d,x,h,b):(Tt.flags|=c,_.memoizedState=gd(1|d,x,h,b))}function z5(c,d){Dp(8390656,8,c,d)}function H5(c,d){jh(2048,8,c,d)}function $5(c,d){return jh(4,2,c,d)}function W5(c,d){return jh(4,4,c,d)}function j5(c,d){if(typeof d=="function"){c=c();var h=d(c);return function(){typeof h=="function"?h():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function q5(c,d,h){h=h!=null?h.concat([c]):null,jh(4,4,j5.bind(null,d,c),h)}function M_(){}function G5(c,d){var h=ar();d=d===void 0?null:d;var b=h.memoizedState;return d!==null&&E_(d,b[1])?b[0]:(h.memoizedState=[c,d],c)}function Y5(c,d){var h=ar();d=d===void 0?null:d;var b=h.memoizedState;if(d!==null&&E_(d,b[1]))return b[0];if(b=c(),Dc){mt(!0);try{c()}finally{mt(!1)}}return h.memoizedState=[b,d],b}function D_(c,d,h){return h===void 0||(Cl&1073741824)!==0?c.memoizedState=d:(c.memoizedState=h,c=J4(),Tt.lanes|=c,Ml|=c,h)}function K5(c,d,h,b){return Yi(h,d)?h:fd.current!==null?(c=D_(c,h,b),Yi(c,d)||(Cr=!0),c):(Cl&42)===0?(Cr=!0,c.memoizedState=h):(c=J4(),Tt.lanes|=c,Ml|=c,d)}function X5(c,d,h,b,_){var x=Ee.p;Ee.p=x!==0&&8>x?x:8;var C=ne.T,M={};ne.T=M,B_(c,!1,d,h);try{var G=_(),ae=ne.S;if(ae!==null&&ae(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var Se=E$(G,b);qh(c,d,Se,Zi(c))}else qh(c,d,b,Zi(c))}catch(Ae){qh(c,d,{then:function(){},status:"rejected",reason:Ae},Zi())}finally{Ee.p=x,ne.T=C}}function A$(){}function F_(c,d,h,b){if(c.tag!==5)throw Error(r(476));var _=J5(c).queue;X5(c,_,d,We,h===null?A$:function(){return Q5(c),h(b)})}function J5(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:We,baseState:We,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:We},next:null};var h={};return d.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:h},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function Q5(c){var d=J5(c).next.queue;qh(c,d,{},Zi())}function L_(){return Zr(um)}function Z5(){return ar().memoizedState}function e4(){return ar().memoizedState}function N$(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var h=Zi();c=Tl(h);var b=Sl(d,c,h);b!==null&&(es(b,d,h),Uh(b,d,h)),d={cache:h_()},c.payload=d;return}d=d.return}}function P$(c,d,h){var b=Zi();h={lane:b,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Fp(c)?n4(d,h):(h=r_(c,d,h,b),h!==null&&(es(h,c,b),r4(h,d,b)))}function t4(c,d,h){var b=Zi();qh(c,d,h,b)}function qh(c,d,h,b){var _={lane:b,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Fp(c))n4(d,_);else{var x=c.alternate;if(c.lanes===0&&(x===null||x.lanes===0)&&(x=d.lastRenderedReducer,x!==null))try{var C=d.lastRenderedState,M=x(C,h);if(_.hasEagerState=!0,_.eagerState=M,Yi(M,C))return wp(c,d,_,0),kn===null&&yp(),!1}catch{}finally{}if(h=r_(c,d,_,b),h!==null)return es(h,c,b),r4(h,d,b),!0}return!1}function B_(c,d,h,b){if(b={lane:2,revertLane:px(),action:b,hasEagerState:!1,eagerState:null,next:null},Fp(c)){if(d)throw Error(r(479))}else d=r_(c,h,b,2),d!==null&&es(d,c,2)}function Fp(c){var d=c.alternate;return c===Tt||d!==null&&d===Tt}function n4(c,d){hd=Pp=!0;var h=c.pending;h===null?d.next=d:(d.next=h.next,h.next=d),c.pending=d}function r4(c,d,h){if((h&4194048)!==0){var b=d.lanes;b&=c.pendingLanes,h|=b,d.lanes=h,ap(c,h)}}var Lp={readContext:Zr,use:Ip,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useLayoutEffect:Qn,useInsertionEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useSyncExternalStore:Qn,useId:Qn,useHostTransitionStatus:Qn,useFormState:Qn,useActionState:Qn,useOptimistic:Qn,useMemoCache:Qn,useCacheRefresh:Qn},i4={readContext:Zr,use:Ip,useCallback:function(c,d){return Ci().memoizedState=[c,d===void 0?null:d],c},useContext:Zr,useEffect:z5,useImperativeHandle:function(c,d,h){h=h!=null?h.concat([c]):null,Dp(4194308,4,j5.bind(null,d,c),h)},useLayoutEffect:function(c,d){return Dp(4194308,4,c,d)},useInsertionEffect:function(c,d){Dp(4,2,c,d)},useMemo:function(c,d){var h=Ci();d=d===void 0?null:d;var b=c();if(Dc){mt(!0);try{c()}finally{mt(!1)}}return h.memoizedState=[b,d],b},useReducer:function(c,d,h){var b=Ci();if(h!==void 0){var _=h(d);if(Dc){mt(!0);try{h(d)}finally{mt(!1)}}}else _=d;return b.memoizedState=b.baseState=_,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:_},b.queue=c,c=c.dispatch=P$.bind(null,Tt,c),[b.memoizedState,c]},useRef:function(c){var d=Ci();return c={current:c},d.memoizedState=c},useState:function(c){c=I_(c);var d=c.queue,h=t4.bind(null,Tt,d);return d.dispatch=h,[c.memoizedState,h]},useDebugValue:M_,useDeferredValue:function(c,d){var h=Ci();return D_(h,c,d)},useTransition:function(){var c=I_(!1);return c=X5.bind(null,Tt,c.queue,!0,!1),Ci().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,h){var b=Tt,_=Ci();if(Ht){if(h===void 0)throw Error(r(407));h=h()}else{if(h=d(),kn===null)throw Error(r(349));(Ot&124)!==0||T5(b,d,h)}_.memoizedState=h;var x={value:h,getSnapshot:d};return _.queue=x,z5(C5.bind(null,b,x,c),[c]),b.flags|=2048,gd(9,Mp(),S5.bind(null,b,x,h,d),null),h},useId:function(){var c=Ci(),d=kn.identifierPrefix;if(Ht){var h=wa,b=ya;h=(b&~(1<<32-yt(b)-1)).toString(32)+h,d=""+d+"R"+h,h=Rp++,0<h&&(d+="H"+h.toString(32)),d+=""}else h=k$++,d=""+d+"r"+h.toString(32)+"";return c.memoizedState=d},useHostTransitionStatus:L_,useFormState:F5,useActionState:F5,useOptimistic:function(c){var d=Ci();d.memoizedState=d.baseState=c;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=h,d=B_.bind(null,Tt,!0,h),h.dispatch=d,[c,d]},useMemoCache:N_,useCacheRefresh:function(){return Ci().memoizedState=N$.bind(null,Tt)}},s4={readContext:Zr,use:Ip,useCallback:G5,useContext:Zr,useEffect:H5,useImperativeHandle:q5,useInsertionEffect:$5,useLayoutEffect:W5,useMemo:Y5,useReducer:Op,useRef:U5,useState:function(){return Op(xa)},useDebugValue:M_,useDeferredValue:function(c,d){var h=ar();return K5(h,un.memoizedState,c,d)},useTransition:function(){var c=Op(xa)[0],d=ar().memoizedState;return[typeof c=="boolean"?c:Wh(c),d]},useSyncExternalStore:k5,useId:Z5,useHostTransitionStatus:L_,useFormState:L5,useActionState:L5,useOptimistic:function(c,d){var h=ar();return P5(h,un,c,d)},useMemoCache:N_,useCacheRefresh:e4},R$={readContext:Zr,use:Ip,useCallback:G5,useContext:Zr,useEffect:H5,useImperativeHandle:q5,useInsertionEffect:$5,useLayoutEffect:W5,useMemo:Y5,useReducer:R_,useRef:U5,useState:function(){return R_(xa)},useDebugValue:M_,useDeferredValue:function(c,d){var h=ar();return un===null?D_(h,c,d):K5(h,un.memoizedState,c,d)},useTransition:function(){var c=R_(xa)[0],d=ar().memoizedState;return[typeof c=="boolean"?c:Wh(c),d]},useSyncExternalStore:k5,useId:Z5,useHostTransitionStatus:L_,useFormState:V5,useActionState:V5,useOptimistic:function(c,d){var h=ar();return un!==null?P5(h,un,c,d):(h.baseState=c,[c,h.queue.dispatch])},useMemoCache:N_,useCacheRefresh:e4},pd=null,Gh=0;function Bp(c){var d=Gh;return Gh+=1,pd===null&&(pd=[]),p5(pd,c,d)}function Yh(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function Vp(c,d){throw d.$$typeof===m?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function o4(c){var d=c._init;return d(c._payload)}function a4(c){function d(ie,Z){if(c){var oe=ie.deletions;oe===null?(ie.deletions=[Z],ie.flags|=16):oe.push(Z)}}function h(ie,Z){if(!c)return null;for(;Z!==null;)d(ie,Z),Z=Z.sibling;return null}function b(ie){for(var Z=new Map;ie!==null;)ie.key!==null?Z.set(ie.key,ie):Z.set(ie.index,ie),ie=ie.sibling;return Z}function _(ie,Z){return ie=ba(ie,Z),ie.index=0,ie.sibling=null,ie}function x(ie,Z,oe){return ie.index=oe,c?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<Z?(ie.flags|=67108866,Z):oe):(ie.flags|=67108866,Z)):(ie.flags|=1048576,Z)}function C(ie){return c&&ie.alternate===null&&(ie.flags|=67108866),ie}function M(ie,Z,oe,Ce){return Z===null||Z.tag!==6?(Z=s_(oe,ie.mode,Ce),Z.return=ie,Z):(Z=_(Z,oe),Z.return=ie,Z)}function G(ie,Z,oe,Ce){var st=oe.type;return st===v?Se(ie,Z,oe.props.children,Ce,oe.key):Z!==null&&(Z.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===F&&o4(st)===Z.type)?(Z=_(Z,oe.props),Yh(Z,oe),Z.return=ie,Z):(Z=_p(oe.type,oe.key,oe.props,null,ie.mode,Ce),Yh(Z,oe),Z.return=ie,Z)}function ae(ie,Z,oe,Ce){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=o_(oe,ie.mode,Ce),Z.return=ie,Z):(Z=_(Z,oe.children||[]),Z.return=ie,Z)}function Se(ie,Z,oe,Ce,st){return Z===null||Z.tag!==7?(Z=Cc(oe,ie.mode,Ce,st),Z.return=ie,Z):(Z=_(Z,oe),Z.return=ie,Z)}function Ae(ie,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=s_(""+Z,ie.mode,oe),Z.return=ie,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case p:return oe=_p(Z.type,Z.key,Z.props,null,ie.mode,oe),Yh(oe,Z),oe.return=ie,oe;case y:return Z=o_(Z,ie.mode,oe),Z.return=ie,Z;case F:var Ce=Z._init;return Z=Ce(Z._payload),Ae(ie,Z,oe)}if(xe(Z)||N(Z))return Z=Cc(Z,ie.mode,oe,null),Z.return=ie,Z;if(typeof Z.then=="function")return Ae(ie,Bp(Z),oe);if(Z.$$typeof===S)return Ae(ie,Tp(ie,Z),oe);Vp(ie,Z)}return null}function fe(ie,Z,oe,Ce){var st=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return st!==null?null:M(ie,Z,""+oe,Ce);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case p:return oe.key===st?G(ie,Z,oe,Ce):null;case y:return oe.key===st?ae(ie,Z,oe,Ce):null;case F:return st=oe._init,oe=st(oe._payload),fe(ie,Z,oe,Ce)}if(xe(oe)||N(oe))return st!==null?null:Se(ie,Z,oe,Ce,null);if(typeof oe.then=="function")return fe(ie,Z,Bp(oe),Ce);if(oe.$$typeof===S)return fe(ie,Z,Tp(ie,oe),Ce);Vp(ie,oe)}return null}function ge(ie,Z,oe,Ce,st){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ie=ie.get(oe)||null,M(Z,ie,""+Ce,st);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case p:return ie=ie.get(Ce.key===null?oe:Ce.key)||null,G(Z,ie,Ce,st);case y:return ie=ie.get(Ce.key===null?oe:Ce.key)||null,ae(Z,ie,Ce,st);case F:var St=Ce._init;return Ce=St(Ce._payload),ge(ie,Z,oe,Ce,st)}if(xe(Ce)||N(Ce))return ie=ie.get(oe)||null,Se(Z,ie,Ce,st,null);if(typeof Ce.then=="function")return ge(ie,Z,oe,Bp(Ce),st);if(Ce.$$typeof===S)return ge(ie,Z,oe,Tp(Z,Ce),st);Vp(Z,Ce)}return null}function ht(ie,Z,oe,Ce){for(var st=null,St=null,at=Z,dt=Z=0,Nr=null;at!==null&&dt<oe.length;dt++){at.index>dt?(Nr=at,at=null):Nr=at.sibling;var Lt=fe(ie,at,oe[dt],Ce);if(Lt===null){at===null&&(at=Nr);break}c&&at&&Lt.alternate===null&&d(ie,at),Z=x(Lt,Z,dt),St===null?st=Lt:St.sibling=Lt,St=Lt,at=Nr}if(dt===oe.length)return h(ie,at),Ht&&Nc(ie,dt),st;if(at===null){for(;dt<oe.length;dt++)at=Ae(ie,oe[dt],Ce),at!==null&&(Z=x(at,Z,dt),St===null?st=at:St.sibling=at,St=at);return Ht&&Nc(ie,dt),st}for(at=b(at);dt<oe.length;dt++)Nr=ge(at,ie,dt,oe[dt],Ce),Nr!==null&&(c&&Nr.alternate!==null&&at.delete(Nr.key===null?dt:Nr.key),Z=x(Nr,Z,dt),St===null?st=Nr:St.sibling=Nr,St=Nr);return c&&at.forEach(function($l){return d(ie,$l)}),Ht&&Nc(ie,dt),st}function ut(ie,Z,oe,Ce){if(oe==null)throw Error(r(151));for(var st=null,St=null,at=Z,dt=Z=0,Nr=null,Lt=oe.next();at!==null&&!Lt.done;dt++,Lt=oe.next()){at.index>dt?(Nr=at,at=null):Nr=at.sibling;var $l=fe(ie,at,Lt.value,Ce);if($l===null){at===null&&(at=Nr);break}c&&at&&$l.alternate===null&&d(ie,at),Z=x($l,Z,dt),St===null?st=$l:St.sibling=$l,St=$l,at=Nr}if(Lt.done)return h(ie,at),Ht&&Nc(ie,dt),st;if(at===null){for(;!Lt.done;dt++,Lt=oe.next())Lt=Ae(ie,Lt.value,Ce),Lt!==null&&(Z=x(Lt,Z,dt),St===null?st=Lt:St.sibling=Lt,St=Lt);return Ht&&Nc(ie,dt),st}for(at=b(at);!Lt.done;dt++,Lt=oe.next())Lt=ge(at,ie,dt,Lt.value,Ce),Lt!==null&&(c&&Lt.alternate!==null&&at.delete(Lt.key===null?dt:Lt.key),Z=x(Lt,Z,dt),St===null?st=Lt:St.sibling=Lt,St=Lt);return c&&at.forEach(function(IW){return d(ie,IW)}),Ht&&Nc(ie,dt),st}function fn(ie,Z,oe,Ce){if(typeof oe=="object"&&oe!==null&&oe.type===v&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case p:e:{for(var st=oe.key;Z!==null;){if(Z.key===st){if(st=oe.type,st===v){if(Z.tag===7){h(ie,Z.sibling),Ce=_(Z,oe.props.children),Ce.return=ie,ie=Ce;break e}}else if(Z.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===F&&o4(st)===Z.type){h(ie,Z.sibling),Ce=_(Z,oe.props),Yh(Ce,oe),Ce.return=ie,ie=Ce;break e}h(ie,Z);break}else d(ie,Z);Z=Z.sibling}oe.type===v?(Ce=Cc(oe.props.children,ie.mode,Ce,oe.key),Ce.return=ie,ie=Ce):(Ce=_p(oe.type,oe.key,oe.props,null,ie.mode,Ce),Yh(Ce,oe),Ce.return=ie,ie=Ce)}return C(ie);case y:e:{for(st=oe.key;Z!==null;){if(Z.key===st)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){h(ie,Z.sibling),Ce=_(Z,oe.children||[]),Ce.return=ie,ie=Ce;break e}else{h(ie,Z);break}else d(ie,Z);Z=Z.sibling}Ce=o_(oe,ie.mode,Ce),Ce.return=ie,ie=Ce}return C(ie);case F:return st=oe._init,oe=st(oe._payload),fn(ie,Z,oe,Ce)}if(xe(oe))return ht(ie,Z,oe,Ce);if(N(oe)){if(st=N(oe),typeof st!="function")throw Error(r(150));return oe=st.call(oe),ut(ie,Z,oe,Ce)}if(typeof oe.then=="function")return fn(ie,Z,Bp(oe),Ce);if(oe.$$typeof===S)return fn(ie,Z,Tp(ie,oe),Ce);Vp(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Z!==null&&Z.tag===6?(h(ie,Z.sibling),Ce=_(Z,oe),Ce.return=ie,ie=Ce):(h(ie,Z),Ce=s_(oe,ie.mode,Ce),Ce.return=ie,ie=Ce),C(ie)):h(ie,Z)}return function(ie,Z,oe,Ce){try{Gh=0;var st=fn(ie,Z,oe,Ce);return pd=null,st}catch(at){if(at===Bh||at===Cp)throw at;var St=Ki(29,at,null,ie.mode);return St.lanes=Ce,St.return=ie,St}finally{}}}var bd=a4(!0),l4=a4(!1),Ps=_e(null),Fo=null;function Al(c){var d=c.alternate;Q(yr,yr.current&1),Q(Ps,c),Fo===null&&(d===null||fd.current!==null||d.memoizedState!==null)&&(Fo=c)}function c4(c){if(c.tag===22){if(Q(yr,yr.current),Q(Ps,c),Fo===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(Fo=c)}}else Nl()}function Nl(){Q(yr,yr.current),Q(Ps,Ps.current)}function Ea(c){U(Ps),Fo===c&&(Fo=null),U(yr)}var yr=_e(0);function Up(c){for(var d=c;d!==null;){if(d.tag===13){var h=d.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Ax(h)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function V_(c,d,h,b){d=c.memoizedState,h=h(b,d),h=h==null?d:f({},d,h),c.memoizedState=h,c.lanes===0&&(c.updateQueue.baseState=h)}var U_={enqueueSetState:function(c,d,h){c=c._reactInternals;var b=Zi(),_=Tl(b);_.payload=d,h!=null&&(_.callback=h),d=Sl(c,_,b),d!==null&&(es(d,c,b),Uh(d,c,b))},enqueueReplaceState:function(c,d,h){c=c._reactInternals;var b=Zi(),_=Tl(b);_.tag=1,_.payload=d,h!=null&&(_.callback=h),d=Sl(c,_,b),d!==null&&(es(d,c,b),Uh(d,c,b))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var h=Zi(),b=Tl(h);b.tag=2,d!=null&&(b.callback=d),d=Sl(c,b,h),d!==null&&(es(d,c,h),Uh(d,c,h))}};function u4(c,d,h,b,_,x,C){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,x,C):d.prototype&&d.prototype.isPureReactComponent?!Ph(h,b)||!Ph(_,x):!0}function d4(c,d,h,b){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(h,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(h,b),d.state!==c&&U_.enqueueReplaceState(d,d.state,null)}function Fc(c,d){var h=d;if("ref"in d){h={};for(var b in d)b!=="ref"&&(h[b]=d[b])}if(c=c.defaultProps){h===d&&(h=f({},h));for(var _ in c)h[_]===void 0&&(h[_]=c[_])}return h}var zp=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function f4(c){zp(c)}function h4(c){console.error(c)}function m4(c){zp(c)}function Hp(c,d){try{var h=c.onUncaughtError;h(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function g4(c,d,h){try{var b=c.onCaughtError;b(h.value,{componentStack:h.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function z_(c,d,h){return h=Tl(h),h.tag=3,h.payload={element:null},h.callback=function(){Hp(c,d)},h}function p4(c){return c=Tl(c),c.tag=3,c}function b4(c,d,h,b){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var x=b.value;c.payload=function(){return _(x)},c.callback=function(){g4(d,h,b)}}var C=h.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(c.callback=function(){g4(d,h,b),typeof _!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var M=b.stack;this.componentDidCatch(b.value,{componentStack:M!==null?M:""})})}function I$(c,d,h,b,_){if(h.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=h.alternate,d!==null&&Dh(d,h,_,!0),h=Ps.current,h!==null){switch(h.tag){case 13:return Fo===null?dx():h.alternate===null&&Hn===0&&(Hn=3),h.flags&=-257,h.flags|=65536,h.lanes=_,b===p_?h.flags|=16384:(d=h.updateQueue,d===null?h.updateQueue=new Set([b]):d.add(b),hx(c,b,_)),!1;case 22:return h.flags|=65536,b===p_?h.flags|=16384:(d=h.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},h.updateQueue=d):(h=d.retryQueue,h===null?d.retryQueue=new Set([b]):h.add(b)),hx(c,b,_)),!1}throw Error(r(435,h.tag))}return hx(c,b,_),dx(),!1}if(Ht)return d=Ps.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=_,b!==c_&&(c=Error(r(422),{cause:b}),Mh(Ss(c,h)))):(b!==c_&&(d=Error(r(423),{cause:b}),Mh(Ss(d,h))),c=c.current.alternate,c.flags|=65536,_&=-_,c.lanes|=_,b=Ss(b,h),_=z_(c.stateNode,b,_),w_(c,_),Hn!==4&&(Hn=2)),!1;var x=Error(r(520),{cause:b});if(x=Ss(x,h),tm===null?tm=[x]:tm.push(x),Hn!==4&&(Hn=2),d===null)return!0;b=Ss(b,h),h=d;do{switch(h.tag){case 3:return h.flags|=65536,c=_&-_,h.lanes|=c,c=z_(h.stateNode,b,c),w_(h,c),!1;case 1:if(d=h.type,x=h.stateNode,(h.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Dl===null||!Dl.has(x))))return h.flags|=65536,_&=-_,h.lanes|=_,_=p4(_),b4(_,c,h,b),w_(h,_),!1}h=h.return}while(h!==null);return!1}var y4=Error(r(461)),Cr=!1;function Lr(c,d,h,b){d.child=c===null?l4(d,null,h,b):bd(d,c.child,h,b)}function w4(c,d,h,b,_){h=h.render;var x=d.ref;if("ref"in b){var C={};for(var M in b)M!=="ref"&&(C[M]=b[M])}else C=b;return Oc(d),b=k_(c,d,h,C,x,_),M=T_(),c!==null&&!Cr?(S_(c,d,_),ka(c,d,_)):(Ht&&M&&a_(d),d.flags|=1,Lr(c,d,b,_),d.child)}function v4(c,d,h,b,_){if(c===null){var x=h.type;return typeof x=="function"&&!i_(x)&&x.defaultProps===void 0&&h.compare===null?(d.tag=15,d.type=x,_4(c,d,x,b,_)):(c=_p(h.type,null,b,d,d.mode,_),c.ref=d.ref,c.return=d,d.child=c)}if(x=c.child,!K_(c,_)){var C=x.memoizedProps;if(h=h.compare,h=h!==null?h:Ph,h(C,b)&&c.ref===d.ref)return ka(c,d,_)}return d.flags|=1,c=ba(x,b),c.ref=d.ref,c.return=d,d.child=c}function _4(c,d,h,b,_){if(c!==null){var x=c.memoizedProps;if(Ph(x,b)&&c.ref===d.ref)if(Cr=!1,d.pendingProps=b=x,K_(c,_))(c.flags&131072)!==0&&(Cr=!0);else return d.lanes=c.lanes,ka(c,d,_)}return H_(c,d,h,b,_)}function x4(c,d,h){var b=d.pendingProps,_=b.children,x=c!==null?c.memoizedState:null;if(b.mode==="hidden"){if((d.flags&128)!==0){if(b=x!==null?x.baseLanes|h:h,c!==null){for(_=d.child=c.child,x=0;_!==null;)x=x|_.lanes|_.childLanes,_=_.sibling;d.childLanes=x&~b}else d.childLanes=0,d.child=null;return E4(c,d,b,h)}if((h&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Sp(d,x!==null?x.cachePool:null),x!==null?_5(d,x):__(),c4(d);else return d.lanes=d.childLanes=536870912,E4(c,d,x!==null?x.baseLanes|h:h,h)}else x!==null?(Sp(d,x.cachePool),_5(d,x),Nl(),d.memoizedState=null):(c!==null&&Sp(d,null),__(),Nl());return Lr(c,d,_,h),d.child}function E4(c,d,h,b){var _=g_();return _=_===null?null:{parent:br._currentValue,pool:_},d.memoizedState={baseLanes:h,cachePool:_},c!==null&&Sp(d,null),__(),c4(d),c!==null&&Dh(c,d,b,!0),null}function $p(c,d){var h=d.ref;if(h===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(c===null||c.ref!==h)&&(d.flags|=4194816)}}function H_(c,d,h,b,_){return Oc(d),h=k_(c,d,h,b,void 0,_),b=T_(),c!==null&&!Cr?(S_(c,d,_),ka(c,d,_)):(Ht&&b&&a_(d),d.flags|=1,Lr(c,d,h,_),d.child)}function k4(c,d,h,b,_,x){return Oc(d),d.updateQueue=null,h=E5(d,b,h,_),x5(c),b=T_(),c!==null&&!Cr?(S_(c,d,x),ka(c,d,x)):(Ht&&b&&a_(d),d.flags|=1,Lr(c,d,h,x),d.child)}function T4(c,d,h,b,_){if(Oc(d),d.stateNode===null){var x=ad,C=h.contextType;typeof C=="object"&&C!==null&&(x=Zr(C)),x=new h(b,x),d.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=U_,d.stateNode=x,x._reactInternals=d,x=d.stateNode,x.props=b,x.state=d.memoizedState,x.refs={},b_(d),C=h.contextType,x.context=typeof C=="object"&&C!==null?Zr(C):ad,x.state=d.memoizedState,C=h.getDerivedStateFromProps,typeof C=="function"&&(V_(d,h,C,b),x.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&U_.enqueueReplaceState(x,x.state,null),Hh(d,b,x,_),zh(),x.state=d.memoizedState),typeof x.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(c===null){x=d.stateNode;var M=d.memoizedProps,G=Fc(h,M);x.props=G;var ae=x.context,Se=h.contextType;C=ad,typeof Se=="object"&&Se!==null&&(C=Zr(Se));var Ae=h.getDerivedStateFromProps;Se=typeof Ae=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=d.pendingProps!==M,Se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||ae!==C)&&d4(d,x,b,C),kl=!1;var fe=d.memoizedState;x.state=fe,Hh(d,b,x,_),zh(),ae=d.memoizedState,M||fe!==ae||kl?(typeof Ae=="function"&&(V_(d,h,Ae,b),ae=d.memoizedState),(G=kl||u4(d,h,G,b,fe,ae,C))?(Se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(d.flags|=4194308)):(typeof x.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=ae),x.props=b,x.state=ae,x.context=C,b=G):(typeof x.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{x=d.stateNode,y_(c,d),C=d.memoizedProps,Se=Fc(h,C),x.props=Se,Ae=d.pendingProps,fe=x.context,ae=h.contextType,G=ad,typeof ae=="object"&&ae!==null&&(G=Zr(ae)),M=h.getDerivedStateFromProps,(ae=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==Ae||fe!==G)&&d4(d,x,b,G),kl=!1,fe=d.memoizedState,x.state=fe,Hh(d,b,x,_),zh();var ge=d.memoizedState;C!==Ae||fe!==ge||kl||c!==null&&c.dependencies!==null&&kp(c.dependencies)?(typeof M=="function"&&(V_(d,h,M,b),ge=d.memoizedState),(Se=kl||u4(d,h,Se,b,fe,ge,G)||c!==null&&c.dependencies!==null&&kp(c.dependencies))?(ae||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(b,ge,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(b,ge,G)),typeof x.componentDidUpdate=="function"&&(d.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===c.memoizedProps&&fe===c.memoizedState||(d.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=ge),x.props=b,x.state=ge,x.context=G,b=Se):(typeof x.componentDidUpdate!="function"||C===c.memoizedProps&&fe===c.memoizedState||(d.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),b=!1)}return x=b,$p(c,d),b=(d.flags&128)!==0,x||b?(x=d.stateNode,h=b&&typeof h.getDerivedStateFromError!="function"?null:x.render(),d.flags|=1,c!==null&&b?(d.child=bd(d,c.child,null,_),d.child=bd(d,null,h,_)):Lr(c,d,h,_),d.memoizedState=x.state,c=d.child):c=ka(c,d,_),c}function S4(c,d,h,b){return Oh(),d.flags|=256,Lr(c,d,h,b),d.child}var $_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function W_(c){return{baseLanes:c,cachePool:h5()}}function j_(c,d,h){return c=c!==null?c.childLanes&~h:0,d&&(c|=Rs),c}function C4(c,d,h){var b=d.pendingProps,_=!1,x=(d.flags&128)!==0,C;if((C=x)||(C=c!==null&&c.memoizedState===null?!1:(yr.current&2)!==0),C&&(_=!0,d.flags&=-129),C=(d.flags&32)!==0,d.flags&=-33,c===null){if(Ht){if(_?Al(d):Nl(),Ht){var M=zn,G;if(G=M){e:{for(G=M,M=Do;G.nodeType!==8;){if(!M){M=null;break e}if(G=ro(G.nextSibling),G===null){M=null;break e}}M=G}M!==null?(d.memoizedState={dehydrated:M,treeContext:Ac!==null?{id:ya,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},G=Ki(18,null,null,0),G.stateNode=M,G.return=d,d.child=G,ui=d,zn=null,G=!0):G=!1}G||Rc(d)}if(M=d.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Ax(M)?d.lanes=32:d.lanes=536870912,null;Ea(d)}return M=b.children,b=b.fallback,_?(Nl(),_=d.mode,M=Wp({mode:"hidden",children:M},_),b=Cc(b,_,h,null),M.return=d,b.return=d,M.sibling=b,d.child=M,_=d.child,_.memoizedState=W_(h),_.childLanes=j_(c,C,h),d.memoizedState=$_,b):(Al(d),q_(d,M))}if(G=c.memoizedState,G!==null&&(M=G.dehydrated,M!==null)){if(x)d.flags&256?(Al(d),d.flags&=-257,d=G_(c,d,h)):d.memoizedState!==null?(Nl(),d.child=c.child,d.flags|=128,d=null):(Nl(),_=b.fallback,M=d.mode,b=Wp({mode:"visible",children:b.children},M),_=Cc(_,M,h,null),_.flags|=2,b.return=d,_.return=d,b.sibling=_,d.child=b,bd(d,c.child,null,h),b=d.child,b.memoizedState=W_(h),b.childLanes=j_(c,C,h),d.memoizedState=$_,d=_);else if(Al(d),Ax(M)){if(C=M.nextSibling&&M.nextSibling.dataset,C)var ae=C.dgst;C=ae,b=Error(r(419)),b.stack="",b.digest=C,Mh({value:b,source:null,stack:null}),d=G_(c,d,h)}else if(Cr||Dh(c,d,h,!1),C=(h&c.childLanes)!==0,Cr||C){if(C=kn,C!==null&&(b=h&-h,b=(b&42)!==0?1:vh(b),b=(b&(C.suspendedLanes|h))!==0?0:b,b!==0&&b!==G.retryLane))throw G.retryLane=b,od(c,b),es(C,c,b),y4;M.data==="$?"||dx(),d=G_(c,d,h)}else M.data==="$?"?(d.flags|=192,d.child=c.child,d=null):(c=G.treeContext,zn=ro(M.nextSibling),ui=d,Ht=!0,Pc=null,Do=!1,c!==null&&(As[Ns++]=ya,As[Ns++]=wa,As[Ns++]=Ac,ya=c.id,wa=c.overflow,Ac=d),d=q_(d,b.children),d.flags|=4096);return d}return _?(Nl(),_=b.fallback,M=d.mode,G=c.child,ae=G.sibling,b=ba(G,{mode:"hidden",children:b.children}),b.subtreeFlags=G.subtreeFlags&65011712,ae!==null?_=ba(ae,_):(_=Cc(_,M,h,null),_.flags|=2),_.return=d,b.return=d,b.sibling=_,d.child=b,b=_,_=d.child,M=c.child.memoizedState,M===null?M=W_(h):(G=M.cachePool,G!==null?(ae=br._currentValue,G=G.parent!==ae?{parent:ae,pool:ae}:G):G=h5(),M={baseLanes:M.baseLanes|h,cachePool:G}),_.memoizedState=M,_.childLanes=j_(c,C,h),d.memoizedState=$_,b):(Al(d),h=c.child,c=h.sibling,h=ba(h,{mode:"visible",children:b.children}),h.return=d,h.sibling=null,c!==null&&(C=d.deletions,C===null?(d.deletions=[c],d.flags|=16):C.push(c)),d.child=h,d.memoizedState=null,h)}function q_(c,d){return d=Wp({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function Wp(c,d){return c=Ki(22,c,null,d),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function G_(c,d,h){return bd(d,c.child,null,h),c=q_(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function A4(c,d,h){c.lanes|=d;var b=c.alternate;b!==null&&(b.lanes|=d),d_(c.return,d,h)}function Y_(c,d,h,b,_){var x=c.memoizedState;x===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:h,tailMode:_}:(x.isBackwards=d,x.rendering=null,x.renderingStartTime=0,x.last=b,x.tail=h,x.tailMode=_)}function N4(c,d,h){var b=d.pendingProps,_=b.revealOrder,x=b.tail;if(Lr(c,d,b.children,h),b=yr.current,(b&2)!==0)b=b&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&A4(c,h,d);else if(c.tag===19)A4(c,h,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}switch(Q(yr,b),_){case"forwards":for(h=d.child,_=null;h!==null;)c=h.alternate,c!==null&&Up(c)===null&&(_=h),h=h.sibling;h=_,h===null?(_=d.child,d.child=null):(_=h.sibling,h.sibling=null),Y_(d,!1,_,h,x);break;case"backwards":for(h=null,_=d.child,d.child=null;_!==null;){if(c=_.alternate,c!==null&&Up(c)===null){d.child=_;break}c=_.sibling,_.sibling=h,h=_,_=c}Y_(d,!0,h,null,x);break;case"together":Y_(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ka(c,d,h){if(c!==null&&(d.dependencies=c.dependencies),Ml|=d.lanes,(h&d.childLanes)===0)if(c!==null){if(Dh(c,d,h,!1),(h&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,h=ba(c,c.pendingProps),d.child=h,h.return=d;c.sibling!==null;)c=c.sibling,h=h.sibling=ba(c,c.pendingProps),h.return=d;h.sibling=null}return d.child}function K_(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&kp(c)))}function O$(c,d,h){switch(d.tag){case 3:Be(d,d.stateNode.containerInfo),El(d,br,c.memoizedState.cache),Oh();break;case 27:case 5:je(d);break;case 4:Be(d,d.stateNode.containerInfo);break;case 10:El(d,d.type,d.memoizedProps.value);break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(Al(d),d.flags|=128,null):(h&d.child.childLanes)!==0?C4(c,d,h):(Al(d),c=ka(c,d,h),c!==null?c.sibling:null);Al(d);break;case 19:var _=(c.flags&128)!==0;if(b=(h&d.childLanes)!==0,b||(Dh(c,d,h,!1),b=(h&d.childLanes)!==0),_){if(b)return N4(c,d,h);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Q(yr,yr.current),b)break;return null;case 22:case 23:return d.lanes=0,x4(c,d,h);case 24:El(d,br,c.memoizedState.cache)}return ka(c,d,h)}function P4(c,d,h){if(c!==null)if(c.memoizedProps!==d.pendingProps)Cr=!0;else{if(!K_(c,h)&&(d.flags&128)===0)return Cr=!1,O$(c,d,h);Cr=(c.flags&131072)!==0}else Cr=!1,Ht&&(d.flags&1048576)!==0&&o5(d,Ep,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var b=d.elementType,_=b._init;if(b=_(b._payload),d.type=b,typeof b=="function")i_(b)?(c=Fc(b,c),d.tag=1,d=T4(null,d,b,c,h)):(d.tag=0,d=H_(null,d,b,c,h));else{if(b!=null){if(_=b.$$typeof,_===P){d.tag=11,d=w4(null,d,b,c,h);break e}else if(_===A){d.tag=14,d=v4(null,d,b,c,h);break e}}throw d=be(b)||b,Error(r(306,d,""))}}return d;case 0:return H_(c,d,d.type,d.pendingProps,h);case 1:return b=d.type,_=Fc(b,d.pendingProps),T4(c,d,b,_,h);case 3:e:{if(Be(d,d.stateNode.containerInfo),c===null)throw Error(r(387));b=d.pendingProps;var x=d.memoizedState;_=x.element,y_(c,d),Hh(d,b,null,h);var C=d.memoizedState;if(b=C.cache,El(d,br,b),b!==x.cache&&f_(d,[br],h,!0),zh(),b=C.element,x.isDehydrated)if(x={element:b,isDehydrated:!1,cache:C.cache},d.updateQueue.baseState=x,d.memoizedState=x,d.flags&256){d=S4(c,d,b,h);break e}else if(b!==_){_=Ss(Error(r(424)),d),Mh(_),d=S4(c,d,b,h);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(zn=ro(c.firstChild),ui=d,Ht=!0,Pc=null,Do=!0,h=l4(d,null,b,h),d.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Oh(),b===_){d=ka(c,d,h);break e}Lr(c,d,b,h)}d=d.child}return d;case 26:return $p(c,d),c===null?(h=M3(d.type,null,d.pendingProps,null))?d.memoizedState=h:Ht||(h=d.type,c=d.pendingProps,b=i1(ue.current).createElement(h),b[Tr]=d,b[Sr]=c,Vr(b,h,c),se(b),d.stateNode=b):d.memoizedState=M3(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return je(d),c===null&&Ht&&(b=d.stateNode=R3(d.type,d.pendingProps,ue.current),ui=d,Do=!0,_=zn,Bl(d.type)?(Nx=_,zn=ro(b.firstChild)):zn=_),Lr(c,d,d.pendingProps.children,h),$p(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Ht&&((_=b=zn)&&(b=aW(b,d.type,d.pendingProps,Do),b!==null?(d.stateNode=b,ui=d,zn=ro(b.firstChild),Do=!1,_=!0):_=!1),_||Rc(d)),je(d),_=d.type,x=d.pendingProps,C=c!==null?c.memoizedProps:null,b=x.children,Tx(_,x)?b=null:C!==null&&Tx(_,C)&&(d.flags|=32),d.memoizedState!==null&&(_=k_(c,d,T$,null,null,h),um._currentValue=_),$p(c,d),Lr(c,d,b,h),d.child;case 6:return c===null&&Ht&&((c=h=zn)&&(h=lW(h,d.pendingProps,Do),h!==null?(d.stateNode=h,ui=d,zn=null,c=!0):c=!1),c||Rc(d)),null;case 13:return C4(c,d,h);case 4:return Be(d,d.stateNode.containerInfo),b=d.pendingProps,c===null?d.child=bd(d,null,b,h):Lr(c,d,b,h),d.child;case 11:return w4(c,d,d.type,d.pendingProps,h);case 7:return Lr(c,d,d.pendingProps,h),d.child;case 8:return Lr(c,d,d.pendingProps.children,h),d.child;case 12:return Lr(c,d,d.pendingProps.children,h),d.child;case 10:return b=d.pendingProps,El(d,d.type,b.value),Lr(c,d,b.children,h),d.child;case 9:return _=d.type._context,b=d.pendingProps.children,Oc(d),_=Zr(_),b=b(_),d.flags|=1,Lr(c,d,b,h),d.child;case 14:return v4(c,d,d.type,d.pendingProps,h);case 15:return _4(c,d,d.type,d.pendingProps,h);case 19:return N4(c,d,h);case 31:return b=d.pendingProps,h=d.mode,b={mode:b.mode,children:b.children},c===null?(h=Wp(b,h),h.ref=d.ref,d.child=h,h.return=d,d=h):(h=ba(c.child,b),h.ref=d.ref,d.child=h,h.return=d,d=h),d;case 22:return x4(c,d,h);case 24:return Oc(d),b=Zr(br),c===null?(_=g_(),_===null&&(_=kn,x=h_(),_.pooledCache=x,x.refCount++,x!==null&&(_.pooledCacheLanes|=h),_=x),d.memoizedState={parent:b,cache:_},b_(d),El(d,br,_)):((c.lanes&h)!==0&&(y_(c,d),Hh(d,null,null,h),zh()),_=c.memoizedState,x=d.memoizedState,_.parent!==b?(_={parent:b,cache:b},d.memoizedState=_,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=_),El(d,br,b)):(b=x.cache,El(d,br,b),b!==_.cache&&f_(d,[br],h,!0))),Lr(c,d,d.pendingProps.children,h),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ta(c){c.flags|=4}function R4(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!V3(d)){if(d=Ps.current,d!==null&&((Ot&4194048)===Ot?Fo!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||d!==Fo))throw Vh=p_,m5;c.flags|=8192}}function jp(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?yh():536870912,c.lanes|=d,_d|=d)}function Kh(c,d){if(!Ht)switch(c.tailMode){case"hidden":d=c.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?c.tail=null:h.sibling=null;break;case"collapsed":h=c.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function Ln(c){var d=c.alternate!==null&&c.alternate.child===c.child,h=0,b=0;if(d)for(var _=c.child;_!==null;)h|=_.lanes|_.childLanes,b|=_.subtreeFlags&65011712,b|=_.flags&65011712,_.return=c,_=_.sibling;else for(_=c.child;_!==null;)h|=_.lanes|_.childLanes,b|=_.subtreeFlags,b|=_.flags,_.return=c,_=_.sibling;return c.subtreeFlags|=b,c.childLanes=h,d}function M$(c,d,h){var b=d.pendingProps;switch(l_(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(d),null;case 1:return Ln(d),null;case 3:return h=d.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),_a(br),Je(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(c===null||c.child===null)&&(Ih(d)?Ta(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,c5())),Ln(d),null;case 26:return h=d.memoizedState,c===null?(Ta(d),h!==null?(Ln(d),R4(d,h)):(Ln(d),d.flags&=-16777217)):h?h!==c.memoizedState?(Ta(d),Ln(d),R4(d,h)):(Ln(d),d.flags&=-16777217):(c.memoizedProps!==b&&Ta(d),Ln(d),d.flags&=-16777217),null;case 27:Nt(d),h=ue.current;var _=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==b&&Ta(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Ln(d),null}c=Y.current,Ih(d)?a5(d):(c=R3(_,b,h),d.stateNode=c,Ta(d))}return Ln(d),null;case 5:if(Nt(d),h=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==b&&Ta(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Ln(d),null}if(c=Y.current,Ih(d))a5(d);else{switch(_=i1(ue.current),c){case 1:c=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:c=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":c=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":c=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":c=_.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof b.is=="string"?_.createElement("select",{is:b.is}):_.createElement("select"),b.multiple?c.multiple=!0:b.size&&(c.size=b.size);break;default:c=typeof b.is=="string"?_.createElement(h,{is:b.is}):_.createElement(h)}}c[Tr]=d,c[Sr]=b;e:for(_=d.child;_!==null;){if(_.tag===5||_.tag===6)c.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break e;for(;_.sibling===null;){if(_.return===null||_.return===d)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}d.stateNode=c;e:switch(Vr(c,h,b),h){case"button":case"input":case"select":case"textarea":c=!!b.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ta(d)}}return Ln(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==b&&Ta(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(c=ue.current,Ih(d)){if(c=d.stateNode,h=d.memoizedProps,b=null,_=ui,_!==null)switch(_.tag){case 27:case 5:b=_.memoizedProps}c[Tr]=d,c=!!(c.nodeValue===h||b!==null&&b.suppressHydrationWarning===!0||k3(c.nodeValue,h)),c||Rc(d)}else c=i1(c).createTextNode(b),c[Tr]=d,d.stateNode=c}return Ln(d),null;case 13:if(b=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(_=Ih(d),b!==null&&b.dehydrated!==null){if(c===null){if(!_)throw Error(r(318));if(_=d.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Tr]=d}else Oh(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ln(d),_=!1}else _=c5(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=_),_=!0;if(!_)return d.flags&256?(Ea(d),d):(Ea(d),null)}if(Ea(d),(d.flags&128)!==0)return d.lanes=h,d;if(h=b!==null,c=c!==null&&c.memoizedState!==null,h){b=d.child,_=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(_=b.alternate.memoizedState.cachePool.pool);var x=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(x=b.memoizedState.cachePool.pool),x!==_&&(b.flags|=2048)}return h!==c&&h&&(d.child.flags|=8192),jp(d,d.updateQueue),Ln(d),null;case 4:return Je(),c===null&&vx(d.stateNode.containerInfo),Ln(d),null;case 10:return _a(d.type),Ln(d),null;case 19:if(U(yr),_=d.memoizedState,_===null)return Ln(d),null;if(b=(d.flags&128)!==0,x=_.rendering,x===null)if(b)Kh(_,!1);else{if(Hn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(x=Up(c),x!==null){for(d.flags|=128,Kh(_,!1),c=x.updateQueue,d.updateQueue=c,jp(d,c),d.subtreeFlags=0,c=h,h=d.child;h!==null;)s5(h,c),h=h.sibling;return Q(yr,yr.current&1|2),d.child}c=c.sibling}_.tail!==null&&Ge()>Yp&&(d.flags|=128,b=!0,Kh(_,!1),d.lanes=4194304)}else{if(!b)if(c=Up(x),c!==null){if(d.flags|=128,b=!0,c=c.updateQueue,d.updateQueue=c,jp(d,c),Kh(_,!0),_.tail===null&&_.tailMode==="hidden"&&!x.alternate&&!Ht)return Ln(d),null}else 2*Ge()-_.renderingStartTime>Yp&&h!==536870912&&(d.flags|=128,b=!0,Kh(_,!1),d.lanes=4194304);_.isBackwards?(x.sibling=d.child,d.child=x):(c=_.last,c!==null?c.sibling=x:d.child=x,_.last=x)}return _.tail!==null?(d=_.tail,_.rendering=d,_.tail=d.sibling,_.renderingStartTime=Ge(),d.sibling=null,c=yr.current,Q(yr,b?c&1|2:c&1),d):(Ln(d),null);case 22:case 23:return Ea(d),x_(),b=d.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(h&536870912)!==0&&(d.flags&128)===0&&(Ln(d),d.subtreeFlags&6&&(d.flags|=8192)):Ln(d),h=d.updateQueue,h!==null&&jp(d,h.retryQueue),h=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==h&&(d.flags|=2048),c!==null&&U(Mc),null;case 24:return h=null,c!==null&&(h=c.memoizedState.cache),d.memoizedState.cache!==h&&(d.flags|=2048),_a(br),Ln(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function D$(c,d){switch(l_(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return _a(br),Je(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return Nt(d),null;case 13:if(Ea(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Oh()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return U(yr),null;case 4:return Je(),null;case 10:return _a(d.type),null;case 22:case 23:return Ea(d),x_(),c!==null&&U(Mc),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return _a(br),null;case 25:return null;default:return null}}function I4(c,d){switch(l_(d),d.tag){case 3:_a(br),Je();break;case 26:case 27:case 5:Nt(d);break;case 4:Je();break;case 13:Ea(d);break;case 19:U(yr);break;case 10:_a(d.type);break;case 22:case 23:Ea(d),x_(),c!==null&&U(Mc);break;case 24:_a(br)}}function Xh(c,d){try{var h=d.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var _=b.next;h=_;do{if((h.tag&c)===c){b=void 0;var x=h.create,C=h.inst;b=x(),C.destroy=b}h=h.next}while(h!==_)}}catch(M){vn(d,d.return,M)}}function Pl(c,d,h){try{var b=d.updateQueue,_=b!==null?b.lastEffect:null;if(_!==null){var x=_.next;b=x;do{if((b.tag&c)===c){var C=b.inst,M=C.destroy;if(M!==void 0){C.destroy=void 0,_=d;var G=h,ae=M;try{ae()}catch(Se){vn(_,G,Se)}}}b=b.next}while(b!==x)}}catch(Se){vn(d,d.return,Se)}}function O4(c){var d=c.updateQueue;if(d!==null){var h=c.stateNode;try{v5(d,h)}catch(b){vn(c,c.return,b)}}}function M4(c,d,h){h.props=Fc(c.type,c.memoizedProps),h.state=c.memoizedState;try{h.componentWillUnmount()}catch(b){vn(c,d,b)}}function Jh(c,d){try{var h=c.ref;if(h!==null){switch(c.tag){case 26:case 27:case 5:var b=c.stateNode;break;case 30:b=c.stateNode;break;default:b=c.stateNode}typeof h=="function"?c.refCleanup=h(b):h.current=b}}catch(_){vn(c,d,_)}}function Lo(c,d){var h=c.ref,b=c.refCleanup;if(h!==null)if(typeof b=="function")try{b()}catch(_){vn(c,d,_)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){vn(c,d,_)}else h.current=null}function D4(c){var d=c.type,h=c.memoizedProps,b=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":h.autoFocus&&b.focus();break e;case"img":h.src?b.src=h.src:h.srcSet&&(b.srcset=h.srcSet)}}catch(_){vn(c,c.return,_)}}function X_(c,d,h){try{var b=c.stateNode;nW(b,c.type,h,d),b[Sr]=d}catch(_){vn(c,c.return,_)}}function F4(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Bl(c.type)||c.tag===4}function J_(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||F4(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Bl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Q_(c,d,h){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(c,d):(d=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,d.appendChild(c),h=h._reactRootContainer,h!=null||d.onclick!==null||(d.onclick=r1));else if(b!==4&&(b===27&&Bl(c.type)&&(h=c.stateNode,d=null),c=c.child,c!==null))for(Q_(c,d,h),c=c.sibling;c!==null;)Q_(c,d,h),c=c.sibling}function qp(c,d,h){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?h.insertBefore(c,d):h.appendChild(c);else if(b!==4&&(b===27&&Bl(c.type)&&(h=c.stateNode),c=c.child,c!==null))for(qp(c,d,h),c=c.sibling;c!==null;)qp(c,d,h),c=c.sibling}function L4(c){var d=c.stateNode,h=c.memoizedProps;try{for(var b=c.type,_=d.attributes;_.length;)d.removeAttributeNode(_[0]);Vr(d,b,h),d[Tr]=c,d[Sr]=h}catch(x){vn(c,c.return,x)}}var Sa=!1,Zn=!1,Z_=!1,B4=typeof WeakSet=="function"?WeakSet:Set,Ar=null;function F$(c,d){if(c=c.containerInfo,Ex=u1,c=KA(c),Jv(c)){if("selectionStart"in c)var h={start:c.selectionStart,end:c.selectionEnd};else e:{h=(h=c.ownerDocument)&&h.defaultView||window;var b=h.getSelection&&h.getSelection();if(b&&b.rangeCount!==0){h=b.anchorNode;var _=b.anchorOffset,x=b.focusNode;b=b.focusOffset;try{h.nodeType,x.nodeType}catch{h=null;break e}var C=0,M=-1,G=-1,ae=0,Se=0,Ae=c,fe=null;t:for(;;){for(var ge;Ae!==h||_!==0&&Ae.nodeType!==3||(M=C+_),Ae!==x||b!==0&&Ae.nodeType!==3||(G=C+b),Ae.nodeType===3&&(C+=Ae.nodeValue.length),(ge=Ae.firstChild)!==null;)fe=Ae,Ae=ge;for(;;){if(Ae===c)break t;if(fe===h&&++ae===_&&(M=C),fe===x&&++Se===b&&(G=C),(ge=Ae.nextSibling)!==null)break;Ae=fe,fe=Ae.parentNode}Ae=ge}h=M===-1||G===-1?null:{start:M,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(kx={focusedElem:c,selectionRange:h},u1=!1,Ar=d;Ar!==null;)if(d=Ar,c=d.child,(d.subtreeFlags&1024)!==0&&c!==null)c.return=d,Ar=c;else for(;Ar!==null;){switch(d=Ar,x=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&x!==null){c=void 0,h=d,_=x.memoizedProps,x=x.memoizedState,b=h.stateNode;try{var ht=Fc(h.type,_,h.elementType===h.type);c=b.getSnapshotBeforeUpdate(ht,x),b.__reactInternalSnapshotBeforeUpdate=c}catch(ut){vn(h,h.return,ut)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,h=c.nodeType,h===9)Cx(c);else if(h===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Cx(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,Ar=c;break}Ar=d.return}}function V4(c,d,h){var b=h.flags;switch(h.tag){case 0:case 11:case 15:Rl(c,h),b&4&&Xh(5,h);break;case 1:if(Rl(c,h),b&4)if(c=h.stateNode,d===null)try{c.componentDidMount()}catch(C){vn(h,h.return,C)}else{var _=Fc(h.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(_,d,c.__reactInternalSnapshotBeforeUpdate)}catch(C){vn(h,h.return,C)}}b&64&&O4(h),b&512&&Jh(h,h.return);break;case 3:if(Rl(c,h),b&64&&(c=h.updateQueue,c!==null)){if(d=null,h.child!==null)switch(h.child.tag){case 27:case 5:d=h.child.stateNode;break;case 1:d=h.child.stateNode}try{v5(c,d)}catch(C){vn(h,h.return,C)}}break;case 27:d===null&&b&4&&L4(h);case 26:case 5:Rl(c,h),d===null&&b&4&&D4(h),b&512&&Jh(h,h.return);break;case 12:Rl(c,h);break;case 13:Rl(c,h),b&4&&H4(c,h),b&64&&(c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(h=j$.bind(null,h),cW(c,h))));break;case 22:if(b=h.memoizedState!==null||Sa,!b){d=d!==null&&d.memoizedState!==null||Zn,_=Sa;var x=Zn;Sa=b,(Zn=d)&&!x?Il(c,h,(h.subtreeFlags&8772)!==0):Rl(c,h),Sa=_,Zn=x}break;case 30:break;default:Rl(c,h)}}function U4(c){var d=c.alternate;d!==null&&(c.alternate=null,U4(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&B(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Rn=null,Ai=!1;function Ca(c,d,h){for(h=h.child;h!==null;)z4(c,d,h),h=h.sibling}function z4(c,d,h){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Oe,h)}catch{}switch(h.tag){case 26:Zn||Lo(h,d),Ca(c,d,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Zn||Lo(h,d);var b=Rn,_=Ai;Bl(h.type)&&(Rn=h.stateNode,Ai=!1),Ca(c,d,h),om(h.stateNode),Rn=b,Ai=_;break;case 5:Zn||Lo(h,d);case 6:if(b=Rn,_=Ai,Rn=null,Ca(c,d,h),Rn=b,Ai=_,Rn!==null)if(Ai)try{(Rn.nodeType===9?Rn.body:Rn.nodeName==="HTML"?Rn.ownerDocument.body:Rn).removeChild(h.stateNode)}catch(x){vn(h,d,x)}else try{Rn.removeChild(h.stateNode)}catch(x){vn(h,d,x)}break;case 18:Rn!==null&&(Ai?(c=Rn,N3(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,h.stateNode),mm(c)):N3(Rn,h.stateNode));break;case 4:b=Rn,_=Ai,Rn=h.stateNode.containerInfo,Ai=!0,Ca(c,d,h),Rn=b,Ai=_;break;case 0:case 11:case 14:case 15:Zn||Pl(2,h,d),Zn||Pl(4,h,d),Ca(c,d,h);break;case 1:Zn||(Lo(h,d),b=h.stateNode,typeof b.componentWillUnmount=="function"&&M4(h,d,b)),Ca(c,d,h);break;case 21:Ca(c,d,h);break;case 22:Zn=(b=Zn)||h.memoizedState!==null,Ca(c,d,h),Zn=b;break;default:Ca(c,d,h)}}function H4(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{mm(c)}catch(h){vn(d,d.return,h)}}function L$(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new B4),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new B4),d;default:throw Error(r(435,c.tag))}}function ex(c,d){var h=L$(c);d.forEach(function(b){var _=q$.bind(null,c,b);h.has(b)||(h.add(b),b.then(_,_))})}function Xi(c,d){var h=d.deletions;if(h!==null)for(var b=0;b<h.length;b++){var _=h[b],x=c,C=d,M=C;e:for(;M!==null;){switch(M.tag){case 27:if(Bl(M.type)){Rn=M.stateNode,Ai=!1;break e}break;case 5:Rn=M.stateNode,Ai=!1;break e;case 3:case 4:Rn=M.stateNode.containerInfo,Ai=!0;break e}M=M.return}if(Rn===null)throw Error(r(160));z4(x,C,_),Rn=null,Ai=!1,x=_.alternate,x!==null&&(x.return=null),_.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)$4(d,c),d=d.sibling}var no=null;function $4(c,d){var h=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Xi(d,c),Ji(c),b&4&&(Pl(3,c,c.return),Xh(3,c),Pl(5,c,c.return));break;case 1:Xi(d,c),Ji(c),b&512&&(Zn||h===null||Lo(h,h.return)),b&64&&Sa&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(h=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=h===null?b:h.concat(b))));break;case 26:var _=no;if(Xi(d,c),Ji(c),b&512&&(Zn||h===null||Lo(h,h.return)),b&4){var x=h!==null?h.memoizedState:null;if(b=c.memoizedState,h===null)if(b===null)if(c.stateNode===null){e:{b=c.type,h=c.memoizedProps,_=_.ownerDocument||_;t:switch(b){case"title":x=_.getElementsByTagName("title")[0],(!x||x[L]||x[Tr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=_.createElement(b),_.head.insertBefore(x,_.querySelector("head > title"))),Vr(x,b,h),x[Tr]=c,se(x),b=x;break e;case"link":var C=L3("link","href",_).get(b+(h.href||""));if(C){for(var M=0;M<C.length;M++)if(x=C[M],x.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&x.getAttribute("rel")===(h.rel==null?null:h.rel)&&x.getAttribute("title")===(h.title==null?null:h.title)&&x.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){C.splice(M,1);break t}}x=_.createElement(b),Vr(x,b,h),_.head.appendChild(x);break;case"meta":if(C=L3("meta","content",_).get(b+(h.content||""))){for(M=0;M<C.length;M++)if(x=C[M],x.getAttribute("content")===(h.content==null?null:""+h.content)&&x.getAttribute("name")===(h.name==null?null:h.name)&&x.getAttribute("property")===(h.property==null?null:h.property)&&x.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&x.getAttribute("charset")===(h.charSet==null?null:h.charSet)){C.splice(M,1);break t}}x=_.createElement(b),Vr(x,b,h),_.head.appendChild(x);break;default:throw Error(r(468,b))}x[Tr]=c,se(x),b=x}c.stateNode=b}else B3(_,c.type,c.stateNode);else c.stateNode=F3(_,b,c.memoizedProps);else x!==b?(x===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):x.count--,b===null?B3(_,c.type,c.stateNode):F3(_,b,c.memoizedProps)):b===null&&c.stateNode!==null&&X_(c,c.memoizedProps,h.memoizedProps)}break;case 27:Xi(d,c),Ji(c),b&512&&(Zn||h===null||Lo(h,h.return)),h!==null&&b&4&&X_(c,c.memoizedProps,h.memoizedProps);break;case 5:if(Xi(d,c),Ji(c),b&512&&(Zn||h===null||Lo(h,h.return)),c.flags&32){_=c.stateNode;try{Zu(_,"")}catch(ge){vn(c,c.return,ge)}}b&4&&c.stateNode!=null&&(_=c.memoizedProps,X_(c,_,h!==null?h.memoizedProps:_)),b&1024&&(Z_=!0);break;case 6:if(Xi(d,c),Ji(c),b&4){if(c.stateNode===null)throw Error(r(162));b=c.memoizedProps,h=c.stateNode;try{h.nodeValue=b}catch(ge){vn(c,c.return,ge)}}break;case 3:if(a1=null,_=no,no=s1(d.containerInfo),Xi(d,c),no=_,Ji(c),b&4&&h!==null&&h.memoizedState.isDehydrated)try{mm(d.containerInfo)}catch(ge){vn(c,c.return,ge)}Z_&&(Z_=!1,W4(c));break;case 4:b=no,no=s1(c.stateNode.containerInfo),Xi(d,c),Ji(c),no=b;break;case 12:Xi(d,c),Ji(c);break;case 13:Xi(d,c),Ji(c),c.child.flags&8192&&c.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(ox=Ge()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,ex(c,b)));break;case 22:_=c.memoizedState!==null;var G=h!==null&&h.memoizedState!==null,ae=Sa,Se=Zn;if(Sa=ae||_,Zn=Se||G,Xi(d,c),Zn=Se,Sa=ae,Ji(c),b&8192)e:for(d=c.stateNode,d._visibility=_?d._visibility&-2:d._visibility|1,_&&(h===null||G||Sa||Zn||Lc(c)),h=null,d=c;;){if(d.tag===5||d.tag===26){if(h===null){G=h=d;try{if(x=G.stateNode,_)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=G.stateNode;var Ae=G.memoizedProps.style,fe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;M.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(ge){vn(G,G.return,ge)}}}else if(d.tag===6){if(h===null){G=d;try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(ge){vn(G,G.return,ge)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=c.updateQueue,b!==null&&(h=b.retryQueue,h!==null&&(b.retryQueue=null,ex(c,h))));break;case 19:Xi(d,c),Ji(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,ex(c,b)));break;case 30:break;case 21:break;default:Xi(d,c),Ji(c)}}function Ji(c){var d=c.flags;if(d&2){try{for(var h,b=c.return;b!==null;){if(F4(b)){h=b;break}b=b.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var _=h.stateNode,x=J_(c);qp(c,x,_);break;case 5:var C=h.stateNode;h.flags&32&&(Zu(C,""),h.flags&=-33);var M=J_(c);qp(c,M,C);break;case 3:case 4:var G=h.stateNode.containerInfo,ae=J_(c);Q_(c,ae,G);break;default:throw Error(r(161))}}catch(Se){vn(c,c.return,Se)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function W4(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;W4(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Rl(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)V4(c,d.alternate,d),d=d.sibling}function Lc(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Pl(4,d,d.return),Lc(d);break;case 1:Lo(d,d.return);var h=d.stateNode;typeof h.componentWillUnmount=="function"&&M4(d,d.return,h),Lc(d);break;case 27:om(d.stateNode);case 26:case 5:Lo(d,d.return),Lc(d);break;case 22:d.memoizedState===null&&Lc(d);break;case 30:Lc(d);break;default:Lc(d)}c=c.sibling}}function Il(c,d,h){for(h=h&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,_=c,x=d,C=x.flags;switch(x.tag){case 0:case 11:case 15:Il(_,x,h),Xh(4,x);break;case 1:if(Il(_,x,h),b=x,_=b.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ae){vn(b,b.return,ae)}if(b=x,_=b.updateQueue,_!==null){var M=b.stateNode;try{var G=_.shared.hiddenCallbacks;if(G!==null)for(_.shared.hiddenCallbacks=null,_=0;_<G.length;_++)w5(G[_],M)}catch(ae){vn(b,b.return,ae)}}h&&C&64&&O4(x),Jh(x,x.return);break;case 27:L4(x);case 26:case 5:Il(_,x,h),h&&b===null&&C&4&&D4(x),Jh(x,x.return);break;case 12:Il(_,x,h);break;case 13:Il(_,x,h),h&&C&4&&H4(_,x);break;case 22:x.memoizedState===null&&Il(_,x,h),Jh(x,x.return);break;case 30:break;default:Il(_,x,h)}d=d.sibling}}function tx(c,d){var h=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==h&&(c!=null&&c.refCount++,h!=null&&Fh(h))}function nx(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Fh(c))}function Bo(c,d,h,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)j4(c,d,h,b),d=d.sibling}function j4(c,d,h,b){var _=d.flags;switch(d.tag){case 0:case 11:case 15:Bo(c,d,h,b),_&2048&&Xh(9,d);break;case 1:Bo(c,d,h,b);break;case 3:Bo(c,d,h,b),_&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Fh(c)));break;case 12:if(_&2048){Bo(c,d,h,b),c=d.stateNode;try{var x=d.memoizedProps,C=x.id,M=x.onPostCommit;typeof M=="function"&&M(C,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(G){vn(d,d.return,G)}}else Bo(c,d,h,b);break;case 13:Bo(c,d,h,b);break;case 23:break;case 22:x=d.stateNode,C=d.alternate,d.memoizedState!==null?x._visibility&2?Bo(c,d,h,b):Qh(c,d):x._visibility&2?Bo(c,d,h,b):(x._visibility|=2,yd(c,d,h,b,(d.subtreeFlags&10256)!==0)),_&2048&&tx(C,d);break;case 24:Bo(c,d,h,b),_&2048&&nx(d.alternate,d);break;default:Bo(c,d,h,b)}}function yd(c,d,h,b,_){for(_=_&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var x=c,C=d,M=h,G=b,ae=C.flags;switch(C.tag){case 0:case 11:case 15:yd(x,C,M,G,_),Xh(8,C);break;case 23:break;case 22:var Se=C.stateNode;C.memoizedState!==null?Se._visibility&2?yd(x,C,M,G,_):Qh(x,C):(Se._visibility|=2,yd(x,C,M,G,_)),_&&ae&2048&&tx(C.alternate,C);break;case 24:yd(x,C,M,G,_),_&&ae&2048&&nx(C.alternate,C);break;default:yd(x,C,M,G,_)}d=d.sibling}}function Qh(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var h=c,b=d,_=b.flags;switch(b.tag){case 22:Qh(h,b),_&2048&&tx(b.alternate,b);break;case 24:Qh(h,b),_&2048&&nx(b.alternate,b);break;default:Qh(h,b)}d=d.sibling}}var Zh=8192;function wd(c){if(c.subtreeFlags&Zh)for(c=c.child;c!==null;)q4(c),c=c.sibling}function q4(c){switch(c.tag){case 26:wd(c),c.flags&Zh&&c.memoizedState!==null&&xW(no,c.memoizedState,c.memoizedProps);break;case 5:wd(c);break;case 3:case 4:var d=no;no=s1(c.stateNode.containerInfo),wd(c),no=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=Zh,Zh=16777216,wd(c),Zh=d):wd(c));break;default:wd(c)}}function G4(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function em(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var b=d[h];Ar=b,K4(b,c)}G4(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Y4(c),c=c.sibling}function Y4(c){switch(c.tag){case 0:case 11:case 15:em(c),c.flags&2048&&Pl(9,c,c.return);break;case 3:em(c);break;case 12:em(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,Gp(c)):em(c);break;default:em(c)}}function Gp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var b=d[h];Ar=b,K4(b,c)}G4(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Pl(8,d,d.return),Gp(d);break;case 22:h=d.stateNode,h._visibility&2&&(h._visibility&=-3,Gp(d));break;default:Gp(d)}c=c.sibling}}function K4(c,d){for(;Ar!==null;){var h=Ar;switch(h.tag){case 0:case 11:case 15:Pl(8,h,d);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var b=h.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Fh(h.memoizedState.cache)}if(b=h.child,b!==null)b.return=h,Ar=b;else e:for(h=c;Ar!==null;){b=Ar;var _=b.sibling,x=b.return;if(U4(b),b===h){Ar=null;break e}if(_!==null){_.return=x,Ar=_;break e}Ar=x}}}var B$={getCacheForType:function(c){var d=Zr(br),h=d.data.get(c);return h===void 0&&(h=c(),d.data.set(c,h)),h}},V$=typeof WeakMap=="function"?WeakMap:Map,Qt=0,kn=null,Ct=null,Ot=0,Zt=0,Qi=null,Ol=!1,vd=!1,rx=!1,Aa=0,Hn=0,Ml=0,Bc=0,ix=0,Rs=0,_d=0,tm=null,Ni=null,sx=!1,ox=0,Yp=1/0,Kp=null,Dl=null,Br=0,Fl=null,xd=null,Ed=0,ax=0,lx=null,X4=null,nm=0,cx=null;function Zi(){if((Qt&2)!==0&&Ot!==0)return Ot&-Ot;if(ne.T!==null){var c=ud;return c!==0?c:px()}return lp()}function J4(){Rs===0&&(Rs=(Ot&536870912)===0||Ht?wl():536870912);var c=Ps.current;return c!==null&&(c.flags|=32),Rs}function es(c,d,h){(c===kn&&(Zt===2||Zt===9)||c.cancelPendingCommit!==null)&&(kd(c,0),Ll(c,Ot,Rs,!1)),xc(c,h),((Qt&2)===0||c!==kn)&&(c===kn&&((Qt&2)===0&&(Bc|=h),Hn===4&&Ll(c,Ot,Rs,!1)),Vo(c))}function Q4(c,d,h){if((Qt&6)!==0)throw Error(r(327));var b=!h&&(d&124)===0&&(d&c.expiredLanes)===0||Oo(c,d),_=b?H$(c,d):fx(c,d,!0),x=b;do{if(_===0){vd&&!b&&Ll(c,d,0,!1);break}else{if(h=c.current.alternate,x&&!U$(h)){_=fx(c,d,!1),x=!1;continue}if(_===2){if(x=d,c.errorRecoveryDisabledLanes&x)var C=0;else C=c.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){d=C;e:{var M=c;_=tm;var G=M.current.memoizedState.isDehydrated;if(G&&(kd(M,C).flags|=256),C=fx(M,C,!1),C!==2){if(rx&&!G){M.errorRecoveryDisabledLanes|=x,Bc|=x,_=4;break e}x=Ni,Ni=_,x!==null&&(Ni===null?Ni=x:Ni.push.apply(Ni,x))}_=C}if(x=!1,_!==2)continue}}if(_===1){kd(c,0),Ll(c,d,0,!0);break}e:{switch(b=c,x=_,x){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Ll(b,d,Rs,!Ol);break e;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(_=ox+300-Ge(),10<_)){if(Ll(b,d,Rs,!Ol),yl(b,0,!0)!==0)break e;b.timeoutHandle=C3(Z4.bind(null,b,h,Ni,Kp,sx,d,Rs,Bc,_d,Ol,x,2,-0,0),_);break e}Z4(b,h,Ni,Kp,sx,d,Rs,Bc,_d,Ol,x,0,-0,0)}}break}while(!0);Vo(c)}function Z4(c,d,h,b,_,x,C,M,G,ae,Se,Ae,fe,ge){if(c.timeoutHandle=-1,Ae=d.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(cm={stylesheets:null,count:0,unsuspend:_W},q4(d),Ae=EW(),Ae!==null)){c.cancelPendingCommit=Ae(o3.bind(null,c,d,x,h,b,_,C,M,G,Se,1,fe,ge)),Ll(c,x,C,!ae);return}o3(c,d,x,h,b,_,C,M,G)}function U$(c){for(var d=c;;){var h=d.tag;if((h===0||h===11||h===15)&&d.flags&16384&&(h=d.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var b=0;b<h.length;b++){var _=h[b],x=_.getSnapshot;_=_.value;try{if(!Yi(x(),_))return!1}catch{return!1}}if(h=d.child,d.subtreeFlags&16384&&h!==null)h.return=d,d=h;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ll(c,d,h,b){d&=~ix,d&=~Bc,c.suspendedLanes|=d,c.pingedLanes&=~d,b&&(c.warmLanes|=d),b=c.expirationTimes;for(var _=d;0<_;){var x=31-yt(_),C=1<<x;b[x]=-1,_&=~C}h!==0&&op(c,h,d)}function Xp(){return(Qt&6)===0?(rm(0),!1):!0}function ux(){if(Ct!==null){if(Zt===0)var c=Ct.return;else c=Ct,va=Ic=null,C_(c),pd=null,Gh=0,c=Ct;for(;c!==null;)I4(c.alternate,c),c=c.return;Ct=null}}function kd(c,d){var h=c.timeoutHandle;h!==-1&&(c.timeoutHandle=-1,iW(h)),h=c.cancelPendingCommit,h!==null&&(c.cancelPendingCommit=null,h()),ux(),kn=c,Ct=h=ba(c.current,null),Ot=d,Zt=0,Qi=null,Ol=!1,vd=Oo(c,d),rx=!1,_d=Rs=ix=Bc=Ml=Hn=0,Ni=tm=null,sx=!1,(d&8)!==0&&(d|=d&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=d;0<b;){var _=31-yt(b),x=1<<_;d|=c[_],b&=~x}return Aa=d,yp(),h}function e3(c,d){Tt=null,ne.H=Lp,d===Bh||d===Cp?(d=b5(),Zt=3):d===m5?(d=b5(),Zt=4):Zt=d===y4?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Qi=d,Ct===null&&(Hn=1,Hp(c,Ss(d,c.current)))}function t3(){var c=ne.H;return ne.H=Lp,c===null?Lp:c}function n3(){var c=ne.A;return ne.A=B$,c}function dx(){Hn=4,Ol||(Ot&4194048)!==Ot&&Ps.current!==null||(vd=!0),(Ml&134217727)===0&&(Bc&134217727)===0||kn===null||Ll(kn,Ot,Rs,!1)}function fx(c,d,h){var b=Qt;Qt|=2;var _=t3(),x=n3();(kn!==c||Ot!==d)&&(Kp=null,kd(c,d)),d=!1;var C=Hn;e:do try{if(Zt!==0&&Ct!==null){var M=Ct,G=Qi;switch(Zt){case 8:ux(),C=6;break e;case 3:case 2:case 9:case 6:Ps.current===null&&(d=!0);var ae=Zt;if(Zt=0,Qi=null,Td(c,M,G,ae),h&&vd){C=0;break e}break;default:ae=Zt,Zt=0,Qi=null,Td(c,M,G,ae)}}z$(),C=Hn;break}catch(Se){e3(c,Se)}while(!0);return d&&c.shellSuspendCounter++,va=Ic=null,Qt=b,ne.H=_,ne.A=x,Ct===null&&(kn=null,Ot=0,yp()),C}function z$(){for(;Ct!==null;)r3(Ct)}function H$(c,d){var h=Qt;Qt|=2;var b=t3(),_=n3();kn!==c||Ot!==d?(Kp=null,Yp=Ge()+500,kd(c,d)):vd=Oo(c,d);e:do try{if(Zt!==0&&Ct!==null){d=Ct;var x=Qi;t:switch(Zt){case 1:Zt=0,Qi=null,Td(c,d,x,1);break;case 2:case 9:if(g5(x)){Zt=0,Qi=null,i3(d);break}d=function(){Zt!==2&&Zt!==9||kn!==c||(Zt=7),Vo(c)},x.then(d,d);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:g5(x)?(Zt=0,Qi=null,i3(d)):(Zt=0,Qi=null,Td(c,d,x,7));break;case 5:var C=null;switch(Ct.tag){case 26:C=Ct.memoizedState;case 5:case 27:var M=Ct;if(!C||V3(C)){Zt=0,Qi=null;var G=M.sibling;if(G!==null)Ct=G;else{var ae=M.return;ae!==null?(Ct=ae,Jp(ae)):Ct=null}break t}}Zt=0,Qi=null,Td(c,d,x,5);break;case 6:Zt=0,Qi=null,Td(c,d,x,6);break;case 8:ux(),Hn=6;break e;default:throw Error(r(462))}}$$();break}catch(Se){e3(c,Se)}while(!0);return va=Ic=null,ne.H=b,ne.A=_,Qt=h,Ct!==null?0:(kn=null,Ot=0,yp(),Hn)}function $$(){for(;Ct!==null&&!ki();)r3(Ct)}function r3(c){var d=P4(c.alternate,c,Aa);c.memoizedProps=c.pendingProps,d===null?Jp(c):Ct=d}function i3(c){var d=c,h=d.alternate;switch(d.tag){case 15:case 0:d=k4(h,d,d.pendingProps,d.type,void 0,Ot);break;case 11:d=k4(h,d,d.pendingProps,d.type.render,d.ref,Ot);break;case 5:C_(d);default:I4(h,d),d=Ct=s5(d,Aa),d=P4(h,d,Aa)}c.memoizedProps=c.pendingProps,d===null?Jp(c):Ct=d}function Td(c,d,h,b){va=Ic=null,C_(d),pd=null,Gh=0;var _=d.return;try{if(I$(c,_,d,h,Ot)){Hn=1,Hp(c,Ss(h,c.current)),Ct=null;return}}catch(x){if(_!==null)throw Ct=_,x;Hn=1,Hp(c,Ss(h,c.current)),Ct=null;return}d.flags&32768?(Ht||b===1?c=!0:vd||(Ot&536870912)!==0?c=!1:(Ol=c=!0,(b===2||b===9||b===3||b===6)&&(b=Ps.current,b!==null&&b.tag===13&&(b.flags|=16384))),s3(d,c)):Jp(d)}function Jp(c){var d=c;do{if((d.flags&32768)!==0){s3(d,Ol);return}c=d.return;var h=M$(d.alternate,d,Aa);if(h!==null){Ct=h;return}if(d=d.sibling,d!==null){Ct=d;return}Ct=d=c}while(d!==null);Hn===0&&(Hn=5)}function s3(c,d){do{var h=D$(c.alternate,c);if(h!==null){h.flags&=32767,Ct=h;return}if(h=c.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!d&&(c=c.sibling,c!==null)){Ct=c;return}Ct=c=h}while(c!==null);Hn=6,Ct=null}function o3(c,d,h,b,_,x,C,M,G){c.cancelPendingCommit=null;do Qp();while(Br!==0);if((Qt&6)!==0)throw Error(r(327));if(d!==null){if(d===c.current)throw Error(r(177));if(x=d.lanes|d.childLanes,x|=n_,Ju(c,h,x,C,M,G),c===kn&&(Ct=kn=null,Ot=0),xd=d,Fl=c,Ed=h,ax=x,lx=_,X4=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,G$(K,function(){return d3(),null})):(c.callbackNode=null,c.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=ne.T,ne.T=null,_=Ee.p,Ee.p=2,C=Qt,Qt|=4;try{F$(c,d,h)}finally{Qt=C,Ee.p=_,ne.T=b}}Br=1,a3(),l3(),c3()}}function a3(){if(Br===1){Br=0;var c=Fl,d=xd,h=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||h){h=ne.T,ne.T=null;var b=Ee.p;Ee.p=2;var _=Qt;Qt|=4;try{$4(d,c);var x=kx,C=KA(c.containerInfo),M=x.focusedElem,G=x.selectionRange;if(C!==M&&M&&M.ownerDocument&&YA(M.ownerDocument.documentElement,M)){if(G!==null&&Jv(M)){var ae=G.start,Se=G.end;if(Se===void 0&&(Se=ae),"selectionStart"in M)M.selectionStart=ae,M.selectionEnd=Math.min(Se,M.value.length);else{var Ae=M.ownerDocument||document,fe=Ae&&Ae.defaultView||window;if(fe.getSelection){var ge=fe.getSelection(),ht=M.textContent.length,ut=Math.min(G.start,ht),fn=G.end===void 0?ut:Math.min(G.end,ht);!ge.extend&&ut>fn&&(C=fn,fn=ut,ut=C);var ie=GA(M,ut),Z=GA(M,fn);if(ie&&Z&&(ge.rangeCount!==1||ge.anchorNode!==ie.node||ge.anchorOffset!==ie.offset||ge.focusNode!==Z.node||ge.focusOffset!==Z.offset)){var oe=Ae.createRange();oe.setStart(ie.node,ie.offset),ge.removeAllRanges(),ut>fn?(ge.addRange(oe),ge.extend(Z.node,Z.offset)):(oe.setEnd(Z.node,Z.offset),ge.addRange(oe))}}}}for(Ae=[],ge=M;ge=ge.parentNode;)ge.nodeType===1&&Ae.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ae.length;M++){var Ce=Ae[M];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}u1=!!Ex,kx=Ex=null}finally{Qt=_,Ee.p=b,ne.T=h}}c.current=d,Br=2}}function l3(){if(Br===2){Br=0;var c=Fl,d=xd,h=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||h){h=ne.T,ne.T=null;var b=Ee.p;Ee.p=2;var _=Qt;Qt|=4;try{V4(c,d.alternate,d)}finally{Qt=_,Ee.p=b,ne.T=h}}Br=3}}function c3(){if(Br===4||Br===3){Br=0,wn();var c=Fl,d=xd,h=Ed,b=X4;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Br=5:(Br=0,xd=Fl=null,u3(c,c.pendingLanes));var _=c.pendingLanes;if(_===0&&(Dl=null),_h(h),d=d.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Oe,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=ne.T,_=Ee.p,Ee.p=2,ne.T=null;try{for(var x=c.onRecoverableError,C=0;C<b.length;C++){var M=b[C];x(M.value,{componentStack:M.stack})}}finally{ne.T=d,Ee.p=_}}(Ed&3)!==0&&Qp(),Vo(c),_=c.pendingLanes,(h&4194090)!==0&&(_&42)!==0?c===cx?nm++:(nm=0,cx=c):nm=0,rm(0)}}function u3(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Fh(d)))}function Qp(c){return a3(),l3(),c3(),d3()}function d3(){if(Br!==5)return!1;var c=Fl,d=ax;ax=0;var h=_h(Ed),b=ne.T,_=Ee.p;try{Ee.p=32>h?32:h,ne.T=null,h=lx,lx=null;var x=Fl,C=Ed;if(Br=0,xd=Fl=null,Ed=0,(Qt&6)!==0)throw Error(r(331));var M=Qt;if(Qt|=4,Y4(x.current),j4(x,x.current,C,h),Qt=M,rm(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Oe,x)}catch{}return!0}finally{Ee.p=_,ne.T=b,u3(c,d)}}function f3(c,d,h){d=Ss(h,d),d=z_(c.stateNode,d,2),c=Sl(c,d,2),c!==null&&(xc(c,2),Vo(c))}function vn(c,d,h){if(c.tag===3)f3(c,c,h);else for(;d!==null;){if(d.tag===3){f3(d,c,h);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Dl===null||!Dl.has(b))){c=Ss(h,c),h=p4(2),b=Sl(d,h,2),b!==null&&(b4(h,b,d,c),xc(b,2),Vo(b));break}}d=d.return}}function hx(c,d,h){var b=c.pingCache;if(b===null){b=c.pingCache=new V$;var _=new Set;b.set(d,_)}else _=b.get(d),_===void 0&&(_=new Set,b.set(d,_));_.has(h)||(rx=!0,_.add(h),c=W$.bind(null,c,d,h),d.then(c,c))}function W$(c,d,h){var b=c.pingCache;b!==null&&b.delete(d),c.pingedLanes|=c.suspendedLanes&h,c.warmLanes&=~h,kn===c&&(Ot&h)===h&&(Hn===4||Hn===3&&(Ot&62914560)===Ot&&300>Ge()-ox?(Qt&2)===0&&kd(c,0):ix|=h,_d===Ot&&(_d=0)),Vo(c)}function h3(c,d){d===0&&(d=yh()),c=od(c,d),c!==null&&(xc(c,d),Vo(c))}function j$(c){var d=c.memoizedState,h=0;d!==null&&(h=d.retryLane),h3(c,h)}function q$(c,d){var h=0;switch(c.tag){case 13:var b=c.stateNode,_=c.memoizedState;_!==null&&(h=_.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),h3(c,h)}function G$(c,d){return Un(c,d)}var Zp=null,Sd=null,mx=!1,e1=!1,gx=!1,Vc=0;function Vo(c){c!==Sd&&c.next===null&&(Sd===null?Zp=Sd=c:Sd=Sd.next=c),e1=!0,mx||(mx=!0,K$())}function rm(c,d){if(!gx&&e1){gx=!0;do for(var h=!1,b=Zp;b!==null;){if(c!==0){var _=b.pendingLanes;if(_===0)var x=0;else{var C=b.suspendedLanes,M=b.pingedLanes;x=(1<<31-yt(42|c)+1)-1,x&=_&~(C&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(h=!0,b3(b,x))}else x=Ot,x=yl(b,b===kn?x:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(x&3)===0||Oo(b,x)||(h=!0,b3(b,x));b=b.next}while(h);gx=!1}}function Y$(){m3()}function m3(){e1=mx=!1;var c=0;Vc!==0&&(rW()&&(c=Vc),Vc=0);for(var d=Ge(),h=null,b=Zp;b!==null;){var _=b.next,x=g3(b,d);x===0?(b.next=null,h===null?Zp=_:h.next=_,_===null&&(Sd=h)):(h=b,(c!==0||(x&3)!==0)&&(e1=!0)),b=_}rm(c)}function g3(c,d){for(var h=c.suspendedLanes,b=c.pingedLanes,_=c.expirationTimes,x=c.pendingLanes&-62914561;0<x;){var C=31-yt(x),M=1<<C,G=_[C];G===-1?((M&h)===0||(M&b)!==0)&&(_[C]=Xu(M,d)):G<=d&&(c.expiredLanes|=M),x&=~M}if(d=kn,h=Ot,h=yl(c,c===d?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b=c.callbackNode,h===0||c===d&&(Zt===2||Zt===9)||c.cancelPendingCommit!==null)return b!==null&&b!==null&&Pt(b),c.callbackNode=null,c.callbackPriority=0;if((h&3)===0||Oo(c,h)){if(d=h&-h,d===c.callbackPriority)return d;switch(b!==null&&Pt(b),_h(h)){case 2:case 8:h=qi;break;case 32:h=K;break;case 268435456:h=ye;break;default:h=K}return b=p3.bind(null,c),h=Un(h,b),c.callbackPriority=d,c.callbackNode=h,d}return b!==null&&b!==null&&Pt(b),c.callbackPriority=2,c.callbackNode=null,2}function p3(c,d){if(Br!==0&&Br!==5)return c.callbackNode=null,c.callbackPriority=0,null;var h=c.callbackNode;if(Qp()&&c.callbackNode!==h)return null;var b=Ot;return b=yl(c,c===kn?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b===0?null:(Q4(c,b,d),g3(c,Ge()),c.callbackNode!=null&&c.callbackNode===h?p3.bind(null,c):null)}function b3(c,d){if(Qp())return null;Q4(c,d,!0)}function K$(){sW(function(){(Qt&6)!==0?Un(ji,Y$):m3()})}function px(){return Vc===0&&(Vc=wl()),Vc}function y3(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:dp(""+c)}function w3(c,d){var h=d.ownerDocument.createElement("input");return h.name=d.name,h.value=d.value,c.id&&h.setAttribute("form",c.id),d.parentNode.insertBefore(h,d),c=new FormData(c),h.parentNode.removeChild(h),c}function X$(c,d,h,b,_){if(d==="submit"&&h&&h.stateNode===_){var x=y3((_[Sr]||null).action),C=b.submitter;C&&(d=(d=C[Sr]||null)?y3(d.formAction):C.getAttribute("formAction"),d!==null&&(x=d,C=null));var M=new gp("action","action",null,b,_);c.push({event:M,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Vc!==0){var G=C?w3(_,C):new FormData(_);F_(h,{pending:!0,data:G,method:_.method,action:x},null,G)}}else typeof x=="function"&&(M.preventDefault(),G=C?w3(_,C):new FormData(_),F_(h,{pending:!0,data:G,method:_.method,action:x},x,G))},currentTarget:_}]})}}for(var bx=0;bx<t_.length;bx++){var yx=t_[bx],J$=yx.toLowerCase(),Q$=yx[0].toUpperCase()+yx.slice(1);to(J$,"on"+Q$)}to(QA,"onAnimationEnd"),to(ZA,"onAnimationIteration"),to(e5,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(g$,"onTransitionRun"),to(p$,"onTransitionStart"),to(b$,"onTransitionCancel"),to(t5,"onTransitionEnd"),Ue("onMouseEnter",["mouseout","mouseover"]),Ue("onMouseLeave",["mouseout","mouseover"]),Ue("onPointerEnter",["pointerout","pointerover"]),Ue("onPointerLeave",["pointerout","pointerover"]),Ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var im="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(im));function v3(c,d){d=(d&4)!==0;for(var h=0;h<c.length;h++){var b=c[h],_=b.event;b=b.listeners;e:{var x=void 0;if(d)for(var C=b.length-1;0<=C;C--){var M=b[C],G=M.instance,ae=M.currentTarget;if(M=M.listener,G!==x&&_.isPropagationStopped())break e;x=M,_.currentTarget=ae;try{x(_)}catch(Se){zp(Se)}_.currentTarget=null,x=G}else for(C=0;C<b.length;C++){if(M=b[C],G=M.instance,ae=M.currentTarget,M=M.listener,G!==x&&_.isPropagationStopped())break e;x=M,_.currentTarget=ae;try{x(_)}catch(Se){zp(Se)}_.currentTarget=null,x=G}}}}function At(c,d){var h=d[xh];h===void 0&&(h=d[xh]=new Set);var b=c+"__bubble";h.has(b)||(_3(d,c,2,!1),h.add(b))}function wx(c,d,h){var b=0;d&&(b|=4),_3(h,c,b,d)}var t1="_reactListening"+Math.random().toString(36).slice(2);function vx(c){if(!c[t1]){c[t1]=!0,de.forEach(function(h){h!=="selectionchange"&&(Z$.has(h)||wx(h,!1,c),wx(h,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[t1]||(d[t1]=!0,wx("selectionchange",!1,d))}}function _3(c,d,h,b){switch(j3(d)){case 2:var _=SW;break;case 8:_=CW;break;default:_=Mx}h=_.bind(null,d,h,c),_=void 0,!Hv||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),b?_!==void 0?c.addEventListener(d,h,{capture:!0,passive:_}):c.addEventListener(d,h,!0):_!==void 0?c.addEventListener(d,h,{passive:_}):c.addEventListener(d,h,!1)}function _x(c,d,h,b,_){var x=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var C=b.tag;if(C===3||C===4){var M=b.stateNode.containerInfo;if(M===_)break;if(C===4)for(C=b.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===_)return;C=C.return}for(;M!==null;){if(C=z(M),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){b=x=C;continue e}M=M.parentNode}}b=b.return}AA(function(){var ae=x,Se=Uv(h),Ae=[];e:{var fe=n5.get(c);if(fe!==void 0){var ge=gp,ht=c;switch(c){case"keypress":if(hp(h)===0)break e;case"keydown":case"keyup":ge=GH;break;case"focusin":ht="focus",ge=qv;break;case"focusout":ht="blur",ge=qv;break;case"beforeblur":case"afterblur":ge=qv;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=RA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=DH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=XH;break;case QA:case ZA:case e5:ge=BH;break;case t5:ge=QH;break;case"scroll":case"scrollend":ge=OH;break;case"wheel":ge=e$;break;case"copy":case"cut":case"paste":ge=UH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=OA;break;case"toggle":case"beforetoggle":ge=n$}var ut=(d&4)!==0,fn=!ut&&(c==="scroll"||c==="scrollend"),ie=ut?fe!==null?fe+"Capture":null:fe;ut=[];for(var Z=ae,oe;Z!==null;){var Ce=Z;if(oe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||oe===null||ie===null||(Ce=Eh(Z,ie),Ce!=null&&ut.push(sm(Z,Ce,oe))),fn)break;Z=Z.return}0<ut.length&&(fe=new ge(fe,ht,null,h,Se),Ae.push({event:fe,listeners:ut}))}}if((d&7)===0){e:{if(fe=c==="mouseover"||c==="pointerover",ge=c==="mouseout"||c==="pointerout",fe&&h!==Vv&&(ht=h.relatedTarget||h.fromElement)&&(z(ht)||ht[vl]))break e;if((ge||fe)&&(fe=Se.window===Se?Se:(fe=Se.ownerDocument)?fe.defaultView||fe.parentWindow:window,ge?(ht=h.relatedTarget||h.toElement,ge=ae,ht=ht?z(ht):null,ht!==null&&(fn=s(ht),ut=ht.tag,ht!==fn||ut!==5&&ut!==27&&ut!==6)&&(ht=null)):(ge=null,ht=ae),ge!==ht)){if(ut=RA,Ce="onMouseLeave",ie="onMouseEnter",Z="mouse",(c==="pointerout"||c==="pointerover")&&(ut=OA,Ce="onPointerLeave",ie="onPointerEnter",Z="pointer"),fn=ge==null?fe:ce(ge),oe=ht==null?fe:ce(ht),fe=new ut(Ce,Z+"leave",ge,h,Se),fe.target=fn,fe.relatedTarget=oe,Ce=null,z(Se)===ae&&(ut=new ut(ie,Z+"enter",ht,h,Se),ut.target=oe,ut.relatedTarget=fn,Ce=ut),fn=Ce,ge&&ht)t:{for(ut=ge,ie=ht,Z=0,oe=ut;oe;oe=Cd(oe))Z++;for(oe=0,Ce=ie;Ce;Ce=Cd(Ce))oe++;for(;0<Z-oe;)ut=Cd(ut),Z--;for(;0<oe-Z;)ie=Cd(ie),oe--;for(;Z--;){if(ut===ie||ie!==null&&ut===ie.alternate)break t;ut=Cd(ut),ie=Cd(ie)}ut=null}else ut=null;ge!==null&&x3(Ae,fe,ge,ut,!1),ht!==null&&fn!==null&&x3(Ae,fn,ht,ut,!0)}}e:{if(fe=ae?ce(ae):window,ge=fe.nodeName&&fe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&fe.type==="file")var st=zA;else if(VA(fe))if(HA)st=f$;else{st=u$;var St=c$}else ge=fe.nodeName,!ge||ge.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ae&&Bv(ae.elementType)&&(st=zA):st=d$;if(st&&(st=st(c,ae))){UA(Ae,st,h,Se);break e}St&&St(c,fe,ae),c==="focusout"&&ae&&fe.type==="number"&&ae.memoizedProps.value!=null&&Lv(fe,"number",fe.value)}switch(St=ae?ce(ae):window,c){case"focusin":(VA(St)||St.contentEditable==="true")&&(rd=St,Qv=ae,Rh=null);break;case"focusout":Rh=Qv=rd=null;break;case"mousedown":Zv=!0;break;case"contextmenu":case"mouseup":case"dragend":Zv=!1,XA(Ae,h,Se);break;case"selectionchange":if(m$)break;case"keydown":case"keyup":XA(Ae,h,Se)}var at;if(Yv)e:{switch(c){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else nd?LA(c,h)&&(dt="onCompositionEnd"):c==="keydown"&&h.keyCode===229&&(dt="onCompositionStart");dt&&(MA&&h.locale!=="ko"&&(nd||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&nd&&(at=NA()):(xl=Se,$v="value"in xl?xl.value:xl.textContent,nd=!0)),St=n1(ae,dt),0<St.length&&(dt=new IA(dt,c,null,h,Se),Ae.push({event:dt,listeners:St}),at?dt.data=at:(at=BA(h),at!==null&&(dt.data=at)))),(at=i$?s$(c,h):o$(c,h))&&(dt=n1(ae,"onBeforeInput"),0<dt.length&&(St=new IA("onBeforeInput","beforeinput",null,h,Se),Ae.push({event:St,listeners:dt}),St.data=at)),X$(Ae,c,ae,h,Se)}v3(Ae,d)})}function sm(c,d,h){return{instance:c,listener:d,currentTarget:h}}function n1(c,d){for(var h=d+"Capture",b=[];c!==null;){var _=c,x=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||x===null||(_=Eh(c,h),_!=null&&b.unshift(sm(c,_,x)),_=Eh(c,d),_!=null&&b.push(sm(c,_,x))),c.tag===3)return b;c=c.return}return[]}function Cd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function x3(c,d,h,b,_){for(var x=d._reactName,C=[];h!==null&&h!==b;){var M=h,G=M.alternate,ae=M.stateNode;if(M=M.tag,G!==null&&G===b)break;M!==5&&M!==26&&M!==27||ae===null||(G=ae,_?(ae=Eh(h,x),ae!=null&&C.unshift(sm(h,ae,G))):_||(ae=Eh(h,x),ae!=null&&C.push(sm(h,ae,G)))),h=h.return}C.length!==0&&c.push({event:d,listeners:C})}var eW=/\r\n?/g,tW=/\u0000|\uFFFD/g;function E3(c){return(typeof c=="string"?c:""+c).replace(eW,`
`).replace(tW,"")}function k3(c,d){return d=E3(d),E3(c)===d}function r1(){}function dn(c,d,h,b,_,x){switch(h){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||Zu(c,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&Zu(c,""+b);break;case"className":cn(c,"class",b);break;case"tabIndex":cn(c,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(c,h,b);break;case"style":SA(c,b,x);break;case"data":if(d!=="object"){cn(c,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||h!=="href")){c.removeAttribute(h);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(h);break}b=dp(""+b),c.setAttribute(h,b);break;case"action":case"formAction":if(typeof b=="function"){c.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(h==="formAction"?(d!=="input"&&dn(c,d,"name",_.name,_,null),dn(c,d,"formEncType",_.formEncType,_,null),dn(c,d,"formMethod",_.formMethod,_,null),dn(c,d,"formTarget",_.formTarget,_,null)):(dn(c,d,"encType",_.encType,_,null),dn(c,d,"method",_.method,_,null),dn(c,d,"target",_.target,_,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(h);break}b=dp(""+b),c.setAttribute(h,b);break;case"onClick":b!=null&&(c.onclick=r1);break;case"onScroll":b!=null&&At("scroll",c);break;case"onScrollEnd":b!=null&&At("scrollend",c);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=h}}break;case"multiple":c.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":c.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){c.removeAttribute("xlink:href");break}h=dp(""+b),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(h,""+b):c.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(h,""):c.removeAttribute(h);break;case"capture":case"download":b===!0?c.setAttribute(h,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(h,b):c.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?c.setAttribute(h,b):c.removeAttribute(h);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?c.removeAttribute(h):c.setAttribute(h,b);break;case"popover":At("beforetoggle",c),At("toggle",c),ln(c,"popover",b);break;case"xlinkActuate":En(c,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":En(c,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":En(c,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":En(c,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":En(c,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":En(c,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":En(c,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":En(c,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":En(c,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ln(c,"is",b);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=RH.get(h)||h,ln(c,h,b))}}function xx(c,d,h,b,_,x){switch(h){case"style":SA(c,b,x);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=h}}break;case"children":typeof b=="string"?Zu(c,b):(typeof b=="number"||typeof b=="bigint")&&Zu(c,""+b);break;case"onScroll":b!=null&&At("scroll",c);break;case"onScrollEnd":b!=null&&At("scrollend",c);break;case"onClick":b!=null&&(c.onclick=r1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!me.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),d=h.slice(2,_?h.length-7:void 0),x=c[Sr]||null,x=x!=null?x[h]:null,typeof x=="function"&&c.removeEventListener(d,x,_),typeof b=="function")){typeof x!="function"&&x!==null&&(h in c?c[h]=null:c.hasAttribute(h)&&c.removeAttribute(h)),c.addEventListener(d,b,_);break e}h in c?c[h]=b:b===!0?c.setAttribute(h,""):ln(c,h,b)}}}function Vr(c,d,h){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",c),At("load",c);var b=!1,_=!1,x;for(x in h)if(h.hasOwnProperty(x)){var C=h[x];if(C!=null)switch(x){case"src":b=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:dn(c,d,x,C,h,null)}}_&&dn(c,d,"srcSet",h.srcSet,h,null),b&&dn(c,d,"src",h.src,h,null);return;case"input":At("invalid",c);var M=x=C=_=null,G=null,ae=null;for(b in h)if(h.hasOwnProperty(b)){var Se=h[b];if(Se!=null)switch(b){case"name":_=Se;break;case"type":C=Se;break;case"checked":G=Se;break;case"defaultChecked":ae=Se;break;case"value":x=Se;break;case"defaultValue":M=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,d));break;default:dn(c,d,b,Se,h,null)}}xA(c,x,M,G,ae,C,_,!1),cp(c);return;case"select":At("invalid",c),b=C=x=null;for(_ in h)if(h.hasOwnProperty(_)&&(M=h[_],M!=null))switch(_){case"value":x=M;break;case"defaultValue":C=M;break;case"multiple":b=M;default:dn(c,d,_,M,h,null)}d=x,h=C,c.multiple=!!b,d!=null?Qu(c,!!b,d,!1):h!=null&&Qu(c,!!b,h,!0);return;case"textarea":At("invalid",c),x=_=b=null;for(C in h)if(h.hasOwnProperty(C)&&(M=h[C],M!=null))switch(C){case"value":b=M;break;case"defaultValue":_=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:dn(c,d,C,M,h,null)}kA(c,b,_,x),cp(c);return;case"option":for(G in h)if(h.hasOwnProperty(G)&&(b=h[G],b!=null))switch(G){case"selected":c.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:dn(c,d,G,b,h,null)}return;case"dialog":At("beforetoggle",c),At("toggle",c),At("cancel",c),At("close",c);break;case"iframe":case"object":At("load",c);break;case"video":case"audio":for(b=0;b<im.length;b++)At(im[b],c);break;case"image":At("error",c),At("load",c);break;case"details":At("toggle",c);break;case"embed":case"source":case"link":At("error",c),At("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in h)if(h.hasOwnProperty(ae)&&(b=h[ae],b!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:dn(c,d,ae,b,h,null)}return;default:if(Bv(d)){for(Se in h)h.hasOwnProperty(Se)&&(b=h[Se],b!==void 0&&xx(c,d,Se,b,h,void 0));return}}for(M in h)h.hasOwnProperty(M)&&(b=h[M],b!=null&&dn(c,d,M,b,h,null))}function nW(c,d,h,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,x=null,C=null,M=null,G=null,ae=null,Se=null;for(ge in h){var Ae=h[ge];if(h.hasOwnProperty(ge)&&Ae!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":G=Ae;default:b.hasOwnProperty(ge)||dn(c,d,ge,null,b,Ae)}}for(var fe in b){var ge=b[fe];if(Ae=h[fe],b.hasOwnProperty(fe)&&(ge!=null||Ae!=null))switch(fe){case"type":x=ge;break;case"name":_=ge;break;case"checked":ae=ge;break;case"defaultChecked":Se=ge;break;case"value":C=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,d));break;default:ge!==Ae&&dn(c,d,fe,ge,b,Ae)}}Fv(c,C,M,G,ae,Se,x,_);return;case"select":ge=C=M=fe=null;for(x in h)if(G=h[x],h.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":ge=G;default:b.hasOwnProperty(x)||dn(c,d,x,null,b,G)}for(_ in b)if(x=b[_],G=h[_],b.hasOwnProperty(_)&&(x!=null||G!=null))switch(_){case"value":fe=x;break;case"defaultValue":M=x;break;case"multiple":C=x;default:x!==G&&dn(c,d,_,x,b,G)}d=M,h=C,b=ge,fe!=null?Qu(c,!!h,fe,!1):!!b!=!!h&&(d!=null?Qu(c,!!h,d,!0):Qu(c,!!h,h?[]:"",!1));return;case"textarea":ge=fe=null;for(M in h)if(_=h[M],h.hasOwnProperty(M)&&_!=null&&!b.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:dn(c,d,M,null,b,_)}for(C in b)if(_=b[C],x=h[C],b.hasOwnProperty(C)&&(_!=null||x!=null))switch(C){case"value":fe=_;break;case"defaultValue":ge=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==x&&dn(c,d,C,_,b,x)}EA(c,fe,ge);return;case"option":for(var ht in h)if(fe=h[ht],h.hasOwnProperty(ht)&&fe!=null&&!b.hasOwnProperty(ht))switch(ht){case"selected":c.selected=!1;break;default:dn(c,d,ht,null,b,fe)}for(G in b)if(fe=b[G],ge=h[G],b.hasOwnProperty(G)&&fe!==ge&&(fe!=null||ge!=null))switch(G){case"selected":c.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:dn(c,d,G,fe,b,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in h)fe=h[ut],h.hasOwnProperty(ut)&&fe!=null&&!b.hasOwnProperty(ut)&&dn(c,d,ut,null,b,fe);for(ae in b)if(fe=b[ae],ge=h[ae],b.hasOwnProperty(ae)&&fe!==ge&&(fe!=null||ge!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,d));break;default:dn(c,d,ae,fe,b,ge)}return;default:if(Bv(d)){for(var fn in h)fe=h[fn],h.hasOwnProperty(fn)&&fe!==void 0&&!b.hasOwnProperty(fn)&&xx(c,d,fn,void 0,b,fe);for(Se in b)fe=b[Se],ge=h[Se],!b.hasOwnProperty(Se)||fe===ge||fe===void 0&&ge===void 0||xx(c,d,Se,fe,b,ge);return}}for(var ie in h)fe=h[ie],h.hasOwnProperty(ie)&&fe!=null&&!b.hasOwnProperty(ie)&&dn(c,d,ie,null,b,fe);for(Ae in b)fe=b[Ae],ge=h[Ae],!b.hasOwnProperty(Ae)||fe===ge||fe==null&&ge==null||dn(c,d,Ae,fe,b,ge)}var Ex=null,kx=null;function i1(c){return c.nodeType===9?c:c.ownerDocument}function T3(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S3(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function Tx(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Sx=null;function rW(){var c=window.event;return c&&c.type==="popstate"?c===Sx?!1:(Sx=c,!0):(Sx=null,!1)}var C3=typeof setTimeout=="function"?setTimeout:void 0,iW=typeof clearTimeout=="function"?clearTimeout:void 0,A3=typeof Promise=="function"?Promise:void 0,sW=typeof queueMicrotask=="function"?queueMicrotask:typeof A3<"u"?function(c){return A3.resolve(null).then(c).catch(oW)}:C3;function oW(c){setTimeout(function(){throw c})}function Bl(c){return c==="head"}function N3(c,d){var h=d,b=0,_=0;do{var x=h.nextSibling;if(c.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(0<b&&8>b){h=b;var C=c.ownerDocument;if(h&1&&om(C.documentElement),h&2&&om(C.body),h&4)for(h=C.head,om(h),C=h.firstChild;C;){var M=C.nextSibling,G=C.nodeName;C[L]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=M}}if(_===0){c.removeChild(x),mm(d);return}_--}else h==="$"||h==="$?"||h==="$!"?_++:b=h.charCodeAt(0)-48;else b=0;h=x}while(h);mm(d)}function Cx(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var h=d;switch(d=d.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Cx(h),B(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}c.removeChild(h)}}function aW(c,d,h,b){for(;c.nodeType===1;){var _=h;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(b){if(!c[L])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(x=c.getAttribute("rel"),x==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(x!==_.rel||c.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||c.getAttribute("title")!==(_.title==null?null:_.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(x=c.getAttribute("src"),(x!==(_.src==null?null:_.src)||c.getAttribute("type")!==(_.type==null?null:_.type)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&x&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var x=_.name==null?null:""+_.name;if(_.type==="hidden"&&c.getAttribute("name")===x)return c}else return c;if(c=ro(c.nextSibling),c===null)break}return null}function lW(c,d,h){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=ro(c.nextSibling),c===null))return null;return c}function Ax(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function cW(c,d){var h=c.ownerDocument;if(c.data!=="$?"||h.readyState==="complete")d();else{var b=function(){d(),h.removeEventListener("DOMContentLoaded",b)};h.addEventListener("DOMContentLoaded",b),c._reactRetry=b}}function ro(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}var Nx=null;function P3(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var h=c.data;if(h==="$"||h==="$!"||h==="$?"){if(d===0)return c;d--}else h==="/$"&&d++}c=c.previousSibling}return null}function R3(c,d,h){switch(d=i1(h),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function om(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);B(c)}var Is=new Map,I3=new Set;function s1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Na=Ee.d;Ee.d={f:uW,r:dW,D:fW,C:hW,L:mW,m:gW,X:bW,S:pW,M:yW};function uW(){var c=Na.f(),d=Xp();return c||d}function dW(c){var d=W(c);d!==null&&d.tag===5&&d.type==="form"?Q5(d):Na.r(c)}var Ad=typeof document>"u"?null:document;function O3(c,d,h){var b=Ad;if(b&&typeof d=="string"&&d){var _=Ts(d);_='link[rel="'+c+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),I3.has(_)||(I3.add(_),c={rel:c,crossOrigin:h,href:d},b.querySelector(_)===null&&(d=b.createElement("link"),Vr(d,"link",c),se(d),b.head.appendChild(d)))}}function fW(c){Na.D(c),O3("dns-prefetch",c,null)}function hW(c,d){Na.C(c,d),O3("preconnect",c,d)}function mW(c,d,h){Na.L(c,d,h);var b=Ad;if(b&&c&&d){var _='link[rel="preload"][as="'+Ts(d)+'"]';d==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+Ts(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+Ts(h.imageSizes)+'"]')):_+='[href="'+Ts(c)+'"]';var x=_;switch(d){case"style":x=Nd(c);break;case"script":x=Pd(c)}Is.has(x)||(c=f({rel:"preload",href:d==="image"&&h&&h.imageSrcSet?void 0:c,as:d},h),Is.set(x,c),b.querySelector(_)!==null||d==="style"&&b.querySelector(am(x))||d==="script"&&b.querySelector(lm(x))||(d=b.createElement("link"),Vr(d,"link",c),se(d),b.head.appendChild(d)))}}function gW(c,d){Na.m(c,d);var h=Ad;if(h&&c){var b=d&&typeof d.as=="string"?d.as:"script",_='link[rel="modulepreload"][as="'+Ts(b)+'"][href="'+Ts(c)+'"]',x=_;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Pd(c)}if(!Is.has(x)&&(c=f({rel:"modulepreload",href:c},d),Is.set(x,c),h.querySelector(_)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(lm(x)))return}b=h.createElement("link"),Vr(b,"link",c),se(b),h.head.appendChild(b)}}}function pW(c,d,h){Na.S(c,d,h);var b=Ad;if(b&&c){var _=we(b).hoistableStyles,x=Nd(c);d=d||"default";var C=_.get(x);if(!C){var M={loading:0,preload:null};if(C=b.querySelector(am(x)))M.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":d},h),(h=Is.get(x))&&Px(c,h);var G=C=b.createElement("link");se(G),Vr(G,"link",c),G._p=new Promise(function(ae,Se){G.onload=ae,G.onerror=Se}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,o1(C,d,b)}C={type:"stylesheet",instance:C,count:1,state:M},_.set(x,C)}}}function bW(c,d){Na.X(c,d);var h=Ad;if(h&&c){var b=we(h).hoistableScripts,_=Pd(c),x=b.get(_);x||(x=h.querySelector(lm(_)),x||(c=f({src:c,async:!0},d),(d=Is.get(_))&&Rx(c,d),x=h.createElement("script"),se(x),Vr(x,"link",c),h.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},b.set(_,x))}}function yW(c,d){Na.M(c,d);var h=Ad;if(h&&c){var b=we(h).hoistableScripts,_=Pd(c),x=b.get(_);x||(x=h.querySelector(lm(_)),x||(c=f({src:c,async:!0,type:"module"},d),(d=Is.get(_))&&Rx(c,d),x=h.createElement("script"),se(x),Vr(x,"link",c),h.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},b.set(_,x))}}function M3(c,d,h,b){var _=(_=ue.current)?s1(_):null;if(!_)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(d=Nd(h.href),h=we(_).hoistableStyles,b=h.get(d),b||(b={type:"style",instance:null,count:0,state:null},h.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){c=Nd(h.href);var x=we(_).hoistableStyles,C=x.get(c);if(C||(_=_.ownerDocument||_,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(c,C),(x=_.querySelector(am(c)))&&!x._p&&(C.instance=x,C.state.loading=5),Is.has(c)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Is.set(c,h),x||wW(_,c,h,C.state))),d&&b===null)throw Error(r(528,""));return C}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=h.async,h=h.src,typeof h=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Pd(h),h=we(_).hoistableScripts,b=h.get(d),b||(b={type:"script",instance:null,count:0,state:null},h.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Nd(c){return'href="'+Ts(c)+'"'}function am(c){return'link[rel="stylesheet"]['+c+"]"}function D3(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function wW(c,d,h,b){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=c.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),Vr(d,"link",h),se(d),c.head.appendChild(d))}function Pd(c){return'[src="'+Ts(c)+'"]'}function lm(c){return"script[async]"+c}function F3(c,d,h){if(d.count++,d.instance===null)switch(d.type){case"style":var b=c.querySelector('style[data-href~="'+Ts(h.href)+'"]');if(b)return d.instance=b,se(b),b;var _=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return b=(c.ownerDocument||c).createElement("style"),se(b),Vr(b,"style",_),o1(b,h.precedence,c),d.instance=b;case"stylesheet":_=Nd(h.href);var x=c.querySelector(am(_));if(x)return d.state.loading|=4,d.instance=x,se(x),x;b=D3(h),(_=Is.get(_))&&Px(b,_),x=(c.ownerDocument||c).createElement("link"),se(x);var C=x;return C._p=new Promise(function(M,G){C.onload=M,C.onerror=G}),Vr(x,"link",b),d.state.loading|=4,o1(x,h.precedence,c),d.instance=x;case"script":return x=Pd(h.src),(_=c.querySelector(lm(x)))?(d.instance=_,se(_),_):(b=h,(_=Is.get(x))&&(b=f({},h),Rx(b,_)),c=c.ownerDocument||c,_=c.createElement("script"),se(_),Vr(_,"link",b),c.head.appendChild(_),d.instance=_);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,o1(b,h.precedence,c));return d.instance}function o1(c,d,h){for(var b=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=b.length?b[b.length-1]:null,x=_,C=0;C<b.length;C++){var M=b[C];if(M.dataset.precedence===d)x=M;else if(x!==_)break}x?x.parentNode.insertBefore(c,x.nextSibling):(d=h.nodeType===9?h.head:h,d.insertBefore(c,d.firstChild))}function Px(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function Rx(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var a1=null;function L3(c,d,h){if(a1===null){var b=new Map,_=a1=new Map;_.set(h,b)}else _=a1,b=_.get(h),b||(b=new Map,_.set(h,b));if(b.has(c))return b;for(b.set(c,null),h=h.getElementsByTagName(c),_=0;_<h.length;_++){var x=h[_];if(!(x[L]||x[Tr]||c==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(d)||"";C=c+C;var M=b.get(C);M?M.push(x):b.set(C,[x])}}return b}function B3(c,d,h){c=c.ownerDocument||c,c.head.insertBefore(h,d==="title"?c.querySelector("head > title"):null)}function vW(c,d,h){if(h===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function V3(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var cm=null;function _W(){}function xW(c,d,h){if(cm===null)throw Error(r(475));var b=cm;if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=Nd(h.href),x=c.querySelector(am(_));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(b.count++,b=l1.bind(b),c.then(b,b)),d.state.loading|=4,d.instance=x,se(x);return}x=c.ownerDocument||c,h=D3(h),(_=Is.get(_))&&Px(h,_),x=x.createElement("link"),se(x);var C=x;C._p=new Promise(function(M,G){C.onload=M,C.onerror=G}),Vr(x,"link",h),d.instance=x}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(b.count++,d=l1.bind(b),c.addEventListener("load",d),c.addEventListener("error",d))}}function EW(){if(cm===null)throw Error(r(475));var c=cm;return c.stylesheets&&c.count===0&&Ix(c,c.stylesheets),0<c.count?function(d){var h=setTimeout(function(){if(c.stylesheets&&Ix(c,c.stylesheets),c.unsuspend){var b=c.unsuspend;c.unsuspend=null,b()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(h)}}:null}function l1(){if(this.count--,this.count===0){if(this.stylesheets)Ix(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var c1=null;function Ix(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,c1=new Map,d.forEach(kW,c),c1=null,l1.call(c))}function kW(c,d){if(!(d.state.loading&4)){var h=c1.get(c);if(h)var b=h.get(null);else{h=new Map,c1.set(c,h);for(var _=c.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<_.length;x++){var C=_[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(h.set(C.dataset.precedence,C),b=C)}b&&h.set(null,b)}_=d.instance,C=_.getAttribute("data-precedence"),x=h.get(C)||b,x===b&&h.set(null,_),h.set(C,_),this.count++,b=l1.bind(this),_.addEventListener("load",b),_.addEventListener("error",b),x?x.parentNode.insertBefore(_,x.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(_,c.firstChild)),d.state.loading|=4}}var um={$$typeof:S,Provider:null,Consumer:null,_currentValue:We,_currentValue2:We,_threadCount:0};function TW(c,d,h,b,_,x,C,M){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.hiddenUpdates=wh(null),this.identifierPrefix=b,this.onUncaughtError=_,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function U3(c,d,h,b,_,x,C,M,G,ae,Se,Ae){return c=new TW(c,d,h,C,M,G,ae,Ae),d=1,x===!0&&(d|=24),x=Ki(3,null,null,d),c.current=x,x.stateNode=c,d=h_(),d.refCount++,c.pooledCache=d,d.refCount++,x.memoizedState={element:b,isDehydrated:h,cache:d},b_(x),c}function z3(c){return c?(c=ad,c):ad}function H3(c,d,h,b,_,x){_=z3(_),b.context===null?b.context=_:b.pendingContext=_,b=Tl(d),b.payload={element:h},x=x===void 0?null:x,x!==null&&(b.callback=x),h=Sl(c,b,d),h!==null&&(es(h,c,d),Uh(h,c,d))}function $3(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var h=c.retryLane;c.retryLane=h!==0&&h<d?h:d}}function Ox(c,d){$3(c,d),(c=c.alternate)&&$3(c,d)}function W3(c){if(c.tag===13){var d=od(c,67108864);d!==null&&es(d,c,67108864),Ox(c,67108864)}}var u1=!0;function SW(c,d,h,b){var _=ne.T;ne.T=null;var x=Ee.p;try{Ee.p=2,Mx(c,d,h,b)}finally{Ee.p=x,ne.T=_}}function CW(c,d,h,b){var _=ne.T;ne.T=null;var x=Ee.p;try{Ee.p=8,Mx(c,d,h,b)}finally{Ee.p=x,ne.T=_}}function Mx(c,d,h,b){if(u1){var _=Dx(b);if(_===null)_x(c,d,b,d1,h),q3(c,b);else if(NW(_,c,d,h,b))b.stopPropagation();else if(q3(c,b),d&4&&-1<AW.indexOf(c)){for(;_!==null;){var x=W(_);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=Ti(x.pendingLanes);if(C!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;C;){var G=1<<31-yt(C);M.entanglements[1]|=G,C&=~G}Vo(x),(Qt&6)===0&&(Yp=Ge()+500,rm(0))}}break;case 13:M=od(x,2),M!==null&&es(M,x,2),Xp(),Ox(x,2)}if(x=Dx(b),x===null&&_x(c,d,b,d1,h),x===_)break;_=x}_!==null&&b.stopPropagation()}else _x(c,d,b,null,h)}}function Dx(c){return c=Uv(c),Fx(c)}var d1=null;function Fx(c){if(d1=null,c=z(c),c!==null){var d=s(c);if(d===null)c=null;else{var h=d.tag;if(h===13){if(c=o(d),c!==null)return c;c=null}else if(h===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return d1=c,null}function j3(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case ji:return 2;case qi:return 8;case K:case le:return 32;case ye:return 268435456;default:return 32}default:return 32}}var Lx=!1,Vl=null,Ul=null,zl=null,dm=new Map,fm=new Map,Hl=[],AW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q3(c,d){switch(c){case"focusin":case"focusout":Vl=null;break;case"dragenter":case"dragleave":Ul=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":dm.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":fm.delete(d.pointerId)}}function hm(c,d,h,b,_,x){return c===null||c.nativeEvent!==x?(c={blockedOn:d,domEventName:h,eventSystemFlags:b,nativeEvent:x,targetContainers:[_]},d!==null&&(d=W(d),d!==null&&W3(d)),c):(c.eventSystemFlags|=b,d=c.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),c)}function NW(c,d,h,b,_){switch(d){case"focusin":return Vl=hm(Vl,c,d,h,b,_),!0;case"dragenter":return Ul=hm(Ul,c,d,h,b,_),!0;case"mouseover":return zl=hm(zl,c,d,h,b,_),!0;case"pointerover":var x=_.pointerId;return dm.set(x,hm(dm.get(x)||null,c,d,h,b,_)),!0;case"gotpointercapture":return x=_.pointerId,fm.set(x,hm(fm.get(x)||null,c,d,h,b,_)),!0}return!1}function G3(c){var d=z(c.target);if(d!==null){var h=s(d);if(h!==null){if(d=h.tag,d===13){if(d=o(h),d!==null){c.blockedOn=d,Mv(c.priority,function(){if(h.tag===13){var b=Zi();b=vh(b);var _=od(h,b);_!==null&&es(_,h,b),Ox(h,b)}});return}}else if(d===3&&h.stateNode.current.memoizedState.isDehydrated){c.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}c.blockedOn=null}function f1(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var h=Dx(c.nativeEvent);if(h===null){h=c.nativeEvent;var b=new h.constructor(h.type,h);Vv=b,h.target.dispatchEvent(b),Vv=null}else return d=W(h),d!==null&&W3(d),c.blockedOn=h,!1;d.shift()}return!0}function Y3(c,d,h){f1(c)&&h.delete(d)}function PW(){Lx=!1,Vl!==null&&f1(Vl)&&(Vl=null),Ul!==null&&f1(Ul)&&(Ul=null),zl!==null&&f1(zl)&&(zl=null),dm.forEach(Y3),fm.forEach(Y3)}function h1(c,d){c.blockedOn===d&&(c.blockedOn=null,Lx||(Lx=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,PW)))}var m1=null;function K3(c){m1!==c&&(m1=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){m1===c&&(m1=null);for(var d=0;d<c.length;d+=3){var h=c[d],b=c[d+1],_=c[d+2];if(typeof b!="function"){if(Fx(b||h)===null)continue;break}var x=W(h);x!==null&&(c.splice(d,3),d-=3,F_(x,{pending:!0,data:_,method:h.method,action:b},b,_))}}))}function mm(c){function d(G){return h1(G,c)}Vl!==null&&h1(Vl,c),Ul!==null&&h1(Ul,c),zl!==null&&h1(zl,c),dm.forEach(d),fm.forEach(d);for(var h=0;h<Hl.length;h++){var b=Hl[h];b.blockedOn===c&&(b.blockedOn=null)}for(;0<Hl.length&&(h=Hl[0],h.blockedOn===null);)G3(h),h.blockedOn===null&&Hl.shift();if(h=(c.ownerDocument||c).$$reactFormReplay,h!=null)for(b=0;b<h.length;b+=3){var _=h[b],x=h[b+1],C=_[Sr]||null;if(typeof x=="function")C||K3(h);else if(C){var M=null;if(x&&x.hasAttribute("formAction")){if(_=x,C=x[Sr]||null)M=C.formAction;else if(Fx(_)!==null)continue}else M=C.action;typeof M=="function"?h[b+1]=M:(h.splice(b,3),b-=3),K3(h)}}}function Bx(c){this._internalRoot=c}g1.prototype.render=Bx.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var h=d.current,b=Zi();H3(h,b,c,d,null,null)},g1.prototype.unmount=Bx.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;H3(c.current,2,null,c,null,null),Xp(),d[vl]=null}};function g1(c){this._internalRoot=c}g1.prototype.unstable_scheduleHydration=function(c){if(c){var d=lp();c={blockedOn:null,target:c,priority:d};for(var h=0;h<Hl.length&&d!==0&&d<Hl[h].priority;h++);Hl.splice(h,0,c),h===0&&G3(c)}};var X3=e.version;if(X3!=="19.1.0")throw Error(r(527,X3,"19.1.0"));Ee.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=l(d),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var RW={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p1.isDisabled&&p1.supportsFiber)try{Oe=p1.inject(RW),Ze=p1}catch{}}return gm.createRoot=function(c,d){if(!i(c))throw Error(r(299));var h=!1,b="",_=f4,x=h4,C=m4,M=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(x=d.onCaughtError),d.onRecoverableError!==void 0&&(C=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(M=d.unstable_transitionCallbacks)),d=U3(c,1,!1,null,null,h,b,_,x,C,M,null),c[vl]=d.current,vx(c),new Bx(d)},gm.hydrateRoot=function(c,d,h){if(!i(c))throw Error(r(299));var b=!1,_="",x=f4,C=h4,M=m4,G=null,ae=null;return h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(x=h.onUncaughtError),h.onCaughtError!==void 0&&(C=h.onCaughtError),h.onRecoverableError!==void 0&&(M=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(G=h.unstable_transitionCallbacks),h.formState!==void 0&&(ae=h.formState)),d=U3(c,1,!0,d,h??null,b,_,x,C,M,G,ae),d.context=z3(null),h=d.current,b=Zi(),b=vh(b),_=Tl(b),_.callback=null,Sl(h,_,b),h=b,d.current.lanes=h,xc(d,h),Vo(d),c[vl]=d.current,vx(c),new g1(d)},gm.version="19.1.0",gm}var sN;function zW(){if(sN)return Ux.exports;sN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ux.exports=UW(),Ux.exports}var HW=zW(),pm={},oN;function $W(){if(oN)return pm;oN=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.parse=o,pm.serialize=u;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,y){const v=new s,w=p.length;if(w<2)return v;const E=y?.decode||f;let k=0;do{const T=p.indexOf("=",k);if(T===-1)break;const S=p.indexOf(";",k),P=S===-1?w:S;if(T>P){k=p.lastIndexOf(";",T-1)+1;continue}const R=a(p,k,T),D=l(p,T,R),A=p.slice(R,D);if(v[A]===void 0){let F=a(p,T+1,P),V=l(p,P,F);const X=E(p.slice(F,V));v[A]=X}k=P+1}while(k<w);return v}function a(p,y,v){do{const w=p.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<v);return v}function l(p,y,v){for(;y>v;){const w=p.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return v}function u(p,y,v){const w=v?.encode||encodeURIComponent;if(!n.test(p))throw new TypeError(`argument name is invalid: ${p}`);const E=w(y);if(!e.test(E))throw new TypeError(`argument val is invalid: ${y}`);let k=p+"="+E;if(!v)return k;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);k+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);k+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);k+="; Path="+v.path}if(v.expires){if(!m(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);k+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(k+="; HttpOnly"),v.secure&&(k+="; Secure"),v.partitioned&&(k+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return k}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function m(p){return i.call(p)==="[object Date]"}return pm}$W();var aN="popstate";function WW(n={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return NE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Pg(i)}return qW(e,t,null,n)}function Fn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jW(){return Math.random().toString(36).substring(2,10)}function lN(n,e){return{usr:n.state,key:n.key,idx:e}}function NE(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Kf(e):e,state:t,key:e&&e.key||r||jW()}}function Pg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Kf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function qW(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function m(){a="POP";let E=f(),k=E==null?null:E-u;u=E,l&&l({action:a,location:w.location,delta:k})}function p(E,k){a="PUSH";let T=NE(w.location,E,k);u=f()+1;let S=lN(T,u),P=w.createHref(T);try{o.pushState(S,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(P)}s&&l&&l({action:a,location:w.location,delta:1})}function y(E,k){a="REPLACE";let T=NE(w.location,E,k);u=f();let S=lN(T,u),P=w.createHref(T);o.replaceState(S,"",P),s&&l&&l({action:a,location:w.location,delta:0})}function v(E){return GW(E)}let w={get action(){return a},get location(){return n(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(aN,m),l=E,()=>{i.removeEventListener(aN,m),l=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let k=v(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:p,replace:y,go(E){return o.go(E)}};return w}function GW(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Fn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Pg(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function e7(n,e,t="/"){return YW(n,e,t,!1)}function YW(n,e,t,r){let i=typeof e=="string"?Kf(e):e,s=el(i.pathname||"/",t);if(s==null)return null;let o=t7(n);KW(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=oj(s);a=ij(o[l],u,r)}return a}function t7(n,e=[],t=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Fn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=$a([r,l.relativePath]),f=t.concat(l);s.children&&s.children.length>0&&(Fn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),t7(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:nj(u,s.index),routesMeta:f})};return n.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of n7(s.path))i(s,o,a)}),e}function n7(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=n7(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function KW(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rj(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var XW=/^:[\w-]+$/,JW=3,QW=2,ZW=1,ej=10,tj=-2,cN=n=>n==="*";function nj(n,e){let t=n.split("/"),r=t.length;return t.some(cN)&&(r+=tj),e&&(r+=QW),t.filter(i=>!cN(i)).reduce((i,s)=>i+(XW.test(s)?JW:s===""?ZW:ej),r)}function rj(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function ij(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Ub({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!m&&u&&t&&!r[r.length-1].route.index&&(m=Ub({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:$a([s,m.pathname]),pathnameBase:uj($a([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=$a([s,m.pathnameBase]))}return o}function Ub(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=sj(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:m},p)=>{if(f==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[p];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function sj(n,e=!1,t=!0){Hs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function el(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function aj(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Kf(n):n;return{pathname:t?t.startsWith("/")?t:lj(t,e):e,search:dj(r),hash:fj(i)}}function lj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Wx(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bT(n){let e=cj(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function yT(n,e,t,r=!1){let i;typeof n=="string"?i=Kf(n):(i={...n},Fn(!i.pathname||!i.pathname.includes("?"),Wx("?","pathname","search",i)),Fn(!i.pathname||!i.pathname.includes("#"),Wx("#","pathname","hash",i)),Fn(!i.search||!i.search.includes("#"),Wx("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}a=m>=0?e[m]:"/"}let l=aj(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var $a=n=>n.join("/").replace(/\/\/+/g,"/"),uj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var r7=["POST","PUT","PATCH","DELETE"];new Set(r7);var mj=["GET",...r7];new Set(mj);var Xf=O.createContext(null);Xf.displayName="DataRouter";var nw=O.createContext(null);nw.displayName="DataRouterState";var i7=O.createContext({isTransitioning:!1});i7.displayName="ViewTransition";var gj=O.createContext(new Map);gj.displayName="Fetchers";var pj=O.createContext(null);pj.displayName="Await";var Ao=O.createContext(null);Ao.displayName="Navigation";var _0=O.createContext(null);_0.displayName="Location";var js=O.createContext({outlet:null,matches:[],isDataRoute:!1});js.displayName="Route";var wT=O.createContext(null);wT.displayName="RouteError";function bj(n,{relative:e}={}){Fn(Jf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Ao),{hash:i,pathname:s,search:o}=x0(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:$a([t,s])),r.createHref({pathname:a,search:o,hash:i})}function Jf(){return O.useContext(_0)!=null}function ul(){return Fn(Jf(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(_0).location}var s7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o7(n){O.useContext(Ao).static||O.useLayoutEffect(n)}function Jr(){let{isDataRoute:n}=O.useContext(js);return n?Ij():yj()}function yj(){Fn(Jf(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(Xf),{basename:e,navigator:t}=O.useContext(Ao),{matches:r}=O.useContext(js),{pathname:i}=ul(),s=JSON.stringify(bT(r)),o=O.useRef(!1);return o7(()=>{o.current=!0}),O.useCallback((l,u={})=>{if(Hs(o.current,s7),!o.current)return;if(typeof l=="number"){t.go(l);return}let f=yT(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$a([e,f.pathname])),(u.replace?t.replace:t.push)(f,u.state,u)},[e,t,s,i,n])}var wj=O.createContext(null);function vj(n){let e=O.useContext(js).outlet;return e&&O.createElement(wj.Provider,{value:n},e)}function vT(){let{matches:n}=O.useContext(js),e=n[n.length-1];return e?e.params:{}}function x0(n,{relative:e}={}){let{matches:t}=O.useContext(js),{pathname:r}=ul(),i=JSON.stringify(bT(t));return O.useMemo(()=>yT(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function _j(n,e){return a7(n,e)}function a7(n,e,t,r){Fn(Jf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=O.useContext(Ao),{matches:s}=O.useContext(js),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";l7(l,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let m=ul(),p;if(e){let k=typeof e=="string"?Kf(e):e;Fn(u==="/"||k.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${k.pathname}" was given in the \`location\` prop.`),p=k}else p=m;let y=p.pathname||"/",v=y;if(u!=="/"){let k=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=e7(n,{pathname:v});Hs(f||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Hs(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Sj(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:$a([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:$a([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,t,r);return e&&E?O.createElement(_0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},E):E}function xj(){let n=Rj(),e=hj(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:i},t):null,o)}var Ej=O.createElement(xj,null),kj=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(js.Provider,{value:this.props.routeContext},O.createElement(wT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tj({routeContext:n,match:e,children:t}){let r=O.useContext(Xf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(js.Provider,{value:n},t)}function Sj(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t?.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);Fn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(t)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:f,errors:m}=t,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,f)=>{let m,p=!1,y=null,v=null;t&&(m=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||Ej,o&&(a<0&&f===0?(l7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):a===f&&(p=!0,v=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,f+1)),E=()=>{let k;return m?k=y:p?k=v:u.route.Component?k=O.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=l,O.createElement(Tj,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:t!=null},children:k})};return t&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?O.createElement(kj,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}function _T(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cj(n){let e=O.useContext(Xf);return Fn(e,_T(n)),e}function Aj(n){let e=O.useContext(nw);return Fn(e,_T(n)),e}function Nj(n){let e=O.useContext(js);return Fn(e,_T(n)),e}function xT(n){let e=Nj(n),t=e.matches[e.matches.length-1];return Fn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Pj(){return xT("useRouteId")}function Rj(){let n=O.useContext(wT),e=Aj("useRouteError"),t=xT("useRouteError");return n!==void 0?n:e.errors?.[t]}function Ij(){let{router:n}=Cj("useNavigate"),e=xT("useNavigate"),t=O.useRef(!1);return o7(()=>{t.current=!0}),O.useCallback(async(i,s={})=>{Hs(t.current,s7),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var uN={};function l7(n,e,t){!e&&!uN[n]&&(uN[n]=!0,Hs(!1,t))}O.memo(Oj);function Oj({routes:n,future:e,state:t}){return a7(n,void 0,t,e)}function pf({to:n,replace:e,state:t,relative:r}){Fn(Jf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=O.useContext(Ao);Hs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=O.useContext(js),{pathname:o}=ul(),a=Jr(),l=yT(n,bT(s),o,r==="path"),u=JSON.stringify(l);return O.useEffect(()=>{a(JSON.parse(u),{replace:e,state:t,relative:r})},[a,u,r,e,t]),null}function c7(n){return vj(n.context)}function Xt(n){Fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mj({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Fn(!Jf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=O.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Kf(t));let{pathname:l="/",search:u="",hash:f="",state:m=null,key:p="default"}=t,y=O.useMemo(()=>{let v=el(l,o);return v==null?null:{location:{pathname:v,search:u,hash:f,state:m,key:p},navigationType:r}},[o,l,u,f,m,p,r]);return Hs(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:O.createElement(Ao.Provider,{value:a},O.createElement(_0.Provider,{children:e,value:y}))}function Dj({children:n,location:e}){return _j(PE(n),e)}function PE(n,e=[]){let t=[];return O.Children.forEach(n,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){t.push.apply(t,PE(r.props.children,s));return}Fn(r.type===Xt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=PE(r.props.children,s)),t.push(o)}),t}var ab="get",lb="application/x-www-form-urlencoded";function rw(n){return n!=null&&typeof n.tagName=="string"}function Fj(n){return rw(n)&&n.tagName.toLowerCase()==="button"}function Lj(n){return rw(n)&&n.tagName.toLowerCase()==="form"}function Bj(n){return rw(n)&&n.tagName.toLowerCase()==="input"}function Vj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Uj(n,e){return n.button===0&&(!e||e==="_self")&&!Vj(n)}function RE(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function zj(n,e){let t=RE(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var b1=null;function Hj(){if(b1===null)try{new FormData(document.createElement("form"),0),b1=!1}catch{b1=!0}return b1}var $j=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jx(n){return n!=null&&!$j.has(n)?(Hs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lb}"`),null):n}function Wj(n,e){let t,r,i,s,o;if(Lj(n)){let a=n.getAttribute("action");r=a?el(a,e):null,t=n.getAttribute("method")||ab,i=jx(n.getAttribute("enctype"))||lb,s=new FormData(n)}else if(Fj(n)||Bj(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(r=l?el(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||ab,i=jx(n.getAttribute("formenctype"))||jx(a.getAttribute("enctype"))||lb,s=new FormData(a,n),!Hj()){let{name:u,type:f,value:m}=n;if(f==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,m)}}else{if(rw(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ab,r=null,i=lb,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function ET(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function jj(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qj(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Gj(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await jj(s,t);return o.links?o.links():[]}return[]}));return Jj(r.flat(1).filter(qj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function dN(n,e,t,r,i,s){let o=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,a=(l,u)=>t[u].pathname!==l.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Yj(n,e,{includeHydrateFallback:t}={}){return Kj(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Kj(n){return[...new Set(n)]}function Xj(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Jj(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Xj(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qj=new Set([100,101,204,205]);function Zj(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&el(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function u7(){let n=O.useContext(Xf);return ET(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function eq(){let n=O.useContext(nw);return ET(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var kT=O.createContext(void 0);kT.displayName="FrameworkContext";function d7(){let n=O.useContext(kT);return ET(n,"You must render this element inside a <HydratedRouter> element"),n}function tq(n,e){let t=O.useContext(kT),[r,i]=O.useState(!1),[s,o]=O.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:m}=e,p=O.useRef(null);O.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let w=k=>{k.forEach(T=>{o(T.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[n]),O.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,p,{}]:[s,p,{onFocus:bm(a,y),onBlur:bm(l,v),onMouseEnter:bm(u,y),onMouseLeave:bm(f,v),onTouchStart:bm(m,y)}]:[!1,p,{}]}function bm(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function nq({page:n,...e}){let{router:t}=u7(),r=O.useMemo(()=>e7(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(iq,{page:n,matches:r,...e}):null}function rq(n){let{manifest:e,routeModules:t}=d7(),[r,i]=O.useState([]);return O.useEffect(()=>{let s=!1;return Gj(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function iq({page:n,matches:e,...t}){let r=ul(),{manifest:i,routeModules:s}=d7(),{basename:o}=u7(),{loaderData:a,matches:l}=eq(),u=O.useMemo(()=>dN(n,e,l,i,r,"data"),[n,e,l,i,r]),f=O.useMemo(()=>dN(n,e,l,i,r,"assets"),[n,e,l,i,r]),m=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(k=>{let T=i.routes[k.route.id];!T||!T.hasLoader||(!u.some(S=>S.route.id===k.route.id)&&k.route.id in a&&s[k.route.id]?.shouldRevalidate||T.hasClientLoader?w=!0:v.add(k.route.id))}),v.size===0)return[];let E=Zj(n,o);return w&&v.size>0&&E.searchParams.set("_routes",e.filter(k=>v.has(k.route.id)).map(k=>k.route.id).join(",")),[E.pathname+E.search]},[o,a,r,i,u,e,n,s]),p=O.useMemo(()=>Yj(f,i),[f,i]),y=rq(f);return O.createElement(O.Fragment,null,m.map(v=>O.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),p.map(v=>O.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),y.map(({key:v,link:w})=>O.createElement("link",{key:v,...w})))}function sq(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var f7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f7&&(window.__reactRouterVersion="7.6.3")}catch{}function oq({basename:n,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=WW({window:t,v5Compat:!0}));let i=r.current,[s,o]=O.useState({action:i.action,location:i.location}),a=O.useCallback(l=>{O.startTransition(()=>o(l))},[o]);return O.useLayoutEffect(()=>i.listen(a),[i,a]),O.createElement(Mj,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var h7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m7=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:m,...p},y){let{basename:v}=O.useContext(Ao),w=typeof u=="string"&&h7.test(u),E,k=!1;if(typeof u=="string"&&w&&(E=u,f7))try{let V=new URL(window.location.href),X=u.startsWith("//")?new URL(V.protocol+u):new URL(u),re=el(X.pathname,v);X.origin===V.origin&&re!=null?u=re+X.search+X.hash:k=!0}catch{Hs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=bj(u,{relative:i}),[S,P,R]=tq(r,p),D=cq(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:m});function A(V){e&&e(V),V.defaultPrevented||D(V)}let F=O.createElement("a",{...p,...R,href:E||T,onClick:k||s?e:A,ref:sq(y,P),target:l,"data-discover":!w&&t==="render"?"true":void 0});return S&&!w?O.createElement(O.Fragment,null,F,O.createElement(nq,{page:T})):F});m7.displayName="Link";var ec=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},f){let m=x0(o,{relative:u.relative}),p=ul(),y=O.useContext(nw),{navigator:v,basename:w}=O.useContext(Ao),E=y!=null&&mq(m)&&a===!0,k=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,T=p.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&w&&(S=el(S,w)||S);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let R=T===k||!i&&T.startsWith(k)&&T.charAt(P)==="/",D=S!=null&&(S===k||!i&&S.startsWith(k)&&S.charAt(k.length)==="/"),A={isActive:R,isPending:D,isTransitioning:E},F=R?e:void 0,V;typeof r=="function"?V=r(A):V=[r,R?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let X=typeof s=="function"?s(A):s;return O.createElement(m7,{...u,"aria-current":F,className:V,ref:f,style:X,to:o,viewTransition:a},typeof l=="function"?l(A):l)});ec.displayName="NavLink";var aq=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=ab,action:a,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:m,...p},y)=>{let v=fq(),w=hq(a,{relative:u}),E=o.toLowerCase()==="get"?"get":"post",k=typeof a=="string"&&h7.test(a),T=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let P=S.nativeEvent.submitter,R=P?.getAttribute("formmethod")||o;v(P||S.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:m})};return O.createElement("form",{ref:y,method:E,action:w,onSubmit:r?l:T,...p,"data-discover":!k&&n==="render"?"true":void 0})});aq.displayName="Form";function lq(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g7(n){let e=O.useContext(Xf);return Fn(e,lq(n)),e}function cq(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Jr(),l=ul(),u=x0(n,{relative:s});return O.useCallback(f=>{if(Uj(f,e)){f.preventDefault();let m=t!==void 0?t:Pg(l)===Pg(u);a(n,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,t,r,e,n,i,s,o])}function p7(n){Hs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(RE(n)),t=O.useRef(!1),r=ul(),i=O.useMemo(()=>zj(r.search,t.current?null:e.current),[r.search]),s=Jr(),o=O.useCallback((a,l)=>{const u=RE(typeof a=="function"?a(i):a);t.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var uq=0,dq=()=>`__${String(++uq)}__`;function fq(){let{router:n}=g7("useSubmit"),{basename:e}=O.useContext(Ao),t=Pj();return O.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=Wj(r,e);if(i.navigate===!1){let f=i.fetcherKey||dq();await n.fetch(f,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function hq(n,{relative:e}={}){let{basename:t}=O.useContext(Ao),r=O.useContext(js);Fn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...x0(n||".",{relative:e})},o=ul();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(m=>m).forEach(m=>a.append("index",m));let f=a.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:$a([t,s.pathname])),Pg(s)}function mq(n,e={}){let t=O.useContext(i7);Fn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g7("useViewTransitionState"),i=x0(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=el(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=el(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ub(i.pathname,o)!=null||Ub(i.pathname,s)!=null}[...Qj];var qx={exports:{}},Gx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function gq(){if(fN)return Gx;fN=1;var n=tw();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,o=n.useMemo,a=n.useDebugValue;return Gx.useSyncExternalStoreWithSelector=function(l,u,f,m,p){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function E(R){if(!k){if(k=!0,T=R,R=m(R),p!==void 0&&v.hasValue){var D=v.value;if(p(D,R))return S=D}return S=R}if(D=S,t(T,R))return D;var A=m(R);return p!==void 0&&p(D,A)?(T=R,D):(T=R,S=A)}var k=!1,T,S,P=f===void 0?null:f;return[function(){return E(u())},P===null?void 0:function(){return E(P())}]},[u,f,m,p]);var w=r(l,y[0],y[1]);return s(function(){v.hasValue=!0,v.value=w},[w]),a(w),w},Gx}var hN;function pq(){return hN||(hN=1,qx.exports=gq()),qx.exports}var bq=pq();function yq(n){n()}function wq(){let n=null,e=null;return{clear(){n=null,e=null},notify(){yq(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var mN={notify(){},get:()=>[]};function vq(n,e){let t,r=mN,i=0,s=!1;function o(w){f();const E=r.subscribe(w);let k=!1;return()=>{k||(k=!0,E(),m())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return s}function f(){i++,t||(t=n.subscribe(l),r=wq())}function m(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=mN)}function p(){s||(s=!0,f())}function y(){s&&(s=!1,m())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return v}var _q=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xq=_q(),Eq=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kq=Eq(),Tq=()=>xq||kq?O.useLayoutEffect:O.useEffect,Sq=Tq(),Cq=Symbol.for("react-redux-context"),Aq=typeof globalThis<"u"?globalThis:{};function Nq(){if(!O.createContext)return{};const n=Aq[Cq]??=new Map;let e=n.get(O.createContext);return e||(e=O.createContext(null),n.set(O.createContext,e)),e}var ic=Nq();function Pq(n){const{children:e,context:t,serverState:r,store:i}=n,s=O.useMemo(()=>{const l=vq(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=O.useMemo(()=>i.getState(),[i]);Sq(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=t||ic;return O.createElement(a.Provider,{value:s},e)}var Rq=Pq;function TT(n=ic){return function(){return O.useContext(n)}}var b7=TT();function y7(n=ic){const e=n===ic?b7:TT(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var Iq=y7();function Oq(n=ic){const e=n===ic?Iq:y7(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var mr=Oq(),Mq=(n,e)=>n===e;function Dq(n=ic){const e=n===ic?b7:TT(n),t=(r,i={})=>{const{equalityFn:s=Mq}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:a,subscription:l,getServerState:u}=o;O.useRef(!0);const f=O.useCallback({[r.name](p){return r(p)}}[r.name],[r]),m=bq.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,f,s);return O.useDebugValue(m),m};return Object.assign(t,{withTypes:()=>t}),t}var Jn=Dq();/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lq=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),gN=n=>{const e=Lq(n);return e.charAt(0).toUpperCase()+e.slice(1)},w7=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Bq=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>O.createElement("svg",{ref:l,...Vq,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:w7("lucide",i),...!s&&!Bq(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,f])=>O.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=O.forwardRef(({className:r,...i},s)=>O.createElement(Uq,{ref:s,iconNode:e,className:w7(`lucide-${Fq(gN(n))}`,`lucide-${n}`,r),...i}));return t.displayName=gN(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Hq=rt("activity",zq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ST=rt("arrow-right",$q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],jq=rt("arrow-up",Wq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Gq=rt("battery",qq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],Kq=rt("book-check",Yq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jq=rt("book-open",Xq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]],Zq=rt("book-x",Qq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],pN=rt("briefcase",eG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nG=rt("calendar",tG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E0=rt("chevron-down",rG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gc=rt("chevron-left",iG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dl=rt("chevron-right",sG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],v7=rt("chevrons-left",oG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],_7=rt("chevrons-right",aG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bN=rt("circle-check-big",lG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uG=rt("circle-check",cG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fG=rt("clock",dG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],mG=rt("database",hG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pG=rt("eye-off",gG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yG=rt("eye",bG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],x7=rt("file-down",wG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],_G=rt("folder-input",vG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],EG=rt("folder",xG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],TG=rt("funnel",kG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],CG=rt("globe",SG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],yN=rt("headphones",AG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],wN=rt("heart-handshake",NG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],RG=rt("heart",PG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],OG=rt("house",IG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DG=rt("image",MG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],E7=rt("layers",FG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],BG=rt("layout-grid",LG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cu=rt("loader-circle",VG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zG=rt("log-out",UG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CT=rt("mail",HG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],k7=rt("map-pin",$G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],T7=rt("menu",WG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],qG=rt("message-square",jG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],S7=rt("mic",GG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],KG=rt("newspaper",YG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],C7=rt("package-plus",XG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],QG=rt("package",JG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],eY=rt("pen-line",ZG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],A7=rt("pen",tY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],N7=rt("pencil",nY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],bu=rt("phone",rY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qf=rt("plus",iY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],P7=rt("radio",sY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aY=rt("refresh-cw",oY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],cY=rt("rotate-ccw",lY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iw=rt("save",uY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],k0=rt("search",dY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hY=rt("settings",fY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gY=rt("shield-check",mY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bY=rt("shield",pY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],wY=rt("shopping-cart",yY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],R7=rt("square-pen",vY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],I7=rt("tag",_Y);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Zf=rt("trash-2",xY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],kY=rt("trending-down",EY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],SY=rt("truck",TY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AY=rt("user-check",CY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zb=rt("user",NY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],O7=rt("users",PY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],IY=rt("volume-2",RY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sw=rt("x",OY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],M7=rt("zap",MY);function DY({isSidebarOpen:n,onToggleSidebar:e}){const{userInfo:t}=Jn(l=>l.auth),r=Jr(),[i,s]=O.useState("system"),o=l=>{s(u=>u===l?null:l)},a=[{id:"system",label:"H thng",icon:hY,items:[{label:"Trang ch",path:"/home"},{label:"i mt khu",path:"/profile/change-password"},t.role==="admin"&&{label:"Lm mi mt khu NV",path:"/profile/change-password-staff"},{label:"Thng tin ti khon",path:"/profile/info"}].filter(Boolean)},{id:"products",label:"Sn phm",icon:QG,items:[{label:"Danh mc chung",path:"/products/categories"},{label:"Danh sch sn phm",path:"/products/list"}]},{id:"post",label:"Bi vit",icon:KG,items:[{label:"ng tin mi",path:"/news/detail"},{label:"Danh sch bi vit",path:"/news/manager"}]},t.role==="admin"&&{id:"hr",label:"Qun l nhn s",icon:nG,items:[{label:"Danh sch nhn vin",path:"/hr/employees"}]}].filter(Boolean);return g.createElement("aside",{className:`fixed top-0 left-0 h-screen flex flex-col text-white transition-all duration-300 z-50 shadow-xl
        ${n?"w-[288px]":"w-0 lg:w-[80px]"} 
        bg-gradient-to-b from-[#0081cd] to-[#026aa8]`},g.createElement("div",{className:`h-full flex flex-col overflow-hidden ${!n&&"lg:flex hidden"}`},g.createElement("div",{className:"flex-shrink-0"},n?g.createElement(g.Fragment,null,g.createElement("div",{className:"bg-[#026aa8] p-4 flex items-center justify-between shadow-md"},g.createElement("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>r("/dashboard")},g.createElement("img",{src:"/logo.png",alt:"logo",className:"w-10 h-10 object-contain rounded-lg"}),g.createElement("span",{className:"font-bold text-base lg:text-lg whitespace-nowrap"},"CREATIMICSTUDIO")),g.createElement("button",{onClick:e,className:"lg:hidden p-1 hover:bg-white/10 rounded-lg"},g.createElement(sw,{className:"w-6 h-6"}))),g.createElement("div",{className:"p-4 flex items-center gap-3 border-b border-white/20 bg-[#026aa8]/50"},g.createElement("div",{className:"bg-white rounded-full p-1 flex-shrink-0 shadow-md"},g.createElement("div",{className:"bg-gradient-to-br from-gray-200 to-gray-300 rounded-full w-12 h-12 flex items-center justify-center"},g.createElement(zb,{className:"w-7 h-7 text-gray-600"}))),g.createElement("div",{className:"overflow-hidden"},g.createElement("div",{className:"text-xs text-white/80"},"Xin cho,"),g.createElement("div",{className:"font-semibold text-sm truncate"},t?.userName||"Ngi dng")))):g.createElement("div",{className:"hidden lg:flex p-4 items-center justify-center h-20 border-b border-white/20"},g.createElement("img",{src:"/logo.png",alt:"logo",className:"w-10 h-10 object-contain rounded-lg shadow-md cursor-pointer",onClick:e}))),g.createElement("nav",{className:"flex-1 overflow-y-auto py-2 scrollbar-hide"},n?g.createElement("div",{className:"px-2 space-y-1"},a.map(l=>g.createElement("div",{key:l.id},g.createElement("button",{onClick:()=>o(l.id),className:`w-full px-3 py-2.5 flex items-center gap-3 rounded-lg hover:bg-white/10 transition-all ${i===l.id?"bg-white/15 shadow-sm":""}`},g.createElement(l.icon,{className:"w-5 h-5 flex-shrink-0"}),g.createElement("span",{className:"flex-1 text-left text-sm font-medium"},l.label),g.createElement(E0,{className:`w-4 h-4 transition-transform ${i===l.id?"rotate-180":""}`})),i===l.id&&g.createElement("div",{className:"mt-1 ml-2 space-y-0.5"},l.items.map(u=>g.createElement(ec,{key:u.path,to:u.path,onClick:()=>window.innerWidth<1024&&e?.(),className:({isActive:f})=>`flex items-center gap-2 px-3 py-2 pl-10 rounded-lg transition-all text-sm text-white no-underline ${f?"bg-white/20 font-semibold":"hover:bg-white/10"}`},g.createElement("div",{className:"w-1.5 h-1.5 bg-white rounded-full flex-shrink-0"}),g.createElement("span",{className:"truncate"},u.label)))))),g.createElement(ec,{to:"/recruitment/manager",className:({isActive:l})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm text-white no-underline ${l?"bg-white/20 font-semibold":"hover:bg-white/10"}`},g.createElement(pN,{className:"w-5 h-5 flex-shrink-0"}),g.createElement("span",{className:"flex-1 text-left font-medium"},"ng tuyn dng"))):g.createElement("div",{className:"hidden lg:flex flex-col items-center gap-4 px-2"},a.map(l=>g.createElement("button",{key:l.id,onClick:()=>{e(),s(l.id)},className:"p-3 hover:bg-white/10 rounded-lg transition-colors w-full flex justify-center",title:l.label},g.createElement(l.icon,{className:"w-6 h-6"}))),g.createElement(ec,{to:"/recruitment/post-job",className:"p-3 hover:bg-white/10 rounded-lg w-full flex justify-center text-white",title:"ng tuyn dng"},g.createElement(pN,{className:"w-6 h-6"}))))))}function zr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var FY=typeof Symbol=="function"&&Symbol.observable||"@@observable",vN=FY,Yx=()=>Math.random().toString(36).substring(7).split("").join("."),LY={INIT:`@@redux/INIT${Yx()}`,REPLACE:`@@redux/REPLACE${Yx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yx()}`},Hb=LY;function AT(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function D7(n,e,t){if(typeof n!="function")throw new Error(zr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(zr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(zr(1));return t(D7)(n,e)}let r=n,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((E,k)=>{o.set(k,E)}))}function f(){if(l)throw new Error(zr(3));return i}function m(E){if(typeof E!="function")throw new Error(zr(4));if(l)throw new Error(zr(5));let k=!0;u();const T=a++;return o.set(T,E),function(){if(k){if(l)throw new Error(zr(6));k=!1,u(),o.delete(T),s=null}}}function p(E){if(!AT(E))throw new Error(zr(7));if(typeof E.type>"u")throw new Error(zr(8));if(typeof E.type!="string")throw new Error(zr(17));if(l)throw new Error(zr(9));try{l=!0,i=r(i,E)}finally{l=!1}return(s=o).forEach(T=>{T()}),E}function y(E){if(typeof E!="function")throw new Error(zr(10));r=E,p({type:Hb.REPLACE})}function v(){const E=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(zr(11));function T(){const P=k;P.next&&P.next(f())}return T(),{unsubscribe:E(T)}},[vN](){return this}}}return p({type:Hb.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:y,[vN]:v}}function BY(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Hb.INIT})>"u")throw new Error(zr(12));if(typeof t(void 0,{type:Hb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zr(13))})}function VY(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const r=Object.keys(t);let i;try{BY(t)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let f=0;f<r.length;f++){const m=r[f],p=t[m],y=o[m],v=p(y,a);if(typeof v>"u")throw a&&a.type,new Error(zr(14));u[m]=v,l=l||v!==y}return l=l||r.length!==Object.keys(o).length,l?u:o}}function $b(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function UY(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(zr(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=n.map(l=>l(o));return s=$b(...a)(i.dispatch),{...i,dispatch:s}}}function zY(n){return AT(n)&&"type"in n&&typeof n.type=="string"}var F7=Symbol.for("immer-nothing"),_N=Symbol.for("immer-draftable"),ps=Symbol.for("immer-state");function co(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Lf=Object.getPrototypeOf;function yu(n){return!!n&&!!n[ps]}function tl(n){return n?L7(n)||Array.isArray(n)||!!n[_N]||!!n.constructor?.[_N]||aw(n)||lw(n):!1}var HY=Object.prototype.constructor.toString();function L7(n){if(!n||typeof n!="object")return!1;const e=Lf(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===HY}function Wb(n,e){ow(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function ow(n){const e=n[ps];return e?e.type_:Array.isArray(n)?1:aw(n)?2:lw(n)?3:0}function IE(n,e){return ow(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function B7(n,e,t){const r=ow(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function $Y(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function aw(n){return n instanceof Map}function lw(n){return n instanceof Set}function Gc(n){return n.copy_||n.base_}function OE(n,e){if(aw(n))return new Map(n);if(lw(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=L7(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[ps];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Lf(n),r)}else{const r=Lf(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function NT(n,e=!1){return cw(n)||yu(n)||!tl(n)||(ow(n)>1&&(n.set=n.add=n.clear=n.delete=WY),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>NT(r,!0))),n}function WY(){co(2)}function cw(n){return Object.isFrozen(n)}var jY={};function wu(n){const e=jY[n];return e||co(0,n),e}var Rg;function V7(){return Rg}function qY(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xN(n,e){e&&(wu("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function ME(n){DE(n),n.drafts_.forEach(GY),n.drafts_=null}function DE(n){n===Rg&&(Rg=n.parent_)}function EN(n){return Rg=qY(Rg,n)}function GY(n){const e=n[ps];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kN(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ps].modified_&&(ME(e),co(4)),tl(n)&&(n=jb(e,n),e.parent_||qb(e,n)),e.patches_&&wu("Patches").generateReplacementPatches_(t[ps].base_,n,e.patches_,e.inversePatches_)):n=jb(e,t,[]),ME(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==F7?n:void 0}function jb(n,e,t){if(cw(e))return e;const r=e[ps];if(!r)return Wb(e,(i,s)=>TN(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return qb(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Wb(s,(a,l)=>TN(n,r,i,a,l,t,o)),qb(n,i,!1),t&&n.patches_&&wu("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function TN(n,e,t,r,i,s,o){if(yu(i)){const a=s&&e&&e.type_!==3&&!IE(e.assigned_,r)?s.concat(r):void 0,l=jb(n,i,a);if(B7(t,r,l),yu(l))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if(tl(i)&&!cw(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;jb(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&qb(n,i)}}function qb(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&NT(e,t)}function YY(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:V7(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=PT;t&&(i=[r],s=Ig);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var PT={get(n,e){if(e===ps)return n;const t=Gc(n);if(!IE(t,e))return KY(n,t,e);const r=t[e];return n.finalized_||!tl(r)?r:r===Kx(n.base_,e)?(Xx(n),n.copy_[e]=LE(r,n)):r},has(n,e){return e in Gc(n)},ownKeys(n){return Reflect.ownKeys(Gc(n))},set(n,e,t){const r=U7(Gc(n),e);if(r?.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=Kx(Gc(n),e),s=i?.[ps];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if($Y(t,i)&&(t!==void 0||IE(n.base_,e)))return!0;Xx(n),FE(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Kx(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Xx(n),FE(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Gc(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){co(11)},getPrototypeOf(n){return Lf(n.base_)},setPrototypeOf(){co(12)}},Ig={};Wb(PT,(n,e)=>{Ig[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ig.deleteProperty=function(n,e){return Ig.set.call(this,n,e,void 0)};Ig.set=function(n,e,t){return PT.set.call(this,n[0],e,t,n[0])};function Kx(n,e){const t=n[ps];return(t?Gc(t):n)[e]}function KY(n,e,t){const r=U7(e,t);return r?"value"in r?r.value:r.get?.call(n.draft_):void 0}function U7(n,e){if(!(e in n))return;let t=Lf(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Lf(t)}}function FE(n){n.modified_||(n.modified_=!0,n.parent_&&FE(n.parent_))}function Xx(n){n.copy_||(n.copy_=OE(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var XY=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...u){return o.produce(l,f=>t.call(this,f,...u))}}typeof t!="function"&&co(6),r!==void 0&&typeof r!="function"&&co(7);let i;if(tl(e)){const s=EN(this),o=LE(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?ME(s):DE(s)}return xN(s,r),kN(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===F7&&(i=void 0),this.autoFreeze_&&NT(i,!0),r){const s=[],o=[];wu("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else co(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){tl(n)||co(8),yu(n)&&(n=JY(n));const e=EN(this),t=LE(n,void 0);return t[ps].isManual_=!0,DE(e),t}finishDraft(n,e){const t=n&&n[ps];(!t||!t.isManual_)&&co(9);const{scope_:r}=t;return xN(r,e),kN(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=wu("Patches").applyPatches_;return yu(n)?r(n,e):this.produce(n,i=>r(i,e))}};function LE(n,e){const t=aw(n)?wu("MapSet").proxyMap_(n,e):lw(n)?wu("MapSet").proxySet_(n,e):YY(n,e);return(e?e.scope_:V7()).drafts_.push(t),t}function JY(n){return yu(n)||co(10,n),z7(n)}function z7(n){if(!tl(n)||cw(n))return n;const e=n[ps];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=OE(n,e.scope_.immer_.useStrictShallowCopy_)}else t=OE(n,!0);return Wb(t,(r,i)=>{B7(t,r,z7(i))}),e&&(e.finalized_=!1),t}var bs=new XY,H7=bs.produce;bs.produceWithPatches.bind(bs);bs.setAutoFreeze.bind(bs);bs.setUseStrictShallowCopy.bind(bs);bs.applyPatches.bind(bs);bs.createDraft.bind(bs);bs.finishDraft.bind(bs);function $7(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var QY=$7(),ZY=$7,eK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$b:$b.apply(null,arguments)},tK=n=>n&&typeof n.match=="function";function tg(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(Wa(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>zY(r)&&r.type===n,t}var W7=class $m extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$m.prototype)}static get[Symbol.species](){return $m}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new $m(...e[0].concat(this)):new $m(...e.concat(this))}};function SN(n){return tl(n)?H7(n,()=>{}):n}function y1(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function nK(n){return typeof n=="boolean"}var rK=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new W7;return t&&(nK(t)?o.push(QY):o.push(ZY(t.extraArgument))),o},iK="RTK_autoBatch",CN=n=>e=>{setTimeout(e,n)},sK=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CN(10):n.type==="callback"?n.queueNotification:CN(n.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),p=r.subscribe(m);return a.add(f),()=>{p(),a.delete(f)}},dispatch(f){try{return i=!f?.meta?.[iK],s=!i,s&&(o||(o=!0,l(u))),r.dispatch(f)}finally{i=!0}}})},oK=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new W7(n);return r&&i.push(sK(typeof r=="object"?r:void 0)),i};function aK(n){const e=rK(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(AT(t))a=VY(t);else throw new Error(Wa(1));let l;typeof r=="function"?l=r(e):l=e();let u=$b;i&&(u=eK({trace:!1,...typeof i=="object"&&i}));const f=UY(...l),m=oK(f);let p=typeof o=="function"?o(m):m();const y=u(...p);return D7(a,s,y)}function j7(n){const e={},t=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Wa(28));if(a in e)throw new Error(Wa(29));return e[a]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function lK(n){return typeof n=="function"}function cK(n,e){let[t,r,i]=j7(e),s;if(lK(n))s=()=>SN(n());else{const a=SN(n);s=()=>a}function o(a=s(),l){let u=[t[l.type],...r.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[i]),u.reduce((f,m)=>{if(m)if(yu(f)){const y=m(f,l);return y===void 0?f:y}else{if(tl(f))return H7(f,p=>m(p,l));{const p=m(f,l);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},a)}return o.getInitialState=s,o}var uK=(n,e)=>tK(n)?n.match(e):n(e);function dK(...n){return e=>n.some(t=>uK(t,e))}var fK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hK=(n=21)=>{let e="",t=n;for(;t--;)e+=fK[Math.random()*64|0];return e},mK=["name","message","stack","code"],Jx=class{constructor(n,e){this.payload=n,this.meta=e}_type},AN=class{constructor(n,e){this.payload=n,this.meta=e}_type},gK=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of mK)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},NN="External signal was aborted",qs=(()=>{function n(e,t,r){const i=tg(e+"/fulfilled",(l,u,f,m)=>({payload:l,meta:{...m||{},arg:f,requestId:u,requestStatus:"fulfilled"}})),s=tg(e+"/pending",(l,u,f)=>({payload:void 0,meta:{...f||{},arg:u,requestId:l,requestStatus:"pending"}})),o=tg(e+"/rejected",(l,u,f,m,p)=>({payload:m,error:(r&&r.serializeError||gK)(l||"Rejected"),meta:{...p||{},arg:f,requestId:u,rejectedWithValue:!!m,requestStatus:"rejected",aborted:l?.name==="AbortError",condition:l?.name==="ConditionError"}}));function a(l,{signal:u}={}){return(f,m,p)=>{const y=r?.idGenerator?r.idGenerator(l):hK(),v=new AbortController;let w,E;function k(S){E=S,v.abort()}u&&(u.aborted?k(NN):u.addEventListener("abort",()=>k(NN),{once:!0}));const T=async function(){let S;try{let R=r?.condition?.(l,{getState:m,extra:p});if(bK(R)&&(R=await R),R===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const D=new Promise((A,F)=>{w=()=>{F({name:"AbortError",message:E||"Aborted"})},v.signal.addEventListener("abort",w)});f(s(y,l,r?.getPendingMeta?.({requestId:y,arg:l},{getState:m,extra:p}))),S=await Promise.race([D,Promise.resolve(t(l,{dispatch:f,getState:m,extra:p,requestId:y,signal:v.signal,abort:k,rejectWithValue:(A,F)=>new Jx(A,F),fulfillWithValue:(A,F)=>new AN(A,F)})).then(A=>{if(A instanceof Jx)throw A;return A instanceof AN?i(A.payload,y,l,A.meta):i(A,y,l)})])}catch(R){S=R instanceof Jx?o(null,y,l,R.payload,R.meta):o(R,y,l)}finally{w&&v.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition||f(S),S}();return Object.assign(T,{abort:k,requestId:y,arg:l,unwrap(){return T.then(pK)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:dK(o,i),typePrefix:e})}return n.withTypes=()=>n,n})();function pK(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function bK(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var yK=Symbol.for("rtk-slice-createasyncthunk");function wK(n,e){return`${n}/${e}`}function vK({creators:n}={}){const e=n?.asyncThunk?.[yK];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Wa(11));const o=(typeof r.reducers=="function"?r.reducers(xK()):r.reducers)||{},a=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,P){const R=typeof S=="string"?S:S.type;if(!R)throw new Error(Wa(12));if(R in l.sliceCaseReducersByType)throw new Error(Wa(13));return l.sliceCaseReducersByType[R]=P,u},addMatcher(S,P){return l.sliceMatchers.push({matcher:S,reducer:P}),u},exposeAction(S,P){return l.actionCreators[S]=P,u},exposeCaseReducer(S,P){return l.sliceCaseReducersByName[S]=P,u}};a.forEach(S=>{const P=o[S],R={reducerName:S,type:wK(i,S),createNotation:typeof r.reducers=="function"};kK(P)?SK(R,P,u,e):EK(R,P,u)});function f(){const[S={},P=[],R=void 0]=typeof r.extraReducers=="function"?j7(r.extraReducers):[r.extraReducers],D={...S,...l.sliceCaseReducersByType};return cK(r.initialState,A=>{for(let F in D)A.addCase(F,D[F]);for(let F of l.sliceMatchers)A.addMatcher(F.matcher,F.reducer);for(let F of P)A.addMatcher(F.matcher,F.reducer);R&&A.addDefaultCase(R)})}const m=S=>S,p=new Map,y=new WeakMap;let v;function w(S,P){return v||(v=f()),v(S,P)}function E(){return v||(v=f()),v.getInitialState()}function k(S,P=!1){function R(A){let F=A[S];return typeof F>"u"&&P&&(F=y1(y,R,E)),F}function D(A=m){const F=y1(p,P,()=>new WeakMap);return y1(F,A,()=>{const V={};for(const[X,re]of Object.entries(r.selectors??{}))V[X]=_K(re,A,()=>y1(y,A,E),P);return V})}return{reducerPath:S,getSelectors:D,get selectors(){return D(R)},selectSlice:R}}const T={name:i,reducer:w,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:E,...k(s),injectInto(S,{reducerPath:P,...R}={}){const D=P??s;return S.inject({reducerPath:D,reducer:w},R),{...T,...k(D,!0)}}};return T}}function _K(n,e,t,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=t()),n(a,...o)}return i.unwrapped=n,i}var eh=vK();function xK(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function EK({type:n,reducerName:e,createNotation:t},r,i){let s,o;if("reducer"in r){if(t&&!TK(r))throw new Error(Wa(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?tg(n,o):tg(n))}function kK(n){return n._reducerDefinitionType==="asyncThunk"}function TK(n){return n._reducerDefinitionType==="reducerWithPrepare"}function SK({type:n,reducerName:e},t,r,i){if(!i)throw new Error(Wa(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:f}=t,m=i(n,s,f);r.exposeAction(e,m),o&&r.addCase(m.fulfilled,o),a&&r.addCase(m.pending,a),l&&r.addCase(m.rejected,l),u&&r.addMatcher(m.settled,u),r.exposeCaseReducer(e,{fulfilled:o||w1,pending:a||w1,rejected:l||w1,settled:u||w1})}function w1(){}function Wa(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}function q7(n,e){return function(){return n.apply(e,arguments)}}const{toString:CK}=Object.prototype,{getPrototypeOf:RT}=Object,{iterator:uw,toStringTag:G7}=Symbol,dw=(n=>e=>{const t=CK.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),No=n=>(n=n.toLowerCase(),e=>dw(e)===n),fw=n=>e=>typeof e===n,{isArray:th}=Array,Og=fw("undefined");function AK(n){return n!==null&&!Og(n)&&n.constructor!==null&&!Og(n.constructor)&&Fi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Y7=No("ArrayBuffer");function NK(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Y7(n.buffer),e}const PK=fw("string"),Fi=fw("function"),K7=fw("number"),hw=n=>n!==null&&typeof n=="object",RK=n=>n===!0||n===!1,cb=n=>{if(dw(n)!=="object")return!1;const e=RT(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(G7 in n)&&!(uw in n)},IK=No("Date"),OK=No("File"),MK=No("Blob"),DK=No("FileList"),FK=n=>hw(n)&&Fi(n.pipe),LK=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Fi(n.append)&&((e=dw(n))==="formdata"||e==="object"&&Fi(n.toString)&&n.toString()==="[object FormData]"))},BK=No("URLSearchParams"),[VK,UK,zK,HK]=["ReadableStream","Request","Response","Headers"].map(No),$K=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function T0(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),th(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function X7(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ru=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,J7=n=>!Og(n)&&n!==ru;function BE(){const{caseless:n}=J7(this)&&this||{},e={},t=(r,i)=>{const s=n&&X7(e,i)||i;cb(e[s])&&cb(r)?e[s]=BE(e[s],r):cb(r)?e[s]=BE({},r):th(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&T0(arguments[r],t);return e}const WK=(n,e,t,{allOwnKeys:r}={})=>(T0(e,(i,s)=>{t&&Fi(i)?n[s]=q7(i,t):n[s]=i},{allOwnKeys:r}),n),jK=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),qK=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},GK=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&RT(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},YK=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},KK=n=>{if(!n)return null;if(th(n))return n;let e=n.length;if(!K7(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},XK=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&RT(Uint8Array)),JK=(n,e)=>{const r=(n&&n[uw]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},QK=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},ZK=No("HTMLFormElement"),eX=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),PN=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),tX=No("RegExp"),Q7=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};T0(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},nX=n=>{Q7(n,(e,t)=>{if(Fi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Fi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},rX=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return th(n)?r(n):r(String(n).split(e)),t},iX=()=>{},sX=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function oX(n){return!!(n&&Fi(n.append)&&n[G7]==="FormData"&&n[uw])}const aX=n=>{const e=new Array(10),t=(r,i)=>{if(hw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=th(r)?[]:{};return T0(r,(o,a)=>{const l=t(o,i+1);!Og(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},lX=No("AsyncFunction"),cX=n=>n&&(hw(n)||Fi(n))&&Fi(n.then)&&Fi(n.catch),Z7=((n,e)=>n?setImmediate:e?((t,r)=>(ru.addEventListener("message",({source:i,data:s})=>{i===ru&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ru.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Fi(ru.postMessage)),uX=typeof queueMicrotask<"u"?queueMicrotask.bind(ru):typeof process<"u"&&process.nextTick||Z7,dX=n=>n!=null&&Fi(n[uw]),pe={isArray:th,isArrayBuffer:Y7,isBuffer:AK,isFormData:LK,isArrayBufferView:NK,isString:PK,isNumber:K7,isBoolean:RK,isObject:hw,isPlainObject:cb,isReadableStream:VK,isRequest:UK,isResponse:zK,isHeaders:HK,isUndefined:Og,isDate:IK,isFile:OK,isBlob:MK,isRegExp:tX,isFunction:Fi,isStream:FK,isURLSearchParams:BK,isTypedArray:XK,isFileList:DK,forEach:T0,merge:BE,extend:WK,trim:$K,stripBOM:jK,inherits:qK,toFlatObject:GK,kindOf:dw,kindOfTest:No,endsWith:YK,toArray:KK,forEachEntry:JK,matchAll:QK,isHTMLForm:ZK,hasOwnProperty:PN,hasOwnProp:PN,reduceDescriptors:Q7,freezeMethods:nX,toObjectSet:rX,toCamelCase:eX,noop:iX,toFiniteNumber:sX,findKey:X7,global:ru,isContextDefined:J7,isSpecCompliantForm:oX,toJSONObject:aX,isAsyncFn:lX,isThenable:cX,setImmediate:Z7,asap:uX,isIterable:dX};function wt(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const eD=wt.prototype,tD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{tD[n]={value:n}});Object.defineProperties(wt,tD);Object.defineProperty(eD,"isAxiosError",{value:!0});wt.from=(n,e,t,r,i,s)=>{const o=Object.create(eD);return pe.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),wt.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const fX=null;function VE(n){return pe.isPlainObject(n)||pe.isArray(n)}function nD(n){return pe.endsWith(n,"[]")?n.slice(0,-2):n}function RN(n,e,t){return n?n.concat(e).map(function(i,s){return i=nD(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function hX(n){return pe.isArray(n)&&!n.some(VE)}const mX=pe.toFlatObject(pe,{},null,function(e){return/^is[A-Z]/.test(e)});function mw(n,e,t){if(!pe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=pe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,E){return!pe.isUndefined(E[w])});const r=t.metaTokens,i=t.visitor||f,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(e);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(pe.isDate(v))return v.toISOString();if(pe.isBoolean(v))return v.toString();if(!l&&pe.isBlob(v))throw new wt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(v)||pe.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,w,E){let k=v;if(v&&!E&&typeof v=="object"){if(pe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(pe.isArray(v)&&hX(v)||(pe.isFileList(v)||pe.endsWith(w,"[]"))&&(k=pe.toArray(v)))return w=nD(w),k.forEach(function(S,P){!(pe.isUndefined(S)||S===null)&&e.append(o===!0?RN([w],P,s):o===null?w:w+"[]",u(S))}),!1}return VE(v)?!0:(e.append(RN(E,w,s),u(v)),!1)}const m=[],p=Object.assign(mX,{defaultVisitor:f,convertValue:u,isVisitable:VE});function y(v,w){if(!pe.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(v),pe.forEach(v,function(k,T){(!(pe.isUndefined(k)||k===null)&&i.call(e,k,pe.isString(T)?T.trim():T,w,p))===!0&&y(k,w?w.concat(T):[T])}),m.pop()}}if(!pe.isObject(n))throw new TypeError("data must be an object");return y(n),e}function IN(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function IT(n,e){this._pairs=[],n&&mw(n,this,e)}const rD=IT.prototype;rD.append=function(e,t){this._pairs.push([e,t])};rD.toString=function(e){const t=e?function(r){return e.call(this,r,IN)}:IN;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function gX(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iD(n,e,t){if(!e)return n;const r=t&&t.encode||gX;pe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=pe.isURLSearchParams(e)?e.toString():new IT(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class ON{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const sD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pX=typeof URLSearchParams<"u"?URLSearchParams:IT,bX=typeof FormData<"u"?FormData:null,yX=typeof Blob<"u"?Blob:null,wX={isBrowser:!0,classes:{URLSearchParams:pX,FormData:bX,Blob:yX},protocols:["http","https","file","blob","url","data"]},OT=typeof window<"u"&&typeof document<"u",UE=typeof navigator=="object"&&navigator||void 0,vX=OT&&(!UE||["ReactNative","NativeScript","NS"].indexOf(UE.product)<0),_X=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xX=OT&&window.location.href||"http://localhost",EX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:OT,hasStandardBrowserEnv:vX,hasStandardBrowserWebWorkerEnv:_X,navigator:UE,origin:xX},Symbol.toStringTag,{value:"Module"})),si={...EX,...wX};function kX(n,e){return mw(n,new si.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return si.isNode&&pe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function TX(n){return pe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function SX(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function oD(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&pe.isArray(i)?i.length:o,l?(pe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!pe.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&pe.isArray(i[o])&&(i[o]=SX(i[o])),!a)}if(pe.isFormData(n)&&pe.isFunction(n.entries)){const t={};return pe.forEachEntry(n,(r,i)=>{e(TX(r),i,t,0)}),t}return null}function CX(n,e,t){if(pe.isString(n))try{return(e||JSON.parse)(n),pe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const S0={transitional:sD,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=pe.isObject(e);if(s&&pe.isHTMLForm(e)&&(e=new FormData(e)),pe.isFormData(e))return i?JSON.stringify(oD(e)):e;if(pe.isArrayBuffer(e)||pe.isBuffer(e)||pe.isStream(e)||pe.isFile(e)||pe.isBlob(e)||pe.isReadableStream(e))return e;if(pe.isArrayBufferView(e))return e.buffer;if(pe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return kX(e,this.formSerializer).toString();if((a=pe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return mw(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),CX(e)):e}],transformResponse:[function(e){const t=this.transitional||S0.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(e)||pe.isReadableStream(e))return e;if(e&&pe.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?wt.from(a,wt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:si.classes.FormData,Blob:si.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],n=>{S0.headers[n]={}});const AX=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NX=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&AX[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},MN=Symbol("internals");function ym(n){return n&&String(n).trim().toLowerCase()}function ub(n){return n===!1||n==null?n:pe.isArray(n)?n.map(ub):String(n)}function PX(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const RX=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Qx(n,e,t,r,i){if(pe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!pe.isString(e)){if(pe.isString(r))return e.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(e)}}function IX(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function OX(n,e){const t=pe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Li=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const f=ym(l);if(!f)throw new Error("header name must be a non-empty string");const m=pe.findKey(i,f);(!m||i[m]===void 0||u===!0||u===void 0&&i[m]!==!1)&&(i[m||l]=ub(a))}const o=(a,l)=>pe.forEach(a,(u,f)=>s(u,f,l));if(pe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(pe.isString(e)&&(e=e.trim())&&!RX(e))o(NX(e),t);else if(pe.isObject(e)&&pe.isIterable(e)){let a={},l,u;for(const f of e){if(!pe.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(l=a[u])?pe.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=ym(e),e){const r=pe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return PX(i);if(pe.isFunction(t))return t.call(this,i,r);if(pe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ym(e),e){const r=pe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Qx(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=ym(o),o){const a=pe.findKey(r,o);a&&(!t||Qx(r,r[a],a,t))&&(delete r[a],i=!0)}}return pe.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Qx(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return pe.forEach(this,(i,s)=>{const o=pe.findKey(r,s);if(o){t[o]=ub(i),delete t[s];return}const a=e?IX(s):String(s).trim();a!==s&&delete t[s],t[a]=ub(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&pe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[MN]=this[MN]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ym(o);r[a]||(OX(i,o),r[a]=!0)}return pe.isArray(e)?e.forEach(s):s(e),this}};Li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Li.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});pe.freezeMethods(Li);function Zx(n,e){const t=this||S0,r=e||t,i=Li.from(r.headers);let s=r.data;return pe.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function aD(n){return!!(n&&n.__CANCEL__)}function nh(n,e,t){wt.call(this,n??"canceled",wt.ERR_CANCELED,e,t),this.name="CanceledError"}pe.inherits(nh,wt,{__CANCEL__:!0});function lD(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new wt("Request failed with status code "+t.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function MX(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function DX(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[s];o||(o=u),t[i]=l,r[i]=u;let m=s,p=0;for(;m!==i;)p+=t[m++],m=m%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const y=f&&u-f;return y?Math.round(p*1e3/y):void 0}}function FX(n,e){let t=0,r=1e3/e,i,s;const o=(u,f=Date.now())=>{t=f,i=null,s&&(clearTimeout(s),s=null),n.apply(null,u)};return[(...u)=>{const f=Date.now(),m=f-t;m>=r?o(u,f):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-m)))},()=>i&&o(i)]}const Gb=(n,e,t=3)=>{let r=0;const i=DX(50,250);return FX(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),f=o<=a;r=o;const m={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&f?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(m)},t)},DN=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},FN=n=>(...e)=>pe.asap(()=>n(...e)),LX=si.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,si.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(si.origin),si.navigator&&/(msie|trident)/i.test(si.navigator.userAgent)):()=>!0,BX=si.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];pe.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),pe.isString(r)&&o.push("path="+r),pe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function VX(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function UX(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function cD(n,e,t){let r=!VX(e);return n&&(r||t==!1)?UX(n,e):e}const LN=n=>n instanceof Li?{...n}:n;function vu(n,e){e=e||{};const t={};function r(u,f,m,p){return pe.isPlainObject(u)&&pe.isPlainObject(f)?pe.merge.call({caseless:p},u,f):pe.isPlainObject(f)?pe.merge({},f):pe.isArray(f)?f.slice():f}function i(u,f,m,p){if(pe.isUndefined(f)){if(!pe.isUndefined(u))return r(void 0,u,m,p)}else return r(u,f,m,p)}function s(u,f){if(!pe.isUndefined(f))return r(void 0,f)}function o(u,f){if(pe.isUndefined(f)){if(!pe.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,m){if(m in e)return r(u,f);if(m in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,f,m)=>i(LN(u),LN(f),m,!0)};return pe.forEach(Object.keys(Object.assign({},n,e)),function(f){const m=l[f]||i,p=m(n[f],e[f],f);pe.isUndefined(p)&&m!==a||(t[f]=p)}),t}const uD=n=>{const e=vu({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Li.from(o),e.url=iD(cD(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(pe.isFormData(t)){if(si.hasStandardBrowserEnv||si.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...f]=l?l.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...f].join("; "))}}if(si.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(e)),r||r!==!1&&LX(e.url))){const u=i&&s&&BX.read(s);u&&o.set(i,u)}return e},zX=typeof XMLHttpRequest<"u",HX=zX&&function(n){return new Promise(function(t,r){const i=uD(n);let s=i.data;const o=Li.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,f,m,p,y,v;function w(){y&&y(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function k(){if(!E)return;const S=Li.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:S,config:n,request:E};lD(function(A){t(A),w()},function(A){r(A),w()},R),E=null}"onloadend"in E?E.onloadend=k:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(k)},E.onabort=function(){E&&(r(new wt("Request aborted",wt.ECONNABORTED,n,E)),E=null)},E.onerror=function(){r(new wt("Network Error",wt.ERR_NETWORK,n,E)),E=null},E.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||sD;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new wt(P,R.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,n,E)),E=null},s===void 0&&o.setContentType(null),"setRequestHeader"in E&&pe.forEach(o.toJSON(),function(P,R){E.setRequestHeader(R,P)}),pe.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),a&&a!=="json"&&(E.responseType=i.responseType),u&&([p,v]=Gb(u,!0),E.addEventListener("progress",p)),l&&E.upload&&([m,y]=Gb(l),E.upload.addEventListener("progress",m),E.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(f=S=>{E&&(r(!S||S.type?new nh(null,n,E):S),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const T=MX(i.url);if(T&&si.protocols.indexOf(T)===-1){r(new wt("Unsupported protocol "+T+":",wt.ERR_BAD_REQUEST,n));return}E.send(s||null)})},$X=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof wt?f:new nh(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new wt(`timeout ${e} of ms exceeded`,wt.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>pe.asap(a),l}},WX=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},jX=async function*(n,e){for await(const t of qX(n))yield*WX(t,e)},qX=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},BN=(n,e,t,r)=>{const i=jX(n,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){a(),l.close();return}let m=f.byteLength;if(t){let p=s+=m;t(p)}l.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},gw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dD=gw&&typeof ReadableStream=="function",GX=gw&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),fD=(n,...e)=>{try{return!!n(...e)}catch{return!1}},YX=dD&&fD(()=>{let n=!1;const e=new Request(si.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),VN=64*1024,zE=dD&&fD(()=>pe.isReadableStream(new Response("").body)),Yb={stream:zE&&(n=>n.body)};gw&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Yb[e]&&(Yb[e]=pe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new wt(`Response type '${e}' is not supported`,wt.ERR_NOT_SUPPORT,r)})})})(new Response);const KX=async n=>{if(n==null)return 0;if(pe.isBlob(n))return n.size;if(pe.isSpecCompliantForm(n))return(await new Request(si.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(n)||pe.isArrayBuffer(n))return n.byteLength;if(pe.isURLSearchParams(n)&&(n=n+""),pe.isString(n))return(await GX(n)).byteLength},XX=async(n,e)=>{const t=pe.toFiniteNumber(n.getContentLength());return t??KX(e)},JX=gw&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:f,withCredentials:m="same-origin",fetchOptions:p}=uD(n);u=u?(u+"").toLowerCase():"text";let y=$X([i,s&&s.toAbortSignal()],o),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let E;try{if(l&&YX&&t!=="get"&&t!=="head"&&(E=await XX(f,r))!==0){let R=new Request(e,{method:"POST",body:r,duplex:"half"}),D;if(pe.isFormData(r)&&(D=R.headers.get("content-type"))&&f.setContentType(D),R.body){const[A,F]=DN(E,Gb(FN(l)));r=BN(R.body,VN,A,F)}}pe.isString(m)||(m=m?"include":"omit");const k="credentials"in Request.prototype;v=new Request(e,{...p,signal:y,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:k?m:void 0});let T=await fetch(v,p);const S=zE&&(u==="stream"||u==="response");if(zE&&(a||S&&w)){const R={};["status","statusText","headers"].forEach(V=>{R[V]=T[V]});const D=pe.toFiniteNumber(T.headers.get("content-length")),[A,F]=a&&DN(D,Gb(FN(a),!0))||[];T=new Response(BN(T.body,VN,A,()=>{F&&F(),w&&w()}),R)}u=u||"text";let P=await Yb[pe.findKey(Yb,u)||"text"](T,n);return!S&&w&&w(),await new Promise((R,D)=>{lD(R,D,{data:P,headers:Li.from(T.headers),status:T.status,statusText:T.statusText,config:n,request:v})})}catch(k){throw w&&w(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,n,v),{cause:k.cause||k}):wt.from(k,k&&k.code,n,v)}}),HE={http:fX,xhr:HX,fetch:JX};pe.forEach(HE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const UN=n=>`- ${n}`,QX=n=>pe.isFunction(n)||n===null||n===!1,hD={getAdapter:n=>{n=pe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!QX(t)&&(r=HE[(o=String(t)).toLowerCase()],r===void 0))throw new wt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(UN).join(`
`):" "+UN(s[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:HE};function e2(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new nh(null,n)}function zN(n){return e2(n),n.headers=Li.from(n.headers),n.data=Zx.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),hD.getAdapter(n.adapter||S0.adapter)(n).then(function(r){return e2(n),r.data=Zx.call(n,n.transformResponse,r),r.headers=Li.from(r.headers),r},function(r){return aD(r)||(e2(n),r&&r.response&&(r.response.data=Zx.call(n,n.transformResponse,r.response),r.response.headers=Li.from(r.response.headers))),Promise.reject(r)})}const mD="1.10.0",pw={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{pw[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const HN={};pw.transitional=function(e,t,r){function i(s,o){return"[Axios v"+mD+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new wt(i(o," has been removed"+(t?" in "+t:"")),wt.ERR_DEPRECATED);return t&&!HN[o]&&(HN[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};pw.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function ZX(n,e,t){if(typeof n!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new wt("option "+s+" must be "+l,wt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new wt("Unknown option "+s,wt.ERR_BAD_OPTION)}}const db={assertOptions:ZX,validators:pw},Uo=db.validators;let uu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ON,response:new ON}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=vu(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&db.assertOptions(r,{silentJSONParsing:Uo.transitional(Uo.boolean),forcedJSONParsing:Uo.transitional(Uo.boolean),clarifyTimeoutError:Uo.transitional(Uo.boolean)},!1),i!=null&&(pe.isFunction(i)?t.paramsSerializer={serialize:i}:db.assertOptions(i,{encode:Uo.function,serialize:Uo.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),db.assertOptions(t,{baseUrl:Uo.spelling("baseURL"),withXsrfToken:Uo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&pe.merge(s.common,s[t.method]);s&&pe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=Li.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let f,m=0,p;if(!l){const v=[zN.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),p=v.length,f=Promise.resolve(t);m<p;)f=f.then(v[m++],v[m++]);return f}p=a.length;let y=t;for(m=0;m<p;){const v=a[m++],w=a[m++];try{y=v(y)}catch(E){w.call(this,E);break}}try{f=zN.call(this,y)}catch(v){return Promise.reject(v)}for(m=0,p=u.length;m<p;)f=f.then(u[m++],u[m++]);return f}getUri(e){e=vu(this.defaults,e);const t=cD(e.baseURL,e.url,e.allowAbsoluteUrls);return iD(t,e.params,e.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(e){uu.prototype[e]=function(t,r){return this.request(vu(r||{},{method:e,url:t,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(vu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}uu.prototype[e]=t(),uu.prototype[e+"Form"]=t(!0)});let eJ=class gD{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new nh(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new gD(function(i){e=i}),cancel:e}}};function tJ(n){return function(t){return n.apply(null,t)}}function nJ(n){return pe.isObject(n)&&n.isAxiosError===!0}const $E={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($E).forEach(([n,e])=>{$E[e]=n});function pD(n){const e=new uu(n),t=q7(uu.prototype.request,e);return pe.extend(t,uu.prototype,e,{allOwnKeys:!0}),pe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return pD(vu(n,i))},t}const rr=pD(S0);rr.Axios=uu;rr.CanceledError=nh;rr.CancelToken=eJ;rr.isCancel=aD;rr.VERSION=mD;rr.toFormData=mw;rr.AxiosError=wt;rr.Cancel=rr.CanceledError;rr.all=function(e){return Promise.all(e)};rr.spread=tJ;rr.isAxiosError=nJ;rr.mergeConfig=vu;rr.AxiosHeaders=Li;rr.formToJSON=n=>oD(pe.isHTMLForm(n)?new FormData(n):n);rr.getAdapter=hD.getAdapter;rr.HttpStatusCode=$E;rr.default=rr;const{Axios:e6e,AxiosError:t6e,CanceledError:n6e,isCancel:r6e,CancelToken:i6e,VERSION:s6e,all:o6e,Cancel:a6e,isAxiosError:l6e,spread:c6e,toFormData:u6e,AxiosHeaders:d6e,HttpStatusCode:f6e,formToJSON:h6e,getAdapter:m6e,mergeConfig:g6e}=rr;function bD(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=bD(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Bi(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=bD(n))&&(r&&(r+=" "),r+=e);return r}function rJ(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}rJ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var C0=n=>typeof n=="number"&&!isNaN(n),_u=n=>typeof n=="string",nl=n=>typeof n=="function",iJ=n=>_u(n)||C0(n),WE=n=>_u(n)||nl(n)?n:null,sJ=(n,e)=>n===!1||C0(n)&&n>0?n:e,jE=n=>O.isValidElement(n)||_u(n)||nl(n)||C0(n);function oJ(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function aJ({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:f,playToast:m}){let p=t?`${n}--${o}`:n,y=t?`${e}--${o}`:e,v=O.useRef(0);return O.useLayoutEffect(()=>{let w=u.current,E=p.split(" "),k=T=>{T.target===u.current&&(m(),w.removeEventListener("animationend",k),w.removeEventListener("animationcancel",k),v.current===0&&T.type!=="animationcancel"&&w.classList.remove(...E))};w.classList.add(...E),w.addEventListener("animationend",k),w.addEventListener("animationcancel",k)},[]),O.useEffect(()=>{let w=u.current,E=()=>{w.removeEventListener("animationend",E),r?oJ(w,l,i):l()};f||(a?E():(v.current=1,w.className+=` ${y}`,w.addEventListener("animationend",E)))},[f]),g.createElement(g.Fragment,null,s)}}function $N(n,e){return{content:yD(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function yD(n,e,t=!1){return O.isValidElement(n)&&!_u(n.type)?O.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):nl(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function lJ({closeToast:n,theme:e,ariaLabel:t="close"}){return g.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},g.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},g.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function cJ({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:f}){let m=i||o&&a===0,p={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let y=Bi("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),v=nl(s)?s({rtl:l,type:r,defaultClassName:y}):Bi(y,s),w={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&t()}};return g.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},g.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),g.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:v,style:p,...w}))}var uJ=1,wD=()=>`${uJ++}`;function dJ(n,e,t){let r=1,i=0,s=[],o=[],a=e,l=new Map,u=new Set,f=T=>(u.add(T),()=>u.delete(T)),m=()=>{o=Array.from(l.values()),u.forEach(T=>T())},p=({containerId:T,toastId:S,updateId:P})=>{let R=T?T!==n:n!==1,D=l.has(S)&&P==null;return R||D},y=(T,S)=>{l.forEach(P=>{var R;(S==null||S===P.props.toastId)&&((R=P.toggle)==null||R.call(P,T))})},v=T=>{var S,P;(P=(S=T.props)==null?void 0:S.onClose)==null||P.call(S,T.removalReason),T.isActive=!1},w=T=>{if(T==null)l.forEach(v);else{let S=l.get(T);S&&v(S)}m()},E=()=>{i-=s.length,s=[]},k=T=>{var S,P;let{toastId:R,updateId:D}=T.props,A=D==null;T.staleId&&l.delete(T.staleId),T.isActive=!0,l.set(R,T),m(),t($N(T,A?"added":"updated")),A&&((P=(S=T.props).onOpen)==null||P.call(S))};return{id:n,props:a,observe:f,toggle:y,removeToast:w,toasts:l,clearQueue:E,buildToast:(T,S)=>{if(p(S))return;let{toastId:P,updateId:R,data:D,staleId:A,delay:F}=S,V=R==null;V&&i++;let X={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(S).filter(([N,te])=>te!=null)),toastId:P,updateId:R,data:D,isIn:!1,className:WE(S.className||a.toastClassName),progressClassName:WE(S.progressClassName||a.progressClassName),autoClose:S.isLoading?!1:sJ(S.autoClose,a.autoClose),closeToast(N){l.get(P).removalReason=N,w(P)},deleteToast(){let N=l.get(P);if(N!=null){if(t($N(N,"removed")),l.delete(P),i--,i<0&&(i=0),s.length>0){k(s.shift());return}m()}}};X.closeButton=a.closeButton,S.closeButton===!1||jE(S.closeButton)?X.closeButton=S.closeButton:S.closeButton===!0&&(X.closeButton=jE(a.closeButton)?a.closeButton:!0);let re={content:T,props:X,staleId:A};a.limit&&a.limit>0&&i>a.limit&&V?s.push(re):C0(F)?setTimeout(()=>{k(re)},F):k(re)},setProps(T){a=T},setToggle:(T,S)=>{let P=l.get(T);P&&(P.toggle=S)},isToastActive:T=>{var S;return(S=l.get(T))==null?void 0:S.isActive},getSnapshot:()=>o}}var yi=new Map,Mg=[],qE=new Set,fJ=n=>qE.forEach(e=>e(n)),vD=()=>yi.size>0;function hJ(){Mg.forEach(n=>xD(n.content,n.options)),Mg=[]}var mJ=(n,{containerId:e})=>{var t;return(t=yi.get(e||1))==null?void 0:t.toasts.get(n)};function _D(n,e){var t;if(e)return!!((t=yi.get(e))!=null&&t.isToastActive(n));let r=!1;return yi.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function gJ(n){if(!vD()){Mg=Mg.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||iJ(n))yi.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=yi.get(n.containerId);e?e.removeToast(n.id):yi.forEach(t=>{t.removeToast(n.id)})}}var pJ=(n={})=>{yi.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function xD(n,e){jE(n)&&(vD()||Mg.push({content:n,options:e}),yi.forEach(t=>{t.buildToast(n,e)}))}function bJ(n){var e;(e=yi.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function ED(n,e){yi.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function yJ(n){let e=n.containerId||1;return{subscribe(t){let r=dJ(e,n,fJ);yi.set(e,r);let i=r.observe(t);return hJ(),()=>{i(),yi.delete(e)}},setProps(t){var r;(r=yi.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=yi.get(e))==null?void 0:t.getSnapshot()}}}function wJ(n){return qE.add(n),()=>{qE.delete(n)}}function vJ(n){return n&&(_u(n.toastId)||C0(n.toastId))?n.toastId:wD()}function A0(n,e){return xD(n,e),e.toastId}function bw(n,e){return{...e,type:e&&e.type||n,toastId:vJ(e)}}function yw(n){return(e,t)=>A0(e,bw(n,t))}function Te(n,e){return A0(n,bw("default",e))}Te.loading=(n,e)=>A0(n,bw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function _J(n,{pending:e,error:t,success:r},i){let s;e&&(s=_u(e)?Te.loading(e,i):Te.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,f,m)=>{if(f==null){Te.dismiss(s);return}let p={type:u,...o,...i,data:m},y=_u(f)?{render:f}:f;return s?Te.update(s,{...p,...y}):Te(y.render,{...p,...y}),m},l=nl(n)?n():n;return l.then(u=>a("success",r,u)).catch(u=>a("error",t,u)),l}Te.promise=_J;Te.success=yw("success");Te.info=yw("info");Te.error=yw("error");Te.warning=yw("warning");Te.warn=Te.warning;Te.dark=(n,e)=>A0(n,bw("default",{theme:"dark",...e}));function xJ(n){gJ(n)}Te.dismiss=xJ;Te.clearWaitingQueue=pJ;Te.isActive=_D;Te.update=(n,e={})=>{let t=mJ(n,e);if(t){let{props:r,content:i}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:wD()};s.toastId!==n&&(s.staleId=n);let o=s.render||i;delete s.render,A0(o,s)}};Te.done=n=>{Te.update(n,{progress:1})};Te.onChange=wJ;Te.play=n=>ED(!0,n);Te.pause=n=>ED(!1,n);function EJ(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=O.useRef(yJ(n)).current;i(n);let s=(e=O.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return n.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:f}=u.props;l.has(f)||l.set(f,[]),l.get(f).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:_D,count:s?.length}}function kJ(n){let[e,t]=O.useState(!1),[r,i]=O.useState(!1),s=O.useRef(null),o=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:f,closeOnClick:m}=n;bJ({id:n.toastId,containerId:n.containerId,fn:t}),O.useEffect(()=>{if(n.pauseOnFocusLoss)return p(),()=>{y()}},[n.pauseOnFocusLoss]);function p(){document.hasFocus()||k(),window.addEventListener("focus",E),window.addEventListener("blur",k)}function y(){window.removeEventListener("focus",E),window.removeEventListener("blur",k)}function v(A){if(n.draggable===!0||n.draggable===A.pointerType){T();let F=s.current;o.canCloseOnClick=!0,o.canDrag=!0,F.style.transition="none",n.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=F.offsetWidth*(n.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=F.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function w(A){let{top:F,bottom:V,left:X,right:re}=s.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&n.pauseOnHover&&A.clientX>=X&&A.clientX<=re&&A.clientY>=F&&A.clientY<=V?k():E()}function E(){t(!0)}function k(){t(!1)}function T(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",R)}function S(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",R)}function P(A){let F=s.current;if(o.canDrag&&F){o.didMove=!0,e&&k(),n.draggableDirection==="x"?o.delta=A.clientX-o.start:o.delta=A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1);let V=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;F.style.transform=`translate3d(${V},0)`,F.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function R(){S();let A=s.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let D={onPointerDown:v,onPointerUp:w};return a&&l&&(D.onMouseEnter=k,n.stacked||(D.onMouseLeave=E)),m&&(D.onClick=A=>{f&&f(A),o.canCloseOnClick&&u(!0)}),{playToast:E,pauseToast:k,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:D}}var TJ=typeof window<"u"?O.useLayoutEffect:O.useEffect,ww=({theme:n,type:e,isLoading:t,...r})=>g.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function SJ(n){return g.createElement(ww,{...n},g.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CJ(n){return g.createElement(ww,{...n},g.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function AJ(n){return g.createElement(ww,{...n},g.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function NJ(n){return g.createElement(ww,{...n},g.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function PJ(){return g.createElement("div",{className:"Toastify__spinner"})}var GE={info:CJ,warning:SJ,success:AJ,error:NJ,spinner:PJ},RJ=n=>n in GE;function IJ({theme:n,type:e,isLoading:t,icon:r}){let i=null,s={theme:n,type:e};return r===!1||(nl(r)?i=r({...s,isLoading:t}):O.isValidElement(r)?i=O.cloneElement(r,s):t?i=GE.spinner():RJ(e)&&(i=GE[e](s))),i}var OJ=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:s}=kJ(n),{closeButton:o,children:a,autoClose:l,onClick:u,type:f,hideProgressBar:m,closeToast:p,transition:y,position:v,className:w,style:E,progressClassName:k,updateId:T,role:S,progress:P,rtl:R,toastId:D,deleteToast:A,isIn:F,isLoading:V,closeOnClick:X,theme:re,ariaLabel:N}=n,te=Bi("Toastify__toast",`Toastify__toast-theme--${re}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":X}),be=nl(w)?w({rtl:R,position:v,type:f,defaultClassName:te}):Bi(te,w),xe=IJ(n),ne=!!P||!l,Ee={closeToast:p,type:f,theme:re},We=null;return o===!1||(nl(o)?We=o(Ee):O.isValidElement(o)?We=O.cloneElement(o,Ee):We=lJ(Ee)),g.createElement(y,{isIn:F,done:A,position:v,preventExitTransition:t,nodeRef:r,playToast:s},g.createElement("div",{id:D,tabIndex:0,onClick:u,"data-in":F,className:be,...i,style:E,ref:r,...F&&{role:S,"aria-label":N}},xe!=null&&g.createElement("div",{className:Bi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},xe),yD(a,n,!e),We,!n.customProgressBar&&g.createElement(cJ,{...T&&!ne?{key:`p-${T}`}:{},rtl:R,theme:re,delay:l,isRunning:e,isIn:F,closeToast:p,hide:m,type:f,className:k,controlledProgress:ne,progress:P||0})))},MJ=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),DJ=aJ(MJ("bounce",!0)),FJ={position:"top-right",transition:DJ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function kD(n){let e={...FJ,...n},t=n.stacked,[r,i]=O.useState(!0),s=O.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=EJ(e),{className:u,style:f,rtl:m,containerId:p,hotKeys:y}=e;function v(E){let k=Bi("Toastify__toast-container",`Toastify__toast-container--${E}`,{"Toastify__toast-container--rtl":m});return nl(u)?u({position:E,rtl:m,defaultClassName:k}):Bi(k,WE(u))}function w(){t&&(i(!0),Te.play())}return TJ(()=>{var E;if(t){let k=s.current.querySelectorAll('[data-in="true"]'),T=12,S=(E=e.position)==null?void 0:E.includes("top"),P=0,R=0;Array.from(k).reverse().forEach((D,A)=>{let F=D;F.classList.add("Toastify__toast--stacked"),A>0&&(F.dataset.collapsed=`${r}`),F.dataset.pos||(F.dataset.pos=S?"top":"bot");let V=P*(r?.2:1)+(r?0:T*A);F.style.setProperty("--y",`${S?V:V*-1}px`),F.style.setProperty("--g",`${T}`),F.style.setProperty("--s",`${1-(r?R:0)}`),P+=F.offsetHeight,R+=.025})}},[r,l,t]),O.useEffect(()=>{function E(k){var T;let S=s.current;y(k)&&((T=S.querySelector('[tabIndex="0"]'))==null||T.focus(),i(!1),Te.pause()),k.key==="Escape"&&(document.activeElement===S||S!=null&&S.contains(document.activeElement))&&(i(!0),Te.play())}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[y]),g.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{t&&(i(!1),Te.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((E,k)=>{let T=k.length?{...f}:{...f,pointerEvents:"none"};return g.createElement("div",{tabIndex:-1,className:v(E),"data-stacked":t,style:T,key:`c-${E}`},k.map(({content:S,props:P})=>g.createElement(OJ,{...P,stacked:t,collapseAll:w,isIn:a(P.toastId,P.containerId),key:`t-${P.key}`},S)))}))}/*! js-cookie v3.0.5 | MIT */function v1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}var LJ={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function YE(n,e){function t(i,s,o){if(!(typeof document>"u")){o=v1({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+n.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),u=l.slice(1).join("=");try{var f=decodeURIComponent(l[0]);if(o[f]=n.read(u,f),i===f)break}catch{}}return i?o[i]:o}}return Object.create({set:t,get:r,remove:function(i,s){t(i,"",v1({},s,{expires:-1}))},withAttributes:function(i){return YE(this.converter,v1({},this.attributes,i))},withConverter:function(i){return YE(v1({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var du=YE(LJ,{path:"/"}),t2,WN;function BJ(){if(WN)return t2;WN=1;const n=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return t2=e=>!n.has(e&&e.code),t2}var VJ=BJ();const UJ=pT(VJ),MT="axios-retry";function TD(n){const e=["ERR_CANCELED","ECONNABORTED"];return n.response||!n.code||e.includes(n.code)?!1:UJ(n)}const SD=["get","head","options"],zJ=SD.concat(["put","delete"]);function DT(n){return n.code!=="ECONNABORTED"&&(!n.response||n.response.status===429||n.response.status>=500&&n.response.status<=599)}function HJ(n){return n.config?.method?DT(n)&&SD.indexOf(n.config.method)!==-1:!1}function CD(n){return n.config?.method?DT(n)&&zJ.indexOf(n.config.method)!==-1:!1}function AD(n){return TD(n)||CD(n)}function FT(n=void 0){const e=n?.response?.headers["retry-after"];if(!e)return 0;let t=(Number(e)||0)*1e3;return t===0&&(t=(new Date(e).valueOf()||0)-Date.now()),Math.max(0,t)}function $J(n=0,e=void 0){return Math.max(0,FT(e))}function WJ(n=0,e=void 0,t=100){const r=2**n*t,i=Math.max(r,FT(e)),s=i*.2*Math.random();return i+s}function jJ(n=100){return(e=0,t=void 0)=>{const r=e*n;return Math.max(r,FT(t))}}const qJ={retries:3,retryCondition:AD,retryDelay:$J,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function GJ(n,e){return{...qJ,...e,...n[MT]}}function jN(n,e,t=!1){const r=GJ(n,e||{});return r.retryCount=r.retryCount||0,(!r.lastRequestTime||t)&&(r.lastRequestTime=Date.now()),n[MT]=r,r}function YJ(n,e){n.defaults.agent===e.agent&&delete e.agent,n.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,n.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}async function KJ(n,e){const{retries:t,retryCondition:r}=n,i=(n.retryCount||0)<t&&r(e);if(typeof i=="object")try{return await i!==!1}catch{return!1}return i}async function XJ(n,e,t,r){e.retryCount+=1;const{retryDelay:i,shouldResetTimeout:s,onRetry:o}=e,a=i(e.retryCount,t);if(YJ(n,r),!s&&r.timeout&&e.lastRequestTime){const l=Date.now()-e.lastRequestTime,u=r.timeout-l-a;if(u<=0)return Promise.reject(t);r.timeout=u}return r.transformRequest=[l=>l],await o(e.retryCount,t,r),r.signal?.aborted?Promise.resolve(n(r)):new Promise(l=>{const u=()=>{clearTimeout(f),l(n(r))},f=setTimeout(()=>{l(n(r)),r.signal?.removeEventListener&&r.signal.removeEventListener("abort",u)},a);r.signal?.addEventListener&&r.signal.addEventListener("abort",u,{once:!0})})}async function JJ(n,e){n.retryCount>=n.retries&&await n.onMaxRetryTimesExceeded(e,n.retryCount)}const pc=(n,e)=>{const t=n.interceptors.request.use(i=>(jN(i,e,!0),i[MT]?.validateResponse&&(i.validateStatus=()=>!1),i)),r=n.interceptors.response.use(null,async i=>{const{config:s}=i;if(!s)return Promise.reject(i);const o=jN(s,e);return i.response&&o.validateResponse?.(i.response)?i.response:await KJ(o,i)?XJ(n,o,i,s):(await JJ(o,i),Promise.reject(i))});return{requestInterceptorId:t,responseInterceptorId:r}};pc.isNetworkError=TD;pc.isSafeRequestError=HJ;pc.isIdempotentRequestError=CD;pc.isNetworkOrIdempotentRequestError=AD;pc.exponentialDelay=WJ;pc.linearDelay=jJ;pc.isRetryableError=DT;const QJ="http://localhost:8080/api",rs=rr.create({baseURL:QJ,withCredentials:!0,headers:{"Content-Type":"application/json"},responseType:"json"});pc(rs,{retries:2,retryDelay:n=>n*100,retryCondition:n=>n.response?.status===403});rs.interceptors.request.use(n=>{const e=du.get("fr"),t=JSON.parse(localStorage.getItem("userInfo"));return e&&t&&(n.headers.Authorization=`Bearer ${e}`,n.headers.UserID=t.id,n.headers.UserName=encodeURIComponent(t.userName)),n});rs.interceptors.response.use(n=>n&&n.data?n.data:n,async n=>{switch(n.response?.status||500){case 401:{const t=window.location.pathname;return["/","/login","/register","/forgot-password"].includes(t)||n.config?.url?.includes("/auth/account")||(du.remove("fr"),localStorage.removeItem("userInfo"),window.location.href="/login"),Promise.reject(n)}case 400:return n.response.data;case 403:try{const r=(await rs.post("/auth/refreshToken")).DT.accessToken;du.set("fr",r);const i=n.config;return i.headers.Authorization=`Bearer ${r}`,rs.request(i)}catch{return du.remove("fr"),window.location.href="/login",Promise.reject(n)}case 404:return Te.error("Khng tm thy ti nguyn."),Promise.reject(n);case 409:return Promise.reject(n);case 422:return Promise.reject(n);default:return Promise.reject(n)}});const bt={get:async(n,{params:e}={})=>await rs.get(n,{params:e}),post:async(n,e,t)=>{if(e instanceof FormData){const i={params:t};return i.headers={"Content-Type":"multipart/form-data"},await rs.post(n,e,i)}return await rs.post(n,e,{params:t})},put:async(n,e,t)=>{if(e instanceof FormData){const i={params:t};return i.headers={"Content-Type":"multipart/form-data"},await rs.put(n,e,i)}return await rs.put(n,e)},delete:async(n,e)=>await rs.delete(n,{data:e}),patch:async(n,e)=>await rs.patch(n,e),getImageBinary:async n=>await rs.get(n,{responseType:"arraybuffer"})},ja={LoginApi:n=>bt.post("/auth/login",n),RegisterApi:n=>bt.post("/auth/register",n),GetAccountApi:()=>bt.get("/auth/account"),ChangePasswordApi:n=>bt.post("/auth/change-password",n),UpdateProfileApi:n=>bt.put("/auth/update-profile",n),getListUserApi:(n,e)=>bt.get(`/auth/getListUser?page=${n}&limit=${e}`),createUserApi:n=>bt.post("/auth/create-user",n),updateUserApi:(n,e)=>bt.put(`/auth/update-user/${n}`,e),deleteUserApi:n=>bt.delete(`/auth/delete-user/${n}`)},ZJ={userInfo:{},isLoading:!1,hasCheckedAuth:!1,UserList:[],UserTotal:0},fb=qs("auth/Login",async(n,e)=>await ja.LoginApi(n)),hb=qs("auth/Register",async(n,e)=>await ja.RegisterApi(n)),mb=qs("auth/UpdateProfile",async(n,e)=>await ja.UpdateProfileApi(n)),gb=qs("auth/GetAccount",async(n,e)=>await ja.GetAccountApi(n)),pb=qs("auth/getListUser",async({page:n,limit:e},t)=>await ja.getListUserApi(n,e)),ND=qs("auth/Logout",async(n,{dispatch:e})=>(du.remove("fr"),du.remove("refreshToken"),localStorage.removeItem("userInfo"),null)),eQ=eh({name:"auth",initialState:ZJ,reducers:{},extraReducers:n=>{n.addCase(fb.pending,e=>{e.isLoading=!0}).addCase(fb.fulfilled,(e,t)=>{e.isLoading=!1,t.payload.EC===0&&(e.userInfo=t.payload.DT||{},localStorage.setItem("userInfo",JSON.stringify(t.payload.DT)))}).addCase(fb.rejected,(e,t)=>{e.isLoading=!1}),n.addCase(hb.pending,e=>{}).addCase(hb.fulfilled,(e,t)=>{}).addCase(hb.rejected,(e,t)=>{}),n.addCase(gb.pending,e=>{e.isLoading=!0}).addCase(gb.fulfilled,(e,t)=>{t.payload.EC===0&&(e.userInfo=t.payload.DT||{},localStorage.setItem("userInfo",JSON.stringify(t.payload.DT))),e.isLoading=!1,e.hasCheckedAuth=!0}).addCase(gb.rejected,(e,t)=>{e.isLoading=!1,e.hasCheckedAuth=!0}),n.addCase(ND.fulfilled,e=>{e.userInfo={},e.isLoading=!1,e.hasCheckedAuth=!0}),n.addCase(mb.pending,e=>{e.isLoading=!0}).addCase(mb.fulfilled,(e,t)=>{t.payload.EC===0&&(e.userInfo=t.payload.DT||{},localStorage.setItem("userInfo",JSON.stringify(t.payload.DT))),e.isLoading=!1}).addCase(mb.rejected,(e,t)=>{e.isLoading=!1}),n.addCase(pb.pending,e=>{}).addCase(pb.fulfilled,(e,t)=>{e.UserList=t.payload.DT.user,e.UserTotal=t.payload.DT.total}).addCase(pb.rejected,(e,t)=>{})}}),tQ=eQ.reducer;function nQ({toggleSidebar:n}){const[e,t]=O.useState(!1),{userInfo:r}=Jn(u=>u.auth),i=mr(),s=O.useRef(null),o=Jr(),a=()=>t(u=>!u);O.useEffect(()=>{const u=f=>{s.current&&!s.current.contains(f.target)&&t(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=async()=>{i(ND()),o("/login")};return g.createElement("header",{className:"bg-white shadow-sm border-b border-gray-200"},g.createElement("div",{className:"flex items-center justify-between px-4 py-3"},g.createElement("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors"},g.createElement(T7,{className:"w-6 h-6 text-gray-600"})),g.createElement("div",{className:"flex items-center gap-4"},g.createElement("button",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors"},g.createElement(CT,{className:"w-6 h-6 text-gray-600"}),g.createElement("span",{className:"absolute -top-1 -right-1 bg-teal-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center"},"6")),g.createElement("div",{className:"relative",ref:s},g.createElement("button",{onClick:a,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-2 rounded-lg transition-colors"},g.createElement("div",{className:"bg-gray-300 rounded-full w-9 h-9 flex items-center justify-center"},g.createElement(zb,{className:"w-5 h-5 text-gray-600"})),g.createElement("span",{className:"text-gray-700 font-medium"},r?.userName||"Ngi dng"),g.createElement(E0,{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`})),e&&g.createElement("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50"},g.createElement("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors flex items-center gap-3",onClick:()=>o("account")},g.createElement(zb,{className:"w-5 h-5 text-gray-600"}),g.createElement("span",{className:"text-gray-700"},"Thng tin Ti khon")),g.createElement("div",{className:"border-t border-gray-200 my-1"}),g.createElement("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors flex items-center gap-3",onClick:()=>l()},g.createElement(zG,{className:"w-5 h-5 text-gray-600"}),g.createElement("span",{className:"text-gray-700"},"ng xut")))))))}const qN=1024;function rQ(){const[n,e]=O.useState(!0),[t,r]=O.useState(window.innerWidth<qN),{type:i}=Jn(l=>l.auth);O.useEffect(()=>{const l=()=>{const u=window.innerWidth<qN;r(u),e(!u)};return window.addEventListener("resize",l),l(),()=>window.removeEventListener("resize",l)},[]);const s=O.useRef(null),o=()=>{e(l=>!l)},a=t?"0px":n?"288px":"80px";return g.createElement("div",{className:"h-screen w-full bg-gray-50 text-gray-800 font-sans"},t&&n&&g.createElement("div",{className:"fixed inset-0 bg-black opacity-10 z-10 lg:hidden",onClick:o}),g.createElement("div",{ref:s},g.createElement(DY,{isSidebarOpen:n,onToggleSidebar:o})),g.createElement("div",{className:"flex flex-col h-full transition-all duration-300 relative",style:{marginLeft:a}},g.createElement(nQ,{toggleSidebar:o}),g.createElement("main",{className:"flex-grow overflow-auto"},g.createElement(c7,null))))}const iQ=({categories:n})=>{const[e,t]=O.useState(null),r=O.useRef(null);return O.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]),g.createElement("div",{className:"w-64 bg-white border border-gray-200 rounded-xl shadow-2xl p-2 z-[2001]"},g.createElement("ul",{className:"space-y-1"},n&&n.length>0?n.map(i=>g.createElement("li",{key:i.name,className:"relative",onMouseEnter:()=>{r.current&&(clearTimeout(r.current),r.current=null),t(i.name)},onMouseLeave:()=>{r.current=setTimeout(()=>{t(s=>s===i.name?null:s),r.current=null},300)}},g.createElement("div",{className:"flex items-center justify-between p-3 text-gray-800 hover:bg-gray-50 rounded-md cursor-pointer"},g.createElement("span",null,i.name),i.children?.length>0&&g.createElement(E0,{className:`w-4 h-4 transition-transform ${e===i.name?"rotate-[-90deg]":""}`})),i.children?.length>0&&e===i.name&&g.createElement("div",{className:"absolute top-0 left-full ml-2 w-56 bg-white border border-gray-200 rounded-xl shadow-xl p-2 z-[2002]"},i.children.map((s,o)=>g.createElement("div",{key:o,className:"p-2 rounded hover:bg-orange-50 hover:text-orange-600 cursor-pointer text-sm"},s.name||s))))):g.createElement("li",{className:"p-3 text-gray-500 text-center"},"Khng c danh mc")))};function sQ({categories:n,isMobileMenuOpen:e,setIsMobileMenuOpen:t}){const[r,i]=O.useState(""),[s,o]=O.useState(!1),a=[{label:"TRANG CH",path:"/home"},{label:"GII THIU",path:"/about"},{label:"SN PHM",path:"/products"},{label:"DCH V",path:"/service"},{label:"TIN TC",path:"/post"},{label:"TUYN DNG",path:"/careers"},{label:"LIN H",path:"/contact"}],l=O.useRef(null);return O.useEffect(()=>{const u=f=>{l.current&&!l.current.contains(f.target)&&o(!1)};return document.addEventListener("click",u),()=>document.removeEventListener("click",u)},[]),g.createElement("header",{className:"bg-[#ed792f] shadow-md sticky top-0 z-50"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"py-4 flex items-center justify-between gap-3"},g.createElement("div",{className:"flex flex-col items-center justify-center flex-shrink-0"},g.createElement("div",{className:"relative"},g.createElement(S7,{className:"w-10 h-10 text-black stroke-[1.5]"}),g.createElement("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-6 h-[2px] bg-black"})),g.createElement("span",{className:"text-black font-extrabold text-[13px] tracking-wide mt-1"},"CMIC STUDIO")),g.createElement("div",{className:"hidden md:flex flex-1 w-full max-w-2xl h-[45px] bg-white items-center border border-black/10 shadow-sm"},g.createElement("input",{type:"text",placeholder:"",className:"flex-1 h-full px-4 text-gray-700 outline-none text-base",value:r,onChange:u=>i(u.target.value)}),g.createElement("div",{ref:l,className:"relative h-full border-l border-r border-gray-300"},g.createElement("div",{onClick:()=>o(!s),className:"h-full flex items-center px-4 cursor-pointer hover:bg-gray-50 transition-colors whitespace-nowrap select-none"},g.createElement("span",{className:"text-black font-bold text-sm mr-2"},"DANH MC"),g.createElement(E0,{className:`w-4 h-4 text-black transition-transform duration-200 ${s?"rotate-180":""}`})),s&&g.createElement("div",{className:"absolute top-full left-0 w-[800px] z-50"},g.createElement(iQ,{categories:n||[]}))),g.createElement("button",{className:"h-full px-5 flex items-center justify-center hover:bg-gray-100 transition-colors"},g.createElement(k0,{className:"w-6 h-6 text-black"}))),g.createElement("div",{className:"hidden lg:flex flex-col space-y-1 flex-shrink-0 text-right"},g.createElement("a",{href:"tel:0372672396",className:"flex items-center justify-end gap-2 text-white transition-colors font-bold text-sm"},g.createElement(bu,{className:"w-4 h-4"})," 037.2672.396"),g.createElement("a",{href:"tel:0347577034",className:"flex items-center justify-end gap-2 text-white/90 transition-colors font-medium text-xs"},"Hotline t hng")),g.createElement("div",{className:"hidden lg:flex flex-col space-y-1 flex-shrink-0 text-right"},g.createElement("a",{href:"tel:0372672396",className:"flex items-center justify-end gap-2 text-white transition-colors font-bold text-sm"},g.createElement(bu,{className:"w-4 h-4"})," 034.7577.034"),g.createElement("a",{href:"tel:0347577034",className:"flex items-center justify-end gap-2 text-white/90 transition-colors font-medium text-xs"},"Hp tc truyn thng")),g.createElement("button",{onClick:()=>t(!e),className:"p-3 bg-white/20 text-white rounded-xl md:hidden hover:bg-white/30 transition-all"},g.createElement(T7,{className:"w-6 h-6"})))),g.createElement("nav",{className:"bg-white hidden md:block border-t border-gray-100"},g.createElement("div",{className:"max-w-0xl mx-auto px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"flex justify-center space-x-8"},a.map(u=>g.createElement(ec,{key:u.label,to:u.path,className:({isActive:f})=>`relative px-6 py-4 text-sm font-bold transition-all group
                  ${f?"text-[#ed792f]":"text-gray-700 hover:text-[#ed792f]"}`},({isActive:f})=>g.createElement(g.Fragment,null,u.label,f&&g.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#ed792f]"}),!f&&g.createElement("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-1 bg-[#ed792f] group-hover:w-full transition-all duration-300"}))))))),e&&g.createElement("div",{className:"md:hidden fixed inset-0 bg-black/50 z-50",onClick:()=>t(!1)},g.createElement("div",{className:"fixed top-0 right-0 w-3/4 max-w-sm h-full bg-white shadow-2xl p-6 overflow-y-auto",onClick:u=>u.stopPropagation()},g.createElement("div",{className:"flex items-center justify-between mb-6"},g.createElement("h3",{className:"text-2xl font-black text-[#ed792f]"},"Menu"),g.createElement("button",{onClick:()=>t(!1),className:"p-2 rounded hover:bg-gray-100 transition-colors"},"")),g.createElement("nav",null,g.createElement("ul",{className:"space-y-2"},a.map(u=>g.createElement("li",{key:u.label},g.createElement(ec,{to:u.path,className:({isActive:f})=>`block p-3 text-gray-800 font-bold hover:bg-[#ed792f] hover:text-[#ed792f] rounded-lg transition-colors
                         ${f?"text-[#ed792f]":""}`,onClick:()=>t(!1)},u.label))))))))}const PD={sendContactApi:n=>bt.post("/contact/send",n)},_1=({icon:n,title:e,description:t})=>g.createElement("div",{className:"group text-center p-3 bg-white rounded-xl hover:shadow-lg transition-all duration-500 hover:-translate-y-1 w-full max-w-[150px] aspect-square flex flex-col justify-center items-center mx-auto border border-gray-50"},g.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-pink-500 rounded-lg flex items-center justify-center mb-2 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 shadow-md"},g.createElement(n,{className:"w-5 h-5 text-white"})),g.createElement("div",{className:"px-1"},g.createElement("h4",{className:"text-[12px] font-bold text-gray-900 mb-1 leading-tight line-clamp-2 uppercase"},e),g.createElement("p",{className:"text-[10px] text-gray-600 leading-tight line-clamp-2"},t)));function oQ(){const[n,e]=O.useState(""),[t,r]=O.useState(!1),i="https://placehold.co/200x200/4F46E5/ffffff?text=STUDIO+LOGO",s="/zalopay.png",o="/MoMo.png",a="/Bank.png",l=[{name:"Facebook",src:"/facebook.png",href:"https://www.facebook.com/creatimicstudio"},{name:"YouTube",src:"/YouTube.png",href:"#"},{name:"TikTok",src:"/tiktok.png",href:"#"},{name:"Zalo",src:"/zalo.webp",href:"#"}],u=async f=>{f.preventDefault();try{r(!0);const m={name:"client",email:n,message:"Ti ang quan tm n sn phm ca bn. Hy lin h vi ti sm nht c th!"};let p=await PD.sendContactApi(m);Te.success(" gi thng tin lin h thnh cng!"),e("")}catch(m){console.error("Error sending contact:",m),Te.error("Gi thng tin lin h tht bi. Vui lng th li.")}finally{r(!1)}};return g.createElement("footer",{className:"text-white mt-8 font-sans"},g.createElement("div",{className:"bg-black"},g.createElement("div",{className:"max-w-6xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-3 px-4 py-8"},g.createElement(_1,{icon:SY,title:"GIAO HNG TON QUC",description:"Giao hng nhanh chng v ng hn."}),g.createElement(_1,{icon:I7,title:"THANH TON COD",description:"Thanh ton khi nhn sn phm."}),g.createElement(_1,{icon:qG,title:"H TR 24/7",description:"Sn sng t vn mi thc mc."}),g.createElement(_1,{icon:aY,title:"I TR 7 NGY",description:"i tr min ph nu li nh SX."}))),g.createElement("div",{className:"bg-[#ed792f]"},g.createElement("div",{className:"max-w-6xl mx-auto flex flex-col lg:flex-row justify-between items-center lg:items-start gap-12 px-6 py-12"},g.createElement("div",{className:"w-full lg:w-auto space-y-6"},g.createElement("div",{className:"flex justify-center lg:justify-start items-center space-x-4"},g.createElement("img",{src:i,alt:"Logo",className:"h-20 w-20 rounded-full object-cover shadow-lg border-2 border-white/20"}),g.createElement("div",null,g.createElement("h2",{className:"text-xl lg:text-2xl font-black text-orange-950 leading-tight tracking-tight"},"CREATIMIC STUDIO"),g.createElement("p",{className:"text-white text-sm lg:text-base font-medium opacity-90"},"m thanh sng to - kt ni cm xc"))),g.createElement("div",{className:"text-base space-y-4"},g.createElement("div",{className:"flex items-start justify-center lg:justify-start"},g.createElement(k7,{className:"w-5 h-5 text-orange-950 flex-shrink-0 mr-3 mt-1"}),g.createElement("p",{className:"max-w-xs"},"Chung c Khang gia, Phng 14, G Vp, TP. HCM")),g.createElement("div",{className:"flex items-center justify-center lg:justify-start"},g.createElement(bu,{className:"w-5 h-5 text-orange-950 flex-shrink-0 mr-3"}),g.createElement("p",null,g.createElement("span",{className:"font-bold"},"Hotline:")," 037.2672.396")),g.createElement("div",{className:"flex items-center justify-center lg:justify-start"},g.createElement(CG,{className:"w-5 h-5 text-orange-950 flex-shrink-0 mr-3"}),g.createElement("p",null,g.createElement("span",{className:"font-bold"},"Website:")," creatimicstudio.vn")),g.createElement("div",{className:"flex items-center justify-center lg:justify-start"},g.createElement(CT,{className:"w-5 h-5 text-orange-950 flex-shrink-0 mr-3"}),g.createElement("p",null,g.createElement("strong",{className:"font-bold"},"Email:")," contact@creatimichub.vn")))),g.createElement("div",{className:"w-full lg:w-auto flex flex-col items-center lg:items-start text-center lg:text-left space-y-6"},g.createElement("div",{className:"space-y-2"},g.createElement("h2",{className:"text-lg lg:text-xl font-bold uppercase tracking-wider"},"NG K NHN TIN"),g.createElement("p",{className:"text-sm italic opacity-90"},"Nhn tin mi nht t chng ti")),g.createElement("div",{className:"flex w-full max-w-sm h-11 bg-black rounded-lg overflow-hidden p-[2px] shadow-md"},g.createElement("input",{type:"email",value:n,onChange:f=>e(f.target.value),className:"flex-grow bg-white px-4 outline-none text-black text-sm rounded-l-md",placeholder:"Email ca bn..."}),g.createElement("button",{disabled:t,onClick:u,className:`
                                    px-6 text-sm font-bold uppercase transition-colors cursor-pointer
                                    ${t?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-zinc-800"}
                                    text-white
                                `},t?"ANG GI...":"GI")),g.createElement("div",{className:"w-full flex flex-col items-center lg:items-start gap-5 pt-5 border-t border-white/20"},g.createElement("div",{className:"flex space-x-3"},l.map(f=>g.createElement("a",{key:f.name,href:f.href,className:"p-2 rounded-full bg-orange-950/20 hover:bg-black transition-all"},g.createElement("img",{src:f.src,alt:f.name,className:"w-5 h-5 object-contain invert"})))),g.createElement("div",{className:"flex items-center space-x-4 opacity-90 grayscale hover:grayscale-0 transition-all"},g.createElement("img",{src:s,alt:"ZaloPay",className:"h-6"}),g.createElement("img",{src:o,alt:"MoMo",className:"h-6"}),g.createElement("img",{src:a,alt:"Bank",className:"h-6"})))))),g.createElement("div",{className:"bg-[#ed780f] text-center py-3 text-xs text-white/90"}," 2025 CREATIMICSTUDIO. All rights reserved."))}const bb={getListCategoryApi:(n,e)=>{const t={};return n!==void 0&&e!==void 0&&(t.page=n,t.limit=e),bt.get("/category/list",{params:t})},getCategoryByIdApi:n=>bt.get(`/category/${n}`),createCategoryApi:n=>bt.post("/category/create",n),updateCategoryApi:(n,e)=>bt.put(`/category/update/${n}`,e),deleteCategoryApi:n=>bt.delete(`/category/delete/${n}`),filterCategoryApi:(n,e,t,r)=>bt.get(`/category/filter?page=${n}&limit=${e}&categoryId=${t}&priceProduct=${r}`)},GN={CategoryList:[],CategoryTotal:0},bf=qs("category/getListCategory",async({page:n,limit:e},t)=>await bb.getListCategoryApi(n,e)),RD=eh({name:"category",initialState:GN,reducers:{resetCategory:n=>GN},extraReducers:n=>{n.addCase(bf.pending,e=>{}).addCase(bf.fulfilled,(e,t)=>{e.CategoryList=t.payload.DT.categories,e.CategoryTotal=t.payload.DT.total}).addCase(bf.rejected,(e,t)=>{})}}),{resetCategory:p6e}=RD.actions,aQ=RD.reducer;function lQ(){const n=mr(),{CategoryList:e,CategoryTotal:t}=Jn(u=>u.category),[r,i]=O.useState(!1),[s,o]=O.useState(!1);O.useEffect(()=>{(async()=>{await n(bf({page:null,limit:null})).unwrap()})()},[]);const a=O.useRef(null);O.useEffect(()=>{const u=()=>{a.current.scrollTop>300?o(!0):o(!1)},f=a.current;return f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)},[]);const l=()=>{a.current&&a.current.scrollTo({top:0,behavior:"smooth"})};return g.createElement("div",{className:"h-screen w-full bg-gray-50 text-gray-800 font-sans overflow-auto"},g.createElement("div",{className:"flex flex-col h-full transition-all duration-300"},g.createElement(sQ,{categories:e,isMobileMenuOpen:r,setIsMobileMenuOpen:i}),g.createElement("main",{ref:a,className:""},g.createElement(c7,null),g.createElement(oQ,null))),g.createElement(kD,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),s&&g.createElement("button",{onClick:l,className:"fixed bottom-6 right-6 w-12 h-12 bg-orange-500 hover:bg-orange-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all z-50 hover:scale-110",title:"Ln u trang"},g.createElement(jq,{className:"w-6 h-6"})))}function cQ(){mr();const n=[{month:10,day:"10",class:"210240 - TC.240 (CS1)",subject:"Thc tin v kinh nghim xy dng, pht trin a phng",schedule:"Ngy hc: T2, T4, T6 - Kt thc: 05/11/2025",exam:"Ngy thi: 21/11/2025"},{month:8,day:"13",class:"210240 - TC.240 (CS1)",subject:"K nng lnh o, qun l",schedule:"Ngy hc: T2, T4, T6 - Kt thc: 08/10/2025",exam:"Ngy thi: 24/10/2025"},{month:10,day:"01",class:"210946 - H.946 (NB)",subject:"Nghin cu thc t",schedule:"Ngy hc: 4 - Kt thc: 01/10/2025",exam:"Ngy thi: 01/10/2025"},{month:10,day:"10",class:"210949 - H.949 (Q1)",subject:"Kin thc b tr",schedule:"Ngy hc: 4, 6 - Kt thc: 29/10/2025",exam:"Ngy thi: 14/11/2025"}],e=[{month:10,day:"01",subject:"Thc tin v kinh nghim xy dng, pht trin a phng",class:"TC.239 (Hc vin)",time:"180 - Th: T"},{month:10,day:"01",subject:"Kin thc b tr",class:"TC.239 (Hc vin)",time:"180 - Th: T"},{month:10,day:"01",subject:"Nghin cu thc t",class:"H.946 (Nh B)",time:"180 - Th: T"},{month:10,day:"01",subject:"Ni dung c bn ca Ch ngha Mc-Lnin (HP CNXHKH)",class:"H.961 (Hc vin - Cc thu TPHCM)",time:"180 - Th: T"}],t=[{type:"QUYT NH",title:"Thng bo s dng website tra cu thng tin mi",content:"Thng bo s dng website tra cu thng tin lch hc, bng im cho hc vin, ging vin.  thun tin cho vic tra cu l sp xp lch ging dy."},{type:"THNG BO",title:"Thng bo s dng website tra cu thng tin lch hc, bng im cho hc vin, ging vin",content:"Thng bo s dng website tra cu thng tin lch hc, bng im cho hc vin, ging vin.  thun tin cho vic tra cu l sp xp lch ging dy."}];return g.createElement("div",{className:"min-h-screen bg-gray-50 py-8"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"grid grid-cols-4 gap-6 mb-8"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},g.createElement("div",{className:"flex items-center gap-3 mb-4"},g.createElement(O7,{className:"text-[#0081cd]",size:22}),g.createElement("span",{className:"text-gray-600 text-sm font-medium"},"Lp ang hc")),g.createElement("div",{className:"flex items-center justify-between border-l-4 border-[#0081cd]/60 pl-4"},g.createElement("div",null,g.createElement("p",{className:"text-gray-500 text-sm mb-1"},"Tng s mn"),g.createElement("p",{className:"text-4xl font-semibold text-[#0081cd]"},"0")))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},g.createElement("div",{className:"flex items-center gap-3 mb-4"},g.createElement(E7,{className:"text-cyan-500",size:22}),g.createElement("span",{className:"text-gray-600 text-sm font-medium"},"Tng s mn")),g.createElement("div",{className:"flex items-center justify-between border-l-4 border-cyan-400 pl-4"},g.createElement("p",{className:"text-4xl font-semibold text-cyan-500"},"0"))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},g.createElement("div",{className:"flex items-center gap-3 mb-4"},g.createElement(Kq,{className:"text-green-500",size:22}),g.createElement("span",{className:"text-gray-600 text-sm font-medium"},"S mn  hc")),g.createElement("div",{className:"flex items-center justify-between border-l-4 border-green-400 pl-4"},g.createElement("p",{className:"text-4xl font-semibold text-green-500"},"0"))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},g.createElement("div",{className:"flex items-center gap-3 mb-4"},g.createElement(Zq,{className:"text-red-500",size:22}),g.createElement("span",{className:"text-gray-600 text-sm font-medium"},"S mn cha hc")),g.createElement("div",{className:"flex items-center justify-between border-l-4 border-red-400 pl-4"},g.createElement("p",{className:"text-4xl font-semibold text-red-500"},"0")))),g.createElement("div",{className:"grid grid-cols-2 gap-6 mb-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-normal text-gray-600"},"Lch hc trong thng"),g.createElement("button",{className:"text-blue-600 text-sm hover:underline"},"Xem thm")),g.createElement("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto"},n.map((r,i)=>g.createElement("div",{key:i,className:"flex gap-4"},g.createElement("div",{className:"flex-shrink-0 bg-gray-400 rounded-lg w-16 h-16 flex flex-col items-center justify-center text-white"},g.createElement("span",{className:"text-[10px]"},"Thng ",r.month),g.createElement("span",{className:"text-2xl font-bold"},r.day)),g.createElement("div",{className:"flex-1"},g.createElement("h3",{className:"font-semibold text-gray-800 text-sm mb-1"},"Lp: ",r.class," - Mn hc: ",r.subject),g.createElement("p",{className:"text-xs text-gray-600"},r.schedule),g.createElement("p",{className:"text-xs text-gray-600"},r.exam)))))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-normal text-gray-600"},"Lch thi trong thng"),g.createElement("button",{className:"text-blue-600 text-sm hover:underline"},"Xem thm...")),g.createElement("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto"},e.map((r,i)=>g.createElement("div",{key:i,className:"flex gap-4"},g.createElement("div",{className:"flex-shrink-0 bg-gray-400 rounded-lg w-16 h-16 flex flex-col items-center justify-center text-white"},g.createElement("span",{className:"text-[10px]"},"Thng ",r.month),g.createElement("span",{className:"text-2xl font-bold"},r.day)),g.createElement("div",{className:"flex-1"},g.createElement("h3",{className:"font-semibold text-gray-800 text-sm mb-1"},r.subject),g.createElement("p",{className:"text-xs text-gray-600"},"Lp: ",r.class," - Thi gian: ",r.time))))))),g.createElement("div",{className:"grid grid-cols-2 gap-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-normal text-gray-600"},"Lch hc ca lp bn"),g.createElement("button",{className:"text-blue-600 text-sm hover:underline"},"Xem thm")),g.createElement("div",{className:"p-6"},g.createElement("p",{className:"text-gray-400 text-center py-12 text-sm"},"Khng c d liu"))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-normal text-gray-600"},"Thng bo"),g.createElement("button",{className:"text-blue-600 text-sm hover:underline"},"Xem thm...")),g.createElement("div",{className:"p-6 space-y-4"},t.map((r,i)=>g.createElement("div",{key:i,className:"flex gap-4"},g.createElement("div",{className:`flex-shrink-0 w-24 h-14 flex items-center justify-center text-white text-[11px] font-bold rounded ${r.type==="QUYT NH"?"bg-red-700":"bg-orange-500"}`},r.type),g.createElement("div",{className:"flex-1"},g.createElement("h3",{className:"font-semibold text-gray-800 text-sm mb-1"},r.title),g.createElement("p",{className:"text-xs text-gray-500 italic leading-relaxed"},r.content))))))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-500"},"Copyright  2025 by CREATIMICSTUDIO")))}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Kb={};Kb.version="0.18.5";var ID=1252,uQ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],OD=function(n){uQ.indexOf(n)!=-1&&(ID=n)};function dQ(){OD(1252)}var Dg=function(n){OD(n)};function fQ(){Dg(1200),dQ()}var x1=function(e){return String.fromCharCode(e)},YN=function(e){return String.fromCharCode(e)},Xb,Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Fg(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0,l=0,u=0;u<n.length;)t=n.charCodeAt(u++),s=t>>2,r=n.charCodeAt(u++),o=(t&3)<<4|r>>4,i=n.charCodeAt(u++),a=(r&15)<<2|i>>6,l=i&63,isNaN(r)?a=l=64:isNaN(i)&&(l=64),e+=Xl.charAt(s)+Xl.charAt(o)+Xl.charAt(a)+Xl.charAt(l);return e}function rl(n){var e="",t=0,r=0,i=0,s=0,o=0,a=0,l=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)s=Xl.indexOf(n.charAt(u++)),o=Xl.indexOf(n.charAt(u++)),t=s<<2|o>>4,e+=String.fromCharCode(t),a=Xl.indexOf(n.charAt(u++)),r=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(r)),l=Xl.indexOf(n.charAt(u++)),i=(a&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var jt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),fl=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function xu(n){return jt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function KN(n){return jt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var uo=function(e){return jt?fl(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function vw(n){if(typeof ArrayBuffer>"u")return uo(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function N0(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function hQ(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var jr=jt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:fl(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function mQ(n){for(var e=[],t=0,r=n.length+250,i=xu(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=n.charCodeAt(++s)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|a>>6&15|(o&3)<<4,i[t++]=128|a&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=xu(65535),r=65530)}return e.push(i.slice(0,t)),jr(e)}var ng=/\u0000/g,E1=/[\u0001-\u0006]/g;function yf(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function mo(n,e){var t=""+n;return t.length>=e?t:qn("0",e-t.length)+t}function LT(n,e){var t=""+n;return t.length>=e?t:qn(" ",e-t.length)+t}function Jb(n,e){var t=""+n;return t.length>=e?t:t+qn(" ",e-t.length)}function gQ(n,e){var t=""+Math.round(n);return t.length>=e?t:qn("0",e-t.length)+t}function pQ(n,e){var t=""+n;return t.length>=e?t:qn("0",e-t.length)+t}var XN=Math.pow(2,32);function Rd(n,e){if(n>XN||n<-XN)return gQ(n,e);var t=Math.round(n);return pQ(t,e)}function Qb(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var JN=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],n2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bQ(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Xn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},QN={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},yQ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Zb(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,a=0,l=1,u=0,f=0,m=Math.floor(i);u<e&&(m=Math.floor(i),a=m*o+s,f=m*u+l,!(i-m<5e-8));)i=1/(i-m),s=o,o=a,l=u,u=f;if(f>e&&(u>e?(f=l,a=s):(f=u,a=o)),!t)return[0,r*a,f];var p=Math.floor(r*a/f);return[p,r*a-p*f,f]}function k1(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,o=[],a={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),t&&(s=TQ(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var MD=new Date(1899,11,31,0,0,0),wQ=MD.getTime(),vQ=new Date(1900,2,1,0,0,0);function DD(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=vQ&&(t+=24*60*60*1e3),(t-(wQ+(n.getTimezoneOffset()-MD.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function BT(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function _Q(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function xQ(n){var e=n<0?12:11,t=BT(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function EQ(n){var e=BT(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function kQ(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=xQ(n):e===10?t=n.toFixed(10).substr(0,12):t=EQ(n),BT(_Q(t.toUpperCase()))}function KE(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):kQ(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return sc(14,DD(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function TQ(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function SQ(n,e,t,r){var i="",s=0,o=0,a=t.y,l,u=0;switch(n){case 98:a=t.y+543;case 121:switch(e.length){case 1:case 2:l=a%100,u=2;break;default:l=a%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,u=e.length;break;case 3:return n2[t.m-1][1];case 5:return n2[t.m-1][0];default:return n2[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,u=e.length;break;case 3:return JN[t.q][0];default:return JN[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?mo(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=mo(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=a,u=1;break}var f=u>0?mo(l,u):"";return f}function Jl(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var FD=/%/g;function CQ(n,e,t){var r=e.replace(FD,""),i=e.length-r.length;return qa(n,r,t*Math.pow(10,2*i))+qn("%",i)}function AQ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return qa(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function LD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+LD(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,f){return l+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var BD=/# (\?+)( ?)\/( ?)(\d+)/;function NQ(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return t+(s===0?"":""+s)+" "+(o===0?qn(" ",n[1].length+1+n[4].length):LT(o,n[1].length)+n[2]+"/"+n[3]+mo(a,n[4].length))}function PQ(n,e,t){return t+(e===0?"":""+e)+qn(" ",n[1].length+2+n[4].length)}var VD=/^#*0*\.([0#]+)/,UD=/\).*[0#]/,zD=/\(###\) ###\\?-####/;function hi(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function ZN(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function eP(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function RQ(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function IQ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Ds(n,e,t){if(n.charCodeAt(0)===40&&!e.match(UD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ds("n",r,t):"("+Ds("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return AQ(n,e,t);if(e.indexOf("%")!==-1)return CQ(n,e,t);if(e.indexOf("E")!==-1)return LD(e,t);if(e.charCodeAt(0)===36)return"$"+Ds(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Rd(l,e.length);if(e.match(/^[#?]+$/))return i=Rd(t,0),i==="0"&&(i=""),i.length>e.length?i:hi(e.substr(0,e.length-i.length))+i;if(s=e.match(BD))return NQ(s,l,u);if(e.match(/^#+0+$/))return u+Rd(l,e.length-e.indexOf("0"));if(s=e.match(VD))return i=ZN(t,s[1].length).replace(/^([^\.]+)$/,"$1."+hi(s[1])).replace(/\.$/,"."+hi(s[1])).replace(/\.(\d*)$/,function(v,w){return"."+w+qn("0",hi(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+ZN(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Jl(Rd(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ds(n,e,-t):Jl(""+(Math.floor(t)+RQ(t,s[1].length)))+"."+mo(eP(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ds(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=yf(Ds(n,e.replace(/[\\-]/g,""),t)),o=0,yf(yf(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(e.match(zD))return i=Ds(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=Zb(l,Math.pow(10,o)-1,!1),i=""+u,f=qa("n",s[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=Jb(a[2],o),f.length<s[4].length&&(f=hi(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=Zb(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?LT(a[1],o)+s[2]+"/"+s[3]+Jb(a[2],o):qn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Rd(t,0),e.length<=i.length?i:hi(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var m=e.indexOf(".")-o,p=e.length-i.length-m;return hi(e.substr(0,m)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=eP(t,s[1].length),t<0?"-"+Ds(n,e,-t):Jl(IQ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?mo(0,3-v.length):"")+v})+"."+mo(o,s[1].length);switch(e){case"###,##0.00":return Ds(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var y=Jl(Rd(l,0));return y!=="0"?u+y:"";case"###,###.00":return Ds(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ds(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function OQ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return qa(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function MQ(n,e,t){var r=e.replace(FD,""),i=e.length-r.length;return qa(n,r,t*Math.pow(10,2*i))+qn("%",i)}function HD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+HD(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,f){return l+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Wo(n,e,t){if(n.charCodeAt(0)===40&&!e.match(UD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Wo("n",r,t):"("+Wo("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return OQ(n,e,t);if(e.indexOf("%")!==-1)return MQ(n,e,t);if(e.indexOf("E")!==-1)return HD(e,t);if(e.charCodeAt(0)===36)return"$"+Wo(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+mo(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:hi(e.substr(0,e.length-i.length))+i;if(s=e.match(BD))return PQ(s,l,u);if(e.match(/^#+0+$/))return u+mo(l,e.length-e.indexOf("0"));if(s=e.match(VD))return i=(""+t).replace(/^([^\.]+)$/,"$1."+hi(s[1])).replace(/\.$/,"."+hi(s[1])),i=i.replace(/\.(\d*)$/,function(v,w){return"."+w+qn("0",hi(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Jl(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Wo(n,e,-t):Jl(""+t)+"."+qn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Wo(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=yf(Wo(n,e.replace(/[\\-]/g,""),t)),o=0,yf(yf(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(e.match(zD))return i=Wo(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=Zb(l,Math.pow(10,o)-1,!1),i=""+u,f=qa("n",s[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=Jb(a[2],o),f.length<s[4].length&&(f=hi(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=Zb(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?LT(a[1],o)+s[2]+"/"+s[3]+Jb(a[2],o):qn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:hi(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var m=e.indexOf(".")-o,p=e.length-i.length-m;return hi(e.substr(0,m)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Wo(n,e,-t):Jl(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?mo(0,3-v.length):"")+v})+"."+mo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var y=Jl(""+l);return y!=="0"?u+y:"";default:if(e.match(/\.[0#?]*$/))return Wo(n,e.slice(0,e.lastIndexOf(".")),t)+hi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function qa(n,e,t){return(t|0)===t?Wo(n,e,t):Ds(n,e,t)}function DQ(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var $D=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function WD(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":Qb(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match($D))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function FQ(n,e,t,r){for(var i=[],s="",o=0,a="",l="t",u,f,m,p="H";o<n.length;)switch(a=n.charAt(o)){case"G":if(!Qb(n,o))throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(m=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++o;break;case"\\":var y=n.charAt(++o),v=y==="("||y===")"?y:"t";i[i.length]={t:v,v:y},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(u==null&&(u=k1(e,t,n.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=k1(e,t),u==null))return"";for(s=a;++o<n.length&&n.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=p),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var w={t:a,v:a};if(u==null&&(u=k1(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(w.v=u.H>=12?"P":"A"),w.t="T",p="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(w.v=u.H>=12?"PM":"AM"),w.t="T",o+=5,p="h"):n.substr(o,5).toUpperCase()==="/"?(u!=null&&(w.v=u.H>=12?"":""),w.t="T",o+=5,p="h"):(w.t="t",++o),u==null&&w.t==="T")return"";i[i.length]=w,l=a;break;case"[":for(s=a;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match($D)){if(u==null&&(u=k1(e,t),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",WD(n)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=a;++o<n.length&&(a=n.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<n.length&&"0#?.,E+-%".indexOf(a=n.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;n.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"t",v:a},++o;break}var E=0,k=0,T;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,l="h",E<1&&(E=1);break;case"s":(T=i[o].v.match(/\.0+$/))&&(k=Math.max(k,T[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&i[o].v.match(/[Hh]/)&&(E=1),E<2&&i[o].v.match(/[Mm]/)&&(E=2),E<3&&i[o].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",P;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=SQ(i[o].t.charCodeAt(0),i[o].v,u,k),i[o].t="t";break;case"n":case"?":for(P=o+1;i[P]!=null&&((a=i[P].t)==="?"||a==="D"||(a===" "||a==="t")&&i[P+1]!=null&&(i[P+1].t==="?"||i[P+1].t==="t"&&i[P+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[P].v==="/"||i[P].v===" "&&i[P+1]!=null&&i[P+1].t=="?"));)i[o].v+=i[P].v,i[P]={v:"",t:";"},++P;S+=i[o].v,o=P-1;break;case"G":i[o].t="t",i[o].v=KE(e,t);break}var R="",D,A;if(S.length>0){S.charCodeAt(0)==40?(D=e<0&&S.charCodeAt(0)===45?-e:e,A=qa("n",S,D)):(D=e<0&&r>1?-e:e,A=qa("n",S,D),D<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),P=A.length-1;var F=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){F=o;break}var V=i.length;if(F===i.length&&A.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(P>=i[o].v.length-1?(P-=i[o].v.length,i[o].v=A.substr(P+1,i[o].v.length)):P<0?i[o].v="":(i[o].v=A.substr(0,P+1),P=-1),i[o].t="t",V=o);P>=0&&V<i.length&&(i[V].v=A.substr(0,P+1)+i[V].v)}else if(F!==i.length&&A.indexOf("E")===-1){for(P=A.indexOf(".")-1,o=F;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===F?i[o].v.indexOf(".")-1:i[o].v.length-1,R=i[o].v.substr(f+1);f>=0;--f)P>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(R=A.charAt(P--)+R);i[o].v=R,i[o].t="t",V=o}for(P>=0&&V<i.length&&(i[V].v=A.substr(0,P+1)+i[V].v),P=A.indexOf(".")+1,o=F;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==F)){for(f=i[o].v.indexOf(".")>-1&&o===F?i[o].v.indexOf(".")+1:0,R=i[o].v.substr(0,f);f<i[o].v.length;++f)P<A.length&&(R+=A.charAt(P++));i[o].v=R,i[o].t="t",V=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(D=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=qa(i[o].t,i[o].v,D),i[o].t="t");var X="";for(o=0;o!==i.length;++o)i[o]!=null&&(X+=i[o].v);return X}var tP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function nP(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function LQ(n,e){var t=DQ(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(tP),a=t[1].match(tP);return nP(e,o)?[r,t[0]]:nP(e,a)?[r,t[1]]:[r,t[o!=null&&a!=null?2:1]]}return[r,s]}function sc(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Xn)[n],r==null&&(r=t.table&&t.table[QN[n]]||Xn[QN[n]]),r==null&&(r=yQ[n]||"General");break}if(Qb(r,0))return KE(e,t);e instanceof Date&&(e=DD(e,t.date1904));var i=LQ(r,e);if(Qb(i[1]))return KE(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return FQ(i[1],e,t,i[0])}function jD(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Xn[t]==null){e<0&&(e=t);continue}if(Xn[t]==n){e=t;break}}e<0&&(e=391)}return Xn[e]=n,e}function _w(n){for(var e=0;e!=392;++e)n[e]!==void 0&&jD(n[e],e)}function xw(){Xn=bQ()}var qD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function BQ(n){var e=typeof n=="number"?Xn[n]:n;return e=e.replace(qD,"(\\d+)"),new RegExp("^"+e+"$")}function VQ(n,e,t){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(e.match(qD)||[]).forEach(function(m,p){var y=parseInt(t[p+1],10);switch(m.toLowerCase().charAt(0)){case"y":r=y;break;case"d":s=y;break;case"h":o=y;break;case"s":l=y;break;case"m":o>=0?a=y:i=y;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?u:r==-1&&i==-1&&s==-1?f:u+"T"+f}var UQ=function(){var n={};n.version="1.2.0";function e(){for(var A=0,F=new Array(256),V=0;V!=256;++V)A=V,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,F[V]=A;return typeof Int32Array<"u"?new Int32Array(F):F}var t=e();function r(A){var F=0,V=0,X=0,re=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(X=0;X!=256;++X)re[X]=A[X];for(X=0;X!=256;++X)for(V=A[X],F=256+X;F<4096;F+=256)V=re[F]=V>>>8^A[V&255];var N=[];for(X=1;X!=16;++X)N[X-1]=typeof Int32Array<"u"?re.subarray(X*256,X*256+256):re.slice(X*256,X*256+256);return N}var i=r(t),s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],f=i[5],m=i[6],p=i[7],y=i[8],v=i[9],w=i[10],E=i[11],k=i[12],T=i[13],S=i[14];function P(A,F){for(var V=F^-1,X=0,re=A.length;X<re;)V=V>>>8^t[(V^A.charCodeAt(X++))&255];return~V}function R(A,F){for(var V=F^-1,X=A.length-15,re=0;re<X;)V=S[A[re++]^V&255]^T[A[re++]^V>>8&255]^k[A[re++]^V>>16&255]^E[A[re++]^V>>>24]^w[A[re++]]^v[A[re++]]^y[A[re++]]^p[A[re++]]^m[A[re++]]^f[A[re++]]^u[A[re++]]^l[A[re++]]^a[A[re++]]^o[A[re++]]^s[A[re++]]^t[A[re++]];for(X+=15;re<X;)V=V>>>8^t[(V^A[re++])&255];return~V}function D(A,F){for(var V=F^-1,X=0,re=A.length,N=0,te=0;X<re;)N=A.charCodeAt(X++),N<128?V=V>>>8^t[(V^N)&255]:N<2048?(V=V>>>8^t[(V^(192|N>>6&31))&255],V=V>>>8^t[(V^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,te=A.charCodeAt(X++)&1023,V=V>>>8^t[(V^(240|N>>8&7))&255],V=V>>>8^t[(V^(128|N>>2&63))&255],V=V>>>8^t[(V^(128|te>>6&15|(N&3)<<4))&255],V=V>>>8^t[(V^(128|te&63))&255]):(V=V>>>8^t[(V^(224|N>>12&15))&255],V=V>>>8^t[(V^(128|N>>6&63))&255],V=V>>>8^t[(V^(128|N&63))&255]);return~V}return n.table=t,n.bstr=P,n.buf=R,n.str=D,n}(),mn=function(){var e={};e.version="1.2.1";function t(I,H){for(var L=I.split("/"),B=H.split("/"),z=0,W=0,ce=Math.min(L.length,B.length);z<ce;++z){if(W=L[z].length-B[z].length)return W;if(L[z]!=B[z])return L[z]<B[z]?-1:1}return L.length-B.length}function r(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:r(I.slice(0,-1));var H=I.lastIndexOf("/");return H===-1?I:I.slice(0,H+1)}function i(I){if(I.charAt(I.length-1)=="/")return i(I.slice(0,-1));var H=I.lastIndexOf("/");return H===-1?I:I.slice(H+1)}function s(I,H){typeof H=="string"&&(H=new Date(H));var L=H.getHours();L=L<<6|H.getMinutes(),L=L<<5|H.getSeconds()>>>1,I.write_shift(2,L);var B=H.getFullYear()-1980;B=B<<4|H.getMonth()+1,B=B<<5|H.getDate(),I.write_shift(2,B)}function o(I){var H=I.read_shift(2)&65535,L=I.read_shift(2)&65535,B=new Date,z=L&31;L>>>=5;var W=L&15;L>>>=4,B.setMilliseconds(0),B.setFullYear(L+1980),B.setMonth(W-1),B.setDate(z);var ce=H&31;H>>>=5;var we=H&63;return H>>>=6,B.setHours(H),B.setMinutes(we),B.setSeconds(ce<<1),B}function a(I){ss(I,0);for(var H={},L=0;I.l<=I.length-4;){var B=I.read_shift(2),z=I.read_shift(2),W=I.l+z,ce={};switch(B){case 21589:L=I.read_shift(1),L&1&&(ce.mtime=I.read_shift(4)),z>5&&(L&2&&(ce.atime=I.read_shift(4)),L&4&&(ce.ctime=I.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}I.l=W,H[B]=ce}return H}var l;function u(){return l||(l={})}function f(I,H){if(I[0]==80&&I[1]==75)return yh(I,H);if((I[0]|32)==109&&(I[1]|32)==105)return Mv(I,H);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var L=3,B=512,z=0,W=0,ce=0,we=0,se=0,de=[],me=I.slice(0,512);ss(me,0);var Ie=m(me);switch(L=Ie[0],L){case 3:B=512;break;case 4:B=4096;break;case 0:if(Ie[1]==0)return yh(I,H);default:throw new Error("Major Version: Expected 3 or 4 saw "+L)}B!==512&&(me=I.slice(0,B),ss(me,28));var Ue=I.slice(0,B);p(me,L);var nt=me.read_shift(4,"i");if(L===3&&nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+nt);me.l+=4,ce=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),we=me.read_shift(4,"i"),z=me.read_shift(4,"i"),se=me.read_shift(4,"i"),W=me.read_shift(4,"i");for(var Fe=-1,Xe=0;Xe<109&&(Fe=me.read_shift(4,"i"),!(Fe<0));++Xe)de[Xe]=Fe;var gt=y(I,B);E(se,W,gt,B,de);var ln=T(gt,ce,de,B);ln[ce].name="!Directory",z>0&&we!==te&&(ln[we].name="!MiniFAT"),ln[de[0]].name="!FAT",ln.fat_addrs=de,ln.ssz=B;var cn={},En=[],ga=[],_l=[];S(ce,ln,gt,En,z,cn,ga,we),v(ga,_l,En),En.shift();var Es={FileIndex:ga,FullPaths:_l};return H&&H.raw&&(Es.raw={header:Ue,sectors:gt}),Es}function m(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(be,"Header Signature: "),I.l+=16;var H=I.read_shift(2,"u");return[I.read_shift(2,"u"),H]}function p(I,H){var L=9;switch(I.l+=2,L=I.read_shift(2)){case 9:if(H!=3)throw new Error("Sector Shift: Expected 9 saw "+L);break;case 12:if(H!=4)throw new Error("Sector Shift: Expected 12 saw "+L);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+L)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function y(I,H){for(var L=Math.ceil(I.length/H)-1,B=[],z=1;z<L;++z)B[z-1]=I.slice(z*H,(z+1)*H);return B[L-1]=I.slice(L*H),B}function v(I,H,L){for(var B=0,z=0,W=0,ce=0,we=0,se=L.length,de=[],me=[];B<se;++B)de[B]=me[B]=B,H[B]=L[B];for(;we<me.length;++we)B=me[we],z=I[B].L,W=I[B].R,ce=I[B].C,de[B]===B&&(z!==-1&&de[z]!==z&&(de[B]=de[z]),W!==-1&&de[W]!==W&&(de[B]=de[W])),ce!==-1&&(de[ce]=B),z!==-1&&B!=de[B]&&(de[z]=de[B],me.lastIndexOf(z)<we&&me.push(z)),W!==-1&&B!=de[B]&&(de[W]=de[B],me.lastIndexOf(W)<we&&me.push(W));for(B=1;B<se;++B)de[B]===B&&(W!==-1&&de[W]!==W?de[B]=de[W]:z!==-1&&de[z]!==z&&(de[B]=de[z]));for(B=1;B<se;++B)if(I[B].type!==0){if(we=B,we!=de[we])do we=de[we],H[B]=H[we]+"/"+H[B];while(we!==0&&de[we]!==-1&&we!=de[we]);de[B]=-1}for(H[0]+="/",B=1;B<se;++B)I[B].type!==2&&(H[B]+="/")}function w(I,H,L){for(var B=I.start,z=I.size,W=[],ce=B;L&&z>0&&ce>=0;)W.push(H.slice(ce*N,ce*N+N)),z-=N,ce=Yc(L,ce*4);return W.length===0?ve(0):jr(W).slice(0,I.size)}function E(I,H,L,B,z){var W=te;if(I===te){if(H!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var ce=L[I],we=(B>>>2)-1;if(!ce)return;for(var se=0;se<we&&(W=Yc(ce,se*4))!==te;++se)z.push(W);E(Yc(ce,B-4),H-1,L,B,z)}}function k(I,H,L,B,z){var W=[],ce=[];z||(z=[]);var we=B-1,se=0,de=0;for(se=H;se>=0;){z[se]=!0,W[W.length]=se,ce.push(I[se]);var me=L[Math.floor(se*4/B)];if(de=se*4&we,B<4+de)throw new Error("FAT boundary crossed: "+se+" 4 "+B);if(!I[me])break;se=Yc(I[me],de)}return{nodes:W,data:uP([ce])}}function T(I,H,L,B){var z=I.length,W=[],ce=[],we=[],se=[],de=B-1,me=0,Ie=0,Ue=0,nt=0;for(me=0;me<z;++me)if(we=[],Ue=me+H,Ue>=z&&(Ue-=z),!ce[Ue]){se=[];var Fe=[];for(Ie=Ue;Ie>=0;){Fe[Ie]=!0,ce[Ie]=!0,we[we.length]=Ie,se.push(I[Ie]);var Xe=L[Math.floor(Ie*4/B)];if(nt=Ie*4&de,B<4+nt)throw new Error("FAT boundary crossed: "+Ie+" 4 "+B);if(!I[Xe]||(Ie=Yc(I[Xe],nt),Fe[Ie]))break}W[Ue]={nodes:we,data:uP([se])}}return W}function S(I,H,L,B,z,W,ce,we){for(var se=0,de=B.length?2:0,me=H[I].data,Ie=0,Ue=0,nt;Ie<me.length;Ie+=128){var Fe=me.slice(Ie,Ie+128);ss(Fe,64),Ue=Fe.read_shift(2),nt=$T(Fe,0,Ue-de),B.push(nt);var Xe={name:nt,type:Fe.read_shift(1),color:Fe.read_shift(1),L:Fe.read_shift(4,"i"),R:Fe.read_shift(4,"i"),C:Fe.read_shift(4,"i"),clsid:Fe.read_shift(16),state:Fe.read_shift(4,"i"),start:0,size:0},gt=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);gt!==0&&(Xe.ct=P(Fe,Fe.l-8));var ln=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);ln!==0&&(Xe.mt=P(Fe,Fe.l-8)),Xe.start=Fe.read_shift(4,"i"),Xe.size=Fe.read_shift(4,"i"),Xe.size<0&&Xe.start<0&&(Xe.size=Xe.type=0,Xe.start=te,Xe.name=""),Xe.type===5?(se=Xe.start,z>0&&se!==te&&(H[se].name="!StreamData")):Xe.size>=4096?(Xe.storage="fat",H[Xe.start]===void 0&&(H[Xe.start]=k(L,Xe.start,H.fat_addrs,H.ssz)),H[Xe.start].name=Xe.name,Xe.content=H[Xe.start].data.slice(0,Xe.size)):(Xe.storage="minifat",Xe.size<0?Xe.size=0:se!==te&&Xe.start!==te&&H[se]&&(Xe.content=w(Xe,H[se].data,(H[we]||{}).data))),Xe.content&&ss(Xe.content,0),W[nt]=Xe,ce.push(Xe)}}function P(I,H){return new Date((ls(I,H+4)/1e7*Math.pow(2,32)+ls(I,H)/1e7-11644473600)*1e3)}function R(I,H){return u(),f(l.readFileSync(I),H)}function D(I,H){var L=H&&H.type;switch(L||jt&&Buffer.isBuffer(I)&&(L="buffer"),L||"base64"){case"file":return R(I,H);case"base64":return f(uo(rl(I)),H);case"binary":return f(uo(I),H)}return f(I,H)}function A(I,H){var L=H||{},B=L.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=B+"/",I.FileIndex[0]={name:B,type:5}),L.CLSID&&(I.FileIndex[0].clsid=L.CLSID),F(I)}function F(I){var H="Sh33tJ5";if(!mn.find(I,"/"+H)){var L=ve(4);L[0]=55,L[1]=L[3]=50,L[2]=54,I.FileIndex.push({name:H,type:2,content:L,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+H),V(I)}}function V(I,H){A(I);for(var L=!1,B=!1,z=I.FullPaths.length-1;z>=0;--z){var W=I.FileIndex[z];switch(W.type){case 0:B?L=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:B=!0,isNaN(W.R*W.L*W.C)&&(L=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(L=!0);break;default:L=!0;break}}if(!(!L&&!H)){var ce=new Date(1987,1,19),we=0,se=Object.create?Object.create(null):{},de=[];for(z=0;z<I.FullPaths.length;++z)se[I.FullPaths[z]]=!0,I.FileIndex[z].type!==0&&de.push([I.FullPaths[z],I.FileIndex[z]]);for(z=0;z<de.length;++z){var me=r(de[z][0]);B=se[me],B||(de.push([me,{name:i(me).replace("/",""),type:1,clsid:ne,ct:ce,mt:ce,content:null}]),se[me]=!0)}for(de.sort(function(nt,Fe){return t(nt[0],Fe[0])}),I.FullPaths=[],I.FileIndex=[],z=0;z<de.length;++z)I.FullPaths[z]=de[z][0],I.FileIndex[z]=de[z][1];for(z=0;z<de.length;++z){var Ie=I.FileIndex[z],Ue=I.FullPaths[z];if(Ie.name=i(Ue).replace("/",""),Ie.L=Ie.R=Ie.C=-(Ie.color=1),Ie.size=Ie.content?Ie.content.length:0,Ie.start=0,Ie.clsid=Ie.clsid||ne,z===0)Ie.C=de.length>1?1:-1,Ie.size=0,Ie.type=5;else if(Ue.slice(-1)=="/"){for(we=z+1;we<de.length&&r(I.FullPaths[we])!=Ue;++we);for(Ie.C=we>=de.length?-1:we,we=z+1;we<de.length&&r(I.FullPaths[we])!=r(Ue);++we);Ie.R=we>=de.length?-1:we,Ie.type=1}else r(I.FullPaths[z+1]||"")==r(Ue)&&(Ie.R=z+1),Ie.type=2}}}function X(I,H){var L=H||{};if(L.fileType=="mad")return Mo(I,L);switch(V(I),L.fileType){case"zip":return xc(I,L)}var B=function(nt){for(var Fe=0,Xe=0,gt=0;gt<nt.FileIndex.length;++gt){var ln=nt.FileIndex[gt];if(ln.content){var cn=ln.content.length;cn>0&&(cn<4096?Fe+=cn+63>>6:Xe+=cn+511>>9)}}for(var En=nt.FullPaths.length+3>>2,ga=Fe+7>>3,_l=Fe+127>>7,Es=ga+Xe+En+_l,Zs=Es+127>>7,Ec=Zs<=109?0:Math.ceil((Zs-109)/127);Es+Zs+Ec+127>>7>Zs;)Ec=++Zs<=109?0:Math.ceil((Zs-109)/127);var eo=[1,Ec,Zs,_l,En,Xe,Fe,0];return nt.FileIndex[0].size=Fe<<6,eo[7]=(nt.FileIndex[0].start=eo[0]+eo[1]+eo[2]+eo[3]+eo[4]+eo[5])+(eo[6]+7>>3),eo}(I),z=ve(B[7]<<9),W=0,ce=0;{for(W=0;W<8;++W)z.write_shift(1,xe[W]);for(W=0;W<8;++W)z.write_shift(2,0);for(z.write_shift(2,62),z.write_shift(2,3),z.write_shift(2,65534),z.write_shift(2,9),z.write_shift(2,6),W=0;W<3;++W)z.write_shift(2,0);for(z.write_shift(4,0),z.write_shift(4,B[2]),z.write_shift(4,B[0]+B[1]+B[2]+B[3]-1),z.write_shift(4,0),z.write_shift(4,4096),z.write_shift(4,B[3]?B[0]+B[1]+B[2]-1:te),z.write_shift(4,B[3]),z.write_shift(-4,B[1]?B[0]-1:te),z.write_shift(4,B[1]),W=0;W<109;++W)z.write_shift(-4,W<B[2]?B[1]+W:-1)}if(B[1])for(ce=0;ce<B[1];++ce){for(;W<236+ce*127;++W)z.write_shift(-4,W<B[2]?B[1]+W:-1);z.write_shift(-4,ce===B[1]-1?te:ce+1)}var we=function(nt){for(ce+=nt;W<ce-1;++W)z.write_shift(-4,W+1);nt&&(++W,z.write_shift(-4,te))};for(ce=W=0,ce+=B[1];W<ce;++W)z.write_shift(-4,Ee.DIFSECT);for(ce+=B[2];W<ce;++W)z.write_shift(-4,Ee.FATSECT);we(B[3]),we(B[4]);for(var se=0,de=0,me=I.FileIndex[0];se<I.FileIndex.length;++se)me=I.FileIndex[se],me.content&&(de=me.content.length,!(de<4096)&&(me.start=ce,we(de+511>>9)));for(we(B[6]+7>>3);z.l&511;)z.write_shift(-4,Ee.ENDOFCHAIN);for(ce=W=0,se=0;se<I.FileIndex.length;++se)me=I.FileIndex[se],me.content&&(de=me.content.length,!(!de||de>=4096)&&(me.start=ce,we(de+63>>6)));for(;z.l&511;)z.write_shift(-4,Ee.ENDOFCHAIN);for(W=0;W<B[4]<<2;++W){var Ie=I.FullPaths[W];if(!Ie||Ie.length===0){for(se=0;se<17;++se)z.write_shift(4,0);for(se=0;se<3;++se)z.write_shift(4,-1);for(se=0;se<12;++se)z.write_shift(4,0);continue}me=I.FileIndex[W],W===0&&(me.start=me.size?me.start-1:te);var Ue=W===0&&L.root||me.name;if(de=2*(Ue.length+1),z.write_shift(64,Ue,"utf16le"),z.write_shift(2,de),z.write_shift(1,me.type),z.write_shift(1,me.color),z.write_shift(-4,me.L),z.write_shift(-4,me.R),z.write_shift(-4,me.C),me.clsid)z.write_shift(16,me.clsid,"hex");else for(se=0;se<4;++se)z.write_shift(4,0);z.write_shift(4,me.state||0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,me.start),z.write_shift(4,me.size),z.write_shift(4,0)}for(W=1;W<I.FileIndex.length;++W)if(me=I.FileIndex[W],me.size>=4096)if(z.l=me.start+1<<9,jt&&Buffer.isBuffer(me.content))me.content.copy(z,z.l,0,me.size),z.l+=me.size+511&-512;else{for(se=0;se<me.size;++se)z.write_shift(1,me.content[se]);for(;se&511;++se)z.write_shift(1,0)}for(W=1;W<I.FileIndex.length;++W)if(me=I.FileIndex[W],me.size>0&&me.size<4096)if(jt&&Buffer.isBuffer(me.content))me.content.copy(z,z.l,0,me.size),z.l+=me.size+63&-64;else{for(se=0;se<me.size;++se)z.write_shift(1,me.content[se]);for(;se&63;++se)z.write_shift(1,0)}if(jt)z.l=z.length;else for(;z.l<z.length;)z.write_shift(1,0);return z}function re(I,H){var L=I.FullPaths.map(function(se){return se.toUpperCase()}),B=L.map(function(se){var de=se.split("/");return de[de.length-(se.slice(-1)=="/"?2:1)]}),z=!1;H.charCodeAt(0)===47?(z=!0,H=L[0].slice(0,-1)+H):z=H.indexOf("/")!==-1;var W=H.toUpperCase(),ce=z===!0?L.indexOf(W):B.indexOf(W);if(ce!==-1)return I.FileIndex[ce];var we=!W.match(E1);for(W=W.replace(ng,""),we&&(W=W.replace(E1,"!")),ce=0;ce<L.length;++ce)if((we?L[ce].replace(E1,"!"):L[ce]).replace(ng,"")==W||(we?B[ce].replace(E1,"!"):B[ce]).replace(ng,"")==W)return I.FileIndex[ce];return null}var N=64,te=-2,be="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",Ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:te,FREESECT:-1,HEADER_SIGNATURE:be,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function We(I,H,L){u();var B=X(I,L);l.writeFileSync(H,B)}function Re(I){for(var H=new Array(I.length),L=0;L<I.length;++L)H[L]=String.fromCharCode(I[L]);return H.join("")}function j(I,H){var L=X(I,H);switch(H&&H.type||"buffer"){case"file":return u(),l.writeFileSync(H.filename,L),L;case"binary":return typeof L=="string"?L:Re(L);case"base64":return Fg(typeof L=="string"?L:Re(L));case"buffer":if(jt)return Buffer.isBuffer(L)?L:fl(L);case"array":return typeof L=="string"?uo(L):L}return L}var _e;function U(I){try{var H=I.InflateRaw,L=new H;if(L._processChunk(new Uint8Array([3,0]),L._finishFlushFlag),L.bytesRead)_e=I;else throw new Error("zlib does not expose bytesRead")}catch(B){console.error("cannot use native zlib: "+(B.message||B))}}function Q(I,H){if(!_e)return Xu(I,H);var L=_e.InflateRaw,B=new L,z=B._processChunk(I.slice(I.l),B._finishFlushFlag);return I.l+=B.bytesRead,z}function Y(I){return _e?_e.deflateRawSync(I):Fr(I)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Be(I){var H=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(H>>16|H>>8|H)&255}for(var Je=typeof Uint8Array<"u",je=Je?new Uint8Array(256):[],Nt=0;Nt<256;++Nt)je[Nt]=Be(Nt);function kt(I,H){var L=je[I&255];return H<=8?L>>>8-H:(L=L<<8|je[I>>8&255],H<=16?L>>>16-H:(L=L<<8|je[I>>16&255],L>>>24-H))}function Un(I,H){var L=H&7,B=H>>>3;return(I[B]|(L<=6?0:I[B+1]<<8))>>>L&3}function Pt(I,H){var L=H&7,B=H>>>3;return(I[B]|(L<=5?0:I[B+1]<<8))>>>L&7}function ki(I,H){var L=H&7,B=H>>>3;return(I[B]|(L<=4?0:I[B+1]<<8))>>>L&15}function wn(I,H){var L=H&7,B=H>>>3;return(I[B]|(L<=3?0:I[B+1]<<8))>>>L&31}function Ge(I,H){var L=H&7,B=H>>>3;return(I[B]|(L<=1?0:I[B+1]<<8))>>>L&127}function Qr(I,H,L){var B=H&7,z=H>>>3,W=(1<<L)-1,ce=I[z]>>>B;return L<8-B||(ce|=I[z+1]<<8-B,L<16-B)||(ce|=I[z+2]<<16-B,L<24-B)||(ce|=I[z+3]<<24-B),ce&W}function ji(I,H,L){var B=H&7,z=H>>>3;return B<=5?I[z]|=(L&7)<<B:(I[z]|=L<<B&255,I[z+1]=(L&7)>>8-B),H+3}function qi(I,H,L){var B=H&7,z=H>>>3;return L=(L&1)<<B,I[z]|=L,H+1}function K(I,H,L){var B=H&7,z=H>>>3;return L<<=B,I[z]|=L&255,L>>>=8,I[z+1]=L,H+8}function le(I,H,L){var B=H&7,z=H>>>3;return L<<=B,I[z]|=L&255,L>>>=8,I[z+1]=L&255,I[z+2]=L>>>8,H+16}function ye(I,H){var L=I.length,B=2*L>H?2*L:H+5,z=0;if(L>=H)return I;if(jt){var W=KN(B);if(I.copy)I.copy(W);else for(;z<I.length;++z)W[z]=I[z];return W}else if(Je){var ce=new Uint8Array(B);if(ce.set)ce.set(I);else for(;z<L;++z)ce[z]=I[z];return ce}return I.length=B,I}function $e(I){for(var H=new Array(I),L=0;L<I;++L)H[L]=0;return H}function Ve(I,H,L){var B=1,z=0,W=0,ce=0,we=0,se=I.length,de=Je?new Uint16Array(32):$e(32);for(W=0;W<32;++W)de[W]=0;for(W=se;W<L;++W)I[W]=0;se=I.length;var me=Je?new Uint16Array(se):$e(se);for(W=0;W<se;++W)de[z=I[W]]++,B<z&&(B=z),me[W]=0;for(de[0]=0,W=1;W<=B;++W)de[W+16]=we=we+de[W-1]<<1;for(W=0;W<se;++W)we=I[W],we!=0&&(me[W]=de[we+16]++);var Ie=0;for(W=0;W<se;++W)if(Ie=I[W],Ie!=0)for(we=kt(me[W],B)>>B-Ie,ce=(1<<B+4-Ie)-1;ce>=0;--ce)H[we|ce<<Ie]=Ie&15|W<<4;return B}var Oe=Je?new Uint16Array(512):$e(512),Ze=Je?new Uint16Array(32):$e(32);if(!Je){for(var mt=0;mt<512;++mt)Oe[mt]=0;for(mt=0;mt<32;++mt)Ze[mt]=0}(function(){for(var I=[],H=0;H<32;H++)I.push(5);Ve(I,Ze,32);var L=[];for(H=0;H<=143;H++)L.push(8);for(;H<=255;H++)L.push(9);for(;H<=279;H++)L.push(7);for(;H<=287;H++)L.push(8);Ve(L,Oe,288)})();var yt=function(){for(var H=Je?new Uint8Array(32768):[],L=0,B=0;L<Ye.length-1;++L)for(;B<Ye[L+1];++B)H[B]=L;for(;B<32768;++B)H[B]=29;var z=Je?new Uint8Array(259):[];for(L=0,B=0;L<ue.length-1;++L)for(;B<ue[L+1];++B)z[B]=L;function W(we,se){for(var de=0;de<we.length;){var me=Math.min(65535,we.length-de),Ie=de+me==we.length;for(se.write_shift(1,+Ie),se.write_shift(2,me),se.write_shift(2,~me&65535);me-- >0;)se[se.l++]=we[de++]}return se.l}function ce(we,se){for(var de=0,me=0,Ie=Je?new Uint16Array(32768):[];me<we.length;){var Ue=Math.min(65535,we.length-me);if(Ue<10){for(de=ji(se,de,+(me+Ue==we.length)),de&7&&(de+=8-(de&7)),se.l=de/8|0,se.write_shift(2,Ue),se.write_shift(2,~Ue&65535);Ue-- >0;)se[se.l++]=we[me++];de=se.l*8;continue}de=ji(se,de,+(me+Ue==we.length)+2);for(var nt=0;Ue-- >0;){var Fe=we[me];nt=(nt<<5^Fe)&32767;var Xe=-1,gt=0;if((Xe=Ie[nt])&&(Xe|=me&-32768,Xe>me&&(Xe-=32768),Xe<me))for(;we[Xe+gt]==we[me+gt]&&gt<250;)++gt;if(gt>2){Fe=z[gt],Fe<=22?de=K(se,de,je[Fe+1]>>1)-1:(K(se,de,3),de+=5,K(se,de,je[Fe-23]>>5),de+=3);var ln=Fe<8?0:Fe-4>>2;ln>0&&(le(se,de,gt-ue[Fe]),de+=ln),Fe=H[me-Xe],de=K(se,de,je[Fe]>>3),de-=3;var cn=Fe<4?0:Fe-2>>1;cn>0&&(le(se,de,me-Xe-Ye[Fe]),de+=cn);for(var En=0;En<gt;++En)Ie[nt]=me&32767,nt=(nt<<5^we[me])&32767,++me;Ue-=gt-1}else Fe<=143?Fe=Fe+48:de=qi(se,de,1),de=K(se,de,je[Fe]),Ie[nt]=me&32767,++me}de=K(se,de,0)-1}return se.l=(de+7)/8|0,se.l}return function(se,de){return se.length<8?W(se,de):ce(se,de)}}();function Fr(I){var H=ve(50+Math.floor(I.length*1.1)),L=yt(I,H);return H.slice(0,L)}var ha=Je?new Uint16Array(32768):$e(32768),Gi=Je?new Uint16Array(32768):$e(32768),ma=Je?new Uint16Array(128):$e(128),Qs=1,Ti=1;function yl(I,H){var L=wn(I,H)+257;H+=5;var B=wn(I,H)+1;H+=5;var z=ki(I,H)+4;H+=4;for(var W=0,ce=Je?new Uint8Array(19):$e(19),we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],se=1,de=Je?new Uint8Array(8):$e(8),me=Je?new Uint8Array(8):$e(8),Ie=ce.length,Ue=0;Ue<z;++Ue)ce[J[Ue]]=W=Pt(I,H),se<W&&(se=W),de[W]++,H+=3;var nt=0;for(de[0]=0,Ue=1;Ue<=se;++Ue)me[Ue]=nt=nt+de[Ue-1]<<1;for(Ue=0;Ue<Ie;++Ue)(nt=ce[Ue])!=0&&(we[Ue]=me[nt]++);var Fe=0;for(Ue=0;Ue<Ie;++Ue)if(Fe=ce[Ue],Fe!=0){nt=je[we[Ue]]>>8-Fe;for(var Xe=(1<<7-Fe)-1;Xe>=0;--Xe)ma[nt|Xe<<Fe]=Fe&7|Ue<<3}var gt=[];for(se=1;gt.length<L+B;)switch(nt=ma[Ge(I,H)],H+=nt&7,nt>>>=3){case 16:for(W=3+Un(I,H),H+=2,nt=gt[gt.length-1];W-- >0;)gt.push(nt);break;case 17:for(W=3+Pt(I,H),H+=3;W-- >0;)gt.push(0);break;case 18:for(W=11+Ge(I,H),H+=7;W-- >0;)gt.push(0);break;default:gt.push(nt),se<nt&&(se=nt);break}var ln=gt.slice(0,L),cn=gt.slice(L);for(Ue=L;Ue<286;++Ue)ln[Ue]=0;for(Ue=B;Ue<30;++Ue)cn[Ue]=0;return Qs=Ve(ln,ha,286),Ti=Ve(cn,Gi,30),H}function Oo(I,H){if(I[0]==3&&!(I[1]&3))return[xu(H),2];for(var L=0,B=0,z=KN(H||1<<18),W=0,ce=z.length>>>0,we=0,se=0;(B&1)==0;){if(B=Pt(I,L),L+=3,B>>>1)B>>1==1?(we=9,se=5):(L=yl(I,L),we=Qs,se=Ti);else{L&7&&(L+=8-(L&7));var de=I[L>>>3]|I[(L>>>3)+1]<<8;if(L+=32,de>0)for(!H&&ce<W+de&&(z=ye(z,W+de),ce=z.length);de-- >0;)z[W++]=I[L>>>3],L+=8;continue}for(;;){!H&&ce<W+32767&&(z=ye(z,W+32767),ce=z.length);var me=Qr(I,L,we),Ie=B>>>1==1?Oe[me]:ha[me];if(L+=Ie&15,Ie>>>=4,(Ie>>>8&255)===0)z[W++]=Ie;else{if(Ie==256)break;Ie-=257;var Ue=Ie<8?0:Ie-4>>2;Ue>5&&(Ue=0);var nt=W+ue[Ie];Ue>0&&(nt+=Qr(I,L,Ue),L+=Ue),me=Qr(I,L,se),Ie=B>>>1==1?Ze[me]:Gi[me],L+=Ie&15,Ie>>>=4;var Fe=Ie<4?0:Ie-2>>1,Xe=Ye[Ie];for(Fe>0&&(Xe+=Qr(I,L,Fe),L+=Fe),!H&&ce<nt&&(z=ye(z,nt+100),ce=z.length);W<nt;)z[W]=z[W-Xe],++W}}}return H?[z,L+7>>>3]:[z.slice(0,W),L+7>>>3]}function Xu(I,H){var L=I.slice(I.l||0),B=Oo(L,H);return I.l+=B[1],B[0]}function wl(I,H){if(I)typeof console<"u"&&console.error(H);else throw new Error(H)}function yh(I,H){var L=I;ss(L,0);var B=[],z=[],W={FileIndex:B,FullPaths:z};A(W,{root:H.root});for(var ce=L.length-4;(L[ce]!=80||L[ce+1]!=75||L[ce+2]!=5||L[ce+3]!=6)&&ce>=0;)--ce;L.l=ce+4,L.l+=4;var we=L.read_shift(2);L.l+=6;var se=L.read_shift(4);for(L.l=se,ce=0;ce<we;++ce){L.l+=20;var de=L.read_shift(4),me=L.read_shift(4),Ie=L.read_shift(2),Ue=L.read_shift(2),nt=L.read_shift(2);L.l+=8;var Fe=L.read_shift(4),Xe=a(L.slice(L.l+Ie,L.l+Ie+Ue));L.l+=Ie+Ue+nt;var gt=L.l;L.l=Fe+4,wh(L,de,me,W,Xe),L.l=gt}return W}function wh(I,H,L,B,z){I.l+=2;var W=I.read_shift(2),ce=I.read_shift(2),we=o(I);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var se=I.read_shift(4),de=I.read_shift(4),me=I.read_shift(4),Ie=I.read_shift(2),Ue=I.read_shift(2),nt="",Fe=0;Fe<Ie;++Fe)nt+=String.fromCharCode(I[I.l++]);if(Ue){var Xe=a(I.slice(I.l,I.l+Ue));(Xe[21589]||{}).mt&&(we=Xe[21589].mt),((z||{})[21589]||{}).mt&&(we=z[21589].mt)}I.l+=Ue;var gt=I.slice(I.l,I.l+de);switch(ce){case 8:gt=Q(I,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var ln=!1;W&8&&(se=I.read_shift(4),se==134695760&&(se=I.read_shift(4),ln=!0),de=I.read_shift(4),me=I.read_shift(4)),de!=H&&wl(ln,"Bad compressed size: "+H+" != "+de),me!=L&&wl(ln,"Bad uncompressed size: "+L+" != "+me),Sr(B,nt,gt,{unsafe:!0,mt:we})}function xc(I,H){var L=H||{},B=[],z=[],W=ve(1),ce=L.compression?8:0,we=0,se=0,de=0,me=0,Ie=0,Ue=I.FullPaths[0],nt=Ue,Fe=I.FileIndex[0],Xe=[],gt=0;for(se=1;se<I.FullPaths.length;++se)if(nt=I.FullPaths[se].slice(Ue.length),Fe=I.FileIndex[se],!(!Fe.size||!Fe.content||nt=="Sh33tJ5")){var ln=me,cn=ve(nt.length);for(de=0;de<nt.length;++de)cn.write_shift(1,nt.charCodeAt(de)&127);cn=cn.slice(0,cn.l),Xe[Ie]=UQ.buf(Fe.content,0);var En=Fe.content;ce==8&&(En=Y(En)),W=ve(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,we),W.write_shift(2,ce),Fe.mt?s(W,Fe.mt):W.write_shift(4,0),W.write_shift(-4,Xe[Ie]),W.write_shift(4,En.length),W.write_shift(4,Fe.content.length),W.write_shift(2,cn.length),W.write_shift(2,0),me+=W.length,B.push(W),me+=cn.length,B.push(cn),me+=En.length,B.push(En),W=ve(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,we),W.write_shift(2,ce),W.write_shift(4,0),W.write_shift(-4,Xe[Ie]),W.write_shift(4,En.length),W.write_shift(4,Fe.content.length),W.write_shift(2,cn.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,ln),gt+=W.l,z.push(W),gt+=cn.length,z.push(cn),++Ie}return W=ve(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,Ie),W.write_shift(2,Ie),W.write_shift(4,gt),W.write_shift(4,me),W.write_shift(2,0),jr([jr(B),jr(z),W])}var Ju={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function op(I,H){if(I.ctype)return I.ctype;var L=I.name||"",B=L.match(/\.([^\.]+)$/);return B&&Ju[B[1]]||H&&(B=(L=H).match(/[\.\\]([^\.\\])+$/),B&&Ju[B[1]])?Ju[B[1]]:"application/octet-stream"}function ap(I){for(var H=Fg(I),L=[],B=0;B<H.length;B+=76)L.push(H.slice(B,B+76));return L.join(`\r
`)+`\r
`}function vh(I){var H=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var me=de.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});H=H.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),H.charAt(0)==`
`&&(H="=0D"+H.slice(1)),H=H.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var L=[],B=H.split(`\r
`),z=0;z<B.length;++z){var W=B[z];if(W.length==0){L.push("");continue}for(var ce=0;ce<W.length;){var we=76,se=W.slice(ce,ce+we);se.charAt(we-1)=="="?we--:se.charAt(we-2)=="="?we-=2:se.charAt(we-3)=="="&&(we-=3),se=W.slice(ce,ce+we),ce+=we,ce<W.length&&(se+="="),L.push(se)}}return L.join(`\r
`)}function _h(I){for(var H=[],L=0;L<I.length;++L){for(var B=I[L];L<=I.length&&B.charAt(B.length-1)=="=";)B=B.slice(0,B.length-1)+I[++L];H.push(B)}for(var z=0;z<H.length;++z)H[z]=H[z].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return uo(H.join(`\r
`))}function lp(I,H,L){for(var B="",z="",W="",ce,we=0;we<10;++we){var se=H[we];if(!se||se.match(/^\s*$/))break;var de=se.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":B=de[2].trim();break;case"content-type":W=de[2].trim();break;case"content-transfer-encoding":z=de[2].trim();break}}switch(++we,z.toLowerCase()){case"base64":ce=uo(rl(H.slice(we).join("")));break;case"quoted-printable":ce=_h(H.slice(we));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+z)}var me=Sr(I,B.slice(L.length),ce,{unsafe:!0});W&&(me.ctype=W)}function Mv(I,H){if(Re(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var L=H&&H.root||"",B=(jt&&Buffer.isBuffer(I)?I.toString("binary"):Re(I)).split(`\r
`),z=0,W="";for(z=0;z<B.length;++z)if(W=B[z],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),L||(L=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,L.length)!=L))for(;L.length>0&&(L=L.slice(0,L.length-1),L=L.slice(0,L.lastIndexOf("/")+1),W.slice(0,L.length)!=L););var ce=(B[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var we="--"+(ce[1]||""),se=[],de=[],me={FileIndex:se,FullPaths:de};A(me);var Ie,Ue=0;for(z=0;z<B.length;++z){var nt=B[z];nt!==we&&nt!==we+"--"||(Ue++&&lp(me,B.slice(Ie,z),L),Ie=z)}return me}function Mo(I,H){var L=H||{},B=L.boundary||"SheetJS";B="------="+B;for(var z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+B.slice(2)+'"',"","",""],W=I.FullPaths[0],ce=W,we=I.FileIndex[0],se=1;se<I.FullPaths.length;++se)if(ce=I.FullPaths[se].slice(W.length),we=I.FileIndex[se],!(!we.size||!we.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(gt){return"_x"+gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(gt){return"_u"+gt.charCodeAt(0).toString(16)+"_"});for(var de=we.content,me=jt&&Buffer.isBuffer(de)?de.toString("binary"):Re(de),Ie=0,Ue=Math.min(1024,me.length),nt=0,Fe=0;Fe<=Ue;++Fe)(nt=me.charCodeAt(Fe))>=32&&nt<128&&++Ie;var Xe=Ie>=Ue*4/5;z.push(B),z.push("Content-Location: "+(L.root||"file:///C:/SheetJS/")+ce),z.push("Content-Transfer-Encoding: "+(Xe?"quoted-printable":"base64")),z.push("Content-Type: "+op(we,ce)),z.push(""),z.push(Xe?vh(me):ap(me))}return z.push(B+`--\r
`),z.join(`\r
`)}function Tr(I){var H={};return A(H,I),H}function Sr(I,H,L,B){var z=B&&B.unsafe;z||A(I);var W=!z&&mn.find(I,H);if(!W){var ce=I.FullPaths[0];H.slice(0,ce.length)==ce?ce=H:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+H).replace("//","/")),W={name:i(H),type:2},I.FileIndex.push(W),I.FullPaths.push(ce),z||mn.utils.cfb_gc(I)}return W.content=L,W.size=L?L.length:0,B&&(B.CLSID&&(W.clsid=B.CLSID),B.mt&&(W.mt=B.mt),B.ct&&(W.ct=B.ct)),W}function vl(I,H){A(I);var L=mn.find(I,H);if(L){for(var B=0;B<I.FileIndex.length;++B)if(I.FileIndex[B]==L)return I.FileIndex.splice(B,1),I.FullPaths.splice(B,1),!0}return!1}function xh(I,H,L){A(I);var B=mn.find(I,H);if(B){for(var z=0;z<I.FileIndex.length;++z)if(I.FileIndex[z]==B)return I.FileIndex[z].name=i(L),I.FullPaths[z]=L,!0}return!1}function Dv(I){V(I,!0)}return e.find=re,e.read=D,e.parse=f,e.write=j,e.writeFile=We,e.utils={cfb_new:Tr,cfb_add:Sr,cfb_del:vl,cfb_mov:xh,cfb_gc:Dv,ReadShift:ig,CheckField:u8,prep_blob:ss,bconcat:jr,use_zlib:U,_deflateRaw:Fr,_inflateRaw:Xu,consts:Ee},e}();function zQ(n){return typeof n=="string"?vw(n):Array.isArray(n)?hQ(n):n}function P0(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=vw(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?Bg(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([zQ(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(n);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=N0(e)),a.write(e),a.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+n)}function Kr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function rP(n,e){for(var t=[],r=Kr(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function VT(n){for(var e=[],t=Kr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function Ew(n){for(var e=[],t=Kr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function HQ(n){for(var e=[],t=Kr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var ey=new Date(1899,11,30,0,0,0);function Hi(n,e){var t=n.getTime(),r=ey.getTime()+(n.getTimezoneOffset()-ey.getTimezoneOffset())*6e4;return(t-r)/(24*60*60*1e3)}var GD=new Date,$Q=ey.getTime()+(GD.getTimezoneOffset()-ey.getTimezoneOffset())*6e4,iP=GD.getTimezoneOffset();function YD(n){var e=new Date;return e.setTime(n*24*60*60*1e3+$Q),e.getTimezoneOffset()!==iP&&e.setTime(e.getTime()+(e.getTimezoneOffset()-iP)*6e4),e}var sP=new Date("2017-02-19T19:06:09.000Z"),KD=isNaN(sP.getFullYear())?new Date("2/19/17"):sP,WQ=KD.getFullYear()==2017;function wi(n,e){var t=new Date(n);if(WQ)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(KD.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function kw(n,e){if(jt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function $i(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=$i(n[t]));return e}function qn(n,e){for(var t="";t.length<e;)t+=n;return t}function Ga(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var jQ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Lg(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&jQ.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function Et(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return jt?r=fl(t):r=mQ(t),mn.utils.cfb_add(n,e,r)}mn.utils.cfb_add(n,e,t)}else n.file(e,t)}function UT(){return mn.utils.cfb_new()}var gr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,qQ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},zT=VT(qQ),HT=/[&<>'"]/g,GQ=/[\u0000-\u0008\u000b-\u001f]/g;function sn(n){var e=n+"";return e.replace(HT,function(t){return zT[t]}).replace(GQ,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function oP(n){return sn(n).replace(/ /g,"_x0020_")}var XD=/[\u0000-\u001f]/g;function YQ(n){var e=n+"";return e.replace(HT,function(t){return zT[t]}).replace(/\n/g,"<br/>").replace(XD,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function KQ(n){var e=n+"";return e.replace(HT,function(t){return zT[t]}).replace(XD,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function XQ(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function JQ(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function r2(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=n.charCodeAt(t++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function aP(n){var e=xu(2*n.length),t,r,i=1,s=0,o=0,a;for(r=0;r<n.length;r+=i)i=1,(a=n.charCodeAt(r))<128?t=a:a<224?(t=(a&31)*64+(n.charCodeAt(r+1)&63),i=2):a<240?(t=(a&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(a&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function lP(n){return fl(n,"binary").toString("utf8")}var T1="foo bar baz",rg=jt&&(lP(T1)==r2(T1)&&lP||aP(T1)==r2(T1)&&aP)||r2,Bg=jt?function(n){return fl(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},QQ=function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),JD=/(^\s|\s$|\n)/;function qr(n,e){return"<"+n+(e.match(JD)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Vg(n){return Kr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function ze(n,e,t){return"<"+n+(t!=null?Vg(t):"")+(e!=null?(e.match(JD)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function XE(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function ZQ(n,e){switch(typeof n){case"string":var t=ze("vt:lpwstr",sn(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return ze((n|0)==n?"vt:i4":"vt:r8",sn(String(n)));case"boolean":return ze("vt:bool",n?"true":"false")}if(n instanceof Date)return ze("vt:filetime",XE(n));throw new Error("Unable to serialize "+n)}var Rr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},rh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],as={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function eZ(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function tZ(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)n[t+a]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var cP=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},uP=jt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:fl(e)})):cP(n)}:cP,dP=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(Wm(n,i)));return r.join("").replace(ng,"")},$T=jt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(ng,""):dP(n,e,t)}:dP,fP=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},QD=jt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):fP(n,e,t)}:fP,hP=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Xd(n,i)));return r.join("")},R0=jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):hP(e,t,r)}:hP,ZD=function(n,e){var t=ls(n,e);return t>0?R0(n,e+4,e+4+t-1):""},e8=ZD,t8=function(n,e){var t=ls(n,e);return t>0?R0(n,e+4,e+4+t-1):""},n8=t8,r8=function(n,e){var t=2*ls(n,e);return t>0?R0(n,e+4,e+4+t-1):""},i8=r8,s8=function(e,t){var r=ls(e,t);return r>0?$T(e,t+4,t+4+r):""},o8=s8,a8=function(n,e){var t=ls(n,e);return t>0?R0(n,e+4,e+4+t):""},l8=a8,c8=function(n,e){return eZ(n,e)},ty=c8,WT=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};jt&&(e8=function(e,t){if(!Buffer.isBuffer(e))return ZD(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},n8=function(e,t){if(!Buffer.isBuffer(e))return t8(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},i8=function(e,t){if(!Buffer.isBuffer(e))return r8(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},o8=function(e,t){if(!Buffer.isBuffer(e))return s8(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},l8=function(e,t){if(!Buffer.isBuffer(e))return a8(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},ty=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):c8(e,t)},WT=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Xd=function(n,e){return n[e]},Wm=function(n,e){return n[e+1]*256+n[e]},nZ=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},ls=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Yc=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},rZ=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function ig(n,e){var t="",r,i,s=[],o,a,l,u;switch(e){case"dbcs":if(u=this.l,jt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(l=0;l<n;++l)t+=String.fromCharCode(Wm(this,u)),u+=2;n*=2;break;case"utf8":t=R0(this,this.l,this.l+n);break;case"utf16le":n*=2,t=$T(this,this.l,this.l+n);break;case"wstr":return ig.call(this,n,"dbcs");case"lpstr-ansi":t=e8(this,this.l),n=4+ls(this,this.l);break;case"lpstr-cp":t=n8(this,this.l),n=4+ls(this,this.l);break;case"lpwstr":t=i8(this,this.l),n=4+2*ls(this,this.l);break;case"lpp4":n=4+ls(this,this.l),t=o8(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+ls(this,this.l),t=l8(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=Xd(this,this.l+n++))!==0;)s.push(x1(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=Wm(this,this.l+n))!==0;)s.push(x1(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",u=this.l,l=0;l<n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Xd(this,u),this.l=u+1,a=ig.call(this,n-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(x1(Wm(this,u))),u+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,l=0;l!=n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Xd(this,u),this.l=u+1,a=ig.call(this,n-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(x1(Xd(this,u))),u+=1}t=s.join("");break;default:switch(n){case 1:return r=Xd(this,this.l),this.l++,r;case 2:return r=(e==="i"?nZ:Wm)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Yc:rZ)(this,this.l),this.l+=4,r):(i=ls(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=ty(this,this.l):i=ty([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=QD(this,this.l,n);break}}return this.l+=n,t}var iZ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},sZ=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},oZ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function aZ(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)oZ(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,iZ(this,e,this.l);break;case 8:if(r=8,t==="f"){tZ(this,e,this.l);break}case 16:break;case-4:r=4,sZ(this,e,this.l);break}return this.l+=r,this}function u8(n,e){var t=QD(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function ss(n,e){n.l=e,n.read_shift=ig,n.chk=u8,n.write_shift=aZ}function ra(n,e){n.l+=e}function ve(n){var e=xu(n);return ss(e,0),e}function Vi(){var n=[],e=jt?256:2048,t=function(u){var f=ve(u);return ss(f,0),f},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(u){return r&&u<r.length-r.l?r:(i(),r=t(Math.max(u+1,e)))},o=function(){return i(),jr(n)},a=function(u){i(),r=u,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:a,end:o,_bufs:n}}function Pe(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=ese[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&WT(t)&&n.push(t)}}function sg(n,e,t){var r=$i(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function mP(n,e,t){var r=$i(n);return r.s=sg(r.s,e.s,t),r.e=sg(r.e,e.s,t),r}function og(n,e){if(n.cRel&&n.c<0)for(n=$i(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=$i(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=on(n);return!n.cRel&&n.cRel!=null&&(t=uZ(t)),!n.rRel&&n.rRel!=null&&(t=lZ(t)),t}function i2(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+oi(n.s.c)+":"+(n.e.cRel?"":"$")+oi(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Yr(n.s.r)+":"+(n.e.rRel?"":"$")+Yr(n.e.r):og(n.s,e.biff)+":"+og(n.e,e.biff)}function jT(n){return parseInt(cZ(n),10)-1}function Yr(n){return""+(n+1)}function lZ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cZ(n){return n.replace(/\$(\d+)$/,"$1")}function qT(n){for(var e=dZ(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function oi(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function uZ(n){return n.replace(/^([A-Z])/,"$$$1")}function dZ(n){return n.replace(/^\$([A-Z])/,"$1")}function fZ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Or(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function on(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function ys(n){var e=n.indexOf(":");return e==-1?{s:Or(n),e:Or(n)}:{s:Or(n.slice(0,e)),e:Or(n.slice(e+1))}}function dr(n,e){return typeof e>"u"||typeof e=="number"?dr(n.s,n.e):(typeof n!="string"&&(n=on(n)),typeof e!="string"&&(e=on(e)),n==e?n:n+":"+e)}function An(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function gP(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=sc(n.z,t?Hi(e):e)}catch{}try{return n.w=sc((n.XF||{}).numFmtId||(t?14:0),t?Hi(e):e)}catch{return""+e}}function il(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?I0[n.v]||n.v:e==null?gP(n,n.v):gP(n,e))}function Ru(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function d8(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Or(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=An(s["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[m].length;++p)if(!(typeof e[m][p]>"u")){var y={v:e[m][p]},v=o+m,w=a+p;if(u.s.r>v&&(u.s.r=v),u.s.c>w&&(u.s.c=w),u.e.r<v&&(u.e.r=v),u.e.c<w&&(u.e.c=w),e[m][p]&&typeof e[m][p]=="object"&&!Array.isArray(e[m][p])&&!(e[m][p]instanceof Date))y=e[m][p];else if(Array.isArray(y.v)&&(y.f=e[m][p][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(r.nullError)y.t="e",y.v=0;else if(r.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=r.dateNF||Xn[14],r.cellDates?(y.t="d",y.w=sc(y.z,Hi(y.v))):(y.t="n",y.v=Hi(y.v),y.w=sc(y.z,y.v))):y.t="s";if(i)s[v]||(s[v]=[]),s[v][w]&&s[v][w].z&&(y.z=s[v][w].z),s[v][w]=y;else{var E=on({c:w,r:v});s[E]&&s[E].z&&(y.z=s[E].z),s[E]=y}}}return u.s.c<1e7&&(s["!ref"]=dr(u)),s}function ih(n,e){return d8(null,n,e)}function hZ(n){return n.read_shift(4,"i")}function bo(n,e){return e||(e=ve(4)),e.write_shift(4,n),e}function ai(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Mr(n,e){var t=!1;return e==null&&(t=!0,e=ve(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function mZ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function gZ(n,e){return e||(e=ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function GT(n,e){var t=n.l,r=n.read_shift(1),i=ai(n),s=[],o={t:i,h:i};if((r&1)!==0){for(var a=n.read_shift(4),l=0;l!=a;++l)s.push(mZ(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function pZ(n,e){var t=!1;return e==null&&(t=!0,e=ve(15+4*n.t.length)),e.write_shift(1,0),Mr(n.t,e),t?e.slice(0,e.l):e}var bZ=GT;function yZ(n,e){var t=!1;return e==null&&(t=!0,e=ve(23+4*n.t.length)),e.write_shift(1,1),Mr(n.t,e),e.write_shift(4,1),gZ({},e),t?e.slice(0,e.l):e}function Gs(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Iu(n,e){return e==null&&(e=ve(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Ou(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Mu(n,e){return e==null&&(e=ve(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var wZ=ai,f8=Mr;function YT(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function ny(n,e){var t=!1;return e==null&&(t=!0,e=ve(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var vZ=ai,JE=YT,KT=ny;function h8(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?ty([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Yc(e,0)>>2;return t?i/100:i}function m8(n,e){e==null&&(e=ve(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function g8(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function _Z(n,e){return e||(e=ve(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Du=g8,sh=_Z;function oh(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Eu(n,e){return(e||ve(8)).write_shift(8,n,"f")}function xZ(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),a=n.read_shift(1),l=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=RZ[i];u&&(e.rgb=SP(u));break;case 2:e.rgb=SP([o,a,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function ry(n,e){if(e||(e=ve(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function EZ(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function kZ(n,e){e||(e=ve(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var p8=2,ts=3,S1=11,iy=19,C1=64,TZ=65,SZ=71,CZ=4108,AZ=4126,Hr=80,pP={1:{n:"CodePage",t:p8},2:{n:"Category",t:Hr},3:{n:"PresentationFormat",t:Hr},4:{n:"ByteCount",t:ts},5:{n:"LineCount",t:ts},6:{n:"ParagraphCount",t:ts},7:{n:"SlideCount",t:ts},8:{n:"NoteCount",t:ts},9:{n:"HiddenCount",t:ts},10:{n:"MultimediaClipCount",t:ts},11:{n:"ScaleCrop",t:S1},12:{n:"HeadingPairs",t:CZ},13:{n:"TitlesOfParts",t:AZ},14:{n:"Manager",t:Hr},15:{n:"Company",t:Hr},16:{n:"LinksUpToDate",t:S1},17:{n:"CharacterCount",t:ts},19:{n:"SharedDoc",t:S1},22:{n:"HyperlinksChanged",t:S1},23:{n:"AppVersion",t:ts,p:"version"},24:{n:"DigSig",t:TZ},26:{n:"ContentType",t:Hr},27:{n:"ContentStatus",t:Hr},28:{n:"Language",t:Hr},29:{n:"Version",t:Hr},255:{},2147483648:{n:"Locale",t:iy},2147483651:{n:"Behavior",t:iy},1919054434:{}},bP={1:{n:"CodePage",t:p8},2:{n:"Title",t:Hr},3:{n:"Subject",t:Hr},4:{n:"Author",t:Hr},5:{n:"Keywords",t:Hr},6:{n:"Comments",t:Hr},7:{n:"Template",t:Hr},8:{n:"LastAuthor",t:Hr},9:{n:"RevNumber",t:Hr},10:{n:"EditTime",t:C1},11:{n:"LastPrinted",t:C1},12:{n:"CreatedDate",t:C1},13:{n:"ModifiedDate",t:C1},14:{n:"PageCount",t:ts},15:{n:"WordCount",t:ts},16:{n:"CharCount",t:ts},17:{n:"Thumbnail",t:SZ},18:{n:"Application",t:Hr},19:{n:"DocSecurity",t:ts},255:{},2147483648:{n:"Locale",t:iy},2147483651:{n:"Behavior",t:iy},1919054434:{}};function NZ(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var PZ=NZ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),RZ=$i(PZ),I0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},IZ={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},A1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function b8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function y8(n,e){var t=HQ(IZ),r=[],i;r[r.length]=gr,r[r.length]=ze("Types",null,{xmlns:Rr.CT,"xmlns:xsd":Rr.xsd,"xmlns:xsi":Rr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ze("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){n[l]&&n[l].length>0&&(i=n[l][0],r[r.length]=ze("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:A1[l][e.bookType]||A1[l].xlsx}))},o=function(l){(n[l]||[]).forEach(function(u){r[r.length]=ze("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:A1[l][e.bookType]||A1[l].xlsx})})},a=function(l){(n[l]||[]).forEach(function(u){r[r.length]=ze("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Bt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function w8(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function wf(n){var e=[gr,ze("Relationships",null,{xmlns:Rr.RELS})];return Kr(n["!id"]).forEach(function(t){e[e.length]=ze("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function rn(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[Bt.HLINK,Bt.XPATH,Bt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function OZ(n){var e=[gr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function yP(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function MZ(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function DZ(n){var e=[gr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(yP(n[t][0],n[t][1])),e.push(MZ("",n[t][0]));return e.push(yP("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function v8(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Kb.version+"</meta:generator></office:meta></office:document-meta>"}var fu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function s2(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=sn(e),r[r.length]=t?ze(n,e,t):qr(n,e))}function _8(n,e){var t=e||{},r=[gr,ze("cp:coreProperties",null,{"xmlns:cp":Rr.CORE_PROPS,"xmlns:dc":Rr.dc,"xmlns:dcterms":Rr.dcterms,"xmlns:dcmitype":Rr.dcmitype,"xmlns:xsi":Rr.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&s2("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:XE(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&s2("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:XE(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=fu.length;++s){var o=fu[s],a=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&s2(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var vf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],x8=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function E8(n){var e=[],t=ze;return n||(n={}),n.Application="SheetJS",e[e.length]=gr,e[e.length]=ze("Properties",null,{xmlns:Rr.EXT_PROPS,"xmlns:vt":Rr.vt}),vf.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=sn(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+sn(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function k8(n){var e=[gr,ze("Properties",null,{xmlns:Rr.CUST_PROPS,"xmlns:vt":Rr.vt})];if(!n)return e.join("");var t=1;return Kr(n).forEach(function(i){++t,e[e.length]=ze("property",ZQ(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:sn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var wP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function FZ(n,e){var t=[];return Kr(wP).map(function(r){for(var i=0;i<fu.length;++i)if(fu[i][1]==r)return fu[i];for(i=0;i<vf.length;++i)if(vf[i][1]==r)return vf[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(qr(wP[r[1]]||r[1],i))}}),ze("DocumentProperties",t.join(""),{xmlns:as.o})}function LZ(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Kr(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<fu.length;++o)if(s==fu[o][1])return;for(o=0;o<vf.length;++o)if(s==vf[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var a=n[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),i.push(ze(oP(s),a,{"dt:dt":l}))}}),e&&Kr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(ze(oP(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+as.o+'">'+i.join("")+"</"+r+">"}function BZ(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=ve(8);return o.write_shift(4,r),o.write_shift(4,i),o}function vP(n,e){var t=ve(4),r=ve(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=ve(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=BZ(e);break;case 31:case 80:for(r=ve(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return jr([t,r])}var T8=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function VZ(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function _P(n,e,t){var r=ve(8),i=[],s=[],o=8,a=0,l=ve(8),u=ve(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),o+=8+l.length,!e){u=ve(8),u.write_shift(4,0),i.unshift(u);var f=[ve(4)];for(f[0].write_shift(4,n.length),a=0;a<n.length;++a){var m=n[a][0];for(l=ve(8+2*(m.length+1)+(m.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,m.length+1),l.write_shift(0,m,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=jr(f),s.unshift(l),o+=8+l.length}for(a=0;a<n.length;++a)if(!(e&&!e[n[a][0]])&&!(T8.indexOf(n[a][0])>-1||x8.indexOf(n[a][0])>-1)&&n[a][1]!=null){var p=n[a][1],y=0;if(e){y=+e[n[a][0]];var v=t[y];if(v.p=="version"&&typeof p=="string"){var w=p.split(".");p=(+w[0]<<16)+(+w[1]||0)}l=vP(v.t,p)}else{var E=VZ(p);E==-1&&(E=31,p=String(p)),l=vP(E,p)}s.push(l),u=ve(8),u.write_shift(4,e?y:2+a),i.push(u),o+=8+l.length}var k=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,k),k+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),jr([r].concat(i).concat(s))}function xP(n,e,t,r,i,s){var o=ve(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,mn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var l=_P(n,t,r);if(a.push(l),i){var u=_P(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(u)}return jr(a)}function UZ(n,e){e||(e=ve(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function zZ(n,e){return n.read_shift(e)===1}function mi(n,e){return e||(e=ve(2)),e.write_shift(2,+!!n),e}function S8(n){return n.read_shift(2,"u")}function Ls(n,e){return e||(e=ve(2)),e.write_shift(2,n),e}function C8(n,e,t){return t||(t=ve(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function A8(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var o=r?n.read_shift(r,i):"";return o}function HZ(n){var e=n.t||"",t=ve(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=ve(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return jr(i)}function $Z(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function WZ(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):$Z(n,r,t)}function jZ(n,e,t){if(t.biff>5)return WZ(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function N8(n,e,t){return t||(t=ve(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function EP(n,e){e||(e=ve(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function qZ(n){var e=ve(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(s==28)r=r.slice(1),EP(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var a=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(a.length+1)),t=0;t<a.length;++t)e.write_shift(2,a.charCodeAt(t));e.write_shift(2,0),s&8&&EP(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),t=0;t<r.length-3*l;++t)e.write_shift(1,r.charCodeAt(t+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function ku(n,e,t,r){return r||(r=ve(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function GZ(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,s,o]}function YZ(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function P8(n,e){return e||(e=ve(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function XT(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ve(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function KZ(n,e){var t=!e||e.biff==8,r=ve(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function XZ(n,e){var t=!e||e.biff>=8?2:1,r=ve(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function JZ(n,e){var t=ve(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=HZ(n[i]);var s=jr([t].concat(r));return s.parts=[t.length].concat(r.map(function(o){return o.length})),s}function QZ(){var n=ve(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function ZZ(n){var e=ve(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function eee(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=ve(i);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function tee(n,e,t,r){var i=ve(10);return ku(n,e,r,i),i.write_shift(4,t),i}function nee(n,e,t,r,i){var s=!i||i.biff==8,o=ve(8+ +s+(1+s)*t.length);return ku(n,e,r,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}function ree(n,e,t,r){var i=t&&t.biff==5;r||(r=ve(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function iee(n,e){var t=e.biff==8||!e.biff?4:2,r=ve(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function kP(n,e,t,r){var i=t&&t.biff==5;r||(r=ve(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function see(n){var e=ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function oee(n,e,t,r,i,s){var o=ve(8);return ku(n,e,r,o),C8(t,s,o),o}function aee(n,e,t,r){var i=ve(14);return ku(n,e,r,i),Eu(t,i),i}function lee(n,e,t){if(t.biff<8)return cee(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(GZ(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function cee(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=A8(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function uee(n){var e=ve(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)P8(n[t],e);return e}function dee(n){var e=ve(24),t=Or(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return jr([e,qZ(n[1])])}function fee(n){var e=n[1].Tooltip,t=ve(10+2*(e.length+1));t.write_shift(2,2048);var r=Or(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function hee(n){return n||(n=ve(4)),n.write_shift(2,1),n.write_shift(2,1),n}function mee(n,e,t){if(!t.cellStyles)return ra(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),a=n.read_shift(r),l=n.read_shift(2);r==2&&(n.l+=2);var u={s:i,e:s,w:o,ixfe:a,flags:l};return(t.biff>=5||!t.biff)&&(u.level=l>>8&7),u}function gee(n,e){var t=ve(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function pee(n){for(var e=ve(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function bee(n,e,t){var r=ve(15);return M0(r,n,e),r.write_shift(8,t,"f"),r}function yee(n,e,t){var r=ve(9);return M0(r,n,e),r.write_shift(2,t),r}var wee=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=VT({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(a,l){var u=[],f=xu(1);switch(l.type){case"base64":f=uo(rl(a));break;case"binary":f=uo(a);break;case"buffer":case"array":f=a;break}ss(f,0);var m=f.read_shift(1),p=!!(m&136),y=!1,v=!1;switch(m){case 2:break;case 3:break;case 48:y=!0,p=!0;break;case 49:y=!0,p=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var w=0,E=521;m==2&&(w=f.read_shift(2)),f.l+=3,m!=2&&(w=f.read_shift(4)),w>1048576&&(w=1e6),m!=2&&(E=f.read_shift(2));var k=f.read_shift(2),T=l.codepage||1252;m!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(T=n[f[f.l]]),f.l+=1,f.l+=2),v&&(f.l+=36);for(var S=[],P={},R=Math.min(f.length,m==2?521:E-10-(y?264:0)),D=v?32:11;f.l<R&&f[f.l]!=13;)switch(P={},P.name=Xb.utils.decode(T,f.slice(f.l,f.l+D)).replace(/[\u0000\r\n].*$/g,""),f.l+=D,P.type=String.fromCharCode(f.read_shift(1)),m!=2&&!v&&(P.offset=f.read_shift(4)),P.len=f.read_shift(1),m==2&&(P.offset=f.read_shift(2)),P.dec=f.read_shift(1),P.name.length&&S.push(P),m!=2&&(f.l+=v?13:14),P.type){case"B":(!y||P.len!=8)&&l.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+P.type)}if(f[f.l]!==13&&(f.l=E-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=E;var A=0,F=0;for(u[0]=[],F=0;F!=S.length;++F)u[0][F]=S[F].name;for(;w-- >0;){if(f[f.l]===42){f.l+=k;continue}for(++f.l,u[++A]=[],F=0,F=0;F!=S.length;++F){var V=f.slice(f.l,f.l+S[F].len);f.l+=S[F].len,ss(V,0);var X=Xb.utils.decode(T,V);switch(S[F].type){case"C":X.trim().length&&(u[A][F]=X.replace(/\s+$/,""));break;case"D":X.length===8?u[A][F]=new Date(+X.slice(0,4),+X.slice(4,6)-1,+X.slice(6,8)):u[A][F]=X;break;case"F":u[A][F]=parseFloat(X.trim());break;case"+":case"I":u[A][F]=v?V.read_shift(-4,"i")^2147483648:V.read_shift(4,"i");break;case"L":switch(X.trim().toUpperCase()){case"Y":case"T":u[A][F]=!0;break;case"N":case"F":u[A][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+X+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));u[A][F]="##MEMO##"+(v?parseInt(X.trim(),10):V.read_shift(4));break;case"N":X=X.replace(/\u0000/g,"").trim(),X&&X!="."&&(u[A][F]=+X||0);break;case"@":u[A][F]=new Date(V.read_shift(-8,"f")-621356832e5);break;case"T":u[A][F]=new Date((V.read_shift(4)-2440588)*864e5+V.read_shift(4));break;case"Y":u[A][F]=V.read_shift(4,"i")/1e4+V.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][F]=-V.read_shift(-8,"f");break;case"B":if(y&&S[F].len==8){u[A][F]=V.read_shift(8,"f");break}case"G":case"P":V.l+=S[F].len;break;case"0":if(S[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[F].type)}}}if(m!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=S,u}function r(a,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var f=ih(t(a,u),u);return f["!cols"]=u.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete u.DBF,f}function i(a,l){try{return Ru(r(a,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var u=l||{};if(+u.codepage>=0&&Dg(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Vi(),m=cy(a,{header:1,raw:!0,cellDates:!0}),p=m[0],y=m.slice(1),v=a["!cols"]||[],w=0,E=0,k=0,T=1;for(w=0;w<p.length;++w){if(((v[w]||{}).DBF||{}).name){p[w]=v[w].DBF.name,++k;continue}if(p[w]!=null){if(++k,typeof p[w]=="number"&&(p[w]=p[w].toString(10)),typeof p[w]!="string")throw new Error("DBF Invalid column name "+p[w]+" |"+typeof p[w]+"|");if(p.indexOf(p[w])!==w){for(E=0;E<1024;++E)if(p.indexOf(p[w]+"_"+E)==-1){p[w]+="_"+E;break}}}}var S=An(a["!ref"]),P=[],R=[],D=[];for(w=0;w<=S.e.c-S.s.c;++w){var A="",F="",V=0,X=[];for(E=0;E<y.length;++E)y[E][w]!=null&&X.push(y[E][w]);if(X.length==0||p[w]==null){P[w]="?";continue}for(E=0;E<X.length;++E){switch(typeof X[E]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=X[E]instanceof Date?"D":"C";break;default:F="C"}V=Math.max(V,String(X[E]).length),A=A&&A!=F?"C":F}V>250&&(V=250),F=((v[w]||{}).DBF||{}).type,F=="C"&&v[w].DBF.len>V&&(V=v[w].DBF.len),A=="B"&&F=="N"&&(A="N",D[w]=v[w].DBF.dec,V=v[w].DBF.len),R[w]=A=="C"||F=="N"?V:s[A]||0,T+=R[w],P[w]=A}var re=f.next(32);for(re.write_shift(4,318902576),re.write_shift(4,y.length),re.write_shift(2,296+32*k),re.write_shift(2,T),w=0;w<4;++w)re.write_shift(4,0);for(re.write_shift(4,0|(+e[ID]||3)<<8),w=0,E=0;w<p.length;++w)if(p[w]!=null){var N=f.next(32),te=(p[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,te,"sbcs"),N.write_shift(1,P[w]=="?"?"C":P[w],"sbcs"),N.write_shift(4,E),N.write_shift(1,R[w]||s[P[w]]||0),N.write_shift(1,D[w]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),E+=R[w]||s[P[w]]||0}var be=f.next(264);for(be.write_shift(4,13),w=0;w<65;++w)be.write_shift(4,0);for(w=0;w<y.length;++w){var xe=f.next(T);for(xe.write_shift(1,0),E=0;E<p.length;++E)if(p[E]!=null)switch(P[E]){case"L":xe.write_shift(1,y[w][E]==null?63:y[w][E]?84:70);break;case"B":xe.write_shift(8,y[w][E]||0,"f");break;case"N":var ne="0";for(typeof y[w][E]=="number"&&(ne=y[w][E].toFixed(D[E]||0)),k=0;k<R[E]-ne.length;++k)xe.write_shift(1,32);xe.write_shift(1,ne,"sbcs");break;case"D":y[w][E]?(xe.write_shift(4,("0000"+y[w][E].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(y[w][E].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+y[w][E].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var Ee=String(y[w][E]!=null?y[w][E]:"").slice(0,R[E]);for(xe.write_shift(1,Ee,"sbcs"),k=0;k<R[E]-Ee.length;++k)xe.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),vee=function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Kr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,y){var v=n[y];return typeof v=="number"?YN(v):v},r=function(p,y,v){var w=y.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return w==59?p:YN(w)};n["|"]=254;function i(p,y){switch(y.type){case"base64":return s(rl(p),y);case"binary":return s(p,y);case"buffer":return s(jt&&Buffer.isBuffer(p)?p.toString("binary"):N0(p),y);case"array":return s(kw(p),y)}throw new Error("Unrecognized type "+y.type)}function s(p,y){var v=p.split(/[\n\r]+/),w=-1,E=-1,k=0,T=0,S=[],P=[],R=null,D={},A=[],F=[],V=[],X=0,re;for(+y.codepage>=0&&Dg(+y.codepage);k!==v.length;++k){X=0;var N=v[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),te=N.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),be=te[0],xe;if(N.length>0)switch(be){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":te[1].charAt(0)=="P"&&P.push(N.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,Ee=!1,We=!1,Re=!1,j=-1,_e=-1;for(T=1;T<te.length;++T)switch(te[T].charAt(0)){case"A":break;case"X":E=parseInt(te[T].slice(1))-1,Ee=!0;break;case"Y":for(w=parseInt(te[T].slice(1))-1,Ee||(E=0),re=S.length;re<=w;++re)S[re]=[];break;case"K":xe=te[T].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(Ga(xe))?isNaN(Lg(xe).getDate())||(xe=wi(xe)):(xe=Ga(xe),R!==null&&WD(R)&&(xe=YD(xe))),ne=!0;break;case"E":Re=!0;var U=yte(te[T].slice(1),{r:w,c:E});S[w][E]=[S[w][E],U];break;case"S":We=!0,S[w][E]=[S[w][E],"S5S"];break;case"G":break;case"R":j=parseInt(te[T].slice(1))-1;break;case"C":_e=parseInt(te[T].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+N)}if(ne&&(S[w][E]&&S[w][E].length==2?S[w][E][0]=xe:S[w][E]=xe,R=null),We){if(Re)throw new Error("SYLK shared formula cannot have own formula");var Q=j>-1&&S[j][_e];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");S[w][E][1]=wte(Q[1],{r:w-j,c:E-_e})}break;case"F":var Y=0;for(T=1;T<te.length;++T)switch(te[T].charAt(0)){case"X":E=parseInt(te[T].slice(1))-1,++Y;break;case"Y":for(w=parseInt(te[T].slice(1))-1,re=S.length;re<=w;++re)S[re]=[];break;case"M":X=parseInt(te[T].slice(1))/20;break;case"F":break;case"G":break;case"P":R=P[parseInt(te[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(V=te[T].slice(1).split(" "),re=parseInt(V[0],10);re<=parseInt(V[1],10);++re)X=parseInt(V[2],10),F[re-1]=X===0?{hidden:!0}:{wch:X},JT(F[re-1]);break;case"C":E=parseInt(te[T].slice(1))-1,F[E]||(F[E]={});break;case"R":w=parseInt(te[T].slice(1))-1,A[w]||(A[w]={}),X>0?(A[w].hpt=X,A[w].hpx=D8(X)):X===0&&(A[w].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+N)}Y<1&&(R=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+N)}}return A.length>0&&(D["!rows"]=A),F.length>0&&(D["!cols"]=F),y&&y.sheetRows&&(S=S.slice(0,y.sheetRows)),[S,D]}function o(p,y){var v=i(p,y),w=v[0],E=v[1],k=ih(w,y);return Kr(E).forEach(function(T){k[T]=E[T]}),k}function a(p,y){return Ru(o(p,y),y)}function l(p,y,v,w){var E="C;Y"+(v+1)+";X"+(w+1)+";K";switch(p.t){case"n":E+=p.v||0,p.f&&!p.F&&(E+=";E"+ZT(p.f,{r:v,c:w}));break;case"b":E+=p.v?"TRUE":"FALSE";break;case"e":E+=p.w||p.v;break;case"d":E+='"'+(p.w||p.v)+'"';break;case"s":E+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function u(p,y){y.forEach(function(v,w){var E="F;W"+(w+1)+" "+(w+1)+" ";v.hidden?E+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=sy(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=oy(v.wpx)),typeof v.wch=="number"&&(E+=Math.round(v.wch))),E.charAt(E.length-1)!=" "&&p.push(E)})}function f(p,y){y.forEach(function(v,w){var E="F;";v.hidden?E+="M0;":v.hpt?E+="M"+20*v.hpt+";":v.hpx&&(E+="M"+20*ay(v.hpx)+";"),E.length>2&&p.push(E+"R"+(w+1))})}function m(p,y){var v=["ID;PWXL;N;E"],w=[],E=An(p["!ref"]),k,T=Array.isArray(p),S=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),p["!cols"]&&u(v,p["!cols"]),p["!rows"]&&f(v,p["!rows"]),v.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var P=E.s.r;P<=E.e.r;++P)for(var R=E.s.c;R<=E.e.c;++R){var D=on({r:P,c:R});k=T?(p[P]||[])[R]:p[D],!(!k||k.v==null&&(!k.f||k.F))&&w.push(l(k,p,P,R))}return v.join(S)+S+w.join(S)+S+"E"+S}return{to_workbook:a,to_sheet:o,from_sheet:m}}(),_ee=function(){function n(s,o){switch(o.type){case"base64":return e(rl(s),o);case"binary":return e(s,o);case"buffer":return e(jt&&Buffer.isBuffer(s)?s.toString("binary"):N0(s),o);case"array":return e(kw(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),l=-1,u=-1,f=0,m=[];f!==a.length;++f){if(a[f].trim()==="BOT"){m[++l]=[],u=0;continue}if(!(l<0)){var p=a[f].trim().split(","),y=p[0],v=p[1];++f;for(var w=a[f]||"";(w.match(/["]/g)||[]).length&1&&f<a.length-1;)w+=`
`+a[++f];switch(w=w.trim(),+y){case-1:if(w==="BOT"){m[++l]=[],u=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?m[l][u]=!0:w==="FALSE"?m[l][u]=!1:isNaN(Ga(v))?isNaN(Lg(v).getDate())?m[l][u]=v:m[l][u]=wi(v):m[l][u]=Ga(v),++u;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),m[l][u++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(m=m.slice(0,o.sheetRows)),m}function t(s,o){return ih(n(s,o),o)}function r(s,o){return Ru(t(s,o),o)}var i=function(){var s=function(l,u,f,m,p){l.push(u),l.push(f+","+m),l.push('"'+p.replace(/"/g,'""')+'"')},o=function(l,u,f,m){l.push(u+","+f),l.push(u==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(l){var u=[],f=An(l["!ref"]),m,p=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,f.e.r-f.s.r+1,""),s(u,"TUPLES",0,f.e.c-f.s.c+1,""),s(u,"DATA",0,0,"");for(var y=f.s.r;y<=f.e.r;++y){o(u,-1,0,"BOT");for(var v=f.s.c;v<=f.e.c;++v){var w=on({r:y,c:v});if(m=p?(l[y]||[])[v]:l[w],!m){o(u,1,0,"");continue}switch(m.t){case"n":var E=m.w;!E&&m.v!=null&&(E=m.v),E==null?m.f&&!m.F?o(u,1,0,"="+m.f):o(u,1,0,""):o(u,0,E,"V");break;case"b":o(u,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=sc(m.z||Xn[14],Hi(wi(m.v)))),o(u,0,m.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var k=`\r
`,T=u.join(k);return T}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),R8=function(){function n(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(m,p){for(var y=m.split(`
`),v=-1,w=-1,E=0,k=[];E!==y.length;++E){var T=y[E].trim().split(":");if(T[0]==="cell"){var S=Or(T[1]);if(k.length<=S.r)for(v=k.length;v<=S.r;++v)k[v]||(k[v]=[]);switch(v=S.r,w=S.c,T[2]){case"t":k[v][w]=n(T[3]);break;case"v":k[v][w]=+T[3];break;case"vtf":var P=T[T.length-1];case"vtc":switch(T[3]){case"nl":k[v][w]=!!+T[4];break;default:k[v][w]=+T[4];break}T[2]=="vtf"&&(k[v][w]=[k[v][w],P])}}}return p&&p.sheetRows&&(k=k.slice(0,p.sheetRows)),k}function r(m,p){return ih(t(m,p),p)}function i(m,p){return Ru(r(m,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(m){if(!m||!m["!ref"])return"";for(var p=[],y=[],v,w="",E=ys(m["!ref"]),k=Array.isArray(m),T=E.s.r;T<=E.e.r;++T)for(var S=E.s.c;S<=E.e.c;++S)if(w=on({r:T,c:S}),v=k?(m[T]||[])[S]:m[w],!(!v||v.v==null||v.t==="z")){switch(y=["cell",w,"t"],v.t){case"s":case"str":y.push(e(v.v));break;case"n":v.f?(y[2]="vtf",y[3]="n",y[4]=v.v,y[5]=e(v.f)):(y[2]="v",y[3]=v.v);break;case"b":y[2]="vt"+(v.f?"f":"c"),y[3]="nl",y[4]=v.v?"1":"0",y[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var P=Hi(wi(v.v));y[2]="vtc",y[3]="nd",y[4]=""+P,y[5]=v.w||sc(v.z||Xn[14],P);break;case"e":continue}p.push(y.join(":"))}return p.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(m){return[s,o,a,o,u(m),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:f}}(),xee=function(){function n(f,m,p,y,v){v.raw?m[p][y]=f:f===""||(f==="TRUE"?m[p][y]=!0:f==="FALSE"?m[p][y]=!1:isNaN(Ga(f))?isNaN(Lg(f).getDate())?m[p][y]=f:m[p][y]=wi(f):m[p][y]=Ga(f))}function e(f,m){var p=m||{},y=[];if(!f||f.length===0)return y;for(var v=f.split(/[\r\n]/),w=v.length-1;w>=0&&v[w].length===0;)--w;for(var E=10,k=0,T=0;T<=w;++T)k=v[T].indexOf(" "),k==-1?k=v[T].length:k++,E=Math.max(E,k);for(T=0;T<=w;++T){y[T]=[];var S=0;for(n(v[T].slice(0,E).trim(),y,T,S,p),S=1;S<=(v[T].length-E)/10+1;++S)n(v[T].slice(E+(S-1)*10,E+S*10).trim(),y,T,S,p)}return p.sheetRows&&(y=y.slice(0,p.sheetRows)),y}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(f){for(var m={},p=!1,y=0,v=0;y<f.length;++y)(v=f.charCodeAt(y))==34?p=!p:!p&&v in t&&(m[v]=(m[v]||0)+1);v=[];for(y in m)Object.prototype.hasOwnProperty.call(m,y)&&v.push([m[y],y]);if(!v.length){m=r;for(y in m)Object.prototype.hasOwnProperty.call(m,y)&&v.push([m[y],y])}return v.sort(function(w,E){return w[0]-E[0]||r[w[1]]-r[E[1]]}),t[v.pop()[1]]||44}function s(f,m){var p=m||{},y="",v=p.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(y=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(y=f.charAt(4),f=f.slice(6)):y=i(f.slice(0,1024)):p&&p.FS?y=p.FS:y=i(f.slice(0,1024));var E=0,k=0,T=0,S=0,P=0,R=y.charCodeAt(0),D=!1,A=0,F=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var V=p.dateNF!=null?BQ(p.dateNF):null;function X(){var re=f.slice(S,P),N={};if(re.charAt(0)=='"'&&re.charAt(re.length-1)=='"'&&(re=re.slice(1,-1).replace(/""/g,'"')),re.length===0)N.t="z";else if(p.raw)N.t="s",N.v=re;else if(re.trim().length===0)N.t="s",N.v=re;else if(re.charCodeAt(0)==61)re.charCodeAt(1)==34&&re.charCodeAt(re.length-1)==34?(N.t="s",N.v=re.slice(2,-1).replace(/""/g,'"')):vte(re)?(N.t="n",N.f=re.slice(1)):(N.t="s",N.v=re);else if(re=="TRUE")N.t="b",N.v=!0;else if(re=="FALSE")N.t="b",N.v=!1;else if(!isNaN(T=Ga(re)))N.t="n",p.cellText!==!1&&(N.w=re),N.v=T;else if(!isNaN(Lg(re).getDate())||V&&re.match(V)){N.z=p.dateNF||Xn[14];var te=0;V&&re.match(V)&&(re=VQ(re,p.dateNF,re.match(V)||[]),te=1),p.cellDates?(N.t="d",N.v=wi(re,te)):(N.t="n",N.v=Hi(wi(re,te))),p.cellText!==!1&&(N.w=sc(N.z,N.v instanceof Date?Hi(N.v):N.v)),p.cellNF||delete N.z}else N.t="s",N.v=re;if(N.t=="z"||(p.dense?(v[E]||(v[E]=[]),v[E][k]=N):v[on({c:k,r:E})]=N),S=P+1,F=f.charCodeAt(S),w.e.c<k&&(w.e.c=k),w.e.r<E&&(w.e.r=E),A==R)++k;else if(k=0,++E,p.sheetRows&&p.sheetRows<=E)return!0}e:for(;P<f.length;++P)switch(A=f.charCodeAt(P)){case 34:F===34&&(D=!D);break;case R:case 10:case 13:if(!D&&X())break e;break}return P-S>0&&X(),v["!ref"]=dr(w),v}function o(f,m){return!(m&&m.PRN)||m.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,m):ih(e(f,m),m)}function a(f,m){var p="",y=m.type=="string"?[0,0,0,0]:Mse(f,m);switch(m.type){case"base64":p=rl(f);break;case"binary":p=f;break;case"buffer":m.codepage==65001?p=f.toString("utf8"):m.codepage&&typeof Xb<"u"||(p=jt&&Buffer.isBuffer(f)?f.toString("binary"):N0(f));break;case"array":p=kw(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+m.type)}return y[0]==239&&y[1]==187&&y[2]==191?p=rg(p.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?p=rg(p):m.type=="binary"&&typeof Xb<"u",p.slice(0,19)=="socialcalc:version:"?R8.to_sheet(m.type=="string"?p:rg(p),m):o(p,m)}function l(f,m){return Ru(a(f,m),m)}function u(f){for(var m=[],p=An(f["!ref"]),y,v=Array.isArray(f),w=p.s.r;w<=p.e.r;++w){for(var E=[],k=p.s.c;k<=p.e.c;++k){var T=on({r:w,c:k});if(y=v?(f[w]||[])[k]:f[T],!y||y.v==null){E.push("          ");continue}for(var S=(y.w||(il(y),y.w)||"").slice(0,10);S.length<10;)S+=" ";E.push(S+(k===0?" ":""))}m.push(E.join(""))}return m.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:u}}(),TP=function(){function n(U,Q,Y){if(U){ss(U,U.l||0);for(var J=Y.Enum||j;U.l<U.length;){var ue=U.read_shift(2),Ye=J[ue]||J[65535],Be=U.read_shift(2),Je=U.l+Be,je=Ye.f&&Ye.f(U,Be,Y);if(U.l=Je,Q(je,Ye,ue))return}}}function e(U,Q){switch(Q.type){case"base64":return t(uo(rl(U)),Q);case"binary":return t(uo(U),Q);case"buffer":case"array":return t(U,Q)}throw"Unsupported type "+Q.type}function t(U,Q){if(!U)return U;var Y=Q||{},J=Y.dense?[]:{},ue="Sheet1",Ye="",Be=0,Je={},je=[],Nt=[],kt={s:{r:0,c:0},e:{r:0,c:0}},Un=Y.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)Y.Enum=j,n(U,function(Ge,Qr,ji){switch(ji){case 0:Y.vers=Ge,Ge>=4096&&(Y.qpro=!0);break;case 6:kt=Ge;break;case 204:Ge&&(Ye=Ge);break;case 222:Ye=Ge;break;case 15:case 51:Y.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:ji==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=Y.dateNF||Xn[14],Y.cellDates&&(Ge[1].t="d",Ge[1].v=YD(Ge[1].v))),Y.qpro&&Ge[3]>Be&&(J["!ref"]=dr(kt),Je[ue]=J,je.push(ue),J=Y.dense?[]:{},kt={s:{r:0,c:0},e:{r:0,c:0}},Be=Ge[3],ue=Ye||"Sheet"+(Be+1),Ye="");var qi=Y.dense?(J[Ge[0].r]||[])[Ge[0].c]:J[on(Ge[0])];if(qi){qi.t=Ge[1].t,qi.v=Ge[1].v,Ge[1].z!=null&&(qi.z=Ge[1].z),Ge[1].f!=null&&(qi.f=Ge[1].f);break}Y.dense?(J[Ge[0].r]||(J[Ge[0].r]=[]),J[Ge[0].r][Ge[0].c]=Ge[1]):J[on(Ge[0])]=Ge[1];break}},Y);else if(U[2]==26||U[2]==14)Y.Enum=_e,U[2]==14&&(Y.qpro=!0,U.l=0),n(U,function(Ge,Qr,ji){switch(ji){case 204:ue=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>Be&&(J["!ref"]=dr(kt),Je[ue]=J,je.push(ue),J=Y.dense?[]:{},kt={s:{r:0,c:0},e:{r:0,c:0}},Be=Ge[3],ue="Sheet"+(Be+1)),Un>0&&Ge[0].r>=Un)break;Y.dense?(J[Ge[0].r]||(J[Ge[0].r]=[]),J[Ge[0].r][Ge[0].c]=Ge[1]):J[on(Ge[0])]=Ge[1],kt.e.c<Ge[0].c&&(kt.e.c=Ge[0].c),kt.e.r<Ge[0].r&&(kt.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(Nt[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:Nt[Ge[0]]=Ge[1],Ge[0]==Be&&(ue=Ge[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(J["!ref"]=dr(kt),Je[Ye||ue]=J,je.push(Ye||ue),!Nt.length)return{SheetNames:je,Sheets:Je};for(var Pt={},ki=[],wn=0;wn<Nt.length;++wn)Je[je[wn]]?(ki.push(Nt[wn]||je[wn]),Pt[Nt[wn]]=Je[Nt[wn]]||Je[je[wn]]):(ki.push(Nt[wn]),Pt[Nt[wn]]={"!ref":"A1"});return{SheetNames:ki,Sheets:Pt}}function r(U,Q){var Y=Q||{};if(+Y.codepage>=0&&Dg(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var J=Vi(),ue=An(U["!ref"]),Ye=Array.isArray(U),Be=[];He(J,0,s(1030)),He(J,6,l(ue));for(var Je=Math.min(ue.e.r,8191),je=ue.s.r;je<=Je;++je)for(var Nt=Yr(je),kt=ue.s.c;kt<=ue.e.c;++kt){je===ue.s.r&&(Be[kt]=oi(kt));var Un=Be[kt]+Nt,Pt=Ye?(U[je]||[])[kt]:U[Un];if(!(!Pt||Pt.t=="z"))if(Pt.t=="n")(Pt.v|0)==Pt.v&&Pt.v>=-32768&&Pt.v<=32767?He(J,13,y(je,kt,Pt.v)):He(J,14,w(je,kt,Pt.v));else{var ki=il(Pt);He(J,15,m(je,kt,ki.slice(0,239)))}}return He(J,1),J.end()}function i(U,Q){var Y=Q||{};if(+Y.codepage>=0&&Dg(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var J=Vi();He(J,0,o(U));for(var ue=0,Ye=0;ue<U.SheetNames.length;++ue)(U.Sheets[U.SheetNames[ue]]||{})["!ref"]&&He(J,27,Re(U.SheetNames[ue],Ye++));var Be=0;for(ue=0;ue<U.SheetNames.length;++ue){var Je=U.Sheets[U.SheetNames[ue]];if(!(!Je||!Je["!ref"])){for(var je=An(Je["!ref"]),Nt=Array.isArray(Je),kt=[],Un=Math.min(je.e.r,8191),Pt=je.s.r;Pt<=Un;++Pt)for(var ki=Yr(Pt),wn=je.s.c;wn<=je.e.c;++wn){Pt===je.s.r&&(kt[wn]=oi(wn));var Ge=kt[wn]+ki,Qr=Nt?(Je[Pt]||[])[wn]:Je[Ge];if(!(!Qr||Qr.t=="z"))if(Qr.t=="n")He(J,23,X(Pt,wn,Be,Qr.v));else{var ji=il(Qr);He(J,22,A(Pt,wn,Be,ji.slice(0,239)))}}++Be}}return He(J,1),J.end()}function s(U){var Q=ve(2);return Q.write_shift(2,U),Q}function o(U){var Q=ve(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var Y=0,J=0,ue=0,Ye=0;Ye<U.SheetNames.length;++Ye){var Be=U.SheetNames[Ye],Je=U.Sheets[Be];if(!(!Je||!Je["!ref"])){++ue;var je=ys(Je["!ref"]);Y<je.e.r&&(Y=je.e.r),J<je.e.c&&(J=je.e.c)}}return Y>8191&&(Y=8191),Q.write_shift(2,Y),Q.write_shift(1,ue),Q.write_shift(1,J),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function a(U,Q,Y){var J={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&Y.qpro?(J.s.c=U.read_shift(1),U.l++,J.s.r=U.read_shift(2),J.e.c=U.read_shift(1),U.l++,J.e.r=U.read_shift(2),J):(J.s.c=U.read_shift(2),J.s.r=U.read_shift(2),Q==12&&Y.qpro&&(U.l+=2),J.e.c=U.read_shift(2),J.e.r=U.read_shift(2),Q==12&&Y.qpro&&(U.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function l(U){var Q=ve(8);return Q.write_shift(2,U.s.c),Q.write_shift(2,U.s.r),Q.write_shift(2,U.e.c),Q.write_shift(2,U.e.r),Q}function u(U,Q,Y){var J=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(J[0].c=U.read_shift(1),J[3]=U.read_shift(1),J[0].r=U.read_shift(2),U.l+=2):(J[2]=U.read_shift(1),J[0].c=U.read_shift(2),J[0].r=U.read_shift(2)),J}function f(U,Q,Y){var J=U.l+Q,ue=u(U,Q,Y);if(ue[1].t="s",Y.vers==20768){U.l++;var Ye=U.read_shift(1);return ue[1].v=U.read_shift(Ye,"utf8"),ue}return Y.qpro&&U.l++,ue[1].v=U.read_shift(J-U.l,"cstr"),ue}function m(U,Q,Y){var J=ve(7+Y.length);J.write_shift(1,255),J.write_shift(2,Q),J.write_shift(2,U),J.write_shift(1,39);for(var ue=0;ue<J.length;++ue){var Ye=Y.charCodeAt(ue);J.write_shift(1,Ye>=128?95:Ye)}return J.write_shift(1,0),J}function p(U,Q,Y){var J=u(U,Q,Y);return J[1].v=U.read_shift(2,"i"),J}function y(U,Q,Y){var J=ve(7);return J.write_shift(1,255),J.write_shift(2,Q),J.write_shift(2,U),J.write_shift(2,Y,"i"),J}function v(U,Q,Y){var J=u(U,Q,Y);return J[1].v=U.read_shift(8,"f"),J}function w(U,Q,Y){var J=ve(13);return J.write_shift(1,255),J.write_shift(2,Q),J.write_shift(2,U),J.write_shift(8,Y,"f"),J}function E(U,Q,Y){var J=U.l+Q,ue=u(U,Q,Y);if(ue[1].v=U.read_shift(8,"f"),Y.qpro)U.l=J;else{var Ye=U.read_shift(2);P(U.slice(U.l,U.l+Ye),ue),U.l+=Ye}return ue}function k(U,Q,Y){var J=Q&32768;return Q&=-32769,Q=(J?U:0)+(Q>=8192?Q-16384:Q),(J?"":"$")+(Y?oi(Q):Yr(Q))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function P(U,Q){ss(U,0);for(var Y=[],J=0,ue="",Ye="",Be="",Je="";U.l<U.length;){var je=U[U.l++];switch(je){case 0:Y.push(U.read_shift(8,"f"));break;case 1:Ye=k(Q[0].c,U.read_shift(2),!0),ue=k(Q[0].r,U.read_shift(2),!1),Y.push(Ye+ue);break;case 2:{var Nt=k(Q[0].c,U.read_shift(2),!0),kt=k(Q[0].r,U.read_shift(2),!1);Ye=k(Q[0].c,U.read_shift(2),!0),ue=k(Q[0].r,U.read_shift(2),!1),Y.push(Nt+kt+":"+Ye+ue)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(U.read_shift(2));break;case 6:{for(var Un="";je=U[U.l++];)Un+=String.fromCharCode(je);Y.push('"'+Un.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:Je=Y.pop(),Be=Y.pop(),Y.push(["AND","OR"][je-20]+"("+Be+","+Je+")");break;default:if(je<32&&S[je])Je=Y.pop(),Be=Y.pop(),Y.push(Be+S[je]+Je);else if(T[je]){if(J=T[je][1],J==69&&(J=U[U.l++]),J>Y.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+Y.join("|")+"|");return}var Pt=Y.slice(-J);Y.length-=J,Y.push(T[je][0]+"("+Pt.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}Y.length==1?Q[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function R(U){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=U.read_shift(2),Q[3]=U[U.l++],Q[0].c=U[U.l++],Q}function D(U,Q){var Y=R(U);return Y[1].t="s",Y[1].v=U.read_shift(Q-4,"cstr"),Y}function A(U,Q,Y,J){var ue=ve(6+J.length);ue.write_shift(2,U),ue.write_shift(1,Y),ue.write_shift(1,Q),ue.write_shift(1,39);for(var Ye=0;Ye<J.length;++Ye){var Be=J.charCodeAt(Ye);ue.write_shift(1,Be>=128?95:Be)}return ue.write_shift(1,0),ue}function F(U,Q){var Y=R(U);Y[1].v=U.read_shift(2);var J=Y[1].v>>1;if(Y[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return Y[1].v=J,Y}function V(U,Q){var Y=R(U),J=U.read_shift(4),ue=U.read_shift(4),Ye=U.read_shift(2);if(Ye==65535)return J===0&&ue===3221225472?(Y[1].t="e",Y[1].v=15):J===0&&ue===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var Be=Ye&32768;return Ye=(Ye&32767)-16446,Y[1].v=(1-Be*2)*(ue*Math.pow(2,Ye+32)+J*Math.pow(2,Ye)),Y}function X(U,Q,Y,J){var ue=ve(14);if(ue.write_shift(2,U),ue.write_shift(1,Y),ue.write_shift(1,Q),J==0)return ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(2,65535),ue;var Ye=0,Be=0,Je=0,je=0;return J<0&&(Ye=1,J=-J),Be=Math.log2(J)|0,J/=Math.pow(2,Be-31),je=J>>>0,(je&2147483648)==0&&(J/=2,++Be,je=J>>>0),J-=je,je|=2147483648,je>>>=0,J*=Math.pow(2,32),Je=J>>>0,ue.write_shift(4,Je),ue.write_shift(4,je),Be+=16383+(Ye?32768:0),ue.write_shift(2,Be),ue}function re(U,Q){var Y=V(U);return U.l+=Q-14,Y}function N(U,Q){var Y=R(U),J=U.read_shift(4);return Y[1].v=J>>6,Y}function te(U,Q){var Y=R(U),J=U.read_shift(8,"f");return Y[1].v=J,Y}function be(U,Q){var Y=te(U);return U.l+=Q-10,Y}function xe(U,Q){return U[U.l+Q-1]==0?U.read_shift(Q,"cstr"):""}function ne(U,Q){var Y=U[U.l++];Y>Q-1&&(Y=Q-1);for(var J="";J.length<Y;)J+=String.fromCharCode(U[U.l++]);return J}function Ee(U,Q,Y){if(!(!Y.qpro||Q<21)){var J=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var ue=U.read_shift(Q-21,"cstr");return[J,ue]}}function We(U,Q){for(var Y={},J=U.l+Q;U.l<J;){var ue=U.read_shift(2);if(ue==14e3){for(Y[ue]=[0,""],Y[ue][0]=U.read_shift(2);U[U.l];)Y[ue][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return Y}function Re(U,Q){var Y=ve(5+U.length);Y.write_shift(2,14e3),Y.write_shift(2,Q);for(var J=0;J<U.length;++J){var ue=U.charCodeAt(J);Y[Y.l++]=ue>127?95:ue}return Y[Y.l++]=0,Y}var j={0:{n:"BOF",f:S8},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},_e={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:V},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:re},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:We},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:te},40:{n:"FORMULA28",f:be},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),Eee=/^\s|\s$|[\t\n\r]/;function I8(n,e){if(!e.bookSST)return"";var t=[gr];t[t.length]=ze("sst",null,{xmlns:rh[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Eee)&&(s+=' xml:space="preserve"'),s+=">"+sn(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function kee(n){return[n.read_shift(4),n.read_shift(4)]}function Tee(n,e){return e||(e=ve(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var See=pZ;function Cee(n){var e=Vi();Pe(e,159,Tee(n));for(var t=0;t<n.length;++t)Pe(e,19,See(n[t]));return Pe(e,160),e.end()}function Aee(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function O8(n){var e=0,t,r=Aee(n),i=r.length+1,s,o,a,l,u;for(t=xu(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)o=t[s],a=(e&16384)===0?0:1,l=e<<1&32767,u=a|l,e=u^o;return e^52811}var Nee=function(){function n(i,s){switch(s.type){case"base64":return e(rl(i),s);case"binary":return e(i,s);case"buffer":return e(jt&&Buffer.isBuffer(i)?i.toString("binary"):N0(i),s);case"array":return e(kw(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,m){Array.isArray(a)&&(a[m]=[]);for(var p=/\\\w+\b/g,y=0,v,w=-1;v=p.exec(f);){switch(v[0]){case"\\cell":var E=f.slice(y,p.lastIndex-v[0].length);if(E[0]==" "&&(E=E.slice(1)),++w,E.length){var k={v:E,t:"s"};Array.isArray(a)?a[m][w]=k:a[on({r:m,c:w})]=k}break}y=p.lastIndex}w>u.e.c&&(u.e.c=w)}),a["!ref"]=dr(u),a}function t(i,s){return Ru(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=An(i["!ref"]),a,l=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var m=on({r:u,c:f});a=l?(i[u]||[])[f]:i[m],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(il(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function SP(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var Pee=6,Ya=Pee;function sy(n){return Math.floor((n+Math.round(128/Ya)/256)*Ya)}function oy(n){return Math.floor((n-5)/Ya*100+.5)/100}function QE(n){return Math.round((n*Ya+5)/Ya*256)/256}function JT(n){n.width?(n.wpx=sy(n.width),n.wch=oy(n.wpx),n.MDW=Ya):n.wpx?(n.wch=oy(n.wpx),n.width=QE(n.wch),n.MDW=Ya):typeof n.wch=="number"&&(n.width=QE(n.wch),n.wpx=sy(n.width),n.MDW=Ya),n.customWidth&&delete n.customWidth}var Ree=96,M8=Ree;function ay(n){return n*96/M8}function D8(n){return n*M8/96}function Iee(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=ze("numFmt",null,{numFmtId:r,formatCode:sn(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ze("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Oee(n){var e=[];return e[e.length]=ze("cellXfs",null),n.forEach(function(t){e[e.length]=ze("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ze("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function F8(n,e){var t=[gr,ze("styleSheet",null,{xmlns:rh[0],"xmlns:vt":Rr.vt})],r;return n.SSF&&(r=Iee(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Oee(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function Mee(n,e){var t=n.read_shift(2),r=ai(n);return[t,r]}function Dee(n,e,t){t||(t=ve(6+4*e.length)),t.write_shift(2,n),Mr(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function Fee(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=EZ(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var a=n.read_shift(1);a>0&&(r.family=a);var l=n.read_shift(1);switch(l>0&&(r.charset=l),n.l++,r.color=xZ(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ai(n),r}function Lee(n,e){e||(e=ve(25+4*32)),e.write_shift(2,n.sz*20),kZ(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),ry(n.color,e);var r=0;return r=2,e.write_shift(1,r),Mr(n.name,e),e.length>e.l?e.slice(0,e.l):e}var Bee=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],o2,Vee=ra;function CP(n,e){e||(e=ve(4*3+8*7+16*1)),o2||(o2=VT(Bee));var t=o2[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(ry({auto:1},e),ry({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Uee(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function L8(n,e,t){t||(t=ve(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function wm(n,e){return e||(e=ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var zee=ra;function Hee(n,e){return e||(e=ve(51)),e.write_shift(1,0),wm(null,e),wm(null,e),wm(null,e),wm(null,e),wm(null,e),e.length>e.l?e.slice(0,e.l):e}function $ee(n,e){return e||(e=ve(12+4*10)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),ny(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Wee(n,e,t){var r=ve(2052);return r.write_shift(4,n),ny(e,r),ny(t,r),r.length>r.l?r.slice(0,r.l):r}function jee(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(Pe(n,615,bo(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Pe(n,44,Dee(i,e[i]))}),Pe(n,616))}}function qee(n){var e=1;Pe(n,611,bo(e)),Pe(n,43,Lee({sz:12,color:{theme:1},name:"Calibri",family:2})),Pe(n,612)}function Gee(n){var e=2;Pe(n,603,bo(e)),Pe(n,45,CP({patternType:"none"})),Pe(n,45,CP({patternType:"gray125"})),Pe(n,604)}function Yee(n){var e=1;Pe(n,613,bo(e)),Pe(n,46,Hee()),Pe(n,614)}function Kee(n){var e=1;Pe(n,626,bo(e)),Pe(n,47,L8({numFmtId:0},65535)),Pe(n,627)}function Xee(n,e){Pe(n,617,bo(e.length)),e.forEach(function(t){Pe(n,47,L8(t,0))}),Pe(n,618)}function Jee(n){var e=1;Pe(n,619,bo(e)),Pe(n,48,$ee({xfId:0,name:"Normal"})),Pe(n,620)}function Qee(n){var e=0;Pe(n,505,bo(e)),Pe(n,506)}function Zee(n){var e=0;Pe(n,508,Wee(e,"TableStyleMedium9","PivotStyleMedium4")),Pe(n,509)}function ete(n,e){var t=Vi();return Pe(t,278),jee(t,n.SSF),qee(t),Gee(t),Yee(t),Kee(t),Xee(t,e.cellXfs),Jee(t),Qee(t),Zee(t),Pe(t,279),t.end()}function B8(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[gr];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function tte(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:ai(n)}}function nte(n){var e=ve(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Mr(n.name,e),e.slice(0,e.l)}function rte(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function ite(n){var e=ve(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function ste(n,e){var t=ve(8+2*e.length);return t.write_shift(4,n),Mr(e,t),t.slice(0,t.l)}function ote(n){return n.l+=4,n.read_shift(4)!=0}function ate(n,e){var t=ve(8);return t.write_shift(4,n),t.write_shift(4,1),t}function lte(){var n=Vi();return Pe(n,332),Pe(n,334,bo(1)),Pe(n,335,nte({name:"XLDAPR",version:12e4,flags:3496657072})),Pe(n,336),Pe(n,339,ste(1,"XLDAPR")),Pe(n,52),Pe(n,35,bo(514)),Pe(n,4096,bo(0)),Pe(n,4097,Ls(1)),Pe(n,36),Pe(n,53),Pe(n,340),Pe(n,337,ate(1)),Pe(n,51,ite([[1,0]])),Pe(n,338),Pe(n,333),n.end()}function V8(){var n=[gr];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function cte(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=on(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var sf=1024;function U8(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[ze("xml",null,{"xmlns:v":as.v,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:mv":as.mv}).replace(/\/>/,">"),ze("o:shapelayout",ze("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),ze("v:shapetype",[ze("v:stroke",null,{joinstyle:"miter"}),ze("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];sf<n*1e3;)sf+=1e3;return e.forEach(function(s){var o=Or(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?ze("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ze("v:fill",l,a),f={on:"t",obscured:"t"};++sf,i=i.concat(["<v:shape"+Vg({id:"_x0000_s"+sf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ze("v:shadow",null,f),ze("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",qr("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),qr("x:AutoFill","False"),qr("x:Row",String(o.r)),qr("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function z8(n){var e=[gr,ze("comments",null,{xmlns:rh[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=sn(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=t.indexOf(sn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(qr("t",sn(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(qr("t",sn(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function ute(n,e,t){var r=[gr,ze("ThreadedComments",null,{xmlns:Rr.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(ze("threadedComment",qr("text",o.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function dte(n){var e=[gr,ze("personList",null,{xmlns:Rr.TCMNT,"xmlns:x":rh[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(ze("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function fte(n){var e={};e.iauthor=n.read_shift(4);var t=Du(n);return e.rfx=t.s,e.ref=on(t.s),n.l+=16,e}function hte(n,e){return e==null&&(e=ve(36)),e.write_shift(4,n[1].iauthor),sh(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var mte=ai;function gte(n){return Mr(n.slice(0,54))}function pte(n){var e=Vi(),t=[];return Pe(e,628),Pe(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Pe(e,632,gte(i.a)))})}),Pe(e,631),Pe(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Or(r[0]),e:Or(r[0])};Pe(e,635,hte([s,i])),i.t&&i.t.length>0&&Pe(e,637,yZ(i)),Pe(e,636),delete i.iauthor})}),Pe(e,634),Pe(e,629),e.end()}function bte(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&mn.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var H8=["xlsb","xlsm","xlam","biff8","xla"],yte=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return a?f+=e.c:--f,l?u+=e.r:--u,i+(a?"":"$")+oi(f)+(l?"":"$")+Yr(u)}return function(i,s){return e=s,i.replace(n,t)}}(),QT=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ZT=function(){return function(e,t){return e.replace(QT,function(r,i,s,o,a,l){var u=qT(o)-(s?0:t.c),f=jT(l)-(a?0:t.r),m=f==0?"":a?f+1:"["+f+"]",p=u==0?"":s?u+1:"["+u+"]";return i+"R"+m+"C"+p})}}();function wte(n,e){return n.replace(QT,function(t,r,i,s,o,a){return r+(i=="$"?i+s:oi(qT(s)+e.c))+(o=="$"?o+a:Yr(jT(a)+e.r))})}function vte(n){return n.length!=1}function lr(n){n.l+=1}function oc(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function $8(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return W8(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=oc(n),a=oc(n);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function W8(n){var e=oc(n),t=oc(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function _te(n,e,t){if(t.biff<8)return W8(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=oc(n),o=oc(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function j8(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return xte(n);var r=n.read_shift(t&&t.biff==12?4:2),i=oc(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function xte(n){var e=oc(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function Ete(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function kte(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Tte(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function Tte(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function Ste(n,e,t){var r=(n[n.l++]&96)>>5,i=$8(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function Cte(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=$8(n,s,t);return[r,i,o]}function Ate(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Nte(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function Pte(n,e,t){var r=(n[n.l++]&96)>>5,i=_te(n,e-1,t);return[r,i]}function Rte(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function AP(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Ite(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function Ote(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Mte(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Dte(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function Fte(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function q8(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function Lte(n){return n.read_shift(2),q8(n)}function Bte(n){return n.read_shift(2),q8(n)}function Vte(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=j8(n,0,t);return[r,i]}function Ute(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=kte(n,0,t);return[r,i]}function zte(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=j8(n,0,t);return[r,i,s]}function Hte(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[Hne[i],K8[i],r]}function $te(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:Wte(n);return[i,(s[0]===0?K8:zne)[s[1]]]}function Wte(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function jte(n,e,t){n.l+=t&&t.biff==2?3:4}function qte(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Gte(n){return n.l++,I0[n.read_shift(1)]}function Yte(n){return n.l++,n.read_shift(2)}function Kte(n){return n.l++,n.read_shift(1)!==0}function Xte(n){return n.l++,oh(n)}function Jte(n,e,t){return n.l++,A8(n,e-1,t)}function Qte(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=zZ(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=I0[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=oh(n);break;case 2:t[1]=jZ(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Zte(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?Du:YZ)(n));return i}function ene(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=Qte(n,t.biff);return o}function tne(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function nne(n,e,t){if(t.biff==5)return rne(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function rne(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function ine(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function sne(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function one(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function ane(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var lne=ra,cne=ra,une=ra;function O0(n,e,t){return n.l+=2,[Ete(n)]}function eS(n){return n.l+=6,[]}var dne=O0,fne=eS,hne=eS,mne=O0;function G8(n){return n.l+=2,[S8(n),n.read_shift(2)&1]}var gne=O0,pne=G8,bne=eS,yne=O0,wne=O0,vne=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function _ne(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),o=vne[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:s}}function xne(n){return n.l+=2,[n.read_shift(4)]}function Ene(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function kne(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function Tne(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Sne(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Cne(n){return n.l+=4,[0,0]}var NP={1:{n:"PtgExp",f:qte},2:{n:"PtgTbl",f:une},3:{n:"PtgAdd",f:lr},4:{n:"PtgSub",f:lr},5:{n:"PtgMul",f:lr},6:{n:"PtgDiv",f:lr},7:{n:"PtgPower",f:lr},8:{n:"PtgConcat",f:lr},9:{n:"PtgLt",f:lr},10:{n:"PtgLe",f:lr},11:{n:"PtgEq",f:lr},12:{n:"PtgGe",f:lr},13:{n:"PtgGt",f:lr},14:{n:"PtgNe",f:lr},15:{n:"PtgIsect",f:lr},16:{n:"PtgUnion",f:lr},17:{n:"PtgRange",f:lr},18:{n:"PtgUplus",f:lr},19:{n:"PtgUminus",f:lr},20:{n:"PtgPercent",f:lr},21:{n:"PtgParen",f:lr},22:{n:"PtgMissArg",f:lr},23:{n:"PtgStr",f:Jte},26:{n:"PtgSheet",f:Ene},27:{n:"PtgEndSheet",f:kne},28:{n:"PtgErr",f:Gte},29:{n:"PtgBool",f:Kte},30:{n:"PtgInt",f:Yte},31:{n:"PtgNum",f:Xte},32:{n:"PtgArray",f:Rte},33:{n:"PtgFunc",f:Hte},34:{n:"PtgFuncVar",f:$te},35:{n:"PtgName",f:tne},36:{n:"PtgRef",f:Vte},37:{n:"PtgArea",f:Ste},38:{n:"PtgMemArea",f:ine},39:{n:"PtgMemErr",f:lne},40:{n:"PtgMemNoMem",f:cne},41:{n:"PtgMemFunc",f:sne},42:{n:"PtgRefErr",f:one},43:{n:"PtgAreaErr",f:Ate},44:{n:"PtgRefN",f:Ute},45:{n:"PtgAreaN",f:Pte},46:{n:"PtgMemAreaN",f:Tne},47:{n:"PtgMemNoMemN",f:Sne},57:{n:"PtgNameX",f:nne},58:{n:"PtgRef3d",f:zte},59:{n:"PtgArea3d",f:Cte},60:{n:"PtgRefErr3d",f:ane},61:{n:"PtgAreaErr3d",f:Nte},255:{}},Ane={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Nne={1:{n:"PtgElfLel",f:G8},2:{n:"PtgElfRw",f:yne},3:{n:"PtgElfCol",f:dne},6:{n:"PtgElfRwV",f:wne},7:{n:"PtgElfColV",f:mne},10:{n:"PtgElfRadical",f:gne},11:{n:"PtgElfRadicalS",f:bne},13:{n:"PtgElfColS",f:fne},15:{n:"PtgElfColSV",f:hne},16:{n:"PtgElfRadicalLel",f:pne},25:{n:"PtgList",f:_ne},29:{n:"PtgSxName",f:xne},255:{}},Pne={0:{n:"PtgAttrNoop",f:Cne},1:{n:"PtgAttrSemi",f:Fte},2:{n:"PtgAttrIf",f:Mte},4:{n:"PtgAttrChoose",f:Ite},8:{n:"PtgAttrGoto",f:Ote},16:{n:"PtgAttrSum",f:jte},32:{n:"PtgAttrBaxcel",f:AP},33:{n:"PtgAttrBaxcel",f:AP},64:{n:"PtgAttrSpace",f:Lte},65:{n:"PtgAttrSpaceSemi",f:Bte},128:{n:"PtgAttrIfError",f:Dte},255:{}};function Rne(n,e,t,r){if(r.biff<8)return ra(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=ene(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=Zte(n,t[o][1],r),s.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=i-n.l,e!==0&&s.push(ra(n,e)),s}function Ine(n,e,t){for(var r=n.l+e,i,s,o=[];r!=n.l;)e=r-n.l,s=n[n.l],i=NP[s]||NP[Ane[s]],(s===24||s===25)&&(i=(s===24?Nne:Pne)[n[n.l+1]]),!i||!i.f?ra(n,e):o.push([i.n,i.f(n,e,t)]);return o}function One(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Mne={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Dne(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function Y8(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function PP(n,e,t){var r=Y8(n,e,t);return r=="#REF"?r:Dne(r,t)}function Bf(n,e,t,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},a=[],l,u,f,m=0,p=0,y,v="";if(!n[0]||!n[0][0])return"";for(var w=-1,E="",k=0,T=n[0].length;k<T;++k){var S=n[0][k];switch(S[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),u=a.pop(),w>=0){switch(n[0][w][1][0]){case 0:E=qn(" ",n[0][w][1][1]);break;case 1:E=qn("\r",n[0][w][1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}u=u+E,w=-1}a.push(u+Mne[S[0]]+l);break;case"PtgIsect":l=a.pop(),u=a.pop(),a.push(u+" "+l);break;case"PtgUnion":l=a.pop(),u=a.pop(),a.push(u+","+l);break;case"PtgRange":l=a.pop(),u=a.pop(),a.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=sg(S[1][1],o,i),a.push(og(f,s));break;case"PtgRefN":f=t?sg(S[1][1],t,i):S[1][1],a.push(og(f,s));break;case"PtgRef3d":m=S[1][1],f=sg(S[1][2],o,i),v=PP(r,m,i),a.push(v+"!"+og(f,s));break;case"PtgFunc":case"PtgFuncVar":var P=S[1][0],R=S[1][1];P||(P=0),P&=127;var D=P==0?[]:a.slice(-P);a.length-=P,R==="User"&&(R=D.shift()),a.push(R+"("+D.join(",")+")");break;case"PtgBool":a.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(S[1]);break;case"PtgNum":a.push(String(S[1]));break;case"PtgStr":a.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(S[1]);break;case"PtgAreaN":y=mP(S[1][1],t?{s:t}:o,i),a.push(i2(y,i));break;case"PtgArea":y=mP(S[1][1],o,i),a.push(i2(y,i));break;case"PtgArea3d":m=S[1][1],y=S[1][2],v=PP(r,m,i),a.push(v+"!"+i2(y,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=S[1][2];var A=(r.names||[])[p-1]||(r[0]||[])[p],F=A?A.Name:"SH33TJSNAME"+String(p);F&&F.slice(0,6)=="_xlfn."&&!i.xlfn&&(F=F.slice(6)),a.push(F);break;case"PtgNameX":var V=S[1][1];p=S[1][2];var X;if(i.biff<=5)V<0&&(V=-V),r[V]&&(X=r[V][p]);else{var re="";if(((r[V]||[])[0]||[])[0]==14849||(((r[V]||[])[0]||[])[0]==1025?r[V][p]&&r[V][p].itab>0&&(re=r.SheetNames[r[V][p].itab-1]+"!"):re=r.SheetNames[p-1]+"!"),r[V]&&r[V][p])re+=r[V][p].Name;else if(r[0]&&r[0][p])re+=r[0][p].Name;else{var N=(Y8(r,V,i)||"").split(";;");N[p-1]?re=N[p-1]:re+="SH33TJSERRX"}a.push(re);break}X||(X={Name:"SH33TJSERRY"}),a.push(X.Name);break;case"PtgParen":var te="(",be=")";if(w>=0){switch(E="",n[0][w][1][0]){case 2:te=qn(" ",n[0][w][1][1])+te;break;case 3:te=qn("\r",n[0][w][1][1])+te;break;case 4:be=qn(" ",n[0][w][1][1])+be;break;case 5:be=qn("\r",n[0][w][1][1])+be;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}w=-1}a.push(te+a.pop()+be);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":f={c:S[1][1],r:S[1][0]};var xe={c:t.c,r:t.r};if(r.sharedf[on(f)]){var ne=r.sharedf[on(f)];a.push(Bf(ne,o,xe,r,i))}else{var Ee=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){a.push(Bf(u[1],o,xe,r,i)),Ee=!0;break}Ee||a.push(S[1])}break;case"PtgArray":a.push("{"+One(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var We=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&We.indexOf(n[0][k][0])==-1){S=n[0][w];var Re=!0;switch(S[1][0]){case 4:Re=!1;case 0:E=qn(" ",S[1][1]);break;case 5:Re=!1;case 1:E=qn("\r",S[1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}a.push((Re?E:"")+a.pop()+(Re?"":E)),w=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function Fne(n){if(n==null){var e=ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Eu(n);return Eu(0)}function Lne(n,e,t,r,i){var s=ku(e,t,i),o=Fne(n.v),a=ve(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var u=ve(n.bf.length),f=0;f<n.bf.length;++f)u[f]=n.bf[f];var m=jr([s,o,a,u]);return m}function Tw(n,e,t){var r=n.read_shift(4),i=Ine(n,r,t),s=n.read_shift(4),o=s>0?Rne(n,s,i,t):null;return[i,o]}var Bne=Tw,Sw=Tw,Vne=Tw,Une=Tw,zne={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},K8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Hne={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $ne(n){var e="of:="+n.replace(QT,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Wne(n){return n.replace(/\./,"!")}var ag=typeof Map<"u";function tS(n,e,t){var r=0,i=n.length;if(t){if(ag?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=ag?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(ag?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function Cw(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Ya=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=oy(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=QE(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function X8(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function bc(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){jD(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function jne(n,e,t){if(n&&n["!ref"]){var r=An(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function qne(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+dr(n[t])+'"/>';return e+"</mergeCells>"}function Gne(n,e,t,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[t];try{e.Workbook&&(l=e.Workbook.Sheets[t].CodeName||l)}catch{}s=!0,o.codeName=Bg(sn(l))}if(n&&n["!outline"]){var u={summaryBelow:1,summaryRight:1};n["!outline"].above&&(u.summaryBelow=0),n["!outline"].left&&(u.summaryRight=0),a=(a||"")+ze("outlinePr",null,u)}!s&&!a||(i[i.length]=ze("sheetPr",a,o))}var Yne=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Kne=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Xne(n){var e={sheet:1};return Yne.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Kne.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=O8(n.password).toString(16).toUpperCase()),ze("sheetProtection",null,e)}function Jne(n){return X8(n),ze("pageMargins",null,n)}function Qne(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=ze("col",null,Cw(i,r)));return t[t.length]="</cols>",t.join("")}function Zne(n,e,t,r){var i=typeof n.ref=="string"?n.ref:dr(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=ys(i);o.s.r==o.e.r&&(o.e.r=ys(e["!ref"]).e.r,i=dr(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),ze("autoFilter",null,{ref:i})}function ere(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ze("sheetViews",ze("sheetView",null,i),{})}function tre(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=I0[n.v];break;case"d":r&&r.cellDates?i=wi(n.v,-1).toISOString():(n=$i(n),n.t="n",i=""+(n.v=Hi(wi(n.v)))),typeof n.z>"u"&&(n.z=Xn[14]);break;default:i=n.v;break}var a=qr("v",sn(i)),l={r:e},u=bc(r.cellXfs,n,r);switch(u!==0&&(l.s=u),n.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=qr("v",""+tS(r.Strings,n.v,r.revStrings)),l.t="s";break}l.t="str";break}if(n.t!=s&&(n.t=s,n.v=o),typeof n.f=="string"&&n.f){var f=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;a=ze("f",sn(n.f),f)+(n.v!=null?a:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(l.cm=1),ze("c",a,l)}function nre(n,e,t,r){var i=[],s=[],o=An(n["!ref"]),a="",l,u="",f=[],m=0,p=0,y=n["!rows"],v=Array.isArray(n),w={r:u},E,k=-1;for(p=o.s.c;p<=o.e.c;++p)f[p]=oi(p);for(m=o.s.r;m<=o.e.r;++m){for(s=[],u=Yr(m),p=o.s.c;p<=o.e.c;++p){l=f[p]+u;var T=v?(n[m]||[])[p]:n[l];T!==void 0&&(a=tre(T,l,n,e))!=null&&s.push(a)}(s.length>0||y&&y[m])&&(w={r:u},y&&y[m]&&(E=y[m],E.hidden&&(w.hidden=1),k=-1,E.hpx?k=ay(E.hpx):E.hpt&&(k=E.hpt),k>-1&&(w.ht=k,w.customHeight=1),E.level&&(w.outlineLevel=E.level)),i[i.length]=ze("row",s.join(""),w))}if(y)for(;m<y.length;++m)y&&y[m]&&(w={r:m+1},E=y[m],E.hidden&&(w.hidden=1),k=-1,E.hpx?k=ay(E.hpx):E.hpt&&(k=E.hpt),k>-1&&(w.ht=k,w.customHeight=1),E.level&&(w.outlineLevel=E.level),i[i.length]=ze("row","",w));return i.join("")}function J8(n,e,t,r){var i=[gr,ze("worksheet",null,{xmlns:rh[0],"xmlns:r":Rr.r})],s=t.SheetNames[n],o=0,a="",l=t.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",f=An(u);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=dr(f)}r||(r={}),l["!comments"]=[];var m=[];Gne(l,t,n,e,i),i[i.length]=ze("dimension",null,{ref:u}),i[i.length]=ere(l,e,n,t),e.sheetFormat&&(i[i.length]=ze("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=Qne(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=nre(l,e),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=Xne(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=Zne(l["!autofilter"],l,t,n)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=qne(l["!merges"]));var p=-1,y,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(w){w[1].Target&&(y={ref:w[0]},w[1].Target.charAt(0)!="#"&&(v=rn(r,-1,sn(w[1].Target).replace(/#.*$/,""),Bt.HLINK),y["r:id"]="rId"+v),(p=w[1].Target.indexOf("#"))>-1&&(y.location=sn(w[1].Target.slice(p+1))),w[1].Tooltip&&(y.tooltip=sn(w[1].Tooltip)),i[i.length]=ze("hyperlink",null,y))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=Jne(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=qr("ignoredErrors",ze("ignoredError",null,{numberStoredAsText:1,sqref:u}))),m.length>0&&(v=rn(r,-1,"../drawings/drawing"+(n+1)+".xml",Bt.DRAW),i[i.length]=ze("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=m),l["!comments"].length>0&&(v=rn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Bt.VML),i[i.length]=ze("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function rre(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function ire(n,e,t){var r=ve(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=ay(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var u={r:n,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var m=-1,p=-1,y=f<<10;y<f+1<<10;++y){u.c=y;var v=Array.isArray(t)?(t[u.r]||[])[u.c]:t[on(u)];v&&(m<0&&(m=y),p=y)}m<0||(++a,r.write_shift(4,m),r.write_shift(4,p))}var w=r.l;return r.l=l,r.write_shift(4,a),r.l=w,r.length>r.l?r.slice(0,r.l):r}function sre(n,e,t,r){var i=ire(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&Pe(n,0,i)}var ore=Du,are=sh;function lre(){}function cre(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=wZ(n),t}function ure(n,e,t){t==null&&(t=ve(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return ry({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),f8(n,t),t.slice(0,t.l)}function dre(n){var e=Gs(n);return[e]}function fre(n,e,t){return t==null&&(t=ve(8)),Iu(e,t)}function hre(n){var e=Ou(n);return[e]}function mre(n,e,t){return t==null&&(t=ve(4)),Mu(e,t)}function gre(n){var e=Gs(n),t=n.read_shift(1);return[e,t,"b"]}function pre(n,e,t){return t==null&&(t=ve(9)),Iu(e,t),t.write_shift(1,n.v?1:0),t}function bre(n){var e=Ou(n),t=n.read_shift(1);return[e,t,"b"]}function yre(n,e,t){return t==null&&(t=ve(5)),Mu(e,t),t.write_shift(1,n.v?1:0),t}function wre(n){var e=Gs(n),t=n.read_shift(1);return[e,t,"e"]}function vre(n,e,t){return t==null&&(t=ve(9)),Iu(e,t),t.write_shift(1,n.v),t}function _re(n){var e=Ou(n),t=n.read_shift(1);return[e,t,"e"]}function xre(n,e,t){return t==null&&(t=ve(8)),Mu(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function Ere(n){var e=Gs(n),t=n.read_shift(4);return[e,t,"s"]}function kre(n,e,t){return t==null&&(t=ve(12)),Iu(e,t),t.write_shift(4,e.v),t}function Tre(n){var e=Ou(n),t=n.read_shift(4);return[e,t,"s"]}function Sre(n,e,t){return t==null&&(t=ve(8)),Mu(e,t),t.write_shift(4,e.v),t}function Cre(n){var e=Gs(n),t=oh(n);return[e,t,"n"]}function Are(n,e,t){return t==null&&(t=ve(16)),Iu(e,t),Eu(n.v,t),t}function Nre(n){var e=Ou(n),t=oh(n);return[e,t,"n"]}function Pre(n,e,t){return t==null&&(t=ve(12)),Mu(e,t),Eu(n.v,t),t}function Rre(n){var e=Gs(n),t=h8(n);return[e,t,"n"]}function Ire(n,e,t){return t==null&&(t=ve(12)),Iu(e,t),m8(n.v,t),t}function Ore(n){var e=Ou(n),t=h8(n);return[e,t,"n"]}function Mre(n,e,t){return t==null&&(t=ve(8)),Mu(e,t),m8(n.v,t),t}function Dre(n){var e=Gs(n),t=GT(n);return[e,t,"is"]}function Fre(n){var e=Gs(n),t=ai(n);return[e,t,"str"]}function Lre(n,e,t){return t==null&&(t=ve(12+4*n.v.length)),Iu(e,t),Mr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Bre(n){var e=Ou(n),t=ai(n);return[e,t,"str"]}function Vre(n,e,t){return t==null&&(t=ve(8+4*n.v.length)),Mu(e,t),Mr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Ure(n,e,t){var r=n.l+e,i=Gs(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"b"];if(t.cellFormula){n.l+=2;var a=Sw(n,r-n.l,t);o[3]=Bf(a,null,i,t.supbooks,t)}else n.l=r;return o}function zre(n,e,t){var r=n.l+e,i=Gs(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"e"];if(t.cellFormula){n.l+=2;var a=Sw(n,r-n.l,t);o[3]=Bf(a,null,i,t.supbooks,t)}else n.l=r;return o}function Hre(n,e,t){var r=n.l+e,i=Gs(n);i.r=t["!row"];var s=oh(n),o=[i,s,"n"];if(t.cellFormula){n.l+=2;var a=Sw(n,r-n.l,t);o[3]=Bf(a,null,i,t.supbooks,t)}else n.l=r;return o}function $re(n,e,t){var r=n.l+e,i=Gs(n);i.r=t["!row"];var s=ai(n),o=[i,s,"str"];if(t.cellFormula){n.l+=2;var a=Sw(n,r-n.l,t);o[3]=Bf(a,null,i,t.supbooks,t)}else n.l=r;return o}var Wre=Du,jre=sh;function qre(n,e){return e==null&&(e=ve(4)),e.write_shift(4,n),e}function Gre(n,e){var t=n.l+e,r=Du(n),i=YT(n),s=ai(n),o=ai(n),a=ai(n);n.l=t;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function Yre(n,e){var t=ve(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));sh({s:Or(n[0]),e:Or(n[0])},t),KT("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Mr(i||"",t),Mr(n[1].Tooltip||"",t),Mr("",t),t.slice(0,t.l)}function Kre(){}function Xre(n,e,t){var r=n.l+e,i=g8(n),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var a=Bne(n,r-n.l,t);o[1]=a}else n.l=r;return o}function Jre(n,e,t){var r=n.l+e,i=Du(n),s=[i];if(t.cellFormula){var o=Une(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}function Qre(n,e,t){t==null&&(t=ve(18));var r=Cw(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var Q8=["left","right","top","bottom","header","footer"];function Zre(n){var e={};return Q8.forEach(function(t){e[t]=oh(n)}),e}function eie(n,e){return e==null&&(e=ve(6*8)),X8(n),Q8.forEach(function(t){Eu(n[t],e)}),e}function tie(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function nie(n,e,t){t==null&&(t=ve(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function rie(n){var e=ve(24);return e.write_shift(4,4),e.write_shift(4,1),sh(n,e),e}function iie(n,e){return e==null&&(e=ve(16*4+2)),e.write_shift(2,n.password?O8(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function sie(){}function oie(){}function aie(n,e,t,r,i,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=$i(e),e.z=e.z||Xn[14],e.v=Hi(wi(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var l={r:t,c:r};switch(l.s=bc(i.cellXfs,e,i),e.l&&s["!links"].push([on(l),e.l]),e.c&&s["!comments"].push([on(l),e.c]),e.t){case"s":case"str":return i.bookSST?(a=tS(i.Strings,e.v,i.revStrings),l.t="s",l.v=a,o?Pe(n,18,Sre(e,l)):Pe(n,7,kre(e,l))):(l.t="str",o?Pe(n,17,Vre(e,l)):Pe(n,6,Lre(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Pe(n,13,Mre(e,l)):Pe(n,2,Ire(e,l)):o?Pe(n,16,Pre(e,l)):Pe(n,5,Are(e,l)),!0;case"b":return l.t="b",o?Pe(n,15,yre(e,l)):Pe(n,4,pre(e,l)),!0;case"e":return l.t="e",o?Pe(n,14,xre(e,l)):Pe(n,3,vre(e,l)),!0}return o?Pe(n,12,mre(e,l)):Pe(n,1,fre(e,l)),!0}function lie(n,e,t,r){var i=An(e["!ref"]||"A1"),s,o="",a=[];Pe(n,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=u;++f){o=Yr(f),sre(n,e,i,f);var m=!1;if(f<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){f===i.s.r&&(a[p]=oi(p)),s=a[p]+o;var y=l?(e[f]||[])[p]:e[s];if(!y){m=!1;continue}m=aie(n,y,f,p,r,e,m)}}Pe(n,146)}function cie(n,e){!e||!e["!merges"]||(Pe(n,177,qre(e["!merges"].length)),e["!merges"].forEach(function(t){Pe(n,176,jre(t))}),Pe(n,178))}function uie(n,e){!e||!e["!cols"]||(Pe(n,390),e["!cols"].forEach(function(t,r){t&&Pe(n,60,Qre(r,t))}),Pe(n,391))}function die(n,e){!e||!e["!ref"]||(Pe(n,648),Pe(n,649,rie(An(e["!ref"]))),Pe(n,650))}function fie(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=rn(t,-1,r[1].Target.replace(/#.*$/,""),Bt.HLINK);Pe(n,494,Yre(r,i))}}),delete e["!links"]}function hie(n,e,t,r){if(e["!comments"].length>0){var i=rn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Bt.VML);Pe(n,551,KT("rId"+i)),e["!legacy"]=i}}function mie(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:dr(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,a=ys(s);a.s.r==a.e.r&&(a.e.r=ys(e["!ref"]).e.r,s=dr(a));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+t.SheetNames[r]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Pe(n,161,sh(An(s))),Pe(n,162)}}function gie(n,e,t){Pe(n,133),Pe(n,137,nie(e,t)),Pe(n,138),Pe(n,134)}function pie(n,e){e["!protect"]&&Pe(n,535,iie(e["!protect"]))}function bie(n,e,t,r){var i=Vi(),s=t.SheetNames[n],o=t.Sheets[s]||{},a=s;try{t&&t.Workbook&&(a=t.Workbook.Sheets[n].CodeName||a)}catch{}var l=An(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Pe(i,129),(t.vbaraw||o["!outline"])&&Pe(i,147,ure(a,o["!outline"])),Pe(i,148,are(l)),gie(i,o,t.Workbook),uie(i,o),lie(i,o,n,e),pie(i,o),mie(i,o,t,n),cie(i,o),fie(i,o,r),o["!margins"]&&Pe(i,476,eie(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&die(i,o),hie(i,o,n,r),Pe(i,130),i.end()}function yie(n,e){n.l+=10;var t=ai(n);return{name:t}}var wie=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function vie(n){return!n.Workbook||!n.Workbook.WBProps?"false":JQ(n.Workbook.WBProps.date1904)?"true":"false"}var _ie="][*?/\\".split("");function Z8(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return _ie.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function xie(n,e,t){n.forEach(function(r,i){Z8(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Eie(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];xie(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)jne(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function eF(n){var e=[gr];e[e.length]=ze("workbook",null,{xmlns:rh[0],"xmlns:r":Rr.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(wie.forEach(function(a){n.Workbook.WBProps[a[0]]!=null&&n.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=n.Workbook.WBProps[a[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ze("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:sn(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=ze("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(e[e.length]=ze("definedName",sn(a.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function kie(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=JE(n),t.name=ai(n),t}function Tie(n,e){return e||(e=ve(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),KT(n.strRelID,e),Mr(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Sie(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?ai(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function Cie(n,e){e||(e=ve(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),f8(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Aie(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=vZ(n),o=Vne(n,0,t),a=YT(n);n.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function Nie(n,e){Pe(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Pe(n,156,Tie(i))}Pe(n,144)}function Pie(n,e){e||(e=ve(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Mr("SheetJS",e),Mr(Kb.version,e),Mr(Kb.version,e),Mr("7262",e),e.length>e.l?e.slice(0,e.l):e}function Rie(n,e){e||(e=ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function Iie(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(Pe(n,135),Pe(n,158,Rie(i)),Pe(n,136))}}function Oie(n,e){var t=Vi();return Pe(t,131),Pe(t,128,Pie()),Pe(t,153,Cie(n.Workbook&&n.Workbook.WBProps||null)),Iie(t,n),Nie(t,n),Pe(t,132),t.end()}function Mie(n,e,t){return(e.slice(-4)===".bin"?Oie:eF)(n)}function Die(n,e,t,r,i){return(e.slice(-4)===".bin"?bie:J8)(n,t,r,i)}function Fie(n,e,t){return(e.slice(-4)===".bin"?ete:F8)(n,t)}function Lie(n,e,t){return(e.slice(-4)===".bin"?Cee:I8)(n,t)}function Bie(n,e,t){return(e.slice(-4)===".bin"?pte:z8)(n)}function Vie(n){return(n.slice(-4)===".bin"?lte:V8)()}function Uie(n,e){var t=[];return n.Props&&t.push(FZ(n.Props,e)),n.Custprops&&t.push(LZ(n.Props,n.Custprops)),t.join("")}function zie(){return""}function Hie(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(ze("NumberFormat",null,{"ss:Format":sn(Xn[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(ze("Style",s.join(""),o))}),ze("Styles",t.join(""))}function tF(n){return ze("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+ZT(n.Ref,{r:0,c:0})})}function $ie(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(tF(i)))}return ze("Names",t.join(""))}function Wie(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==t&&(a.Name.match(/^_xlfn\./)||s.push(tF(a)))}return s.join("")}function jie(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(ze("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(ze("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(ze("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(ze("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(qr("ProtectContents","True")),n["!protect"].objects&&i.push(qr("ProtectObjects","True")),n["!protect"].scenarios&&i.push(qr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(qr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(qr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":ze("WorksheetOptions",i.join(""),{xmlns:as.x})}function qie(n){return n.map(function(e){var t=XQ(e.t||""),r=ze("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ze("Comment",r,{"ss:Author":e.a})}).join("")}function Gie(n,e,t,r,i,s,o){if(!n||n.v==null&&n.f==null)return"";var a={};if(n.f&&(a["ss:Formula"]="="+sn(ZT(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var l=Or(n.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(n.l&&n.l.Target&&(a["ss:HRef"]=sn(n.l.Target),n.l.Tooltip&&(a["x:HRefScreenTip"]=sn(n.l.Tooltip))),t["!merges"])for(var u=t["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(a["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(a["ss:MergeDown"]=u[f].e.r-u[f].s.r));var m="",p="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":m="Number",p=String(n.v);break;case"b":m="Boolean",p=n.v?"1":"0";break;case"e":m="Error",p=I0[n.v];break;case"d":m="DateTime",p=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||Xn[14]);break;case"s":m="String",p=KQ(n.v||"");break}var y=bc(r.cellXfs,n,r);a["ss:StyleID"]="s"+(21+y),a["ss:Index"]=o.c+1;var v=n.v!=null?p:"",w=n.t=="z"?"":'<Data ss:Type="'+m+'">'+v+"</Data>";return(n.c||[]).length>0&&(w+=qie(n.c)),ze("Cell",w,a)}function Yie(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=D8(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Kie(n,e,t,r){if(!n["!ref"])return"";var i=An(n["!ref"]),s=n["!merges"]||[],o=0,a=[];n["!cols"]&&n["!cols"].forEach(function(E,k){JT(E);var T=!!E.width,S=Cw(k,E),P={"ss:Index":k+1};T&&(P["ss:Width"]=sy(S.width)),E.hidden&&(P["ss:Hidden"]="1"),a.push(ze("Column",null,P))});for(var l=Array.isArray(n),u=i.s.r;u<=i.e.r;++u){for(var f=[Yie(u,(n["!rows"]||[])[u])],m=i.s.c;m<=i.e.c;++m){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>m)&&!(s[o].s.r>u)&&!(s[o].e.c<m)&&!(s[o].e.r<u)){(s[o].s.c!=m||s[o].s.r!=u)&&(p=!0);break}if(!p){var y={r:u,c:m},v=on(y),w=l?(n[u]||[])[m]:n[v];f.push(Gie(w,v,n,e,t,r,y))}}f.push("</Row>"),f.length>2&&a.push(f.join(""))}return a.join("")}function Xie(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],o=s?Wie(s,e,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?Kie(s,e,n,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(jie(s,e,n,t)),r.join("")}function Jie(n,e){e||(e={}),n.SSF||(n.SSF=$i(Xn)),n.SSF&&(xw(),_w(n.SSF),e.revssf=Ew(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],bc(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(Uie(n,e)),t.push(zie()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(ze("Worksheet",Xie(r,e,n),{"ss:Name":sn(n.SheetNames[r])}));return t[2]=Hie(n,e),t[3]=$ie(n),gr+ze("Workbook",t.join(""),{xmlns:as.ss,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:ss":as.ss,"xmlns:dt":as.dt,"xmlns:html":as.html})}var a2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Qie(n,e){var t=[],r=[],i=[],s=0,o,a=rP(pP,"n"),l=rP(bP,"n");if(n.Props)for(o=Kr(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=Kr(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var u=[];for(s=0;s<i.length;++s)T8.indexOf(i[s][0])>-1||x8.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);r.length&&mn.utils.cfb_add(e,"/SummaryInformation",xP(r,a2.SI,l,bP)),(t.length||u.length)&&mn.utils.cfb_add(e,"/DocumentSummaryInformation",xP(t,a2.DSI,a,pP,u.length?u:null,a2.UDI))}function Zie(n,e){var t=e||{},r=mn.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return mn.utils.cfb_add(r,i,nF(n,t)),t.biff==8&&(n.Props||n.Custprops)&&Qie(n,r),t.biff==8&&n.vbaraw&&bte(r,mn.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var ese={0:{f:rre},1:{f:dre},2:{f:Rre},3:{f:wre},4:{f:gre},5:{f:Cre},6:{f:Fre},7:{f:Ere},8:{f:$re},9:{f:Hre},10:{f:Ure},11:{f:zre},12:{f:hre},13:{f:Ore},14:{f:_re},15:{f:bre},16:{f:Nre},17:{f:Bre},18:{f:Tre},19:{f:GT},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Aie},40:{},42:{},43:{f:Fee},44:{f:Mee},45:{f:Vee},46:{f:zee},47:{f:Uee},48:{},49:{f:hZ},50:{},51:{f:rte},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mee},62:{f:Dre},63:{f:cte},64:{f:sie},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ra,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tie},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cre},148:{f:ore,p:16},151:{f:Kre},152:{},153:{f:Sie},154:{},155:{},156:{f:kie},157:{},158:{},159:{T:1,f:kee},160:{T:-1},161:{T:1,f:Du},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Wre},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:tte},336:{T:-1},337:{f:ote,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:JE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:lee},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Xre},427:{f:Jre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Zre},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:lre},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Gre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:JE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mte},633:{T:1},634:{T:-1},635:{T:1,f:fte},636:{T:-1},637:{f:bZ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:yie},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:oie},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function He(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&WT(t)&&n.push(t)}}function tse(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return He(n,e,t,i);var s=e;if(!isNaN(s)){for(var o=t.parts||[],a=0,l=0,u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;var f=n.next(4);for(f.write_shift(2,s),f.write_shift(2,u),n.push(t.slice(l,l+u)),l+=u;l<i;){for(f=n.next(4),f.write_shift(2,60),u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;f.write_shift(2,u),n.push(t.slice(l,l+u)),l+=u}}}function M0(n,e,t){return n||(n=ve(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function nse(n,e,t,r){var i=ve(9);return M0(i,n,e),C8(t,r||"b",i),i}function rse(n,e,t){var r=ve(8+2*t.length);return M0(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function ise(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Hi(wi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?He(n,2,yee(t,r,i)):He(n,3,bee(t,r,i));return;case"b":case"e":He(n,5,nse(t,r,e.v,e.t));return;case"s":case"str":He(n,4,rse(t,r,(e.v||"").slice(0,255)));return}He(n,1,M0(null,t,r))}function sse(n,e,t,r){var i=Array.isArray(e),s=An(e["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=dr(s)}for(var u=s.s.r;u<=s.e.r;++u){a=Yr(u);for(var f=s.s.c;f<=s.e.c;++f){u===s.s.r&&(l[f]=oi(f)),o=l[f]+a;var m=i?(e[u]||[])[f]:e[o];m&&ise(n,m,u,f)}}}function ose(n,e){for(var t=e||{},r=Vi(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return He(r,t.biff==4?1033:t.biff==3?521:9,XT(n,16,t)),sse(r,n.Sheets[n.SheetNames[i]],i,t),He(r,10),r.end()}function ase(n,e,t){He(n,49,eee({sz:12,name:"Arial"},t))}function lse(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&He(n,1054,ree(i,e[i],t))})}function cse(n,e){var t=ve(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),He(n,2151,t),t=ve(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),P8(An(e["!ref"]||"A1"),t),t.write_shift(4,4),He(n,2152,t)}function use(n,e){for(var t=0;t<16;++t)He(n,224,kP({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){He(n,224,kP(r,0,e))})}function dse(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];He(n,440,dee(r)),r[1].Tooltip&&He(n,2048,fee(r))}delete e["!links"]}function fse(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&He(n,125,gee(Cw(i,r),i))})}}function hse(n,e,t,r,i){var s=16+bc(i.cellXfs,e,i);if(e.v==null&&!e.bf){He(n,513,ku(t,r,s));return}if(e.bf)He(n,6,Lne(e,t,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?Hi(wi(e.v)):e.v;He(n,515,aee(t,r,o,s));break;case"b":case"e":He(n,517,oee(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var a=tS(i.Strings,e.v,i.revStrings);He(n,253,tee(t,r,a,s))}else He(n,516,nee(t,r,(e.v||"").slice(0,255),s,i));break;default:He(n,513,ku(t,r,s))}}function mse(n,e,t){var r=Vi(),i=t.SheetNames[n],s=t.Sheets[i]||{},o=(t||{}).Workbook||{},a=(o.Sheets||[])[n]||{},l=Array.isArray(s),u=e.biff==8,f,m="",p=[],y=An(s["!ref"]||"A1"),v=u?65536:16384;if(y.e.c>255||y.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,v-1)}He(r,2057,XT(t,16,e)),He(r,13,Ls(1)),He(r,12,Ls(100)),He(r,15,mi(!0)),He(r,17,mi(!1)),He(r,16,Eu(.001)),He(r,95,mi(!0)),He(r,42,mi(!1)),He(r,43,mi(!1)),He(r,130,Ls(1)),He(r,128,see()),He(r,131,mi(!1)),He(r,132,mi(!1)),u&&fse(r,s["!cols"]),He(r,512,iee(y,e)),u&&(s["!links"]=[]);for(var w=y.s.r;w<=y.e.r;++w){m=Yr(w);for(var E=y.s.c;E<=y.e.c;++E){w===y.s.r&&(p[E]=oi(E)),f=p[E]+m;var k=l?(s[w]||[])[E]:s[f];k&&(hse(r,k,w,E,e),u&&k.l&&s["!links"].push([f,k.l]))}}var T=a.CodeName||a.name||i;return u&&He(r,574,ZZ((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&He(r,229,uee(s["!merges"])),u&&dse(r,s),He(r,442,N8(T)),u&&cse(r,s),He(r,10),r.end()}function gse(n,e,t){var r=Vi(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=t.biff==8,l=t.biff==5;if(He(r,2057,XT(n,5,t)),t.bookType=="xla"&&He(r,135),He(r,225,a?Ls(1200):null),He(r,193,UZ(2)),l&&He(r,191),l&&He(r,192),He(r,226),He(r,92,KZ("SheetJS",t)),He(r,66,Ls(a?1200:1252)),a&&He(r,353,Ls(0)),a&&He(r,448),He(r,317,pee(n.SheetNames.length)),a&&n.vbaraw&&He(r,211),a&&n.vbaraw){var u=o.CodeName||"ThisWorkbook";He(r,442,N8(u))}He(r,156,Ls(17)),He(r,25,mi(!1)),He(r,18,mi(!1)),He(r,19,Ls(0)),a&&He(r,431,mi(!1)),a&&He(r,444,Ls(0)),He(r,61,QZ()),He(r,64,mi(!1)),He(r,141,Ls(0)),He(r,34,mi(vie(n)=="true")),He(r,14,mi(!0)),a&&He(r,439,mi(!1)),He(r,218,Ls(0)),ase(r,n,t),lse(r,n.SSF,t),use(r,t),a&&He(r,352,mi(!1));var f=r.end(),m=Vi();a&&He(m,140,hee()),a&&t.Strings&&tse(m,252,JZ(t.Strings)),He(m,10);var p=m.end(),y=Vi(),v=0,w=0;for(w=0;w<n.SheetNames.length;++w)v+=(a?12:11)+(a?2:1)*n.SheetNames[w].length;var E=f.length+v+p.length;for(w=0;w<n.SheetNames.length;++w){var k=s[w]||{};He(y,133,XZ({pos:E,hs:k.Hidden||0,dt:0,name:n.SheetNames[w]},t)),E+=e[w].length}var T=y.end();if(v!=T.length)throw new Error("BS8 "+v+" != "+T.length);var S=[];return f.length&&S.push(f),T.length&&S.push(T),p.length&&S.push(p),jr(S)}function pse(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=$i(Xn)),n&&n.SSF&&(xw(),_w(n.SSF),t.revssf=Ew(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,nS(t),t.cellXfs=[],bc(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=mse(i,t,n);return r.unshift(gse(n,r,t)),jr(r)}function nF(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=ys(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return pse(n,e);case 4:case 3:case 2:return ose(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function bse(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>o)&&!(i[u].e.r<t||i[u].e.c<o)){if(i[u].s.r<t||i[u].s.c<o){a=-1;break}a=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(a<0)){var f=on({r:t,c:o}),m=r.dense?(n[t]||[])[o]:n[f],p=m&&m.v!=null&&(m.h||YQ(m.w||(il(m),m.w)||""))||"",y={};a>1&&(y.rowspan=a),l>1&&(y.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":m&&(y["data-t"]=m&&m.t||"z",m.v!=null&&(y["data-v"]=m.v),m.z!=null&&(y["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+m.l.Target+'">'+p+"</a>")),y.id=(r.id||"sjs")+"-"+f,s.push(ze("td",p,y))}}var v="<tr>";return v+s.join("")+"</tr>"}var yse='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wse="</body></html>";function vse(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function rF(n,e){var t=e||{},r=t.header!=null?t.header:yse,i=t.footer!=null?t.footer:wse,s=[r],o=ys(n["!ref"]);t.dense=Array.isArray(n),s.push(vse(n,o,t));for(var a=o.s.r;a<=o.e.r;++a)s.push(bse(n,o,a,t));return s.push("</table>"+i),s.join("")}function iF(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Or(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var f=ys(n["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var m=[],p=0,y=n["!rows"]||(n["!rows"]=[]),v=0,w=0,E=0,k=0,T=0,S=0;for(n["!cols"]||(n["!cols"]=[]);v<a.length&&w<l;++v){var P=a[v];if(RP(P)){if(r.display)continue;y[w]={hidden:!0}}var R=P.children;for(E=k=0;E<R.length;++E){var D=R[E];if(!(r.display&&RP(D))){var A=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):QQ(D.innerHTML),F=D.getAttribute("data-z")||D.getAttribute("z");for(p=0;p<m.length;++p){var V=m[p];V.s.c==k+s&&V.s.r<w+i&&w+i<=V.e.r&&(k=V.e.c+1-s,p=-1)}S=+D.getAttribute("colspan")||1,((T=+D.getAttribute("rowspan")||1)>1||S>1)&&m.push({s:{r:w+i,c:k+s},e:{r:w+i+(T||1)-1,c:k+s+(S||1)-1}});var X={t:"s",v:A},re=D.getAttribute("data-t")||D.getAttribute("t")||"";A!=null&&(A.length==0?X.t=re||"z":r.raw||A.trim().length==0||re=="s"||(A==="TRUE"?X={t:"b",v:!0}:A==="FALSE"?X={t:"b",v:!1}:isNaN(Ga(A))?isNaN(Lg(A).getDate())||(X={t:"d",v:wi(A)},r.cellDates||(X={t:"n",v:Hi(X.v)}),X.z=r.dateNF||Xn[14]):X={t:"n",v:Ga(A)})),X.z===void 0&&F!=null&&(X.z=F);var N="",te=D.getElementsByTagName("A");if(te&&te.length)for(var be=0;be<te.length&&!(te[be].hasAttribute("href")&&(N=te[be].getAttribute("href"),N.charAt(0)!="#"));++be);N&&N.charAt(0)!="#"&&(X.l={Target:N}),r.dense?(n[w+i]||(n[w+i]=[]),n[w+i][k+s]=X):n[on({c:k+s,r:w+i})]=X,u.e.c<k+s&&(u.e.c=k+s),k+=S}}++w}return m.length&&(n["!merges"]=(n["!merges"]||[]).concat(m)),u.e.r=Math.max(u.e.r,w-1+i),n["!ref"]=dr(u),w>=l&&(n["!fullref"]=dr((u.e.r=a.length-v+w-1+i,u))),n}function sF(n,e){var t=e||{},r=t.dense?[]:{};return iF(r,n,e)}function _se(n,e){return Ru(sF(n,e),e)}function RP(n){var e="",t=xse(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function xse(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Ese=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Vg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return gr+e}}(),IP=function(){var n=function(s){return sn(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,o,a){var l=[];l.push('      <table:table table:name="'+sn(o.SheetNames[a])+`" table:style-name="ta1">
`);var u=0,f=0,m=ys(s["!ref"]||"A1"),p=s["!merges"]||[],y=0,v=Array.isArray(s);if(s["!cols"])for(f=0;f<=m.e.c;++f)l.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var w="",E=s["!rows"]||[];for(u=0;u<m.s.r;++u)w=E[u]?' table:style-name="ro'+E[u].ods+'"':"",l.push("        <table:table-row"+w+`></table:table-row>
`);for(;u<=m.e.r;++u){for(w=E[u]?' table:style-name="ro'+E[u].ods+'"':"",l.push("        <table:table-row"+w+`>
`),f=0;f<m.s.c;++f)l.push(e);for(;f<=m.e.c;++f){var k=!1,T={},S="";for(y=0;y!=p.length;++y)if(!(p[y].s.c>f)&&!(p[y].s.r>u)&&!(p[y].e.c<f)&&!(p[y].e.r<u)){(p[y].s.c!=f||p[y].s.r!=u)&&(k=!0),T["table:number-columns-spanned"]=p[y].e.c-p[y].s.c+1,T["table:number-rows-spanned"]=p[y].e.r-p[y].s.r+1;break}if(k){l.push(t);continue}var P=on({r:u,c:f}),R=v?(s[u]||[])[f]:s[P];if(R&&R.f&&(T["table:formula"]=sn($ne(R.f)),R.F&&R.F.slice(0,P.length)==P)){var D=ys(R.F);T["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,T["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!R){l.push(e);continue}switch(R.t){case"b":S=R.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=R.v?"true":"false";break;case"n":S=R.w||String(R.v||0),T["office:value-type"]="float",T["office:value"]=R.v||0;break;case"s":case"str":S=R.v==null?"":R.v,T["office:value-type"]="string";break;case"d":S=R.w||wi(R.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=wi(R.v).toISOString(),T["table:style-name"]="ce1";break;default:l.push(e);continue}var A=n(S);if(R.l&&R.l.Target){var F=R.l.Target;F=F.charAt(0)=="#"?"#"+Wne(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),A=ze("text:a",A,{"xlink:href":F.replace(/&/g,"&amp;")})}l.push("          "+ze("table:table-cell",ze("text:p",A,{}),T)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var m=u["!cols"][f];if(m.width==null&&m.wpx==null&&m.wch==null)continue;JT(m),m.ods=a;var p=u["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=l;var m=u["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[gr],u=Vg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Vg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+u+f+`>
`),l.push(v8().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var m=0;m!=o.SheetNames.length;++m)l.push(r(o.Sheets[o.SheetNames[m]],o,m));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function oF(n,e){if(e.bookType=="fods")return IP(n,e);var t=UT(),r="",i=[],s=[];return r="mimetype",Et(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Et(t,r,IP(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Et(t,r,Ese(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Et(t,r,gr+v8()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Et(t,r,DZ(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Et(t,r,OZ(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function ly(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function kse(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):uo(Bg(n))}function Tse(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function ac(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function Sse(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function Ug(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function nn(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function _f(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function vr(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Ug(n,t),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=t[0];n[t[0]++]>=128;);a=n.slice(l,t[0])}break;case 5:o=4,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Ug(n,t),a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var u={data:a,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Ur(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(nn(r*8+i.type)),i.type==2&&e.push(nn(i.data.length)),e.push(i.data))})}),ac(e)}function io(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Ug(n,r),s=vr(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:_f(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=vr(a.data),u=_f(l[3][0].data);o.messages.push({meta:l,data:n.slice(r[0],r[0]+u)}),r[0]+=u}),(e=s[3])!=null&&e[0]&&(o.merge=_f(s[3][0].data)>>>0>0),t.push(o)}return t}function Id(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:nn(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:nn(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:nn(o.data.length)}],r[2].push({data:Ur(o.meta),type:2})});var s=Ur(r);e.push(nn(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),ac(e)}function Cse(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Ug(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[t[0]],a>1&&(o|=e[t[0]+1]<<8),a>2&&(o|=e[t[0]+2]<<16),a>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=a}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var l=0,u=0;if(s==1?(u=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,s==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[ac(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var f=ac(i);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function so(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Cse(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return ac(e)}function Od(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=nn(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return ac(e)}function l2(n,e){var t=new Uint8Array(32),r=ly(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,Sse(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function c2(n,e){var t=new Uint8Array(32),r=ly(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function Wl(n){var e=vr(n);return Ug(e[1][0].data)}function Ase(n,e,t){var r,i,s,o;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=n[8])==null?void 0:s[0])==null?void 0:o.data)&&_f(n[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,u=ly(n[7][0].data),f=0,m=[],p=ly(n[4][0].data),y=0,v=[],w=0;w<e.length;++w){if(e[w]==null){u.setUint16(w*2,65535,!0),p.setUint16(w*2,65535);continue}u.setUint16(w*2,f,!0),p.setUint16(w*2,y,!0);var E,k;switch(typeof e[w]){case"string":E=l2({t:"s",v:e[w]},t),k=c2({t:"s",v:e[w]},t);break;case"number":E=l2({t:"n",v:e[w]},t),k=c2({t:"n",v:e[w]},t);break;case"boolean":E=l2({t:"b",v:e[w]},t),k=c2({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}m.push(E),f+=E.length,v.push(k),y+=k.length,++l}for(n[2][0].data=nn(l);w<n[7][0].data.length/2;++w)u.setUint16(w*2,65535,!0),p.setUint16(w*2,65535,!0);return n[6][0].data=ac(m),n[3][0].data=ac(v),l}function Nse(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ys(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(dr(r)));var s=cy(t,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(Q){return Q.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var a={},l=[],u=mn.read(e.numbers,{type:"base64"});u.FileIndex.map(function(Q,Y){return[Q,u.FullPaths[Y]]}).forEach(function(Q){var Y=Q[0],J=Q[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var ue=Y.content,Ye=so(ue),Be=io(Ye);Be.forEach(function(Je){l.push(Je.id),a[Je.id]={deps:[],location:J,type:_f(Je.messages[0].meta[1][0].data)}})}}),l.sort(function(Q,Y){return Q-Y});var f=l.filter(function(Q){return Q>1}).map(function(Q){return[Q,nn(Q)]});u.FileIndex.map(function(Q,Y){return[Q,u.FullPaths[Y]]}).forEach(function(Q){var Y=Q[0];if(Q[1],!!Y.name.match(/\.iwa/)){var J=io(so(Y.content));J.forEach(function(ue){ue.messages.forEach(function(Ye){f.forEach(function(Be){ue.messages.some(function(Je){return _f(Je.meta[1][0].data)!=11006&&Tse(Je.data,Be[1])})&&a[Be[0]].deps.push(ue.id)})})})}});for(var m=mn.find(u,a[1].location),p=io(so(m.content)),y,v=0;v<p.length;++v){var w=p[v];w.id==1&&(y=w)}var E=Wl(vr(y.messages[0].data)[1][0].data);for(m=mn.find(u,a[E].location),p=io(so(m.content)),v=0;v<p.length;++v)w=p[v],w.id==E&&(y=w);for(E=Wl(vr(y.messages[0].data)[2][0].data),m=mn.find(u,a[E].location),p=io(so(m.content)),v=0;v<p.length;++v)w=p[v],w.id==E&&(y=w);for(E=Wl(vr(y.messages[0].data)[2][0].data),m=mn.find(u,a[E].location),p=io(so(m.content)),v=0;v<p.length;++v)w=p[v],w.id==E&&(y=w);var k=vr(y.messages[0].data);{k[6][0].data=nn(r.e.r+1),k[7][0].data=nn(r.e.c+1);var T=Wl(k[46][0].data),S=mn.find(u,a[T].location),P=io(so(S.content));{for(var R=0;R<P.length&&P[R].id!=T;++R);if(P[R].id!=T)throw"Bad ColumnRowUIDMapArchive";var D=vr(P[R].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var A=0;A<=r.e.c;++A){var F=[];F[1]=F[2]=[{type:0,data:nn(A+420690)}],D[1].push({type:2,data:Ur(F)}),D[2].push({type:0,data:nn(A)}),D[3].push({type:0,data:nn(A)})}D[4]=[],D[5]=[],D[6]=[];for(var V=0;V<=r.e.r;++V)F=[],F[1]=F[2]=[{type:0,data:nn(V+726270)}],D[4].push({type:2,data:Ur(F)}),D[5].push({type:0,data:nn(V)}),D[6].push({type:0,data:nn(V)});P[R].messages[0].data=Ur(D)}S.content=Od(Id(P)),S.size=S.content.length,delete k[46];var X=vr(k[4][0].data);{X[7][0].data=nn(r.e.r+1);var re=vr(X[1][0].data),N=Wl(re[2][0].data);S=mn.find(u,a[N].location),P=io(so(S.content));{if(P[0].id!=N)throw"Bad HeaderStorageBucket";var te=vr(P[0].messages[0].data);for(V=0;V<s.length;++V){var be=vr(te[2][0].data);be[1][0].data=nn(V),be[4][0].data=nn(s[V].length),te[2][V]={type:te[2][0].type,data:Ur(be)}}P[0].messages[0].data=Ur(te)}S.content=Od(Id(P)),S.size=S.content.length;var xe=Wl(X[2][0].data);S=mn.find(u,a[xe].location),P=io(so(S.content));{if(P[0].id!=xe)throw"Bad HeaderStorageBucket";for(te=vr(P[0].messages[0].data),A=0;A<=r.e.c;++A)be=vr(te[2][0].data),be[1][0].data=nn(A),be[4][0].data=nn(r.e.r+1),te[2][A]={type:te[2][0].type,data:Ur(be)};P[0].messages[0].data=Ur(te)}S.content=Od(Id(P)),S.size=S.content.length;var ne=Wl(X[4][0].data);(function(){for(var Q=mn.find(u,a[ne].location),Y=io(so(Q.content)),J,ue=0;ue<Y.length;++ue){var Ye=Y[ue];Ye.id==ne&&(J=Ye)}var Be=vr(J.messages[0].data);{Be[3]=[];var Je=[];o.forEach(function(kt,Un){Je[1]=[{type:0,data:nn(Un)}],Je[2]=[{type:0,data:nn(1)}],Je[3]=[{type:2,data:kse(kt)}],Be[3].push({type:2,data:Ur(Je)})})}J.messages[0].data=Ur(Be);var je=Id(Y),Nt=Od(je);Q.content=Nt,Q.size=Q.content.length})();var Ee=vr(X[3][0].data);{var We=Ee[1][0];delete Ee[2];var Re=vr(We.data);{var j=Wl(Re[2][0].data);(function(){for(var Q=mn.find(u,a[j].location),Y=io(so(Q.content)),J,ue=0;ue<Y.length;++ue){var Ye=Y[ue];Ye.id==j&&(J=Ye)}var Be=vr(J.messages[0].data);{delete Be[6],delete Ee[7];var Je=new Uint8Array(Be[5][0].data);Be[5]=[];for(var je=0,Nt=0;Nt<=r.e.r;++Nt){var kt=vr(Je);je+=Ase(kt,s[Nt],o),kt[1][0].data=nn(Nt),Be[5].push({data:Ur(kt),type:2})}Be[1]=[{type:0,data:nn(r.e.c+1)}],Be[2]=[{type:0,data:nn(r.e.r+1)}],Be[3]=[{type:0,data:nn(je)}],Be[4]=[{type:0,data:nn(r.e.r+1)}]}J.messages[0].data=Ur(Be);var Un=Id(Y),Pt=Od(Un);Q.content=Pt,Q.size=Q.content.length})()}We.data=Ur(Re)}X[3][0].data=Ur(Ee)}k[4][0].data=Ur(X)}y.messages[0].data=Ur(k);var _e=Id(p),U=Od(_e);return m.content=U,m.size=m.content.length,u}function Pse(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function nS(n){Pse([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Rse(n,e){return e.bookType=="ods"?oF(n,e):e.bookType=="numbers"?Nse(n,e):e.bookType=="xlsb"?Ise(n,e):Ose(n,e)}function Ise(n,e){sf=1024,n&&!n.SSF&&(n.SSF=$i(Xn)),n&&n.SSF&&(xw(),_w(n.SSF),e.revssf=Ew(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ag?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=H8.indexOf(e.bookType)>-1,i=b8();nS(e=e||{});var s=UT(),o="",a=0;if(e.cellXfs=[],bc(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Et(s,o,_8(n.Props,e)),i.coreprops.push(o),rn(e.rels,2,o,Bt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}for(n.Props.Worksheets=n.Props.SheetNames.length,Et(s,o,E8(n.Props)),i.extprops.push(o),rn(e.rels,3,o,Bt.EXT_PROPS),n.Custprops!==n.Props&&Kr(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Et(s,o,k8(n.Custprops)),i.custprops.push(o),rn(e.rels,4,o,Bt.CUST_PROPS)),a=1;a<=n.SheetNames.length;++a){var f={"!id":{}},m=n.Sheets[n.SheetNames[a-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,Et(s,o,Die(a-1,o,e,n,f)),i.sheets.push(o),rn(e.wbrels,-1,"worksheets/sheet"+a+"."+t,Bt.WS[0])}if(m){var y=m["!comments"],v=!1,w="";y&&y.length>0&&(w="xl/comments"+a+"."+t,Et(s,w,Bie(y,w)),i.comments.push(w),rn(f,-1,"../comments"+a+"."+t,Bt.CMNT),v=!0),m["!legacy"]&&v&&Et(s,"xl/drawings/vmlDrawing"+a+".vml",U8(a,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Et(s,w8(o),wf(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Et(s,o,Lie(e.Strings,o,e)),i.strs.push(o),rn(e.wbrels,-1,"sharedStrings."+t,Bt.SST)),o="xl/workbook."+t,Et(s,o,Mie(n,o)),i.workbooks.push(o),rn(e.rels,1,o,Bt.WB),o="xl/theme/theme1.xml",Et(s,o,B8(n.Themes,e)),i.themes.push(o),rn(e.wbrels,-1,"theme/theme1.xml",Bt.THEME),o="xl/styles."+t,Et(s,o,Fie(n,o,e)),i.styles.push(o),rn(e.wbrels,-1,"styles."+t,Bt.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Et(s,o,n.vbaraw),i.vba.push(o),rn(e.wbrels,-1,"vbaProject.bin",Bt.VBA)),o="xl/metadata."+t,Et(s,o,Vie(o)),i.metadata.push(o),rn(e.wbrels,-1,"metadata."+t,Bt.XLMETA),Et(s,"[Content_Types].xml",y8(i,e)),Et(s,"_rels/.rels",wf(e.rels)),Et(s,"xl/_rels/workbook."+t+".rels",wf(e.wbrels)),delete e.revssf,delete e.ssf,s}function Ose(n,e){sf=1024,n&&!n.SSF&&(n.SSF=$i(Xn)),n&&n.SSF&&(xw(),_w(n.SSF),e.revssf=Ew(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ag?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=H8.indexOf(e.bookType)>-1,i=b8();nS(e=e||{});var s=UT(),o="",a=0;if(e.cellXfs=[],bc(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Et(s,o,_8(n.Props,e)),i.coreprops.push(o),rn(e.rels,2,o,Bt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}n.Props.Worksheets=n.Props.SheetNames.length,Et(s,o,E8(n.Props)),i.extprops.push(o),rn(e.rels,3,o,Bt.EXT_PROPS),n.Custprops!==n.Props&&Kr(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Et(s,o,k8(n.Custprops)),i.custprops.push(o),rn(e.rels,4,o,Bt.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,a=1;a<=n.SheetNames.length;++a){var m={"!id":{}},p=n.Sheets[n.SheetNames[a-1]],y=(p||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,Et(s,o,J8(a-1,e,n,m)),i.sheets.push(o),rn(e.wbrels,-1,"worksheets/sheet"+a+"."+t,Bt.WS[0])}if(p){var v=p["!comments"],w=!1,E="";if(v&&v.length>0){var k=!1;v.forEach(function(T){T[1].forEach(function(S){S.T==!0&&(k=!0)})}),k&&(E="xl/threadedComments/threadedComment"+a+"."+t,Et(s,E,ute(v,f,e)),i.threadedcomments.push(E),rn(m,-1,"../threadedComments/threadedComment"+a+"."+t,Bt.TCMNT)),E="xl/comments"+a+"."+t,Et(s,E,z8(v)),i.comments.push(E),rn(m,-1,"../comments"+a+"."+t,Bt.CMNT),w=!0}p["!legacy"]&&w&&Et(s,"xl/drawings/vmlDrawing"+a+".vml",U8(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}m["!id"].rId1&&Et(s,w8(o),wf(m))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Et(s,o,I8(e.Strings,e)),i.strs.push(o),rn(e.wbrels,-1,"sharedStrings."+t,Bt.SST)),o="xl/workbook."+t,Et(s,o,eF(n)),i.workbooks.push(o),rn(e.rels,1,o,Bt.WB),o="xl/theme/theme1.xml",Et(s,o,B8(n.Themes,e)),i.themes.push(o),rn(e.wbrels,-1,"theme/theme1.xml",Bt.THEME),o="xl/styles."+t,Et(s,o,F8(n,e)),i.styles.push(o),rn(e.wbrels,-1,"styles."+t,Bt.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Et(s,o,n.vbaraw),i.vba.push(o),rn(e.wbrels,-1,"vbaProject.bin",Bt.VBA)),o="xl/metadata."+t,Et(s,o,V8()),i.metadata.push(o),rn(e.wbrels,-1,"metadata."+t,Bt.XLMETA),f.length>1&&(o="xl/persons/person.xml",Et(s,o,dte(f)),i.people.push(o),rn(e.wbrels,-1,"persons/person.xml",Bt.PEOPLE)),Et(s,"[Content_Types].xml",y8(i,e)),Et(s,"_rels/.rels",wf(e.rels)),Et(s,"xl/_rels/workbook."+t+".rels",wf(e.wbrels)),delete e.revssf,delete e.ssf,s}function Mse(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=rl(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function aF(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return P0(e.file,mn.write(n,{type:jt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return mn.write(n,e)}function Dse(n,e){var t=$i(e||{}),r=Rse(n,t);return Fse(r,t)}function Fse(n,e){var t={},r=jt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?mn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(vw(i))}return e.password&&typeof encrypt_agile<"u"?aF(encrypt_agile(i,e.password),e):e.type==="file"?P0(e.file,i):e.type=="string"?rg(i):i}function Lse(n,e){var t=e||{},r=Zie(n,t);return aF(r,t)}function jo(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Fg(Bg(r));case"binary":return Bg(r);case"string":return n;case"file":return P0(e.file,r,"utf8");case"buffer":return jt?fl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):jo(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Bse(n,e){switch(e.type){case"base64":return Fg(n);case"binary":return n;case"string":return n;case"file":return P0(e.file,n,"binary");case"buffer":return jt?fl(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function N1(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Fg(t):e.type=="string"?rg(t):t;case"file":return P0(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function lF(n,e){fQ(),Eie(n);var t=$i(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=lF(n,t);return t.type="array",vw(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return jo(Jie(n,t),t);case"slk":case"sylk":return jo(vee.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return jo(rF(n.Sheets[n.SheetNames[i]],t),t);case"txt":return Bse(cF(n.Sheets[n.SheetNames[i]],t),t);case"csv":return jo(rS(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return jo(_ee.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return N1(wee.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return jo(xee.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return jo(Nee.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return jo(R8.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return jo(oF(n,t),t);case"wk1":return N1(TP.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return N1(TP.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),N1(nF(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Lse(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Dse(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Vse(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function Use(n,e,t){var r={};return r.type="file",r.file=e,Vse(r),lF(n,r)}function zse(n,e,t,r,i,s,o,a){var l=Yr(t),u=a.defval,f=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),m=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!o||n[t])for(var y=e.s.c;y<=e.e.c;++y){var v=o?n[t][y]:n[r[y]+l];if(v===void 0||v.t===void 0){if(u===void 0)continue;s[y]!=null&&(p[s[y]]=u);continue}var w=v.v;switch(v.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[y]!=null){if(w==null)if(v.t=="e"&&w===null)p[s[y]]=null;else if(u!==void 0)p[s[y]]=u;else if(f&&w===null)p[s[y]]=null;else continue;else p[s[y]]=f&&(v.t!=="n"||v.t==="n"&&a.rawNumbers!==!1)?w:il(v,w,a);w!=null&&(m=!1)}}return{row:p,isempty:m}}function cy(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},f=u.range!=null?u.range:n["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof f){case"string":l=An(f);break;case"number":l=An(n["!ref"]),l.s.r=f;break;default:l=f}r>0&&(i=0);var m=Yr(l.s.r),p=[],y=[],v=0,w=0,E=Array.isArray(n),k=l.s.r,T=0,S={};E&&!n[k]&&(n[k]=[]);var P=u.skipHidden&&n["!cols"]||[],R=u.skipHidden&&n["!rows"]||[];for(T=l.s.c;T<=l.e.c;++T)if(!(P[T]||{}).hidden)switch(p[T]=oi(T),t=E?n[k][T]:n[p[T]+m],r){case 1:s[T]=T-l.s.c;break;case 2:s[T]=p[T];break;case 3:s[T]=u.header[T-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),a=o=il(t,null,u),w=S[o]||0,!w)S[o]=1;else{do a=o+"_"+w++;while(S[a]);S[o]=w,S[a]=1}s[T]=a}for(k=l.s.r+i;k<=l.e.r;++k)if(!(R[k]||{}).hidden){var D=zse(n,l,k,p,r,s,E,u);(D.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(y[v++]=D.row)}return y.length=v,y}var OP=/"/g;function Hse(n,e,t,r,i,s,o,a){for(var l=!0,u=[],f="",m=Yr(t),p=e.s.c;p<=e.e.c;++p)if(r[p]){var y=a.dense?(n[t]||[])[p]:n[r[p]+m];if(y==null)f="";else if(y.v!=null){l=!1,f=""+(a.rawNumbers&&y.t=="n"?y.v:il(y,null,a));for(var v=0,w=0;v!==f.length;++v)if((w=f.charCodeAt(v))===i||w===s||w===34||a.forceQuotes){f='"'+f.replace(OP,'""')+'"';break}f=="ID"&&(f='"ID"')}else y.f!=null&&!y.F?(l=!1,f="="+y.f,f.indexOf(",")>=0&&(f='"'+f.replace(OP,'""')+'"')):f="";u.push(f)}return a.blankrows===!1&&l?null:u.join(o)}function rS(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=An(n["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,l=a.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),f="",m=[];r.dense=Array.isArray(n);for(var p=r.skipHidden&&n["!cols"]||[],y=r.skipHidden&&n["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(p[v]||{}).hidden||(m[v]=oi(v));for(var w=0,E=i.s.r;E<=i.e.r;++E)(y[E]||{}).hidden||(f=Hse(n,i,E,m,o,l,s,r),f!=null&&(r.strip&&(f=f.replace(u,"")),(f||r.blankrows!==!1)&&t.push((w++?a:"")+f)));return delete r.dense,t.join("")}function cF(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=rS(n,e);return t}function $se(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=An(n["!ref"]),s="",o=[],a,l=[],u=Array.isArray(n);for(a=i.s.c;a<=i.e.c;++a)o[a]=oi(a);for(var f=i.s.r;f<=i.e.r;++f)for(s=Yr(f),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,t=u?(n[f]||[])[a]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}l[l.length]=e+"="+r}return l}function uF(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Or(r.origin):r.origin;o=l.r,a=l.c}var u,f={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var m=An(s["!ref"]);f.e.c=Math.max(f.e.c,m.e.c),f.e.r=Math.max(f.e.r,m.e.r),o==-1&&(o=m.e.r+1,f.e.r=o+e.length-1+i)}else o==-1&&(o=0,f.e.r=e.length-1+i);var p=r.header||[],y=0;e.forEach(function(w,E){Kr(w).forEach(function(k){(y=p.indexOf(k))==-1&&(p[y=p.length]=k);var T=w[k],S="z",P="",R=on({c:a+y,r:o+E+i});u=zg(s,R),T&&typeof T=="object"&&!(T instanceof Date)?s[R]=T:(typeof T=="number"?S="n":typeof T=="boolean"?S="b":typeof T=="string"?S="s":T instanceof Date?(S="d",r.cellDates||(S="n",T=Hi(T)),P=r.dateNF||Xn[14]):T===null&&r.nullError&&(S="e",T=0),u?(u.t=S,u.v=T,delete u.w,delete u.R,P&&(u.z=P)):s[R]=u={t:S,v:T},P&&(u.z=P))})}),f.e.c=Math.max(f.e.c,a+p.length-1);var v=Yr(o);if(i)for(y=0;y<p.length;++y)s[oi(y+a)+v]={t:"s",v:p[y]};return s["!ref"]=dr(f),s}function Wse(n,e){return uF(null,n,e)}function zg(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Or(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?zg(n,on(e)):zg(n,on({r:e,c:t||0}))}function jse(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function qse(){return{SheetNames:[],Sheets:{}}}function Gse(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(Z8(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Yse(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=jse(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Kse(n,e){return n.z=e,n}function dF(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Xse(n,e,t){return dF(n,"#"+e,t)}function Jse(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Qse(n,e,t,r){for(var i=typeof e!="string"?e:An(e),s=typeof e=="string"?e:dr(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=zg(n,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=t,r&&(l.D=!0))}return n}var u2={encode_col:oi,encode_row:Yr,encode_cell:on,encode_range:dr,decode_col:qT,decode_row:jT,split_cell:fZ,decode_cell:Or,decode_range:ys,format_cell:il,sheet_add_aoa:d8,sheet_add_json:uF,sheet_add_dom:iF,aoa_to_sheet:ih,json_to_sheet:Wse,table_to_sheet:sF,table_to_book:_se,sheet_to_csv:rS,sheet_to_txt:cF,sheet_to_json:cy,sheet_to_html:rF,sheet_to_formulae:$se,sheet_to_row_object_array:cy,sheet_get_cell:zg,book_new:qse,book_append_sheet:Gse,book_set_sheet_visibility:Yse,cell_set_number_format:Kse,cell_set_hyperlink:dF,cell_set_internal_link:Xse,cell_add_comment:Jse,sheet_set_array_formula:Qse,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Hg={UploadFileApi:n=>bt.post("/file/upload",n),GetFileApi:n=>bt.getImageBinary(`/file/getFile?fileName=${n}`),uploadApi:()=>bt.get("/file/upload")};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var fF;function tt(){return fF.apply(null,arguments)}function Zse(n){fF=n}function _o(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function hu(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function Ut(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function iS(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(Ut(n,e))return!1;return!0}function Pi(n){return n===void 0}function sl(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function D0(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function hF(n,e){var t=[],r,i=n.length;for(r=0;r<i;++r)t.push(e(n[r],r));return t}function Ql(n,e){for(var t in e)Ut(e,t)&&(n[t]=e[t]);return Ut(e,"toString")&&(n.toString=e.toString),Ut(e,"valueOf")&&(n.valueOf=e.valueOf),n}function ua(n,e,t,r){return FF(n,e,t,r,!0).utc()}function eoe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _t(n){return n._pf==null&&(n._pf=eoe()),n._pf}var ZE;Array.prototype.some?ZE=Array.prototype.some:ZE=function(n){var e=Object(this),t=e.length>>>0,r;for(r=0;r<t;r++)if(r in e&&n.call(this,e[r],r,e))return!0;return!1};function sS(n){var e=null,t=!1,r=n._d&&!isNaN(n._d.getTime());if(r&&(e=_t(n),t=ZE.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),n._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=r;else return r;return n._isValid}function Aw(n){var e=ua(NaN);return n!=null?Ql(_t(e),n):_t(e).userInvalidated=!0,e}var MP=tt.momentProperties=[],d2=!1;function oS(n,e){var t,r,i,s=MP.length;if(Pi(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),Pi(e._i)||(n._i=e._i),Pi(e._f)||(n._f=e._f),Pi(e._l)||(n._l=e._l),Pi(e._strict)||(n._strict=e._strict),Pi(e._tzm)||(n._tzm=e._tzm),Pi(e._isUTC)||(n._isUTC=e._isUTC),Pi(e._offset)||(n._offset=e._offset),Pi(e._pf)||(n._pf=_t(e)),Pi(e._locale)||(n._locale=e._locale),s>0)for(t=0;t<s;t++)r=MP[t],i=e[r],Pi(i)||(n[r]=i);return n}function F0(n){oS(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),d2===!1&&(d2=!0,tt.updateOffset(this),d2=!1)}function xo(n){return n instanceof F0||n!=null&&n._isAMomentObject!=null}function mF(n){tt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function Ys(n,e){var t=!0;return Ql(function(){if(tt.deprecationHandler!=null&&tt.deprecationHandler(null,n),t){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Ut(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}mF(n+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var DP={};function gF(n,e){tt.deprecationHandler!=null&&tt.deprecationHandler(n,e),DP[n]||(mF(e),DP[n]=!0)}tt.suppressDeprecationWarnings=!1;tt.deprecationHandler=null;function da(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function toe(n){var e,t;for(t in n)Ut(n,t)&&(e=n[t],da(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ek(n,e){var t=Ql({},n),r;for(r in e)Ut(e,r)&&(hu(n[r])&&hu(e[r])?(t[r]={},Ql(t[r],n[r]),Ql(t[r],e[r])):e[r]!=null?t[r]=e[r]:delete t[r]);for(r in n)Ut(n,r)&&!Ut(e,r)&&hu(n[r])&&(t[r]=Ql({},t[r]));return t}function aS(n){n!=null&&this.set(n)}var tk;Object.keys?tk=Object.keys:tk=function(n){var e,t=[];for(e in n)Ut(n,e)&&t.push(e);return t};var noe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function roe(n,e,t){var r=this._calendar[n]||this._calendar.sameElse;return da(r)?r.call(e,t):r}function ia(n,e,t){var r=""+Math.abs(n),i=e-r.length,s=n>=0;return(s?t?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var lS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,P1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,f2={},xf={};function ct(n,e,t,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),n&&(xf[n]=i),e&&(xf[e[0]]=function(){return ia(i.apply(this,arguments),e[1],e[2])}),t&&(xf[t]=function(){return this.localeData().ordinal(i.apply(this,arguments),n)})}function ioe(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function soe(n){var e=n.match(lS),t,r;for(t=0,r=e.length;t<r;t++)xf[e[t]]?e[t]=xf[e[t]]:e[t]=ioe(e[t]);return function(i){var s="",o;for(o=0;o<r;o++)s+=da(e[o])?e[o].call(i,n):e[o];return s}}function yb(n,e){return n.isValid()?(e=pF(e,n.localeData()),f2[e]=f2[e]||soe(e),f2[e](n)):n.localeData().invalidDate()}function pF(n,e){var t=5;function r(i){return e.longDateFormat(i)||i}for(P1.lastIndex=0;t>=0&&P1.test(n);)n=n.replace(P1,r),P1.lastIndex=0,t-=1;return n}var ooe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function aoe(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(lS).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[n])}var loe="Invalid date";function coe(){return this._invalidDate}var uoe="%d",doe=/\d{1,2}/;function foe(n){return this._ordinal.replace("%d",n)}var hoe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function moe(n,e,t,r){var i=this._relativeTime[t];return da(i)?i(n,e,t,r):i.replace(/%d/i,n)}function goe(n,e){var t=this._relativeTime[n>0?"future":"past"];return da(t)?t(e):t.replace(/%s/i,e)}var FP={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ks(n){return typeof n=="string"?FP[n]||FP[n.toLowerCase()]:void 0}function cS(n){var e={},t,r;for(r in n)Ut(n,r)&&(t=Ks(r),t&&(e[t]=n[r]));return e}var poe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function boe(n){var e=[],t;for(t in n)Ut(n,t)&&e.push({unit:t,priority:poe[t]});return e.sort(function(r,i){return r.priority-i.priority}),e}var bF=/\d/,xs=/\d\d/,yF=/\d{3}/,uS=/\d{4}/,Nw=/[+-]?\d{6}/,Pn=/\d\d?/,wF=/\d\d\d\d?/,vF=/\d\d\d\d\d\d?/,Pw=/\d{1,3}/,dS=/\d{1,4}/,Rw=/[+-]?\d{1,6}/,ah=/\d+/,Iw=/[+-]?\d+/,yoe=/Z|[+-]\d\d:?\d\d/gi,Ow=/Z|[+-]\d\d(?::?\d\d)?/gi,woe=/[+-]?\d+(\.\d{1,3})?/,L0=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lh=/^[1-9]\d?/,fS=/^([1-9]\d|\d)/,uy;uy={};function it(n,e,t){uy[n]=da(e)?e:function(r,i){return r&&t?t:e}}function voe(n,e){return Ut(uy,n)?uy[n](e._strict,e._locale):new RegExp(_oe(n))}function _oe(n){return Ka(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,i,s){return t||r||i||s}))}function Ka(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Bs(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Rt(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=Bs(e)),t}var nk={};function yn(n,e){var t,r=e,i;for(typeof n=="string"&&(n=[n]),sl(e)&&(r=function(s,o){o[e]=Rt(s)}),i=n.length,t=0;t<i;t++)nk[n[t]]=r}function B0(n,e){yn(n,function(t,r,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function xoe(n,e,t){e!=null&&Ut(nk,n)&&nk[n](e,t._a,t,n)}function Mw(n){return n%4===0&&n%100!==0||n%400===0}var li=0,Ua=1,Xo=2,_r=3,go=4,za=5,iu=6,Eoe=7,koe=8;ct("Y",0,0,function(){var n=this.year();return n<=9999?ia(n,4):"+"+n});ct(0,["YY",2],0,function(){return this.year()%100});ct(0,["YYYY",4],0,"year");ct(0,["YYYYY",5],0,"year");ct(0,["YYYYYY",6,!0],0,"year");it("Y",Iw);it("YY",Pn,xs);it("YYYY",dS,uS);it("YYYYY",Rw,Nw);it("YYYYYY",Rw,Nw);yn(["YYYYY","YYYYYY"],li);yn("YYYY",function(n,e){e[li]=n.length===2?tt.parseTwoDigitYear(n):Rt(n)});yn("YY",function(n,e){e[li]=tt.parseTwoDigitYear(n)});yn("Y",function(n,e){e[li]=parseInt(n,10)});function lg(n){return Mw(n)?366:365}tt.parseTwoDigitYear=function(n){return Rt(n)+(Rt(n)>68?1900:2e3)};var _F=ch("FullYear",!0);function Toe(){return Mw(this.year())}function ch(n,e){return function(t){return t!=null?(xF(this,n,t),tt.updateOffset(this,e),this):$g(this,n)}}function $g(n,e){if(!n.isValid())return NaN;var t=n._d,r=n._isUTC;switch(e){case"Milliseconds":return r?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return r?t.getUTCSeconds():t.getSeconds();case"Minutes":return r?t.getUTCMinutes():t.getMinutes();case"Hours":return r?t.getUTCHours():t.getHours();case"Date":return r?t.getUTCDate():t.getDate();case"Day":return r?t.getUTCDay():t.getDay();case"Month":return r?t.getUTCMonth():t.getMonth();case"FullYear":return r?t.getUTCFullYear():t.getFullYear();default:return NaN}}function xF(n,e,t){var r,i,s,o,a;if(!(!n.isValid()||isNaN(t))){switch(r=n._d,i=n._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(t):r.setMilliseconds(t));case"Seconds":return void(i?r.setUTCSeconds(t):r.setSeconds(t));case"Minutes":return void(i?r.setUTCMinutes(t):r.setMinutes(t));case"Hours":return void(i?r.setUTCHours(t):r.setHours(t));case"Date":return void(i?r.setUTCDate(t):r.setDate(t));case"FullYear":break;default:return}s=t,o=n.month(),a=n.date(),a=a===29&&o===1&&!Mw(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function Soe(n){return n=Ks(n),da(this[n])?this[n]():this}function Coe(n,e){if(typeof n=="object"){n=cS(n);var t=boe(n),r,i=t.length;for(r=0;r<i;r++)this[t[r].unit](n[t[r].unit])}else if(n=Ks(n),da(this[n]))return this[n](e);return this}function Aoe(n,e){return(n%e+e)%e}var er;Array.prototype.indexOf?er=Array.prototype.indexOf:er=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function hS(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=Aoe(e,12);return n+=(e-t)/12,t===1?Mw(n)?29:28:31-t%7%2}ct("M",["MM",2],"Mo",function(){return this.month()+1});ct("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});ct("MMMM",0,0,function(n){return this.localeData().months(this,n)});it("M",Pn,lh);it("MM",Pn,xs);it("MMM",function(n,e){return e.monthsShortRegex(n)});it("MMMM",function(n,e){return e.monthsRegex(n)});yn(["M","MM"],function(n,e){e[Ua]=Rt(n)-1});yn(["MMM","MMMM"],function(n,e,t,r){var i=t._locale.monthsParse(n,r,t._strict);i!=null?e[Ua]=i:_t(t).invalidMonth=n});var Noe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),EF="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kF=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Poe=L0,Roe=L0;function Ioe(n,e){return n?_o(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||kF).test(e)?"format":"standalone"][n.month()]:_o(this._months)?this._months:this._months.standalone}function Ooe(n,e){return n?_o(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[kF.test(e)?"format":"standalone"][n.month()]:_o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Moe(n,e,t){var r,i,s,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=ua([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return t?e==="MMM"?(i=er.call(this._shortMonthsParse,o),i!==-1?i:null):(i=er.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=er.call(this._shortMonthsParse,o),i!==-1?i:(i=er.call(this._longMonthsParse,o),i!==-1?i:null)):(i=er.call(this._longMonthsParse,o),i!==-1?i:(i=er.call(this._shortMonthsParse,o),i!==-1?i:null))}function Doe(n,e,t){var r,i,s;if(this._monthsParseExact)return Moe.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=ua([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!t&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[r].test(n))return r;if(t&&e==="MMM"&&this._shortMonthsParse[r].test(n))return r;if(!t&&this._monthsParse[r].test(n))return r}}function TF(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=Rt(e);else if(e=n.localeData().monthsParse(e),!sl(e))return n}var t=e,r=n.date();return r=r<29?r:Math.min(r,hS(n.year(),t)),n._isUTC?n._d.setUTCMonth(t,r):n._d.setMonth(t,r),n}function SF(n){return n!=null?(TF(this,n),tt.updateOffset(this,!0),this):$g(this,"Month")}function Foe(){return hS(this.year(),this.month())}function Loe(n){return this._monthsParseExact?(Ut(this,"_monthsRegex")||CF.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Ut(this,"_monthsShortRegex")||(this._monthsShortRegex=Poe),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function Boe(n){return this._monthsParseExact?(Ut(this,"_monthsRegex")||CF.call(this),n?this._monthsStrictRegex:this._monthsRegex):(Ut(this,"_monthsRegex")||(this._monthsRegex=Roe),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function CF(){function n(l,u){return u.length-l.length}var e=[],t=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=ua([2e3,i]),o=Ka(this.monthsShort(s,"")),a=Ka(this.months(s,"")),e.push(o),t.push(a),r.push(a),r.push(o);e.sort(n),t.sort(n),r.sort(n),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Voe(n,e,t,r,i,s,o){var a;return n<100&&n>=0?(a=new Date(n+400,e,t,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,e,t,r,i,s,o),a}function Wg(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function dy(n,e,t){var r=7+e-t,i=(7+Wg(n,0,r).getUTCDay()-e)%7;return-i+r-1}function AF(n,e,t,r,i){var s=(7+t-r)%7,o=dy(n,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=n-1,u=lg(l)+a):a>lg(n)?(l=n+1,u=a-lg(n)):(l=n,u=a),{year:l,dayOfYear:u}}function jg(n,e,t){var r=dy(n.year(),e,t),i=Math.floor((n.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=n.year()-1,s=i+Xa(o,e,t)):i>Xa(n.year(),e,t)?(s=i-Xa(n.year(),e,t),o=n.year()+1):(o=n.year(),s=i),{week:s,year:o}}function Xa(n,e,t){var r=dy(n,e,t),i=dy(n+1,e,t);return(lg(n)-r+i)/7}ct("w",["ww",2],"wo","week");ct("W",["WW",2],"Wo","isoWeek");it("w",Pn,lh);it("ww",Pn,xs);it("W",Pn,lh);it("WW",Pn,xs);B0(["w","ww","W","WW"],function(n,e,t,r){e[r.substr(0,1)]=Rt(n)});function Uoe(n){return jg(n,this._week.dow,this._week.doy).week}var zoe={dow:0,doy:6};function Hoe(){return this._week.dow}function $oe(){return this._week.doy}function Woe(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function joe(n){var e=jg(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}ct("d",0,"do","day");ct("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});ct("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});ct("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});ct("e",0,0,"weekday");ct("E",0,0,"isoWeekday");it("d",Pn);it("e",Pn);it("E",Pn);it("dd",function(n,e){return e.weekdaysMinRegex(n)});it("ddd",function(n,e){return e.weekdaysShortRegex(n)});it("dddd",function(n,e){return e.weekdaysRegex(n)});B0(["dd","ddd","dddd"],function(n,e,t,r){var i=t._locale.weekdaysParse(n,r,t._strict);i!=null?e.d=i:_t(t).invalidWeekday=n});B0(["d","e","E"],function(n,e,t,r){e[r]=Rt(n)});function qoe(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function Goe(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function mS(n,e){return n.slice(e,7).concat(n.slice(0,e))}var Yoe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),NF="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Koe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Xoe=L0,Joe=L0,Qoe=L0;function Zoe(n,e){var t=_o(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?mS(t,this._week.dow):n?t[n.day()]:t}function eae(n){return n===!0?mS(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function tae(n){return n===!0?mS(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function nae(n,e,t){var r,i,s,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=ua([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return t?e==="dddd"?(i=er.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=er.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=er.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=er.call(this._weekdaysParse,o),i!==-1||(i=er.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=er.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=er.call(this._shortWeekdaysParse,o),i!==-1||(i=er.call(this._weekdaysParse,o),i!==-1)?i:(i=er.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=er.call(this._minWeekdaysParse,o),i!==-1||(i=er.call(this._weekdaysParse,o),i!==-1)?i:(i=er.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function rae(n,e,t){var r,i,s;if(this._weekdaysParseExact)return nae.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=ua([2e3,1]).day(r),t&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[r].test(n))return r;if(t&&e==="ddd"&&this._shortWeekdaysParse[r].test(n))return r;if(t&&e==="dd"&&this._minWeekdaysParse[r].test(n))return r;if(!t&&this._weekdaysParse[r].test(n))return r}}function iae(n){if(!this.isValid())return n!=null?this:NaN;var e=$g(this,"Day");return n!=null?(n=qoe(n,this.localeData()),this.add(n-e,"d")):e}function sae(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function oae(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=Goe(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function aae(n){return this._weekdaysParseExact?(Ut(this,"_weekdaysRegex")||gS.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Ut(this,"_weekdaysRegex")||(this._weekdaysRegex=Xoe),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function lae(n){return this._weekdaysParseExact?(Ut(this,"_weekdaysRegex")||gS.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ut(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Joe),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function cae(n){return this._weekdaysParseExact?(Ut(this,"_weekdaysRegex")||gS.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ut(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qoe),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function gS(){function n(f,m){return m.length-f.length}var e=[],t=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=ua([2e3,1]).day(s),a=Ka(this.weekdaysMin(o,"")),l=Ka(this.weekdaysShort(o,"")),u=Ka(this.weekdays(o,"")),e.push(a),t.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(n),t.sort(n),r.sort(n),i.sort(n),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function pS(){return this.hours()%12||12}function uae(){return this.hours()||24}ct("H",["HH",2],0,"hour");ct("h",["hh",2],0,pS);ct("k",["kk",2],0,uae);ct("hmm",0,0,function(){return""+pS.apply(this)+ia(this.minutes(),2)});ct("hmmss",0,0,function(){return""+pS.apply(this)+ia(this.minutes(),2)+ia(this.seconds(),2)});ct("Hmm",0,0,function(){return""+this.hours()+ia(this.minutes(),2)});ct("Hmmss",0,0,function(){return""+this.hours()+ia(this.minutes(),2)+ia(this.seconds(),2)});function PF(n,e){ct(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}PF("a",!0);PF("A",!1);function RF(n,e){return e._meridiemParse}it("a",RF);it("A",RF);it("H",Pn,fS);it("h",Pn,lh);it("k",Pn,lh);it("HH",Pn,xs);it("hh",Pn,xs);it("kk",Pn,xs);it("hmm",wF);it("hmmss",vF);it("Hmm",wF);it("Hmmss",vF);yn(["H","HH"],_r);yn(["k","kk"],function(n,e,t){var r=Rt(n);e[_r]=r===24?0:r});yn(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});yn(["h","hh"],function(n,e,t){e[_r]=Rt(n),_t(t).bigHour=!0});yn("hmm",function(n,e,t){var r=n.length-2;e[_r]=Rt(n.substr(0,r)),e[go]=Rt(n.substr(r)),_t(t).bigHour=!0});yn("hmmss",function(n,e,t){var r=n.length-4,i=n.length-2;e[_r]=Rt(n.substr(0,r)),e[go]=Rt(n.substr(r,2)),e[za]=Rt(n.substr(i)),_t(t).bigHour=!0});yn("Hmm",function(n,e,t){var r=n.length-2;e[_r]=Rt(n.substr(0,r)),e[go]=Rt(n.substr(r))});yn("Hmmss",function(n,e,t){var r=n.length-4,i=n.length-2;e[_r]=Rt(n.substr(0,r)),e[go]=Rt(n.substr(r,2)),e[za]=Rt(n.substr(i))});function dae(n){return(n+"").toLowerCase().charAt(0)==="p"}var fae=/[ap]\.?m?\.?/i,hae=ch("Hours",!0);function mae(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var IF={calendar:noe,longDateFormat:ooe,invalidDate:loe,ordinal:uoe,dayOfMonthOrdinalParse:doe,relativeTime:hoe,months:Noe,monthsShort:EF,week:zoe,weekdays:Yoe,weekdaysMin:Koe,weekdaysShort:NF,meridiemParse:fae},On={},vm={},qg;function gae(n,e){var t,r=Math.min(n.length,e.length);for(t=0;t<r;t+=1)if(n[t]!==e[t])return t;return r}function LP(n){return n&&n.toLowerCase().replace("_","-")}function pae(n){for(var e=0,t,r,i,s;e<n.length;){for(s=LP(n[e]).split("-"),t=s.length,r=LP(n[e+1]),r=r?r.split("-"):null;t>0;){if(i=Dw(s.slice(0,t).join("-")),i)return i;if(r&&r.length>=t&&gae(s,r)>=t-1)break;t--}e++}return qg}function bae(n){return!!(n&&n.match("^[^/\\\\]*$"))}function Dw(n){var e=null,t;if(On[n]===void 0&&typeof Vb<"u"&&Vb&&Vb.exports&&bae(n))try{e=qg._abbr,t=require,t("./locale/"+n),tc(e)}catch{On[n]=null}return On[n]}function tc(n,e){var t;return n&&(Pi(e)?t=hl(n):t=bS(n,e),t?qg=t:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),qg._abbr}function bS(n,e){if(e!==null){var t,r=IF;if(e.abbr=n,On[n]!=null)gF("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=On[n]._config;else if(e.parentLocale!=null)if(On[e.parentLocale]!=null)r=On[e.parentLocale]._config;else if(t=Dw(e.parentLocale),t!=null)r=t._config;else return vm[e.parentLocale]||(vm[e.parentLocale]=[]),vm[e.parentLocale].push({name:n,config:e}),null;return On[n]=new aS(ek(r,e)),vm[n]&&vm[n].forEach(function(i){bS(i.name,i.config)}),tc(n),On[n]}else return delete On[n],null}function yae(n,e){if(e!=null){var t,r,i=IF;On[n]!=null&&On[n].parentLocale!=null?On[n].set(ek(On[n]._config,e)):(r=Dw(n),r!=null&&(i=r._config),e=ek(i,e),r==null&&(e.abbr=n),t=new aS(e),t.parentLocale=On[n],On[n]=t),tc(n)}else On[n]!=null&&(On[n].parentLocale!=null?(On[n]=On[n].parentLocale,n===tc()&&tc(n)):On[n]!=null&&delete On[n]);return On[n]}function hl(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return qg;if(!_o(n)){if(e=Dw(n),e)return e;n=[n]}return pae(n)}function wae(){return tk(On)}function yS(n){var e,t=n._a;return t&&_t(n).overflow===-2&&(e=t[Ua]<0||t[Ua]>11?Ua:t[Xo]<1||t[Xo]>hS(t[li],t[Ua])?Xo:t[_r]<0||t[_r]>24||t[_r]===24&&(t[go]!==0||t[za]!==0||t[iu]!==0)?_r:t[go]<0||t[go]>59?go:t[za]<0||t[za]>59?za:t[iu]<0||t[iu]>999?iu:-1,_t(n)._overflowDayOfYear&&(e<li||e>Xo)&&(e=Xo),_t(n)._overflowWeeks&&e===-1&&(e=Eoe),_t(n)._overflowWeekday&&e===-1&&(e=koe),_t(n).overflow=e),n}var vae=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_ae=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xae=/Z|[+-]\d\d(?::?\d\d)?/,R1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],h2=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Eae=/^\/?Date\((-?\d+)/i,kae=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tae={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function OF(n){var e,t,r=n._i,i=vae.exec(r)||_ae.exec(r),s,o,a,l,u=R1.length,f=h2.length;if(i){for(_t(n).iso=!0,e=0,t=u;e<t;e++)if(R1[e][1].exec(i[1])){o=R1[e][0],s=R1[e][2]!==!1;break}if(o==null){n._isValid=!1;return}if(i[3]){for(e=0,t=f;e<t;e++)if(h2[e][1].exec(i[3])){a=(i[2]||" ")+h2[e][0];break}if(a==null){n._isValid=!1;return}}if(!s&&a!=null){n._isValid=!1;return}if(i[4])if(xae.exec(i[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),vS(n)}else n._isValid=!1}function Sae(n,e,t,r,i,s){var o=[Cae(n),EF.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Cae(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function Aae(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Nae(n,e,t){if(n){var r=NF.indexOf(n),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return _t(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function Pae(n,e,t){if(n)return Tae[n];if(e)return 0;var r=parseInt(t,10),i=r%100,s=(r-i)/100;return s*60+i}function MF(n){var e=kae.exec(Aae(n._i)),t;if(e){if(t=Sae(e[4],e[3],e[2],e[5],e[6],e[7]),!Nae(e[1],t,n))return;n._a=t,n._tzm=Pae(e[8],e[9],e[10]),n._d=Wg.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),_t(n).rfc2822=!0}else n._isValid=!1}function Rae(n){var e=Eae.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(OF(n),n._isValid===!1)delete n._isValid;else return;if(MF(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:tt.createFromInputFallback(n)}tt.createFromInputFallback=Ys("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function Jd(n,e,t){return n??e??t}function Iae(n){var e=new Date(tt.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function wS(n){var e,t,r=[],i,s,o;if(!n._d){for(i=Iae(n),n._w&&n._a[Xo]==null&&n._a[Ua]==null&&Oae(n),n._dayOfYear!=null&&(o=Jd(n._a[li],i[li]),(n._dayOfYear>lg(o)||n._dayOfYear===0)&&(_t(n)._overflowDayOfYear=!0),t=Wg(o,0,n._dayOfYear),n._a[Ua]=t.getUTCMonth(),n._a[Xo]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=r[e]=i[e];for(;e<7;e++)n._a[e]=r[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[_r]===24&&n._a[go]===0&&n._a[za]===0&&n._a[iu]===0&&(n._nextDay=!0,n._a[_r]=0),n._d=(n._useUTC?Wg:Voe).apply(null,r),s=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[_r]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==s&&(_t(n).weekdayMismatch=!0)}}function Oae(n){var e,t,r,i,s,o,a,l,u;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,t=Jd(e.GG,n._a[li],jg(Nn(),1,4).year),r=Jd(e.W,1),i=Jd(e.E,1),(i<1||i>7)&&(l=!0)):(s=n._locale._week.dow,o=n._locale._week.doy,u=jg(Nn(),s,o),t=Jd(e.gg,n._a[li],u.year),r=Jd(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Xa(t,s,o)?_t(n)._overflowWeeks=!0:l!=null?_t(n)._overflowWeekday=!0:(a=AF(t,r,i,s,o),n._a[li]=a.year,n._dayOfYear=a.dayOfYear)}tt.ISO_8601=function(){};tt.RFC_2822=function(){};function vS(n){if(n._f===tt.ISO_8601){OF(n);return}if(n._f===tt.RFC_2822){MF(n);return}n._a=[],_t(n).empty=!0;var e=""+n._i,t,r,i,s,o,a=e.length,l=0,u,f;for(i=pF(n._f,n._locale).match(lS)||[],f=i.length,t=0;t<f;t++)s=i[t],r=(e.match(voe(s,n))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&_t(n).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),xf[s]?(r?_t(n).empty=!1:_t(n).unusedTokens.push(s),xoe(s,r,n)):n._strict&&!r&&_t(n).unusedTokens.push(s);_t(n).charsLeftOver=a-l,e.length>0&&_t(n).unusedInput.push(e),n._a[_r]<=12&&_t(n).bigHour===!0&&n._a[_r]>0&&(_t(n).bigHour=void 0),_t(n).parsedDateParts=n._a.slice(0),_t(n).meridiem=n._meridiem,n._a[_r]=Mae(n._locale,n._a[_r],n._meridiem),u=_t(n).era,u!==null&&(n._a[li]=n._locale.erasConvertYear(u,n._a[li])),wS(n),yS(n)}function Mae(n,e,t){var r;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(r=n.isPM(t),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function Dae(n){var e,t,r,i,s,o,a=!1,l=n._f.length;if(l===0){_t(n).invalidFormat=!0,n._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=oS({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[i],vS(e),sS(e)&&(o=!0),s+=_t(e).charsLeftOver,s+=_t(e).unusedTokens.length*10,_t(e).score=s,a?s<r&&(r=s,t=e):(r==null||s<r||o)&&(r=s,t=e,o&&(a=!0));Ql(n,t||e)}function Fae(n){if(!n._d){var e=cS(n._i),t=e.day===void 0?e.date:e.day;n._a=hF([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),wS(n)}}function Lae(n){var e=new F0(yS(DF(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function DF(n){var e=n._i,t=n._f;return n._locale=n._locale||hl(n._l),e===null||t===void 0&&e===""?Aw({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),xo(e)?new F0(yS(e)):(D0(e)?n._d=e:_o(t)?Dae(n):t?vS(n):Bae(n),sS(n)||(n._d=null),n))}function Bae(n){var e=n._i;Pi(e)?n._d=new Date(tt.now()):D0(e)?n._d=new Date(e.valueOf()):typeof e=="string"?Rae(n):_o(e)?(n._a=hF(e.slice(0),function(t){return parseInt(t,10)}),wS(n)):hu(e)?Fae(n):sl(e)?n._d=new Date(e):tt.createFromInputFallback(n)}function FF(n,e,t,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(t===!0||t===!1)&&(r=t,t=void 0),(hu(n)&&iS(n)||_o(n)&&n.length===0)&&(n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=t,s._i=n,s._f=e,s._strict=r,Lae(s)}function Nn(n,e,t,r){return FF(n,e,t,r,!1)}var Vae=Ys("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Nn.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:Aw()}),Uae=Ys("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Nn.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:Aw()});function LF(n,e){var t,r;if(e.length===1&&_o(e[0])&&(e=e[0]),!e.length)return Nn();for(t=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][n](t))&&(t=e[r]);return t}function zae(){var n=[].slice.call(arguments,0);return LF("isBefore",n)}function Hae(){var n=[].slice.call(arguments,0);return LF("isAfter",n)}var $ae=function(){return Date.now?Date.now():+new Date},_m=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Wae(n){var e,t=!1,r,i=_m.length;for(e in n)if(Ut(n,e)&&!(er.call(_m,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(r=0;r<i;++r)if(n[_m[r]]){if(t)return!1;parseFloat(n[_m[r]])!==Rt(n[_m[r]])&&(t=!0)}return!0}function jae(){return this._isValid}function qae(){return Po(NaN)}function Fw(n){var e=cS(n),t=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,f=e.millisecond||0;this._isValid=Wae(e),this._milliseconds=+f+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+t*12,this._data={},this._locale=hl(),this._bubble()}function wb(n){return n instanceof Fw}function rk(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function Gae(n,e,t){var r=Math.min(n.length,e.length),i=Math.abs(n.length-e.length),s=0,o;for(o=0;o<r;o++)Rt(n[o])!==Rt(e[o])&&s++;return s+i}function BF(n,e){ct(n,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+ia(~~(t/60),2)+e+ia(~~t%60,2)})}BF("Z",":");BF("ZZ","");it("Z",Ow);it("ZZ",Ow);yn(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=_S(Ow,n)});var Yae=/([\+\-]|\d\d)/gi;function _S(n,e){var t=(e||"").match(n),r,i,s;return t===null?null:(r=t[t.length-1]||[],i=(r+"").match(Yae)||["-",0,0],s=+(i[1]*60)+Rt(i[2]),s===0?0:i[0]==="+"?s:-s)}function xS(n,e){var t,r;return e._isUTC?(t=e.clone(),r=(xo(n)||D0(n)?n.valueOf():Nn(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+r),tt.updateOffset(t,!1),t):Nn(n).local()}function ik(n){return-Math.round(n._d.getTimezoneOffset())}tt.updateOffset=function(){};function Kae(n,e,t){var r=this._offset||0,i;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=_S(Ow,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(i=ik(this)),this._offset=n,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==n&&(!e||this._changeInProgress?zF(this,Po(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,tt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:ik(this)}function Xae(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function Jae(n){return this.utcOffset(0,n)}function Qae(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(ik(this),"m")),this}function Zae(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=_S(yoe,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function ele(n){return this.isValid()?(n=n?Nn(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function tle(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nle(){if(!Pi(this._isDSTShifted))return this._isDSTShifted;var n={},e;return oS(n,this),n=DF(n),n._a?(e=n._isUTC?ua(n._a):Nn(n._a),this._isDSTShifted=this.isValid()&&Gae(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function rle(){return this.isValid()?!this._isUTC:!1}function ile(){return this.isValid()?this._isUTC:!1}function VF(){return this.isValid()?this._isUTC&&this._offset===0:!1}var sle=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ole=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Po(n,e){var t=n,r=null,i,s,o;return wb(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:sl(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(r=sle.exec(n))?(i=r[1]==="-"?-1:1,t={y:0,d:Rt(r[Xo])*i,h:Rt(r[_r])*i,m:Rt(r[go])*i,s:Rt(r[za])*i,ms:Rt(rk(r[iu]*1e3))*i}):(r=ole.exec(n))?(i=r[1]==="-"?-1:1,t={y:Uc(r[2],i),M:Uc(r[3],i),w:Uc(r[4],i),d:Uc(r[5],i),h:Uc(r[6],i),m:Uc(r[7],i),s:Uc(r[8],i)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=ale(Nn(t.from),Nn(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new Fw(t),wb(n)&&Ut(n,"_locale")&&(s._locale=n._locale),wb(n)&&Ut(n,"_isValid")&&(s._isValid=n._isValid),s}Po.fn=Fw.prototype;Po.invalid=qae;function Uc(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function BP(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function ale(n,e){var t;return n.isValid()&&e.isValid()?(e=xS(e,n),n.isBefore(e)?t=BP(n,e):(t=BP(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function UF(n,e){return function(t,r){var i,s;return r!==null&&!isNaN(+r)&&(gF(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=r,r=s),i=Po(t,r),zF(this,i,n),this}}function zF(n,e,t,r){var i=e._milliseconds,s=rk(e._days),o=rk(e._months);n.isValid()&&(r=r??!0,o&&TF(n,$g(n,"Month")+o*t),s&&xF(n,"Date",$g(n,"Date")+s*t),i&&n._d.setTime(n._d.valueOf()+i*t),r&&tt.updateOffset(n,s||o))}var lle=UF(1,"add"),cle=UF(-1,"subtract");function HF(n){return typeof n=="string"||n instanceof String}function ule(n){return xo(n)||D0(n)||HF(n)||sl(n)||fle(n)||dle(n)||n===null||n===void 0}function dle(n){var e=hu(n)&&!iS(n),t=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],t=t||Ut(n,s);return e&&t}function fle(n){var e=_o(n),t=!1;return e&&(t=n.filter(function(r){return!sl(r)&&HF(n)}).length===0),e&&t}function hle(n){var e=hu(n)&&!iS(n),t=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],t=t||Ut(n,s);return e&&t}function mle(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function gle(n,e){arguments.length===1&&(arguments[0]?ule(arguments[0])?(n=arguments[0],e=void 0):hle(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||Nn(),r=xS(t,this).startOf("day"),i=tt.calendarFormat(this,r)||"sameElse",s=e&&(da(e[i])?e[i].call(this,t):e[i]);return this.format(s||this.localeData().calendar(i,this,Nn(t)))}function ple(){return new F0(this)}function ble(n,e){var t=xo(n)?n:Nn(n);return this.isValid()&&t.isValid()?(e=Ks(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function yle(n,e){var t=xo(n)?n:Nn(n);return this.isValid()&&t.isValid()?(e=Ks(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function wle(n,e,t,r){var i=xo(n)?n:Nn(n),s=xo(e)?e:Nn(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,t):!this.isBefore(i,t))&&(r[1]===")"?this.isBefore(s,t):!this.isAfter(s,t))):!1}function vle(n,e){var t=xo(n)?n:Nn(n),r;return this.isValid()&&t.isValid()?(e=Ks(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(r=t.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function _le(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function xle(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function Ele(n,e,t){var r,i,s;if(!this.isValid())return NaN;if(r=xS(n,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Ks(e),e){case"year":s=vb(this,r)/12;break;case"month":s=vb(this,r);break;case"quarter":s=vb(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return t?s:Bs(s)}function vb(n,e){if(n.date()<e.date())return-vb(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),r=n.clone().add(t,"months"),i,s;return e-r<0?(i=n.clone().add(t-1,"months"),s=(e-r)/(r-i)):(i=n.clone().add(t+1,"months"),s=(e-r)/(i-r)),-(t+s)||0}tt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";tt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function kle(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Tle(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?yb(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):da(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",yb(t,"Z")):yb(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Sle(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,r,i,s;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(t+r+i+s)}function Cle(n){n||(n=this.isUtc()?tt.defaultFormatUtc:tt.defaultFormat);var e=yb(this,n);return this.localeData().postformat(e)}function Ale(n,e){return this.isValid()&&(xo(n)&&n.isValid()||Nn(n).isValid())?Po({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Nle(n){return this.from(Nn(),n)}function Ple(n,e){return this.isValid()&&(xo(n)&&n.isValid()||Nn(n).isValid())?Po({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Rle(n){return this.to(Nn(),n)}function $F(n){var e;return n===void 0?this._locale._abbr:(e=hl(n),e!=null&&(this._locale=e),this)}var WF=Ys("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function jF(){return this._locale}var fy=1e3,Ef=60*fy,hy=60*Ef,qF=(365*400+97)*24*hy;function kf(n,e){return(n%e+e)%e}function GF(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-qF:new Date(n,e,t).valueOf()}function YF(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-qF:Date.UTC(n,e,t)}function Ile(n){var e,t;if(n=Ks(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?YF:GF,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=kf(e+(this._isUTC?0:this.utcOffset()*Ef),hy);break;case"minute":e=this._d.valueOf(),e-=kf(e,Ef);break;case"second":e=this._d.valueOf(),e-=kf(e,fy);break}return this._d.setTime(e),tt.updateOffset(this,!0),this}function Ole(n){var e,t;if(n=Ks(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?YF:GF,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=hy-kf(e+(this._isUTC?0:this.utcOffset()*Ef),hy)-1;break;case"minute":e=this._d.valueOf(),e+=Ef-kf(e,Ef)-1;break;case"second":e=this._d.valueOf(),e+=fy-kf(e,fy)-1;break}return this._d.setTime(e),tt.updateOffset(this,!0),this}function Mle(){return this._d.valueOf()-(this._offset||0)*6e4}function Dle(){return Math.floor(this.valueOf()/1e3)}function Fle(){return new Date(this.valueOf())}function Lle(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function Ble(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function Vle(){return this.isValid()?this.toISOString():null}function Ule(){return sS(this)}function zle(){return Ql({},_t(this))}function Hle(){return _t(this).overflow}function $le(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ct("N",0,0,"eraAbbr");ct("NN",0,0,"eraAbbr");ct("NNN",0,0,"eraAbbr");ct("NNNN",0,0,"eraName");ct("NNNNN",0,0,"eraNarrow");ct("y",["y",1],"yo","eraYear");ct("y",["yy",2],0,"eraYear");ct("y",["yyy",3],0,"eraYear");ct("y",["yyyy",4],0,"eraYear");it("N",ES);it("NN",ES);it("NNN",ES);it("NNNN",ece);it("NNNNN",tce);yn(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,r){var i=t._locale.erasParse(n,r,t._strict);i?_t(t).era=i:_t(t).invalidEra=n});it("y",ah);it("yy",ah);it("yyy",ah);it("yyyy",ah);it("yo",nce);yn(["y","yy","yyy","yyyy"],li);yn(["yo"],function(n,e,t,r){var i;t._locale._eraYearOrdinalRegex&&(i=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[li]=t._locale.eraYearOrdinalParse(n,i):e[li]=parseInt(n,10)});function Wle(n,e){var t,r,i,s=this._eras||hl("en")._eras;for(t=0,r=s.length;t<r;++t){switch(typeof s[t].since){case"string":i=tt(s[t].since).startOf("day"),s[t].since=i.valueOf();break}switch(typeof s[t].until){case"undefined":s[t].until=1/0;break;case"string":i=tt(s[t].until).startOf("day").valueOf(),s[t].until=i.valueOf();break}}return s}function jle(n,e,t){var r,i,s=this.eras(),o,a,l;for(n=n.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===n)return s[r];break;case"NNNN":if(o===n)return s[r];break;case"NNNNN":if(l===n)return s[r];break}else if([o,a,l].indexOf(n)>=0)return s[r]}function qle(n,e){var t=n.since<=n.until?1:-1;return e===void 0?tt(n.since).year():tt(n.since).year()+(e-n.offset)*t}function Gle(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].name;return""}function Yle(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].narrow;return""}function Kle(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].abbr;return""}function Xle(){var n,e,t,r,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=i[n].since<=i[n].until?1:-1,r=this.clone().startOf("day").valueOf(),i[n].since<=r&&r<=i[n].until||i[n].until<=r&&r<=i[n].since)return(this.year()-tt(i[n].since).year())*t+i[n].offset;return this.year()}function Jle(n){return Ut(this,"_erasNameRegex")||kS.call(this),n?this._erasNameRegex:this._erasRegex}function Qle(n){return Ut(this,"_erasAbbrRegex")||kS.call(this),n?this._erasAbbrRegex:this._erasRegex}function Zle(n){return Ut(this,"_erasNarrowRegex")||kS.call(this),n?this._erasNarrowRegex:this._erasRegex}function ES(n,e){return e.erasAbbrRegex(n)}function ece(n,e){return e.erasNameRegex(n)}function tce(n,e){return e.erasNarrowRegex(n)}function nce(n,e){return e._eraYearOrdinalRegex||ah}function kS(){var n=[],e=[],t=[],r=[],i,s,o,a,l,u=this.eras();for(i=0,s=u.length;i<s;++i)o=Ka(u[i].name),a=Ka(u[i].abbr),l=Ka(u[i].narrow),e.push(o),n.push(a),t.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}ct(0,["gg",2],0,function(){return this.weekYear()%100});ct(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Lw(n,e){ct(0,[n,n.length],0,e)}Lw("gggg","weekYear");Lw("ggggg","weekYear");Lw("GGGG","isoWeekYear");Lw("GGGGG","isoWeekYear");it("G",Iw);it("g",Iw);it("GG",Pn,xs);it("gg",Pn,xs);it("GGGG",dS,uS);it("gggg",dS,uS);it("GGGGG",Rw,Nw);it("ggggg",Rw,Nw);B0(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){e[r.substr(0,2)]=Rt(n)});B0(["gg","GG"],function(n,e,t,r){e[r]=tt.parseTwoDigitYear(n)});function rce(n){return KF.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ice(n){return KF.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function sce(){return Xa(this.year(),1,4)}function oce(){return Xa(this.isoWeekYear(),1,4)}function ace(){var n=this.localeData()._week;return Xa(this.year(),n.dow,n.doy)}function lce(){var n=this.localeData()._week;return Xa(this.weekYear(),n.dow,n.doy)}function KF(n,e,t,r,i){var s;return n==null?jg(this,r,i).year:(s=Xa(n,r,i),e>s&&(e=s),cce.call(this,n,e,t,r,i))}function cce(n,e,t,r,i){var s=AF(n,e,t,r,i),o=Wg(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}ct("Q",0,"Qo","quarter");it("Q",bF);yn("Q",function(n,e){e[Ua]=(Rt(n)-1)*3});function uce(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}ct("D",["DD",2],"Do","date");it("D",Pn,lh);it("DD",Pn,xs);it("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});yn(["D","DD"],Xo);yn("Do",function(n,e){e[Xo]=Rt(n.match(Pn)[0])});var XF=ch("Date",!0);ct("DDD",["DDDD",3],"DDDo","dayOfYear");it("DDD",Pw);it("DDDD",yF);yn(["DDD","DDDD"],function(n,e,t){t._dayOfYear=Rt(n)});function dce(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}ct("m",["mm",2],0,"minute");it("m",Pn,fS);it("mm",Pn,xs);yn(["m","mm"],go);var fce=ch("Minutes",!1);ct("s",["ss",2],0,"second");it("s",Pn,fS);it("ss",Pn,xs);yn(["s","ss"],za);var hce=ch("Seconds",!1);ct("S",0,0,function(){return~~(this.millisecond()/100)});ct(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ct(0,["SSS",3],0,"millisecond");ct(0,["SSSS",4],0,function(){return this.millisecond()*10});ct(0,["SSSSS",5],0,function(){return this.millisecond()*100});ct(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ct(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ct(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ct(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});it("S",Pw,bF);it("SS",Pw,xs);it("SSS",Pw,yF);var Zl,JF;for(Zl="SSSS";Zl.length<=9;Zl+="S")it(Zl,ah);function mce(n,e){e[iu]=Rt(("0."+n)*1e3)}for(Zl="S";Zl.length<=9;Zl+="S")yn(Zl,mce);JF=ch("Milliseconds",!1);ct("z",0,0,"zoneAbbr");ct("zz",0,0,"zoneName");function gce(){return this._isUTC?"UTC":""}function pce(){return this._isUTC?"Coordinated Universal Time":""}var De=F0.prototype;De.add=lle;De.calendar=gle;De.clone=ple;De.diff=Ele;De.endOf=Ole;De.format=Cle;De.from=Ale;De.fromNow=Nle;De.to=Ple;De.toNow=Rle;De.get=Soe;De.invalidAt=Hle;De.isAfter=ble;De.isBefore=yle;De.isBetween=wle;De.isSame=vle;De.isSameOrAfter=_le;De.isSameOrBefore=xle;De.isValid=Ule;De.lang=WF;De.locale=$F;De.localeData=jF;De.max=Uae;De.min=Vae;De.parsingFlags=zle;De.set=Coe;De.startOf=Ile;De.subtract=cle;De.toArray=Lle;De.toObject=Ble;De.toDate=Fle;De.toISOString=Tle;De.inspect=Sle;typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});De.toJSON=Vle;De.toString=kle;De.unix=Dle;De.valueOf=Mle;De.creationData=$le;De.eraName=Gle;De.eraNarrow=Yle;De.eraAbbr=Kle;De.eraYear=Xle;De.year=_F;De.isLeapYear=Toe;De.weekYear=rce;De.isoWeekYear=ice;De.quarter=De.quarters=uce;De.month=SF;De.daysInMonth=Foe;De.week=De.weeks=Woe;De.isoWeek=De.isoWeeks=joe;De.weeksInYear=ace;De.weeksInWeekYear=lce;De.isoWeeksInYear=sce;De.isoWeeksInISOWeekYear=oce;De.date=XF;De.day=De.days=iae;De.weekday=sae;De.isoWeekday=oae;De.dayOfYear=dce;De.hour=De.hours=hae;De.minute=De.minutes=fce;De.second=De.seconds=hce;De.millisecond=De.milliseconds=JF;De.utcOffset=Kae;De.utc=Jae;De.local=Qae;De.parseZone=Zae;De.hasAlignedHourOffset=ele;De.isDST=tle;De.isLocal=rle;De.isUtcOffset=ile;De.isUtc=VF;De.isUTC=VF;De.zoneAbbr=gce;De.zoneName=pce;De.dates=Ys("dates accessor is deprecated. Use date instead.",XF);De.months=Ys("months accessor is deprecated. Use month instead",SF);De.years=Ys("years accessor is deprecated. Use year instead",_F);De.zone=Ys("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Xae);De.isDSTShifted=Ys("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nle);function bce(n){return Nn(n*1e3)}function yce(){return Nn.apply(null,arguments).parseZone()}function QF(n){return n}var zt=aS.prototype;zt.calendar=roe;zt.longDateFormat=aoe;zt.invalidDate=coe;zt.ordinal=foe;zt.preparse=QF;zt.postformat=QF;zt.relativeTime=moe;zt.pastFuture=goe;zt.set=toe;zt.eras=Wle;zt.erasParse=jle;zt.erasConvertYear=qle;zt.erasAbbrRegex=Qle;zt.erasNameRegex=Jle;zt.erasNarrowRegex=Zle;zt.months=Ioe;zt.monthsShort=Ooe;zt.monthsParse=Doe;zt.monthsRegex=Boe;zt.monthsShortRegex=Loe;zt.week=Uoe;zt.firstDayOfYear=$oe;zt.firstDayOfWeek=Hoe;zt.weekdays=Zoe;zt.weekdaysMin=tae;zt.weekdaysShort=eae;zt.weekdaysParse=rae;zt.weekdaysRegex=aae;zt.weekdaysShortRegex=lae;zt.weekdaysMinRegex=cae;zt.isPM=dae;zt.meridiem=mae;function my(n,e,t,r){var i=hl(),s=ua().set(r,e);return i[t](s,n)}function ZF(n,e,t){if(sl(n)&&(e=n,n=void 0),n=n||"",e!=null)return my(n,e,t,"month");var r,i=[];for(r=0;r<12;r++)i[r]=my(n,r,t,"month");return i}function TS(n,e,t,r){typeof n=="boolean"?(sl(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,sl(e)&&(t=e,e=void 0),e=e||"");var i=hl(),s=n?i._week.dow:0,o,a=[];if(t!=null)return my(e,(t+s)%7,r,"day");for(o=0;o<7;o++)a[o]=my(e,(o+s)%7,r,"day");return a}function wce(n,e){return ZF(n,e,"months")}function vce(n,e){return ZF(n,e,"monthsShort")}function _ce(n,e,t){return TS(n,e,t,"weekdays")}function xce(n,e,t){return TS(n,e,t,"weekdaysShort")}function Ece(n,e,t){return TS(n,e,t,"weekdaysMin")}tc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=Rt(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});tt.lang=Ys("moment.lang is deprecated. Use moment.locale instead.",tc);tt.langData=Ys("moment.langData is deprecated. Use moment.localeData instead.",hl);var Pa=Math.abs;function kce(){var n=this._data;return this._milliseconds=Pa(this._milliseconds),this._days=Pa(this._days),this._months=Pa(this._months),n.milliseconds=Pa(n.milliseconds),n.seconds=Pa(n.seconds),n.minutes=Pa(n.minutes),n.hours=Pa(n.hours),n.months=Pa(n.months),n.years=Pa(n.years),this}function eL(n,e,t,r){var i=Po(e,t);return n._milliseconds+=r*i._milliseconds,n._days+=r*i._days,n._months+=r*i._months,n._bubble()}function Tce(n,e){return eL(this,n,e,1)}function Sce(n,e){return eL(this,n,e,-1)}function VP(n){return n<0?Math.floor(n):Math.ceil(n)}function Cce(){var n=this._milliseconds,e=this._days,t=this._months,r=this._data,i,s,o,a,l;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=VP(sk(t)+e)*864e5,e=0,t=0),r.milliseconds=n%1e3,i=Bs(n/1e3),r.seconds=i%60,s=Bs(i/60),r.minutes=s%60,o=Bs(s/60),r.hours=o%24,e+=Bs(o/24),l=Bs(tL(e)),t+=l,e-=VP(sk(l)),a=Bs(t/12),t%=12,r.days=e,r.months=t,r.years=a,this}function tL(n){return n*4800/146097}function sk(n){return n*146097/4800}function Ace(n){if(!this.isValid())return NaN;var e,t,r=this._milliseconds;if(n=Ks(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+r/864e5,t=this._months+tL(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(sk(this._months)),n){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+n)}}function ml(n){return function(){return this.as(n)}}var nL=ml("ms"),Nce=ml("s"),Pce=ml("m"),Rce=ml("h"),Ice=ml("d"),Oce=ml("w"),Mce=ml("M"),Dce=ml("Q"),Fce=ml("y"),Lce=nL;function Bce(){return Po(this)}function Vce(n){return n=Ks(n),this.isValid()?this[n+"s"]():NaN}function Fu(n){return function(){return this.isValid()?this._data[n]:NaN}}var Uce=Fu("milliseconds"),zce=Fu("seconds"),Hce=Fu("minutes"),$ce=Fu("hours"),Wce=Fu("days"),jce=Fu("months"),qce=Fu("years");function Gce(){return Bs(this.days()/7)}var Fa=Math.round,of={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Yce(n,e,t,r,i){return i.relativeTime(e||1,!!t,n,r)}function Kce(n,e,t,r){var i=Po(n).abs(),s=Fa(i.as("s")),o=Fa(i.as("m")),a=Fa(i.as("h")),l=Fa(i.as("d")),u=Fa(i.as("M")),f=Fa(i.as("w")),m=Fa(i.as("y")),p=s<=t.ss&&["s",s]||s<t.s&&["ss",s]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(p=p||f<=1&&["w"]||f<t.w&&["ww",f]),p=p||u<=1&&["M"]||u<t.M&&["MM",u]||m<=1&&["y"]||["yy",m],p[2]=e,p[3]=+n>0,p[4]=r,Yce.apply(null,p)}function Xce(n){return n===void 0?Fa:typeof n=="function"?(Fa=n,!0):!1}function Jce(n,e){return of[n]===void 0?!1:e===void 0?of[n]:(of[n]=e,n==="s"&&(of.ss=e-1),!0)}function Qce(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,r=of,i,s;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(r=Object.assign({},of,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=Kce(this,!t,r,i),t&&(s=i.pastFuture(+this,s)),i.postformat(s)}var m2=Math.abs;function Md(n){return(n>0)-(n<0)||+n}function Bw(){if(!this.isValid())return this.localeData().invalidDate();var n=m2(this._milliseconds)/1e3,e=m2(this._days),t=m2(this._months),r,i,s,o,a=this.asSeconds(),l,u,f,m;return a?(r=Bs(n/60),i=Bs(r/60),n%=60,r%=60,s=Bs(t/12),t%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Md(this._months)!==Md(a)?"-":"",f=Md(this._days)!==Md(a)?"-":"",m=Md(this._milliseconds)!==Md(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(t?u+t+"M":"")+(e?f+e+"D":"")+(i||r||n?"T":"")+(i?m+i+"H":"")+(r?m+r+"M":"")+(n?m+o+"S":"")):"P0D"}var Dt=Fw.prototype;Dt.isValid=jae;Dt.abs=kce;Dt.add=Tce;Dt.subtract=Sce;Dt.as=Ace;Dt.asMilliseconds=nL;Dt.asSeconds=Nce;Dt.asMinutes=Pce;Dt.asHours=Rce;Dt.asDays=Ice;Dt.asWeeks=Oce;Dt.asMonths=Mce;Dt.asQuarters=Dce;Dt.asYears=Fce;Dt.valueOf=Lce;Dt._bubble=Cce;Dt.clone=Bce;Dt.get=Vce;Dt.milliseconds=Uce;Dt.seconds=zce;Dt.minutes=Hce;Dt.hours=$ce;Dt.days=Wce;Dt.weeks=Gce;Dt.months=jce;Dt.years=qce;Dt.humanize=Qce;Dt.toISOString=Bw;Dt.toString=Bw;Dt.toJSON=Bw;Dt.locale=$F;Dt.localeData=jF;Dt.toIsoString=Ys("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bw);Dt.lang=WF;ct("X",0,0,"unix");ct("x",0,0,"valueOf");it("x",Iw);it("X",woe);yn("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});yn("x",function(n,e,t){t._d=new Date(Rt(n))});//! moment.js
tt.version="2.30.1";Zse(Nn);tt.fn=De;tt.min=zae;tt.max=Hae;tt.now=$ae;tt.utc=ua;tt.unix=bce;tt.months=wce;tt.isDate=D0;tt.locale=tc;tt.invalid=Aw;tt.duration=Po;tt.isMoment=xo;tt.weekdays=_ce;tt.parseZone=yce;tt.localeData=hl;tt.isDuration=wb;tt.monthsShort=vce;tt.weekdaysMin=Ece;tt.defineLocale=bS;tt.updateLocale=yae;tt.locales=wae;tt.weekdaysShort=xce;tt.normalizeUnits=Ks;tt.relativeTimeRounding=Xce;tt.relativeTimeThreshold=Jce;tt.calendarFormat=mle;tt.prototype=De;tt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Zce={client:"client",staff:"staff",admin:"admin"},g2={comboLivestream:1,resPhuKienThuAm:2,Loa:3},SS=async n=>{try{if(!n)return null;const e=await Hg.GetFileApi(n),t=new Blob([e]);return URL.createObjectURL(t)}catch(e){return console.error("Li khi ti nh:",e),null}},UP=5*1024*1024;function eue({initialData:n,onClose:e,onSubmit:t}){const[r,i]=O.useState(!1),[s,o]=O.useState({name:"",price:0,description:"",detail:"",status:!0,image:null,imagePreview:""});O.useEffect(()=>{const f=async m=>{try{i(!0);const p=await SS(m);o(y=>({...y,imagePreview:p}))}catch(p){console.error("Failed to load initial image:",p)}finally{i(!1)}};n&&(o({name:n.name||"",price:n.price||0,description:n.description||"",detail:n.detail||"",status:n.status??!0,image:null,imagePreview:n.image||""}),n.image&&f(n.image))},[n]);const a=async f=>{const m=f.target.files?.[0];if(m){if(m.size>UP){Te.error(`Kch thc tp phi nh hn ${UP/1024}KB.`),f.target.value=null;return}if(!m.type.startsWith("image/")){Te.error("Vui lng chn mt tp hnh nh hp l."),f.target.value=null;return}i(!0);try{const p=new FormData;p.append("myFiles",m);const y=await Hg.UploadFileApi(p);if(y&&y.DT){const v=y.DT,w=await Hg.GetFileApi(v),E=new Blob([w],{type:"image/jpeg"}),k=URL.createObjectURL(E);o(T=>({...T,image:v,imagePreview:k})),Te.success("Ti tp ln thnh cng!")}else Te.error("Khng th ly path file t server!")}catch(p){console.error("Upload error:",p),Te.error("Ti tp ln tht bi!")}finally{i(!1),f.target.value=null}}},l=f=>{const{name:m,value:p,type:y,checked:v}=f.target;o(w=>({...w,[m]:y==="checkbox"?v:p}))},u=f=>{f.preventDefault(),t({name:s.name,price:Number(s.price),description:s.description,detail:s.detail,status:s.status,image:s.image})};return g.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"},g.createElement("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in fade-in zoom-in duration-200"},g.createElement("div",{className:`${n?"bg-blue-600":"bg-teal-600"} p-4 flex justify-between items-center text-white`},g.createElement("h3",{className:"font-bold flex items-center gap-2"},n?g.createElement(eY,{size:20}):g.createElement(C7,{size:20}),n?"Chnh sa sn phm":"Thm sn phm mi"),g.createElement("button",{onClick:e,className:"hover:bg-black/20 rounded-full p-1 transition-colors"},g.createElement(sw,{size:20}))),g.createElement("form",{className:"p-6 space-y-4 max-h-[80vh] overflow-y-auto",onSubmit:u},g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Tn sn phm"),g.createElement("input",{required:!0,name:"name",value:s.name,onChange:l,type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"V d: iPhone 15 Pro Max..."})),g.createElement("div",{className:"space-y-2"},g.createElement("label",{className:"block text-sm font-semibold text-gray-700"},"Hnh nh sn phm"),g.createElement("div",{className:"flex items-center gap-4"},g.createElement("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center overflow-hidden bg-gray-50"},s.imagePreview?g.createElement("img",{src:s.imagePreview,alt:"Preview",className:"w-full h-full object-cover"}):g.createElement(DG,{className:"text-gray-400",size:32})),g.createElement("div",{className:"flex-1"},g.createElement("input",{type:"file",id:"file-upload",className:"hidden",accept:"image/*",onChange:a,disabled:r}),g.createElement("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-teal-500 disabled:opacity-25 cursor-pointer"},r?g.createElement(cu,{className:"animate-spin mr-2",size:16}):null,s.imagePreview?"Thay i nh":"Chn nh"),g.createElement("p",{className:"mt-1 text-xs text-gray-500"},"PNG, JPG, GIF ti a 5MB.")))),g.createElement("div",{className:"grid grid-cols-2 gap-4"},g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Gi bn (VN)"),g.createElement("input",{required:!0,name:"price",value:s.price,onChange:l,type:"number",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 outline-none"})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Trng thi"),g.createElement("label",{className:"relative inline-flex items-center cursor-pointer mt-2"},g.createElement("input",{type:"checkbox",name:"status",checked:s.status,onChange:l,className:"sr-only peer"}),g.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"}),g.createElement("span",{className:"ml-3 text-sm font-medium text-gray-700"},s.status?"ang bn":"Ngng bn")))),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"M t ngn"),g.createElement("textarea",{name:"description",value:s.description,onChange:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 outline-none",rows:"2"})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"M t chi tit"),g.createElement("textarea",{name:"detail",value:s.detail,onChange:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 outline-none transition-all",placeholder:"Nhp m t chi tit sn phm...",rows:"4"})),g.createElement("div",{className:"pt-4 flex gap-3"},g.createElement("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors"},"Hy b"),g.createElement("button",{type:"submit",disabled:r,className:`flex-1 px-4 py-2.5 text-white font-semibold rounded-lg shadow-md transition-colors ${r?"opacity-50":""} ${n?"bg-blue-600 hover:bg-blue-700":"bg-teal-600 hover:bg-teal-700"}`},n?"Cp nht":"Lu sn phm")))))}const mu={getListProductApi:(n,e)=>bt.get(`/product/list?page=${n}&limit=${e}`),getProductByIdApi:n=>bt.get(`/product/byProductId/${n}`),createProductApi:n=>bt.post("/product/create",n),updateProductApi:(n,e)=>bt.put(`/product/update/${n}`,e),deleteProductApi:n=>bt.delete(`/product/delete/${n}`),getListProductDropdownApi:()=>bt.get("/product/dropdown"),filterProductApi:(n,e,t,r)=>bt.get(`/product/filter?page=${n}&limit=${e}&categoryId=${t}&priceProduct=${r}`)},zP={ProductList:[],ProductTotal:0,ProductDropdown:[]},_b=qs("product/getListProduct",async({page:n,limit:e},t)=>await mu.getListProductApi(n,e)),cg=qs("product/getListProductDropdown",async n=>await mu.getListProductDropdownApi()),rL=eh({name:"product",initialState:zP,reducers:{resetProduct:n=>zP},extraReducers:n=>{n.addCase(_b.pending,e=>{}).addCase(_b.fulfilled,(e,t)=>{e.ProductList=t.payload.DT.products,e.ProductTotal=t.payload.DT.total}).addCase(_b.rejected,(e,t)=>{}),n.addCase(cg.pending,e=>{}).addCase(cg.fulfilled,(e,t)=>{e.ProductDropdown=t.payload.DT}).addCase(cg.rejected,(e,t)=>{})}}),{resetProduct:b6e}=rL.actions,tue=rL.reducer;function gl({imagePath:n,onClick:e,className:t,alt:r}){const[i,s]=O.useState(null);return O.useEffect(()=>{if(!n){s(null);return}let o=!0,a=null;return(async()=>{const u=await SS(n);o&&(a=u,s(u))})(),()=>{o=!1,a&&URL.revokeObjectURL(a)}},[n]),g.createElement("img",{src:i??"/no-image.png",alt:r||"image",className:t,onClick:e})}function nue(){const n=mr(),[e,t]=O.useState(!1),[r,i]=O.useState(null),[s,o]=O.useState(1),[a,l]=O.useState(10),[u,f]=O.useState(!1),[m,p]=O.useState(""),{ProductList:y,ProductTotal:v}=Jn(A=>A.product),w=Math.ceil(v/a),E=async()=>{f(!0);try{const A=await n(_b({page:s,limit:a})).unwrap()}catch{Te.error("Khng th ti danh sch sn phm")}finally{f(!1)}};O.useEffect(()=>{E()},[s,a]);const k=y.filter(A=>A.name.toLowerCase().includes(m.toLowerCase())),T=()=>{i(null),t(!0)},S=A=>{i(A),t(!0)},P=async A=>{if(window.confirm(`Bn c chc chn mun xa sn phm "${A.name}" khng?`)){let F=await mu.deleteProductApi(A.id);F&&F.EC===0?(E(),Te.success("Xa sn phm thnh cng!")):Te.error(F.EM)}},R=async A=>{if(r){let F=await mu.updateProductApi(r.id,A);F&&F.EC===0?(E(),Te.success("Cp nht sn phm thnh cng!")):Te.error(F.EM)}else{let F=await mu.createProductApi(A);F&&F.EC===0?(E(),Te.success("Thm sn phm thnh cng!")):Te.error(F.EM)}t(!1)},D=()=>{const A=y.map((X,re)=>({STT:re+1,"Tn sn phm":X.name,"M t":X.description,Gi:X.price,"Trng thi":X.status?"Kinh doanh":"Ngng bn"})),F=u2.json_to_sheet(A),V=u2.book_new();u2.book_append_sheet(V,F,"Sn phm"),Use(V,"Danh_sach_san_pham.xlsx")};return g.createElement("div",{className:"p-6 bg-gray-50 min-h-screen"},g.createElement("div",{className:"max-w-7xl mx-auto bg-white rounded-xl shadow-sm border border-gray-200"},g.createElement("div",{className:"p-6 border-b border-gray-200 flex flex-col md:flex-row md:items-center justify-between gap-4"},g.createElement("div",null,g.createElement("h1",{className:"text-2xl font-bold text-gray-800"},"Qun l kho hng"),g.createElement("p",{className:"text-sm text-gray-500"},"Xem v qun l thng tin cc sn phm trong h thng")),g.createElement("div",{className:"flex gap-2"},g.createElement("button",{onClick:D,className:"flex items-center gap-2 bg-white border border-gray-300 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors"},g.createElement(x7,{size:18})," Xut file"),g.createElement("button",{className:"flex items-center gap-2 bg-teal-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-teal-700 transition-colors",onClick:()=>T()},g.createElement(Qf,{size:18})," Thm mi"))),g.createElement("div",{className:"p-4 bg-gray-50/50 border-b border-gray-200 flex items-center gap-4"},g.createElement("div",{className:"relative flex-1 max-w-md"},g.createElement(k0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),g.createElement("input",{type:"text",placeholder:"Tm kim tn sn phm...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 outline-none",value:m,onChange:A=>p(A.target.value)}))),g.createElement("div",{className:"overflow-x-auto"},g.createElement("table",{className:"w-full text-left border-collapse"},g.createElement("thead",null,g.createElement("tr",{className:"bg-gray-50 text-gray-600 text-xs uppercase tracking-wider font-semibold"},g.createElement("th",{className:"px-6 py-4 text-center w-16"},"STT"),g.createElement("th",{className:"px-6 py-4"},"Sn phm"),g.createElement("th",{className:"px-6 py-4"},"M t"),g.createElement("th",{className:"px-6 py-4"},"Gi bn"),g.createElement("th",{className:"px-6 py-4 text-center"},"Trng thi"),g.createElement("th",{className:"px-6 py-4 text-right"},"Thao tc"))),g.createElement("tbody",{className:"divide-y divide-gray-200 text-sm"},u?g.createElement("tr",null,g.createElement("td",{colSpan:"6",className:"py-20 text-center"},g.createElement(cu,{className:"animate-spin mx-auto text-teal-600",size:40}))):k.map((A,F)=>g.createElement("tr",{key:A.id,className:"hover:bg-gray-50 transition-colors"},g.createElement("td",{className:"px-6 py-4 text-center text-gray-500 font-medium"},(s-1)*a+F+1),g.createElement("td",{className:"px-6 py-4"},g.createElement("div",{className:"flex items-center gap-3"},g.createElement(gl,{imagePath:A.image,className:"w-10 h-10 rounded-md border object-cover"}),g.createElement("span",{className:"font-semibold text-gray-900"},A.name))),g.createElement("td",{className:"px-6 py-4 text-gray-500 italic max-w-xs truncate"},A.description),g.createElement("td",{className:"px-6 py-4 font-bold text-teal-700"},A.price.toLocaleString("vi-VN")," "),g.createElement("td",{className:"px-6 py-4 text-center"},g.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`},A.status?"ang bn":"Tm ngng")),g.createElement("td",{className:"px-6 py-4 text-right flex justify-end gap-2"},g.createElement("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",onClick:()=>S(A)},g.createElement(R7,{size:18})),g.createElement("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",onClick:()=>P(A)},g.createElement(Zf,{size:18})))))))),g.createElement("div",{className:"p-4 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-4"},g.createElement("div",{className:"flex items-center gap-4"},g.createElement("span",{className:"text-sm text-gray-500"},"Hin th ",g.createElement("strong",null,y.length)," trn ",g.createElement("strong",null,v)," sn phm"),g.createElement("select",{value:a,onChange:A=>{l(Number(A.target.value)),o(1)},className:"text-sm border border-gray-300 rounded px-2 py-1 outline-none focus:ring-2 focus:ring-teal-500"},[5,10,20,50].map(A=>g.createElement("option",{key:A,value:A},"Hin ",A," dng")))),g.createElement("div",{className:"flex items-center gap-2"},g.createElement("button",{disabled:s===1||u,onClick:()=>o(1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang u"},g.createElement(v7,{size:16})),g.createElement("button",{disabled:s===1||u,onClick:()=>o(A=>A-1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang trc"},g.createElement(gc,{size:16})),g.createElement("div",{className:"flex items-center px-4 h-9 border rounded bg-teal-50 border-teal-200"},g.createElement("span",{className:"text-sm font-semibold text-teal-700"},"Trang ",s," / ",w||1)),g.createElement("button",{disabled:s>=w||u,onClick:()=>o(A=>A+1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang sau"},g.createElement(dl,{size:16})),g.createElement("button",{disabled:s>=w||u,onClick:()=>o(w),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang cui"},g.createElement(_7,{size:16})))),e&&g.createElement(eue,{initialData:r,onClose:()=>t(!1),onSubmit:R})))}const Tf={getCategoriesByProduct:n=>bt.get(`/product-category/byProduct/${n}`),getProductsByCategory:n=>bt.get(`/product-category/byCategory/${n}`),addProductCategory:n=>bt.post("/product-category/add",n),removeProductCategory:n=>bt.post("/product-category/remove",n)};function rue({visible:n,onClose:e,form:t}){const r=mr(),{ProductDropdown:i}=Jn(D=>D.product),[s,o]=O.useState(!1),a=t?.id||null,l=O.useMemo(()=>({id:a,name:t?.name||"",status:t?.status}),[t,a]);O.useEffect(()=>{n&&(typeof l.status=="boolean"?o(l.status):o(!1))},[n,l.status,l.name]);const[u,f]=O.useState(""),[m,p]=O.useState([]),[y,v]=O.useState(!1),[w,E]=O.useState(null);O.useEffect(()=>{(async()=>{let A=await r(cg());A.payload?.EC!==0&&Te.error(A.payload?.EM)})()},[r]),O.useEffect(()=>{const D=async()=>{if(n){v(!0);try{const A=l.id;if(A){const F=await Tf.getProductsByCategory(A),X=(Array.isArray(F?.DT)?F.DT:[]).map(re=>({id:re.id??re.SubjectID??re.ProductID,name:re.name??re.SubjectName??re.ProductName,code:re.code??re.SubjectCode??re.ProductCode,raw:re}));p(X)}else p([])}catch{Te.error("Ly d liu sn phm  chn tht bi")}finally{v(!1)}}};n&&(f(""),D())},[n,l.id]);const k=O.useMemo(()=>(Array.isArray(i)?i:[]).filter(A=>{const F=A.name||"",V=A.description||"",X=F.toLowerCase().includes(u.toLowerCase())||V.toLowerCase().includes(u.toLowerCase()),re=!(m||[]).some(N=>N.id===A.id);return X&&re}),[i,u,m]),T=async D=>{const A=l.id;if(!A){Te.warning("Vui lng lu thng tin danh mc trc khi thm sn phm.");return}E(`add-${D.id}`);try{const F={categoryId:A,productId:D.id};let V=await Tf.addProductCategory(F);if(V?.EC!==0)Te.error(V?.EM||"Thm sn phm tht bi");else{const X=V?.DT??D,re={id:X.id??X.SubjectID??D.id,name:X.name??X.SubjectName??D.name,code:X.code??X.SubjectCode??D.detail,raw:X};p(N=>[...N,re]),Te.success(` thm: ${D.name}`)}}catch{Te.error("Li thm sn phm")}finally{E(null)}},S=async D=>{const A=l.id;if(A){E(`remove-${D.id}`);try{const F={categoryId:A,productId:D.id};let V=await Tf.removeProductCategory(F);V?.EC!==0?Te.error(V?.EM||"Xa sn phm tht bi"):(p(X=>X.filter(re=>re.id!==D.id)),Te.success(` xa: ${D.name}`))}catch{Te.error("Li xa sn phm")}finally{E(null)}}},P=()=>{e()};if(!n)return null;const R="overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 [&::-webkit-scrollbar-thumb]:rounded-full hover:[&::-webkit-scrollbar-thumb]:bg-gray-400";return g.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4"},g.createElement("div",{className:"w-full max-w-6xl bg-white rounded-lg shadow-xl flex flex-col h-[90vh]"},g.createElement("div",{className:"flex-none flex items-center justify-between p-4 border-b"},g.createElement("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-800"},g.createElement(R7,{className:"w-5 h-5 text-teal-600"}),"Chn sn phm cho: ",g.createElement("span",{className:"text-teal-600"},l.name)),g.createElement("button",{onClick:P,className:"text-gray-400 hover:text-red-500"},g.createElement(sw,{size:24}))),g.createElement("div",{className:"flex-1 p-4 bg-gray-50 min-h-0"},g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 h-full"},g.createElement("div",{className:"bg-white rounded border border-gray-200 shadow-sm flex flex-col h-full overflow-"},g.createElement("div",{className:"flex-none p-3 border-b bg-white"},g.createElement("div",{className:"relative"},g.createElement("input",{value:u,onChange:D=>f(D.target.value),placeholder:"Tm kim sn phm ...",className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-teal-500 outline-none"}),g.createElement(k0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}))),g.createElement("div",{className:`flex-1 ${R} p-2 space-y-2`},k.length===0?g.createElement("div",{className:"text-center text-gray-500 py-10 text-sm"},Array.isArray(i)&&i.length===0?"ang ti d liu...":"Khng tm thy kt qu"):k.map(D=>g.createElement("div",{key:D.id,className:"flex items-center justify-between p-3 rounded hover:bg-teal-50 border border-transparent hover:border-teal-100 transition group bg-white shadow-sm mb-1"},g.createElement("div",{className:"flex-1 pr-2 min-w-0"},g.createElement("div",{className:"text-sm font-medium text-gray-800 truncate",title:D.name},D.name),g.createElement("div",{className:"text-xs text-gray-500 mt-0.5"},D.detail)),g.createElement("button",{onClick:()=>T(D),disabled:!!w,className:"flex-none px-3 py-1.5 bg-white border border-teal-200 text-teal-600 rounded-full hover:bg-teal-500 hover:text-white transition disabled:opacity-50 disabled:cursor-not-allowed",title:"Thm sn phm"},w===`add-${D.id}`?g.createElement(cu,{size:16,className:"animate-spin"}):g.createElement(ST,{size:16})))))),g.createElement("div",{className:"bg-white rounded border border-teal-200 shadow-sm flex flex-col h-full overflow-"},g.createElement("div",{className:"flex-none p-3 border-b border-teal-100 bg-teal-50 flex justify-between items-center"},g.createElement("span",{className:"text-sm font-bold text-teal-800 flex items-center gap-2"},g.createElement(mG,{size:14})," Sn phm  lu"),g.createElement("span",{className:"text-xs bg-teal-200 text-teal-800 px-2 py-0.5 rounded-full font-bold"},m.length)),g.createElement("div",{className:`flex-1 ${R} p-2 space-y-2`},y?g.createElement("div",{className:"flex justify-center py-10"},g.createElement(cu,{className:"w-6 h-6 animate-spin text-teal-500"})):m.length===0?g.createElement("div",{className:"text-center text-gray-400 py-10 text-sm"},"Cha c sn phm no c chn"):m.map(D=>g.createElement("div",{key:D.id,className:"flex items-center justify-between p-3 bg-white border-l-4 border-l-teal-500 border border-gray-100 rounded-r shadow-sm mb-1"},g.createElement("div",{className:"flex-1 pr-2 min-w-0"},g.createElement("div",{className:"text-sm font-medium text-gray-800 truncate",title:D.name},D.name),g.createElement("div",{className:"text-xs text-gray-500 mt-0.5"},D.code)),g.createElement("button",{onClick:()=>S(D),disabled:!!w,className:"flex-none p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition disabled:opacity-50"},w===`remove-${D.id}`?g.createElement(cu,{size:16,className:"animate-spin text-red-500"}):g.createElement(Zf,{size:16})))))))),g.createElement("div",{className:"flex-none p-4 border-t bg-gray-50 flex justify-between items-center"},g.createElement("div",{className:"text-sm text-gray-600"},"Tng s sn phm trong danh mc: ",g.createElement("span",{className:"font-bold text-teal-600"},m.length)),g.createElement("button",{onClick:P,className:"px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700 transition"},"ng"))))}const iue=({visible:n,onClose:e,onConfirm:t,isLoading:r,categories:i=[],parentIdToAdd:s=null,editData:o=null})=>{const[a,l]=O.useState(""),[u,f]=O.useState(""),[m,p]=O.useState(!0),[y,v]=O.useState(""),w=(k,T=0)=>k.reduce((S,P)=>{const R=T>0?" ".repeat(T):"";return S.push(g.createElement("option",{key:P.id,value:P.id},R,P.name)),P.children&&P.children.length>0&&S.push(...w(P.children,T+1)),S},[]);if(O.useEffect(()=>{n&&(o?(l(o.name||""),f(o.icon||""),p(o.status??!0),v(o.parentId?String(o.parentId):"")):(l(""),f(""),p(!0),v(s?String(s):"")))},[n,o,s]),!n)return null;const E=k=>{if(k.preventDefault(),!a.trim()){alert("Vui lng nhp tn danh mc");return}const T=y?parseInt(y):null;t({name:a,icon:u,status:m,parentId:T})};return g.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200"},g.createElement("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden transform transition-all scale-100"},g.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gray-50"},g.createElement("h3",{className:"font-bold text-gray-800 flex items-center gap-2"},g.createElement(E7,{className:"text-indigo-600",size:20}),o?"Cp nht danh mc":"Thm danh mc mi"),g.createElement("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full transition-colors text-gray-500"},g.createElement(sw,{size:20}))),g.createElement("form",{onSubmit:E,className:"p-5 space-y-4"},g.createElement("div",{className:"space-y-1.5"},g.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-1.5"},"Tn danh mc ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("input",{type:"text",value:a,onChange:k=>l(k.target.value),placeholder:"V d: in t, Thi trang...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-sm",autoFocus:!0})),g.createElement("div",{className:"space-y-1.5"},g.createElement("label",{className:"text-sm font-medium text-gray-700"},"Icon (Class name)"),g.createElement("input",{type:"text",value:u,onChange:k=>f(k.target.value),placeholder:"V d: fas fa-home",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-sm"})),g.createElement("div",{className:"space-y-1.5 disabled:opacity-75 disabled:cursor-not-allowed"},g.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-1.5"},g.createElement(_G,{size:16,className:"text-gray-500"}),"Danh mc cha (Ty chn)",s&&g.createElement("span",{className:"text-xs text-orange-600 font-semibold"},"( chn)")),g.createElement("div",{className:"relative"},g.createElement("select",{value:y,onChange:k=>v(k.target.value),disabled:!0,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-sm appearance-none bg-white ${s?"bg-gray-100 cursor-not-allowed opacity-75":""}`},g.createElement("option",{value:""},"-- L danh mc gc (Root) --"),w(i)),g.createElement("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none"},g.createElement("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})))),g.createElement("p",{className:"text-xs text-gray-500"},s?"Danh mc cha  c t ng chn.":" trng nu y l danh mc cao nht.")),g.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100"},g.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},g.createElement(Hq,{size:16,className:m?"text-green-500":"text-gray-400"}),"Trng thi hot ng"),g.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},g.createElement("input",{type:"checkbox",checked:m,onChange:k=>p(k.target.checked),className:"sr-only peer"}),g.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"}))),g.createElement("div",{className:"pt-4 flex items-center justify-end gap-3 border-t border-gray-100 mt-4"},g.createElement("button",{type:"submit",disabled:r,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-indigo-200"},g.createElement(iw,{size:16}),r?"ang lu...":"Lu li"),g.createElement("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Hy b")))))},iL=({item:n,depth:e=0,onAddProduct:t,setShowAddModal:r,handleDeleteCategory:i,setParentIdToAdd:s,handleOpenEdit:o})=>{const[a,l]=O.useState(!1),u=n.children&&n.children.length>0;return g.createElement("div",{className:"select-none"},g.createElement("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 transition-colors group",style:{paddingLeft:`${e*24+12}px`}},g.createElement("div",{className:"flex items-center gap-3"},g.createElement("button",{onClick:()=>l(!a),className:`p-1 rounded hover:bg-gray-200 ${!u&&"invisible"}`},a?g.createElement(E0,{size:16}):g.createElement(dl,{size:16})),g.createElement(EG,{size:18,className:e===0?"text-blue-500":"text-gray-400"}),g.createElement("div",{className:"flex flex-col"},g.createElement("span",{className:"font-medium text-gray-700"},n.name),g.createElement("span",{className:"text-[10px] text-gray-400 flex items-center gap-1"},g.createElement(I7,{size:10})," ",n.productCount||0," sn phm")),n.status?g.createElement("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-600 rounded-full text-[10px]"},"Active"):g.createElement("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-600 rounded-full text-[10px]"},"Hidden")),g.createElement("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},g.createElement("button",{onClick:()=>t(n),className:"flex items-center gap-1 p-1.5 text-green-600 hover:bg-green-50 rounded border border-green-100 text-xs font-medium",title:"Thm sn phm"},g.createElement(C7,{size:14})," ",g.createElement("span",{className:"hidden sm:inline"},"Thm SP")),g.createElement("button",{className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded border border-blue-100",title:"Thm con",onClick:()=>{const f=n.parentId===null||n.parentId===void 0?n.id:n.parentId;s(f),r(!0)}},g.createElement(Qf,{size:14})),g.createElement("button",{className:"p-1.5 text-amber-600 hover:bg-amber-50 rounded border border-amber-100",title:"Sa",onClick:()=>o(n)},g.createElement(A7,{size:14})),g.createElement("button",{className:"p-1.5 text-red-600 hover:bg-red-50 rounded border border-red-100",title:"Xa",onClick:()=>i(n)},g.createElement(Zf,{size:14})))),a&&u&&g.createElement("div",{className:"bg-gray-50/30"},n.children.map(f=>g.createElement(iL,{key:f.id,item:f,depth:e+1,onAddProduct:t,setShowAddModal:r,handleDeleteCategory:i,setParentIdToAdd:s,handleOpenEdit:o}))))};function sue(){const n=mr(),{CategoryList:e,CategoryTotal:t}=Jn(N=>N.category),[r,i]=O.useState(null),[s,o]=O.useState(!1),[a,l]=O.useState(1),[u,f]=O.useState(10),[m,p]=O.useState(!1),y=Math.ceil(t/u),[v,w]=O.useState(!1),[E,k]=O.useState(!1),[T,S]=O.useState(null),[P,R]=O.useState(null),D=async()=>{p(!0);try{const N=await n(bf({page:a,limit:u})).unwrap()}catch{Te.error("Khng th ti danh sch danh mc")}finally{p(!1)}};O.useEffect(()=>{D()},[a,u]);const A=async N=>{k(!0);try{let te;P?te=await bb.updateCategoryApi(P.id,N):te=await bb.createCategoryApi(N),te&&te.EC===0?(Te.success(`${P?"Cp nht":"Thm"} danh mc thnh cng!`),V(),D()):Te.error(te.EM)}catch(te){Te.error("C li xy ra"),console.error(te)}finally{k(!1)}},F=N=>{R(N),S(N.parentId),w(!0)},V=()=>{w(!1),R(null),S(null)},X=N=>{i(N),o(!0)},re=async N=>{if(window.confirm(`Bn c chc mun xa danh mc "${N.name}" khng?`))try{let te=await bb.deleteCategoryApi(N.id);te&&te.EC===0?(Te.success("Xa danh mc thnh cng!"),D()):Te.error(te.EM)}catch(te){Te.error("C li xy ra khi xa danh mc!"),console.error(te)}};return g.createElement("div",{className:"max-w-0xl mx-auto p-6 bg-gray-50 min-h-screen relative"},g.createElement("div",{className:"mb-8 flex justify-between items-center"},g.createElement("div",null,g.createElement("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2"},g.createElement(BG,{className:"text-indigo-600"})," Qun l Danh mc"),g.createElement("p",{className:"text-gray-500 text-sm"},"Cu trc a tng & Qun l sn phm")),g.createElement("button",{className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-semibold transition-all shadow-lg shadow-indigo-200",onClick:()=>{S(null),w(!0)}},g.createElement(Qf,{size:18})," Thm danh mc gc")),g.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},g.createElement("div",{className:"grid grid-cols-1 bg-gray-100/50 p-3 border-b border-gray-200 text-xs font-bold text-gray-500 uppercase tracking-wider"},g.createElement("div",{className:"ml-10"},"Tn danh mc / Thng tin")),g.createElement("div",{className:"divide-y divide-gray-100"},e.map(N=>g.createElement(iL,{key:N.id,item:N,onAddProduct:X,setShowAddModal:w,handleDeleteCategory:re,setParentIdToAdd:S,handleOpenEdit:F})))),g.createElement("div",{className:"p-4 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-4"},g.createElement("div",{className:"flex items-center gap-4"},g.createElement("span",{className:"text-sm text-gray-500"},"Hin th ",g.createElement("strong",null,e.length)," trn ",g.createElement("strong",null,t)," danh mc"),g.createElement("select",{value:u,onChange:N=>{f(Number(N.target.value)),l(1)},className:"text-sm border border-gray-300 rounded px-2 py-1 outline-none focus:ring-2 focus:ring-teal-500"},[5,10,20,50].map(N=>g.createElement("option",{key:N,value:N},"Hin ",N," dng")))),g.createElement("div",{className:"flex items-center gap-2"},g.createElement("button",{disabled:a===1||m,onClick:()=>l(1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang u"},g.createElement(v7,{size:16})),g.createElement("button",{disabled:a===1||m,onClick:()=>l(N=>N-1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang trc"},g.createElement(gc,{size:16})),g.createElement("div",{className:"flex items-center px-4 h-9 border rounded bg-teal-50 border-teal-200"},g.createElement("span",{className:"text-sm font-semibold text-teal-700"},"Trang ",a," / ",y||1)),g.createElement("button",{disabled:a>=y||m,onClick:()=>l(N=>N+1),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang sau"},g.createElement(dl,{size:16})),g.createElement("button",{disabled:a>=y||m,onClick:()=>l(y),className:"p-2 border rounded bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang cui"},g.createElement(_7,{size:16})))),g.createElement(rue,{visible:s,onClose:()=>{o(!1),D()},form:r}),g.createElement(iue,{visible:v,onClose:V,onConfirm:A,isLoading:E,categories:e,parentIdToAdd:T,editData:P}))}const Sf={getListPostApi:(n,e)=>bt.get(`/post/list?page=${n}&limit=${e}`),getPostByIdApi:n=>bt.get(`/post/byPostId/${n}`),createPostApi:n=>bt.post("/post/create",n),updatePostApi:(n,e)=>bt.put(`/post/update/${n}`,e),deletePostApi:n=>bt.delete(`/post/delete/${n}`),getListPostDropdownApi:()=>bt.get("/post/dropdown")},HP={PostList:[],PostTotal:0},Cf=qs("post/getListPost",async({page:n,limit:e},t)=>await Sf.getListPostApi(n,e)),sL=eh({name:"post",initialState:HP,reducers:{resetPost:n=>HP},extraReducers:n=>{n.addCase(Cf.pending,e=>{}).addCase(Cf.fulfilled,(e,t)=>{e.PostList=t.payload.DT.posts,e.PostTotal=t.payload.DT.total}).addCase(Cf.rejected,(e,t)=>{})}}),{resetPost:y6e}=sL.actions,oue=sL.reducer;function aue(){const n=Jr(),e=mr(),{PostList:t,PostTotal:r}=Jn(m=>m.post),[i,s]=O.useState(1),o=10,a=Math.ceil(r/o),l=async()=>{let m=await e(Cf({page:i,limit:o})).unwrap();m&&m.EC!==0&&Te.error(m.EM)};O.useEffect(()=>{l()},[i]);const u=m=>{m>=1&&m<=a&&(s(m),window.scrollTo({top:0,behavior:"smooth"}))},f=async m=>{if(window.confirm("Bn c chc chn mun xa bi vit ny?"))try{let p=await Sf.deletePostApi(m);p&&p.EC===0?(Te.success(p.EM),l()):Te.error(p.EM)}catch(p){console.error("Error deleting post:",p),Te.error("Khng th xa bi vit")}};return g.createElement("div",{className:"min-h-screen bg-gray-50 py-8 px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"grid grid-cols-1 gap-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-bold text-gray-700 uppercase tracking-tight"},"Danh sch bi vit"),g.createElement("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all shadow-md active:scale-95 cursor-pointer",onClick:()=>{n("/news/detail")}},g.createElement(Qf,{size:18}),"Thm mi")),g.createElement("div",{className:"p-6 space-y-6"},t&&t.length>0?t.map(m=>g.createElement("div",{key:m.id,className:"flex flex-col md:flex-row gap-4 p-4 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100 group"},g.createElement("div",{className:"flex-shrink-0 w-28 h-24 flex items-center justify-center text-white text-[10px] font-bold rounded-lg uppercase shadow-sm"},g.createElement(gl,{imagePath:m.image,className:"w-10 h-10 rounded-md border object-cover"})),g.createElement("div",{className:"flex-1"},g.createElement("div",{className:"flex justify-between items-start"},g.createElement("h3",{className:"font-bold text-gray-800 text-[15px] mb-1 group-hover:text-blue-600 transition-colors cursor-pointer"},m.title),g.createElement("div",{className:"flex items-center gap-2 ml-4"},g.createElement("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all cursor-pointer",onClick:()=>n("/news/detail?id="+m.id),title:"Chnh sa"},g.createElement(N7,{size:16})),g.createElement("button",{className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all cursor-pointer",onClick:()=>f(m.id),title:"Xa tin"},g.createElement(Zf,{size:16})))),g.createElement("p",{className:"text-xs text-gray-500 italic leading-relaxed line-clamp-2"},m.description)))):g.createElement("div",{className:"text-center py-10 text-gray-400"},"Khng c d liu hin th.")),g.createElement("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-center gap-2"},g.createElement("button",{onClick:()=>u(i-1),disabled:i===1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},g.createElement(gc,{size:20,className:"text-gray-600"})),[...Array(Math.max(a,1))].map((m,p)=>{const y=p+1;return g.createElement("button",{key:y,onClick:()=>u(y),className:`w-10 h-10 rounded-lg text-sm font-medium transition-all ${i===y?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100 border border-transparent"}`},y)}),g.createElement("button",{onClick:()=>u(i+1),disabled:i===a||a<=1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},g.createElement(dl,{size:20,className:"text-gray-600"}))))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-400 font-medium"},"Copyright  2025 by ",g.createElement("span",{className:"text-gray-600"},"CREATIMICSTUDIO"))))}function Vw({options:n=[],placeholder:e="Select option",labelKey:t="label",valueKey:r="value",onChange:i,value:s}){const[o,a]=O.useState(""),[l,u]=O.useState(!1),[f,m]=O.useState(null);O.useEffect(()=>{if(s){const v=n.find(w=>w[r]===s);v&&m(v)}else m(null)},[s,n,r]);const p=n.filter(v=>v[t]?.toLowerCase().includes(o.toLowerCase()));O.useEffect(()=>{const v=w=>{l&&!w.target.closest(".dropdown-container")&&(u(!1),a(""))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[l]);const y=v=>{m(v),u(!1),a(""),i&&i(v)};return g.createElement("div",{className:"relative w-full dropdown-container"},l?g.createElement("input",{type:"text",className:"w-full border rounded-md px-4 py-2 shadow-sm focus:outline-none",placeholder:"Search...",value:o,onChange:v=>a(v.target.value),autoFocus:!0}):g.createElement("button",{onClick:()=>u(!0),className:"w-full text-gray-600 bg-white border border-gray-200 rounded-md px-4 py-2 text-left shadow-sm focus:outline-none focus:border-indigo-400 transition"},f?f[t]:e),l&&g.createElement("div",{className:"absolute w-full mt-2 bg-white border rounded-md shadow-lg p-2 z-10"},g.createElement("div",{className:"max-h-100 overflow-auto"},p.length>0?p.map(v=>g.createElement("div",{key:v[r],onClick:()=>y(v),className:"px-3 py-2 cursor-pointer rounded-md hover:bg-gray-100"},v[t])):g.createElement("div",{className:"text-sm text-gray-500 px-3 py-2 text-center"},"No results"))))}const lue={getListStaffApi:()=>bt.get("/staff/list")},$P={listStaff:[]},ug=qs("staff/getListStaff",async n=>await lue.getListStaffApi()),oL=eh({name:"staff",initialState:$P,reducers:{resetStaff:n=>$P},extraReducers:n=>{n.addCase(ug.pending,e=>{}).addCase(ug.fulfilled,(e,t)=>{e.listStaff=t.payload.DT}).addCase(ug.rejected,(e,t)=>{})}}),{resetStaff:w6e}=oL.actions,cue=oL.reducer,uue=()=>{const n=mr(),[e,t]=O.useState(null),{listStaff:r}=Jn(f=>f.staff);O.useEffect(()=>{const f=async()=>{try{let m=await n(ug());m.payload?.EC!==0&&Te.error(m.payload?.EM||"Khng th ti danh sch nhn vin")}catch{Te.error("Li kt ni h thng")}};r.length===0&&f()},[n,r.length]);const i=[{group:"Qun l Sn phm",permissions:["Xem sn phm","Thm mi","Chnh sa","Xa"]},{group:"Qun l n hng",permissions:["Xem n hng","Cp nht trng thi","Hy n"]},{group:"H thng",permissions:["Cu hnh chung","Xem bo co","Qun l nhn s"]}],[s,o]=O.useState(""),[a,l]=O.useState([]),u=f=>{a.includes(f)?l(a.filter(m=>m!==f)):l([...a,f])};return g.createElement("div",{className:"min-h-screen bg-gray-50 p-8 font-sans text-gray-800"},g.createElement("div",{className:"max-w-0xl mx-auto"},g.createElement("div",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4"},g.createElement("div",null,g.createElement("h1",{className:"text-2xl font-bold flex items-center gap-2"},"Phn quyn Nhn vin"),g.createElement("p",{className:"text-gray-500"},"Chn nhn vin  thit lp quyn truy cp h thng")),g.createElement("div",{className:"flex flex-col md:flex-row gap-4"},g.createElement("div",{className:"flex-1 space-y-2"},g.createElement(Vw,{options:r,placeholder:"--- Chn nhn vin ---",labelKey:"userName",valueKey:"id",onChange:f=>t(f.id)})))),s?g.createElement("div",{className:"space-y-6 animate-in fade-in duration-500"},g.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},i.map((f,m)=>g.createElement("div",{key:m,className:"border-b last:border-b-0 border-gray-100 p-6"},g.createElement("h3",{className:"font-semibold text-gray-700 mb-4"},f.group),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},f.permissions.map(p=>g.createElement("label",{key:p,className:`flex items-center p-3 rounded-lg border cursor-pointer transition-all ${a.includes(p)?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-gray-50 border-gray-100 hover:border-gray-300"}`},g.createElement("input",{type:"checkbox",className:"hidden",checked:a.includes(p),onChange:()=>u(p)}),g.createElement("div",{className:`w-5 h-5 rounded border mr-3 flex items-center justify-center ${a.includes(p)?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300"}`},a.includes(p)&&g.createElement(uG,{size:14,className:"text-white"})),g.createElement("span",{className:"text-sm font-medium"},p))))))),g.createElement("div",{className:"flex justify-end gap-3 pt-4"},g.createElement("button",{className:"px-6 py-2 bg-white border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition"},"Hy b"),g.createElement("button",{className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 shadow-md transition"},g.createElement(iw,{size:18}),"Lu quyn hn"))):g.createElement("div",{className:"bg-white rounded-xl border-2 border-dashed border-gray-200 p-20 text-center"},g.createElement("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(zb,{size:32,className:"text-gray-400"})),g.createElement("p",{className:"text-gray-500 font-medium"},"Vui lng chn mt nhn vin t danh sch  bt u thit lp"))))};var V0=n=>n.type==="checkbox",su=n=>n instanceof Date,Ri=n=>n==null;const aL=n=>typeof n=="object";var fr=n=>!Ri(n)&&!Array.isArray(n)&&aL(n)&&!su(n),lL=n=>fr(n)&&n.target?V0(n.target)?n.target.checked:n.target.value:n,due=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,cL=(n,e)=>n.has(due(e)),fue=n=>{const e=n.constructor&&n.constructor.prototype;return fr(e)&&e.hasOwnProperty("isPrototypeOf")},CS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wr(n){if(n instanceof Date)return new Date(n);const e=typeof FileList<"u"&&n instanceof FileList;if(CS&&(n instanceof Blob||e))return n;const t=Array.isArray(n);if(!t&&!(fr(n)&&fue(n)))return n;const r=t?[]:Object.create(Object.getPrototypeOf(n));for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=wr(n[i]));return r}var Uw=n=>/^\w*$/.test(n),Gn=n=>n===void 0,AS=n=>Array.isArray(n)?n.filter(Boolean):[],NS=n=>AS(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(n,e,t)=>{if(!e||!fr(n))return t;const r=(Uw(e)?[e]:NS(e)).reduce((i,s)=>Ri(i)?i:i[s],n);return Gn(r)||r===n?Gn(n[e])?t:n[e]:r},os=n=>typeof n=="boolean",bi=n=>typeof n=="function",Tn=(n,e,t)=>{let r=-1;const i=Uw(e)?[e]:NS(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=t;if(r!==o){const u=n[a];l=fr(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=l,n=n[a]}};const gy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ra={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uL=g.createContext(null);uL.displayName="HookFormContext";const PS=()=>g.useContext(uL);var dL=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==fo.all&&(e._proxyFormState[o]=!r||fo.all),t&&(t[o]=!0),n[o]}});return i};const RS=typeof window<"u"?g.useLayoutEffect:g.useEffect;function hue(n){const e=PS(),{control:t=e.control,disabled:r,name:i,exact:s}=n||{},[o,a]=g.useState(t._formState),l=g.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return RS(()=>t._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!r&&a({...t._formState,...u})}}),[i,r,s]),g.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),g.useMemo(()=>dL(o,t,l.current,!1),[o,t])}var cs=n=>typeof n=="string",ok=(n,e,t,r,i)=>cs(n)?(r&&e.watch.add(n),Qe(t,n,i)):Array.isArray(n)?n.map(s=>(r&&e.watch.add(s),Qe(t,s))):(r&&(e.watchAll=!0),t),ak=n=>Ri(n)||!aL(n);function ho(n,e,t=new WeakSet){if(ak(n)||ak(e))return Object.is(n,e);if(su(n)&&su(e))return n.getTime()===e.getTime();const r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const s of r){const o=n[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(su(o)&&su(a)||fr(o)&&fr(a)||Array.isArray(o)&&Array.isArray(a)?!ho(o,a,t):!Object.is(o,a))return!1}}return!0}function mue(n){const e=PS(),{control:t=e.control,name:r,defaultValue:i,disabled:s,exact:o,compute:a}=n||{},l=g.useRef(i),u=g.useRef(a),f=g.useRef(void 0),m=g.useRef(t),p=g.useRef(r);u.current=a;const[y,v]=g.useState(()=>{const P=t._getWatch(r,l.current);return u.current?u.current(P):P}),w=g.useCallback(P=>{const R=ok(r,t._names,P||t._formValues,!1,l.current);return u.current?u.current(R):R},[t._formValues,t._names,r]),E=g.useCallback(P=>{if(!s){const R=ok(r,t._names,P||t._formValues,!1,l.current);if(u.current){const D=u.current(R);ho(D,f.current)||(v(D),f.current=D)}else v(R)}},[t._formValues,t._names,s,r]);RS(()=>((m.current!==t||!ho(p.current,r))&&(m.current=t,p.current=r,E()),t._subscribe({name:r,formState:{values:!0},exact:o,callback:P=>{E(P.values)}})),[t,o,r,E]),g.useEffect(()=>t._removeUnmounted());const k=m.current!==t,T=p.current,S=g.useMemo(()=>{if(s)return null;const P=!k&&!ho(T,r);return k||P?w():null},[s,k,r,T,w]);return S!==null?S:y}function IS(n){const e=PS(),{name:t,disabled:r,control:i=e.control,shouldUnregister:s,defaultValue:o,exact:a=!0}=n,l=cL(i._names.array,t),u=g.useMemo(()=>Qe(i._formValues,t,Qe(i._defaultValues,t,o)),[i,t,o]),f=mue({control:i,name:t,defaultValue:u,exact:a}),m=hue({control:i,name:t,exact:a}),p=g.useRef(n),y=g.useRef(void 0),v=g.useRef(i.register(t,{...n.rules,value:f,...os(n.disabled)?{disabled:n.disabled}:{}}));p.current=n;const w=g.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(m.errors,t)},isDirty:{enumerable:!0,get:()=>!!Qe(m.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!Qe(m.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!Qe(m.validatingFields,t)},error:{enumerable:!0,get:()=>Qe(m.errors,t)}}),[m,t]),E=g.useCallback(P=>v.current.onChange({target:{value:lL(P),name:t},type:gy.CHANGE}),[t]),k=g.useCallback(()=>v.current.onBlur({target:{value:Qe(i._formValues,t),name:t},type:gy.BLUR}),[t,i._formValues]),T=g.useCallback(P=>{const R=Qe(i._fields,t);R&&R._f&&P&&(R._f.ref={focus:()=>bi(P.focus)&&P.focus(),select:()=>bi(P.select)&&P.select(),setCustomValidity:D=>bi(P.setCustomValidity)&&P.setCustomValidity(D),reportValidity:()=>bi(P.reportValidity)&&P.reportValidity()})},[i._fields,t]),S=g.useMemo(()=>({name:t,value:f,...os(r)||m.disabled?{disabled:m.disabled||r}:{},onChange:E,onBlur:k,ref:T}),[t,r,m.disabled,E,k,T,f]);return g.useEffect(()=>{const P=i._options.shouldUnregister||s,R=y.current;R&&R!==t&&!l&&i.unregister(R),i.register(t,{...p.current.rules,...os(p.current.disabled)?{disabled:p.current.disabled}:{}});const D=(A,F)=>{const V=Qe(i._fields,A);V&&V._f&&(V._f.mount=F)};if(D(t,!0),P){const A=wr(Qe(i._options.defaultValues,t,p.current.defaultValue));Tn(i._defaultValues,t,A),Gn(Qe(i._formValues,t))&&Tn(i._formValues,t,A)}return!l&&i.register(t),y.current=t,()=>{(l?P&&!i._state.action:P)?i.unregister(t):D(t,!1)}},[t,i,l,s]),g.useEffect(()=>{i._setDisabledField({disabled:r,name:t})},[r,t,i]),g.useMemo(()=>({field:S,formState:m,fieldState:w}),[S,m,w])}const Yl=n=>n.render(IS(n));var gue=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},dg=n=>Array.isArray(n)?n:[n],WP=()=>{let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next&&s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}};function fL(n,e){const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r],s=e[r];if(i&&fr(i)&&s){const o=fL(i,s);fr(o)&&(t[r]=o)}else n[r]&&(t[r]=s)}return t}var fi=n=>fr(n)&&!Object.keys(n).length,OS=n=>n.type==="file",py=n=>{if(!CS)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hL=n=>n.type==="select-multiple",MS=n=>n.type==="radio",pue=n=>MS(n)||V0(n),p2=n=>py(n)&&n.isConnected;function bue(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Gn(n)?r++:n[e[r++]];return n}function yue(n){for(const e in n)if(n.hasOwnProperty(e)&&!Gn(n[e]))return!1;return!0}function cr(n,e){const t=Array.isArray(e)?e:Uw(e)?[e]:NS(e),r=t.length===1?n:bue(n,t),i=t.length-1,s=t[i];return r&&delete r[s],i!==0&&(fr(r)&&fi(r)||Array.isArray(r)&&yue(r))&&cr(n,t.slice(0,-1)),n}var wue=n=>{for(const e in n)if(bi(n[e]))return!0;return!1};function mL(n){return Array.isArray(n)||fr(n)&&!wue(n)}function lk(n,e={}){for(const t in n){const r=n[t];mL(r)?(e[t]=Array.isArray(r)?[]:{},lk(r,e[t])):Gn(r)||(e[t]=!0)}return e}function Qd(n,e,t){t||(t=lk(e));for(const r in n){const i=n[r];if(mL(i))Gn(e)||ak(t[r])?t[r]=lk(i,Array.isArray(i)?[]:{}):Qd(i,Ri(e)?{}:e[r],t[r]);else{const s=e[r];t[r]=!ho(i,s)}}return t}const jP={value:!1,isValid:!1},qP={value:!0,isValid:!0};var gL=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Gn(n[0].attributes.value)?Gn(n[0].value)||n[0].value===""?qP:{value:n[0].value,isValid:!0}:qP:jP}return jP},pL=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Gn(n)?n:e?n===""?NaN:n&&+n:t&&cs(n)?new Date(n):r?r(n):n;const GP={isValid:!1,value:null};var bL=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,GP):GP;function YP(n){const e=n.ref;return OS(e)?e.files:MS(e)?bL(n.refs).value:hL(e)?[...e.selectedOptions].map(({value:t})=>t):V0(e)?gL(n.refs).value:pL(Gn(e.value)?n.ref.value:e.value,n)}var vue=(n,e,t,r)=>{const i={};for(const s of n){const o=Qe(e,s);o&&Tn(i,s,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},by=n=>n instanceof RegExp,xm=n=>Gn(n)?n:by(n)?n.source:fr(n)?by(n.value)?n.value.source:n.value:n,KP=n=>({isOnSubmit:!n||n===fo.onSubmit,isOnBlur:n===fo.onBlur,isOnChange:n===fo.onChange,isOnAll:n===fo.all,isOnTouch:n===fo.onTouched});const XP="AsyncFunction";var _ue=n=>!!n&&!!n.validate&&!!(bi(n.validate)&&n.validate.constructor.name===XP||fr(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===XP)),xue=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),JP=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const fg=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const s=Qe(n,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(fg(a,e))break}else if(fr(a)&&fg(a,e))break}}};function QP(n,e,t){const r=Qe(n,t);if(r||Uw(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),o=Qe(e,s),a=Qe(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:t}}var Eue=(n,e,t,r)=>{t(n);const{name:i,...s}=n;return fi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||fo.all))},kue=(n,e,t)=>!n||!e||n===e||dg(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),Tue=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,Sue=(n,e)=>!AS(Qe(n,e)).length&&cr(n,e),Cue=(n,e,t)=>{const r=dg(Qe(n,t));return Tn(r,"root",e[t]),Tn(n,t,r),n};function ZP(n,e,t="validate"){if(cs(n)||Array.isArray(n)&&n.every(cs)||os(n)&&!n)return{type:t,message:cs(n)?n:"",ref:e}}var Dd=n=>fr(n)&&!by(n)?n:{value:n,message:""},eR=async(n,e,t,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:f,min:m,max:p,pattern:y,validate:v,name:w,valueAsNumber:E,mount:k}=n._f,T=Qe(t,w);if(!k||e.has(w))return{};const S=a?a[0]:o,P=N=>{i&&S.reportValidity&&(S.setCustomValidity(os(N)?"":N||""),S.reportValidity())},R={},D=MS(o),A=V0(o),F=D||A,V=(E||OS(o))&&Gn(o.value)&&Gn(T)||py(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,X=gue.bind(null,w,r,R),re=(N,te,be,xe=Ra.maxLength,ne=Ra.minLength)=>{const Ee=N?te:be;R[w]={type:N?xe:ne,message:Ee,ref:o,...X(N?xe:ne,Ee)}};if(s?!Array.isArray(T)||!T.length:l&&(!F&&(V||Ri(T))||os(T)&&!T||A&&!gL(a).isValid||D&&!bL(a).isValid)){const{value:N,message:te}=cs(l)?{value:!!l,message:l}:Dd(l);if(N&&(R[w]={type:Ra.required,message:te,ref:S,...X(Ra.required,te)},!r))return P(te),R}if(!V&&(!Ri(m)||!Ri(p))){let N,te;const be=Dd(p),xe=Dd(m);if(!Ri(T)&&!isNaN(T)){const ne=o.valueAsNumber||T&&+T;Ri(be.value)||(N=ne>be.value),Ri(xe.value)||(te=ne<xe.value)}else{const ne=o.valueAsDate||new Date(T),Ee=j=>new Date(new Date().toDateString()+" "+j),We=o.type=="time",Re=o.type=="week";cs(be.value)&&T&&(N=We?Ee(T)>Ee(be.value):Re?T>be.value:ne>new Date(be.value)),cs(xe.value)&&T&&(te=We?Ee(T)<Ee(xe.value):Re?T<xe.value:ne<new Date(xe.value))}if((N||te)&&(re(!!N,be.message,xe.message,Ra.max,Ra.min),!r))return P(R[w].message),R}if((u||f)&&!V&&(cs(T)||s&&Array.isArray(T))){const N=Dd(u),te=Dd(f),be=!Ri(N.value)&&T.length>+N.value,xe=!Ri(te.value)&&T.length<+te.value;if((be||xe)&&(re(be,N.message,te.message),!r))return P(R[w].message),R}if(y&&!V&&cs(T)){const{value:N,message:te}=Dd(y);if(by(N)&&!T.match(N)&&(R[w]={type:Ra.pattern,message:te,ref:o,...X(Ra.pattern,te)},!r))return P(te),R}if(v){if(bi(v)){const N=await v(T,t),te=ZP(N,S);if(te&&(R[w]={...te,...X(Ra.validate,te.message)},!r))return P(te.message),R}else if(fr(v)){let N={};for(const te in v){if(!fi(N)&&!r)break;const be=ZP(await v[te](T,t),S,te);be&&(N={...be,...X(te,be.message)},P(be.message),r&&(R[w]=N))}if(!fi(N)&&(R[w]={ref:S,...N},!r))return R}}return P(!0),R};const Aue={mode:fo.onSubmit,reValidateMode:fo.onChange,shouldFocusError:!0};function Nue(n={}){let e={...Aue,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:bi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=fr(e.defaultValues)||fr(e.values)?wr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:wr(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={...f};let p={...m};const y={array:WP(),state:WP()},v=e.criteriaMode===fo.all,w=K=>le=>{clearTimeout(u),u=setTimeout(K,le)},E=async K=>{if(!o.keepIsValid&&!e.disabled&&(m.isValid||p.isValid||K)){let le;e.resolver?(le=fi((await F()).errors),k()):le=await X(r,!0),le!==t.isValid&&y.state.next({isValid:le})}},k=(K,le)=>{!e.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((K||Array.from(a.mount)).forEach(ye=>{ye&&(le?Tn(t.validatingFields,ye,le):cr(t.validatingFields,ye))}),y.state.next({validatingFields:t.validatingFields,isValidating:!fi(t.validatingFields)}))},T=(K,le=[],ye,$e,Ve=!0,Oe=!0)=>{if($e&&ye&&!e.disabled){if(o.action=!0,Oe&&Array.isArray(Qe(r,K))){const Ze=ye(Qe(r,K),$e.argA,$e.argB);Ve&&Tn(r,K,Ze)}if(Oe&&Array.isArray(Qe(t.errors,K))){const Ze=ye(Qe(t.errors,K),$e.argA,$e.argB);Ve&&Tn(t.errors,K,Ze),Sue(t.errors,K)}if((m.touchedFields||p.touchedFields)&&Oe&&Array.isArray(Qe(t.touchedFields,K))){const Ze=ye(Qe(t.touchedFields,K),$e.argA,$e.argB);Ve&&Tn(t.touchedFields,K,Ze)}(m.dirtyFields||p.dirtyFields)&&(t.dirtyFields=Qd(i,s)),y.state.next({name:K,isDirty:N(K,le),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Tn(s,K,le)},S=(K,le)=>{Tn(t.errors,K,le),y.state.next({errors:t.errors})},P=K=>{t.errors=K,y.state.next({errors:t.errors,isValid:!1})},R=(K,le,ye,$e)=>{const Ve=Qe(r,K);if(Ve){const Oe=Qe(s,K,Gn(ye)?Qe(i,K):ye);Gn(Oe)||$e&&$e.defaultChecked||le?Tn(s,K,le?Oe:YP(Ve._f)):xe(K,Oe),o.mount&&!o.action&&E()}},D=(K,le,ye,$e,Ve)=>{let Oe=!1,Ze=!1;const mt={name:K};if(!e.disabled){if(!ye||$e){(m.isDirty||p.isDirty)&&(Ze=t.isDirty,t.isDirty=mt.isDirty=N(),Oe=Ze!==mt.isDirty);const yt=ho(Qe(i,K),le);Ze=!!Qe(t.dirtyFields,K),yt?cr(t.dirtyFields,K):Tn(t.dirtyFields,K,!0),mt.dirtyFields=t.dirtyFields,Oe=Oe||(m.dirtyFields||p.dirtyFields)&&Ze!==!yt}if(ye){const yt=Qe(t.touchedFields,K);yt||(Tn(t.touchedFields,K,ye),mt.touchedFields=t.touchedFields,Oe=Oe||(m.touchedFields||p.touchedFields)&&yt!==ye)}Oe&&Ve&&y.state.next(mt)}return Oe?mt:{}},A=(K,le,ye,$e)=>{const Ve=Qe(t.errors,K),Oe=(m.isValid||p.isValid)&&os(le)&&t.isValid!==le;if(e.delayError&&ye?(l=w(()=>S(K,ye)),l(e.delayError)):(clearTimeout(u),l=null,ye?Tn(t.errors,K,ye):cr(t.errors,K)),(ye?!ho(Ve,ye):Ve)||!fi($e)||Oe){const Ze={...$e,...Oe&&os(le)?{isValid:le}:{},errors:t.errors,name:K};t={...t,...Ze},y.state.next(Ze)}},F=async K=>(k(K,!0),await e.resolver(s,e.context,vue(K||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),V=async K=>{const{errors:le}=await F(K);if(k(K),K)for(const ye of K){const $e=Qe(le,ye);$e?Tn(t.errors,ye,$e):cr(t.errors,ye)}else t.errors=le;return le},X=async(K,le,ye={valid:!0})=>{for(const $e in K){const Ve=K[$e];if(Ve){const{_f:Oe,...Ze}=Ve;if(Oe){const mt=a.array.has(Oe.name),yt=Ve._f&&_ue(Ve._f);yt&&m.validatingFields&&k([Oe.name],!0);const Fr=await eR(Ve,a.disabled,s,v,e.shouldUseNativeValidation&&!le,mt);if(yt&&m.validatingFields&&k([Oe.name]),Fr[Oe.name]&&(ye.valid=!1,le))break;!le&&(Qe(Fr,Oe.name)?mt?Cue(t.errors,Fr,Oe.name):Tn(t.errors,Oe.name,Fr[Oe.name]):cr(t.errors,Oe.name))}!fi(Ze)&&await X(Ze,le,ye)}}return ye.valid},re=()=>{for(const K of a.unMount){const le=Qe(r,K);le&&(le._f.refs?le._f.refs.every(ye=>!p2(ye)):!p2(le._f.ref))&&Be(K)}a.unMount=new Set},N=(K,le)=>!e.disabled&&(K&&le&&Tn(s,K,le),!ho(_e(),i)),te=(K,le,ye)=>ok(K,a,{...o.mount?s:Gn(le)?i:cs(K)?{[K]:le}:le},ye,le),be=K=>AS(Qe(o.mount?s:i,K,e.shouldUnregister?Qe(i,K,[]):[])),xe=(K,le,ye={})=>{const $e=Qe(r,K);let Ve=le;if($e){const Oe=$e._f;Oe&&(!Oe.disabled&&Tn(s,K,pL(le,Oe)),Ve=py(Oe.ref)&&Ri(le)?"":le,hL(Oe.ref)?[...Oe.ref.options].forEach(Ze=>Ze.selected=Ve.includes(Ze.value)):Oe.refs?V0(Oe.ref)?Oe.refs.forEach(Ze=>{(!Ze.defaultChecked||!Ze.disabled)&&(Array.isArray(Ve)?Ze.checked=!!Ve.find(mt=>mt===Ze.value):Ze.checked=Ve===Ze.value||!!Ve)}):Oe.refs.forEach(Ze=>Ze.checked=Ze.value===Ve):OS(Oe.ref)?Oe.ref.value="":(Oe.ref.value=Ve,Oe.ref.type||y.state.next({name:K,values:wr(s)})))}(ye.shouldDirty||ye.shouldTouch)&&D(K,Ve,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&j(K)},ne=(K,le,ye)=>{for(const $e in le){if(!le.hasOwnProperty($e))return;const Ve=le[$e],Oe=K+"."+$e,Ze=Qe(r,Oe);(a.array.has(K)||fr(Ve)||Ze&&!Ze._f)&&!su(Ve)?ne(Oe,Ve,ye):xe(Oe,Ve,ye)}},Ee=(K,le,ye={})=>{const $e=Qe(r,K),Ve=a.array.has(K),Oe=wr(le);Tn(s,K,Oe),Ve?(y.array.next({name:K,values:wr(s)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&ye.shouldDirty&&y.state.next({name:K,dirtyFields:Qd(i,s),isDirty:N(K,Oe)})):$e&&!$e._f&&!Ri(Oe)?ne(K,Oe,ye):xe(K,Oe,ye),JP(K,a)&&y.state.next({...t,name:K}),y.state.next({name:o.mount?K:void 0,values:wr(s)})},We=async K=>{o.mount=!0;const le=K.target;let ye=le.name,$e=!0;const Ve=Qe(r,ye),Oe=yt=>{$e=Number.isNaN(yt)||su(yt)&&isNaN(yt.getTime())||ho(yt,Qe(s,ye,yt))},Ze=KP(e.mode),mt=KP(e.reValidateMode);if(Ve){let yt,Fr;const ha=le.type?YP(Ve._f):lL(K),Gi=K.type===gy.BLUR||K.type===gy.FOCUS_OUT,ma=!xue(Ve._f)&&!e.resolver&&!Qe(t.errors,ye)&&!Ve._f.deps||Tue(Gi,Qe(t.touchedFields,ye),t.isSubmitted,mt,Ze),Qs=JP(ye,a,Gi);Tn(s,ye,ha),Gi?(!le||!le.readOnly)&&(Ve._f.onBlur&&Ve._f.onBlur(K),l&&l(0)):Ve._f.onChange&&Ve._f.onChange(K);const Ti=D(ye,ha,Gi),yl=!fi(Ti)||Qs;if(!Gi&&y.state.next({name:ye,type:K.type,values:wr(s)}),ma)return(m.isValid||p.isValid)&&(e.mode==="onBlur"?Gi&&E():Gi||E()),yl&&y.state.next({name:ye,...Qs?{}:Ti});if(!Gi&&Qs&&y.state.next({...t}),e.resolver){const{errors:Oo}=await F([ye]);if(k([ye]),Oe(ha),$e){const Xu=QP(t.errors,r,ye),wl=QP(Oo,r,Xu.name||ye);yt=wl.error,ye=wl.name,Fr=fi(Oo)}}else k([ye],!0),yt=(await eR(Ve,a.disabled,s,v,e.shouldUseNativeValidation))[ye],k([ye]),Oe(ha),$e&&(yt?Fr=!1:(m.isValid||p.isValid)&&(Fr=await X(r,!0)));$e&&(Ve._f.deps&&(!Array.isArray(Ve._f.deps)||Ve._f.deps.length>0)&&j(Ve._f.deps),A(ye,Fr,yt,Ti))}},Re=(K,le)=>{if(Qe(t.errors,le)&&K.focus)return K.focus(),1},j=async(K,le={})=>{let ye,$e;const Ve=dg(K);if(e.resolver){const Oe=await V(Gn(K)?K:Ve);ye=fi(Oe),$e=K?!Ve.some(Ze=>Qe(Oe,Ze)):ye}else K?($e=(await Promise.all(Ve.map(async Oe=>{const Ze=Qe(r,Oe);return await X(Ze&&Ze._f?{[Oe]:Ze}:Ze)}))).every(Boolean),!(!$e&&!t.isValid)&&E()):$e=ye=await X(r);return y.state.next({...!cs(K)||(m.isValid||p.isValid)&&ye!==t.isValid?{}:{name:K},...e.resolver||!K?{isValid:ye}:{},errors:t.errors}),le.shouldFocus&&!$e&&fg(r,Re,K?Ve:a.mount),$e},_e=(K,le)=>{let ye={...o.mount?s:i};return le&&(ye=fL(le.dirtyFields?t.dirtyFields:t.touchedFields,ye)),Gn(K)?ye:cs(K)?Qe(ye,K):K.map($e=>Qe(ye,$e))},U=(K,le)=>({invalid:!!Qe((le||t).errors,K),isDirty:!!Qe((le||t).dirtyFields,K),error:Qe((le||t).errors,K),isValidating:!!Qe(t.validatingFields,K),isTouched:!!Qe((le||t).touchedFields,K)}),Q=K=>{K&&dg(K).forEach(le=>cr(t.errors,le)),y.state.next({errors:K?t.errors:{}})},Y=(K,le,ye)=>{const $e=(Qe(r,K,{_f:{}})._f||{}).ref,Ve=Qe(t.errors,K)||{},{ref:Oe,message:Ze,type:mt,...yt}=Ve;Tn(t.errors,K,{...yt,...le,ref:$e}),y.state.next({name:K,errors:t.errors,isValid:!1}),ye&&ye.shouldFocus&&$e&&$e.focus&&$e.focus()},J=(K,le)=>bi(K)?y.state.subscribe({next:ye=>"values"in ye&&K(te(void 0,le),ye)}):te(K,le,!0),ue=K=>y.state.subscribe({next:le=>{kue(K.name,le.name,K.exact)&&Eue(le,K.formState||m,Qr,K.reRenderRoot)&&K.callback({values:{...s},...t,...le,defaultValues:i})}}).unsubscribe,Ye=K=>(o.mount=!0,p={...p,...K.formState},ue({...K,formState:{...f,...K.formState}})),Be=(K,le={})=>{for(const ye of K?dg(K):a.mount)a.mount.delete(ye),a.array.delete(ye),le.keepValue||(cr(r,ye),cr(s,ye)),!le.keepError&&cr(t.errors,ye),!le.keepDirty&&cr(t.dirtyFields,ye),!le.keepTouched&&cr(t.touchedFields,ye),!le.keepIsValidating&&cr(t.validatingFields,ye),!e.shouldUnregister&&!le.keepDefaultValue&&cr(i,ye);y.state.next({values:wr(s)}),y.state.next({...t,...le.keepDirty?{isDirty:N()}:{}}),!le.keepIsValid&&E()},Je=({disabled:K,name:le})=>{(os(K)&&o.mount||K||a.disabled.has(le))&&(K?a.disabled.add(le):a.disabled.delete(le))},je=(K,le={})=>{let ye=Qe(r,K);const $e=os(le.disabled)||os(e.disabled);return Tn(r,K,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:K}},name:K,mount:!0,...le}}),a.mount.add(K),ye?Je({disabled:os(le.disabled)?le.disabled:e.disabled,name:K}):R(K,!0,le.value),{...$e?{disabled:le.disabled||e.disabled}:{},...e.progressive?{required:!!le.required,min:xm(le.min),max:xm(le.max),minLength:xm(le.minLength),maxLength:xm(le.maxLength),pattern:xm(le.pattern)}:{},name:K,onChange:We,onBlur:We,ref:Ve=>{if(Ve){je(K,le),ye=Qe(r,K);const Oe=Gn(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,Ze=pue(Oe),mt=ye._f.refs||[];if(Ze?mt.find(yt=>yt===Oe):Oe===ye._f.ref)return;Tn(r,K,{_f:{...ye._f,...Ze?{refs:[...mt.filter(p2),Oe,...Array.isArray(Qe(i,K))?[{}]:[]],ref:{type:Oe.type,name:K}}:{ref:Oe}}}),R(K,!1,void 0,Oe)}else ye=Qe(r,K,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||le.shouldUnregister)&&!(cL(a.array,K)&&o.action)&&a.unMount.add(K)}}},Nt=()=>e.shouldFocusError&&fg(r,Re,a.mount),kt=K=>{os(K)&&(y.state.next({disabled:K}),fg(r,(le,ye)=>{const $e=Qe(r,ye);$e&&(le.disabled=$e._f.disabled||K,Array.isArray($e._f.refs)&&$e._f.refs.forEach(Ve=>{Ve.disabled=$e._f.disabled||K}))},0,!1))},Un=(K,le)=>async ye=>{let $e;ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let Ve=wr(s);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:Oe,values:Ze}=await F();k(),t.errors=Oe,Ve=wr(Ze)}else await X(r);if(a.disabled.size)for(const Oe of a.disabled)cr(Ve,Oe);if(cr(t.errors,"root"),fi(t.errors)){y.state.next({errors:{}});try{await K(Ve,ye)}catch(Oe){$e=Oe}}else le&&await le({...t.errors},ye),Nt(),setTimeout(Nt);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fi(t.errors)&&!$e,submitCount:t.submitCount+1,errors:t.errors}),$e)throw $e},Pt=(K,le={})=>{Qe(r,K)&&(Gn(le.defaultValue)?Ee(K,wr(Qe(i,K))):(Ee(K,le.defaultValue),Tn(i,K,wr(le.defaultValue))),le.keepTouched||cr(t.touchedFields,K),le.keepDirty||(cr(t.dirtyFields,K),t.isDirty=le.defaultValue?N(K,wr(Qe(i,K))):N()),le.keepError||(cr(t.errors,K),m.isValid&&E()),y.state.next({...t}))},ki=(K,le={})=>{const ye=K?wr(K):i,$e=wr(ye),Ve=fi(K),Oe=Ve?i:$e;if(le.keepDefaultValues||(i=ye),!le.keepValues){if(le.keepDirtyValues){const Ze=new Set([...a.mount,...Object.keys(Qd(i,s))]);for(const mt of Array.from(Ze))Qe(t.dirtyFields,mt)?Tn(Oe,mt,Qe(s,mt)):Ee(mt,Qe(Oe,mt))}else{if(CS&&Gn(K))for(const Ze of a.mount){const mt=Qe(r,Ze);if(mt&&mt._f){const yt=Array.isArray(mt._f.refs)?mt._f.refs[0]:mt._f.ref;if(py(yt)){const Fr=yt.closest("form");if(Fr){Fr.reset();break}}}}if(le.keepFieldsRef)for(const Ze of a.mount)Ee(Ze,Qe(Oe,Ze));else r={}}s=e.shouldUnregister?le.keepDefaultValues?wr(i):{}:wr(Oe),y.array.next({values:{...Oe}}),y.state.next({values:{...Oe}})}a={mount:le.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!le.keepIsValid||!!le.keepDirtyValues||!e.shouldUnregister&&!fi(Oe),o.watch=!!e.shouldUnregister,o.keepIsValid=!!le.keepIsValid,o.action=!1,le.keepErrors||(t.errors={}),y.state.next({submitCount:le.keepSubmitCount?t.submitCount:0,isDirty:Ve?!1:le.keepDirty?t.isDirty:!!(le.keepDefaultValues&&!ho(K,i)),isSubmitted:le.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:Ve?{}:le.keepDirtyValues?le.keepDefaultValues&&s?Qd(i,s):t.dirtyFields:le.keepDefaultValues&&K?Qd(i,K):le.keepDirty?t.dirtyFields:{},touchedFields:le.keepTouched?t.touchedFields:{},errors:le.keepErrors?t.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},wn=(K,le)=>ki(bi(K)?K(s):K,{...e.resetOptions,...le}),Ge=(K,le={})=>{const ye=Qe(r,K),$e=ye&&ye._f;if($e){const Ve=$e.refs?$e.refs[0]:$e.ref;Ve.focus&&setTimeout(()=>{Ve.focus(),le.shouldSelect&&bi(Ve.select)&&Ve.select()})}},Qr=K=>{t={...t,...K}},qi={control:{register:je,unregister:Be,getFieldState:U,handleSubmit:Un,setError:Y,_subscribe:ue,_runSchema:F,_updateIsValidating:k,_focusError:Nt,_getWatch:te,_getDirty:N,_setValid:E,_setFieldArray:T,_setDisabledField:Je,_setErrors:P,_getFieldArray:be,_reset:ki,_resetDefaultValues:()=>bi(e.defaultValues)&&e.defaultValues().then(K=>{wn(K,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:kt,_subjects:y,_proxyFormState:m,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(K){o=K},get _defaultValues(){return i},get _names(){return a},set _names(K){a=K},get _formState(){return t},get _options(){return e},set _options(K){e={...e,...K}}},subscribe:Ye,trigger:j,register:je,handleSubmit:Un,watch:J,setValue:Ee,getValues:_e,reset:wn,resetField:Pt,clearErrors:Q,unregister:Be,setError:Y,setFocus:Ge,getFieldState:U};return{...qi,formControl:qi}}function yL(n={}){const e=g.useRef(void 0),t=g.useRef(void 0),[r,i]=g.useState({isDirty:!1,isValidating:!1,isLoading:bi(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:bi(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!bi(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:o,...a}=Nue(n);e.current={...a,formState:r}}const s=e.current.control;return s._options=n,RS(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),g.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),g.useEffect(()=>{n.mode&&(s._options.mode=n.mode),n.reValidateMode&&(s._options.reValidateMode=n.reValidateMode)},[s,n.mode,n.reValidateMode]),g.useEffect(()=>{n.errors&&(s._setErrors(n.errors),s._focusError())},[s,n.errors]),g.useEffect(()=>{n.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,n.shouldUnregister]),g.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),g.useEffect(()=>{var o;n.values&&!ho(n.values,t.current)?(s._reset(n.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((o=s._options.resetOptions)===null||o===void 0)&&o.keepIsValid||s._setValid(),t.current=n.values,i(a=>({...a}))):s._resetDefaultValues()},[s,n.values]),g.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=dL(r,s),e.current}var b2={exports:{}},y2,tR;function Pue(){if(tR)return y2;tR=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return y2=n,y2}var w2,nR;function Rue(){if(nR)return w2;nR=1;var n=Pue();function e(){}function t(){}return t.resetWarningCache=e,w2=function(){function r(o,a,l,u,f,m){if(m!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},w2}var rR;function Iue(){return rR||(rR=1,b2.exports=Rue()()),b2.exports}var Oue=Iue();const Os=pT(Oue);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Mue(){const n={resolve:null,promise:null};return n.promise=new Promise(e=>{n.resolve=e}),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Due(n){let e=null;return(...t)=>(e||(e={current:n(...t)}),e.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ti=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function Fue(){const[n,e,t,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+ti[n>>0&255]+ti[n>>8&255]+ti[n>>16&255]+ti[n>>24&255]+ti[e>>0&255]+ti[e>>8&255]+ti[e>>16&255]+ti[e>>24&255]+ti[t>>0&255]+ti[t>>8&255]+ti[t>>16&255]+ti[t>>24&255]+ti[r>>0&255]+ti[r>>8&255]+ti[r>>16&255]+ti[r>>24&255]}var Lue=Object.defineProperty,Bue=(n,e,t)=>e in n?Lue(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gi=(n,e,t)=>Bue(n,typeof e!="symbol"?e+"":e,t);/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const wL=class vL{constructor(e,t){gi(this,"_lifecycle"),gi(this,"_element"),gi(this,"_releaseLock",null),gi(this,"_value",null),gi(this,"_afterMountCallbacks",[]),gi(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),gi(this,"release",Due(()=>{const{_releaseLock:r,_state:i,_element:s,_lifecycle:o}=this;i.mountingInProgress?i.mountingInProgress.then(()=>o.unmount({element:s,mountResult:this.value})).catch(a=>{console.error("Semaphore unmounting error:",a)}).then(r.resolve).then(()=>{this._value=null}):(i.destroyedBeforeInitialization=!0,r.resolve())})),this._element=e,this._lifecycle=t,this._lock()}get value(){return this._value}unsafeSetValue(e){this._value=e,this._afterMountCallbacks.forEach(t=>t(e)),this._afterMountCallbacks=[]}runAfterMount(e){const{_value:t,_afterMountCallbacks:r}=this;t?e(t):r.push(e)}_lock(){const{_semaphores:e}=vL,{_state:t,_element:r,_lifecycle:i}=this,s=e.get(r)||Promise.resolve(null),o=Mue();this._releaseLock=o;const a=s.then(()=>t.destroyedBeforeInitialization?Promise.resolve(void 0):(t.mountingInProgress=i.mount().then(l=>(l&&this.unsafeSetValue(l),l)),t.mountingInProgress)).then(async l=>{l&&i.afterMount&&await i.afterMount({element:r,mountResult:l})}).then(()=>o.promise).catch(l=>{console.error("Semaphore mounting error:",l)}).then(()=>{e.get(r)===a&&e.delete(r)});e.set(r,a)}};gi(wL,"_semaphores",new Map);let Vue=wL;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Uue="$__CKEditorReactContextMetadata";function zue(n,e){return{...e,[Uue]:n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Hue=g.createContext(null),$ue=n=>!!n&&typeof n=="object"&&"status"in n&&["initializing","initialized","error"].includes(n.status),_L=n=>e=>$ue(e)&&e.status===n,iR=_L("initializing"),Wue=n=>_L("initialized")(n)&&n.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const v2="Lock from React integration (@ckeditor/ckeditor5-react)";class DS extends g.Component{constructor(e){super(e),gi(this,"domContainer",g.createRef()),gi(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[t]=e.split(".").map(Number);t>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:e}=this;return e?e.value:null}get watchdog(){const{_semaphoreValue:e}=this;return e?e.watchdog:null}get editor(){const{_semaphoreValue:e}=this;return e?e.instance:null}shouldComponentUpdate(e){const{props:t,editorSemaphore:r}=this;return e.id!==t.id||e.disableWatchdog!==t.disableWatchdog?!0:(r&&(r.runAfterMount(({instance:i})=>{this._shouldUpdateEditorData(t,e,i)&&i.data.set(e.data)}),"disabled"in e&&r.runAfterMount(({instance:i})=>{e.disabled?i.enableReadOnlyMode(v2):i.disableReadOnlyMode(v2)})),!1)}componentDidMount(){iR(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){iR(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new Vue(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:e})=>{const{onReady:t}=this.props;t&&this.domContainer.current!==null&&t(e.instance)},unmount:async({element:e,mountResult:t})=>{const{onAfterDestroy:r}=this.props;try{await this._destroyEditor(t),e.innerHTML=""}finally{r&&r(t.instance)}}})}render(){return g.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const e=Wue(this.context)?new jue(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),t={current:0};return e.setCreator(async(r,i)=>{var s;const{editorSemaphore:o}=this,{onAfterDestroy:a}=this.props;t.current>0&&a&&((s=o?.value)!=null&&s.instance)&&a(o.value.instance);const l=await this._createEditor(r,i);return o&&t.current>0&&(o.unsafeSetValue({instance:l,watchdog:e}),setTimeout(()=>{this.props.onReady&&this.props.onReady(e.editor)})),t.current++,l}),e.on("error",(r,{error:i,causesRestart:s})=>{(this.props.onError||console.error)(i,{phase:"runtime",willEditorRestart:s})}),await e.create(this.domContainer.current,this._getConfig()).catch(r=>{(this.props.onError||console.error)(r,{phase:"initialization",willEditorRestart:!1})}),{watchdog:e,instance:e.editor}}_createEditor(e,t){const{contextItemMetadata:r}=this.props;return r&&(t=zue(r,t)),this.props.editor.create(e,t).then(i=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&i.enableReadOnlyMode(v2)}const s=i.model.document,o=i.editing.view.document;return s.on("change:data",a=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(a,i)}),o.on("focus",a=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(a,i)}),o.on("blur",a=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(a,i)}),i})}async _destroyEditor(e){const{watchdog:t,instance:r}=e;return new Promise((i,s)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(t)return await t.destroy(),i();if(r)return await r.destroy(),i();i()}catch(o){console.error(o),s(o)}})})}_shouldUpdateEditorData(e,t,r){return!(e.data===t.data||r.data.get()===t.data)}_getConfig(){const e=this.props.config||{};return this.props.data&&e.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...e,initialData:e.initialData||this.props.data||""}}}gi(DS,"contextType",Hue);gi(DS,"propTypes",{editor:Os.func.isRequired,data:Os.string,config:Os.object,disableWatchdog:Os.bool,watchdogConfig:Os.object,onChange:Os.func,onReady:Os.func,onFocus:Os.func,onBlur:Os.func,onError:Os.func,disabled:Os.bool,id:Os.any});class jue{constructor(e){gi(this,"_contextWatchdog"),gi(this,"_id"),gi(this,"_creator"),this._contextWatchdog=e,this._id=Fue()}setCreator(e){this._creator=e}create(e,t){return this._contextWatchdog.add({sourceElementOrData:e,config:t,creator:this._creator,id:this._id,type:"editor"})}on(e,t){this._contextWatchdog.on("itemError",(r,{itemId:i,error:s})=>{i===this._id&&t(null,{error:s,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function xL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}const que=O.memo(O.forwardRef(({id:n,semaphore:e,rootName:t},r)=>{const i=O.useRef(null);return O.useEffect(()=>{let s,o;return e.runAfterMount(({instance:a})=>{if(!i.current)return;o=a;const{ui:l,model:u}=o,f=u.document.getRoot(t);f&&o.ui.getEditableElement(t)&&o.detachEditable(f),s=l.view.createEditable(t,i.current),l.addEditable(s),a.editing.view.forceRender()}),()=>{if(o&&o.state!=="destroyed"&&i.current){const a=o.model.document.getRoot(t);/* istanbul ignore else -- @preserve */a&&o.detachEditable(a)}}},[e.revision]),g.createElement("div",{key:e.revision,id:n,ref:xL(r,i)})}));que.displayName="EditorEditable";const Gue=O.forwardRef(({editor:n},e)=>{const t=O.useRef(null);return O.useEffect(()=>{const r=t.current;if(!n||!r)return;const i=n.ui.view.toolbar.element;return r.appendChild(i),()=>{r.contains(i)&&r.removeChild(i)}},[n&&n.id]),g.createElement("div",{ref:xL(t,e)})});Gue.displayName="EditorToolbarWrapper";const Gg={black:"#000",white:"#fff"},Fd={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ld={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Bd={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Vd={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ud={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Em={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Yue={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Tu(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const EL="$$material";function ck(){return ck=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ck.apply(null,arguments)}function Kue(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Xue(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Jue=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Xue(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Kue(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ri="-ms-",yy="-moz-",$t="-webkit-",kL="comm",FS="rule",LS="decl",Que="@import",TL="@keyframes",Zue="@layer",ede=Math.abs,zw=String.fromCharCode,tde=Object.assign;function nde(n,e){return $r(n,0)^45?(((e<<2^$r(n,0))<<2^$r(n,1))<<2^$r(n,2))<<2^$r(n,3):0}function SL(n){return n.trim()}function rde(n,e){return(n=e.exec(n))?n[0]:n}function Wt(n,e,t){return n.replace(e,t)}function uk(n,e){return n.indexOf(e)}function $r(n,e){return n.charCodeAt(e)|0}function Yg(n,e,t){return n.slice(e,t)}function Yo(n){return n.length}function BS(n){return n.length}function I1(n,e){return e.push(n),n}function ide(n,e){return n.map(e).join("")}var Hw=1,Vf=1,CL=0,Wi=0,ur=0,uh="";function $w(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Hw,column:Vf,length:o,return:""}}function km(n,e){return tde($w("",null,null,"",null,null,0),n,{length:-n.length},e)}function sde(){return ur}function ode(){return ur=Wi>0?$r(uh,--Wi):0,Vf--,ur===10&&(Vf=1,Hw--),ur}function gs(){return ur=Wi<CL?$r(uh,Wi++):0,Vf++,ur===10&&(Vf=1,Hw++),ur}function Qo(){return $r(uh,Wi)}function xb(){return Wi}function U0(n,e){return Yg(uh,n,e)}function Kg(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AL(n){return Hw=Vf=1,CL=Yo(uh=n),Wi=0,[]}function NL(n){return uh="",n}function Eb(n){return SL(U0(Wi-1,dk(n===91?n+2:n===40?n+1:n)))}function ade(n){for(;(ur=Qo())&&ur<33;)gs();return Kg(n)>2||Kg(ur)>3?"":" "}function lde(n,e){for(;--e&&gs()&&!(ur<48||ur>102||ur>57&&ur<65||ur>70&&ur<97););return U0(n,xb()+(e<6&&Qo()==32&&gs()==32))}function dk(n){for(;gs();)switch(ur){case n:return Wi;case 34:case 39:n!==34&&n!==39&&dk(ur);break;case 40:n===41&&dk(n);break;case 92:gs();break}return Wi}function cde(n,e){for(;gs()&&n+ur!==57;)if(n+ur===84&&Qo()===47)break;return"/*"+U0(e,Wi-1)+"*"+zw(n===47?n:gs())}function ude(n){for(;!Kg(Qo());)gs();return U0(n,Wi)}function dde(n){return NL(kb("",null,null,null,[""],n=AL(n),0,[0],n))}function kb(n,e,t,r,i,s,o,a,l){for(var u=0,f=0,m=o,p=0,y=0,v=0,w=1,E=1,k=1,T=0,S="",P=i,R=s,D=r,A=S;E;)switch(v=T,T=gs()){case 40:if(v!=108&&$r(A,m-1)==58){uk(A+=Wt(Eb(T),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:A+=Eb(T);break;case 9:case 10:case 13:case 32:A+=ade(v);break;case 92:A+=lde(xb()-1,7);continue;case 47:switch(Qo()){case 42:case 47:I1(fde(cde(gs(),xb()),e,t),l);break;default:A+="/"}break;case 123*w:a[u++]=Yo(A)*k;case 125*w:case 59:case 0:switch(T){case 0:case 125:E=0;case 59+f:k==-1&&(A=Wt(A,/\f/g,"")),y>0&&Yo(A)-m&&I1(y>32?oR(A+";",r,t,m-1):oR(Wt(A," ","")+";",r,t,m-2),l);break;case 59:A+=";";default:if(I1(D=sR(A,e,t,u,f,i,a,S,P=[],R=[],m),s),T===123)if(f===0)kb(A,e,D,D,P,s,m,a,R);else switch(p===99&&$r(A,3)===110?100:p){case 100:case 108:case 109:case 115:kb(n,D,D,r&&I1(sR(n,D,D,0,0,i,a,S,i,P=[],m),R),i,R,m,a,r?P:R);break;default:kb(A,D,D,D,[""],R,0,a,R)}}u=f=y=0,w=k=1,S=A="",m=o;break;case 58:m=1+Yo(A),y=v;default:if(w<1){if(T==123)--w;else if(T==125&&w++==0&&ode()==125)continue}switch(A+=zw(T),T*w){case 38:k=f>0?1:(A+="\f",-1);break;case 44:a[u++]=(Yo(A)-1)*k,k=1;break;case 64:Qo()===45&&(A+=Eb(gs())),p=Qo(),f=m=Yo(S=A+=ude(xb())),T++;break;case 45:v===45&&Yo(A)==2&&(w=0)}}return s}function sR(n,e,t,r,i,s,o,a,l,u,f){for(var m=i-1,p=i===0?s:[""],y=BS(p),v=0,w=0,E=0;v<r;++v)for(var k=0,T=Yg(n,m+1,m=ede(w=o[v])),S=n;k<y;++k)(S=SL(w>0?p[k]+" "+T:Wt(T,/&\f/g,p[k])))&&(l[E++]=S);return $w(n,e,t,i===0?FS:a,l,u,f)}function fde(n,e,t){return $w(n,e,t,kL,zw(sde()),Yg(n,2,-2),0)}function oR(n,e,t,r){return $w(n,e,t,LS,Yg(n,0,r),Yg(n,r+1,-1),r)}function Af(n,e){for(var t="",r=BS(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function hde(n,e,t,r){switch(n.type){case Zue:if(n.children.length)break;case Que:case LS:return n.return=n.return||n.value;case kL:return"";case TL:return n.return=n.value+"{"+Af(n.children,r)+"}";case FS:n.value=n.props.join(",")}return Yo(t=Af(n.children,r))?n.return=n.value+"{"+t+"}":""}function mde(n){var e=BS(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function gde(n){return function(e){e.root||(e=e.return)&&n(e)}}function PL(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var pde=function(e,t,r){for(var i=0,s=0;i=s,s=Qo(),i===38&&s===12&&(t[r]=1),!Kg(s);)gs();return U0(e,Wi)},bde=function(e,t){var r=-1,i=44;do switch(Kg(i)){case 0:i===38&&Qo()===12&&(t[r]=1),e[r]+=pde(Wi-1,t,r);break;case 2:e[r]+=Eb(i);break;case 4:if(i===44){e[++r]=Qo()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=zw(i)}while(i=gs());return e},yde=function(e,t){return NL(bde(AL(e),t))},aR=new WeakMap,wde=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!aR.get(r))&&!i){aR.set(e,!0);for(var s=[],o=yde(t,s),a=r.props,l=0,u=0;l<o.length;l++)for(var f=0;f<a.length;f++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[f]):a[f]+" "+o[l]}}},vde=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function RL(n,e){switch(nde(n,e)){case 5103:return $t+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $t+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return $t+n+yy+n+ri+n+n;case 6828:case 4268:return $t+n+ri+n+n;case 6165:return $t+n+ri+"flex-"+n+n;case 5187:return $t+n+Wt(n,/(\w+).+(:[^]+)/,$t+"box-$1$2"+ri+"flex-$1$2")+n;case 5443:return $t+n+ri+"flex-item-"+Wt(n,/flex-|-self/,"")+n;case 4675:return $t+n+ri+"flex-line-pack"+Wt(n,/align-content|flex-|-self/,"")+n;case 5548:return $t+n+ri+Wt(n,"shrink","negative")+n;case 5292:return $t+n+ri+Wt(n,"basis","preferred-size")+n;case 6060:return $t+"box-"+Wt(n,"-grow","")+$t+n+ri+Wt(n,"grow","positive")+n;case 4554:return $t+Wt(n,/([^-])(transform)/g,"$1"+$t+"$2")+n;case 6187:return Wt(Wt(Wt(n,/(zoom-|grab)/,$t+"$1"),/(image-set)/,$t+"$1"),n,"")+n;case 5495:case 3959:return Wt(n,/(image-set\([^]*)/,$t+"$1$`$1");case 4968:return Wt(Wt(n,/(.+:)(flex-)?(.*)/,$t+"box-pack:$3"+ri+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$t+n+n;case 4095:case 3583:case 4068:case 2532:return Wt(n,/(.+)-inline(.+)/,$t+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yo(n)-1-e>6)switch($r(n,e+1)){case 109:if($r(n,e+4)!==45)break;case 102:return Wt(n,/(.+:)(.+)-([^]+)/,"$1"+$t+"$2-$3$1"+yy+($r(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~uk(n,"stretch")?RL(Wt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if($r(n,e+1)!==115)break;case 6444:switch($r(n,Yo(n)-3-(~uk(n,"!important")&&10))){case 107:return Wt(n,":",":"+$t)+n;case 101:return Wt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$t+($r(n,14)===45?"inline-":"")+"box$3$1"+$t+"$2$3$1"+ri+"$2box$3")+n}break;case 5936:switch($r(n,e+11)){case 114:return $t+n+ri+Wt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return $t+n+ri+Wt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return $t+n+ri+Wt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return $t+n+ri+n+n}return n}var _de=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case LS:e.return=RL(e.value,e.length);break;case TL:return Af([km(e,{value:Wt(e.value,"@","@"+$t)})],i);case FS:if(e.length)return ide(e.props,function(s){switch(rde(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Af([km(e,{props:[Wt(s,/:(read-\w+)/,":"+yy+"$1")]})],i);case"::placeholder":return Af([km(e,{props:[Wt(s,/:(plac\w+)/,":"+$t+"input-$1")]}),km(e,{props:[Wt(s,/:(plac\w+)/,":"+yy+"$1")]}),km(e,{props:[Wt(s,/:(plac\w+)/,ri+"input-$1")]})],i)}return""})}},xde=[_de],Ede=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var E=w.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||xde,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(w){for(var E=w.getAttribute("data-emotion").split(" "),k=1;k<E.length;k++)s[E[k]]=!0;a.push(w)});var l,u=[wde,vde];{var f,m=[hde,gde(function(w){f.insert(w)})],p=mde(u.concat(i,m)),y=function(E){return Af(dde(E),p)};l=function(E,k,T,S){f=T,y(E?E+"{"+k.styles+"}":k.styles),S&&(v.inserted[k.name]=!0)}}var v={key:t,sheet:new Jue({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},_2={exports:{}},Kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR;function kde(){if(lR)return Kt;lR=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,a=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,E=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function S(R){if(typeof R=="object"&&R!==null){var D=R.$$typeof;switch(D){case e:switch(R=R.type,R){case l:case u:case r:case s:case i:case m:return R;default:switch(R=R&&R.$$typeof,R){case a:case f:case v:case y:case o:return R;default:return D}}case t:return D}}}function P(R){return S(R)===u}return Kt.AsyncMode=l,Kt.ConcurrentMode=u,Kt.ContextConsumer=a,Kt.ContextProvider=o,Kt.Element=e,Kt.ForwardRef=f,Kt.Fragment=r,Kt.Lazy=v,Kt.Memo=y,Kt.Portal=t,Kt.Profiler=s,Kt.StrictMode=i,Kt.Suspense=m,Kt.isAsyncMode=function(R){return P(R)||S(R)===l},Kt.isConcurrentMode=P,Kt.isContextConsumer=function(R){return S(R)===a},Kt.isContextProvider=function(R){return S(R)===o},Kt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Kt.isForwardRef=function(R){return S(R)===f},Kt.isFragment=function(R){return S(R)===r},Kt.isLazy=function(R){return S(R)===v},Kt.isMemo=function(R){return S(R)===y},Kt.isPortal=function(R){return S(R)===t},Kt.isProfiler=function(R){return S(R)===s},Kt.isStrictMode=function(R){return S(R)===i},Kt.isSuspense=function(R){return S(R)===m},Kt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===u||R===s||R===i||R===m||R===p||typeof R=="object"&&R!==null&&(R.$$typeof===v||R.$$typeof===y||R.$$typeof===o||R.$$typeof===a||R.$$typeof===f||R.$$typeof===E||R.$$typeof===k||R.$$typeof===T||R.$$typeof===w)},Kt.typeOf=S,Kt}var cR;function Tde(){return cR||(cR=1,_2.exports=kde()),_2.exports}var x2,uR;function Sde(){if(uR)return x2;uR=1;var n=Tde(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function o(v){return n.isMemo(v)?i:s[v.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;function y(v,w,E){if(typeof w!="string"){if(p){var k=m(w);k&&k!==p&&y(v,k,E)}var T=l(w);u&&(T=T.concat(u(w)));for(var S=o(v),P=o(w),R=0;R<T.length;++R){var D=T[R];if(!t[D]&&!(E&&E[D])&&!(P&&P[D])&&!(S&&S[D])){var A=f(w,D);try{a(v,D,A)}catch{}}}}return v}return x2=y,x2}Sde();var Cde=!0;function IL(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var VS=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Cde===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},OL=function(e,t,r){VS(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Ade(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Nde={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pde=/[A-Z]|^ms/g,Rde=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ML=function(e){return e.charCodeAt(1)===45},dR=function(e){return e!=null&&typeof e!="boolean"},E2=PL(function(n){return ML(n)?n:n.replace(Pde,"-$&").toLowerCase()}),fR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Rde,function(r,i,s){return Ko={name:i,styles:s,next:Ko},i})}return Nde[e]!==1&&!ML(e)&&typeof t=="number"&&t!==0?t+"px":t};function Xg(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ko={name:i.name,styles:i.styles,next:Ko},i.name;var s=t;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Ko={name:o.name,styles:o.styles,next:Ko},o=o.next;var a=s.styles+";";return a}return Ide(n,e,t)}case"function":{if(n!==void 0){var l=Ko,u=t(n);return Ko=l,Xg(n,e,u)}break}}var f=t;if(e==null)return f;var m=e[f];return m!==void 0?m:f}function Ide(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Xg(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":dR(a)&&(r+=E2(s)+":"+fR(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)dR(o[l])&&(r+=E2(s)+":"+fR(s,o[l])+";");else{var u=Xg(n,e,o);switch(s){case"animation":case"animationName":{r+=E2(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var hR=/label:\s*([^\s;{]+)\s*(;|$)/g,Ko;function Ww(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ko=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Xg(t,e,s);else{var o=s;i+=o[0]}for(var a=1;a<n.length;a++)if(i+=Xg(t,e,n[a]),r){var l=s;i+=l[a]}hR.lastIndex=0;for(var u="",f;(f=hR.exec(i))!==null;)u+="-"+f[1];var m=Ade(i)+u;return{name:m,styles:i,next:Ko}}var Ode=function(e){return e()},Mde=Z3.useInsertionEffect?Z3.useInsertionEffect:!1,DL=Mde||Ode,FL=O.createContext(typeof HTMLElement<"u"?Ede({key:"css"}):null);FL.Provider;var LL=function(e){return O.forwardRef(function(t,r){var i=O.useContext(FL);return e(t,i,r)})},US=O.createContext({}),zS={}.hasOwnProperty,fk="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Dde=function(e,t){var r={};for(var i in t)zS.call(t,i)&&(r[i]=t[i]);return r[fk]=e,r},Fde=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return VS(t,r,i),DL(function(){return OL(t,r,i)}),null},Lde=LL(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[fk],s=[r],o="";typeof n.className=="string"?o=IL(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var a=Ww(s,void 0,O.useContext(US));o+=e.key+"-"+a.name;var l={};for(var u in n)zS.call(n,u)&&u!=="css"&&u!==fk&&(l[u]=n[u]);return l.className=o,t&&(l.ref=t),O.createElement(O.Fragment,null,O.createElement(Fde,{cache:e,serialized:a,isStringTag:typeof i=="string"}),O.createElement(i,l))}),Bde=Lde,mR=function(e,t){var r=arguments;if(t==null||!zS.call(t,"css"))return O.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Bde,s[1]=Dde(e,t);for(var o=2;o<i;o++)s[o]=r[o];return O.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(mR||(mR={}));function HS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Ww(e)}function BL(){var n=HS.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Vde=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ude=PL(function(n){return Vde.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),zde=Ude,Hde=function(e){return e!=="theme"},gR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?zde:Hde},pR=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},$de=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return VS(t,r,i),DL(function(){return OL(t,r,i)}),null},Wde=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=pR(e,t,r),l=a||gR(i),u=!l("as");return function(){var f=arguments,m=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&m.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)m.push.apply(m,f);else{var p=f[0];m.push(p[0]);for(var y=f.length,v=1;v<y;v++)m.push(f[v],p[v])}var w=LL(function(E,k,T){var S=u&&E.as||i,P="",R=[],D=E;if(E.theme==null){D={};for(var A in E)D[A]=E[A];D.theme=O.useContext(US)}typeof E.className=="string"?P=IL(k.registered,R,E.className):E.className!=null&&(P=E.className+" ");var F=Ww(m.concat(R),k.registered,D);P+=k.key+"-"+F.name,o!==void 0&&(P+=" "+o);var V=u&&a===void 0?gR(S):l,X={};for(var re in E)u&&re==="as"||V(re)&&(X[re]=E[re]);return X.className=P,T&&(X.ref=T),O.createElement(O.Fragment,null,O.createElement($de,{cache:k,serialized:F,isStringTag:typeof S=="string"}),O.createElement(S,X))});return w.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=m,w.__emotion_forwardProp=a,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(E,k){var T=n(E,ck({},t,k,{shouldForwardProp:pR(w,k,!0)}));return T.apply(void 0,m)},w}},jde=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hk=Wde.bind(null);jde.forEach(function(n){hk[n]=hk(n)});var k2={exports:{}},Tm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR;function qde(){if(bR)return Tm;bR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Tm.Fragment=e,Tm.jsx=t,Tm.jsxs=t,Tm}var yR;function Gde(){return yR||(yR=1,k2.exports=qde()),k2.exports}var Zo=Gde();function VL(n,e){return hk(n,e)}function Yde(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const wR=[];function gu(n){return wR[0]=n,Ww(wR)}var T2={exports:{}},hn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR;function Kde(){if(vR)return hn;vR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function v(w){if(typeof w=="object"&&w!==null){var E=w.$$typeof;switch(E){case n:switch(w=w.type,w){case t:case i:case r:case l:case u:case p:return w;default:switch(w=w&&w.$$typeof,w){case o:case a:case m:case f:return w;case s:return w;default:return E}}case e:return E}}}return hn.ContextConsumer=s,hn.ContextProvider=o,hn.Element=n,hn.ForwardRef=a,hn.Fragment=t,hn.Lazy=m,hn.Memo=f,hn.Portal=e,hn.Profiler=i,hn.StrictMode=r,hn.Suspense=l,hn.SuspenseList=u,hn.isContextConsumer=function(w){return v(w)===s},hn.isContextProvider=function(w){return v(w)===o},hn.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===n},hn.isForwardRef=function(w){return v(w)===a},hn.isFragment=function(w){return v(w)===t},hn.isLazy=function(w){return v(w)===m},hn.isMemo=function(w){return v(w)===f},hn.isPortal=function(w){return v(w)===e},hn.isProfiler=function(w){return v(w)===i},hn.isStrictMode=function(w){return v(w)===r},hn.isSuspense=function(w){return v(w)===l},hn.isSuspenseList=function(w){return v(w)===u},hn.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===t||w===i||w===r||w===l||w===u||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===f||w.$$typeof===o||w.$$typeof===s||w.$$typeof===a||w.$$typeof===y||w.getModuleId!==void 0)},hn.typeOf=v,hn}var _R;function Xde(){return _R||(_R=1,T2.exports=Kde()),T2.exports}var UL=Xde();function Jo(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function zL(n){if(O.isValidElement(n)||UL.isValidElementType(n)||!Jo(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=zL(n[t])}),e}function vi(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Jo(n)&&Jo(e)&&Object.keys(e).forEach(i=>{O.isValidElement(e[i])||UL.isValidElementType(e[i])?r[i]=e[i]:Jo(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Jo(n[i])?r[i]=vi(n[i],e[i],t):t.clone?r[i]=Jo(e[i])?zL(e[i]):e[i]:r[i]=e[i]}),r}const Jde=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function Qde(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=Jde(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${t})`}function u(p,y){const v=o.indexOf(y);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:y)-r/100}${t})`}function f(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):a(p)}function m(p){const y=o.indexOf(p);return y===0?a(o[1]):y===o.length-1?l(o[y]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:f,not:m,unit:t,...i}}function xR(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const s=/min-width:\s*([0-9.]+)/;return+(r.match(s)?.[1]||0)-+(i.match(s)?.[1]||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function Zde(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function efe(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function tfe(n){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function t(s,o){s.up=(...a)=>e(n.breakpoints.up(...a),o),s.down=(...a)=>e(n.breakpoints.down(...a),o),s.between=(...a)=>e(n.breakpoints.between(...a),o),s.only=(...a)=>e(n.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(n.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const nfe={borderRadius:4};function hg(n,e){return e?vi(n,e,{clone:!1}):n}const jw={xs:0,sm:600,md:900,lg:1200,xl:1536},ER={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${jw[n]}px)`},rfe={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:jw[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Eo(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||ER;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||ER;return Object.keys(e).reduce((o,a)=>{if(Zde(s.keys,a)){const l=efe(r.containerQueries?r:rfe,a);l&&(o[l]=t(e[a],a))}else if(Object.keys(s.values||jw).includes(a)){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function HL(n={}){return n.keys?.reduce((t,r)=>{const i=n.up(r);return t[i]={},t},{})||{}}function mk(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function ife(n,...e){const t=HL(n),r=[t,...e].reduce((i,s)=>vi(i,s),{});return mk(Object.keys(t),r)}function sfe(n,e){if(typeof n!="object")return{};const t={},r=Object.keys(e);return Array.isArray(n)?r.forEach((i,s)=>{s<n.length&&(t[i]=!0)}):r.forEach(i=>{n[i]!=null&&(t[i]=!0)}),t}function S2({values:n,breakpoints:e,base:t}){const r=t||sfe(n,e),i=Object.keys(r);if(i.length===0)return n;let s;return i.reduce((o,a,l)=>(Array.isArray(n)?(o[a]=n[l]!=null?n[l]:n[s],s=l):typeof n=="object"?(o[a]=n[a]!=null?n[a]:n[s],s=a):o[a]=n,o),{})}function ws(n){if(typeof n!="string")throw new Error(Tu(7));return n.charAt(0).toUpperCase()+n.slice(1)}function qw(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function wy(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=qw(n,t)||r,e&&(i=e(i,r,n)),i}function ir(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=qw(l,r)||{};return Eo(o,a,m=>{let p=wy(u,i,m);return m===p&&typeof m=="string"&&(p=wy(u,i,`${e}${m==="default"?"":ws(m)}`,m)),t===!1?p:{[t]:p}})};return s.propTypes={},s.filterProps=[e],s}function ofe(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const afe={m:"margin",p:"padding"},lfe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},kR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},cfe=ofe(n=>{if(n.length>2)if(kR[n])n=kR[n];else return[n];const[e,t]=n.split(""),r=afe[e],i=lfe[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),$S=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],WS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$S,...WS];function z0(n,e,t,r){const i=qw(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function Gw(n){return z0(n,"spacing",8)}function Su(n,e){return typeof e=="string"||e==null?e:n(e)}function ufe(n,e){return t=>n.reduce((r,i)=>(r[i]=Su(e,t),r),{})}function dfe(n,e,t,r){if(!e.includes(t))return null;const i=cfe(t),s=ufe(i,r),o=n[t];return Eo(n,o,s)}function $L(n,e){const t=Gw(n.theme);return Object.keys(n).map(r=>dfe(n,e,r,t)).reduce(hg,{})}function $n(n){return $L(n,$S)}$n.propTypes={};$n.filterProps=$S;function Wn(n){return $L(n,WS)}Wn.propTypes={};Wn.filterProps=WS;function WL(n=8,e=Gw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function Yw(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?hg(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Vs(n){return typeof n!="number"?n:`${n}px solid`}function Xs(n,e){return ir({prop:n,themeKey:"borders",transform:e})}const ffe=Xs("border",Vs),hfe=Xs("borderTop",Vs),mfe=Xs("borderRight",Vs),gfe=Xs("borderBottom",Vs),pfe=Xs("borderLeft",Vs),bfe=Xs("borderColor"),yfe=Xs("borderTopColor"),wfe=Xs("borderRightColor"),vfe=Xs("borderBottomColor"),_fe=Xs("borderLeftColor"),xfe=Xs("outline",Vs),Efe=Xs("outlineColor"),Kw=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=z0(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Su(e,r)});return Eo(n,n.borderRadius,t)}return null};Kw.propTypes={};Kw.filterProps=["borderRadius"];Yw(ffe,hfe,mfe,gfe,pfe,bfe,yfe,wfe,vfe,_fe,Kw,xfe,Efe);const Xw=n=>{if(n.gap!==void 0&&n.gap!==null){const e=z0(n.theme,"spacing",8),t=r=>({gap:Su(e,r)});return Eo(n,n.gap,t)}return null};Xw.propTypes={};Xw.filterProps=["gap"];const Jw=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=z0(n.theme,"spacing",8),t=r=>({columnGap:Su(e,r)});return Eo(n,n.columnGap,t)}return null};Jw.propTypes={};Jw.filterProps=["columnGap"];const Qw=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=z0(n.theme,"spacing",8),t=r=>({rowGap:Su(e,r)});return Eo(n,n.rowGap,t)}return null};Qw.propTypes={};Qw.filterProps=["rowGap"];const kfe=ir({prop:"gridColumn"}),Tfe=ir({prop:"gridRow"}),Sfe=ir({prop:"gridAutoFlow"}),Cfe=ir({prop:"gridAutoColumns"}),Afe=ir({prop:"gridAutoRows"}),Nfe=ir({prop:"gridTemplateColumns"}),Pfe=ir({prop:"gridTemplateRows"}),Rfe=ir({prop:"gridTemplateAreas"}),Ife=ir({prop:"gridArea"});Yw(Xw,Jw,Qw,kfe,Tfe,Sfe,Cfe,Afe,Nfe,Pfe,Rfe,Ife);function Nf(n,e){return e==="grey"?e:n}const Ofe=ir({prop:"color",themeKey:"palette",transform:Nf}),Mfe=ir({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Nf}),Dfe=ir({prop:"backgroundColor",themeKey:"palette",transform:Nf});Yw(Ofe,Mfe,Dfe);function us(n){return n<=1&&n!==0?`${n*100}%`:n}const Ffe=ir({prop:"width",transform:us}),jS=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const r=n.theme?.breakpoints?.values?.[t]||jw[t];return r?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:us(t)}};return Eo(n,n.maxWidth,e)}return null};jS.filterProps=["maxWidth"];const Lfe=ir({prop:"minWidth",transform:us}),Bfe=ir({prop:"height",transform:us}),Vfe=ir({prop:"maxHeight",transform:us}),Ufe=ir({prop:"minHeight",transform:us});ir({prop:"size",cssProperty:"width",transform:us});ir({prop:"size",cssProperty:"height",transform:us});const zfe=ir({prop:"boxSizing"});Yw(Ffe,jS,Lfe,Bfe,Vfe,Ufe,zfe);const H0={border:{themeKey:"borders",transform:Vs},borderTop:{themeKey:"borders",transform:Vs},borderRight:{themeKey:"borders",transform:Vs},borderBottom:{themeKey:"borders",transform:Vs},borderLeft:{themeKey:"borders",transform:Vs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Vs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Kw},color:{themeKey:"palette",transform:Nf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Nf},backgroundColor:{themeKey:"palette",transform:Nf},p:{style:Wn},pt:{style:Wn},pr:{style:Wn},pb:{style:Wn},pl:{style:Wn},px:{style:Wn},py:{style:Wn},padding:{style:Wn},paddingTop:{style:Wn},paddingRight:{style:Wn},paddingBottom:{style:Wn},paddingLeft:{style:Wn},paddingX:{style:Wn},paddingY:{style:Wn},paddingInline:{style:Wn},paddingInlineStart:{style:Wn},paddingInlineEnd:{style:Wn},paddingBlock:{style:Wn},paddingBlockStart:{style:Wn},paddingBlockEnd:{style:Wn},m:{style:$n},mt:{style:$n},mr:{style:$n},mb:{style:$n},ml:{style:$n},mx:{style:$n},my:{style:$n},margin:{style:$n},marginTop:{style:$n},marginRight:{style:$n},marginBottom:{style:$n},marginLeft:{style:$n},marginX:{style:$n},marginY:{style:$n},marginInline:{style:$n},marginInlineStart:{style:$n},marginInlineEnd:{style:$n},marginBlock:{style:$n},marginBlockStart:{style:$n},marginBlockEnd:{style:$n},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Xw},rowGap:{style:Qw},columnGap:{style:Jw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:us},maxWidth:{style:jS},minWidth:{transform:us},height:{transform:us},maxHeight:{transform:us},minHeight:{transform:us},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Hfe(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function $fe(n,e){return typeof n=="function"?n(e):n}function Wfe(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:u,transform:f,style:m}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[t]:r};const p=qw(i,u)||{};return m?m(o):Eo(o,r,v=>{let w=wy(p,f,v);return v===w&&typeof v=="string"&&(w=wy(p,f,`${t}${v==="default"?"":ws(v)}`,v)),l===!1?w:{[l]:w}})}function e(t){const{sx:r,theme:i={},nested:s}=t||{};if(!r)return null;const o=i.unstable_sxConfig??H0;function a(l){let u=l;if(typeof l=="function")u=l(i);else if(typeof l!="object")return l;if(!u)return null;const f=HL(i.breakpoints),m=Object.keys(f);let p=f;return Object.keys(u).forEach(y=>{const v=$fe(u[y],i);if(v!=null)if(typeof v=="object")if(o[y])p=hg(p,n(y,v,i,o));else{const w=Eo({theme:i},v,E=>({[y]:E}));Hfe(w,v)?p[y]=e({sx:v,theme:i,nested:!0}):p=hg(p,w)}else p=hg(p,n(y,v,i,o))}),!s&&i.modularCssLayers?{"@layer sx":xR(i,mk(m,p))}:xR(i,mk(m,p))}return Array.isArray(r)?r.map(a):a(r)}return e}const Cu=Wfe();Cu.filterProps=["sx"];function jfe(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function Zw(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...o}=n,a=Qde(t),l=WL(i);let u=vi({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...nfe,...s}},o);return u=tfe(u),u.applyStyles=jfe,u=e.reduce((f,m)=>vi(f,m),u),u.unstable_sxConfig={...H0,...o?.unstable_sxConfig},u.unstable_sx=function(m){return Cu({sx:m,theme:this})},u}function qfe(n){return Object.keys(n).length===0}function Gfe(n=null){const e=O.useContext(US);return!e||qfe(e)?n:e}const Yfe=Zw();function jL(n=Yfe){return Gfe(n)}const Kfe=n=>{const e={systemProps:{},otherProps:{}},t=n?.theme?.unstable_sxConfig??H0;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function qS(n){const{sx:e,...t}=n,{systemProps:r,otherProps:i}=Kfe(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Jo(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}const TR=n=>n,Xfe=()=>{let n=TR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=TR}}},qL=Xfe();function Jfe(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=VL("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Cu);return O.forwardRef(function(l,u){const f=jL(t),{className:m,component:p="div",...y}=qS(l);return Zo.jsx(s,{as:p,ref:u,className:Bi(m,i?i(r):r),theme:e&&f[e]||f,...y})})}const Qfe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function dh(n,e,t="Mui"){const r=Qfe[e];return r?`${t}-${r}`:`${qL.generate(n)}-${e}`}function $0(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=dh(n,i,t)}),r}function GL(n){const{variants:e,...t}=n,r={variants:e,style:gu(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=gu(i.style))}),r}const Zfe=Zw();function C2(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function ou(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function ehe(n){return n?(e,t)=>t[n]:null}function the(n,e,t){n.theme=rhe(n.theme)?t:n.theme[e]||n.theme}function Tb(n,e,t){const r=typeof e=="function"?e(n):e;if(Array.isArray(r))return r.flatMap(i=>Tb(n,i,t));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=t?ou(r.style,t):r.style;else{const{variants:s,...o}=r;i=t?ou(gu(o),t):o}return YL(n,r.variants,[i],t)}return r?.isProcessed?t?ou(gu(r.style),t):r.style:t?ou(gu(r),t):r}function YL(n,e,t=[],r=void 0){let i;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(i??={...n,...n.ownerState,ownerState:n.ownerState},!o.props(i))continue}else for(const a in o.props)if(n[a]!==o.props[a]&&n.ownerState?.[a]!==o.props[a])continue e;typeof o.style=="function"?(i??={...n,...n.ownerState,ownerState:n.ownerState},t.push(r?ou(gu(o.style(i)),r):o.style(i))):t.push(r?ou(gu(o.style),r):o.style)}return t}function KL(n={}){const{themeId:e,defaultTheme:t=Zfe,rootShouldForwardProp:r=C2,slotShouldForwardProp:i=C2}=n;function s(a){the(a,e,t)}return(a,l={})=>{Yde(a,D=>D.filter(A=>A!==Cu));const{name:u,slot:f,skipVariantsResolver:m,skipSx:p,overridesResolver:y=ehe(she(f)),...v}=l,w=u&&u.startsWith("Mui")||f?"components":"custom",E=m!==void 0?m:f&&f!=="Root"&&f!=="root"||!1,k=p||!1;let T=C2;f==="Root"||f==="root"?T=r:f?T=i:ihe(a)&&(T=void 0);const S=VL(a,{shouldForwardProp:T,label:nhe(),...v}),P=D=>{if(D.__emotion_real===D)return D;if(typeof D=="function")return function(F){return Tb(F,D,F.theme.modularCssLayers?w:void 0)};if(Jo(D)){const A=GL(D);return function(V){return A.variants?Tb(V,A,V.theme.modularCssLayers?w:void 0):V.theme.modularCssLayers?ou(A.style,w):A.style}}return D},R=(...D)=>{const A=[],F=D.map(P),V=[];if(A.push(s),u&&y&&V.push(function(te){const xe=te.theme.components?.[u]?.styleOverrides;if(!xe)return null;const ne={};for(const Ee in xe)ne[Ee]=Tb(te,xe[Ee],te.theme.modularCssLayers?"theme":void 0);return y(te,ne)}),u&&!E&&V.push(function(te){const xe=te.theme?.components?.[u]?.variants;return xe?YL(te,xe,[],te.theme.modularCssLayers?"theme":void 0):null}),k||V.push(Cu),Array.isArray(F[0])){const N=F.shift(),te=new Array(A.length).fill(""),be=new Array(V.length).fill("");let xe;xe=[...te,...N,...be],xe.raw=[...te,...N.raw,...be],A.unshift(xe)}const X=[...A,...F,...V],re=S(...X);return a.muiName&&(re.muiName=a.muiName),re};return S.withConfig&&(R.withConfig=S.withConfig),R}}function nhe(n,e){return void 0}function rhe(n){for(const e in n)return!1;return!0}function ihe(n){return typeof n=="string"&&n.charCodeAt(0)>96}function she(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const ohe=KL();function vy(n,e,t=!1){const r={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")r[s]={...n[s],...r[s]};else if(s==="componentsProps"||s==="slotProps"){const o=n[s],a=e[s];if(!a)r[s]=o||{};else if(!o)r[s]=a;else{r[s]={...a};for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=l;r[s][u]=vy(o[u],a[u],t)}}}else s==="className"&&t&&e.className?r.className=Bi(n?.className,e?.className):s==="style"&&t&&e.style?r.style={...n?.style,...e?.style}:r[s]===void 0&&(r[s]=n[s])}return r}function ahe(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:vy(e.components[t].defaultProps,r)}function lhe({props:n,name:e,defaultTheme:t,themeId:r}){let i=jL(t);return r&&(i=i[r]||i),ahe({theme:i,name:e,props:n})}function che(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function GS(n,e=0,t=1){return che(n,e,t)}function uhe(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function lc(n){if(n.type)return n;if(n.charAt(0)==="#")return lc(uhe(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Tu(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Tu(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const dhe=n=>{const e=lc(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},jm=(n,e)=>{try{return dhe(n)}catch{return n}};function ev(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function XL(n){n=lc(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,f=(u+t/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),ev({type:a,values:l})}function gk(n){n=lc(n);let e=n.type==="hsl"||n.type==="hsla"?lc(XL(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function fhe(n,e){const t=gk(n),r=gk(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function JL(n,e){return n=lc(n),e=GS(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,ev(n)}function zc(n,e,t){try{return JL(n,e)}catch{return n}}function tv(n,e){if(n=lc(n),e=GS(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return ev(n)}function en(n,e,t){try{return tv(n,e)}catch{return n}}function nv(n,e){if(n=lc(n),e=GS(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return ev(n)}function tn(n,e,t){try{return nv(n,e)}catch{return n}}function hhe(n,e=.15){return gk(n)>.5?tv(n,e):nv(n,e)}function O1(n,e,t){try{return hhe(n,e)}catch{return n}}const mhe=O.createContext(void 0);function ghe(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?vy(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?vy(i,r,e.components.mergeClassNameAndStyle):r}function phe({props:n,name:e}){const t=O.useContext(mhe);return ghe({props:n,name:e,theme:{components:t}})}const SR={theme:void 0};function bhe(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(SR.theme=i.theme,s=GL(n(SR)),e=s,t=i.theme),s}}function yhe(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const CR=(n,e,t,r=[])=>{let i=n;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},whe=(n,e,t)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!t||t&&!t([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(n)},vhe=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function A2(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return whe(n,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const f=`--${t?`${t}-`:""}${a.join("-")}`,m=vhe(a,l);Object.assign(i,{[f]:m}),CR(s,a,`var(${f})`,u),CR(o,a,`var(${f}, ${m})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function _he(n,e={}){const{getSelector:t=k,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:s}=e,{colorSchemes:o={},components:a,defaultColorScheme:l="light",...u}=n,{vars:f,css:m,varsWithDefaults:p}=A2(u,e);let y=p;const v={},{[l]:w,...E}=o;if(Object.entries(E||{}).forEach(([P,R])=>{const{vars:D,css:A,varsWithDefaults:F}=A2(R,e);y=vi(y,F),v[P]={css:A,vars:D}}),w){const{css:P,vars:R,varsWithDefaults:D}=A2(w,e);y=vi(y,D),v[l]={css:P,vars:R}}function k(P,R){let D=i;if(i==="class"&&(D=".%s"),i==="data"&&(D="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(D=`[${i}="%s"]`),P){if(D==="media")return n.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${o[P]?.palette?.mode||P})`]:{":root":R}};if(D)return n.defaultColorScheme===P?`:root, ${D.replace("%s",String(P))}`:D.replace("%s",String(P))}return":root"}return{vars:y,generateThemeVars:()=>{let P={...f};return Object.entries(v).forEach(([,{vars:R}])=>{P=vi(P,R)}),P},generateStyleSheets:()=>{const P=[],R=n.defaultColorScheme||"light";function D(V,X){Object.keys(X).length&&P.push(typeof V=="string"?{[V]:{...X}}:V)}D(t(void 0,{...m}),m);const{[R]:A,...F}=v;if(A){const{css:V}=A,X=o[R]?.palette?.mode,re=!r&&X?{colorScheme:X,...V}:{...V};D(t(R,{...re}),re)}return Object.entries(F).forEach(([V,{css:X}])=>{const re=o[V]?.palette?.mode,N=!r&&re?{colorScheme:re,...X}:{...X};D(t(V,{...N}),N)}),s&&P.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),P}}}function xhe(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function W0(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,t&&t[u]&&(o+=" "+t[u]))}r[i]=o}return r}function N2(n,e){return O.isValidElement(n)&&e.indexOf(n.type.muiName??n.type?._payload?.value?.muiName)!==-1}const Ehe=Zw(),khe=ohe("div",{name:"MuiStack",slot:"Root"});function The(n){return lhe({props:n,name:"MuiStack",defaultTheme:Ehe})}function She(n,e){const t=O.Children.toArray(n).filter(Boolean);return t.reduce((r,i,s)=>(r.push(i),s<t.length-1&&r.push(O.cloneElement(e,{key:`separator-${s}`})),r),[])}const Che=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],Ahe=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...Eo({theme:e},S2({values:n.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(n.spacing){const r=Gw(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof n.spacing=="object"&&n.spacing[u]!=null||typeof n.direction=="object"&&n.direction[u]!=null)&&(l[u]=!0),l),{}),s=S2({values:n.direction,base:i}),o=S2({values:n.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,u,f)=>{if(!s[l]){const p=u>0?s[f[u-1]]:"column";s[l]=p}}),t=vi(t,Eo({theme:e},o,(l,u)=>n.useFlexGap?{gap:Su(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Che(u?s[u]:n.direction)}`]:Su(r,l)}}))}return t=ife(e.breakpoints,t),t};function Nhe(n={}){const{createStyledComponent:e=khe,useThemeProps:t=The,componentName:r="MuiStack"}=n,i=()=>W0({root:["root"]},l=>dh(r,l),{}),s=e(Ahe);return O.forwardRef(function(l,u){const f=t(l),m=qS(f),{component:p="div",direction:y="column",spacing:v=0,divider:w,children:E,className:k,useFlexGap:T=!1,...S}=m,P={direction:y,spacing:v,useFlexGap:T},R=i();return Zo.jsx(s,{as:p,ownerState:P,ref:u,className:Bi(R.root,k),...S,children:w?She(E,w):E})})}function QL(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gg.white,default:Gg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const ZL=QL();function eB(){return{text:{primary:Gg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const pk=eB();function AR(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=nv(n.main,i):e==="dark"&&(n.dark=tv(n.main,s)))}function NR(n,e,t,r,i){const s=i.light||i,o=i.dark||i*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(o*100).toFixed(0)}%)`))}function Phe(n="light"){return n==="dark"?{main:Bd[200],light:Bd[50],dark:Bd[400]}:{main:Bd[700],light:Bd[400],dark:Bd[800]}}function Rhe(n="light"){return n==="dark"?{main:Ld[200],light:Ld[50],dark:Ld[400]}:{main:Ld[500],light:Ld[300],dark:Ld[700]}}function Ihe(n="light"){return n==="dark"?{main:Fd[500],light:Fd[300],dark:Fd[700]}:{main:Fd[700],light:Fd[400],dark:Fd[800]}}function Ohe(n="light"){return n==="dark"?{main:Vd[400],light:Vd[300],dark:Vd[700]}:{main:Vd[700],light:Vd[500],dark:Vd[900]}}function Mhe(n="light"){return n==="dark"?{main:Ud[400],light:Ud[300],dark:Ud[700]}:{main:Ud[800],light:Ud[500],dark:Ud[900]}}function Dhe(n="light"){return n==="dark"?{main:Em[400],light:Em[300],dark:Em[700]}:{main:"#ed6c02",light:Em[500],dark:Em[900]}}function Fhe(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function YS(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,colorSpace:i,...s}=n,o=n.primary||Phe(e),a=n.secondary||Rhe(e),l=n.error||Ihe(e),u=n.info||Ohe(e),f=n.success||Mhe(e),m=n.warning||Dhe(e);function p(E){return i?Fhe(E):fhe(E,pk.text.primary)>=t?pk.text.primary:ZL.text.primary}const y=({color:E,name:k,mainShade:T=500,lightShade:S=300,darkShade:P=700})=>{if(E={...E},!E.main&&E[T]&&(E.main=E[T]),!E.hasOwnProperty("main"))throw new Error(Tu(11,k?` (${k})`:"",T));if(typeof E.main!="string")throw new Error(Tu(12,k?` (${k})`:"",JSON.stringify(E.main)));return i?(NR(i,E,"light",S,r),NR(i,E,"dark",P,r)):(AR(E,"light",S,r),AR(E,"dark",P,r)),E.contrastText||(E.contrastText=p(E.main)),E};let v;return e==="light"?v=QL():e==="dark"&&(v=eB()),vi({common:{...Gg},mode:e,primary:y({color:o,name:"primary"}),secondary:y({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:m,name:"warning"}),info:y({color:u,name:"info"}),success:y({color:f,name:"success"}),grey:Yue,contrastThreshold:t,getContrastText:p,augmentColor:y,tonalOffset:r,...v},s)}function Lhe(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Bhe(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Vhe(n){return Math.round(n*1e5)/1e5}const PR={textTransform:"uppercase"},RR='"Roboto", "Helvetica", "Arial", sans-serif';function Uhe(n,e){const{fontFamily:t=RR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:f,...m}=typeof e=="function"?e(n):e,p=r/14,y=f||(E=>`${E/l*p}rem`),v=(E,k,T,S,P)=>({fontFamily:t,fontWeight:E,fontSize:y(k),lineHeight:T,...t===RR?{letterSpacing:`${Vhe(S/k)}em`}:{},...P,...u}),w={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(o,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(o,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(o,14,1.75,.4,PR),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,PR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vi({htmlFontSize:l,pxToRem:y,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...w},m,{clone:!1})}const zhe=.2,Hhe=.14,$he=.12;function In(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${zhe})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Hhe})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${$he})`].join(",")}const Whe=["none",In(0,2,1,-1,0,1,1,0,0,1,3,0),In(0,3,1,-2,0,2,2,0,0,1,5,0),In(0,3,3,-2,0,3,4,0,0,1,8,0),In(0,2,4,-1,0,4,5,0,0,1,10,0),In(0,3,5,-1,0,5,8,0,0,1,14,0),In(0,3,5,-1,0,6,10,0,0,1,18,0),In(0,4,5,-2,0,7,10,1,0,2,16,1),In(0,5,5,-3,0,8,10,1,0,3,14,2),In(0,5,6,-3,0,9,12,1,0,3,16,2),In(0,6,6,-3,0,10,14,1,0,4,18,3),In(0,6,7,-4,0,11,15,1,0,4,20,3),In(0,7,8,-4,0,12,17,2,0,5,22,4),In(0,7,8,-4,0,13,19,2,0,5,24,4),In(0,7,9,-4,0,14,21,2,0,5,26,4),In(0,8,9,-5,0,15,22,2,0,6,28,5),In(0,8,10,-5,0,16,24,2,0,6,30,5),In(0,8,11,-5,0,17,26,2,0,6,32,5),In(0,9,11,-5,0,18,28,2,0,7,34,6),In(0,9,12,-6,0,19,29,2,0,7,36,6),In(0,10,13,-6,0,20,31,3,0,8,38,7),In(0,10,13,-6,0,21,33,3,0,8,40,7),In(0,10,14,-6,0,22,35,3,0,8,42,7),In(0,11,14,-7,0,23,36,3,0,9,44,8),In(0,11,15,-7,0,24,38,3,0,9,46,8)],jhe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qhe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function IR(n){return`${Math.round(n)}ms`}function Ghe(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Yhe(n){const e={...jhe,...n.easing},t={...qhe,...n.duration};return{getAutoHeightDuration:Ghe,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(f=>`${f} ${typeof o=="string"?o:IR(o)} ${a} ${typeof l=="string"?l:IR(l)}`).join(",")},...n,easing:e,duration:t}}const Khe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Xhe(n){return Jo(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function tB(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!Xhe(a)||o.startsWith("unstable_")?delete r[o]:Jo(a)&&(r[o]={...a},t(r[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function OR(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const Jhe=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let r=0;r<e.length;r+=1)t+=+e[r];return t};function Qhe(n){Object.assign(n,{alpha(e,t){const r=this||n;return r.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:JL(e,Jhe(t))},lighten(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${OR(t)})`:nv(e,t)},darken(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${OR(t)})`:tv(e,t)}})}function bk(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,colorSpace:u,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Tu(20));const m=YS({...s,colorSpace:u}),p=Zw(n);let y=vi(p,{mixins:Bhe(p.breakpoints,r),palette:m,shadows:Whe.slice(),typography:Uhe(m,a),transitions:Yhe(o),zIndex:{...Khe}});return y=vi(y,f),y=e.reduce((v,w)=>vi(v,w),y),y.unstable_sxConfig={...H0,...f?.unstable_sxConfig},y.unstable_sx=function(w){return Cu({sx:w,theme:this})},y.toRuntimeSource=tB,Qhe(y),y}function Zhe(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const eme=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=Zhe(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function nB(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function rB(n){return n==="dark"?eme:[]}function tme(n){const{palette:e={mode:"light"},opacity:t,overlays:r,colorSpace:i,...s}=n,o=YS({...e,colorSpace:i});return{palette:o,opacity:{...nB(o.mode),...t},overlays:r||rB(o.mode),...s}}function nme(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const rme=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],ime=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return rme(n.cssVarPrefix).forEach(a=>{o[a]=t[a],delete t[a]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function sme(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ke(n,e,t){!n[e]&&t&&(n[e]=t)}function qm(n){return typeof n!="string"||!n.startsWith("hsl")?n:XL(n)}function Ia(n,e){`${e}Channel`in n||(n[`${e}Channel`]=jm(qm(n[e])))}function ome(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const zo=n=>{try{return n()}catch{}},ame=(n="mui")=>yhe(n);function P2(n,e,t,r,i){if(!t)return;t=t===!0?{}:t;const s=i==="dark"?"dark":"light";if(!r){e[i]=tme({...t,palette:{mode:s,...t?.palette},colorSpace:n});return}const{palette:o,...a}=bk({...r,palette:{mode:s,...t?.palette},colorSpace:n});return e[i]={...t,palette:o,opacity:{...nB(s),...t?.opacity},overlays:t?.overlays||rB(s)},a}function lme(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",nativeColor:o=!1,shouldSkipGeneratingVar:a=nme,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...f}=n,m=Object.keys(t)[0],p=r||(t.light&&m!=="light"?"light":m),y=ame(s),{[p]:v,light:w,dark:E,...k}=t,T={...k};let S=v;if((p==="dark"&&!("dark"in t)||p==="light"&&!("light"in t))&&(S=!0),!S)throw new Error(Tu(21,p));let P;o&&(P="oklch");const R=P2(P,T,S,f,p);w&&!T.light&&P2(P,T,w,void 0,"light"),E&&!T.dark&&P2(P,T,E,void 0,"dark");let D={defaultColorScheme:p,...R,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:u,getCssVar:y,colorSchemes:T,font:{...Lhe(R.typography),...R.font},spacing:ome(f.spacing)};Object.keys(D.colorSchemes).forEach(re=>{const N=D.colorSchemes[re].palette,te=xe=>{const ne=xe.split("-"),Ee=ne[1],We=ne[2];return y(xe,N[Ee][We])};N.mode==="light"&&(ke(N.common,"background","#fff"),ke(N.common,"onBackground","#000")),N.mode==="dark"&&(ke(N.common,"background","#000"),ke(N.common,"onBackground","#fff"));function be(xe,ne,Ee){if(P){let We;return xe===zc&&(We=`transparent ${((1-Ee)*100).toFixed(0)}%`),xe===en&&(We=`#000 ${(Ee*100).toFixed(0)}%`),xe===tn&&(We=`#fff ${(Ee*100).toFixed(0)}%`),`color-mix(in ${P}, ${ne}, ${We})`}return xe(ne,Ee)}if(sme(N,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),N.mode==="light"){ke(N.Alert,"errorColor",be(en,N.error.light,.6)),ke(N.Alert,"infoColor",be(en,N.info.light,.6)),ke(N.Alert,"successColor",be(en,N.success.light,.6)),ke(N.Alert,"warningColor",be(en,N.warning.light,.6)),ke(N.Alert,"errorFilledBg",te("palette-error-main")),ke(N.Alert,"infoFilledBg",te("palette-info-main")),ke(N.Alert,"successFilledBg",te("palette-success-main")),ke(N.Alert,"warningFilledBg",te("palette-warning-main")),ke(N.Alert,"errorFilledColor",zo(()=>N.getContrastText(N.error.main))),ke(N.Alert,"infoFilledColor",zo(()=>N.getContrastText(N.info.main))),ke(N.Alert,"successFilledColor",zo(()=>N.getContrastText(N.success.main))),ke(N.Alert,"warningFilledColor",zo(()=>N.getContrastText(N.warning.main))),ke(N.Alert,"errorStandardBg",be(tn,N.error.light,.9)),ke(N.Alert,"infoStandardBg",be(tn,N.info.light,.9)),ke(N.Alert,"successStandardBg",be(tn,N.success.light,.9)),ke(N.Alert,"warningStandardBg",be(tn,N.warning.light,.9)),ke(N.Alert,"errorIconColor",te("palette-error-main")),ke(N.Alert,"infoIconColor",te("palette-info-main")),ke(N.Alert,"successIconColor",te("palette-success-main")),ke(N.Alert,"warningIconColor",te("palette-warning-main")),ke(N.AppBar,"defaultBg",te("palette-grey-100")),ke(N.Avatar,"defaultBg",te("palette-grey-400")),ke(N.Button,"inheritContainedBg",te("palette-grey-300")),ke(N.Button,"inheritContainedHoverBg",te("palette-grey-A100")),ke(N.Chip,"defaultBorder",te("palette-grey-400")),ke(N.Chip,"defaultAvatarColor",te("palette-grey-700")),ke(N.Chip,"defaultIconColor",te("palette-grey-700")),ke(N.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ke(N.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ke(N.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ke(N.LinearProgress,"primaryBg",be(tn,N.primary.main,.62)),ke(N.LinearProgress,"secondaryBg",be(tn,N.secondary.main,.62)),ke(N.LinearProgress,"errorBg",be(tn,N.error.main,.62)),ke(N.LinearProgress,"infoBg",be(tn,N.info.main,.62)),ke(N.LinearProgress,"successBg",be(tn,N.success.main,.62)),ke(N.LinearProgress,"warningBg",be(tn,N.warning.main,.62)),ke(N.Skeleton,"bg",P?be(zc,N.text.primary,.11):`rgba(${te("palette-text-primaryChannel")} / 0.11)`),ke(N.Slider,"primaryTrack",be(tn,N.primary.main,.62)),ke(N.Slider,"secondaryTrack",be(tn,N.secondary.main,.62)),ke(N.Slider,"errorTrack",be(tn,N.error.main,.62)),ke(N.Slider,"infoTrack",be(tn,N.info.main,.62)),ke(N.Slider,"successTrack",be(tn,N.success.main,.62)),ke(N.Slider,"warningTrack",be(tn,N.warning.main,.62));const xe=P?be(en,N.background.default,.6825):O1(N.background.default,.8);ke(N.SnackbarContent,"bg",xe),ke(N.SnackbarContent,"color",zo(()=>P?pk.text.primary:N.getContrastText(xe))),ke(N.SpeedDialAction,"fabHoverBg",O1(N.background.paper,.15)),ke(N.StepConnector,"border",te("palette-grey-400")),ke(N.StepContent,"border",te("palette-grey-400")),ke(N.Switch,"defaultColor",te("palette-common-white")),ke(N.Switch,"defaultDisabledColor",te("palette-grey-100")),ke(N.Switch,"primaryDisabledColor",be(tn,N.primary.main,.62)),ke(N.Switch,"secondaryDisabledColor",be(tn,N.secondary.main,.62)),ke(N.Switch,"errorDisabledColor",be(tn,N.error.main,.62)),ke(N.Switch,"infoDisabledColor",be(tn,N.info.main,.62)),ke(N.Switch,"successDisabledColor",be(tn,N.success.main,.62)),ke(N.Switch,"warningDisabledColor",be(tn,N.warning.main,.62)),ke(N.TableCell,"border",be(tn,be(zc,N.divider,1),.88)),ke(N.Tooltip,"bg",be(zc,N.grey[700],.92))}if(N.mode==="dark"){ke(N.Alert,"errorColor",be(tn,N.error.light,.6)),ke(N.Alert,"infoColor",be(tn,N.info.light,.6)),ke(N.Alert,"successColor",be(tn,N.success.light,.6)),ke(N.Alert,"warningColor",be(tn,N.warning.light,.6)),ke(N.Alert,"errorFilledBg",te("palette-error-dark")),ke(N.Alert,"infoFilledBg",te("palette-info-dark")),ke(N.Alert,"successFilledBg",te("palette-success-dark")),ke(N.Alert,"warningFilledBg",te("palette-warning-dark")),ke(N.Alert,"errorFilledColor",zo(()=>N.getContrastText(N.error.dark))),ke(N.Alert,"infoFilledColor",zo(()=>N.getContrastText(N.info.dark))),ke(N.Alert,"successFilledColor",zo(()=>N.getContrastText(N.success.dark))),ke(N.Alert,"warningFilledColor",zo(()=>N.getContrastText(N.warning.dark))),ke(N.Alert,"errorStandardBg",be(en,N.error.light,.9)),ke(N.Alert,"infoStandardBg",be(en,N.info.light,.9)),ke(N.Alert,"successStandardBg",be(en,N.success.light,.9)),ke(N.Alert,"warningStandardBg",be(en,N.warning.light,.9)),ke(N.Alert,"errorIconColor",te("palette-error-main")),ke(N.Alert,"infoIconColor",te("palette-info-main")),ke(N.Alert,"successIconColor",te("palette-success-main")),ke(N.Alert,"warningIconColor",te("palette-warning-main")),ke(N.AppBar,"defaultBg",te("palette-grey-900")),ke(N.AppBar,"darkBg",te("palette-background-paper")),ke(N.AppBar,"darkColor",te("palette-text-primary")),ke(N.Avatar,"defaultBg",te("palette-grey-600")),ke(N.Button,"inheritContainedBg",te("palette-grey-800")),ke(N.Button,"inheritContainedHoverBg",te("palette-grey-700")),ke(N.Chip,"defaultBorder",te("palette-grey-700")),ke(N.Chip,"defaultAvatarColor",te("palette-grey-300")),ke(N.Chip,"defaultIconColor",te("palette-grey-300")),ke(N.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ke(N.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ke(N.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ke(N.LinearProgress,"primaryBg",be(en,N.primary.main,.5)),ke(N.LinearProgress,"secondaryBg",be(en,N.secondary.main,.5)),ke(N.LinearProgress,"errorBg",be(en,N.error.main,.5)),ke(N.LinearProgress,"infoBg",be(en,N.info.main,.5)),ke(N.LinearProgress,"successBg",be(en,N.success.main,.5)),ke(N.LinearProgress,"warningBg",be(en,N.warning.main,.5)),ke(N.Skeleton,"bg",P?be(zc,N.text.primary,.13):`rgba(${te("palette-text-primaryChannel")} / 0.13)`),ke(N.Slider,"primaryTrack",be(en,N.primary.main,.5)),ke(N.Slider,"secondaryTrack",be(en,N.secondary.main,.5)),ke(N.Slider,"errorTrack",be(en,N.error.main,.5)),ke(N.Slider,"infoTrack",be(en,N.info.main,.5)),ke(N.Slider,"successTrack",be(en,N.success.main,.5)),ke(N.Slider,"warningTrack",be(en,N.warning.main,.5));const xe=P?be(tn,N.background.default,.985):O1(N.background.default,.98);ke(N.SnackbarContent,"bg",xe),ke(N.SnackbarContent,"color",zo(()=>P?ZL.text.primary:N.getContrastText(xe))),ke(N.SpeedDialAction,"fabHoverBg",O1(N.background.paper,.15)),ke(N.StepConnector,"border",te("palette-grey-600")),ke(N.StepContent,"border",te("palette-grey-600")),ke(N.Switch,"defaultColor",te("palette-grey-300")),ke(N.Switch,"defaultDisabledColor",te("palette-grey-600")),ke(N.Switch,"primaryDisabledColor",be(en,N.primary.main,.55)),ke(N.Switch,"secondaryDisabledColor",be(en,N.secondary.main,.55)),ke(N.Switch,"errorDisabledColor",be(en,N.error.main,.55)),ke(N.Switch,"infoDisabledColor",be(en,N.info.main,.55)),ke(N.Switch,"successDisabledColor",be(en,N.success.main,.55)),ke(N.Switch,"warningDisabledColor",be(en,N.warning.main,.55)),ke(N.TableCell,"border",be(en,be(zc,N.divider,1),.68)),ke(N.Tooltip,"bg",be(zc,N.grey[700],.92))}Ia(N.background,"default"),Ia(N.background,"paper"),Ia(N.common,"background"),Ia(N.common,"onBackground"),Ia(N,"divider"),Object.keys(N).forEach(xe=>{const ne=N[xe];xe!=="tonalOffset"&&ne&&typeof ne=="object"&&(ne.main&&ke(N[xe],"mainChannel",jm(qm(ne.main))),ne.light&&ke(N[xe],"lightChannel",jm(qm(ne.light))),ne.dark&&ke(N[xe],"darkChannel",jm(qm(ne.dark))),ne.contrastText&&ke(N[xe],"contrastTextChannel",jm(qm(ne.contrastText))),xe==="text"&&(Ia(N[xe],"primary"),Ia(N[xe],"secondary")),xe==="action"&&(ne.active&&Ia(N[xe],"active"),ne.selected&&Ia(N[xe],"selected")))})}),D=e.reduce((re,N)=>vi(re,N),D);const A={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:ime(D),enableContrastVars:o},{vars:F,generateThemeVars:V,generateStyleSheets:X}=_he(D,A);return D.vars=F,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([re,N])=>{D[re]=N}),D.generateThemeVars=V,D.generateStyleSheets=X,D.generateSpacing=function(){return WL(f.spacing,Gw(this))},D.getColorSchemeSelector=xhe(l),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=a,D.unstable_sxConfig={...H0,...f?.unstable_sxConfig},D.unstable_sx=function(N){return Cu({sx:N,theme:this})},D.toRuntimeSource=tB,D}function MR(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:YS({...t===!0?{}:t.palette,mode:e})})}function iB(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t?.mode,...o}=n,a=s||"light",l=i?.[a],u={...i,...t?{[a]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return bk(n,...e);let f=t;"palette"in n||u[a]&&(u[a]!==!0?f=u[a].palette:a==="dark"&&(f={mode:"dark"}));const m=bk({...n,palette:f},...e);return m.defaultColorScheme=a,m.colorSchemes=u,m.palette.mode==="light"&&(m.colorSchemes.light={...u.light!==!0&&u.light,palette:m.palette},MR(m,"dark",u.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:m.palette},MR(m,"light",u.light)),m}return!t&&!("light"in u)&&a==="light"&&(u.light=!0),lme({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const cme=iB();function ume(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const dme=n=>ume(n)&&n!=="classes",Lu=KL({themeId:EL,defaultTheme:cme,rootShouldForwardProp:dme});function fme(){return qS}const rv=bhe;function j0(n){return phe(n)}function hme(n){return typeof n.main=="string"}function mme(n,e=[]){if(!hme(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function sB(n=[]){return([,e])=>e&&mme(e,n)}function gme(n){return dh("MuiCircularProgress",n)}$0("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const jl=44,yk=BL`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,wk=BL`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,pme=typeof yk!="string"?HS`
        animation: ${yk} 1.4s linear infinite;
      `:null,bme=typeof wk!="string"?HS`
        animation: ${wk} 1.4s ease-in-out infinite;
      `:null,yme=n=>{const{classes:e,variant:t,color:r,disableShrink:i}=n,s={root:["root",t,`color${ws(r)}`],svg:["svg"],circle:["circle",`circle${ws(t)}`,i&&"circleDisableShrink"]};return W0(s,gme,e)},wme=Lu("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${ws(t.color)}`]]}})(rv(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:pme||{animation:`${yk} 1.4s linear infinite`}},...Object.entries(n.palette).filter(sB()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),vme=Lu("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),_me=Lu("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${ws(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(rv(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:bme||{animation:`${wk} 1.4s ease-in-out infinite`}}]}))),xme=O.forwardRef(function(e,t){const r=j0({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:f=0,variant:m="indeterminate",...p}=r,y={...r,color:s,disableShrink:o,size:a,thickness:u,value:f,variant:m},v=yme(y),w={},E={},k={};if(m==="determinate"){const T=2*Math.PI*((jl-u)/2);w.strokeDasharray=T.toFixed(3),k["aria-valuenow"]=Math.round(f),w.strokeDashoffset=`${((100-f)/100*T).toFixed(3)}px`,E.transform="rotate(-90deg)"}return Zo.jsx(wme,{className:Bi(v.root,i),style:{width:a,height:a,...E,...l},ownerState:y,ref:t,role:"progressbar",...k,...p,children:Zo.jsx(vme,{className:v.svg,ownerState:y,viewBox:`${jl/2} ${jl/2} ${jl} ${jl}`,children:Zo.jsx(_me,{className:v.circle,style:w,ownerState:y,cx:jl,cy:jl,r:(jl-u)/2,fill:"none",strokeWidth:u})})})});function Eme(n){return dh("MuiTypography",n)}$0("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const kme={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Tme=fme(),Sme=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:s,classes:o}=n,a={root:["root",s,n.align!=="inherit"&&`align${ws(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return W0(a,Eme,o)},Cme=Lu("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${ws(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(rv(({theme:n})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(n.palette).filter(sB()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${ws(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),DR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},vk=O.forwardRef(function(e,t){const{color:r,...i}=j0({props:e,name:"MuiTypography"}),s=!kme[r],o=Tme({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:f=!1,noWrap:m=!1,paragraph:p=!1,variant:y="body1",variantMapping:v=DR,...w}=o,E={...o,align:a,color:r,className:l,component:u,gutterBottom:f,noWrap:m,paragraph:p,variant:y,variantMapping:v},k=u||(p?"p":v[y]||DR[y])||"span",T=Sme(E);return Zo.jsx(Cme,{as:k,ref:t,className:Bi(T.root,l),...w,ownerState:E,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...w.style}})});function Ame({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const oB=O.createContext(void 0);function Nme(){return O.useContext(oB)}function FR(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function LR(n,e=!1){return n&&(FR(n.value)&&n.value!==""||e&&FR(n.defaultValue)&&n.defaultValue!=="")}function Pme(n){return n.startAdornment}const Rme=$0("MuiBox",["root"]),Ime=iB(),R2=Jfe({themeId:EL,defaultTheme:Ime,defaultClassName:Rme.root,generateClassName:qL.generate});function Ome(n){return dh("MuiFormControl",n)}$0("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Mme=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${ws(t)}`,r&&"fullWidth"]};return W0(i,Ome,e)},Dme=Lu("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${ws(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),aB=O.forwardRef(function(e,t){const r=j0({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:f,fullWidth:m=!1,hiddenLabel:p=!1,margin:y="none",required:v=!1,size:w="medium",variant:E="outlined",...k}=r,T={...r,color:o,component:a,disabled:l,error:u,fullWidth:m,hiddenLabel:p,margin:y,required:v,size:w,variant:E},S=Mme(T),[P,R]=O.useState(()=>{let xe=!1;return i&&O.Children.forEach(i,ne=>{if(!N2(ne,["Input","Select"]))return;const Ee=N2(ne,["Select"])?ne.props.input:ne;Ee&&Pme(Ee.props)&&(xe=!0)}),xe}),[D,A]=O.useState(()=>{let xe=!1;return i&&O.Children.forEach(i,ne=>{N2(ne,["Input","Select"])&&(LR(ne.props,!0)||LR(ne.props.inputProps,!0))&&(xe=!0)}),xe}),[F,V]=O.useState(!1);l&&F&&V(!1);const X=f!==void 0&&!l?f:F;let re;O.useRef(!1);const N=O.useCallback(()=>{A(!0)},[]),te=O.useCallback(()=>{A(!1)},[]),be=O.useMemo(()=>({adornedStart:P,setAdornedStart:R,color:o,disabled:l,error:u,filled:D,focused:X,fullWidth:m,hiddenLabel:p,size:w,onBlur:()=>{V(!1)},onFocus:()=>{V(!0)},onEmpty:te,onFilled:N,registerEffect:re,required:v,variant:E}),[P,o,l,u,D,X,m,p,re,te,N,v,w,E]);return Zo.jsx(oB.Provider,{value:be,children:Zo.jsx(Dme,{as:a,ownerState:T,className:Bi(S.root,s),ref:t,...k,children:i})})});function Fme(n){return dh("MuiFormHelperText",n)}const BR=$0("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var VR;const Lme=n=>{const{classes:e,contained:t,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=n,u={root:["root",i&&"disabled",s&&"error",r&&`size${ws(r)}`,t&&"contained",a&&"focused",o&&"filled",l&&"required"]};return W0(u,Fme,e)},Bme=Lu("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${ws(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(rv(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${BR.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${BR.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),lB=O.forwardRef(function(e,t){const r=j0({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:a,error:l,filled:u,focused:f,margin:m,required:p,variant:y,...v}=r,w=Nme(),E=Ame({props:r,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),k={...r,component:o,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete k.ownerState;const T=Lme(k);return Zo.jsx(Bme,{as:o,className:Bi(T.root,s),ref:t,...v,ownerState:k,children:i===" "?VR||(VR=Zo.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})}),I2=Nhe({createStyledComponent:Lu("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>j0({props:n,name:"MuiStack"})});function Vme(n){return n==="__proto__"}function Ume(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function KS(n){return n==null||typeof n!="object"&&typeof n!="function"}function cB(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function uB(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const zme="[object RegExp]",dB="[object String]",fB="[object Number]",hB="[object Boolean]",mB="[object Arguments]",Hme="[object Symbol]",$me="[object Date]",Wme="[object Map]",jme="[object Set]",qme="[object Array]",Gme="[object ArrayBuffer]",Yme="[object Object]",Kme="[object DataView]",Xme="[object Uint8Array]",Jme="[object Uint8ClampedArray]",Qme="[object Uint16Array]",Zme="[object Uint32Array]",ege="[object Int8Array]",tge="[object Int16Array]",nge="[object Int32Array]",rge="[object Float32Array]",ige="[object Float64Array]";function XS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function sge(n,e){return af(n,void 0,n,new Map,e)}function af(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(KS(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=af(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,af(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(af(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(XS(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=af(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),Kc(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),Kc(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),Kc(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,Kc(o,n,t,r,i),o}if(typeof n=="object"&&oge(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),Kc(o,n,t,r,i),o}return n}function Kc(n,e,t=n,r,i){const s=[...Object.keys(e),...cB(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=af(e[a],a,t,r,i))}}function oge(n){switch(uB(n)){case mB:case qme:case Gme:case Kme:case hB:case $me:case rge:case ige:case ege:case tge:case nge:case Wme:case fB:case Yme:case zme:case jme:case dB:case Hme:case Xme:case Jme:case Qme:case Zme:return!0;default:return!1}}function gB(n,e){return sge(n,(t,r,i,s)=>{const o=e?.(t,r,i,s);if(o!=null)return o;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case fB:case dB:case hB:{const a=new n.constructor(n?.valueOf());return Kc(a,n),a}case mB:{const a={};return Kc(a,n),a.length=n.length,a[Symbol.iterator]=n[Symbol.iterator],a}default:return}})}function UR(n){return gB(n)}function zR(n){return n!==null&&typeof n=="object"&&uB(n)==="[object Arguments]"}function _k(n){return typeof n=="object"&&n!==null}function HR(n){return typeof n=="string"||n instanceof String}function age(){}function lge(n){return XS(n)}function Xc(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function cge(n){if(KS(n))return n;if(Array.isArray(n)||XS(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const r=new t(n);return r.lastIndex=n.lastIndex,r}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const r=new t(n.message);return r.stack=n.stack,r.name=n.name,r.cause=n.cause,r}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const r=Object.create(e);return Object.assign(r,n)}return n}function uge(n,...e){const t=e.slice(0,-1),r=e[e.length-1];let i=n;for(let s=0;s<t.length;s++){const o=t[s];i=Sb(i,o,r,new Map)}return i}function Sb(n,e,t,r){if(KS(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(r.has(e))return cge(r.get(e));if(r.set(e,n),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...cB(e)];for(let s=0;s<i.length;s++){const o=i[s];if(Vme(o))continue;let a=e[o],l=n[o];if(zR(a)&&(a={...a}),zR(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=UR(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const f=[],m=Reflect.ownKeys(l);for(let p=0;p<m.length;p++){const y=m[p];f[y]=l[y]}l=f}else l=[];const u=t(l,a,o,n,e,r);u!=null?n[o]=u:Array.isArray(a)||_k(l)&&_k(a)?n[o]=Sb(l,a,t,r):l==null&&Xc(a)?n[o]=Sb({},a,t,r):l==null&&lge(a)?n[o]=UR(a):(l===void 0||a!==void 0)&&(n[o]=a)}return n}function dge(n,...e){return uge(n,...e,age)}function $R(n){return typeof n=="function"}function pB(n){return _k(n)&&n.nodeType===1&&!Xc(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let qe;try{qe={window,document}}catch{/* istanbul ignore next -- @preserve */qe={window:{},document:{}}}function fge(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Hc=fge(),ot={isMac:bB(Hc),isWindows:hge(Hc),isGecko:mge(Hc),isSafari:gge(Hc),isiOS:pge(Hc),isAndroid:bge(Hc),isBlink:yge(Hc),get isMediaForcedColors(){return wge()}};function bB(n){return n.indexOf("macintosh")>-1}function hge(n){return n.indexOf("windows")>-1}function mge(n){return!!n.match(/gecko\/\d+/)}function gge(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function pge(n){return!!n.match(/iphone|ipad/i)||bB(n)&&navigator.maxTouchPoints>0}function bge(n){return n.indexOf("android")>-1}function yge(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function wge(){return qe.window.matchMedia?qe.window.matchMedia("(forced-colors: active)").matches:!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yB(n,e,t,r){t=t||function(l,u){return l===u};const i=Array.isArray(n)?n:Array.prototype.slice.call(n),s=Array.isArray(e)?e:Array.prototype.slice.call(e),o=vge(i,s,t);return r?xge(o,s.length):_ge(s,o)}function vge(n,e,t){const r=WR(n,e,t);if(r===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=jR(n,r),s=jR(e,r),o=WR(i,s,t),a=n.length-o,l=e.length-o;return{firstIndex:r,lastIndexOld:a,lastIndexNew:l}}function WR(n,e,t){for(let r=0;r<Math.max(n.length,e.length);r++)if(n[r]===void 0||e[r]===void 0||!t(n[r],e[r]))return r;return-1}function jR(n,e){return n.slice(e).reverse()}function _ge(n,e){const t=[],{firstIndex:r,lastIndexOld:i,lastIndexNew:s}=e;return s-r>0&&t.push({index:r,type:"insert",values:n.slice(r,s)}),i-r>0&&t.push({index:r+(s-r),type:"delete",howMany:i-r}),t}function xge(n,e){const{firstIndex:t,lastIndexOld:r,lastIndexNew:i}=n;if(t===-1)return Array(e).fill("equal");let s=[];return t>0&&(s=s.concat(Array(t).fill("equal"))),i-t>0&&(s=s.concat(Array(i-t).fill("insert"))),r-t>0&&(s=s.concat(Array(r-t).fill("delete"))),i<e&&(s=s.concat(Array(e-i).fill("equal"))),s}function Pf(n,e,t){t=t||function(w,E){return w===E};const r=n.length,i=e.length;if(r>200||i>200||r+i>300)return Pf.fastDiff(n,e,t,!0);let s,o;if(i<r){const w=n;n=e,e=w,s="delete",o="insert"}else s="insert",o="delete";const a=n.length,l=e.length,u=l-a,f={},m={};function p(w){const E=(m[w-1]!==void 0?m[w-1]:-1)+1,k=m[w+1]!==void 0?m[w+1]:-1,T=E>k?-1:1;f[w+T]&&(f[w]=f[w+T].slice(0)),f[w]||(f[w]=[]),f[w].push(E>k?s:o);let S=Math.max(E,k),P=S-w;for(;P<a&&S<l&&t(n[P],e[S]);)P++,S++,f[w].push("equal");return S}let y=0,v;do{for(v=-y;v<u;v++)m[v]=p(v);for(v=u+y;v>u;v--)m[v]=p(v);m[u]=p(u),y++}while(m[u]!==l);return f[u].slice(1)}Pf.fastDiff=yB;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qR(){return function n(){n.called=!0}}class ol{source;name;path;stop;off;return;constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=qR(),this.off=qR()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ni=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function ci(){const[n,e,t,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+ni[n>>0&255]+ni[n>>8&255]+ni[n>>16&255]+ni[n>>24&255]+ni[e>>0&255]+ni[e>>8&255]+ni[e>>16&255]+ni[e>>24&255]+ni[t>>0&255]+ni[t>>8&255]+ni[t>>16&255]+ni[t>>24&255]+ni[r>>0&255]+ni[r>>8&255]+ni[r>>16&255]+ni[r>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const fs={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function wB(n,e){const t=fs.get(e.priority);let r=0,i=n.length;for(;r<i;){const s=r+i>>1;fs.get(n[s].priority)<t?i=s:r=s+1}n.splice(r,0,e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Ege="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class q extends Error{context;data;constructor(e,t,r,i){super(Tge(e,r,i)),this.name="CKEditorError",this.context=t,this.data=r,i&&(this.stack=i.stack)}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){throw e.is&&e.is("CKEditorError")?e:new q("unexpected-error",t,void 0,e)}}function It(n,e){console.warn(..._B(n,e))}function kge(n,e){console.error(..._B(n,e))}function vB(n){return`
Read more: ${Ege}#error-${n}`}function Tge(n,e,t){const r=new WeakSet,s=e?` ${JSON.stringify(e,(l,u)=>{if(typeof u=="object"&&u!==null){if(r.has(u))return`[object ${u.constructor.name}]`;r.add(u)}return u})}`:"",o=vB(n),a=t?`
Original error: ${t.name}: ${t.message}`:"";return n+s+o+a}function _B(n,e){const t=vB(n);return e?[n,e,t]:[n,t]}const Sge="47.3.0",Cge=new Date(2025,11,3);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new q("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Sge;const Zd=Symbol("listeningTo"),xk=Symbol("emitterId"),Oa=Symbol("delegations"),Age=an(Object);function an(n){if(!n)return Age;class e extends n{on(r,i,s){this.listenTo(this,r,i,s)}once(r,i,s){let o=!1;const a=(l,...u)=>{o||(o=!0,l.off(),i.call(this,l,...u))};this.listenTo(this,r,a,s)}off(r,i){this.stopListening(this,r,i)}listenTo(r,i,s,o={}){let a,l;this[Zd]||(this[Zd]={});const u=this[Zd];O2(r)||xB(r);const f=O2(r);(a=u[f])||(a=u[f]={emitter:r,callbacks:{}}),(l=a.callbacks[i])||(l=a.callbacks[i]=[]),l.push(s),Oge(this,r,i,s,o)}stopListening(r,i,s){const o=this[Zd];let a=r&&O2(r);const l=o&&a?o[a]:void 0,u=l&&i?l.callbacks[i]:void 0;if(!(!o||r&&!l||i&&!u))if(s)M2(this,r,i,s),u.indexOf(s)!==-1&&(u.length===1?delete l.callbacks[i]:M2(this,r,i,s));else if(u){for(;s=u.pop();)M2(this,r,i,s);delete l.callbacks[i]}else if(l){for(i in l.callbacks)this.stopListening(r,i);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[Zd]}}fire(r,...i){try{const s=r instanceof ol?r:new ol(this,r),o=s.name;let a=Ige(this,o);if(s.path.push(this),a){a=a.slice();for(let u=0;u<a.length;u++){const f=a[u].callback;if(f.call(this,s,...i),s.off.called&&(delete s.off.called,this._removeEventListener(o,f)),s.stop.called)break}}const l=this[Oa];if(l){const u=l.get(o),f=l.get("*");u&&GR(u,s,i),f&&GR(f,s,i)}return s.return}catch(s){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(s,this)}}delegate(...r){return{to:(i,s)=>{this[Oa]||(this[Oa]=new Map),r.forEach(o=>{const a=this[Oa].get(o);a?a.set(i,s):this[Oa].set(o,new Map([[i,s]]))})}}}stopDelegating(r,i){if(this[Oa])if(!r)this[Oa].clear();else if(!i)this[Oa].delete(r);else{const s=this[Oa].get(r);s&&s.delete(i)}}_addEventListener(r,i,s){Rge(this,r);const o=Ek(this,r),a=fs.get(s.priority),l={callback:i,priority:a};for(const u of o)wB(u,l)}_removeEventListener(r,i){const s=Ek(this,r);for(const o of s)for(let a=0;a<o.length;a++)o[a].callback==i&&(o.splice(a,1),a--)}}return e}function Nge(n,e){const t=n[Zd];return t&&t[e]?t[e].emitter:null}function xB(n,e){n[xk]||(n[xk]=e||ci())}function O2(n){return n[xk]}function EB(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function Pge(){return{callbacks:[],childEvents:[]}}function Rge(n,e){const t=EB(n);if(t[e])return;let r=e,i=null;const s=[];for(;r!==""&&!t[r];)t[r]=Pge(),s.push(t[r]),i&&t[r].childEvents.push(i),i=r,r=r.substr(0,r.lastIndexOf(":"));if(r!==""){for(const o of s)o.callbacks=t[r].callbacks.slice();t[r].childEvents.push(i)}}function Ek(n,e){const t=EB(n)[e];if(!t)return[];let r=[t.callbacks];for(let i=0;i<t.childEvents.length;i++){const s=Ek(n,t.childEvents[i]);r=r.concat(s)}return r}function Ige(n,e){if(!n._events)return null;let t=e;do{const r=n._events[t];if(r&&r.callbacks&&r.callbacks.length)return r.callbacks;const i=t.lastIndexOf(":");t=i>-1?t.substring(0,i):""}while(t);return null}function GR(n,e,t){for(let[r,i]of n){i?typeof i=="function"&&(i=i(e.name)):i=e.name;const s=new ol(e.source,i);s.path=[...e.path],r.fire(s,...t)}}function Oge(n,e,t,r,i){e._addEventListener?e._addEventListener(t,r,i):n._addEventListener.call(e,t,r,i)}function M2(n,e,t,r){e._removeEventListener?e._removeEventListener(t,r):n._removeEventListener.call(e,t,r)}const mg=Symbol("observableProperties"),Jg=Symbol("boundObservables"),gg=Symbol("boundProperties"),$c=Symbol("decoratedMethods"),YR=Symbol("decoratedOriginal"),Mge=qt(an());function qt(n){if(!n)return Mge;class e extends n{set(r,i){if(Ume(r)){Object.keys(r).forEach(o=>{this.set(o,r[o])},this);return}D2(this);const s=this[mg];if(r in this&&!s.has(r))throw new q("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get(){return s.get(r)},set(o){const a=s.get(r);let l=this.fire(`set:${r}`,r,o,a);l===void 0&&(l=o),(a!==l||!s.has(r))&&(s.set(r,l),this.fire(`change:${r}`,r,l,a))}}),this[r]=i}bind(...r){if(!r.length||!KR(r))throw new q("observable-bind-wrong-properties",this);if(new Set(r).size!==r.length)throw new q("observable-bind-duplicate-properties",this);D2(this);const i=this[gg];r.forEach(o=>{if(i.has(o))throw new q("observable-bind-rebind",this)});const s=new Map;return r.forEach(o=>{const a={property:o,to:[]};i.set(o,a),s.set(o,a)}),{to:Dge,toMany:Fge,_observable:this,_bindProperties:r,_to:[],_bindings:s}}unbind(...r){if(!this[mg])return;const i=this[gg],s=this[Jg];if(r.length){if(!KR(r))throw new q("observable-unbind-wrong-properties",this);r.forEach(o=>{const a=i.get(o);a&&(a.to.forEach(([l,u])=>{const f=s.get(l),m=f[u];m.delete(a),m.size||delete f[u],Object.keys(f).length||(s.delete(l),this.stopListening(l,"change"))}),i.delete(o))})}else s.forEach((o,a)=>{this.stopListening(a,"change")}),s.clear(),i.clear()}decorate(r){D2(this);const i=this[r];if(!i)throw new q("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:r});this.on(r,(s,o)=>{s.return=i.apply(this,o)}),this[r]=function(...s){return this.fire(r,s)},this[r][YR]=i,this[$c]||(this[$c]=[]),this[$c].push(r)}stopListening(r,i,s){if(!r&&this[$c]){for(const o of this[$c])this[o]=this[o][YR];delete this[$c]}super.stopListening(r,i,s)}[mg];[$c];[gg];[Jg]}return e}function D2(n){n[mg]||(Object.defineProperty(n,mg,{value:new Map}),Object.defineProperty(n,Jg,{value:new Map}),Object.defineProperty(n,gg,{value:new Map}))}function Dge(...n){const e=Bge(...n),t=Array.from(this._bindings.keys()),r=t.length;if(!e.callback&&e.to.length>1)throw new q("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new q("observable-bind-to-extra-callback",this);e.to.forEach(i=>{if(i.properties.length&&i.properties.length!==r)throw new q("observable-bind-to-properties-length",this);i.properties.length||(i.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),zge(this._observable,this._to),Uge(this),this._bindProperties.forEach(i=>{kB(this._observable,i)})}function Fge(n,e,t){if(this._bindings.size>1)throw new q("observable-bind-to-many-not-one-binding",this);this.to(...Lge(n,e),t)}function Lge(n,e){const t=n.map(r=>[r,e]);return Array.prototype.concat.apply([],t)}function KR(n){return n.every(e=>typeof e=="string")}function Bge(...n){if(!n.length)throw new q("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof n[n.length-1]=="function"&&(e.callback=n.pop()),n.forEach(r=>{if(typeof r=="string")t.properties.push(r);else if(typeof r=="object")t={observable:r,properties:[]},e.to.push(t);else throw new q("observable-bind-to-parse-error",null)}),e}function Vge(n,e,t,r){const i=n[Jg],s=i.get(t),o=s||{};o[r]||(o[r]=new Set),o[r].add(e),s||i.set(t,o)}function Uge(n){let e;n._bindings.forEach((t,r)=>{n._to.forEach(i=>{e=i.properties[t.callback?0:n._bindProperties.indexOf(r)],t.to.push([i.observable,e]),Vge(n._observable,t,i.observable,e)})})}function kB(n,e){const r=n[gg].get(e);let i;r.callback?i=r.callback.apply(n,r.to.map(s=>s[0][s[1]])):(i=r.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(n,e)?n[e]=i:n.set(e,i)}function zge(n,e){e.forEach(t=>{const r=n[Jg];let i;r.get(t.observable)||n.listenTo(t.observable,"change",(s,o)=>{i=r.get(t.observable)[o],i&&i.forEach(a=>{kB(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function kk(n){let e=0;for(const t of n)e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Pr(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)if(n[r]!=e[r])return r;return n.length==e.length?"same":n.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function vs(n){return!!(n&&n[Symbol.iterator])}function ao(n,e,t={},r=[]){const i=t&&t.xmlns,s=i?n.createElementNS(i,e):n.createElement(e);for(const o in t)s.setAttribute(o,t[o]);(HR(r)||!vs(r))&&(r=[r]);for(let o of r)HR(o)&&(o=n.createTextNode(o)),s.appendChild(o);return s}class TB{_config;constructor(e,t){this._config=Object.create(null),t&&this.define(XR(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,r,i=!1){if(Xc(t)){this._setObjectToTarget(e,t,i);return}const s=t.split(".");t=s.pop();for(const o of s)Xc(e[o])||(e[o]=Object.create(null)),e=e[o];if(Xc(r)){Xc(e[t])||(e[t]=Object.create(null)),e=e[t],this._setObjectToTarget(e,r,i);return}i&&typeof e[t]<"u"||(e[t]=r)}_getFromSource(e,t){const r=t.split(".");t=r.pop();for(const i of r){if(!Xc(e[i])){e=null;break}e=e[i]}return e?XR(e[t]):void 0}_setObjectToTarget(e,t,r){Object.keys(t).forEach(i=>{this._setToTarget(e,i,t[i],r)})}}function XR(n){return gB(n,Hge)}function Hge(n){return pB(n)||typeof n=="function"?n:void 0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cc(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _y(n){const e=Object.prototype.toString.apply(n);return e=="[object Window]"||e=="[object global]"}const $ge=Ei(an());function Ei(n){if(!n)return $ge;class e extends n{listenTo(r,i,s,o={}){if(cc(r)||_y(r)||r instanceof qe.window.EventTarget){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(r,a)||new Wge(r,a);this.listenTo(l,i,s,o)}else super.listenTo(r,i,s,o)}stopListening(r,i,s){if(cc(r)||_y(r)||r instanceof qe.window.EventTarget){const o=this._getAllProxyEmitters(r);for(const a of o)this.stopListening(a,i,s)}else super.stopListening(r,i,s)}_getProxyEmitter(r,i){return Nge(this,SB(r,i))}_getAllProxyEmitters(r){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(r,i)).filter(i=>!!i)}}return e}class Wge extends an(){_domNode;_options;constructor(e,t){super(),xB(this,SB(e,t)),this._domNode=e,this._options=t}_domListeners;attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,r){this.attach(e),an().prototype._addEventListener.call(this,e,t,r)}_removeEventListener(e,t){an().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=r=>{this.fire(e,r)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function jge(n){return n["data-ck-expando"]||(n["data-ck-expando"]=ci())}function SB(n,e){let t=jge(n);for(const r of Object.keys(e).sort())e[r]&&(t+="-"+r);return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qge(n){const e=[];let t=n;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Gge(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function CB(n){const e=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function AB(n){if(!n.target)return null;const e=n.target.ownerDocument,t=n.clientX,r=n.clientY;let i=null;return e.caretRangeFromPoint&&e.caretRangeFromPoint(t,r)?i=e.caretRangeFromPoint(t,r):n.rangeParent&&(i=e.createRange(),i.setStart(n.rangeParent,n.rangeOffset),i.collapse(!0)),i}function NB(n){return!n||!n.parentNode||n.offsetParent===qe.document.body?null:n.offsetParent}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Dn(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iv(n){return Object.prototype.toString.apply(n)=="[object Range]"}const PB=["top","right","bottom","left","width","height"];class pt{top;right;bottom;left;width;height;_source;constructor(e){const t=iv(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Tk(e)||t)if(t){const r=pt.getDomRangeRects(e);M1(this,pt.getBoundingRect(r))}else M1(this,e.getBoundingClientRect());else if(_y(e)){const{innerWidth:r,innerHeight:i}=e;M1(this,{top:0,right:r,bottom:i,left:0,width:r,height:i})}else M1(this,e)}clone(){return new pt(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const r=new pt(t);return r._source=this._source,r}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(JR(e))return t;let r=e,i=e.parentNode||e.commonAncestorContainer,s;for(;i&&!JR(i);){const o=Yge(i)==="visible";r instanceof HTMLElement&&QR(r)==="absolute"&&(s=r);const a=QR(i);if(o||s&&(a==="relative"&&o||a!=="relative")){r=i,i=i.parentNode;continue}const l=new pt(i),u=t.getIntersection(l);if(u)u.getArea()<t.getArea()&&(t=u);else return null;r=i,i=i.parentNode}return t}isEqual(e){for(const t of PB)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=qe.window,r=this.clone().moveBy(e,t);if(Tk(r._source)){const i=NB(r._source);i&&Kge(r,i)}return r}excludeScrollbarsAndBorders(){const e=this._source;let t,r,i;if(_y(e))t=e.innerWidth-e.document.documentElement.clientWidth,r=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{const s=CB(e);t=e.offsetWidth-e.clientWidth-s.left-s.right,r=e.offsetHeight-e.clientHeight-s.top-s.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,i==="ltr"?this.right-=t:this.left+=t,this.height-=r,this.bottom-=r,this}static getDomRangeRects(e){const t=[],r=Array.from(e.getClientRects());if(r.length)for(const i of r)t.push(new pt(i));else{let i=e.startContainer;Dn(i)&&(i=i.parentNode);const s=new pt(i.getBoundingClientRect());s.right=s.left,s.width=0,t.push(s)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let r=0;for(const i of e)r++,t.left=Math.min(t.left,i.left),t.top=Math.min(t.top,i.top),t.right=Math.max(t.right,i.right),t.bottom=Math.max(t.bottom,i.bottom);return r==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new pt(t))}}function M1(n,e){for(const t of PB)n[t]=e[t]}function JR(n){return Tk(n)?n===n.ownerDocument.body:!1}function Tk(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function QR(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function Yge(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function Kge(n,e){const t=new pt(e),r=CB(e);let i=0,s=0;i-=t.left,s-=t.top,i+=e.scrollLeft,s+=e.scrollTop,i-=r.left,s-=r.top,n.moveBy(i,s)}class Cn{_element;_callback;static _observerInstance=null;static _elementCallbacks=null;constructor(e,t){Cn._observerInstance||Cn._createObserver(),this._element=e,this._callback=t,Cn._addElementCallback(e,t),Cn._observerInstance.observe(e)}get element(){return this._element}destroy(){Cn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Cn._elementCallbacks||(Cn._elementCallbacks=new Map);let r=Cn._elementCallbacks.get(e);r||(r=new Set,Cn._elementCallbacks.set(e,r)),r.add(t)}static _deleteElementCallback(e,t){const r=Cn._getElementCallbacks(e);r&&(r.delete(t),r.size||(Cn._elementCallbacks.delete(e),Cn._observerInstance.unobserve(e))),Cn._elementCallbacks&&!Cn._elementCallbacks.size&&(Cn._observerInstance=null,Cn._elementCallbacks=null)}static _getElementCallbacks(e){return Cn._elementCallbacks?Cn._elementCallbacks.get(e):null}static _createObserver(){Cn._observerInstance=new qe.window.ResizeObserver(e=>{for(const t of e){const r=Cn._getElementCallbacks(t.target);if(r)for(const i of r)i(t)}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZR(n,e){n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fh(n){return e=>e+n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lf(n){let e=0;for(;n.previousSibling;)n=n.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function RB(n,e,t){n.insertBefore(t,n.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pg(n){return n&&n.nodeType===Node.COMMENT_NODE}function IB(n){try{qe.document.createAttribute(n)}catch{return!1}return!0}function sa(n){return n?Dn(n)?sa(n.parentElement):n.getClientRects?!!n.getClientRects().length:!1:!1}function JS({element:n,target:e,positions:t,limiter:r,fitInViewport:i,viewportOffsetConfig:s}){$R(e)&&(e=e()),$R(r)&&(r=r());const o=NB(n),a=OB(s),l=new pt(n),u=eI(e,a);let f;if(!u||!a.getIntersection(u))return null;const m={targetRect:u,elementRect:l,positionedElementAncestor:o,viewportRect:a};if(!r&&!i)f=new MB(t[0],m);else{if(r){const p=eI(r,a);p&&(m.limiterRect=p)}f=Xge(t,m)}return f}function eI(n,e){const t=new pt(n).getVisible();return t?t.getIntersection(e):null}function OB(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const e=new pt(qe.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e.left+=n.left,e.right-=n.right,e.width-=n.left+n.right,e}function Xge(n,e){const{elementRect:t}=e,r=t.getArea(),i=n.map(a=>new MB(a,e)).filter(a=>!!a.name);let s=0,o=null;for(const a of i){const{limiterIntersectionArea:l,viewportIntersectionArea:u}=a;if(l===r)return a;const f=u**2+l**2;f>s&&(s=f,o=a)}return o}class MB{name;config;_positioningFunctionCoordinates;_options;_cachedRect;_cachedAbsoluteRect;constructor(e,t){const r=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!r)return;const{left:i,top:s,name:o,config:a}=r;this.name=o,this.config=a,this._positioningFunctionCoordinates={left:i,top:s},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function tI(n){const e=n.parentNode;e&&e.removeChild(n)}function Jge(){const n=qe.window.visualViewport;if(!n||!(ot.isiOS||ot.isSafari))return{left:0,top:0};const e=Math.max(Math.round(n.offsetLeft),0),t=Math.max(Math.round(n.offsetTop),0);return{left:e,top:t}}function DB({target:n,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:r,forceScroll:i}){const s=QS(n);let o=s,a=null;for(e=e0e(e);o;){let l;o==s?l=nI(n):l=nI(a),Zge({parent:l,getRect:()=>F2(n,o),alignToTop:r,ancestorOffset:t,forceScroll:i});let u=F2(n,o);const f=F2(l,o);if(u.height>f.height){const m=u.getIntersection(f);m&&(u=m)}if(Qge({window:o,rect:u,viewportOffset:e,alignToTop:r,forceScroll:i}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function Qge({window:n,rect:e,alignToTop:t,forceScroll:r,viewportOffset:i}){const s=e.clone().moveBy(0,i.bottom),o=e.clone().moveBy(0,-i.top),a=new pt(n).excludeScrollbarsAndBorders(),l=[o,s],u=t&&r,f=l.every(w=>a.contains(w));let{scrollX:m,scrollY:p}=n;const y=m,v=p;u?p-=a.top-e.top+i.top:f||(LB(o,a)?p-=a.top-e.top+i.top:FB(s,a)&&(t?p+=e.top-a.top-i.top:p+=e.bottom-a.bottom+i.bottom)),f||(BB(e,a)?m-=a.left-e.left+i.left:VB(e,a)&&(m+=e.right-a.right+i.right)),(m!=y||p!==v)&&n.scrollTo(m,p)}function Zge({parent:n,getRect:e,alignToTop:t,forceScroll:r,ancestorOffset:i=0,limiterElement:s}){const o=QS(n),a=t&&r;let l,u,f;const m=s||o.document.body;for(;n!=m;)u=e(),l=new pt(n).excludeScrollbarsAndBorders(),f=l.contains(u),a?n.scrollTop-=l.top-u.top+i:f||(LB(u,l)?n.scrollTop-=l.top-u.top+i:FB(u,l)&&(t?n.scrollTop+=u.top-l.top-i:n.scrollTop+=u.bottom-l.bottom+i)),f||(BB(u,l)?n.scrollLeft-=l.left-u.left+i:VB(u,l)&&(n.scrollLeft+=u.right-l.right+i)),n=n.parentNode}function FB(n,e){return n.bottom>e.bottom}function LB(n,e){return n.top<e.top}function BB(n,e){return n.left<e.left}function VB(n,e){return n.right>e.right}function QS(n){return iv(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function nI(n){if(iv(n)){let e=n.commonAncestorContainer;return Dn(e)&&(e=e.parentNode),e}else return n.parentNode}function F2(n,e){const t=QS(n),r=new pt(n);if(t===e)return r;{let i=t;for(;i!=e;){const s=i.frameElement,o=new pt(s).excludeScrollbarsAndBorders();r.moveBy(o.left,o.top),i=i.parent}}return r}function e0e(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}const t0e={ctrl:"",cmd:"",alt:"",shift:""},n0e={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},rI={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},xt=a0e(),r0e=Object.fromEntries(Object.entries(xt).map(([n,e])=>{let t;return e in rI?t=rI[e]:t=n.charAt(0).toUpperCase()+n.slice(1),[e,t]}));function Au(n){let e;if(typeof n=="string"){if(e=xt[n.toLowerCase()],!e)throw new q("keyboard-unknown-key",null,{key:n})}else e=n.keyCode+(n.altKey?xt.alt:0)+(n.ctrlKey?xt.ctrl:0)+(n.shiftKey?xt.shift:0)+(n.metaKey?xt.cmd:0);return e}function sv(n){return typeof n=="string"&&(n=l0e(n)),n.map(e=>typeof e=="string"?s0e(e):e).reduce((e,t)=>t+e,0)}function xy(n,e){let t=sv(n);const r=ot.isMac||ot.isiOS;return Object.entries(r?t0e:n0e).reduce((o,[a,l])=>((t&xt[a])!=0&&(t&=~xt[a],o+=l),o),"")+(t?r0e[t]:"")}function i0e(n){return n==xt.arrowright||n==xt.arrowleft||n==xt.arrowup||n==xt.arrowdown}function ov(n,e){const t=e==="ltr";switch(n){case xt.arrowleft:return t?"left":"right";case xt.arrowright:return t?"right":"left";case xt.arrowup:return"up";case xt.arrowdown:return"down"}}function s0e(n){if(n.endsWith("!"))return Au(n.slice(0,-1));const e=Au(n);return(ot.isMac||ot.isiOS)&&e==xt.ctrl?xt.cmd:e}function o0e(n,e){const t=ov(n,e);return t==="down"||t==="right"}function a0e(){const n={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);n[t.toLowerCase()]=e}for(let e=48;e<=57;e++)n[e-48]=e;for(let e=112;e<=123;e++)n["f"+(e-111)]=e;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function l0e(n){return n.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const c0e=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig","ur","urd"];function iI(n){return c0e.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Gt(n){return Array.isArray(n)?n:[n]}/* istanbul ignore else -- @preserve */qe.window.CKEDITOR_TRANSLATIONS||(qe.window.CKEDITOR_TRANSLATIONS={});function u0e(n,e,t=1,r){if(typeof t!="number")throw new q("translation-service-quantity-not-a-number",null,{quantity:t});const i=r||qe.window.CKEDITOR_TRANSLATIONS,s=h0e(i);s===1&&(n=Object.keys(i)[0]);const o=e.id||e.string;if(s===0||!f0e(n,o,i))return t!==1?e.plural:e.string;const a=i[n].dictionary,l=i[n].getPluralForm||(m=>m===1?0:1),u=a[o];if(typeof u=="string")return u;const f=Number(l(t));return u[f]}function d0e(n){return Array.isArray(n)?n.reduce((e,t)=>dge(e,t)):n}function f0e(n,e,t){return!!t[n]&&!!t[n].dictionary[e]}function h0e(n){return Object.keys(n).length}class m0e{uiLanguage;uiLanguageDirection;contentLanguage;contentLanguageDirection;t;translations;constructor({uiLanguage:e="en",contentLanguage:t,translations:r}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=iI(this.uiLanguage),this.contentLanguageDirection=iI(this.contentLanguage),this.translations=d0e(r),this.t=(i,s)=>this._t(i,s)}_t(e,t=[]){t=Gt(t),typeof e=="string"&&(e={string:e});const i=!!e.plural?t[0]:1,s=u0e(this.uiLanguage,e,i,this.translations);return g0e(s,t)}}function g0e(n,e){return n.replace(/%(\d+)/g,(t,r)=>r<e.length?e[r]:t)}class sr extends an(){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(e={},t={}){super();const r=vs(e);if(r||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const i of e)this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new q("collection-add-item-invalid-index",this);let r=0;for(const i of e){const s=this._getItemIdBeforeAdding(i),o=t+r;this._items.splice(o,0,i),this._itemMap.set(s,i),this.fire("add",i,o),r++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new q("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,r=e[t];return r&&this._itemMap.has(r)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,r]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:r}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new q("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(r=>new t(r))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(r=>r[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,r=(i,s,o)=>{const a=t._bindToCollection==this,l=t._bindToInternalToExternalMap.get(s);if(a&&l)this._bindToExternalToInternalMap.set(s,l),this._bindToInternalToExternalMap.set(l,s);else{const u=e(s);if(!u){this._skippedIndexesFromExternal.push(o);return}let f=o;for(const m of this._skippedIndexesFromExternal)o>m&&f--;for(const m of t._skippedIndexesFromExternal)f>=m&&f++;this._bindToExternalToInternalMap.set(s,u),this._bindToInternalToExternalMap.set(u,s),this.add(u,f);for(let m=0;m<t._skippedIndexesFromExternal.length;m++)f<=t._skippedIndexesFromExternal[m]&&t._skippedIndexesFromExternal[m]++}};for(const i of t)r(null,i,t.getIndex(i));this.listenTo(t,"add",r),this.listenTo(t,"remove",(i,s,o)=>{const a=this._bindToExternalToInternalMap.get(s);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,u)=>(o<u&&l.push(u-1),o>u&&l.push(u),l),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let r;if(t in e){if(r=e[t],typeof r!="string")throw new q("collection-add-invalid-id",this);if(this.get(r))throw new q("collection-add-item-already-exists",this)}else e[t]=r=ci();return r}_remove(e){let t,r,i,s=!1;const o=this._idProperty;if(typeof e=="string"?(r=e,i=this._itemMap.get(r),s=!i,i&&(t=this._items.indexOf(i))):typeof e=="number"?(t=e,i=this._items[t],s=!i,i&&(r=i[o])):(i=e,r=i[o],t=this._items.indexOf(i),s=t==-1||!this._itemMap.get(r)),s)throw new q("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(r);const a=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(a),this.fire("remove",i,t),[i,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _n(n){const e=n.next();return e.done?null:e.value}class Yt extends Ei(qt()){_elements=new Set;_externalViews=new Set;_blurTimeout=null;constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(oI(e))this._addElement(e);else if(sI(e))this._addView(e);else{if(!e.element)throw new q("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){oI(e)?this._removeElement(e):sI(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new q("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const t=this.externalViews.find(r=>p0e(e,r));t?this._focus(t.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(r=>r.contains(document.activeElement))||this.externalViews.find(r=>r.focusTracker.isFocused&&!r.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function sI(n){return"focusTracker"in n&&n.focusTracker instanceof Yt}function oI(n){return pB(n)}function p0e(n,e){return aI(n,e)?!0:!!e.focusTracker.externalViews.find(t=>aI(n,t))}function aI(n,e){return!!e.element&&e.element.contains(document.activeElement)&&n.contains(e.element)}class bn{_listener;constructor(){this._listener=new(Ei())}listenTo(e){this._listener.listenTo(e,"keydown",(t,r)=>{this._listener.fire("_keydown:"+Au(r),r)})}set(e,t,r={}){const i=sv(e),s=r.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(o,a)=>{r.filter&&!r.filter(a)||(t(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0)},{priority:s})}press(e){return!!this._listener.fire("_keydown:"+Au(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function b0e(n){const e=new Map;for(const t in n)e.set(t,n[t]);return e}function oa(n){return vs(n)?new Map(n):b0e(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lI(n,e,t){const r=n.length,i=e.length;for(let s=r-1;s>=t;s--)n[s+i]=n[s];for(let s=0;s<i;s++)n[t+s]=e[s]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZS(n,e){let t;function r(...i){r.cancel(),t=setTimeout(()=>n(...i),e)}return r.cancel=()=>{clearTimeout(t)},r}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function eC(n){try{if(!n.startsWith("ey"))return null;const e=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(e)}catch{return null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function y0e(){const n=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;n[e]=t}return n}function w0e(n){const e=Array.isArray(n)?n:[n],t=y0e();let r=-1;const i=e.map(s=>Array.isArray(s)?s.join(""):String(s)).join("");for(let s=0;s<i.length;s++){const o=i.charCodeAt(s);r=r>>>8^t[(r^o)&255]}return r=(r^-1)>>>0,r.toString(16).padStart(8,"0")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function v0e(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function _0e(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function x0e(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function tC(n,e){return _0e(n.charAt(e-1))&&x0e(n.charAt(e))}function nC(n,e){return v0e(n.charAt(e))}const E0e=k0e();function UB(n,e){const t=String(n).matchAll(E0e);return Array.from(t).some(r=>r.index<e&&e<r.index+r[0].length)}function k0e(){const n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+n.map(i=>i.source).join("|")+")",r=`${e}|${t}(?:${t})*`;return new RegExp(r,"ug")}function cI(n){if(!n)return null;const e=T0e(n);return e?eC(e):null}function T0e(n){const e=n.split(".");return e.length!=3?null:e[1]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function S0e(n,e){return(n.removeFeatures||[]).includes(e)}function Ey(n){return n==="__proto__"}function C0e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function zB(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}function HB(n){const e=[],t=n.length;if(t===0)return e;let r=0,i="",s="",o=!1;for(n.charCodeAt(0)===46&&(e.push(""),r++);r<t;){const a=n[r];s?a==="\\"&&r+1<t?(r++,i+=n[r]):a===s?s="":i+=a:o?a==='"'||a==="'"?s=a:a==="]"?(o=!1,e.push(i),i=""):i+=a:a==="["?(o=!0,i&&(e.push(i),i="")):a==="."?i&&(e.push(i),i=""):i+=a,r++}return i&&e.push(i),e}function $B(n,e,t){if(n==null)return t;switch(typeof e){case"string":{if(Ey(e))return t;const r=n[e];return r===void 0?C0e(e)?$B(n,HB(e),t):t:r}case"number":case"symbol":{typeof e=="number"&&(e=zB(e));const r=n[e];return r===void 0?t:r}default:{if(Array.isArray(e))return A0e(n,e,t);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),Ey(e))return t;const r=n[e];return r===void 0?t:r}}}function A0e(n,e,t){if(e.length===0)return t;let r=n;for(let i=0;i<e.length;i++){if(r==null||Ey(e[i]))return t;r=r[e[i]]}return r===void 0?t:r}function uI(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function N0e(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}const P0e=/^(?:0|[1-9]\d*)$/;function R0e(n,e=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<e;case"symbol":return!1;case"string":return P0e.test(n)}}function I0e(n){return typeof n=="symbol"||n instanceof Symbol}const O0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M0e=/^\w*$/;function D0e(n,e){return Array.isArray(n)?!1:typeof n=="number"||typeof n=="boolean"||n==null||I0e(n)?!0:typeof n=="string"&&(M0e.test(n)||!O0e.test(n))||e!=null&&Object.hasOwn(e,n)}const F0e=(n,e,t)=>{const r=n[e];(!(Object.hasOwn(n,e)&&N0e(r,t))||t===void 0&&!(e in n))&&(n[e]=t)};function L0e(n,e,t,r){if(n==null&&!uI(n))return n;const i=D0e(e,n)?[e]:Array.isArray(e)?e:typeof e=="string"?HB(e):[e];let s=n;for(let o=0;o<i.length&&s!=null;o++){const a=zB(i[o]);if(Ey(a))continue;let l;if(o===i.length-1)l=t(s[a]);else{const u=s[a],f=r?.(u,a,n);l=f!==void 0?f:uI(u)?u:R0e(i[o+1])?[]:{}}F0e(s,a,l),s=s[a]}return n}function B0e(n,e,t){return L0e(n,e,()=>t,()=>{})}function V0e(n){return Number.isSafeInteger(n)&&n>=0}function U0e(n){return n!=null&&typeof n!="function"&&V0e(n.length)}function Qg(n){return n==="__proto__"}function z0e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function WB(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}function jB(n){const e=[],t=n.length;if(t===0)return e;let r=0,i="",s="",o=!1;for(n.charCodeAt(0)===46&&(e.push(""),r++);r<t;){const a=n[r];s?a==="\\"&&r+1<t?(r++,i+=n[r]):a===s?s="":i+=a:o?a==='"'||a==="'"?s=a:a==="]"?(o=!1,e.push(i),i=""):i+=a:a==="["?(o=!0,i&&(e.push(i),i="")):a==="."?i&&(e.push(i),i=""):i+=a,r++}return i&&e.push(i),e}function Zg(n,e,t){if(n==null)return t;switch(typeof e){case"string":{if(Qg(e))return t;const r=n[e];return r===void 0?z0e(e)?Zg(n,jB(e),t):t:r}case"number":case"symbol":{typeof e=="number"&&(e=WB(e));const r=n[e];return r===void 0?t:r}default:{if(Array.isArray(e))return H0e(n,e,t);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),Qg(e))return t;const r=n[e];return r===void 0?t:r}}}function H0e(n,e,t){if(e.length===0)return t;let r=n;for(let i=0;i<e.length;i++){if(r==null||Qg(e[i]))return t;r=r[e[i]]}return r===void 0?t:r}function Uf(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function av(n){return n==null||typeof n!="object"&&typeof n!="function"}function rC(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function ky(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function zf(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const lv="[object RegExp]",Hf="[object String]",q0="[object Number]",G0="[object Boolean]",$f="[object Arguments]",cv="[object Symbol]",uv="[object Date]",dv="[object Map]",fv="[object Set]",iC="[object Array]",$0e="[object Function]",hv="[object ArrayBuffer]",bg="[object Object]",W0e="[object Error]",mv="[object DataView]",sC="[object Uint8Array]",oC="[object Uint8ClampedArray]",aC="[object Uint16Array]",lC="[object Uint32Array]",j0e="[object BigUint64Array]",cC="[object Int8Array]",uC="[object Int16Array]",dC="[object Int32Array]",q0e="[object BigInt64Array]",fC="[object Float32Array]",hC="[object Float64Array]";function mC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function G0e(n,e){return cf(n,void 0,n,new Map,e)}function cf(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(av(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=cf(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,cf(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(cf(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(mC(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=cf(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),Jc(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),Jc(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),Jc(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,Jc(o,n,t,r,i),o}if(typeof n=="object"&&Y0e(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),Jc(o,n,t,r,i),o}return n}function Jc(n,e,t=n,r,i){const s=[...Object.keys(e),...ky(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=cf(e[a],a,t,r,i))}}function Y0e(n){switch(zf(n)){case $f:case iC:case hv:case mv:case G0:case uv:case fC:case hC:case cC:case uC:case dC:case dv:case q0:case bg:case lv:case fv:case Hf:case cv:case sC:case oC:case aC:case lC:return!0;default:return!1}}function K0e(n,e){return G0e(n,(t,r,i,s)=>{if(typeof n=="object")switch(Object.prototype.toString.call(n)){case q0:case Hf:case G0:{const o=new n.constructor(n?.valueOf());return Jc(o,n),o}case $f:{const o={};return Jc(o,n),o.length=n.length,o[Symbol.iterator]=n[Symbol.iterator],o}default:return}})}function aa(n){return K0e(n)}const X0e=/^(?:0|[1-9]\d*)$/;function J0e(n,e=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<e;case"symbol":return!1;case"string":return X0e.test(n)}}function dI(n){return n!==null&&typeof n=="object"&&zf(n)==="[object Arguments]"}function fI(n){return typeof n=="object"&&n!==null}function qB(n){return typeof n=="symbol"||n instanceof Symbol}function Q0e(n){return qB(n)?NaN:Number(n)}function Z0e(n){return n?(n=Q0e(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}function epe(n){const e=Z0e(n),t=e%1;return t?e-t:e}const tpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,npe=/^\w*$/;function rpe(n,e){return Array.isArray(n)?!1:typeof n=="number"||typeof n=="boolean"||n==null||qB(n)?!0:typeof n=="string"&&(npe.test(n)||!tpe.test(n))||e!=null&&Object.hasOwn(e,n)}function ipe(n){return Array.isArray(n)}const spe=(n,e,t)=>{const r=n[e];(!(Object.hasOwn(n,e)&&rC(r,t))||t===void 0&&!(e in n))&&(n[e]=t)};function ope(n,e,t,r){if(n==null&&!Uf(n))return n;const i=rpe(e,n)?[e]:Array.isArray(e)?e:typeof e=="string"?jB(e):[e];let s=n;for(let o=0;o<i.length&&s!=null;o++){const a=WB(i[o]);if(Qg(a))continue;let l;if(o===i.length-1)l=t(s[a]);else{const u=s[a],f=r?.(u,a,n);l=f!==void 0?f:Uf(u)?u:J0e(i[o+1])?[]:{}}spe(s,a,l),s=s[a]}return n}function ape(n,e,t){return ope(n,e,()=>t,()=>{})}function lpe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function Sk(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=lpe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function hI(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function GB(n,e,t){return Gm(n,e,void 0,void 0,void 0,void 0,t)}function Gm(n,e,t,r,i,s,o){const a=o(n,e,t,r,i,s);if(a!==void 0)return a;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return yg(n,e,s,o)}return yg(n,e,s,o)}function yg(n,e,t,r){if(Object.is(n,e))return!0;let i=zf(n),s=zf(e);if(i===$f&&(i=bg),s===$f&&(s=bg),i!==s)return!1;switch(i){case Hf:return n.toString()===e.toString();case q0:{const l=n.valueOf(),u=e.valueOf();return rC(l,u)}case G0:case uv:case cv:return Object.is(n.valueOf(),e.valueOf());case lv:return n.source===e.source&&n.flags===e.flags;case $0e:return n===e}t=t??new Map;const o=t.get(n),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(n,e),t.set(e,n);try{switch(i){case dv:{if(n.size!==e.size)return!1;for(const[l,u]of n.entries())if(!e.has(l)||!Gm(u,e.get(l),l,n,e,t,r))return!1;return!0}case fv:{if(n.size!==e.size)return!1;const l=Array.from(n.values()),u=Array.from(e.values());for(let f=0;f<l.length;f++){const m=l[f],p=u.findIndex(y=>Gm(m,y,void 0,n,e,t,r));if(p===-1)return!1;u.splice(p,1)}return!0}case iC:case sC:case oC:case aC:case lC:case j0e:case cC:case uC:case dC:case q0e:case fC:case hC:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let l=0;l<n.length;l++)if(!Gm(n[l],e[l],l,n,e,t,r))return!1;return!0}case hv:return n.byteLength!==e.byteLength?!1:yg(new Uint8Array(n),new Uint8Array(e),t,r);case mv:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:yg(new Uint8Array(n),new Uint8Array(e),t,r);case W0e:return n.name===e.name&&n.message===e.message;case bg:{if(!(yg(n.constructor,e.constructor,t,r)||hI(n)&&hI(e)))return!1;const u=[...Object.keys(n),...ky(n)],f=[...Object.keys(e),...ky(e)];if(u.length!==f.length)return!1;for(let m=0;m<u.length;m++){const p=u[m],y=n[p];if(!Object.hasOwn(e,p))return!1;const v=e[p];if(!Gm(y,v,p,n,e,t,r))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function YB(){}function mI(n,e){return GB(n,e,YB)}function cpe(n){return typeof Buffer<"u"&&Buffer.isBuffer(n)}function upe(n){const e=n?.constructor,t=typeof e=="function"?e.prototype:Object.prototype;return n===t}function gC(n){return mC(n)}function dpe(n,e){if(n=epe(n),n<1||!Number.isSafeInteger(n))return[];const t=new Array(n);for(let r=0;r<n;r++)t[r]=typeof e=="function"?e(r):r;return t}function fpe(n){if(n==null)return[];switch(typeof n){case"object":case"function":return U0e(n)?mpe(n):upe(n)?hpe(n):Ty(n);default:return Ty(Object(n))}}function Ty(n){const e=[];for(const t in n)e.push(t);return e}function hpe(n){return Ty(n).filter(t=>t!=="constructor")}function mpe(n){const e=dpe(n.length,r=>`${r}`),t=new Set(e);return cpe(n)&&(t.add("offset"),t.add("parent")),gC(n)&&(t.add("buffer"),t.add("byteLength"),t.add("byteOffset")),[...e,...Ty(n).filter(r=>!t.has(r))]}function gpe(n,...e){for(let t=0;t<e.length;t++)ppe(n,e[t]);return n}function ppe(n,e){const t=fpe(e);for(let r=0;r<t.length;r++){const i=t[r];(!(i in n)||!rC(n[i],e[i]))&&(n[i]=e[i])}}function bpe(n){if(av(n))return n;const e=zf(n);if(!ype(n))return{};if(ipe(n)){const r=Array.from(n);return n.length>0&&typeof n[0]=="string"&&Object.hasOwn(n,"index")&&(r.index=n.index,r.input=n.input),r}if(gC(n)){const r=n,i=r.constructor;return new i(r.buffer,r.byteOffset,r.length)}if(e===hv)return new ArrayBuffer(n.byteLength);if(e===mv){const r=n,i=r.buffer,s=r.byteOffset,o=r.byteLength,a=new ArrayBuffer(o),l=new Uint8Array(i,s,o);return new Uint8Array(a).set(l),new DataView(a)}if(e===G0||e===q0||e===Hf){const r=n.constructor,i=new r(n.valueOf());return e===Hf?vpe(i,n):L2(i,n),i}if(e===uv)return new Date(Number(n));if(e===lv){const r=n,i=new RegExp(r.source,r.flags);return i.lastIndex=r.lastIndex,i}if(e===cv)return Object(Symbol.prototype.valueOf.call(n));if(e===dv){const r=n,i=new Map;return r.forEach((s,o)=>{i.set(o,s)}),i}if(e===fv){const r=n,i=new Set;return r.forEach(s=>{i.add(s)}),i}if(e===$f){const r=n,i={};return L2(i,r),i.length=r.length,i[Symbol.iterator]=r[Symbol.iterator],i}const t={};return _pe(t,n),L2(t,n),wpe(t,n),t}function ype(n){switch(zf(n)){case $f:case iC:case hv:case mv:case G0:case uv:case fC:case hC:case cC:case uC:case dC:case dv:case q0:case bg:case lv:case fv:case Hf:case cv:case sC:case oC:case aC:case lC:return!0;default:return!1}}function L2(n,e){for(const t in e)Object.hasOwn(e,t)&&(n[t]=e[t])}function wpe(n,e){const t=Object.getOwnPropertySymbols(e);for(let r=0;r<t.length;r++){const i=t[r];Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}}function vpe(n,e){const t=e.valueOf().length;for(const r in e)Object.hasOwn(e,r)&&(Number.isNaN(Number(r))||Number(r)>=t)&&(n[r]=e[r])}function _pe(n,e){const t=Object.getPrototypeOf(e);t!==null&&typeof e.constructor=="function"&&Object.setPrototypeOf(n,t)}function gv(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function xpe(n){if(av(n))return n;if(Array.isArray(n)||mC(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const r=new t(n);return r.lastIndex=n.lastIndex,r}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const r=new t(n.message);return r.stack=n.stack,r.name=n.name,r.cause=n.cause,r}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const r=Object.create(e);return Object.assign(r,n)}return n}function Epe(n,...e){const t=e.slice(0,-1),r=e[e.length-1];let i=n;for(let s=0;s<t.length;s++){const o=t[s];i=Cb(i,o,r,new Map)}return i}function Cb(n,e,t,r){if(av(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(r.has(e))return xpe(r.get(e));if(r.set(e,n),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...ky(e)];for(let s=0;s<i.length;s++){const o=i[s];if(Qg(o))continue;let a=e[o],l=n[o];if(dI(a)&&(a={...a}),dI(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=aa(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const f=[],m=Reflect.ownKeys(l);for(let p=0;p<m.length;p++){const y=m[p];f[y]=l[y]}l=f}else l=[];const u=t(l,a,o,n,e,r);u!=null?n[o]=u:Array.isArray(a)||fI(l)&&fI(a)?n[o]=Cb(l,a,t,r):l==null&&gv(a)?n[o]=Cb({},a,t,r):l==null&&gC(a)?n[o]=aa(a):(l===void 0||a!==void 0)&&(n[o]=a)}return n}function KB(n,...e){return Epe(n,...e,YB)}function gI(n,e){if(!Number.isInteger(n)||n<0)throw new Error("n must be a non-negative integer.");let t=0;return(...r)=>{if(++t>=n)return e(...r)}}function Ck(n,e,t){return typeof t!="function"&&(t=()=>{}),GB(n,e,(...r)=>{const i=t(...r);if(i!==void 0)return!!i;if(n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set)return Ck(Array.from(n),Array.from(e),gI(2,t))})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Sm=new WeakMap;let pI=!1;function pC({view:n,element:e,text:t,isDirectHost:r=!0,keepOnFocus:i=!1}){const s=n.document;Sm.has(s)||(Sm.set(s,new Map),s.registerPostFixer(a=>B2(Sm.get(s),a)),s.on("change:isComposing",()=>{n.change(a=>B2(Sm.get(s),a))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(a,l,u)=>o(u)),e.placeholder?o(e.placeholder):t&&o(t),t&&Ape();function o(a){const l={text:a,isDirectHost:r,keepOnFocus:i,hostElement:r?e:null};Sm.get(s).set(e,l),n.change(u=>B2([[e,l]],u))}}function kpe(n,e){return e.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",e),!0)}function XB(n,e){return e.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",e),!0):!1}function Tpe(n,e){if(!n.isAttached()||Spe(n))return!1;const t=n.document,i=t.selection.anchor;return t.isComposing&&i&&i.parent===n?!1:e||!t.isFocused?!0:!!i&&i.parent!==n}function Spe(n){for(const e of n.getChildren())if(!e.is("uiElement"))return!0;return!1}function B2(n,e){const t=[];let r=!1;for(const[i,s]of n)s.isDirectHost&&(t.push(i),bI(e,i,s)&&(r=!0));for(const[i,s]of n){if(s.isDirectHost)continue;const o=Cpe(i);o!==s.hostElement&&s.hostElement&&(e.removeAttribute("data-placeholder",s.hostElement),XB(e,s.hostElement),s.hostElement=null,r=!0),o&&(t.includes(o)||(s.hostElement=o,bI(e,i,s)&&(r=!0)))}return r}function bI(n,e,t){const{text:r,isDirectHost:i,hostElement:s}=t;let o=!1;return s.getAttribute("data-placeholder")!==r&&(n.setAttribute("data-placeholder",r,s),o=!0),(i||e.childCount==1)&&Tpe(s,t.keepOnFocus)?kpe(n,s)&&(o=!0):XB(n,s)&&(o=!0),o}function Cpe(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function Ape(){pI||It("enableViewPlaceholder-deprecated-text-option"),pI=!0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Bu{is(){throw new Error("is() method is abstract")}}class Vu extends an(Bu){document;parent;constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new q("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),i=e.getAncestors(t);let s=0;for(;r[s]==i[s]&&r[s];)s++;return s===0?null:r[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),i=Pr(t,r);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<r[i]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t,r){this.fire(`change:${e}`,t,r),this.parent&&this.parent._fireChange(e,t,r)}toJSON(){const e={path:this.getPath(),type:"Node"};return this!==this.root&&this.root.is("rootElement")&&(e.root=this.root.toJSON()),e}}Vu.prototype.is=function(n){return n==="node"||n==="view:node"};class hr extends Vu{_textData;constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof hr?this===e||this.data===e.data:!1}toJSON(){const e=super.toJSON();return e.type="Text",e.data=this.data,e}_clone(){return new hr(this.document,this.data)}}hr.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};class Ba extends Bu{textNode;data;offsetInText;constructor(e,t,r){if(super(),this.textNode=e,t<0||t>e.data.length)throw new q("view-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.data.length)throw new q("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}}Ba.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};class Sy{_consumables=new Map;add(e,t){let r;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?r=this._consumables.get(e):(r=new Npe(e),this._consumables.set(e,r)),r.add(t?Ym(t):e._getConsumables())}test(e,t){const r=this._consumables.get(e);return r===void 0?null:e.is("$text")||e.is("documentFragment")?r:r.test(Ym(t))}consume(e,t){if(e.is("$text")||e.is("documentFragment"))return this.test(e,t)?(this._consumables.set(e,!1),!0):!1;const r=this._consumables.get(e);return r===void 0?!1:r.consume(Ym(t))}revert(e,t){const r=this._consumables.get(e);r!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):r.revert(Ym(t)))}static createFrom(e,t){if(t||(t=new Sy),e.is("$text"))t.add(e);else if(e.is("element")||e.is("documentFragment")){t.add(e);for(const r of e.getChildren())Sy.createFrom(r,t)}return t}}class Npe{element;_canConsumeName=null;_attributes=new Map;constructor(e){this.element=e}add(e){e.name&&(this._canConsumeName=!0);for(const[t,r]of e.attributes)if(r){let i=this._attributes.get(t);(!i||typeof i=="boolean")&&(i=new Map,this._attributes.set(t,i)),i.set(r,!0)}else{if(t=="style"||t=="class")throw new q("viewconsumable-invalid-attribute",this);this._attributes.set(t,!0)}}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const[t,r]of e.attributes){const i=this._attributes.get(t);if(i===void 0)return null;if(i===!1)return!1;if(i!==!0){if(r){const s=i.get(r);if(s===void 0)return null;if(!s)return!1}else for(const s of i.values())if(!s)return!1}}return!0}consume(e){if(!this.test(e))return!1;e.name&&(this._canConsumeName=!1);for(const[t,r]of e.attributes){const i=this._attributes.get(t);if(typeof i=="boolean")for(const[s]of this.element._getConsumables(t,r).attributes)this._attributes.set(s,!1);else if(r)for(const[,s]of this.element._getConsumables(t,r).attributes)i.set(s,!1);else for(const s of i.keys())i.set(s,!1)}return!0}revert(e){e.name&&(this._canConsumeName=!0);for(const[t,r]of e.attributes){const i=this._attributes.get(t);if(i===!1){this._attributes.set(t,!0);continue}if(!(i===void 0||i===!0))if(r)i.get(r)===!1&&i.set(r,!0);else for(const s of i.keys())i.set(s,!0)}}}function Ym(n){const e=[];return"attributes"in n&&n.attributes&&V2(e,n.attributes),"classes"in n&&n.classes&&V2(e,n.classes,"class"),"styles"in n&&n.styles&&V2(e,n.styles,"style"),{name:n.name||!1,attributes:e}}function V2(n,e,t){if(typeof e=="string"){n.push(t?[t,e]:[e]);return}for(const r of e)Array.isArray(r)?n.push(r):n.push(t?[t,r]:[r])}class la{_patterns=[];constructor(...e){this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const r of this._patterns){const i=this._isElementMatching(t,r);if(i)return{element:t,pattern:r,match:i}}return null}matchAll(...e){const t=[];for(const r of e)for(const i of this._patterns){const s=this._isElementMatching(r,i);s&&t.push({element:r,pattern:i,match:s})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}_isElementMatching(e,t){if(typeof t=="function"){const s=t(e);return!s||typeof s!="object"?s:Ym(s)}const r={};if(t.name&&(r.name=Ppe(t.name,e.name),!r.name))return null;const i=[];return t.attributes&&!Rpe(t.attributes,e,i)||t.classes&&!Ipe(t.classes,e,i)||t.styles&&!Ope(t.styles,e,i)?null:(i.length&&(r.attributes=i),r)}}function Cy(n,e){return n===!0||n===e||n instanceof RegExp&&!!String(e).match(n)}function Ppe(n,e){return n instanceof RegExp?!!e.match(n):n===e}function bC(n,e){if(Array.isArray(n))return n.map(r=>typeof r!="object"||r instanceof RegExp?e?[e,r,!0]:[r,!0]:((r.key===void 0||r.value===void 0)&&It("matcher-pattern-missing-key-or-value",r),e?[e,r.key,r.value]:[r.key,r.value]));if(typeof n!="object"||n instanceof RegExp)return[e?[e,n,!0]:[n,!0]];const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e?[e,r,n[r]]:[r,n[r]]);return t}function Rpe(n,e,t){let r;return typeof n=="object"&&!(n instanceof RegExp)&&!Array.isArray(n)?(n.style!==void 0&&It("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&It("matcher-pattern-deprecated-attributes-class-key",n)):r=["class","style"],e._collectAttributesMatch(bC(n),t,r)}function Ipe(n,e,t){return e._collectAttributesMatch(bC(n,"class"),t)}function Ope(n,e,t){return e._collectAttributesMatch(bC(n,"style"),t)}class Rf{_styles;_cachedStyleNames=null;_cachedExpandedStyleNames=null;_styleProcessor;constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Dpe(e);for(const[r,i]of t)this._styleProcessor.toNormalizedForm(r,i,this._styles);return this}has(e){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(r)}set(e,t){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,Uf(e))for(const[r,i]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,i,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t={};for(const r of Gt(e)){const i=Ak(r),s=Zg(this._styles,i);if(s)Ab(t,i,s);else{const o=this.getAsString(r);o!==void 0&&this._styleProcessor.toNormalizedForm(r,o,t)}}Object.keys(t).length&&(JB(this._styles,t),this._cachedStyleNames=null,this._cachedExpandedStyleNames=null)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Uf(this._styles[e]))return this._styles[e];const r=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);if(Array.isArray(r))return r[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?(this._cachedExpandedStyleNames||=this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames||=this.getStylesEntries().map(([t])=>t),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(e){if(this.size!==e.size)return!1;for(const t of this.getStyleNames())if(!e.has(t)||e.getAsString(t)!==this.getAsString(t))return!1;return!0}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const r of t)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_clone(){const e=new this.constructor(this._styleProcessor);return e.set(this.getNormalized()),e}_getTokensMatch(e,t){const r=[];for(const i of this.getStyleNames(!0))if(Cy(e,i)){if(t===!0){r.push(i);continue}const s=this.getAsString(i);Cy(t,s)&&r.push(i)}return r.length?r:void 0}_getConsumables(e){const t=[];if(e){t.push(e);for(const r of this._styleProcessor.getRelatedStyles(e))t.push(r)}else for(const r of this.getStyleNames()){for(const i of this._styleProcessor.getRelatedStyles(r))t.push(i);t.push(r)}return t}_canMergeFrom(e){for(const t of e.getStyleNames())if(this.has(t)&&this.getAsString(t)!==e.getAsString(t))return!1;return!0}_mergeFrom(e){for(const t of e.getStyleNames())this.has(t)||this.set(t,e.getAsString(t))}_isMatching(e){for(const t of e.getStyleNames())if(!this.has(t)||this.getAsString(t)!==e.getAsString(t))return!1;return!0}}class Mpe{_normalizers;_extractors;_reducers;_consumables;constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,r){if(Uf(t)){Ab(r,Ak(e),t);return}if(this._normalizers.has(e)){const i=this._normalizers.get(e),{path:s,value:o}=i(t);Ab(r,s,o)}else Ab(r,e,t)}getNormalized(e,t){if(!e)return KB({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const r=this._extractors.get(e);if(typeof r=="string")return Zg(t,r);const i=r(e,t);if(i)return i}return Zg(t,Ak(e))}getReducedForm(e,t){const r=this.getNormalized(e,t);return r===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(r):[[e,r]]}getStyleNames(e){const t=new Set;for(const r of this._consumables.keys()){const i=this.getNormalized(r,e);i&&(typeof i!="object"||Object.keys(i).length)&&t.add(r)}for(const r of Object.keys(e))t.add(r);return Array.from(t)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const r of t)this._mapStyleNames(r,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Dpe(n){let e=null,t=0,r=0,i=null;const s=new Map;if(n==="")return s;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const a=n.charAt(o);if(e===null)switch(a){case":":i||(i=n.substr(t,o-t),r=o+1);break;case'"':case"'":e=a;break;case";":{const l=n.substr(r,o-r);i&&s.set(i.trim(),l.trim()),i=null,t=o+1;break}}else a===e&&(e=null)}return s}function Ak(n){return n.replace("-",".")}function Ab(n,e,t){let r=t;Uf(t)&&(r=KB({},Zg(n,e),t)),ape(n,e,r)}function JB(n,e){for(const t of Object.keys(e))n[t]!==null&&!Array.isArray(n[t])&&typeof n[t]=="object"&&typeof e[t]=="object"?(JB(n[t],e[t]),Object.keys(n[t]).length||delete n[t]):delete n[t]}class U2{_set=new Set;get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(e){return this._set.has(e)}keys(){return Array.from(this._set.keys())}setTo(e){this.clear();for(const t of e.split(/\s+/))t&&this._set.add(t);return this}set(e){for(const t of Gt(e))t&&this._set.add(t)}remove(e){for(const t of Gt(e))this._set.delete(t)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(e){if(this.size!==e.size)return!1;for(const t of this.keys())if(!e.has(t))return!1;return!0}_clone(){const e=new this.constructor;return e._set=new Set(this._set),e}_getTokensMatch(e){const t=[];if(e===!0){for(const r of this._set.keys())t.push(r);return t}if(typeof e=="string"){for(const r of e.split(/\s+/))if(this._set.has(r))t.push(r);else return;return t}for(const r of this._set.keys())r.match(e)&&t.push(r);return t.length?t:void 0}_getConsumables(e){return e?[e]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(e){for(const t of e._set.keys())this._set.has(t)||this._set.add(t)}_isMatching(e){for(const t of e._set.keys())if(!this._set.has(t))return!1;return!0}}class ko extends Vu{name;_unsafeAttributesToRender=[];_attrs;_children;_customProperties=new Map;get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}constructor(e,t,r,i){super(e),this.name=t,this._attrs=this._parseAttributes(r),this._children=[],i&&this._insertChild(0,i)}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const e of this._attrs.keys())e!="class"&&e!="style"&&(yield e)}*getAttributes(){for(const[e,t]of this._attrs.entries())yield[e,String(t)]}getAttribute(e){return this._attrs.has(e)?String(this._attrs.get(e)):void 0}hasAttribute(e,t){return this._attrs.has(e)?t!==void 0?zd(this.name,e)||Cm(this.name,e)?this._attrs.get(e).has(t):this._attrs.get(e)===t:!0:!1}isSimilar(e){if(!(e instanceof ko))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size)return!1;for(const[t,r]of this._attrs){const i=e._attrs.get(t);if(i===void 0)return!1;if(typeof r=="string"||typeof i=="string"){if(i!==r)return!1}else if(!r.isSimilar(i))return!1}return!0}hasClass(...e){for(const t of e)if(!this._classes||!this._classes.has(t))return!1;return!0}getClassNames(){const e=this._classes?this._classes.keys():[],t=e[Symbol.iterator]();return Object.assign(e,{next:t.next.bind(t)})}getStyle(e){return this._styles&&this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles&&this._styles.getNormalized(e)}getStyleNames(e){return this._styles?this._styles.getStyleNames(e):[]}hasStyle(...e){for(const t of e)if(!this._styles||!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new la(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(t.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=this._classes?this._classes.keys().sort().join(","):"",t=this._styles&&String(this._styles),r=Array.from(this._attrs).filter(([i])=>i!="style"&&i!="class").map(i=>`${i[0]}="${i[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(r==""?"":` ${r}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}toJSON(){const e=super.toJSON();if(e.name=this.name,e.type="Element",this._attrs.size&&(e.attributes=Object.fromEntries(this.getAttributes())),this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=[];if(e)for(const i of this.getChildren())t.push(i._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,t);return r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this,{index:e});let r=0;const i=Fpe(this.document,t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this,{index:e});for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_setAttribute(e,t,r=!0){if(this._fireChange("attributes",this),zd(this.name,e)||Cm(this.name,e)){let i=this._attrs.get(e);i||(i=zd(this.name,e)?new Rf(this.document.stylesProcessor):new U2,this._attrs.set(e,i)),r?i.setTo(String(t)):zd(this.name,e)?Array.isArray(t)?i.set(t[0],t[1]):i.set(t):i.set(typeof t=="string"?t.split(/\s+/):t)}else this._attrs.set(e,String(t))}_removeAttribute(e,t){if(this._fireChange("attributes",this),t!==void 0&&(zd(this.name,e)||Cm(this.name,e))){const r=this._attrs.get(e);return r?(Cm(this.name,e)&&typeof t=="string"&&(t=t.split(/\s+/)),r.remove(t),r.isEmpty?this._attrs.delete(e):!1):!1}return this._attrs.delete(e)}_addClass(e){this._setAttribute("class",e,!1)}_removeClass(e){this._removeAttribute("class",e)}_setStyle(e,t){typeof e!="string"?this._setAttribute("style",e,!1):this._setAttribute("style",[e,t],!1)}_removeStyle(e){this._removeAttribute("style",e)}_collectAttributesMatch(e,t,r){for(const[i,s,o]of e){let a=!1,l=!1;for(const[u,f]of this._attrs)if(!(r&&r.includes(u)||!Cy(i,u)))if(a=!0,typeof f=="string"){if(Cy(s,f))t.push([u]),l=!0;else if(!(i instanceof RegExp))return!1}else{const m=f._getTokensMatch(s,o||!0);if(m){l=!0;for(const p of m)t.push([u,p])}else if(!(i instanceof RegExp))return!1}if(!a||!l)return!1}return!0}_getConsumables(e,t){const r=[];if(e){const i=this._attrs.get(e);if(i!==void 0)if(typeof i=="string")r.push([e]);else for(const s of i._getConsumables(t))r.push([e,s])}else for(const[i,s]of this._attrs)if(typeof s=="string")r.push([i]);else for(const o of s._getConsumables())r.push([i,o]);return{name:!e,attributes:r}}_canMergeAttributesFrom(e){if(this.name!=e.name)return!1;for(const[t,r]of e._attrs){const i=this._attrs.get(t);if(i!==void 0){if(typeof i=="string"||typeof r=="string"){if(i!==r)return!1}else if(!i._canMergeFrom(r))return!1}}return!0}_mergeAttributesFrom(e){this._fireChange("attributes",this);for(const[t,r]of e._attrs){const i=this._attrs.get(t);i===void 0||typeof i=="string"||typeof r=="string"?this._setAttribute(t,r):i._mergeFrom(r)}}_canSubtractAttributesOf(e){if(this.name!=e.name)return!1;for(const[t,r]of e._attrs){const i=this._attrs.get(t);if(i===void 0)return!1;if(typeof i=="string"||typeof r=="string"){if(i!==r)return!1}else if(!i._isMatching(r))return!1}return!0}_subtractAttributesOf(e){this._fireChange("attributes",this);for(const[t,r]of e._attrs){const i=this._attrs.get(t);typeof i=="string"||typeof r=="string"?this._attrs.delete(t):(i.remove(r.keys()),i.isEmpty&&this._attrs.delete(t))}}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}_parseAttributes(e){const t=oa(e);for(const[r,i]of t)if(i===null)t.delete(r);else if(zd(this.name,r)){const s=i instanceof Rf?i._clone():new Rf(this.document.stylesProcessor).setTo(String(i));t.set(r,s)}else if(Cm(this.name,r)){const s=i instanceof U2?i._clone():new U2().setTo(String(i));t.set(r,s)}else typeof i!="string"&&t.set(r,String(i));return t}}ko.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Fpe(n,e){if(typeof e=="string")return[new hr(n,e)];vs(e)||(e=[e]);const t=[];for(const r of e)typeof r=="string"?t.push(new hr(n,r)):r instanceof Ba?t.push(new hr(n,r.data)):t.push(r);return t}function Cm(n,e){return e=="class"||n=="a"&&e=="rel"}function zd(n,e){return e=="style"}class e0 extends ko{constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=Lpe}toJSON(){const e=super.toJSON();return e.type="ContainerElement",e}}e0.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Lpe(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}class pv extends qt(e0){constructor(e,t,r,i){super(e,t,r,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",s=>s&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}toJSON(){const e=super.toJSON();return e.type="EditableElement",e.isReadOnly=this.isReadOnly,e.isFocused=this.isFocused,e}}pv.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const yI=Symbol("rootName");class QB extends pv{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(yI)}set rootName(e){this._setCustomProperty(yI,e)}toJSON(){return this.rootName}set _name(e){this.name=e}}QB.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class au{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new q("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new q("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Me._createAt(e.startPosition):this._position=Me._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,r;do r=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=r)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(r&&r.is("view:$text")){if(e.isAtEnd)return this._position=Me._createAfter(r),this._next();i=r.data[e.offset]}else i=r.getChild(e.offset);if(typeof i=="string"){let s;this.singleCharacters?s=1:s=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const o=new Ba(r,e.offset,s);return e.offset+=s,this._position=e,this._formatReturnValue("text",o,t,e,s)}if(i&&i.is("view:element")){if(!this.shallow)e=new Me(i,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}if(i&&i.is("view:$text")){if(this.singleCharacters)return e=new Me(i,0),this._position=e,this._next();let s=i.data.length,o;return i==this._boundaryEndParent?(s=this.boundaries.end.offset,o=new Ba(i,0,s),e=Me._createAfter(o)):(o=new Ba(i,0,i.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,t,e,s)}return e=Me._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,t,e)}_previous(){let e=this.position.clone();const t=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(r.is("view:$text")){if(e.isAtStart)return this._position=Me._createBefore(r),this._previous();i=r.data[e.offset-1]}else i=r.getChild(e.offset-1);if(typeof i=="string"){let s;if(this.singleCharacters)s=1;else{const a=r===this._boundaryStartParent?this.boundaries.start.offset:0;s=e.offset-a}e.offset-=s;const o=new Ba(r,e.offset,s);return this._position=e,this._formatReturnValue("text",o,t,e,s)}if(i&&i.is("view:element"))return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",i,t,e,1)):(e=new Me(i,i.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,t,e));if(i&&i.is("view:$text")){if(this.singleCharacters)return e=new Me(i,i.data.length),this._position=e,this._previous();let s=i.data.length,o;if(i==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new Ba(i,a,i.data.length-a),s=o.data.length,e=Me._createBefore(o)}else o=new Ba(i,0,i.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,t,e,s)}return e=Me._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}_formatReturnValue(e,t,r,i,s){return t.is("view:$textProxy")&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(i=Me._createAfter(t.textNode),this._position=i):r=Me._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(i=Me._createBefore(t.textNode),this._position=i):r=Me._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:r,nextPosition:i,length:s}}}}class Me extends Bu{parent;offset;constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof pv);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=Me._createAt(this),r=t.offset+e;return t.offset=r<0?0:r,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new au(t);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let i=0;for(;t[i]==r[i]&&t[i];)i++;return i===0?null:t[i-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),r.push(e.offset);const i=Pr(t,r);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<r[i]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new au(e)}clone(){return new Me(this.parent,this.offset)}toJSON(){return{parent:this.parent.toJSON(),offset:this.offset}}static _createAt(e,t){if(e instanceof Me)return new this(e.parent,e.offset);{const r=e;if(t=="end")t=r.is("$text")?r.data.length:r.childCount;else{if(t=="before")return this._createBefore(r);if(t=="after")return this._createAfter(r);if(t!==0&&!t)throw new q("view-createpositionat-offset-required",r)}return new Me(r,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Me(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new q("view-position-after-root",e,{root:e});return new Me(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Me(e.textNode,e.offsetInText);if(!e.parent)throw new q("view-position-before-root",e,{root:e});return new Me(e.parent,e.index)}}Me.prototype.is=function(n){return n==="position"||n==="view:position"};class ft extends Bu{start;end;constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new au({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(D1,{direction:"backward"}),t=this.end.getLastMatchingPosition(D1);return e.parent.is("$text")&&e.isAtStart&&(e=Me._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Me._createAfter(t.parent)),new ft(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(D1);if(e.isAfter(this.end)||e.isEqual(this.end))return new ft(e,e);let t=this.end.getLastMatchingPosition(D1,{direction:"backward"});const r=e.nodeAfter,i=t.nodeBefore;return r&&r.is("$text")&&(e=new Me(r,0)),i&&i.is("$text")&&(t=new Me(i,i.data.length)),new ft(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&i}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ft(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ft(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new ft(t,r)}return null}getWalker(e={}){return e.boundaries=this,new au(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new ft(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new au(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new au(e);yield t.position;for(const r of t)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}static _createFromParentsAndOffsets(e,t,r,i){return new this(new Me(e,t),new Me(r,i))}static _createFromPositionAndShift(e,t){const r=e,i=e.getShiftedBy(t);return t>0?new this(r,i):new this(i,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Me._createBefore(e),t)}}ft.prototype.is=function(n){return n==="range"||n==="view:range"};function D1(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}class yo extends an(Bu){_ranges;_lastRangeBackward;_isFake;_fakeSelectionLabel;constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const i of e._ranges)if(t.isEqual(i)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=kk(this.getRanges()),r=kk(e.getRanges());if(t!=r)return!1;if(t==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let s=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),i.start.isEqual(o.start)&&i.end.isEqual(o.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,r,i]=e;if(typeof r=="object"&&(i=r,r=void 0),t===null)this._setRanges([]),this._setFakeOptions(i);else if(t instanceof yo||t instanceof yC)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ft)this._setRanges([t],i&&i.backward),this._setFakeOptions(i);else if(t instanceof Me)this._setRanges([new ft(t)]),this._setFakeOptions(i);else if(t instanceof Vu){const s=!!i&&!!i.backward;let o;if(r===void 0)throw new q("view-selection-setto-required-second-parameter",this);r=="in"?o=ft._createIn(t):r=="on"?o=ft._createOn(t):o=new ft(Me._createAt(t,r)),this._setRanges([o],s),this._setFakeOptions(i)}else if(vs(t))this._setRanges(t,i&&i.backward),this._setFakeOptions(i);else throw new q("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new q("view-selection-setfocus-no-ranges",this);const r=Me._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.pop(),r.compareWith(i)=="before"?this._addRange(new ft(r,i),!0):this._addRange(new ft(i,r)),this.fire("change")}toJSON(){const e={ranges:Array.from(this.getRanges()).map(t=>t.toJSON())};return this.isBackward&&(e.isBackward=!0),this.isFake&&(e.isFake=!0),e}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ft))throw new q("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new q("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ft(e.start,e.end))}}yo.prototype.is=function(n){return n==="selection"||n==="view:selection"};class yC extends an(Bu){_selection;constructor(...e){super(),this._selection=new yo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}toJSON(){return this._selection.toJSON()}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}yC.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Uu extends ol{startRange;_eventPhase;_currentTarget;constructor(e,t,r){super(e,t),this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const z2=Symbol("bubblingEmitter"),H2=Symbol("bubblingCallbacks"),$2=Symbol("bubblingContexts");function Bpe(n){class e extends n{fire(r,...i){try{const s=r instanceof ol?r:new ol(this,r),o=W2(this),a=vI(this);if(Am(s,"capturing",this),F1(o,"$capture",s,...i))return s.return;const l=s.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,f=u?Upe(a,u):!1;let m=u||zpe(l);if(Am(s,"atTarget",m),!f){if(F1(o,"$text",s,...i))return s.return;Am(s,"bubbling",m)}for(;m;){if(m.is("element")&&F1(o,m,s,...i))return s.return;m=m.parent,Am(s,"bubbling",m)}return Am(s,"bubbling",this),F1(o,"$document",s,...i),s.return}catch(s){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(s,this)}}_addEventListener(r,i,s){const o=Gt(s.context||"$document"),a=W2(this),l=wI(this);for(const f of o)typeof f=="function"&&vI(this).add(f);const u=Vpe(this,o,i);l.set(i,u),this.listenTo(a,r,u,s)}_removeEventListener(r,i){const s=W2(this),o=wI(this),a=o.get(i);a&&(o.delete(i),this.stopListening(s,r,a))}}return e}function Am(n,e,t){n instanceof Uu&&(n._eventPhase=e,n._currentTarget=t)}function F1(n,e,t,...r){return n.fire(t,{currentTarget:e,eventArgs:r}),!!t.stop.called}function Vpe(n,e,t){return function(r,i){const{currentTarget:s,eventArgs:o}=i;if(typeof s=="string"){e.includes(s)&&t.call(n,r,...o);return}if(s.is("rootElement")&&e.includes("$root")){t.call(n,r,...o);return}if(e.includes(s.name)){t.call(n,r,...o);return}for(const a of e)if(typeof a=="function"&&a(s)){t.call(n,r,...o);return}}}function W2(n){return n[z2]||(n[z2]=new(an())),n[z2]}function wI(n){return n[H2]||(n[H2]=new Map),n[H2]}function vI(n){return n[$2]||(n[$2]=new Set),n[$2]}function Upe(n,e){for(const t of n)if(t(e))return!0;return!1}function zpe(n){if(!n)return null;const e=n.start.parent,t=n.end.parent,r=e.getPath(),i=t.getPath();return r.length>i.length?e:t}class ZB extends Bpe(qt()){selection;roots;stylesProcessor;_postFixers=new Set;constructor(e){super(),this.selection=new yC,this.roots=new sr({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(t=r(e),t)break;while(t)}}const _I=10;class If extends ko{static DEFAULT_PRIORITY=_I;_priority=_I;_id=null;_clonesGroup=null;constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=Hpe}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new q("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}toJSON(){const e=super.toJSON();return e.type="AttributeElement",e}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}_canMergeAttributesFrom(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canMergeAttributesFrom(e)}_canSubtractAttributesOf(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canSubtractAttributesOf(e)}}If.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Hpe(){if(j2(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(j2(n)>1)return null;n=n.parent}return!n||j2(n)>1?null:this.childCount}function j2(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}class wC extends ko{constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=$pe}toJSON(){const e=super.toJSON();return e.type="EmptyElement",e}_insertChild(e,t){if(t&&(t instanceof Vu||Array.from(t).length>0))throw new q("view-emptyelement-cannot-add",[this,t]);return 0}}wC.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function $pe(){return null}class bv extends ko{constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=jpe}_insertChild(e,t){if(t&&(t instanceof Vu||Array.from(t).length>0))throw new q("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const r of this.getAttributeKeys())t.setAttribute(r,this.getAttribute(r));return t}toJSON(){const e=super.toJSON();return e.type="UIElement",e}}bv.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Wpe(n){n.document.on("arrowKey",(e,t)=>qpe(e,t,n.domConverter),{priority:"low"})}function jpe(){return null}function qpe(n,e,t){if(e.keyCode==xt.arrowright){const r=e.domTarget.ownerDocument.defaultView.getSelection(),i=r.rangeCount==1&&r.getRangeAt(0).collapsed;if(i||e.shiftKey){const s=r.focusNode,o=r.focusOffset,a=t.domPositionToView(s,o);if(a===null)return;let l=!1;const u=a.getLastMatchingPosition(f=>(f.item.is("uiElement")&&(l=!0),!!(f.item.is("uiElement")||f.item.is("attributeElement"))));if(l){const f=t.viewPositionToDom(u);i?r.collapse(f.parent,f.offset):r.extend(f.parent,f.offset)}}}}class vC extends ko{constructor(e,t,r,i){super(e,t,r,i),this.getFillerOffset=Gpe}toJSON(){const e=super.toJSON();return e.type="RawElement",e}_insertChild(e,t){if(t&&(t instanceof Vu||Array.from(t).length>0))throw new q("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}vC.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Gpe(){return null}class pu extends an(Bu){document;_children=[];_customProperties=new Map;constructor(e,t){super(),this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this,{index:e});let r=0;const i=Ype(this.document,t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this,{index:e});for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_fireChange(e,t,r){this.fire(`change:${e}`,t,r)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}pu.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function Ype(n,e){return typeof e=="string"?[new hr(n,e)]:(vs(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new hr(n,t):t instanceof Ba?new hr(n,t.data):t))}class eV{document;_cloneGroups=new Map;_slotFactory=null;constructor(e){this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new pu(this.document,e)}createText(e){return new hr(this.document,e)}createAttributeElement(e,t,r={}){const i=new If(this.document,e,t);return typeof r.priority=="number"&&(i._priority=r.priority),r.id&&(i._id=r.id),r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createContainerElement(e,t,r={},i={}){let s;Qpe(r)?i=r:s=r;const o=new e0(this.document,e,t,s);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createEditableElement(e,t,r={}){const i=new pv(this.document,e,t);return r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createEmptyElement(e,t,r={}){const i=new wC(this.document,e,t);return r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createUIElement(e,t,r){const i=new bv(this.document,e,t);return r&&(i.render=r),i}createRawElement(e,t,r,i={}){const s=new vC(this.document,e,t);return r&&(s.render=r),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}setAttribute(e,t,r,i){i!==void 0?i._setAttribute(e,t,r):r._setAttribute(e,t)}removeAttribute(e,t,r){r!==void 0?r._removeAttribute(e,t):t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,r){gv(e)&&r===void 0?t._setStyle(e):r._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,r){r._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Me?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new q("view-writer-break-non-container-element",this.document);if(!t.parent)throw new q("view-writer-break-root",this.document);if(e.isAtStart)return Me._createBefore(t);if(!e.isAtEnd){const r=t._clone(!1);this.insert(Me._createAfter(t),r);const i=new ft(e,Me._createAt(t,"end")),s=new Me(r,0);this.move(i,s)}return Me._createAfter(t)}mergeAttributes(e){const t=e.offset,r=e.parent;if(r.is("$text"))return e;if(r.is("attributeElement")&&r.childCount===0){const o=r.parent,a=r.index;return r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Me(o,a))}const i=r.getChild(t-1),s=r.getChild(t);if(!i||!s)return e;if(i.is("$text")&&s.is("$text"))return EI(i,s);if(i.is("attributeElement")&&s.is("attributeElement")&&i.isSimilar(s)){const o=i.childCount;return i._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Me(i,o))}return e}mergeContainers(e){const t=e.nodeBefore,r=e.nodeAfter;if(!t||!r||!t.is("containerElement")||!r.is("containerElement"))throw new q("view-writer-merge-containers-invalid-position",this.document);const i=t.getChild(t.childCount-1),s=i instanceof hr?Me._createAt(i,"end"):Me._createAt(t,"end");return this.move(ft._createIn(r),Me._createAt(t,"end")),this.remove(ft._createOn(r)),s}insert(e,t){t=vs(t)?[...t]:[t],tV(t,this.document);const r=t.reduce((o,a)=>{const l=o[o.length-1],u=!a.is("uiElement");return!l||l.breakAttributes!=u?o.push({breakAttributes:u,nodes:[a]}):l.nodes.push(a),o},[]);let i=null,s=e;for(const{nodes:o,breakAttributes:a}of r){const l=this._insertNodes(s,o,a);i||(i=l.start),s=l.end}return i?new ft(i,s):new ft(e)}remove(e){const t=e instanceof ft?e:ft._createOn(e);if(Nm(t,this.document),t.isCollapsed)return new pu(this.document);const{start:r,end:i}=this._breakAttributesRange(t,!0),s=r.parent,o=i.offset-r.offset,a=s._removeChildren(r.offset,o);for(const u of a)this._removeFromClonedElementsGroup(u);const l=this.mergeAttributes(r);return t.start=l,t.end=l.clone(),new pu(this.document,a)}clear(e,t){Nm(e,this.document);const r=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of r){const s=i.item;let o;if(s.is("element")&&t.isSimilar(s))o=ft._createOn(s);else if(!i.nextPosition.isAfter(e.start)&&s.is("$textProxy")){const a=s.getAncestors().find(l=>l.is("element")&&t.isSimilar(l));a&&(o=ft._createIn(a))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let r;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const i=t.parent,s=i.childCount;e=this._breakAttributesRange(e,!0),r=this.remove(e),t.offset+=i.childCount-s}else r=this.remove(e);return this.insert(t,r)}wrap(e,t){if(!(t instanceof If))throw new q("view-writer-wrap-invalid-attribute",this.document);if(Nm(e,this.document),e.isCollapsed){let r=e.start;r.parent.is("element")&&!Kpe(r.parent)&&(r=r.getLastMatchingPosition(s=>s.item.is("uiElement"))),r=this._wrapPosition(r,t);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(r),new ft(r)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof If))throw new q("view-writer-unwrap-invalid-attribute",this.document);if(Nm(e,this.document),e.isCollapsed)return e;const{start:r,end:i}=this._breakAttributesRange(e,!0),s=r.parent,o=this._unwrapChildren(s,r.offset,i.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ft(a,l)}rename(e,t){const r=new e0(this.document,e,t.getAttributes());return this.insert(Me._createAfter(t),r),this.move(ft._createIn(t),Me._createAt(r,0)),this.remove(ft._createOn(t)),r}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Me._createAt(e,t)}createPositionAfter(e){return Me._createAfter(e)}createPositionBefore(e){return Me._createBefore(e)}createRange(e,t){return new ft(e,t)}createRangeOn(e){return ft._createOn(e)}createRangeIn(e){return ft._createIn(e)}createSelection(...e){return new yo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new q("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,r){let i;if(r?i=Nk(e):i=e.parent.is("$text")?e.parent.parent:e.parent,!i)throw new q("view-writer-invalid-position-container",this.document);let s;r?s=this._breakAttributes(e,!0):s=e.parent.is("$text")?q2(e):e;const o=i._insertChild(s.offset,t);for(const f of t)this._addToClonedElementsGroup(f);const a=s.getShiftedBy(o),l=this.mergeAttributes(s);l.isEqual(s)||a.offset--;const u=this.mergeAttributes(a);return new ft(l,u)}_wrapChildren(e,t,r,i){let s=t;const o=[];for(;s<r;){const l=e.getChild(s),u=l.is("$text"),f=l.is("attributeElement");if(f&&l._canMergeAttributesFrom(i))l._mergeAttributesFrom(i),o.push(new Me(e,s));else if(u||!f||Xpe(i,l)){const m=i._clone();l._remove(),m._appendChild(l),e._insertChild(s,m),this._addToClonedElementsGroup(m),o.push(new Me(e,s))}else this._wrapChildren(l,0,l.childCount,i);s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t)continue;this.mergeAttributes(l).isEqual(l)||(a++,r--)}return ft._createFromParentsAndOffsets(e,t,e,r)}_unwrapChildren(e,t,r,i){let s=t;const o=[];for(;s<r;){const l=e.getChild(s);if(!l.is("attributeElement")){s++;continue}if(l.isSimilar(i)){const u=l.getChildren(),f=l.childCount;l._remove(),e._insertChild(s,u),this._removeFromClonedElementsGroup(l),o.push(new Me(e,s),new Me(e,s+f)),s+=f,r+=f-1;continue}if(l._canSubtractAttributesOf(i)){l._subtractAttributesOf(i),o.push(new Me(e,s),new Me(e,s+1)),s++;continue}this._unwrapChildren(l,0,l.childCount,i),s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t||l.offset==r)continue;this.mergeAttributes(l).isEqual(l)||(a++,r--)}return ft._createFromParentsAndOffsets(e,t,e,r)}_wrapRange(e,t){const{start:r,end:i}=this._breakAttributesRange(e,!0),s=r.parent,o=this._wrapChildren(s,r.offset,i.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ft(a,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return xI(e.clone());e.parent.is("$text")&&(e=q2(e));const r=this.createAttributeElement("_wrapPosition-fake-element");r._priority=Number.POSITIVE_INFINITY,r.isSimilar=()=>!1,e.parent._insertChild(e.offset,r);const i=new ft(e,e.getShiftedBy(1));this.wrap(i,t);const s=new Me(r.parent,r.index);r._remove();const o=s.nodeBefore,a=s.nodeAfter;return o&&o.is("view:$text")&&a&&a.is("view:$text")?EI(o,a):xI(s)}_breakAttributesRange(e,t=!1){const r=e.start,i=e.end;if(Nm(e,this.document),e.isCollapsed){const l=this._breakAttributes(e.start,t);return new ft(l,l)}const s=this._breakAttributes(i,t),o=s.parent.childCount,a=this._breakAttributes(r,t);return s.offset+=s.parent.childCount-o,new ft(a,s)}_breakAttributes(e,t=!1){const r=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new q("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new q("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new q("view-writer-cannot-break-raw-element",this.document);if(!t&&i.is("$text")&&Pk(i.parent)||Pk(i))return e.clone();if(i.is("$text"))return this._breakAttributes(q2(e),t);const s=i.childCount;if(r==s){const o=new Me(i.parent,i.index+1);return this._breakAttributes(o,t)}else if(r===0){const o=new Me(i.parent,i.index);return this._breakAttributes(o,t)}else{const o=i.index+1,a=i._clone();i.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=i.childCount-r,u=i._removeChildren(r,l);a._appendChild(u);const f=new Me(i.parent,o);return this._breakAttributes(f,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const i of e.getChildren())this._addToClonedElementsGroup(i);const t=e.id;if(!t)return;let r=this._cloneGroups.get(t);r||(r=new Set,this._cloneGroups.set(t,r)),r.add(e),e._clonesGroup=r}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const i of e.getChildren())this._removeFromClonedElementsGroup(i);const t=e.id;if(!t)return;const r=this._cloneGroups.get(t);r&&r.delete(e)}}function Kpe(n){return Array.from(n.getChildren()).some(e=>!e.is("uiElement"))}function Nk(n){let e=n.parent;for(;!Pk(e);){if(!e)return;e=e.parent}return e}function Xpe(n,e){return n.priority<e.priority?!0:n.priority>e.priority?!1:n.getIdentity()<e.getIdentity()}function xI(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new Me(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new Me(t,0):n}function q2(n){if(n.offset==n.parent.data.length)return new Me(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Me(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new hr(n.root.document,e)),new Me(n.parent.parent,n.parent.index+1)}function EI(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new Me(n,t)}const Jpe=[hr,If,e0,wC,vC,bv];function tV(n,e){for(const t of n){if(!Jpe.some(r=>t instanceof r))throw new q("view-writer-insert-invalid-node-type",e);t.is("$text")||tV(t.getChildren(),e)}}function Pk(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Nm(n,e){const t=Nk(n.start),r=Nk(n.end);if(!t||!r||t!==r)throw new q("view-writer-invalid-range-container",e)}function Qpe(n){return gv(n)}const nV=n=>n.createTextNode(""),rV=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},iV=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},hs=7,t0="".repeat(hs);function pi(n){return typeof n=="string"?n.substr(0,hs)===t0:Dn(n)&&n.data.substr(0,hs)===t0}function uf(n){return n.data.length==hs&&pi(n)}function kI(n){const e=typeof n=="string"?n:n.data;return pi(n)?e.slice(hs):e}function Zpe(n){n.document.on("arrowKey",e1e,{priority:"low"})}function e1e(n,e){if(e.keyCode==xt.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const r=t.getRangeAt(0).startContainer,i=t.getRangeAt(0).startOffset;pi(r)&&i<=hs&&t.collapse(r,0)}}}class t1e extends qt(){domDocuments=new Set;domConverter;markedAttributes=new Set;markedChildren=new Set;markedTexts=new Set;selection;_inlineFiller=null;_fakeSelectionContainer=null;constructor(e,t){super(),this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),ot.isBlink&&!ot.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new q("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!ot.isAndroid)return;let e=null;const t=ot.isBlink&&!ot.isAndroid?!this.isSelecting:!0;for(const r of this.markedChildren)this._updateChildrenMappings(r);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Me._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(t)if(e){const r=this.domConverter.viewPositionToDom(e),i=r.parent.ownerDocument;pi(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=TI(i,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const r=Array.from(t.childNodes),i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),s=this._diffNodeLists(r,i),o=this._findUpdateActions(s,r,i,r1e);if(o.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const l of o)if(l==="update"){const u=a.equal+a.insert,f=a.equal+a.delete,m=e.getChild(u);m&&!m.is("uiElement")&&!m.is("rawElement")&&this._updateElementMappings(m,r[f]),tI(i[u]),a.equal++}else a[l]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Me._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Dn(t.parent)&&pi(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!pi(e))throw new q("view-renderer-filler-was-lost",this);uf(e)?e.remove():e.data=e.data.substr(hs),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!n1e(t))return!1;const i=e.nodeBefore,s=e.nodeAfter;return!(i instanceof hr||s instanceof hr||r===t.getFillerOffset()&&(!i||!i.is("element","br"))||ot.isAndroid&&(i||s))}_updateText(e,t){const r=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(s=t0+s),this._updateTextNode(r,s)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(t){for(const r of Array.from(t.attributes)){const i=r.name;e.hasAttribute(i)||this.domConverter.removeDomElementAttribute(t,i)}for(const r of e.getAttributeKeys())this.domConverter.setDomElementAttribute(t,r,e.getAttribute(r),e)}}_updateChildren(e,t){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(ot.isAndroid){let m=null;for(const p of Array.from(r.childNodes)){if(m&&Dn(m)&&Dn(p)){r.normalize();break}m=p}}const i=t.inlineFillerPosition,s=r.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));i&&i.parent===e&&TI(r.ownerDocument,o,i.offset);const a=this._diffNodeLists(s,o),l=this._findUpdateActions(a,s,o,i1e);let u=0;const f=new Set;for(const m of l)m==="delete"?(f.add(s[u]),tI(s[u])):(m==="equal"||m==="update")&&u++;u=0;for(const m of l)m==="insert"?(RB(r,u,o[u]),u++):m==="update"?(this._updateTextNode(s[u],o[u].data),u++):m==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[u])),u++);for(const m of f)m.parentNode||this.domConverter.unbindDomElement(m)}_diffNodeLists(e,t){return e=a1e(e,this._fakeSelectionContainer),Pf(e,t,s1e.bind(null,this.domConverter))}_findUpdateActions(e,t,r,i){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],o=[],a=[];const l={equal:0,insert:0,delete:0};for(const u of e)u==="insert"?a.push(r[l.equal+l.insert]):u==="delete"?o.push(t[l.equal+l.delete]):(s=s.concat(Pf(o,a,i).map(f=>f==="equal"?"update":f)),s.push("equal"),o=[],a=[]),l[u]++;return s.concat(Pf(o,a,i).map(u=>u==="equal"?"update":u))}_updateTextNode(e,t){const r=e.data;r!=t&&(ot.isAndroid&&this.isComposing&&r.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,t))}_updateTextNodeInternal(e,t){const r=yB(e.data,t);for(const i of r)i.type==="insert"?e.insertData(i.index,i.values.join("")):e.deleteData(i.index,i.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(ot.isBlink&&!ot.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);if(!this.isFocused||!e){!this.selection.isFake&&this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected&&this._removeFakeSelection();return}this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&ot.isAndroid||this._updateDomSelection(e)}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=l1e(t));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!r.parentElement||r.parentElement!=e)&&e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||"";const i=t.getSelection(),s=t.createRange();i.removeAllRanges(),s.selectNodeContents(r),i.addRange(s)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(r.parent,r.offset,i.parent,i.offset),ot.isGecko&&o1e(i,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!t||t.parentElement!==e||r.anchorNode!==t&&!t.contains(r.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const r=e.activeElement,i=this.domConverter.mapDomToView(r);r&&i&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function n1e(n){if(n.getAttribute("contenteditable")=="false")return!1;const e=n.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function TI(n,e,t){const r=e instanceof Array?e:e.childNodes,i=r[t];if(Dn(i))return i.data=t0+i.data,i;{const s=n.createTextNode(t0);return Array.isArray(e)?r.splice(t,0,s):RB(e,t,s),s}}function r1e(n,e){return cc(n)&&cc(e)&&!Dn(n)&&!Dn(e)&&!pg(n)&&!pg(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function i1e(n,e){return cc(n)&&cc(e)&&Dn(n)&&Dn(e)}function s1e(n,e,t){return e===t?!0:Dn(e)&&Dn(t)?e.data===t.data:!!(n.isBlockFiller(e)&&n.isBlockFiller(t))}function o1e(n,e){let t=n.parent,r=n.offset;if(Dn(t)&&uf(t)&&(r=lf(t)+1,t=t.parentNode),t.nodeType!=Node.ELEMENT_NODE||r!=t.childNodes.length-1)return;const i=t.childNodes[r];i&&i.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function a1e(n,e){const t=Array.from(n);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function l1e(n){const e=n.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}const c1e=iV(qe.document),u1e=nV(qe.document),d1e=rV(qe.document),L1="data-ck-unsafe-attribute-",SI="data-ck-unsafe-element";class sV{document;renderingMode;blockFillerMode;preElements;blockElements;inlineObjectElements;unsafeElements;_domDocument;_domToViewMapping=new WeakMap;_viewToDomMapping=new WeakMap;_fakeSelectionMapping=new WeakMap;_rawContentElementMatcher=new la;_inlineObjectElementMatcher=new la;_elementsWithTemporaryCustomProperties=new Set;constructor(e,{blockFillerMode:t,renderingMode:r="editing"}={}){this.document=e,this.renderingMode=r,this.blockFillerMode=t||(r==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?qe.document:qe.document.implementation.createHTMLDocument("")}get domDocument(){return this._domDocument}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new yo(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const r of e.children)this.unbindDomElement(r)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,r){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:r==="img"&&(e==="src"||e==="srcset")||r==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const r=new DOMParser().parseFromString(t,"text/html"),i=r.createDocumentFragment(),s=r.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);const o=r.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const u of a){for(const m of u.getAttributeNames())this.setDomElementAttribute(u,m,u.getAttribute(m));const f=u.tagName.toLowerCase();this._shouldRenameElement(f)&&(PI(f),u.replaceWith(this._createReplacementDomElement(f,u)))}for(;e.firstChild;)e.firstChild.remove();e.append(i)}viewToDom(e,t={}){if(e.is("$text")){const r=this._processDataFromViewText(e);return this._domDocument.createTextNode(r)}else{const r=e;if(this.mapViewToDom(r))if(r.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(r);else return this.mapViewToDom(r);let i;if(r.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,r);else{if(r.is("uiElement"))return r.name==="$comment"?i=this._domDocument.createComment(r.getCustomProperty("$rawContent")):i=r.render(this._domDocument,this),t.bind&&this.bindElements(i,r),i;this._shouldRenameElement(r.name)?(PI(r.name),i=this._createReplacementDomElement(r.name)):r.hasAttribute("xmlns")?i=this._domDocument.createElementNS(r.getAttribute("xmlns"),r.name):i=this._domDocument.createElement(r.name),r.is("rawElement")&&r.render(i,this),t.bind&&this.bindElements(i,r);for(const s of r.getAttributeKeys())this.setDomElementAttribute(i,s,r.getAttribute(s),r)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(r,t))i instanceof HTMLTemplateElement?i.content.appendChild(s):i.appendChild(s);return i}}setDomElementAttribute(e,t,r,i){const s=this.shouldRenderAttribute(t,r,e.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(t);if(s||It("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:r}),!IB(t)){It("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:r});return}e.hasAttribute(t)&&!s?e.removeAttribute(t):e.hasAttribute(L1+t)&&s&&e.removeAttribute(L1+t),e.setAttribute(s?t:L1+t,r)}removeDomElementAttribute(e,t){t!=SI&&(e.removeAttribute(t),e.removeAttribute(L1+t))}*viewChildrenToDom(e,t={}){const r=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const s of e.getChildren()){r===i&&(yield this._getBlockFiller());const o=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!_n(s.getAttributes());if(o&&this.renderingMode=="data")if(s.is("rawElement")){const a=this._domDocument.createElement(s.name);s.render(a,this),yield*[...a.childNodes]}else yield*this.viewChildrenToDom(s,t);else o&&It("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,t);i++}r===i&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),r=this.viewPositionToDom(e.end),i=this._domDocument.createRange();return i.setStart(t.parent,t.offset),i.setEnd(r.parent,r.offset),i}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const r=this.findCorrespondingDomText(t);if(!r)return null;let i=e.offset;return pi(r)&&(i+=hs),r.data&&i>r.data.length&&(i=r.data.length),{parent:r,offset:i}}else{let r,i,s;if(e.offset===0){if(r=this.mapViewToDom(t),!r)return null;s=r.childNodes[0]}else{const a=e.nodeBefore;if(i=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!i)return null;r=i.parentNode,s=i.nextSibling}if(Dn(s)&&pi(s))return{parent:s,offset:hs};const o=i?lf(i)+1:0;return{parent:r,offset:o}}}domToView(e,t={}){const r=[],i=this._domToView(e,t,r),s=i.next().value;return!s||(i.next(),this._processDomInlineNodes(null,r,t),this.blockFillerMode=="br"&&AI(s))||s.is("$text")&&s.data.length==0?null:s}*domChildrenToView(e,t={},r=[]){let i=[];e instanceof HTMLTemplateElement?i=[...e.content.childNodes]:i=[...e.childNodes];for(let s=0;s<i.length;s++){const o=i[s],a=this._domToView(o,t,r),l=a.next().value;l!==null&&(this._isBlockViewElement(l)&&this._processDomInlineNodes(e,r,t),this.blockFillerMode=="br"&&AI(l)||(yield l),a.next())}this._processDomInlineNodes(e,r,t)}domSelectionToView(e){if(p1e(e))return new yo([]);if(e.rangeCount===1){let i=e.getRangeAt(0).startContainer;Dn(i)&&(i=i.parentNode);const s=this.fakeSelectionToView(i);if(s)return s}const t=this.isDomSelectionBackward(e),r=[];for(let i=0;i<e.rangeCount;i++){const s=e.getRangeAt(i),o=this.domRangeToView(s);o&&r.push(o)}return new yo(r,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),r=this.domPositionToView(e.endContainer,e.endOffset);return t&&r?new ft(t,r):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,lf(e));const r=this.mapDomToView(e);if(r&&(r.is("uiElement")||r.is("rawElement")))return Me._createBefore(r);if(Dn(e)){if(uf(e))return this.domPositionToView(e.parentNode,lf(e));const i=this.findCorrespondingViewText(e);let s=t;return i?(pi(e)&&(s-=hs,s=s<0?0:s),new Me(i,s)):null}else{if(t===0){const i=this.mapDomToView(e);if(i)return new Me(i,0)}else{const i=e.childNodes[t-1];if(Dn(i)&&uf(i)||i&&this.isBlockFiller(i))return this.domPositionToView(i.parentNode,lf(i));const s=Dn(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(s&&s.parent)return new Me(s.parent,s.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(uf(e))return null;const t=this.getHostViewElement(e);if(t)return t;const r=e.previousSibling;if(r){if(!this.isElement(r))return null;const i=this.mapDomToView(r);if(i){const s=i.nextSibling;return s instanceof hr?s:null}}else{const i=this.mapDomToView(e.parentNode);if(i){const s=i.getChild(0);return s instanceof hr?s:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(!t||t.ownerDocument.activeElement===t)return;const{scrollX:r,scrollY:i}=qe.window,s=[];CI(t,o=>{const{scrollLeft:a,scrollTop:l}=o;s.push([a,l])}),t.focus({preventScroll:!0}),CI(t,o=>{const[a,l]=s.shift();o.scrollLeft=a,o.scrollTop=l}),qe.window.scrollTo(r,i)}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),r=this.domSelectionToView(t);r&&r.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(c1e):NI(e,this.blockElements)?!0:e.isEqualNode(d1e)||h1e(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const r=t.collapsed;return t.detach(),r}getHostViewElement(e){const t=qge(e);for(t.pop();t.length;){const r=t.pop(),i=this._domToViewMapping.get(r);if(i&&(i.is("uiElement")||i.is("rawElement")))return i}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return nV(this._domDocument);case"markedNbsp":return rV(this._domDocument);case"br":return iV(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Dn(e)&&pi(e)&&t<hs||this.isElement(e)&&pi(e.childNodes[t]))return!1;const r=this.mapDomToView(e);return!(r&&(r.is("uiElement")||r.is("rawElement")))}*_domToView(e,t,r){if(this.blockFillerMode!="br"&&NI(e,this.blockElements))return null;const i=this.getHostViewElement(e);if(i)return i;if(pg(e)&&t.skipComments)return null;if(Dn(e)){if(uf(e))return null;{const s=e.data;if(s==="")return null;const o=new hr(this.document,s);return r.push(o),o}}else{let s=this.mapDomToView(e);if(s)return this._isInlineObjectElement(s)&&r.push(s),s;if(this.isDocumentFragment(e))s=new pu(this.document),t.bind&&this.bindDocumentFragments(e,s);else{s=this._createViewElement(e,t),t.bind&&this.bindElements(e,s);const a=e.attributes;if(a)for(let l=a.length,u=0;u<l;u++)s._setAttribute(a[u].name,a[u].value);if(this._isViewElementWithRawContent(s,t))return s._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(s)||r.push(s),s;if(pg(e))return s._setCustomProperty("$rawContent",e.data),s}yield s;const o=[];if(t.withChildren!==!1)for(const a of this.domChildrenToView(e,t,o))s._appendChild(a);if(this._isInlineObjectElement(s))r.push(s),this._processDomInlineNodes(null,o,t);else for(const a of o)r.push(a)}}_processDomInlineNodes(e,t,r){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let i=!1;for(let s=0;s<t.length;s++){const o=t[s];if(!o.is("$text")){i=!1;continue}let a,l=!1;if(this._isPreFormatted(o))a=kI(o.data);else{a=o.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const u=s>0?t[s-1]:null,f=s+1<t.length?t[s+1]:null,m=!u||u.is("element")&&u.name=="br"||i,p=f?!1:!pi(o.data);r.withChildren!==!1&&(m&&(a=a.replace(/^ /,"")),p&&(a=a.replace(/ $/,""))),a=kI(a),this.blockFillerMode!="br"&&o.parent&&(g1e(o.parent,a)?(a="",o.parent.parent&&(o.parent.parent._setCustomProperty("$hasBlockFiller",!0),o.parent._remove())):m1e(o.parent,a,this.blockElements)&&(a="",o.parent._setCustomProperty("$hasBlockFiller",!0))),a=a.replace(/ \u00A0/g,"  ");const y=f&&f.is("element")&&f.name!="br",v=f&&f.is("$text")&&f.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!f||y||v)&&(a=a.replace(/\u00A0$/," ")),(m||u&&u.is("element")&&u.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&o.parent?(o._remove(),t.splice(s,1),s--):(o._data=a,i=l)}t.length=0}_processDataFromViewText(e){let t=e.data;if(this._isPreFormatted(e))return t;if(t.charAt(0)==" "){const r=this._getTouchingInlineViewNode(e,!1);(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r)||!r)&&(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const r=this._getTouchingInlineViewNode(e,!0),i=r&&r.is("$textProxy")&&r.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!r||i)&&(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_isPreFormatted(e){if(f1e(e,this.preElements))return!0;for(const t of e.getAncestors({parentFirst:!0}))if(!(!t.is("element")||!t.hasStyle("white-space")||t.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(t.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,t){const r=new au({startPosition:t?Me._createAfter(e):Me._createBefore(e),direction:t?"forward":"backward"});for(const{item:i}of r){if(i.is("$textProxy"))return i;if(i.is("element")&&i.getCustomProperty("dataPipeline:transparentRendering"))continue;if(i.is("element","br"))return null;if(this._isInlineObjectElement(i))return i;if(i.is("containerElement")||this._isBlockViewElement(i))return null}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(pg(e))return new bv(this.document,"$comment");const r=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new ko(this.document,r)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const r=this._domDocument.createElement("span");if(r.setAttribute(SI,e),t){for(;t.firstChild;)r.appendChild(t.firstChild);for(const i of t.getAttributeNames())r.setAttribute(i,t.getAttribute(i))}return r}}function f1e(n,e){return n.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function CI(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function h1e(n,e){return n.isEqualNode(u1e)&&oV(n,e)&&n.parentNode.childNodes.length===1}function oV(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function m1e(n,e,t){return e==""&&n&&n.is("element")&&n.childCount==1&&t.includes(n.name)}function g1e(n,e){return e==""&&n&&n.is("element","span")&&n.childCount==1&&n.hasAttribute("data-cke-filler")}function AI(n){return n.is("element","br")&&n.hasAttribute("data-cke-filler")}function NI(n,e){return n.tagName==="BR"&&oV(n,e)&&n.parentNode.childNodes.length===1}function PI(n){n==="script"&&It("domconverter-unsafe-script-element-detected"),n==="style"&&It("domconverter-unsafe-style-element-detected")}function p1e(n){if(!ot.isGecko||!n.rangeCount)return!1;const e=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}class Ro extends Ei(){view;document;_isEnabled=!1;constructor(e){super(),this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class Nu{view;document;domEvent;domTarget;constructor(e,t,r){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,gpe(this,r)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Io extends Ro{useCapture=!1;usePassive=!1;observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(e,r,(i,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,t,r){this.isEnabled&&this.document.fire(e,new Nu(this.view,t,r))}}class b1e extends Io{domEventType=["keydown","keyup"];onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Au(this)}};this.fire(e.type,e,t)}}class y1e extends Ro{_fireSelectionChangeDoneDebounced;constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Sk(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,r=new yo(t.getRanges(),{backward:t.isBackward,fake:!1});(e==xt.arrowleft||e==xt.arrowup)&&r.setTo(r.getFirstPosition()),(e==xt.arrowright||e==xt.arrowdown)&&r.setTo(r.getLastPosition());const i={oldSelection:t,newSelection:r,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}let aV=class extends Ro{domConverter;_config;_domElements;_mutationObserver;constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,r=new Set,i=new Set;for(const o of e){const a=t.mapDomToView(o.target);a&&(a.is("uiElement")||a.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&i.add(a))}for(const o of e){const a=t.mapDomToView(o.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&o.type==="characterData"){const l=t.findCorrespondingViewText(o.target);l&&!i.has(l.parent)?r.add(l):!l&&pi(o.target)&&i.add(t.mapDomToView(o.target.parentNode))}}const s=[];for(const o of r)s.push({type:"text",node:o});for(const o of i){const a=t.mapViewToDom(o),l=Array.from(o.getChildren()),u=Array.from(t.domChildrenToView(a,{withChildren:!1}));Ck(l,u,w1e)||s.push({type:"children",node:o})}s.length&&this.document.fire("mutations",{mutations:s})}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function w1e(n,e){if(!Array.isArray(n))return n===e?!0:n.is("$text")&&e.is("$text")?n.data===e.data:!1}class Ay extends Io{_renderTimeoutId=null;_isFocusChanging=!1;domEventType=["focus","blur"];constructor(e){super(e),this.useCapture=!0;const t=this.document;t.on("focus",()=>this._handleFocus()),t.on("blur",(r,i)=>this._handleBlur(i)),t.on("beforeinput",()=>{t.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const t=this.document.selection.editableElement;(t===null||t===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class v1e extends Ro{mutationObserver;focusObserver;selection;domConverter;_documents=new WeakSet;_fireSelectionChangeDoneDebounced;_clearInfiniteLoopInterval;_documentIsSelectingInactivityTimeoutDebounced;_loopbackCounter=0;_pendingSelectionChange=new Set;constructor(e){super(e),this.mutationObserver=e.getObserver(aV),this.focusObserver=e.getObserver(Ay),this.selection=this.document.selection,this.domConverter=e.domConverter,this._fireSelectionChangeDoneDebounced=Sk(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Sk(()=>this.document.isSelecting=!1,5e3),this.view.document.on("change:isFocused",(t,r,i)=>{if(i&&this._pendingSelectionChange.size){for(const s of Array.from(this._pendingSelectionChange))this._handleSelectionChange(s);this._pendingSelectionChange.clear()}})}observe(e){const t=e.ownerDocument,r=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},i=()=>{this.document.isSelecting&&(this._handleSelectionChange(t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",r,{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",()=>{this.document.isComposing&&!ot.isAndroid||(this._handleSelectionChange(t),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(t)},{priority:"lowest"}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const t=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(t.anchorNode))return;this.mutationObserver.flush();const r=this.domConverter.domSelectionToView(t);if(r.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.view.document.isFocused&&!this.view.document.isReadOnly){this._pendingSelectionChange.add(e);return}if(this._pendingSelectionChange.delete(e),!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(t))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(!_1e(r))this.view.forceRender();else if(this.selection.isSimilar(r))this.view.forceRender();else{const i={oldSelection:this.selection,newSelection:r,domSelection:t};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}function _1e(n){return Array.from(n.getRanges()).flatMap(e=>[e.start.root,e.end.root]).every(e=>e&&e.is("rootElement"))}class x1e extends Io{domEventType=["compositionstart","compositionupdate","compositionend"];constructor(e){super(e);const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0}),t.on("compositionend",()=>{t.isComposing=!1})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class lV{_files;_native;constructor(e,t={}){this._files=t.cacheFiles?RI(e):null,this._native=e}get files(){return this._files||(this._files=RI(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,r){this._native.setDragImage(e,t,r)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function RI(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(r=>r.kind==="file").map(r=>r.getAsFile())}class E1e extends Io{domEventType="beforeinput";onDomEvent(e){const t=e.getTargetRanges(),r=this.view,i=r.document;let s=null,o=null,a=[];if(e.dataTransfer&&(s=new lV(e.dataTransfer)),e.data!==null?o=e.data:s&&(o=s.getData("text/plain")),i.selection.isFake)a=Array.from(i.selection.getRanges()),e.preventDefault();else if(t.length)a=t.map(l=>{let u=r.domConverter.domPositionToView(l.startContainer,l.startOffset);const f=r.domConverter.domPositionToView(l.endContainer,l.endOffset);if(u&&pi(l.startContainer)&&l.startOffset<hs){e.preventDefault();let m=hs-l.startOffset;u=u.getLastMatchingPosition(p=>!!(p.item.is("attributeElement")||p.item.is("uiElement")||p.item.is("$textProxy")&&m--),{direction:"backward",singleCharacters:!0})}if(k1e(l.endContainer,l.endOffset)&&e.preventDefault(),u)return r.createRange(u,f);if(f)return r.createRange(f)}).filter(l=>!!l);else if(ot.isAndroid){const l=e.target.ownerDocument.defaultView.getSelection();a=Array.from(r.domConverter.domSelectionToView(l).getRanges())}if(ot.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(a[0].end)]});return}if(["insertText","insertReplacementText"].includes(e.inputType)&&o&&o.includes(`
`)){const l=o.split(/\n{1,2}/g);let u=a;e.preventDefault();for(let f=0;f<l.length;f++){const m=l[f];m!=""&&(this.fire(e.type,e,{data:m,dataTransfer:s,targetRanges:u,inputType:e.inputType,isComposing:e.isComposing}),u=[i.selection.getFirstRange()]),f+1<l.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:u}),u=[i.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:s,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}function k1e(n,e){for(;n.parentNode;){if(Dn(n)){if(e!=n.data.length)return!1}else if(e!=n.childNodes.length)return!1;if(e=lf(n)+1,n=n.parentNode,e<n.childNodes.length&&pi(n.childNodes[e]))return!0}return!1}class T1e extends Ro{constructor(e){super(e),this.document.on("keydown",(t,r)=>{if(this.isEnabled&&i0e(r.keyCode)){const i=new Uu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(i,r),i.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class S1e extends Ro{constructor(e){super(e);const t=this.document;t.on("keydown",(r,i)=>{if(!this.isEnabled||i.keyCode!=xt.tab||i.ctrlKey)return;const s=new Uu(t,"tab",t.selection.getFirstRange());t.fire(s,i),s.stop.called&&r.stop()})}observe(){}stopObserving(){}}class C1e extends qt(){document;domConverter;domRoots=new Map;_renderer;_initialDomRootAttributes=new WeakMap;_observers=new Map;_writer;_ongoingChange=!1;_postFixersInProgress=!1;_renderingDisabled=!1;_hasChangedSinceTheLastRendering=!1;constructor(e){super(),this.document=new ZB(e),this.domConverter=new sV(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new t1e(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new eV(this.document),this.addObserver(aV),this.addObserver(Ay),this.addObserver(v1e),this.addObserver(b1e),this.addObserver(y1e),this.addObserver(x1e),this.addObserver(T1e),this.addObserver(E1e),this.addObserver(S1e),Zpe(this),Wpe(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),ot.isiOS&&this.listenTo(this.document,"blur",(t,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(t,{mutations:r})=>{r.forEach(i=>this._renderer.markToSync(i.type,i.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,t="main"){const r=this.document.getRoot(t);r._name=e.tagName.toLowerCase();const i={};for(const{name:o,value:a}of Array.from(e.attributes))i[o]=a,o==="class"?this._writer.addClass(a.split(" "),r):r.hasAttribute(o)||this._writer.setAttribute(o,a,r);this._initialDomRootAttributes.set(e,i);const s=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};s(),this.domRoots.set(t,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(o,a)=>this._renderer.markToSync("children",a)),r.on("change:attributes",(o,a)=>this._renderer.markToSync("attributes",a)),r.on("change:text",(o,a)=>this._renderer.markToSync("text",a)),r.on("change:isReadOnly",()=>this.change(s)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:i})=>t.removeAttribute(i));const r=this._initialDomRootAttributes.get(t);for(const i in r)t.setAttribute(i,r[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const i of this._observers.values())i.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[r,i]of this.domRoots)t.observe(i,r);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:r=20,ancestorOffset:i=20}={}){const s=this.document.selection.getFirstRange();if(!s)return;const o=aa({alignToTop:e,forceScroll:t,viewportOffset:r,ancestorOffset:i});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const a={target:this.domConverter.viewRangeToDom(s),viewportOffset:r,ancestorOffset:i,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",a,o),DB(a)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new q("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Ay).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Me._createAt(e,t)}createPositionAfter(e){return Me._createAfter(e)}createPositionBefore(e){return Me._createBefore(e)}createRange(e,t){return new ft(e,t)}createRangeOn(e){return ft._createOn(e)}createRangeIn(e){return ft._createIn(e)}createSelection(...e){return new yo(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class yc{is(){throw new Error("is() method is abstract")}}class po extends yc{textNode;data;offsetInText;constructor(e,t,r){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new q("model-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.offsetSize)throw new q("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}po.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class Ha{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;_visitedParent;constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new q("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new q("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Ne._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,r,i,s;do i=this.position,s=this._visitedParent,{done:t,value:r}=this.next();while(!t&&e(r));t||(this._position=i,this._visitedParent=s)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone(),this._visitedParent=e.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),r=this._visitedParent;if(r.parent===null&&t.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=wg(t,r),s=i||cV(t,r,i);if(s&&s.is("model:element")){if(!this.shallow)t.path.push(0),this._visitedParent=s;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,Wc("elementStart",s,e,t,1)}if(s&&s.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let u=s.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<u&&(u=this.boundaries.end.offset),o=u-t.offset}const a=t.offset-s.startOffset,l=new po(s,a,o);return t.offset+=o,this._position=t,Wc("text",l,e,t,o)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():Wc("elementEnd",r,e,t)}_previous(){const e=this.position,t=this.position.clone(),r=this._visitedParent;if(r.parent===null&&t.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=t.parent,s=wg(t,i),o=s||uV(t,i,s);if(o&&o.is("model:element"))return t.offset--,this.shallow?(this._position=t,Wc("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Wc("elementEnd",o,e,t));if(o&&o.is("model:$text")){let a;if(this.singleCharacters)a=1;else{let f=o.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>f&&(f=this.boundaries.start.offset),a=t.offset-f}const l=t.offset-o.startOffset,u=new po(o,l-a,a);return t.offset-=a,this._position=t,Wc("text",u,e,t,a)}return t.path.pop(),this._position=t,this._visitedParent=r.parent,Wc("elementStart",r,e,t,1)}}function Wc(n,e,t,r,i){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:r,length:i}}}class Ne extends yc{root;path;stickiness;constructor(e,t,r="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new q("model-position-root-invalid",e);if(!Array.isArray(t)||t.length===0)throw new q("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)throw new q("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new q("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return wg(this,this.parent)}get nodeAfter(){const e=this.parent;return cV(this,e,wg(this,e))}get nodeBefore(){const e=this.parent;return uV(this,e,wg(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Pr(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new Ha(t);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Pr(this.path,e.path),r=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,r)}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let i=0;for(;t[i]==r[i]&&t[i];)i++;return i===0?null:t[i-1]}getShiftedBy(e){const t=this.clone(),r=t.offset+e;return t.offset=r<0?0:r,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let r=0;r<t;r++){const i=this.path[r]-e.path[r];if(i<-1||i>1)return!1;if(i===1)return II(e,this,r);if(i===-1)return II(this,e,r)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Rk(this.path,t):Rk(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),r=e.getParentPath();return Pr(t,r)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Ne._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,r=t.containsPosition(this)||t.start.isEqual(this);let i;return r?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?i=Ne._createAt(e.deletionPosition):i=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const r=Ne._createAt(this);if(this.root!=e.root)return r;if(Pr(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;r.offset-=t}}else if(Pr(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+t>this.path[i])return null;r.path[i]-=t}}return r}_getTransformedByInsertion(e,t){const r=Ne._createAt(this);if(this.root!=e.root)return r;if(Pr(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=t);else if(Pr(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;e.offset<=this.path[i]&&(r.path[i]+=t)}return r}_getTransformedByMove(e,t,r){if(t=t._getTransformedByDeletion(e,r),e.isEqual(t))return Ne._createAt(this);const i=this._getTransformedByDeletion(e,r);return i===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):i._getTransformedByInsertion(t,r)}_getCombined(e,t){const r=e.path.length-1,i=Ne._createAt(t);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[r]-e.offset,i.path=[...i.path,...this.path.slice(r+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,r="toNone"){if(e.is("model:position"))return new Ne(e.root,e.path,e.stickiness);{const i=e;if(t=="end")t=i.maxOffset;else{if(t=="before")return this._createBefore(i,r);if(t=="after")return this._createAfter(i,r);if(t!==0&&!t)throw new q("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new q("model-position-parent-incorrect",[this,e]);const s=i.getPath();return s.push(t),new this(i.root,s,r)}}static _createAfter(e,t){if(!e.parent)throw new q("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new q("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const r=new Ne(t.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!t.getRoot(e.root))throw new q("model-position-fromjson-no-root",t,{rootName:e.root});return new Ne(t.getRoot(e.root),e.path,e.stickiness)}}Ne.prototype.is=function(n){return n==="position"||n==="model:position"};function wg(n,e){const t=e.getChildAtOffset(n.offset);return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function cV(n,e,t){return t!==null?null:e.getChildAtOffset(n.offset)}function uV(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function II(n,e,t){return!(t+1===n.path.length||!Rk(e.path,t+1)||!A1e(n,t+1))}function Rk(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}function A1e(n,e){let t=n.parent,r=n.path.length-1,i=0;for(;r>=e;){if(n.path[r]+i!==t.maxOffset)return!1;i=1,r--,t=t.parent}return!0}class he extends yc{start;end;constructor(e,t){super(),this.start=Ne._createAt(e),this.end=t?Ne._createAt(t):Ne._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ha({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return Pr(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&i}containsItem(e){const t=Ne._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new he(this.start,e.start)),this.containsPosition(e.end)&&t.push(new he(e.end,this.end))):t.push(new he(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new he(t,r)}return null}getJoined(e,t=!1){let r=this.isIntersecting(e);if(r||(this.start.isBefore(e.start)?r=t?this.end.isTouching(e.start):this.end.isEqual(e.start):r=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let i=this.start,s=this.end;return e.start.isBefore(i)&&(i=e.start),e.end.isAfter(s)&&(s=e.end),new he(i,s)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,r=Ne._createAt(this.start);let i=r.parent;for(;r.path.length>t+1;){const s=i.maxOffset-r.offset;s!==0&&e.push(new he(r,r.getShiftedBy(s))),r.path=r.path.slice(0,-1),r.offset++,i=i.parent}for(;r.path.length<=this.end.path.length;){const s=this.end.path[r.path.length-1],o=s-r.offset;o!==0&&e.push(new he(r,r.getShiftedBy(o))),r.offset=s,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Ha(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Ha(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new Ha(e);yield t.position;for(const r of t)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new he(this.start,this.end)]}getTransformedByOperations(e){const t=[new he(this.start,this.end)];for(const r of e)for(let i=0;i<t.length;i++){const s=t[i].getTransformedByOperation(r);t.splice(i,1,...s),i+=s.length-1}for(let r=0;r<t.length;r++){const i=t[r];for(let s=r+1;s<t.length;s++){const o=t[s];(i.containsRange(o)||o.containsRange(i)||i.isEqual(o))&&t.splice(s,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const r=e.sourcePosition,i=e.howMany,s=e.targetPosition;return this._getTransformedByMove(r,s,i,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),t.root!=r.root&&(r=this.end.getShiftedBy(-1)),new he(t,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new he(this.start);let t=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return t.root!=r.root&&(r=this.end.getShiftedBy(-1)),t.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Ne._createAt(r),t.offset=0):(e.deletionPosition.isEqual(t)||(r=e.deletionPosition),t=e.targetPosition),new he(t,r)):new he(t,r)}_getTransformedByInsertion(e,t,r=!1){if(r&&this.containsPosition(e))return[new he(this.start,e),new he(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const i=new he(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,t),i.end=i.end._getTransformedByInsertion(e,t),[i]}}_getTransformedByMove(e,t,r,i=!1){if(this.isCollapsed){const m=this.start._getTransformedByMove(e,t,r);return[new he(m)]}const s=he._createFromPositionAndShift(e,r),o=t._getTransformedByDeletion(e,r);if(this.containsPosition(t)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const m=this.start._getTransformedByMove(e,t,r),p=this.end._getTransformedByMove(e,t,r);return[new he(m,p)]}let a;const l=this.getDifference(s);let u=null;const f=this.getIntersection(s);if(l.length==1?u=new he(l[0].start._getTransformedByDeletion(e,r),l[0].end._getTransformedByDeletion(e,r)):l.length==2&&(u=new he(this.start,this.end._getTransformedByDeletion(e,r))),u?a=u._getTransformedByInsertion(o,r,f!==null||i):a=[],f){const m=new he(f.start._getCombined(s.start,o),f.end._getCombined(s.start,o));a.length==2?a.splice(1,0,m):a.push(m)}return a}_getTransformedByDeletion(e,t){let r=this.start._getTransformedByDeletion(e,t),i=this.end._getTransformedByDeletion(e,t);return r==null&&i==null?null:(r==null&&(r=e),i==null&&(i=e),new he(r,i))}static _createFromPositionAndShift(e,t){const r=e,i=e.getShiftedBy(t);return t>0?new this(r,i):new this(i,r)}static _createIn(e){return new this(Ne._createAt(e,0),Ne._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Ne._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new q("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((s,o)=>s.start.isAfter(o.start)?1:-1);const r=e.indexOf(t),i=new this(t.start,t.end);for(let s=r-1;s>=0&&e[s].end.isEqual(i.start);s--)i.start=Ne._createAt(e[s].start);for(let s=r+1;s<e.length&&e[s].start.isEqual(i.end);s++)i.end=Ne._createAt(e[s].end);return i}static fromJSON(e,t){return new this(Ne.fromJSON(e.start,t),Ne.fromJSON(e.end,t))}}he.prototype.is=function(n){return n==="range"||n==="model:range"};class dV extends an(){_modelToViewMapping=new WeakMap;_viewToModelMapping=new WeakMap;_viewToModelLengthCallbacks=new Map;_markerNameToElements=new Map;_elementToMarkerNames=new Map;_deferredBindingRemovals=new Map;_unboundMarkerNames=new Set;_cache=new N1e;constructor(){super(),this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const r=this._modelToViewMapping.get(t.modelPosition.parent);if(!r)throw new q("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(r,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const r=this.findMappedViewAncestor(t.viewPosition),i=this._viewToModelMapping.get(r),s=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,r);t.modelPosition=Ne._createAt(i,s)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const i of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(i);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)&&this._cache.stopTracking(t)}bindElementToMarker(e,t){const r=this._markerNameToElements.get(t)||new Set;r.add(e);const i=this._elementToMarkerNames.get(e)||new Set;i.add(t),this._markerNameToElements.set(t,r),this._elementToMarkerNames.set(e,i)}unbindElementFromMarkerName(e,t){const r=this._markerNameToElements.get(t);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(t));const i=this._elementToMarkerNames.get(e);i&&(i.delete(t),i.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new he(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ft(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const r={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const r=new Set;for(const i of t)if(i.is("attributeElement"))for(const s of i.getElementsWithSameId())r.add(s);else r.add(i);return r}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,r){if(r!=e){const s=this._toModelOffset(e.parent,e.index,r),o=this._toModelOffset(e,t,e);return s+o}if(e.is("$text"))return t;let i=0;for(let s=0;s<t;s++)i+=this.getModelLength(e.getChild(s));return i}getModelLength(e){const t=[e];let r=0;for(;t.length>0;){const i=t.pop(),s=i.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(i.name);if(s)r+=s(i);else if(this._viewToModelMapping.has(i))r+=1;else if(i.is("$text"))r+=i.data.length;else{if(i.is("uiElement"))continue;for(const o of i.getChildren())t.push(o)}}return r}findPositionIn(e,t){if(t===0)return this._moveViewPositionToTextNode(new Me(e,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(e)){const i=this._cache.getClosest(e,t);return this._findPositionStartingFrom(i.viewPosition,i.modelOffset,t,e,!0)}else return this._findPositionStartingFrom(new Me(e,0),0,t,e,!1)}_findPositionStartingFrom(e,t,r,i,s){let o=e.parent,a=e.offset;if(o.is("$text"))return new Me(o,r-t);let l,u=t,f=0;for(;u<r;){if(l=o.getChild(a),!l){if(o==i)throw new q("mapping-model-offset-not-found",this,{modelOffset:r,viewContainer:i});a=o.parent.getChildIndex(o)+1,o=o.parent,s&&this._cache.save(o,a,i,u);continue}s?f=this._getModelLengthAndCache(l,i,u):f=this.getModelLength(l),u+=f,a++}let m=new Me(o,a);if(s)for(;m.isAtEnd&&m.parent!==i&&m.parent.parent;){const p=m.parent.parent,y=p.getChildIndex(m.parent)+1;this._cache.save(p,y,i,u),m=new Me(p,y)}return u==r?this._moveViewPositionToTextNode(m):this._findPositionStartingFrom(new Me(l,0),u-f,r,i,s)}_getModelLengthAndCache(e,t,r){let i=0;if(this._viewToModelMapping.has(e))i=1;else if(e.is("$text"))i=e.data.length;else if(!e.is("uiElement"))for(const s of e.getChildren())i+=this._getModelLengthAndCache(s,t,r+i);return this._cache.save(e.parent,e.index+1,t,r+i),i}_moveViewPositionToTextNode(e){const t=e.nodeBefore,r=e.nodeAfter;return t&&t.is("view:$text")?new Me(t,t.data.length):r&&r.is("view:$text")?new Me(r,0):e}}class N1e extends an(){_cachedMapping=new WeakMap;_nodeToCacheListIndex=new WeakMap;_invalidateOnChildrenChangeCallback=(e,t,r)=>{this._clearCacheInsideParent(t,r.index)};_invalidateOnTextChangeCallback=(e,t)=>{this._clearCacheAfter(t)};save(e,t,r,i){const s=this._cachedMapping.get(r),o=s.cacheMap.get(i);if(o){const f=e.getChild(t-1),m=o.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(o.viewPosition.nodeBefore):0;this._nodeToCacheListIndex.set(f,m);return}const l={viewPosition:new Me(e,t),modelOffset:i};s.maxModelOffset=i>s.maxModelOffset?i:s.maxModelOffset,s.cacheMap.set(i,l);let u=s.cacheList.length-1;for(;u>=0&&s.cacheList[u].modelOffset>i;)u--;if(s.cacheList.splice(u+1,0,l),t>0){const f=e.getChild(t-1);this._nodeToCacheListIndex.set(f,u+1)}}getClosest(e,t){const r=this._cachedMapping.get(e);let i;if(r)if(t>r.maxModelOffset)i=r.cacheList[r.cacheList.length-1];else{const s=r.cacheMap.get(t);s?i=s:i=this._findInCacheList(r.cacheList,t)}else i=this.startTracking(e);return{modelOffset:i.modelOffset,viewPosition:i.viewPosition.clone()}}startTracking(e){const r={viewPosition:new Me(e,0),modelOffset:0},i={maxModelOffset:0,cacheList:[r],cacheMap:new Map([[0,r]])};return this._cachedMapping.set(e,i),e.on("change:children",this._invalidateOnChildrenChangeCallback),e.on("change:text",this._invalidateOnTextChangeCallback),r}stopTracking(e){e.off("change:children",this._invalidateOnChildrenChangeCallback),e.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(e)}_clearCacheInsideParent(e,t){if(t==0)this._cachedMapping.has(e)?this._clearCacheAll(e):this._clearCacheInsideParent(e.parent,e.index);else{const r=e.getChild(t-1);this._clearCacheAfter(r)}}_clearCacheAll(e){const t=this._cachedMapping.get(e);t.maxModelOffset>0&&(t.maxModelOffset=0,t.cacheList.length=1,t.cacheMap.clear(),t.cacheMap.set(0,t.cacheList[0]))}_clearCacheAfter(e){const t=this._nodeToCacheListIndex.get(e);if(t===void 0){const i=e.parent;this._cachedMapping.has(i)||this._clearCacheInsideParent(i.parent,i.index);return}let r=e.parent;for(;!this._cachedMapping.has(r);)r=r.parent;this._clearCacheFromCacheIndex(r,t)}_clearCacheFromCacheIndex(e,t){t===0&&(t=1);const r=this._cachedMapping.get(e),i=r.cacheList[t-1];if(!i)return;r.maxModelOffset=i.modelOffset;const s=r.cacheList.splice(t);for(const o of s){r.cacheMap.delete(o.modelOffset);const a=o.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(a)}}_findInCacheList(e,t){let r=0,i=e.length-1,s=i-r>>1,o=e[s];for(;r<i;)o.modelOffset<t?r=s+1:i=s-1,s=r+(i-r>>1),o=e[s];return o.modelOffset<=t?o:e[s-1]}}class P1e{_consumable=new Map;_textProxyRegistry=new Map;add(e,t){t=B1(t),e instanceof po&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=B1(t),e instanceof po&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=B1(t),e instanceof po&&(e=this._getSymbolForTextProxy(e));const r=this._consumable.get(e);if(r===void 0)return null;const i=r.get(t);return i===void 0?null:i}revert(e,t){t=B1(t),e instanceof po&&(e=this._getSymbolForTextProxy(e));const r=this.test(e,t);return r===!1?(this._consumable.get(e).set(t,!0),!0):r===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[r,i]of this._consumable)for(const[s,o]of i){const a=s.split(":")[0];o&&e==a&&t.push({event:s,item:r.name||r.description})}if(t.length)throw new q("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const r=this._textProxyRegistry.get(e.startOffset);if(r){const i=r.get(e.endOffset);i&&(t=i.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,r=e.endOffset,i=e.parent,s=Symbol("$textProxy:"+e.data);let o,a;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),a=o.get(r),a||(a=new Map,o.set(r,a)),a.set(i,s),s}}function B1(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}class fV extends an(){_conversionApi;_firedEventsMap;constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,r){const i=e.getRefreshedItems(),s=this._createConversionApi(r,i);for(const a of e.getMarkersToRemove())this._convertMarkerRemove(a.name,a.range,s);const o=this._reduceChanges(e.getChanges(),i);for(const a of o)a.type==="insert"?this._convertInsert(he._createFromPositionAndShift(a.position,a.length),s):a.type==="reinsert"?this._convertReinsert(he._createFromPositionAndShift(a.position,a.length),s):a.type==="remove"?this._convertRemove(a.position,a.length,a.name,s):this._convertAttribute(a.range,a.attributeKey,a.attributeOldValue,a.attributeNewValue,s);s.mapper.flushDeferredBindings();for(const a of s.mapper.flushUnboundMarkerNames()){const l=t.get(a).getRange();this._convertMarkerRemove(a,l,s),this._convertMarkerAdd(a,l,s)}for(const a of e.getMarkersToAdd())this._convertMarkerAdd(a.name,a.range,s);s.consumable.verifyAllConsumed("insert")}convert(e,t,r,i={}){const s=this._createConversionApi(r,void 0,i);this._convertInsert(e,s);for(const[o,a]of t)this._convertMarkerAdd(o,a,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,t,r){const i=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},i);const s=e.getFirstPosition().root;if(!i.mapper.toViewElement(s))return;const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(i.consumable,e,o),this.fire("selection",{selection:e},i),!!e.isCollapsed){for(const a of o)if(i.consumable.test(e,"addMarker:"+a.name)){const l=a.getRange();if(!R1e(e.getFirstPosition(),a,i.mapper))continue;const u={item:e,markerName:a.name,markerRange:l};this.fire(`addMarker:${a.name}`,u,i)}for(const a of e.getAttributeKeys())if(i.consumable.test(e,"attribute:"+a)){const l={item:e,range:e.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:e.getAttribute(a)};this.fire(`attribute:${a}:$text`,l,i)}}}_convertInsert(e,t,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const i of e.getWalker({shallow:!0}))this._testAndFire("insert",OI(i),t)}_convertRemove(e,t,r,i){this.fire(`remove:${r}`,{position:e,length:t},i)}_convertAttribute(e,t,r,i,s){this._addConsumablesForRange(s.consumable,e,`attribute:${t}`);for(const o of e){const a={item:o.item,range:he._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:r,attributeNewValue:i};this._testAndFire(`attribute:${t}`,a,s)}}_convertReinsert(e,t){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,r);for(const i of r.map(OI))this.fire(`remove:${i.item.is("element")?i.item.name:"$text"}`,{position:i.range.start,length:i.item.offsetSize,reconversion:!0},t),this._testAndFire("insert",{...i,reconversion:!0},t)}_convertMarkerAdd(e,t,r){if(t.root.rootName=="$graveyard")return;const i=`addMarker:${e}`;if(r.consumable.add(t,i),this.fire(i,{markerName:e,markerRange:t},r),!!r.consumable.consume(t,i)){this._addConsumablesForRange(r.consumable,t,i);for(const s of t.getItems()){if(!r.consumable.test(s,i))continue;const o={item:s,range:he._createOn(s),markerName:e,markerRange:t};this.fire(i,o,r)}}}_convertMarkerRemove(e,t,r){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},r)}_reduceChanges(e,t){const r={changes:e,refreshedItems:t};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(e,t){for(const r of t){const i=r.item;if(e.test(i,"insert")===null){e.add(i,"insert");for(const s of i.getAttributeKeys())e.add(i,"attribute:"+s)}}return e}_addConsumablesForRange(e,t,r){for(const i of t.getItems())e.add(i,r);return e}_addConsumablesForSelection(e,t,r){e.add(t,"selection");for(const i of r)e.add(t,"addMarker:"+i.name);for(const i of t.getAttributeKeys())e.add(t,"attribute:"+i);return e}_testAndFire(e,t,r){const i=I1e(e,t),s=t.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(r),a=o.get(s);if(!a)o.set(s,new Set([i]));else if(!a.has(i))a.add(i);else return;this.fire(i,t,r)}_testAndFireAddAttributes(e,t){const r={item:e,range:he._createOn(e)};for(const i of r.item.getAttributeKeys())r.attributeKey=i,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(i),this._testAndFire(`attribute:${i}`,r,t)}_createConversionApi(e,t=new Set,r={}){const i={...this._conversionApi,consumable:new P1e,writer:e,options:r,convertItem:s=>this._convertInsert(he._createOn(s),i),convertChildren:s=>this._convertInsert(he._createIn(s),i,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,i),canReuseView:s=>!t.has(i.mapper.toModelElement(s))};return this._firedEventsMap.set(i,new Map),i}}function R1e(n,e,t){const r=e.getRange(),i=Array.from(n.getAncestors());return i.shift(),i.reverse(),!i.some(o=>{if(r.containsItem(o))return!!t.toViewElement(o).getCustomProperty("addHighlight")})}function I1e(n,e){const t=e.item.is("element")?e.item.name:"$text";return`${n}:${t}`}function OI(n){return{item:n.item,range:he._createFromPositionAndShift(n.previousPosition,n.length)}}class zu extends yc{parent=null;_attrs;_index=null;_startOffset=null;constructor(e){super(),this._attrs=oa(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),i=e.getAncestors(t);let s=0;for(;r[s]==i[s]&&r[s];)s++;return s===0?null:r[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),i=Pr(t,r);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<r[i]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,r)=>(t[r[0]]=r[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=oa(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}zu.prototype.is=function(n){return n==="node"||n==="model:node"};class ds extends an(yc){_lastRangeBackward=!1;_attrs=new Map;_ranges=[];constructor(...e){super(),e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const i of e._ranges)if(t.isEqual(i)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new he(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new he(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new he(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,r,i]=e;if(typeof r=="object"&&(i=r,r=void 0),t===null)this._setRanges([]);else if(t instanceof ds)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof he)this._setRanges([t],!!i&&!!i.backward);else if(t instanceof Ne)this._setRanges([new he(t)]);else if(t instanceof zu){const s=!!i&&!!i.backward;let o;if(r=="in")o=he._createIn(t);else if(r=="on")o=he._createOn(t);else if(r!==void 0)o=new he(Ne._createAt(t,r));else throw new q("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([o],s)}else if(vs(t))this._setRanges(t,i&&!!i.backward);else throw new q("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const r=Array.from(e),i=r.some(s=>{if(!(s instanceof he))throw new q("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(s))});r.length===this._ranges.length&&!i||(this._replaceAllRanges(r),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new q("model-selection-setfocus-no-ranges",[this,e]);const r=Ne._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(i)=="before"?(this._pushRange(new he(r,i)),this._lastRangeBackward=!0):(this._pushRange(new he(i,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const r=MI(t.start,e);M1e(r,t)&&(yield r);const i=t.getWalker();for(const o of i){const a=o.item;o.type=="elementEnd"&&O1e(a,e,t)?yield a:o.type=="elementStart"&&a.is("model:element")&&a.root.document.model.schema.isBlock(a)&&i.jumpTo(Ne._createAt(a,"end"))}const s=MI(t.end,e);D1e(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=Ne._createAt(e,0),r=Ne._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}toJSON(){const e={ranges:Array.from(this.getRanges()).map(r=>r.toJSON())},t=Object.fromEntries(this.getAttributes());return Object.keys(t).length&&(e.attributes=t),this.isBackward&&(e.isBackward=!0),e}_pushRange(e){this._checkRange(e),this._ranges.push(new he(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new q("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}ds.prototype.is=function(n){return n==="selection"||n==="model:selection"};function hV(n,e){return e.has(n)?!1:(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function O1e(n,e,t){return hV(n,e)&&_C(n,t)}function MI(n,e){const r=n.parent.root.document.model.schema,i=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const o=i.find(a=>s?!1:(s=r.isLimit(a),!s&&hV(a,e)));return i.forEach(a=>e.add(a)),o}function _C(n,e){const t=F1e(n);return t?!e.containsRange(he._createOn(t),!0):!0}function M1e(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.start.isTouching(Ne._createAt(n,n.maxOffset))?!1:_C(n,e):!1}function D1e(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.end.isTouching(Ne._createAt(n,0))?!1:_C(n,e):!1}function F1e(n){const e=n.root.document.model.schema;let t=n.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}class Di extends an(he){constructor(e,t){super(e,t),L1e.call(this)}detach(){this.stopListening()}toRange(){return new he(this.start,this.end)}static fromRange(e){return new Di(e.start,e.end)}}Di.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function L1e(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&B1e.call(this,t)},{priority:"low"})}function B1e(n){const e=this.getTransformedByOperation(n),t=he._createFromRanges(e),r=!t.isEqual(this),i=V1e(this,n);let s=null;if(r){t.root.rootName=="$graveyard"&&(n.type=="remove"?s=n.sourcePosition:s=n.deletionPosition);const o=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",o,{deletionPosition:s})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:s})}function V1e(n,e){switch(e.type){case"insert":return n.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(e.sourcePosition)||n.start.isEqual(e.sourcePosition)||n.containsPosition(e.targetPosition);case"split":return n.containsPosition(e.splitPosition)||n.containsPosition(e.insertionPosition)}return!1}class Sn extends zu{_data;constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Sn(this.data,this.getAttributes())}static fromJSON(e){return new Sn(e.data,e.attributes)}}Sn.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};const n0="selection:";class To extends an(yc){_selection;constructor(e){super(),this._selection=new U1e(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}toJSON(){return this._selection.toJSON()}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return n0+e}static _isStoreAttributeKey(e){return e.startsWith(n0)}}To.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class U1e extends ds{markers=new sr({idProperty:"name"});_model;_document;_attributePriority=new Map;_selectionRestorePosition=null;_hasChangedRange=!1;_overriddenGravityRegister=new Set;_observedMarkers=new Set;constructor(e){super(),this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,r)=>{const i=r[0];!i.isDocumentOperation||i.type=="marker"||i.type=="rename"||i.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,r,i,s)=>{this._updateMarker(r,s)}),this.listenTo(this._document,"change",(t,r)=>{z1e(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=ci();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new q("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}toJSON(){const e=super.toJSON();return this.markers.length&&(e.markers=this.markers.map(t=>t.toJSON())),e}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new q("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Di.fromRange(e);return t.on("change:range",(r,i,s)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const o=this._ranges.indexOf(t);this._ranges.splice(o,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const i of this._model.markers){const s=i.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const o=i.getRange();for(const a of this.getRanges())o.containsRange(a,!a.isCollapsed)&&e.push(i)}const r=Array.from(this.markers);for(const i of e)this.markers.has(i)||(this.markers.add(i),t=!0);for(const i of Array.from(this.markers))e.includes(i)||(this.markers.remove(i),t=!0);t&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,t){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let i=!1;const s=Array.from(this.markers),o=this.markers.has(e);if(!t)o&&(this.markers.remove(e),i=!0);else{let a=!1;for(const l of this.getRanges())if(t.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!o?(this.markers.add(e),i=!0):!a&&o&&(this.markers.remove(e),i=!0)}i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const t=oa(this._getSurroundingAttributes()),r=oa(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,o]of this._attributePriority)o=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(t);const i=[];for(const[s,o]of this.getAttributes())(!r.has(s)||r.get(s)!==o)&&i.push(s);for(const[s]of r)this.hasAttribute(s)||i.push(s);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(e,t,r=!0){const i=r?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,i),!0)}_removeAttribute(e,t=!0){const r=t?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,r),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[r,i]of this.getAttributes())e.get(r)!==i&&this._removeAttribute(r,!1);for(const[r,i]of e)this._setAttribute(r,i,!1)&&t.add(r);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(n0)&&(yield[t.substr(n0.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const i=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=Pm(i,t)),r||(r=Pm(s,t)),!this.isGravityOverridden&&!r){let o=i;for(;o&&!r;)o=o.previousSibling,r=Pm(o,t)}if(!r){let o=s;for(;o&&!r;)o=o.nextSibling,r=Pm(o,t)}r||(r=this.getStoredAttributes())}else{const i=this.getFirstRange();for(const s of i){if(s.item.is("element")&&t.isObject(s.item)){r=Pm(s.item,t);break}if(s.type=="text"){r=s.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Pm(n,e){if(!n)return null;if(n instanceof po||n instanceof Sn)return n.getAttributes();if(!e.isInline(n))return null;if(!e.isObject(n))return[];const t=[];for(const[r,i]of n.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&t.push([r,i]);return t}function z1e(n,e){const t=n.document.differ;for(const r of t.getChanges()){if(r.type!="insert")continue;const i=r.position.parent;r.length===i.maxOffset&&n.enqueueChange(e,o=>{const a=Array.from(i.getAttributeKeys()).filter(l=>l.startsWith(n0));for(const l of a)o.removeAttribute(l,i)})}}class vg{_nodes=[];_offsetToNode=[];constructor(e){e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new q("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const t=this._offsetToNode[e];if(!t)throw new q("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(t)}_insertNodes(e,t){const r=[];for(const s of t){if(!(s instanceof zu))throw new q("model-nodelist-insertnodes-not-node",this);r.push(s)}let i=this.indexToOffset(e);lI(this._nodes,r,e),lI(this._offsetToNode,H1e(r),i);for(let s=e;s<this._nodes.length;s++)this._nodes[s]._index=s,this._nodes[s]._startOffset=i,i+=this._nodes[s].offsetSize}_removeNodes(e,t=1){if(t==0)return[];let r=this.indexToOffset(e);const i=this._nodes.splice(e,t),s=i[i.length-1],o=s.startOffset+s.offsetSize-r;this._offsetToNode.splice(r,o);for(const a of i)a._index=null,a._startOffset=null;for(let a=e;a<this._nodes.length;a++)this._nodes[a]._index=a,this._nodes[a]._startOffset=r,r+=this._nodes[a].offsetSize;return i}_removeNodesArray(e){if(e.length==0)return;for(const r of e)r._index=null,r._startOffset=null;this._nodes=this._nodes.filter(r=>r.index!==null),this._offsetToNode=this._offsetToNode.filter(r=>r.index!==null);let t=0;for(let r=0;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=t,t+=this._nodes[r].offsetSize}toJSON(){return this._nodes.map(e=>e.toJSON())}}function H1e(n){const e=[];let t=0;for(const r of n)for(let i=0;i<r.offsetSize;i++)e[t++]=r;return e}class gn extends zu{name;_children=new vg;constructor(e,t,r){super(t),this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const r of e)t=t.getChildAtOffset(r);return t}findAncestor(e,t={}){let r=t.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?W1e(this._children):void 0;return new gn(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=$1e(t);for(const i of r)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const i of r)i.parent=null;return r}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const t of e)t.parent=null}static fromJSON(e){let t;if(e.children){t=[];for(const r of e.children)r.name?t.push(gn.fromJSON(r)):t.push(Sn.fromJSON(r))}return new gn(e.name,e.attributes,t)}}gn.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function $1e(n){if(typeof n=="string")return[new Sn(n)];vs(n)||(n=[n]);const e=[];for(const t of n)typeof t=="string"?e.push(new Sn(t)):t instanceof po?e.push(new Sn(t.data,t.getAttributes())):e.push(t);return e}function W1e(n){const e=[];for(const t of n)e.push(t._clone(!0));return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class mV{_dispatchers;constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class j1e extends mV{elementToElement(e){return this.add(cbe(e))}elementToStructure(e){return this.add(ube(e))}attributeToElement(e){return this.add(dbe(e))}attributeToAttribute(e){return this.add(fbe(e))}markerToElement(e){return this.add(hbe(e))}markerToHighlight(e){return this.add(gbe(e))}markerToData(e){return this.add(mbe(e))}}function gV(){return(n,e,t)=>{if(!t.consumable.consume(e.item,n.name))return;const r=t.writer,i=t.mapper.toViewPosition(e.range.start),s=r.createText(e.item.data);r.insert(i,s)}}function pV(){return(n,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function q1e(){return(n,e,t)=>{if(e.reconversion)return;const r=t.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),s=t.mapper.toViewPosition(i,{isPhantom:!0}),o=t.writer.createRange(r,s);yV(o.getTrimmed(),t)}}function bV(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function G1e(){return(n,e,t)=>{const r=e.selection;if(r.isCollapsed||!t.consumable.consume(r,"selection"))return;const i=[];for(const s of r.getRanges())i.push(t.mapper.toViewRange(s));t.writer.setSelection(i,{backward:r.isBackward})}}function Y1e(){return(n,e,t)=>{const r=e.selection;if(!r.isCollapsed||!t.consumable.consume(r,"selection"))return;const i=t.writer,s=r.getFirstPosition(),o=t.mapper.toViewPosition(s),a=i.breakAttributes(o);i.setSelection(a)}}function K1e(){return(n,e,t)=>{const r=t.writer,i=r.document.selection;for(const s of i.getRanges())s.isCollapsed&&s.end.parent.isAttached()&&t.writer.mergeAttributes(s.start);r.setSelection(null)}}function X1e(n){return(e,t,r)=>{if(!r.consumable.test(t.item,e.name))return;const i=n(t.attributeOldValue,r,t),s=n(t.attributeNewValue,r,t);if(!i&&!s)return;r.consumable.consume(t.item,e.name);const o=r.writer,a=o.document.selection;if(t.item instanceof ds||t.item instanceof To)o.wrap(a.getFirstRange(),s);else{let l=r.mapper.toViewRange(t.range);t.attributeOldValue!==null&&i&&(l=o.unwrap(l,i)),t.attributeNewValue!==null&&s&&o.wrap(l,s)}}}function J1e(n,e=xbe){return(t,r,i)=>{if(!e(r.item,i.consumable,{preflight:!0}))return;const s=n(r.item,i,r);if(!s)return;e(r.item,i.consumable);const o=r.reconversion&&wV(r.item,i)||i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,s),i.writer.insert(o,s),i.convertAttributes(r.item),kV(s,r.item.getChildren(),i,{reconversion:r.reconversion})}}function Q1e(n,e){return(t,r,i)=>{if(!e(r.item,i.consumable,{preflight:!0}))return;const s=new Map;i.writer._registerSlotFactory(ybe(r.item,s,i));const o=n(r.item,i,r);if(i.writer._clearSlotFactory(),!o)return;wbe(r.item,s,i),e(r.item,i.consumable);const a=r.reconversion&&wV(r.item,i)||i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,o),i.writer.insert(a,o),i.convertAttributes(r.item),vbe(o,s,i,{reconversion:r.reconversion})}}function Z1e(n){return(e,t,r)=>{t.isOpening=!0;const i=n(t,r);t.isOpening=!1;const s=n(t,r);if(!i||!s)return;const o=t.markerRange;if(o.isCollapsed&&!r.consumable.consume(o,e.name))return;for(const u of o)if(!r.consumable.consume(u.item,e.name))return;const a=r.mapper,l=r.writer;l.insert(a.toViewPosition(o.start),i),r.mapper.bindElementToMarker(i,t.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),s),r.mapper.bindElementToMarker(s,t.markerName)),e.stop()}}function yV(n,e){const t=e.writer.remove(n);for(const r of e.writer.createRangeIn(t).getItems())e.mapper.unbindViewElement(r,{defer:!0});return n.start}function wV(n,e){const t=e.mapper.toViewElement(n);return t&&yV(e.writer.createRangeOn(t),e)}function ebe(){return(n,e,t)=>{const r=t.mapper.markerNameToElements(e.markerName);if(r){for(const i of r)t.mapper.unbindElementFromMarkerName(i,e.markerName),t.writer.clear(t.writer.createRangeOn(i),i);t.writer.clearClonedElementsGroup(e.markerName),n.stop()}}}function tbe(n){return(e,t,r)=>{const i=n(t.markerName,r);if(!i)return;const s=t.markerRange;r.consumable.consume(s,e.name)&&(DI(s,!1,r,t,i),DI(s,!0,r,t,i),e.stop())}}function DI(n,e,t,r,i){const s=e?n.start:n.end,o=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,a=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(o||a){let u,f;e&&o||!e&&!a?(u=o,f=!0):(u=a,f=!1);const m=t.mapper.toViewElement(u);if(m){nbe(m,e,f,t,r,i);return}}const l=t.mapper.toViewPosition(s);rbe(l,e,t,r,i)}function nbe(n,e,t,r,i,s){const o=`data-${s.group}-${e?"start":"end"}-${t?"before":"after"}`,a=n.hasAttribute(o)?n.getAttribute(o).split(","):[];a.unshift(s.name),r.writer.setAttribute(o,a.join(","),n),r.mapper.bindElementToMarker(n,i.markerName)}function rbe(n,e,t,r,i){const s=`${i.group}-${e?"start":"end"}`,o=i.name?{name:i.name}:null,a=t.writer.createUIElement(s,o);t.writer.insert(n,a),t.mapper.bindElementToMarker(a,r.markerName)}function ibe(n){return(e,t,r)=>{const i=n(t.markerName,r);if(!i)return;const s=r.mapper.markerNameToElements(t.markerName);if(!s)return;for(const a of s)r.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(o(`data-${i.group}-start-before`,a),o(`data-${i.group}-start-after`,a),o(`data-${i.group}-end-before`,a),o(`data-${i.group}-end-after`,a)):r.writer.clear(r.writer.createRangeOn(a),a);r.writer.clearClonedElementsGroup(t.markerName),e.stop();function o(a,l){if(l.hasAttribute(a)){const u=new Set(l.getAttribute(a).split(","));u.delete(i.name),u.size==0?r.writer.removeAttribute(a,l):r.writer.setAttribute(a,Array.from(u).join(","),l)}}}}function sbe(n){return(e,t,r)=>{if(!r.consumable.test(t.item,e.name))return;const i=n(t.attributeOldValue,r,t),s=n(t.attributeNewValue,r,t);if(!i&&!s)return;r.consumable.consume(t.item,e.name);const o=r.mapper.toViewElement(t.item),a=r.writer;if(!o)throw new q("conversion-attribute-to-attribute-on-text",r.dispatcher,t);if(t.attributeOldValue!==null&&i){let l=i.value;i.key=="style"&&(typeof i.value=="string"?l=new Rf(a.document.stylesProcessor).setTo(i.value).getStylesEntries().map(([u])=>u):l=Object.keys(i.value)),a.removeAttribute(i.key,l,o)}if(t.attributeNewValue!==null&&s){let l=s.value;s.key=="style"&&typeof s.value=="string"&&(l=Object.fromEntries(new Rf(a.document.stylesProcessor).setTo(s.value).getStylesEntries())),a.setAttribute(s.key,l,!1,o)}}}function obe(n){return(e,t,r)=>{if(!t.item||!(t.item instanceof ds||t.item instanceof To)&&!t.item.is("$textProxy"))return;const i=xC(n,t,r);if(!i||!r.consumable.consume(t.item,e.name))return;const s=r.writer,o=bV(s,i),a=s.document.selection;if(t.item instanceof ds||t.item instanceof To)s.wrap(a.getFirstRange(),o);else{const l=r.mapper.toViewRange(t.range),u=s.wrap(l,o);for(const f of u.getItems())if(f.is("attributeElement")&&f.isSimilar(o)){r.mapper.bindElementToMarker(f,t.markerName);break}}}}function abe(n){return(e,t,r)=>{if(!t.item||!(t.item instanceof gn))return;const i=xC(n,t,r);if(!i||!r.consumable.test(t.item,e.name))return;const s=r.mapper.toViewElement(t.item);if(s&&s.getCustomProperty("addHighlight")){r.consumable.consume(t.item,e.name);for(const a of he._createIn(t.item))r.consumable.consume(a.item,e.name);s.getCustomProperty("addHighlight")(s,i,r.writer),r.mapper.bindElementToMarker(s,t.markerName)}}}function lbe(n){return(e,t,r)=>{if(t.markerRange.isCollapsed)return;const i=xC(n,t,r);if(!i)return;const s=bV(r.writer,i),o=r.mapper.markerNameToElements(t.markerName);if(o){for(const a of o)r.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(a),s):a.getCustomProperty("removeHighlight")(a,i.id,r.writer);r.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function cbe(n){const e=vV(n.model),t=r0(n.view,"container");return e.attributes.length&&(e.children=!0),r=>{r.on(`insert:${e.name}`,J1e(t,EV(e)),{priority:n.converterPriority||"normal"}),(e.children||e.attributes.length)&&r.on("reduceChanges",xV(e),{priority:"low"})}}function ube(n){const e=vV(n.model),t=r0(n.view,"container");return e.children=!0,r=>{if(r._conversionApi.schema.checkChild(e.name,"$text"))throw new q("conversion-element-to-structure-disallowed-text",r,{elementName:e.name});r.on(`insert:${e.name}`,Q1e(t,EV(e)),{priority:n.converterPriority||"normal"}),r.on("reduceChanges",xV(e),{priority:"low"})}}function dbe(n){n=aa(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const i of e.values)n.view[i]=r0(n.view[i],"attribute");else n.view=r0(n.view,"attribute");const r=_V(n);return i=>{i.on(t,X1e(r),{priority:n.converterPriority||"normal"})}}function fbe(n){n=aa(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const i of e.values)n.view[i]=FI(n.view[i]);else n.view=FI(n.view);const r=_V(n);return i=>{i.on(t,sbe(r),{priority:n.converterPriority||"normal"})}}function hbe(n){const e=r0(n.view,"ui");return t=>{t.on(`addMarker:${n.model}`,Z1e(e),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,ebe(),{priority:n.converterPriority||"normal"})}}function mbe(n){n=aa(n);const e=n.model;let t=n.view;return t||(t=r=>({group:e,name:r.substr(n.model.length+1)})),r=>{r.on(`addMarker:${e}`,tbe(t),{priority:n.converterPriority||"normal"}),r.on(`removeMarker:${e}`,ibe(t),{priority:n.converterPriority||"normal"})}}function gbe(n){return e=>{e.on(`addMarker:${n.model}`,obe(n.view),{priority:n.converterPriority||"normal"}),e.on(`addMarker:${n.model}`,abe(n.view),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,lbe(n.view),{priority:n.converterPriority||"normal"})}}function vV(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?Gt(n.attributes):[],children:!!n.children}}function r0(n,e){return typeof n=="function"?n:(t,r)=>pbe(n,r,e)}function pbe(n,e,t){typeof n=="string"&&(n={name:n});let r;const i=e.writer,s=Object.assign({},n.attributes);if(t=="container")r=i.createContainerElement(n.name,s);else if(t=="attribute"){const o={priority:n.priority||If.DEFAULT_PRIORITY};r=i.createAttributeElement(n.name,s,o)}else r=i.createUIElement(n.name,s);if(n.styles){const o=Object.keys(n.styles);for(const a of o)i.setStyle(a,n.styles[a],r)}if(n.classes){const o=n.classes;if(typeof o=="string")i.addClass(o,r);else for(const a of o)i.addClass(a,r)}return r}function _V(n){return n.model.values?(e,t,r)=>{const i=n.view[e];return i?i(e,t,r):null}:n.view}function FI(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function xC(n,e,t){const r=typeof n=="function"?n(e,t):{...n};return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function bbe(n){return(e,t)=>{if(!e.is("element",n.name))return!1;if(t.type=="attribute"){if(n.attributes.includes(t.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function xV(n){const e=bbe(n);return(t,r)=>{const i=[];r.reconvertedElements||(r.reconvertedElements=new Set);for(const s of r.changes){const o=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(!o||!e(o,s)||s.type=="reinsert"){i.push(s);continue}if(s.type=="insert"&&s.action=="rename"&&r.refreshedItems.add(s.position.nodeAfter),!r.reconvertedElements.has(o)){r.reconvertedElements.add(o);const a=Ne._createBefore(o);let l=i.length;for(let u=i.length-1;u>=0;u--){const f=i[u],p=(f.type=="attribute"?f.range.start:f.position).compareWith(a);if(p=="before"||f.type=="remove"&&p=="same")break;l=u}i.splice(l,0,{type:"reinsert",name:o.name,position:a,length:1})}}r.changes=i}}function EV(n){return(e,t,r={})=>{const i=["insert"];for(const s of n.attributes)e.hasAttribute(s)&&i.push(`attribute:${s}`);return i.every(s=>t.test(e,s))?(r.preflight||i.forEach(s=>t.consume(e,s)),!0):!1}}function ybe(n,e,t){return(r,i)=>{const s=r.createContainerElement("$slot");let o=null;if(i==="children")o=Array.from(n.getChildren());else if(typeof i=="function")o=Array.from(n.getChildren()).filter(a=>i(a));else throw new q("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:i});return e.set(s,o),s}}function wbe(n,e,t){const r=Array.from(e.values()).flat(),i=new Set(r);if(i.size!=r.length)throw new q("conversion-slot-filter-overlap",t.dispatcher,{element:n});if(i.size!=n.childCount)throw new q("conversion-slot-filter-incomplete",t.dispatcher,{element:n})}function vbe(n,e,t,r){t.mapper.on("modelToViewPosition",o,{priority:"highest"});let i=null,s=null;for([i,s]of e)kV(n,s,t,r),t.writer.setCustomProperty("$structureSlotParent",!0,i.parent),t.writer.move(t.writer.createRangeIn(i),t.writer.createPositionBefore(i)),t.writer.remove(i);t.mapper.off("modelToViewPosition",o);function o(a,l){const u=l.modelPosition.nodeAfter,f=s.indexOf(u);f<0||(l.viewPosition=l.mapper.findPositionIn(i,f))}}function kV(n,e,t,r){for(const i of e)_be(n.root,i,t,r)||t.convertItem(i)}function _be(n,e,t,r){const{writer:i,mapper:s}=t;if(!r.reconversion)return!1;const o=s.toViewElement(e);return!o||o.root==n||!t.canReuseView(o)?!1:(i.move(i.createRangeOn(o),s.toViewPosition(Ne._createBefore(e))),!0)}function xbe(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function TV(n){const{schema:e,document:t}=n.model;for(const r of t.getRoots())if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return n.insertElement("paragraph",r),!0;return!1}function SV(n,e,t){const r=t.createContext(n);return!(!t.checkChild(r,"paragraph")||!t.checkChild(r.push("paragraph"),e))}function CV(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}class Ebe extends mV{elementToElement(e){return this.add(AV(e))}elementToAttribute(e){return this.add(Sbe(e))}attributeToAttribute(e){return this.add(Cbe(e))}elementToMarker(e){return this.add(Abe(e))}dataToMarker(e){return this.add(Nbe(e))}}function LI(){return(n,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:r,modelCursor:i}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=r,e.modelCursor=i}}}function kbe(){return(n,e,{schema:t,consumable:r,writer:i})=>{let s=e.modelCursor;if(!r.test(e.viewItem))return;if(!t.checkChild(s,"$text")){if(!SV(s,"$text",t)||e.viewItem.data.trim().length==0)return;s=CV(s,i)}r.consume(e.viewItem);const o=i.createText(e.viewItem.data);i.insert(o,s),e.modelRange=i.createRange(s,s.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function Tbe(n,e){return(t,r)=>{const i=r.newSelection,s=[];for(const a of i.getRanges())s.push(e.toModelRange(a));const o=n.createSelection(s,{backward:i.isBackward});o.isEqual(n.document.selection)||n.change(a=>{a.setSelection(o)})}}function AV(n){n=aa(n);const e=Ik(n),t=EC(n.view),r=t?`element:${t}`:"element";return i=>{i.on(r,e,{priority:n.converterPriority||"normal"})}}function Sbe(n){n=aa(n),NV(n);const e=PV(n,!1),t=EC(n.view),r=t?`element:${t}`:"element";return i=>{i.on(r,e,{priority:n.converterPriority||"low"})}}function Cbe(n){n=aa(n);let e=null;(typeof n.view=="string"||n.view.key)&&(e=Ibe(n)),NV(n,e);const t=PV(n,!0);return r=>{r.on("element",t,{priority:n.converterPriority||"low"})}}function Abe(n){const e=Dbe(n.model);return AV({...n,model:e})}function Nbe(n){n=aa(n),n.model||(n.model=i=>i?n.view+":"+i:n.view);const e={view:n.view,model:n.model},t=Ik(BI(e,"start")),r=Ik(BI(e,"end"));return i=>{i.on(`element:${n.view}-start`,t,{priority:n.converterPriority||"normal"}),i.on(`element:${n.view}-end`,r,{priority:n.converterPriority||"normal"});const s=fs.low,o=fs.highest,a=fs.get(n.converterPriority)/o;i.on("element",Pbe(e),{priority:s+a})}}function Pbe(n){return(e,t,r)=>{const i=`data-${n.view}`;if(!r.consumable.test(t.viewItem,{attributes:i+"-end-after"})&&!r.consumable.test(t.viewItem,{attributes:i+"-start-after"})&&!r.consumable.test(t.viewItem,{attributes:i+"-end-before"})&&!r.consumable.test(t.viewItem,{attributes:i+"-start-before"}))return;t.modelRange||Object.assign(t,r.convertChildren(t.viewItem,t.modelCursor)),r.consumable.consume(t.viewItem,{attributes:i+"-end-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(i+"-end-after").split(",")),r.consumable.consume(t.viewItem,{attributes:i+"-start-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(i+"-start-after").split(",")),r.consumable.consume(t.viewItem,{attributes:i+"-end-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(i+"-end-before").split(",")),r.consumable.consume(t.viewItem,{attributes:i+"-start-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(i+"-start-before").split(","));function s(o,a){for(const l of a){const u=n.model(l,r),f=r.writer.createElement("$marker",{"data-name":u});r.writer.insert(f,o),t.modelCursor.isEqual(o)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(o,1),t.modelRange=t.modelRange._getTransformedByInsertion(o,1)[0]}}}}function EC(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function Ik(n){const e=new la(n.view);return(t,r,i)=>{const s=e.match(r.viewItem);if(!s)return;const o=s.match;if(o.name=!0,!i.consumable.test(r.viewItem,o))return;const a=Rbe(n.model,r.viewItem,i);a&&i.safeInsert(a,r.modelCursor)&&(i.consumable.consume(r.viewItem,o),i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r))}}function Rbe(n,e,t){return n instanceof Function?n(e,t):t.writer.createElement(n)}function Ibe(n){typeof n.view=="string"&&(n.view={key:n.view});const e=n.view.key,t=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;let r;return e=="class"||e=="style"?r={[e=="class"?"classes":"styles"]:t}:r={attributes:{[e]:t}},n.view.name&&(r.name=n.view.name),n.view=r,e}function NV(n,e=null){const t=e===null?!0:s=>s.getAttribute(e),r=typeof n.model!="object"?n.model:n.model.key,i=typeof n.model!="object"||typeof n.model.value>"u"?t:n.model.value;n.model={key:r,value:i}}function PV(n,e){const t=new la(n.view);return(r,i,s)=>{if(!i.modelRange&&e)return;const o=t.match(i.viewItem);if(!o||(Obe(n.view,i.viewItem)?o.match.name=!0:delete o.match.name,!s.consumable.test(i.viewItem,o.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(i.viewItem,s,i):n.model.value;if(l==null)return;i.modelRange||Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor)),Mbe(i.modelRange,{key:a,value:l},e,s)&&(s.consumable.test(i.viewItem,{name:!0})&&(o.match.name=!0),s.consumable.consume(i.viewItem,o.match))}}function Obe(n,e){const t=typeof n=="function"?n(e):n;return typeof t=="object"&&!EC(t)?!1:!t.classes&&!t.attributes&&!t.styles}function Mbe(n,e,t,r){let i=!1;for(const s of Array.from(n.getItems({shallow:t})))r.schema.checkAttribute(s,e.key)&&(i=!0,!s.hasAttribute(e.key)&&r.writer.setAttribute(e.key,e.value,s));return i}function Dbe(n){return(e,t)=>{const r=typeof n=="string"?n:n(e,t);return t.writer.createElement("$marker",{"data-name":r})}}function BI(n,e){const t=(r,i)=>{const s=r.getAttribute("name"),o=n.model(s,i);return i.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${e}`,model:t}}class Fbe extends qt(){model;view;mapper;downcastDispatcher;constructor(e,t){super(),this.model=e,this.view=new C1e(t),this.mapper=new dV,this.downcastDispatcher=new fV({mapper:this.mapper,schema:e.schema});const r=this.model.document,i=r.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(r.differ,s,o),this.downcastDispatcher.convertSelection(i,s,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",Tbe(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",gV(),{priority:"lowest"}),this.downcastDispatcher.on("insert",pV(),{priority:"lowest"}),this.downcastDispatcher.on("remove",q1e(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",K1e()),this.downcastDispatcher.on("selection",G1e(),{priority:"low"}),this.downcastDispatcher.on("selection",Y1e(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const a=new QB(this.view.document,o.name);return a.rootName=o.rootName,this.mapper.bindElements(o,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,r=this.model.markers.get(t);if(!r)throw new q("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Lbe extends qt(){_sourceDefinitions={};_attributeProperties=Object.create(null);_customChildChecks=new Map;_customAttributeChecks=new Map;_genericCheckSymbol=Symbol("$generic");_compiledDefinitions;constructor(){super(),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Ja(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Ja(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new q("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new q("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(e,t):!1}checkAttribute(e,t){const r=this.getDefinition(e.last);if(!r)return!1;const i=this._evaluateAttributeChecks(e,t);return i!==void 0?i:r.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Ne){const r=e.nodeBefore,i=e.nodeAfter;if(!(r instanceof gn))throw new q("schema-check-merge-no-element-before",this);if(!(i instanceof gn))throw new q("schema-check-merge-no-element-after",this);return this.checkMerge(r,i)}if(this.isLimit(e)||this.isLimit(t))return!1;for(const r of t.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e,t){const r=t!==void 0?t:this._genericCheckSymbol,i=this._customChildChecks.get(r)||[];i.push(e),this._customChildChecks.set(r,i)}addAttributeCheck(e,t){const r=t!==void 0?t:this._genericCheckSymbol,i=this._customAttributeChecks.get(r)||[];i.push(e),this._customAttributeChecks.set(r,i)}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let t;for(e instanceof Ne?t=e.parent:t=(e instanceof he?[e]:Array.from(e.getRanges())).reduce((i,s)=>{const o=s.getCommonAncestor();return i?i.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new Sn("",e.getAttributes())];return this.checkAttribute(i,t)}else{const r=e.getRanges();for(const i of r)for(const s of i)if(this.checkAttribute(s.item,t))return!0}return!1}*getValidRanges(e,t){e=Zbe(e);for(const r of e)yield*this._getValidRangesForRange(r,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new he(e);let r,i;const s=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(t=="both"||t=="backward")&&(r=new Ha({boundaries:he._createIn(s),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(i=new Ha({boundaries:he._createIn(s),startPosition:e}));for(const o of Qbe(r,i)){const a=o.walker==r?"elementEnd":"elementStart",l=o.value;if(l.type==a&&this.isObject(l.item))return he._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new he(l.nextPosition)}return null}findAllowedParent(e,t){let r=e.parent;for(;r;){if(this.checkChild(r,t))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,t,r){const i=r.model;for(const[s,o]of Object.entries(t))i.schema.checkAttribute(e,s)&&r.setAttribute(s,o,e)}removeDisallowedAttributes(e,t){for(const r of e)if(r.is("$text"))VI(this,r,t);else{const s=he._createIn(r).getPositions();for(const o of s){const a=o.nodeBefore||o.parent;VI(this,a,t)}}}getAttributesWithProperty(e,t,r){const i={};for(const[s,o]of e.getAttributes()){const a=this.getAttributeProperties(s);a[t]!==void 0&&(r===void 0||r===a[t])&&(i[s]=o)}return i}createContext(e){return new Ja(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,r=Object.keys(t);for(const s of r)e[s]=Bbe(t[s],s);const i=Object.values(e);for(const s of i)Vbe(e,s),Ube(e,s),zbe(e,s),Hbe(e,s);for(const s of i)$be(e,s);for(const s of i)Wbe(e,s);for(const s of i)jbe(e,s);for(const s of i)Gbe(e,s);for(const s of i)Ybe(e,s);this._compiledDefinitions=qbe(e)}_checkContextMatch(e,t){const r=e.last;let i=this._evaluateChildChecks(e,t);if(i=i!==void 0?i:t.allowIn.includes(r.name),!i)return!1;const s=this.getDefinition(r),o=e.trimLast();return s?o.length==0?!0:this._checkContextMatch(o,s):!1}_evaluateChildChecks(e,t){const r=this._customChildChecks.get(this._genericCheckSymbol)||[],i=this._customChildChecks.get(t.name)||[];for(const s of[...r,...i]){const o=s(e,t);if(o!==void 0)return o}}_evaluateAttributeChecks(e,t){const r=this._customAttributeChecks.get(this._genericCheckSymbol)||[],i=this._customAttributeChecks.get(t)||[];for(const s of[...r,...i]){const o=s(e,t);if(o!==void 0)return o}}*_getValidRangesForRange(e,t){let r=e.start,i=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(he._createIn(s),t)),this.checkAttribute(s,t)||(r.isEqual(i)||(yield new he(r,i)),r=Ne._createAfter(s)),i=Ne._createAfter(s);r.isEqual(i)||(yield new he(r,i))}findOptimalInsertionRange(e,t){const r=e.getSelectedElement();if(r&&this.isObject(r)&&!this.isInline(r))return t=="before"||t=="after"?new he(Ne._createAt(r,t)):he._createOn(r);const i=_n(e.getSelectedBlocks());if(!i)return new he(e.focus);if(i.isEmpty)return new he(Ne._createAt(i,0));const s=Ne._createAfter(i);return e.focus.isTouching(s)?new he(s):new he(Ne._createBefore(i))}}class Ja{_items;constructor(e){if(e instanceof Ja)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(Jbe)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Ja([e]);return t._items=[...this._items,...t._items],t}trimLast(){const e=new Ja([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Bbe(n,e){const t={name:e,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return Kbe(n,t),Ho(n,t,"allowIn"),Ho(n,t,"allowChildren"),Ho(n,t,"disallowIn"),Ho(n,t,"disallowChildren"),Ho(n,t,"allowContentOf"),Ho(n,t,"allowWhere"),Ho(n,t,"allowAttributes"),Ho(n,t,"disallowAttributes"),Ho(n,t,"allowAttributesOf"),Ho(n,t,"inheritTypesFrom"),Xbe(n,t),t}function Vbe(n,e){for(const t of e.allowIn){const r=n[t];r?r.allowChildren.add(e.name):e.allowIn.delete(t)}}function Ube(n,e){for(const t of e.allowChildren){const r=n[t];r?r.allowIn.add(e.name):e.allowChildren.delete(t)}}function zbe(n,e){for(const t of e.disallowIn){const r=n[t];r?r.disallowChildren.add(e.name):e.disallowIn.delete(t)}}function Hbe(n,e){for(const t of e.disallowChildren){const r=n[t];r?r.disallowIn.add(e.name):e.disallowChildren.delete(t)}}function $be(n,e){for(const t of e.disallowChildren)e.allowChildren.delete(t);for(const t of e.disallowIn)e.allowIn.delete(t);for(const t of e.disallowAttributes)e.allowAttributes.delete(t)}function Wbe(n,e){for(const t of e.allowContentOf){const r=n[t];r&&(r.disallowChildren.forEach(i=>{e.allowChildren.has(i)||(e.disallowChildren.add(i),n[i].disallowIn.add(e.name))}),r.allowChildren.forEach(i=>{e.disallowChildren.has(i)||(e.allowChildren.add(i),n[i].allowIn.add(e.name))}))}}function jbe(n,e){for(const t of e.allowWhere){const r=n[t];r&&(r.disallowIn.forEach(i=>{e.allowIn.has(i)||(e.disallowIn.add(i),n[i].disallowChildren.add(e.name))}),r.allowIn.forEach(i=>{e.disallowIn.has(i)||(e.allowIn.add(i),n[i].allowChildren.add(e.name))}))}}function qbe(n){const e={};for(const t of Object.values(n))e[t.name]={name:t.name,isBlock:!!t.isBlock,isContent:!!t.isContent,isInline:!!t.isInline,isLimit:!!t.isLimit,isObject:!!t.isObject,isSelectable:!!t.isSelectable,allowIn:Array.from(t.allowIn).filter(r=>!!n[r]),allowChildren:Array.from(t.allowChildren).filter(r=>!!n[r]),allowAttributes:Array.from(t.allowAttributes)};return e}function Gbe(n,e){for(const t of e.allowAttributesOf){const r=n[t];if(!r)return;r.allowAttributes.forEach(i=>{e.disallowAttributes.has(i)||e.allowAttributes.add(i)})}}function Ybe(n,e){for(const t of e.inheritTypesFrom){const r=n[t];if(r){const i=Object.keys(r).filter(s=>s.startsWith("is"));for(const s of i)s in e||(e[s]=r[s])}}}function Kbe(n,e){for(const t of n){const r=Object.keys(t).filter(i=>i.startsWith("is"));for(const i of r)e[i]=!!t[i]}}function Ho(n,e,t){for(const r of n){let i=r[t];typeof i=="string"&&(i=[i]),Array.isArray(i)&&i.forEach(s=>e[t].add(s))}}function Xbe(n,e){for(const t of n){const r=t.inheritAllFrom;r&&(e.allowContentOf.add(r),e.allowWhere.add(r),e.allowAttributesOf.add(r),e.inheritTypesFrom.add(r))}}function Jbe(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(e){return n.getAttribute(e)}}}function*Qbe(n,e){let t=!1;for(;!t;){if(t=!0,n){const r=n.next();r.done||(t=!1,yield{walker:n,value:r.value})}if(e){const r=e.next();r.done||(t=!1,yield{walker:e,value:r.value})}}}function*Zbe(n){for(const e of n)yield*e.getMinimalFlatRanges()}function VI(n,e,t){for(const r of e.getAttributeKeys())n.checkAttribute(e,r)||t.removeAttribute(r,e)}class eye extends an(){conversionApi;_splitParts=new Map;_cursorParents=new Map;_modelCursor=null;_emptyElementsToKeep=new Set;constructor(e){super(),this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,r)=>this._convertItem(t,r),convertChildren:(t,r)=>this._convertChildren(t,r),safeInsert:(t,r)=>this._safeInsert(t,r),updateConversionResult:(t,r)=>this._updateConversionResult(t,r),splitToAllowedParent:(t,r)=>this._splitToAllowedParent(t,r),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=nye(r,t),this.conversionApi.writer=t,this.conversionApi.consumable=Sy.createFrom(e),this.conversionApi.store={};const{modelRange:i}=this._convertItem(e,this._modelCursor),s=t.createDocumentFragment();if(i){this._removeEmptyElements();const o=this._modelCursor.parent,a=o._removeChildren(0,o.childCount);s._insertChild(0,a),s.markers=tye(s,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,t){const r={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof he))throw new q("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,t){let r=t.is("position")?t:Ne._createAt(t,0);const i=new he(r);for(const s of Array.from(e.getChildren())){const o=this._convertItem(s,r);o.modelRange instanceof he&&(i.end=o.modelRange.end,r=o.modelCursor)}return{modelRange:i,modelCursor:r}}_safeInsert(e,t){const r=this._splitToAllowedParent(e,t);return r?(this.conversionApi.writer.insert(e,r.position),!0):!1}_updateConversionResult(e,t){const r=this._getSplitParts(e),i=this.conversionApi.writer;t.modelRange||(t.modelRange=i.createRange(i.createPositionBefore(e),i.createPositionAfter(r[r.length-1])));const s=this._cursorParents.get(e);s?t.modelCursor=i.createPositionAt(s,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:r,writer:i}=this.conversionApi;let s=r.findAllowedParent(t,e);if(s){if(s===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return SV(t,e,r)?{position:CV(t,i)}:null;const o=this.conversionApi.writer.split(t,s),a=[];for(const u of o.range.getWalker())if(u.type=="elementEnd")a.push(u.item);else{const f=a.pop(),m=u.item;this._registerSplitPair(f,m)}const l=o.range.end.parent;return this._cursorParents.set(e,l),{position:o.position,cursorParent:l}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(t,r),r.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const t of this._splitParts.keys())if(t.isEmpty&&!this._emptyElementsToKeep.has(t)){const r=e.get(t.parent)||[];r.push(t),this._splitParts.delete(t),e.set(t.parent,r)}for(const[t,r]of e)t._removeChildrenArray(r);e.size&&this._removeEmptyElements()}}function tye(n,e){const t=new Set,r=new Map,i=he._createIn(n).getItems();for(const s of i)s.is("element","$marker")&&t.add(s);for(const s of t){const o=s.getAttribute("data-name"),a=e.createPositionBefore(s);r.has(o)?r.get(o).end=a.clone():r.set(o,new he(a.clone())),e.remove(s)}return r}function nye(n,e){let t;for(const r of new Ja(n)){const i={};for(const o of r.getAttributeKeys())i[o]=r.getAttribute(o);const s=e.createElement(r.name,i);t&&e.insert(s,t),t=Ne._createAt(s,0)}return t}class rye{getHtml(e){const r=qe.document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(e),r.innerHTML}}class iye{domParser;domConverter;htmlWriter;skipComments=!0;constructor(e){this.domParser=new DOMParser,this.domConverter=new sV(e,{renderingMode:"data"}),this.htmlWriter=new rye}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4))||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),r=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)r.appendChild(i[0]);return r}}class sye extends an(){model;mapper;downcastDispatcher;upcastDispatcher;viewDocument;stylesProcessor;htmlProcessor;processor;_viewWriter;constructor(e,t){super(),this.model=e,this.mapper=new dV,this.downcastDispatcher=new fV({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",gV(),{priority:"lowest"}),this.downcastDispatcher.on("insert",pV(),{priority:"lowest"}),this.upcastDispatcher=new eye({schema:e.schema}),this.viewDocument=new ZB(t),this.stylesProcessor=t,this.htmlProcessor=new iye(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new eV(this.viewDocument),this.upcastDispatcher.on("text",kbe(),{priority:"lowest"}),this.upcastDispatcher.on("element",LI(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",LI(),{priority:"lowest"}),qt().prototype.decorate.call(this,"init"),qt().prototype.decorate.call(this,"set"),qt().prototype.decorate.call(this,"get"),qt().prototype.decorate.call(this,"toView"),qt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},TV)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([t]))throw new q("datacontroller-get-non-existent-root",this);const i=this.model.document.getRoot(t);return i.isAttached()||It("datacontroller-get-detached-root",this),r==="empty"&&!this.model.hasContent(i,{ignoreWhitespaces:!0})?"":this.stringify(i,e)}stringify(e,t={}){const r=this.toView(e,t);return this.processor.toData(r)}toView(e,t={}){const r=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();const s=he._createIn(e),o=new pu(r);this.mapper.bindElements(e,o);const a=e.is("documentFragment")?e.markers:oye(e);return this.downcastDispatcher.convert(s,a,i,t),o}init(e){if(this.model.document.version)throw new q("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new q("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const i of Object.keys(t)){const s=this.model.document.getRoot(i);r.insert(this.parse(t[i],s),s,0)}}),Promise.resolve()}set(e,t={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new q("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},i=>{i.setSelection(null),i.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(r)){const o=this.model.document.getRoot(s);i.remove(i.createRangeIn(o)),i.insert(this.parse(r[s],o),o,0)}})}parse(e,t="$root"){const r=this.processor.toView(e);return this.toModel(r,t)}toModel(e,t="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function oye(n){const e=[],t=n.root.document;if(!t)return new Map;const r=he._createIn(n);for(const i of t.model.markers){const s=i.getRange(),o=s.isCollapsed,a=s.start.isEqual(r.start)||s.end.isEqual(r.end);if(o&&a)e.push([i.name,s]);else{const l=r.getIntersection(s);l&&e.push([i.name,l])}}return e.sort(([i,s],[o,a])=>{if(s.end.compareWith(a.start)!=="after")return 1;if(s.start.compareWith(a.end)!=="before")return-1;switch(s.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(s.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(i)}}}),new Map(e)}class aye{_helpers=new Map;_downcast;_upcast;constructor(e,t){this._downcast=Gt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Gt(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const r=this._downcast.includes(t);if(!this._upcast.includes(t)&&!r)throw new q("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:r})}for(e){if(!this._helpers.has(e))throw new q("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:r}of G2(e))this.for("upcast").elementToElement({model:t,view:r,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:r}of G2(e))this.for("upcast").elementToAttribute({view:r,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:r}of G2(e))this.for("upcast").attributeToAttribute({view:r,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:r}){if(this._helpers.has(e))throw new q("conversion-group-exists",this);const i=r?new j1e(t):new Ebe(t);this._helpers.set(e,i)}}function*G2(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},r=n.view[e],i=n.upcastAlso?n.upcastAlso[e]:void 0;yield*UI(t,r,i)}else yield*UI(n.model,n.view,n.upcastAlso)}function*UI(n,e,t){if(yield{model:n,view:e},t)for(const r of Gt(t))yield{model:n,view:r}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class _s{baseVersion;isDocumentOperation;batch;constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function kC(n,e){const t=IV(e),r=t.reduce((o,a)=>o+a.offsetSize,0),i=n.parent;o0(n);const s=n.index;return i._insertChild(s,t),s0(i,s+t.length),s0(i,s),new he(n,n.getShiftedBy(r))}function RV(n){if(!n.isFlat)throw new q("operation-utils-remove-range-not-flat",this);const e=n.start.parent;o0(n.start),o0(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return s0(e,n.start.index),t}function i0(n,e){if(!n.isFlat)throw new q("operation-utils-move-range-not-flat",this);const t=RV(n);return e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),kC(e,t)}function lye(n,e,t){o0(n.start),o0(n.end);for(const r of n.getItems({shallow:!0})){const i=r.is("$textProxy")?r.textNode:r;t!==null?i._setAttribute(e,t):i._removeAttribute(e),s0(i.parent,i.index)}s0(n.end.parent,n.end.index)}function IV(n){const e=[];function t(r){if(typeof r=="string")e.push(new Sn(r));else if(r instanceof po)e.push(new Sn(r.data,r.getAttributes()));else if(r instanceof zu)e.push(r);else if(vs(r))for(const i of r)t(i)}t(n);for(let r=1;r<e.length;r++){const i=e[r],s=e[r-1];i instanceof Sn&&s instanceof Sn&&OV(i,s)&&(e.splice(r-1,2,new Sn(s.data+i.data,s.getAttributes())),r--)}return e}function s0(n,e){const t=n.getChild(e-1),r=n.getChild(e);if(t&&r&&t.is("$text")&&r.is("$text")&&OV(t,r)){const i=new Sn(t.data+r.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,i)}}function o0(n){const e=n.textNode,t=n.parent;if(e){const r=n.offset-e.startOffset,i=e.index;t._removeChildren(i,1);const s=new Sn(e.data.substr(0,r),e.getAttributes()),o=new Sn(e.data.substr(r),e.getAttributes());t._insertChild(i,[s,o])}}function OV(n,e){const t=n.getAttributes(),r=e.getAttributes();for(const i of t){if(i[1]!==e.getAttribute(i[0]))return!1;r.next()}return r.next().done}class Vt extends _s{sourcePosition;howMany;targetPosition;constructor(e,t,r,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName==this.sourcePosition.root.rootName?"move":this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[he._createFromPositionAndShift(this.sourcePosition,this.howMany),he._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Vt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Vt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,r=this.sourcePosition.offset,i=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new q("move-operation-nodes-do-not-exist",this);if(e===t&&r<i&&i<r+this.howMany)throw new q("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Pr(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=r&&this.targetPosition.path[s]<r+this.howMany)throw new q("move-operation-node-into-itself",this)}}_execute(){i0(he._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const r=Ne.fromJSON(e.sourcePosition,t),i=Ne.fromJSON(e.targetPosition,t);return new this(r,e.howMany,i,e.baseVersion)}}class Dr extends _s{position;nodes;shouldReceiveAttributes;constructor(e,t,r){super(r),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new vg(IV(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new vg([...this.nodes].map(r=>r._clone(!0))),t=new Dr(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Ne(e,[0]);return new Vt(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new q("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new vg([...e].map(t=>t._clone(!0))),kC(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const r=[];for(const s of e.nodes)s.name?r.push(gn.fromJSON(s)):r.push(Sn.fromJSON(s));const i=new Dr(Ne.fromJSON(e.position,t),r,e.baseVersion);return i.shouldReceiveAttributes=e.shouldReceiveAttributes,i}}class pn extends _s{splitPosition;howMany;insertionPosition;graveyardPosition;constructor(e,t,r,i,s){super(s),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=r,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Ne(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new he(this.splitPosition,e)}get affectedSelectable(){const e=[he._createFromPositionAndShift(this.splitPosition,0),he._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(he._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new pn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Ne(e,[0]);return new Kn(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new q("split-operation-position-invalid",this);if(e.parent){if(this.howMany!==Number.NEGATIVE_INFINITY&&this.howMany!=e.maxOffset-this.splitPosition.offset)throw new q("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new q("split-operation-graveyard-position-invalid",this)}else throw new q("split-operation-split-in-root",this);this.howMany=this.splitPosition.parent.maxOffset-this.splitPosition.offset}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)i0(he._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=e._clone();kC(this.insertionPosition,r)}const t=new he(Ne._createAt(e,this.splitPosition.offset),Ne._createAt(e,e.maxOffset));i0(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Ne(e.root,t,"toPrevious")}static fromJSON(e,t){const r=Ne.fromJSON(e.splitPosition,t),i=Ne.fromJSON(e.insertionPosition,t),s=e.graveyardPosition?Ne.fromJSON(e.graveyardPosition,t):null;return new this(r,e.howMany,i,s,e.baseVersion)}}class Kn extends _s{sourcePosition;howMany;targetPosition;graveyardPosition;constructor(e,t,r,i,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new Ne(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new he(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[he._createOn(e),he._createFromPositionAndShift(this.targetPosition,0),he._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Kn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),r=new Ne(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new pn(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!==Number.NEGATIVE_INFINITY&&this.howMany!=e.maxOffset)throw new q("merge-operation-how-many-invalid",this)}else throw new q("merge-operation-target-position-invalid",this);else throw new q("merge-operation-source-position-invalid",this);this.howMany=this.sourcePosition.parent.maxOffset}_execute(){const e=this.sourcePosition.parent,t=he._createIn(e);i0(t,this.targetPosition),i0(he._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const r=Ne.fromJSON(e.sourcePosition,t),i=Ne.fromJSON(e.targetPosition,t),s=Ne.fromJSON(e.graveyardPosition,t);return new this(r,e.howMany,i,s,e.baseVersion)}}class _i extends _s{name;oldRange;newRange;affectsData;_markers;constructor(e,t,r,i,s,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=r?r.clone():null,this.affectsData=s,this._markers=i}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new _i(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new _i(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new _i(e.name,e.oldRange?he.fromJSON(e.oldRange,t):null,e.newRange?he.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class nr extends _s{range;key;oldValue;newValue;constructor(e,t,r,i,s){super(s),this.range=e.clone(),this.key=t,this.oldValue=r===void 0?null:r,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new nr(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new nr(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new q("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!mI(e.getAttribute(this.key),this.oldValue))throw new q("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new q("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){mI(this.oldValue,this.newValue)||lye(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new nr(he.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class xr extends _s{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new xr(this.baseVersion)}getReversed(){return new xr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ui extends _s{position;oldName;newName;constructor(e,t,r,i){super(i),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Ui(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ui(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof gn){if(this.oldName!==""&&e.name!==this.oldName)throw new q("rename-operation-wrong-name",this)}else throw new q("rename-operation-wrong-position",this);this.oldName=e.name}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Ui(Ne.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Qa extends _s{root;key;oldValue;newValue;constructor(e,t,r,i,s){super(s),this.root=e,this.key=t,this.oldValue=r===void 0?null:r,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Qa(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Qa(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new q("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new q("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new q("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new q("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Qa(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ea extends _s{rootName;elementName;isAdd;_document;constructor(e,t,r,i,s){if(super(s),this.rootName=e,this.elementName=t,this.isAdd=r,this._document=i,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new ea(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new ea(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new ea(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Js={};Js[nr.className]=nr;Js[Dr.className]=Dr;Js[_i.className]=_i;Js[Vt.className]=Vt;Js[xr.className]=xr;Js[_s.className]=_s;Js[Ui.className]=Ui;Js[Qa.className]=Qa;Js[ea.className]=ea;Js[pn.className]=pn;Js[Kn.className]=Kn;class cye{static fromJSON(e,t){return Js[e.__className].fromJSON(e,t)}}const Ok=new Map;function Ft(n,e,t){let r=Ok.get(n);r||(r=new Map,Ok.set(n,r)),r.set(e,t)}function uye(n,e){const t=Ok.get(n);return t&&t.has(e)?t.get(e):dye}function dye(n){return[n]}function zI(n,e,t={}){const r=uye(n.constructor,e.constructor);try{return n=n.clone(),r(n,e,t)}catch(i){throw i}}function fye(n,e,t){n=n.slice(),e=e.slice();const r=new hye(t.document,t.useRelations,t.forceWeakRemove);r.setOriginalOperations(n),r.setOriginalOperations(e);const i=r.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:i};const s=new WeakMap;for(const l of n)s.set(l,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let a=0;for(;a<n.length;){const l=n[a],u=s.get(l);if(u==e.length){a++;continue}const f=e[u],m=zI(l,f,r.getContext(l,f,!0)),p=zI(f,l,r.getContext(f,l,!1));r.updateRelation(l,f),r.setOriginalOperations(m,l),r.setOriginalOperations(p,f);for(const y of m)s.set(y,u+p.length);n.splice(a,1,...m),e.splice(u,1,...p)}return $I(n),$I(e),HI(n,o.nextBaseVersionB),HI(e,o.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:i}}class hye{originalOperations;_history;_useRelations;_forceWeakRemove;_relations;constructor(e,t,r=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!r,this._relations=new Map}setOriginalOperations(e,t=null){const r=t?this.originalOperations.get(t):null;for(const i of e)this.originalOperations.set(i,r||i)}updateRelation(e,t){if(e instanceof Vt)t instanceof Kn?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)?this._setRelation(e,t,"moveTargetAfter"):e.howMany>1&&e.sourcePosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"firstToMoveMerged"):e.howMany>1&&e.sourcePosition.getShiftedBy(e.howMany-1).isEqual(t.deletionPosition)&&this._setRelation(e,t,"lastToMoveMerged"):t instanceof Vt&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof pn){if(t instanceof Kn)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Vt)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const r=he._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)){const i=r.end.offset-e.splitPosition.offset,s=e.splitPosition.offset-r.start.offset;this._setRelation(e,t,{howMany:i,offset:s})}}}else if(e instanceof Kn)t instanceof Kn?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof pn?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof Vt&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof _i){const r=e.newRange;if(!r)return;if(t instanceof Kn){const i=r.start.isEqual(t.targetPosition),s=r.start.isEqual(t.deletionPosition),o=r.end.isEqual(t.deletionPosition),a=r.end.isEqual(t.sourcePosition);(i||s||o||a)&&this._setRelation(e,t,{wasInLeftElement:i,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(e,t,r){return{aIsStrong:r,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const r=this.originalOperations.get(t),i=this._history.getUndoneOperation(r);if(!i)return null;const s=this.originalOperations.get(e),o=this._relations.get(s);return o&&o.get(i)||null}_setRelation(e,t,r){const i=this.originalOperations.get(e),s=this.originalOperations.get(t);let o=this._relations.get(i);o||(o=new Map,this._relations.set(i,o)),o.set(s,r)}}function HI(n,e){for(const t of n)t.baseVersion=e++}function $I(n){const e=new Map;for(let t=0;t<n.length;t++){const r=n[t];r instanceof _i&&(r.baseVersion!==-1?e.set(r.name,{op:r,ranges:r.newRange?[r.newRange]:[]}):(r.newRange&&e.get(r.name).ranges.push(r.newRange),n.splice(t,1),t--))}for(const{op:t,ranges:r}of e.values())r.length?t.newRange=he._createFromRanges(r):t.newRange=null}Ft(nr,nr,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const r=n.range.getDifference(e.range).map(s=>new nr(s,n.key,n.oldValue,n.newValue,0)),i=n.range.getIntersection(e.range);return i&&t.aIsStrong&&r.push(new nr(i,e.key,e.newValue,n.newValue,0)),r.length==0?[new xr(0)]:r}else return[n]});Ft(nr,Dr,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const r=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new nr(i,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const i=MV(e,n.key,n.oldValue);i&&r.unshift(i)}return r}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]});function MV(n,e,t){const i=n.nodes.getNode(0).getAttribute(e);if(i==t)return null;const s=new he(n.position,n.position.getShiftedBy(n.howMany));return new nr(s,e,i,t,0)}Ft(nr,Kn,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(he._createFromPositionAndShift(e.graveyardPosition,1));const r=n.range._getTransformedByMergeOperation(e);return r.isCollapsed||t.push(r),t.map(i=>new nr(i,n.key,n.oldValue,n.newValue,n.baseVersion))});Ft(nr,Vt,(n,e)=>mye(n.range,e).map(r=>new nr(r,n.key,n.oldValue,n.newValue,n.baseVersion)));function mye(n,e){const t=he._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=null,i=[];t.containsRange(n,!0)?r=n:n.start.hasSameParentAs(t.start)?(i=n.getDifference(t),r=n.getIntersection(t)):i=[n];const s=[];for(let o of i){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),l=o.start.hasSameParentAs(a),u=o._getTransformedByInsertion(a,e.howMany,l);s.push(...u)}return r&&s.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),s}Ft(nr,pn,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new he(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]});Ft(Dr,nr,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const r=MV(n,e.key,e.newValue);r&&t.push(r)}return t});Ft(Dr,Dr,(n,e,t)=>n.position.isEqual(e.position)&&t.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(e),[n]));Ft(Dr,Vt,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));Ft(Dr,pn,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n]));Ft(Dr,Kn,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n]));Ft(_i,Dr,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n]));Ft(_i,_i,(n,e,t)=>{if(n.name==e.name)if(t.aIsStrong)n.oldRange=e.newRange?e.newRange.clone():null;else return[new xr(0)];return[n]});Ft(_i,Kn,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n]));Ft(_i,Vt,(n,e)=>{const t=[n];if(n.oldRange&&(n.oldRange=he._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){const r=n.newRange._getTransformedByMoveOperation(e);n.newRange=r[0];for(let i=1;i<r.length;i++){const s=n.clone();s.oldRange=null,s.newRange=r[i],s.baseVersion=-1,t.push(s)}}return t});Ft(_i,pn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const r=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)?t.abRelation.wasStartBeforeMergedElement?n.newRange.start=Ne._createAt(e.insertionPosition):t.abRelation.wasInLeftElement?n.newRange.start=Ne._createAt(n.newRange.start):n.newRange.start=Ne._createAt(e.moveTargetPosition):n.newRange.start=r.start,n.newRange.end.isEqual(e.splitPosition)?n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=Ne._createAt(e.insertionPosition):t.abRelation.wasInRightElement?n.newRange.end=Ne._createAt(e.moveTargetPosition):n.newRange.end=Ne._createAt(n.newRange.end):n.newRange.end=r.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]});Ft(Kn,Dr,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n]));Ft(Kn,Kn,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),n.sourcePosition=new Ne(e.graveyardPosition.root,r),n.howMany=0,[n]}else return[new xr(0)];if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const r=n.targetPosition.root.rootName=="$graveyard",i=e.targetPosition.root.rootName=="$graveyard";if(i&&!r||!(r&&!i)&&t.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),u=n.targetPosition._getTransformedByMergeOperation(e);return[new Vt(l,n.howMany,u,0)]}else return[new xr(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),(!n.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});Ft(Kn,Vt,(n,e,t)=>{const r=he._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(n.sourcePosition)?[new xr(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(n.sourcePosition)&&t.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=e.howMany):e.targetPosition.isEqual(n.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=e.howMany):(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])});Ft(Kn,pn,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)&&(e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition)||t.abRelation=="mergeTargetNotMoved"))return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n];if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]});Ft(Vt,Dr,(n,e)=>{const r=he._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]});Ft(Vt,Vt,(n,e,t)=>{const r=he._createFromPositionAndShift(n.sourcePosition,n.howMany),i=he._createFromPositionAndShift(e.sourcePosition,e.howMany);let s=t.aIsStrong,o=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?o=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(o=!1);let a;if(n.targetPosition.isEqual(e.targetPosition)&&o?a=n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),WI(n,e)&&WI(e,n))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),df([r],a);if(i.containsPosition(n.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),df([r],a);const f=Pr(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(f=="prefix"||f=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),df([r],a);n.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?s=!0:n.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(s=!1);const m=[],p=r.getDifference(i);for(const v of p){v.start=v.start._getTransformedByDeletion(e.sourcePosition,e.howMany),v.end=v.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const w=Pr(v.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",E=v._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,w);m.push(...E)}const y=r.getIntersection(i);return y!==null&&s&&(y.start=y.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),y.end=y.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),m.length===0?m.push(y):m.length==1?i.start.isBefore(r.start)||i.start.isEqual(r.start)?m.unshift(y):m.push(y):m.splice(1,0,y)),m.length===0?[new xr(n.baseVersion)]:df(m,a)});Ft(Vt,pn,(n,e,t)=>{let r=n.targetPosition.clone();if((!n.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(r=n.targetPosition._getTransformedBySplitOperation(e)),n.sourcePosition.isEqual(e.insertionPosition)&&t.abRelation=="firstToMoveMerged")return n.howMany++,n.targetPosition=r,[n];const i=he._createFromPositionAndShift(n.sourcePosition,n.howMany);if(i.end.isEqual(e.insertionPosition))return(!e.graveyardPosition||t.abRelation=="lastToMoveMerged")&&n.howMany++,n.targetPosition=r,[n];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){let a=new he(e.splitPosition,i.end);a=a._getTransformedBySplitOperation(e);const l=[new he(i.start,e.splitPosition),a];return df(l,r)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(r=n.targetPosition);const o=[i._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);n.howMany>1&&a&&!t.aWasUndone&&o.push(he._createFromPositionAndShift(e.insertionPosition,1))}return df(o,r)});Ft(Vt,Kn,(n,e,t)=>{const r=he._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(n.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const o=[];let a=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);const u=n.targetPosition.getTransformedByOperation(e);n.howMany>1&&(o.push(new Vt(n.sourcePosition,n.howMany-1,u,0)),a=a._getTransformedByMove(n.sourcePosition,u,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,u,n.howMany-1));const f=e.deletionPosition._getCombined(n.sourcePosition,u),m=new Vt(a,1,f,0),p=m.getMovedRangeStart().path.slice();p.push(0);const y=new Ne(m.targetPosition.root,p);l=l._getTransformedByMove(a,f,1);const v=new Vt(l,e.howMany,y,0);return o.push(m),o.push(v),o}}else if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new xr(0)]}const s=he._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=s.start,n.howMany=s.end.offset-s.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]});Ft(Ui,Dr,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n]));Ft(Ui,Kn,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n]));Ft(Ui,Vt,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));Ft(Ui,Ui,(n,e,t)=>{if(n.position.isEqual(e.position))if(t.aIsStrong)n.oldName=e.newName;else return[new xr(0)];return[n]});Ft(Ui,pn,(n,e)=>{const t=n.position.path,r=e.splitPosition.getParentPath();if(Pr(t,r)=="same"&&!e.graveyardPosition){const i=new Ui(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,i]}return n.position=n.position._getTransformedBySplitOperation(e),[n]});Ft(Qa,Qa,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new xr(0)];n.oldValue=e.newValue}return[n]});Ft(ea,ea,(n,e)=>n.rootName===e.rootName&&n.isAdd===e.isAdd?[new xr(0)]:[n]);Ft(pn,Dr,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n]));Ft(pn,Kn,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const i=new Ne(e.graveyardPosition.root,r),s=pn.getInsertionPosition(new Ne(e.graveyardPosition.root,r)),o=new pn(i,0,s,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});Ft(pn,Vt,(n,e,t)=>{const r=he._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const s=r.start.isEqual(n.graveyardPosition)||r.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&s){const o=n.splitPosition._getTransformedByMoveOperation(e),a=n.graveyardPosition._getTransformedByMoveOperation(e),l=a.path.slice();l.push(0);const u=new Ne(a.root,l);return[new Vt(o,n.howMany,u,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const i=n.splitPosition.isEqual(e.targetPosition);if(i&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n];if(i&&t.abRelation&&t.abRelation.howMany){const{howMany:s,offset:o}=t.abRelation;return n.howMany+=s,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(n.splitPosition)){const s=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=s,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]});Ft(pn,pn,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new xr(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new xr(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const r=n.splitPosition.root.rootName=="$graveyard",i=e.splitPosition.root.rootName=="$graveyard";if(i&&!r||!(r&&!i)&&t.aIsStrong){const l=[];return e.howMany&&l.push(new Vt(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&l.push(new Vt(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new xr(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const i=new Ne(e.insertionPosition.root,r),s=new Vt(n.insertionPosition,1,i,0);return[n,s]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]});function WI(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function df(n,e){const t=[];for(let r=0;r<n.length;r++){const i=n[r],s=new Vt(i.start,i.end.offset-i.start.offset,e,0);t.push(s);for(let o=r+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return t}class tr extends an(Ne){constructor(e,t,r="toNone"){if(super(e,t,r),!this.root.is("rootElement"))throw new q("model-liveposition-root-not-rootelement",e);gye.call(this)}detach(){this.stopListening()}toPosition(){return new Ne(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}tr.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function gye(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&pye.call(this,t)},{priority:"low"})}function pye(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}class Hd{operations;isUndoable;isLocal;isUndo;isTyping;constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},It("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:r=!0,isUndo:i=!1,isTyping:s=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=r,this.isUndo=i,this.isTyping=s}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.isDocumentOperation&&(e.batch=this,this.operations.push(e)),e}}class Ny{static _statesPriority=[void 0,"refresh","rename","move"];_markerCollection;_changesInElement=new Map;_elementsSnapshots=new Map;_elementChildrenSnapshots=new Map;_elementState=new Map;_changedMarkers=new Map;_changedRoots=new Map;_changeCount=0;_cachedChanges=null;_cachedChangesWithGraveyard=null;_refreshedItems=new Set;constructor(e){this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const r of t.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const r=this._isInInsertedElement(t.sourcePosition.parent),i=this._isInInsertedElement(t.targetPosition.parent);r||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),i||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);const s=he._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const o of s.getItems({shallow:!0}))this._setElementState(o,"move");break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const r=he._createFromPositionAndShift(t.position,1);for(const i of this._markerCollection.getMarkersIntersectingRange(r)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}this._setElementState(t.position.nodeAfter,"rename");break}case"split":{const r=t.splitPosition.parent;if(!this._isInInsertedElement(r)){this._markRemove(r,t.splitPosition.offset,t.howMany);const i=he._createFromPositionAndShift(t.splitPosition,t.howMany);for(const s of i.getItems({shallow:!0}))this._setElementState(s,"move")}this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&(this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1),this._setElementState(t.graveyardPosition.nodeAfter,"move"));break}case"merge":{const r=t.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1);const i=t.graveyardPosition.parent;this._markInsert(i,t.graveyardPosition.offset,1),this._setElementState(r,"move");const s=t.targetPosition.parent;if(!this._isInInsertedElement(s)){this._markInsert(s,t.targetPosition.offset,r.maxOffset);const o=he._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const a of o.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{const r=t.affectedSelectable;if(!r._isLoaded||r.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const r=t.root.rootName;this._bufferRootAttributeChange(r,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,r){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null);let i=this._changedMarkers.get(e);i?i.newMarkerData=r:(i={newMarkerData:r,oldMarkerData:t},this._changedMarkers.set(e,i)),i.oldMarkerData.range==null&&r.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,r]of this._changedMarkers)r.oldMarkerData.range!=null&&e.push({name:t,range:r.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,r]of this._changedMarkers)r.newMarkerData.range!=null&&e.push({name:t,range:r.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const r=e.range&&!t.range,i=!e.range&&t.range,s=e.range&&t.range&&!e.range.isEqual(t.range);if(r||i||s)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const r of this._changesInElement.keys()){const i=this._changesInElement.get(r).sort((f,m)=>f.offset===m.offset?f.type!=m.type?f.type=="remove"?-1:1:0:f.offset<m.offset?-1:1),s=this._elementChildrenSnapshots.get(r),o=qI(r.getChildren()),a=bye(s.length,i);let l=0,u=0;for(const f of a)if(f==="i"){const m=this._getDiffActionForNode(o[l].node,"insert"),p=this._elementsSnapshots.get(o[l].node),y=this._getInsertDiff(r,l,m,o[l],p);t.push(y),l++}else if(f==="r"){const m=this._getDiffActionForNode(s[u].node,"remove"),p=this._getRemoveDiff(r,l,m,s[u]);t.push(p),u++}else if(f==="a"){const m=s[u].attributes,p=o[l].attributes;let y;if(o[l].name=="$text")y=new he(Ne._createAt(r,l),Ne._createAt(r,l+1));else{const w=r.offsetToIndex(l);y=new he(Ne._createAt(r,l),Ne._createAt(r.getChild(w),0))}const v=this._getAttributesDiff(y,m,p);t.push(...v),l++,u++}else l++,u++}t.sort((r,i)=>r.position.root!=i.position.root?r.position.root.rootName<i.position.root.rootName?-1:1:r.position.isEqual(i.position)?r.changeCount-i.changeCount:r.position.isBefore(i.position)?-1:1);for(let r=1,i=0;r<t.length;r++){const s=t[i],o=t[r],a=s.type=="remove"&&o.type=="remove"&&s.name=="$text"&&o.name=="$text"&&s.position.isEqual(o.position),l=s.type=="insert"&&o.type=="insert"&&s.name=="$text"&&o.name=="$text"&&s.position.parent==o.position.parent&&s.position.offset+s.length==o.position.offset,u=s.type=="attribute"&&o.type=="attribute"&&s.position.parent==o.position.parent&&s.range.isFlat&&o.range.isFlat&&s.position.offset+s.length==o.position.offset&&s.attributeKey==o.attributeKey&&s.attributeOldValue==o.attributeOldValue&&s.attributeNewValue==o.attributeNewValue;a||l||u?(s.length++,u&&(s.range.end=s.range.end.getShiftedBy(1)),t[r]=null):i=r}t=t.filter(r=>r);for(const r of t)delete r.changeCount,r.type=="attribute"&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(yye),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const t=he._createOn(e);for(const r of this._markerCollection.getMarkersIntersectingRange(t)){const i=r.getData();this.bufferMarkerChange(r.name,i,i)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const r=t.getData();this.bufferMarkerChange(t.name,{...r,range:null},r)}}}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const r=this._changedRoots.get(e);r.state!==void 0?(delete r.state,r.attributes===void 0&&this._changedRoots.delete(e)):r.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,r,i){const s=this._changedRoots.get(e)||{name:e},o=s.attributes||{};if(o[t]){const a=o[t];i===a.oldValue?delete o[t]:a.newValue=i}else o[t]={oldValue:r,newValue:i};Object.entries(o).length===0?(delete s.attributes,s.state===void 0&&this._changedRoots.delete(e)):(s.attributes=o,this._changedRoots.set(e,s))}_markInsert(e,t,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"insert",offset:t,howMany:r,count:this._changeCount++};this._markChange(e,i)}_markRemove(e,t,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"remove",offset:t,howMany:r,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,t,r)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshots(e);const r=this._getChangesForElement(e);this._handleChange(t,r),r.push(t);for(let i=0;i<r.length;i++)r[i].howMany<1&&(r.splice(i,1),i--)}_setElementState(e,t){if(!e.is("element"))return;const r=Ny._statesPriority.indexOf(this._elementState.get(e));Ny._statesPriority.indexOf(t)>r&&this._elementState.set(e,t)}_getDiffActionForNode(e,t){if(!e.is("element")||!this._elementsSnapshots.has(e))return t;const r=this._elementState.get(e);return!r||r=="move"?t:r}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const t=qI(e.getChildren());this._elementChildrenSnapshots.set(e,t);for(const r of t)this._elementsSnapshots.set(r.node,r)}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const r of t){const i=e.offset+e.howMany,s=r.offset+r.howMany;if(e.type=="insert"&&(r.type=="insert"&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<s&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),r.type=="remove"&&e.offset<r.offset&&(r.offset+=e.howMany),r.type=="attribute")){if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<s){const o=r.howMany;r.howMany=e.offset-r.offset,t.unshift({type:"attribute",offset:i,howMany:o-r.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(r.type=="insert"){if(i<=r.offset)r.offset-=e.howMany;else if(i<=s)if(e.offset<r.offset){const o=i-r.offset;r.offset=e.offset,r.howMany-=o,e.nodesToHandle-=o}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<s){const o=s-e.offset;r.howMany-=o,e.nodesToHandle-=o}}if(r.type=="remove"&&(i<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),r.type=="attribute"){if(i<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){const o=i-r.offset;r.offset=e.offset,r.howMany-=o}else if(e.offset<s)if(i<=s){const o=r.howMany;r.howMany=e.offset-r.offset;const a=o-r.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else r.howMany-=s-e.offset}}if(e.type=="attribute"){if(r.type=="insert")if(e.offset<r.offset&&i>r.offset){if(i>s){const o={type:"attribute",offset:s,howMany:i-s,count:this._changeCount++};this._handleChange(o,t),t.push(o)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<s&&(i>s?(e.nodesToHandle=i-s,e.offset=s):e.nodesToHandle=0);if(r.type=="remove"&&e.offset<r.offset&&i>r.offset){const o={type:"attribute",offset:r.offset,howMany:i-r.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}r.type=="attribute"&&(e.offset>=r.offset&&i<=s?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&i>=s&&(r.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,r,i,s){const o={type:"insert",position:Ne._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,action:r};return r!="insert"&&s&&(o.before={name:s.name,attributes:new Map(s.attributes)}),o}_getRemoveDiff(e,t,r,i){return{type:"remove",action:r,position:Ne._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,r){const i=[];r=new Map(r);for(const[s,o]of t){const a=r.has(s)?r.get(s):null;a!==o&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),r.delete(s)}for(const[s,o]of r)i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return i}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const r=this._changesInElement.get(t),i=e.startOffset;if(r){for(const s of r)if(s.type=="insert"&&i>=s.offset&&i<s.offset+s.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,r){const i=new he(Ne._createAt(e,t),Ne._createAt(e,t+r));for(const s of i.getItems({shallow:!0}))s.is("element")&&(this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function jI(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function qI(n){const e=[];for(const t of n)if(t.is("$text"))for(let r=0;r<t.data.length;++r)e.push(jI(t));else e.push(jI(t));return e}function bye(n,e){const t=[];let r=0,i=0;for(const s of e){if(s.offset>r){for(let o=0;o<s.offset-r;o++)t.push("e");i+=s.offset-r}if(s.type=="insert"){for(let o=0;o<s.howMany;o++)t.push("i");r=s.offset+s.howMany}else if(s.type=="remove"){for(let o=0;o<s.howMany;o++)t.push("r");r=s.offset,i+=s.howMany}else{if(s.howMany>1500)for(let o=0;o<s.howMany;o++)t.push("a");else t.push(..."a".repeat(s.howMany).split(""));r=s.offset+s.howMany,i+=s.howMany}}if(i<n)for(let s=0;s<n-i-r;s++)t.push("e");return t}function yye(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}class wye{_operations=[];_undoPairs=new Map;_undoneOperations=new Set;_baseVersionToOperationIndex=new Map;_version=0;_gaps=new Map;get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new q("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const r=this._operations[0];e===void 0&&(e=r.baseVersion);let i=t-1;for(const[a,l]of this._gaps)e>a&&e<l&&(e=l),i>a&&i<l&&(i=a-1);if(i<r.baseVersion||e>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(e);s===void 0&&(s=0);let o=this._baseVersionToOperationIndex.get(i);return o===void 0&&(o=this._operations.length-1),this._operations.slice(s,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Py extends gn{rootName;_document;_isAttached=!0;_isLoaded=!0;constructor(e,t,r="main"){super(t),this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Py.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const GI="$graveyard";class vye extends an(){model;history;selection;roots;differ;isReadOnly;_postFixers;_hasSelectionChangedFromTheLastChangeBlock;constructor(e){super(),this.model=e,this.history=new wye,this.selection=new To(this),this.roots=new sr({idProperty:"rootName"}),this.differ=new Ny(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",GI),this.listenTo(e,"applyOperation",(t,r)=>{const i=r[0];i.isDocumentOperation&&this.differ.bufferOperation(i)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,r)=>{const i=r[0];i.isDocumentOperation&&this.history.addOperation(i)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,r,i,s,o)=>{const a={...r.getData(),range:s};this.differ.bufferMarkerChange(r.name,o,a),i===null&&r.on("change",(l,u)=>{const f=r.getData();this.differ.bufferMarkerChange(r.name,{...f,range:u},f)})}),this.registerPostFixer(t=>{let r=!1;for(const i of this.roots)!i.isAttached()&&!i.isEmpty&&(t.remove(t.createRangeIn(i)),r=!0);for(const i of this.model.markers)i.getRange().root.isAttached()||(t.removeMarker(i),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(GI)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new q("model-document-createroot-name-exists",this,{name:t});const r=new Py(this,e,t);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=bpe(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,r=t.schema,i=t.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(i)||t.createRange(i)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&YI(e.start)&&YI(e.end)}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(this.selection.refresh(),t=r(e),t)break;while(t)}}function YI(n){const e=n.textNode;if(e){const t=e.data,r=n.offset-e.startOffset;return!tC(t,r)&&!nC(t,r)}return!0}class _ye extends an(){_markers=new Map;[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof ef?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,r=!1,i=!1){const s=e instanceof ef?e.name:e;if(s.includes(","))throw new q("markercollection-incorrect-marker-name",this);const o=this._markers.get(s);if(o){const u=o.getData(),f=o.getRange();let m=!1;return f.isEqual(t)||(o._attachLiveRange(Di.fromRange(t)),m=!0),r!=o.managedUsingOperations&&(o._managedUsingOperations=r,m=!0),typeof i=="boolean"&&i!=o.affectsData&&(o._affectsData=i,m=!0),m&&this.fire(`update:${s}`,o,f,t,u),o}const a=Di.fromRange(t),l=new ef(s,a,r,i);return this._markers.set(s,l),this.fire(`update:${s}`,l,null,t,{...l.getData(),range:null}),l}_remove(e){const t=e instanceof ef?e.name:e,r=this._markers.get(t);return r?(this._markers.delete(t),this.fire(`update:${t}`,r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0):!1}_refresh(e){const t=e instanceof ef?e.name:e,r=this._markers.get(t);if(!r)throw new q("markercollection-refresh-marker-not-exists",this);const i=r.getRange();this.fire(`update:${t}`,r,i,i,r.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class ef extends an(yc){name;_managedUsingOperations;_affectsData;_liveRange;constructor(e,t,r,i){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=r,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.toRange()}toJSON(){return{name:this.name,range:this._liveRange?.toJSON(),usingOperations:this._managedUsingOperations,affectsData:this._affectsData}}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ef.prototype.is=function(n){return n==="marker"||n==="model:marker"};class xye extends _s{sourcePosition;howMany;constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new q("detach-operation-on-document-node",this)}_execute(){RV(he._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class qo extends yc{markers=new Map;_children=new vg;constructor(e){super(),e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const r of e)t=t.getChildAtOffset(r);return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const r of e)r.name?t.push(gn.fromJSON(r)):t.push(Sn.fromJSON(r));return new qo(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=Eye(t);for(const i of r)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const i of r)i.parent=null;return r}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const t of e)t.parent=null}}qo.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function Eye(n){return typeof n=="string"?[new Sn(n)]:(vs(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Sn(e):e instanceof po?new Sn(e.data,e.getAttributes()):e))}class kye{model;batch;constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Sn(e,t)}createElement(e,t){return new gn(e,t)}createDocumentFragment(){return new qo}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,r=0){if(this._assertWriterUsedCorrectly(),e instanceof Sn&&e.data=="")return;const i=Ne._createAt(t,r);if(e.parent)if(JI(e.root,i.root)){this.move(he._createOn(e),i);return}else{if(e.root.document)throw new q("model-writer-insert-forbidden-move",this);this.remove(e)}const s=i.root.document?i.root.document.version:null,o=e instanceof qo?e._removeChildren(0,e.childCount):e,a=new Dr(i,o,s);if(e instanceof Sn&&(a.shouldReceiveAttributes=!0),this.batch.addOperation(a),this.model.applyOperation(a),e instanceof qo)for(const[l,u]of e.markers){const f=Ne._createAt(u.root,0),p={range:new he(u.start._getCombined(f,i),u.end._getCombined(f,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,p):this.addMarker(l,p)}}insertText(e,t,r,i){t instanceof qo||t instanceof gn||t instanceof Ne?this.insert(this.createText(e),t,r):this.insert(this.createText(e,t),r,i)}insertElement(e,t,r,i){t instanceof qo||t instanceof gn||t instanceof Ne?this.insert(this.createElement(e),t,r):this.insert(this.createElement(e,t),r,i)}append(e,t){this.insert(e,t,"end")}appendText(e,t,r){t instanceof qo||t instanceof gn?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),r,"end")}appendElement(e,t,r){t instanceof qo||t instanceof gn?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),r,"end")}setAttribute(e,t,r){if(this._assertWriterUsedCorrectly(),r instanceof he){const i=r.getMinimalFlatRanges();for(const s of i)KI(this,e,t,s)}else XI(this,e,t,r)}setAttributes(e,t){for(const[r,i]of oa(e))this.setAttribute(r,i,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof he){const r=t.getMinimalFlatRanges();for(const i of r)KI(this,e,null,i)}else XI(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=r=>{for(const i of r.getAttributeKeys())this.removeAttribute(i,r)};if(!(e instanceof he))t(e);else for(const r of e.getItems())t(r)}move(e,t,r){if(this._assertWriterUsedCorrectly(),!(e instanceof he))throw new q("writer-move-invalid-range",this);if(!e.isFlat)throw new q("writer-move-range-not-flat",this);const i=Ne._createAt(t,r);if(i.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!JI(e.root,i.root))throw new q("writer-move-different-document",this);const s=e.root.document?e.root.document.version:null,o=new Vt(e.start,e.end.offset-e.start.offset,i,s);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const r=(e instanceof he?e:he._createOn(e)).getMinimalFlatRanges().reverse();for(const i of r)this._addOperationForAffectedMarkers("move",i),Tye(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,r=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof gn))throw new q("writer-merge-no-element-before",this);if(!(r instanceof gn))throw new q("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,r){return this.model.createPositionFromPath(e,t,r)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,r=e.nodeAfter;this.move(he._createIn(r),Ne._createAt(t,"end")),this.remove(r)}_merge(e){const t=Ne._createAt(e.nodeBefore,"end"),r=Ne._createAt(e.nodeAfter,0),i=e.root.document.graveyard,s=new Ne(i,[0]),o=e.root.document.version,a=new Kn(r,e.nodeAfter.maxOffset,t,s,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof gn))throw new q("writer-rename-not-element-instance",this);const r=e.root.document?e.root.document.version:null,i=new Ui(Ne._createBefore(e),e.name,t,r);this.batch.addOperation(i),this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let r=e.parent;if(!r.parent)throw new q("writer-split-element-no-parent",this);if(t||(t=r.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new q("writer-split-invalid-limit-element",this);let i,s;do{const o=r.root.document?r.root.document.version:null,a=r.maxOffset-e.offset,l=pn.getInsertionPosition(e),u=new pn(e,a,l,null,o);this.batch.addOperation(u),this.model.applyOperation(u),!i&&!s&&(i=r,s=e.parent.nextSibling),e=this.createPositionAfter(e.parent),r=e.parent}while(r!==t);return{position:e,range:new he(Ne._createAt(i,"end"),Ne._createAt(s,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new q("writer-wrap-range-not-flat",this);const r=t instanceof gn?t:new gn(t);if(r.childCount>0)throw new q("writer-wrap-element-not-empty",this);if(r.parent!==null)throw new q("writer-wrap-element-attached",this);this.insert(r,e.start);const i=new he(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,Ne._createAt(r,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new q("writer-unwrap-element-no-parent",this);this.move(he._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new q("writer-addmarker-no-usingoperation",this);const r=t.usingOperation,i=t.range,s=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new q("writer-addmarker-marker-exists",this);if(!i)throw new q("writer-addmarker-no-range",this);return r?(Rm(this,e,null,i,s),this.model.markers.get(e)):this.model.markers._set(e,i,r,s)}updateMarker(e,t){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name,i=this.model.markers.get(r);if(!i)throw new q("writer-updatemarker-marker-not-exists",this);if(!t){It("writer-updatemarker-reconvert-using-editingcontroller",{markerName:r}),this.model.markers._refresh(i);return}const s=typeof t.usingOperation=="boolean",o=typeof t.affectsData=="boolean",a=o?t.affectsData:i.affectsData;if(!s&&!t.range&&!o)throw new q("writer-updatemarker-wrong-options",this);const l=i.getRange(),u=t.range?t.range:l;if(s&&t.usingOperation!==i.managedUsingOperations){t.usingOperation?Rm(this,r,null,u,a):(Rm(this,r,l,null,a),this.model.markers._set(r,u,void 0,a));return}i.managedUsingOperations?Rm(this,r,l,u,a):this.model.markers._set(r,u,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new q("writer-removemarker-no-marker",this);const r=this.model.markers.get(t);if(!r.managedUsingOperations){this.model.markers._remove(t);return}const i=r.getRange();Rm(this,t,i,null,r.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const r=this.model.document.getRoot(e);if(r&&r.isAttached())throw new q("writer-addroot-root-exists",this);const i=this.model.document,s=new ea(e,t,!0,i,i.version);return this.batch.addOperation(s),this.model.applyOperation(s),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new q("writer-detachroot-no-root",this);for(const s of this.model.markers)s.getRange().root===t&&this.removeMarker(s);for(const s of t.getAttributeKeys())this.removeAttribute(s,t);this.remove(this.createRangeIn(t));const r=this.model.document,i=new ea(t.rootName,t.name,!1,r,r.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[r,i]of oa(e))this._setSelectionAttribute(r,i)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const i=To._getStoreAttributeKey(e);this.setAttribute(i,t,r.anchor.parent)}r._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const r=To._getStoreAttributeKey(e);this.removeAttribute(r,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new q("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const r of this.model.markers){if(!r.managedUsingOperations)continue;const i=r.getRange();let s=!1;if(e==="move"){const o=t;s=o.containsPosition(i.start)||o.start.isEqual(i.start)||o.containsPosition(i.end)||o.end.isEqual(i.end)}else{const o=t,a=o.nodeBefore,l=o.nodeAfter,u=i.start.parent==a&&i.start.isAtEnd,f=i.end.parent==l&&i.end.offset==0,m=i.end.nodeAfter==l,p=i.start.nodeAfter==l;s=u||f||m||p}s&&this.updateMarker(r.name,{range:i})}}}function KI(n,e,t,r){const i=n.model,s=i.document;let o=r.start,a,l,u;for(const m of r.getWalker({shallow:!0}))u=m.item.getAttribute(e),a&&l!=u&&(l!=t&&f(),o=a),a=m.nextPosition,l=u;a instanceof Ne&&a!=o&&l!=t&&f();function f(){const m=new he(o,a),p=m.root.document?s.version:null,y=new nr(m,e,l,t,p);n.batch.addOperation(y),i.applyOperation(y)}}function XI(n,e,t,r){const i=n.model,s=i.document,o=r.getAttribute(e);let a,l;if(o!=t){if(r.root===r){const f=r.document?s.version:null;l=new Qa(r,e,o,t,f)}else{a=new he(Ne._createBefore(r),n.createPositionAfter(r));const f=a.root.document?s.version:null;l=new nr(a,e,o,t,f)}n.batch.addOperation(l),i.applyOperation(l)}}function Rm(n,e,t,r,i){const s=n.model,o=s.document,a=new _i(e,t,r,s.markers,!!i,o.version);n.batch.addOperation(a),s.applyOperation(a)}function Tye(n,e,t,r){let i;if(n.root.document){const s=r.document,o=new Ne(s.graveyard,[0]);i=new Vt(n,e,o,s.version)}else i=new xye(n,e);t.addOperation(i),r.applyOperation(i)}function JI(n,e){return n===e||n instanceof Py&&e instanceof Py}function Sye(n){n.document.registerPostFixer(e=>Cye(e,n))}function Cye(n,e){const t=e.document.selection,r=e.schema,i=[];let s=!1;for(const o of t.getRanges()){const a=TC(o,r);a&&!a.isEqual(o)?(i.push(a),s=!0):i.push(o)}return s&&n.setSelection(Rye(i),{backward:t.isBackward}),!1}function TC(n,e){return n.isCollapsed?Aye(n,e):Nye(n,e)}function Aye(n,e){const t=n.start,r=e.getNearestSelectionRange(t);if(!r){const s=t.getAncestors().reverse().find(o=>e.isObject(o));return s?he._createOn(s):null}if(!r.isCollapsed)return r;const i=r.start;return t.isEqual(i)?null:new he(i)}function Nye(n,e){const{start:t,end:r}=n,i=e.checkChild(t,"$text"),s=e.checkChild(r,"$text"),o=e.getLimitElement(t),a=e.getLimitElement(r);if(o===a){if(i&&s)return null;if(Pye(t,r,e)){const m=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),y=r.nodeBefore&&e.isSelectable(r.nodeBefore)?null:e.getNearestSelectionRange(r,"backward"),v=m?m.start:t,w=y?y.end:r;return new he(v,w)}}const l=o&&!o.is("rootElement"),u=a&&!a.is("rootElement");if(l||u){const f=t.nodeAfter&&r.nodeBefore&&t.nodeAfter.parent===r.nodeBefore.parent,m=l&&(!f||!ZI(t.nodeAfter,e)),p=u&&(!f||!ZI(r.nodeBefore,e));let y=t,v=r;return m&&(y=Ne._createBefore(QI(o,e))),p&&(v=Ne._createAfter(QI(a,e))),new he(y,v)}return null}function QI(n,e){let t=n,r=t;for(;e.isLimit(r)&&r.parent;)t=r,r=r.parent;return t}function Pye(n,e,t){const r=n.nodeAfter&&!t.isLimit(n.nodeAfter)||t.checkChild(n,"$text"),i=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return r||i}function Rye(n){const e=[...n],t=new Set;let r=1;for(;r<e.length;){const s=e[r],o=e.slice(0,r);for(const[a,l]of o.entries())if(!t.has(a)){if(s.isEqual(l))t.add(a);else if(s.isIntersecting(l)){t.add(a),t.add(r);const u=s.getJoined(l);e.push(u)}}r++}return e.filter((s,o)=>!t.has(o))}function ZI(n,e){return n&&e.isSelectable(n)}function Iye(n,e,t={}){if(e.isCollapsed)return;const r=e.getFirstRange();if(r.root.rootName=="$graveyard")return;const i=n.schema;n.change(s=>{if(!t.doNotResetEntireContent&&zye(i,e)){Uye(s,e);return}const o={};if(!t.doNotAutoparagraph){const u=e.getSelectedElement();u&&Object.assign(o,i.getAttributesWithProperty(u,"copyOnReplace",!0))}let a,l;t.doNotFixSelection?(a=tr.fromPosition(r.start,"toPrevious"),l=tr.fromPosition(r.end,"toNext")):[a,l]=Oye(r),a.isTouching(l)||s.remove(s.createRange(a,l)),t.leaveUnmerged||(Dye(s,a,l),i.removeDisallowedAttributes(a.parent.getChildren(),s)),BV(s,e,a),!t.doNotAutoparagraph&&Bye(i,a)&&LV(s,a,e,o),a.detach(),l.detach()})}function Oye(n){const e=n.root.document.model,t=n.start;let r=n.end;if(e.hasContent(n,{ignoreMarkers:!0})){const i=Mye(r);if(i&&r.isTouching(e.createPositionAt(i,0))){const s=e.createSelection(n);e.modifySelection(s,{direction:"backward"});const o=s.getLastPosition(),a=e.createRange(o,r);e.hasContent(a,{ignoreMarkers:!0})||(r=o)}}return[tr.fromPosition(t,"toPrevious"),tr.fromPosition(r,"toNext")]}function Mye(n){const e=n.parent,t=e.root.document.model.schema,r=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const i of r){if(t.isLimit(i))return null;if(t.isBlock(i))return i}}function Dye(n,e,t){const r=n.model;if(!SC(n.model.schema,e,t))return;const[i,s]=Lye(e,t);!i||!s||(!r.hasContent(i,{ignoreMarkers:!0})&&r.hasContent(s,{ignoreMarkers:!0})?FV(n,e,t,i.parent):DV(n,e,t,i.parent))}function DV(n,e,t,r){const i=e.parent,s=t.parent;if(!(i==r||s==r)){for(e=n.createPositionAfter(i),t=n.createPositionBefore(s),t.isEqual(e)||n.insert(s,e),n.merge(e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}SC(n.model.schema,e,t)&&DV(n,e,t,r)}}function FV(n,e,t,r){const i=e.parent,s=t.parent;if(!(i==r||s==r)){for(e=n.createPositionAfter(i),t=n.createPositionBefore(s),t.isEqual(e)||n.insert(i,t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}t=n.createPositionBefore(s),Fye(n,t),SC(n.model.schema,e,t)&&FV(n,e,t,r)}}function Fye(n,e){const t=e.nodeBefore,r=e.nodeAfter;t.name!=r.name&&n.rename(t,r.name),n.clearAttributes(t),n.setAttributes(Object.fromEntries(r.getAttributes()),t),n.merge(e)}function SC(n,e,t){const r=e.parent,i=t.parent;return r==i||n.isLimit(r)||n.isLimit(i)?!1:Vye(e,t,n)}function Lye(n,e){const t=n.getAncestors(),r=e.getAncestors();let i=0;for(;t[i]&&t[i]==r[i];)i++;return[t[i],r[i]]}function Bye(n,e){const t=n.checkChild(e,"$text"),r=n.checkChild(e,"paragraph");return!t&&r}function Vye(n,e,t){const r=new he(n,e);for(const i of r.getWalker())if(t.isLimit(i.item))return!1;return!0}function LV(n,e,t,r={}){const i=n.createElement("paragraph");n.model.schema.setAllowedAttributes(i,r,n),n.insert(i,e),BV(n,t,n.createPositionAt(i,0))}function Uye(n,e){const t=n.model.schema.getLimitElement(e);n.remove(n.createRangeIn(t)),LV(n,n.createPositionAt(t,0),e)}function zye(n,e){const t=n.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const r=e.getFirstRange();return r.start.parent==r.end.parent?!1:n.checkChild(t,"paragraph")}function BV(n,e,t){e instanceof To?n.setSelection(t):e.setTo(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Hye(n,e){return n.change(t=>{const r=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return r;const s=i.start.root,o=i.start.getCommonPath(i.end),a=s.getNodeByPath(o);let l;i.start.parent==i.end.parent?l=i:l=t.createRange(t.createPositionAt(a,i.start.path[o.length]),t.createPositionAt(a,i.end.path[o.length]+1));const u=l.end.offset-l.start.offset;for(const f of l.getItems({shallow:!0}))f.is("$textProxy")?t.appendText(f.data,f.getAttributes(),r):t.append(t.cloneElement(f,!0),r);if(l!=i){const f=i._getTransformedByMove(l.start,t.createPositionAt(r,0),u)[0],m=t.createRange(t.createPositionAt(r,0),f.start),p=t.createRange(f.end,t.createPositionAt(r,"end"));eO(p,t),eO(m,t)}return r})}function eO(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(r=>e.createRangeOn(r)).filter(r=>(r.start.isAfter(n.start)||r.start.isEqual(n.start))&&(r.end.isBefore(n.end)||r.end.isEqual(n.end))).forEach(r=>{t.push(r.start.parent),e.remove(r)}),t.forEach(r=>{let i=r;for(;i.parent&&i.isEmpty;){const s=e.createRangeOn(i);i=i.parent,e.remove(s)}})}function $ye(n,e,t){return n.change(r=>{const i=t||n.document.selection;i.isCollapsed||n.deleteContent(i,{doNotAutoparagraph:!0});const s=new Wye(n,r,i.anchor),o=[];let a;if(e.is("documentFragment")){if(e.markers.size){const f=[];for(const[m,p]of e.markers){const{start:y,end:v}=p,w=y.isEqual(v);f.push({position:y,name:m,isCollapsed:w},{position:v,name:m,isCollapsed:w})}f.sort(({position:m},{position:p})=>m.isBefore(p)?1:-1);for(const{position:m,name:p,isCollapsed:y}of f){let v=null,w=null;const E=m.parent===e&&m.isAtStart,k=m.parent===e&&m.isAtEnd;!E&&!k?(v=r.createElement("$marker"),r.insert(v,m)):y&&(w=E?"start":"end"),o.push({name:p,element:v,collapsed:w})}}a=e.getChildren()}else a=[e];s.handleNodes(a);let l=s.getSelectionRange();if(e.is("documentFragment")&&o.length){const f=l?Di.fromRange(l):null,m={};for(let p=o.length-1;p>=0;p--){const{name:y,element:v,collapsed:w}=o[p],E=!m[y];if(E&&(m[y]=[]),v){const k=r.createPositionAt(v,"before");m[y].push(k),r.remove(v)}else{const k=s.getAffectedRange();if(!k){w&&m[y].push(s.position);continue}w?m[y].push(k[w]):m[y].push(E?k.start:k.end)}}for(const[p,[y,v]]of Object.entries(m))y&&v&&y.root===v.root&&y.root.document&&!r.model.markers.has(p)&&r.addMarker(p,{usingOperation:!0,affectsData:!0,range:new he(y,v)});f&&(l=f.toRange(),f.detach())}/* istanbul ignore else -- @preserve */l&&(i instanceof To?r.setSelection(l):i.setTo(l));const u=s.getAffectedRange()||n.createRange(i.anchor);return s.destroy(),u})}class Wye{model;writer;position;canMergeWith;schema;_documentFragment;_documentFragmentPosition;_firstNode=null;_lastNode=null;_lastAutoParagraph=null;_filterAttributesAndChildrenOf=[];_affectedStart=null;_affectedEnd=null;_nodeToSelect=null;constructor(e,t,r){this.model=e,this.writer=t,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))t.offsetSize>0&&this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesAndChildrenOf,this.writer),this.model._config?.get("experimentalFlags.modelInsertContentDeepSchemaVerification")&&this._removeDisallowedChildren(this._filterAttributesAndChildrenOf),this._filterAttributesAndChildrenOf=[]}_removeDisallowedChildren(e){const t=Array.from(e);for(const r of t){if(!r.is("element"))continue;const i=[],s=[],o=this.writer.createRangeIn(r).getWalker({ignoreElementEnd:!0});for(const{item:a}of o){const l=a.parent;this.schema.checkChild(l,a)||(a.is("element")&&!this.schema.isObject(a)?(s.push(a),t.push(l)):i.push(a),o.jumpTo(this.writer.createPositionAfter(a)))}for(const a of s)this.writer.unwrap(a);for(const a of i)this.writer.remove(a)}}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),r=this.writer.createPositionAfter(e);if(r.isAfter(t)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new q("insertcontent-invalid-insertion-position",this);this.position=r,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?he._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new he(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(!this._checkAndSplitToAllowedPosition(e)){this.schema.isObject(e)||this._handleDisallowedNode(e);return}e=this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=tr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new q("insertcontent-wrong-position",this,{node:e,position:this.position});return this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),e.parent||(e=this._documentFragmentPosition.nodeBefore),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesAndChildrenOf.push(e),e}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=tr.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=tr.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof gn)||!this._canMergeLeft(e))return;const t=tr._createBefore(e);t.stickiness="toNext";const r=tr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=tr._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=tr._createAt(t.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach(),this._filterAttributesAndChildrenOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof gn)||!this._canMergeRight(e))return;const t=tr._createAfter(e);t.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(t))throw new q("insertcontent-invalid-insertion-position",this);this.position=Ne._createAt(t.nodeBefore,"end");const r=tr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=tr._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=tr._createAt(t.nodeBefore,0,"toPrevious")),this.position=r.toPosition(),r.detach(),this._filterAttributesAndChildrenOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof gn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof gn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_insertAutoParagraph(){this._insertPartialFragment();const e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const r=this.position.parent;this.position=this.writer.createPositionBefore(r),r.isEmpty&&r.parent===t&&this.writer.remove(r)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,t){const r=this.schema.createContext(e);return this.schema.checkChild(r,t)||this.schema.checkChild(r,"paragraph")&&this.schema.checkChild(r.push("paragraph"),t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function jye(n,e,t,r={}){if(!n.schema.isObject(e))throw new q("insertobject-element-not-an-object",n,{object:e});const i=t||n.document.selection;let s=i;r.findOptimalPosition&&n.schema.isBlock(e)&&(s=n.createSelection(n.schema.findOptimalInsertionRange(i,r.findOptimalPosition)));const o=_n(i.getSelectedBlocks()),a={};return o&&Object.assign(a,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(l=>{s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});let u=e;const f=s.anchor.parent,m=n.schema.createContext(f);!n.schema.checkChild(m,e)&&n.schema.checkChild(m,"paragraph")&&n.schema.checkChild(m.push("paragraph"),e)&&(u=l.createElement("paragraph"),l.insert(e,u)),n.schema.setAllowedAttributes(u,a,l);const p=n.insertContent(u,s);return p.isCollapsed||r.setSelection&&qye(l,e,r.setSelection,a),p})}function qye(n,e,t,r){const i=n.model;if(t=="on"){n.setSelection(e,"on");return}if(t!="after")throw new q("insertobject-invalid-place-parameter-value",i);let s=e.nextSibling;if(i.schema.isInline(e)){n.setSelection(e,"after");return}!(s&&i.schema.checkChild(s,"$text"))&&i.schema.checkChild(e.parent,"paragraph")&&(s=n.createElement("paragraph"),i.schema.setAllowedAttributes(s,r,n),i.insertContent(s,n.createPositionAfter(e))),s&&n.setSelection(s,0)}const Gye=' ,.?!:;"-()';function Yye(n,e,t={}){const r=n.schema,i=t.direction!="backward",s=t.unit?t.unit:"character",o=!!t.treatEmojiAsSingleUnit,a=e.focus,l=new Ha({boundaries:Qye(a,i),singleCharacters:!0,direction:i?"forward":"backward"}),u={walker:l,schema:r,isForward:i,unit:s,treatEmojiAsSingleUnit:o};let f;for(;f=l.next();){if(f.done)return;const m=Kye(u,f.value);if(m){e instanceof To?n.change(p=>{p.setSelectionFocus(m)}):e.setFocus(m);return}}}function Kye(n,e){const{isForward:t,walker:r,unit:i,schema:s,treatEmojiAsSingleUnit:o}=n,{type:a,item:l,nextPosition:u}=e;if(a=="text")return n.unit==="word"?Jye(r,t):Xye(r,i,o);if(a==(t?"elementStart":"elementEnd")){if(s.isSelectable(l))return Ne._createAt(l,t?"after":"before");if(s.checkChild(u,"$text"))return u}else{if(s.isLimit(l)){r.skip(()=>!0);return}if(s.checkChild(u,"$text"))return u}}function Xye(n,e,t){const r=n.position.textNode;if(r){const i=r.data;let s=n.position.offset-r.startOffset;for(;tC(i,s)||e=="character"&&nC(i,s)||t&&UB(i,s);)n.next(),s=n.position.offset-r.startOffset}return n.position}function Jye(n,e){let t=n.position.textNode;for(t||(t=e?n.position.nodeAfter:n.position.nodeBefore);t&&t.is("$text");){const r=n.position.offset-t.startOffset;if(ewe(t,r,e))t=e?n.position.nodeAfter:n.position.nodeBefore;else{if(Zye(t.data,r,e))break;n.next()}}return n.position}function Qye(n,e){const t=n.root,r=Ne._createAt(t,e?"end":0);return e?new he(n,r):new he(r,n)}function Zye(n,e,t){const r=e+(t?0:-1);return Gye.includes(n.charAt(r))}function ewe(n,e,t){return e===(t?n.offsetSize:0)}class twe extends qt(){markers;document;schema;_config;_pendingChanges;_currentWriter;constructor(e){super(),this.markers=new _ye,this.document=new vye(this),this.schema=new Lbe,this._config=e,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),Sye(this),this.document.registerPostFixer(TV),this.on("insertContent",(t,[r,i])=>{t.return=$ye(this,r,i)}),this.on("insertObject",(t,[r,i,s])=>{t.return=jye(this,r,i,s)}),this.on("canEditAt",t=>{const r=!this.document.isReadOnly;t.return=r,r||t.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Hd,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Hd):e instanceof Hd||(e=new Hd(e)):e=new Hd,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,t,r,...i){const s=Y2(t,r);return this.fire("insertContent",[e,s,r,...i])}insertObject(e,t,r,i,...s){const o=Y2(t,r);return this.fire("insertObject",[e,o,i,i,...s])}deleteContent(e,t){Iye(this,e,t)}modifySelection(e,t){Yye(this,e,t)}getSelectedContent(e){return Hye(this,e)}hasContent(e,t={}){const r=e instanceof he?e:he._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:s=!1}=t;if(!s){for(const o of this.markers.getMarkersIntersectingRange(r))if(o.affectsData)return!0}for(const o of r.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(i){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=Y2(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,r){return new Ne(e,t,r)}createPositionAt(e,t){return Ne._createAt(e,t)}createPositionAfter(e){return Ne._createAfter(e)}createPositionBefore(e){return Ne._createBefore(e)}createRange(e,t){return new he(e,t)}createRangeIn(e){return he._createIn(e)}createRangeOn(e){return he._createOn(e)}createSelection(...e){return new ds(...e)}createBatch(e){return new Hd(e)}createOperationFromJSON(e){return cye.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new kye(this,t);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Y2(n,e){if(n)return n instanceof ds||n instanceof To?n:n instanceof zu?e||e===0?new ds(n,e):n.is("rootElement")?new ds(n,"in"):new ds(n,"on"):new ds(n)}class nwe extends Io{domEventType="click";onDomEvent(e){this.fire(e.type,e)}}class CC extends Io{domEventType=["mousedown","mouseup","mouseover","mouseout"];onDomEvent(e){this.fire(e.type,e)}}class rwe extends Io{domEventType=["touchstart","touchend","touchmove"];onDomEvent(e){this.fire(e.type,e)}}class VV extends Io{domEventType=["pointerdown","pointerup","pointermove"];onDomEvent(e){this.fire(e.type,e)}}class yv{document;constructor(e){this.document=e}createDocumentFragment(e){return new pu(this.document,e)}createElement(e,t,r){return new ko(this.document,e,t,r)}createText(e){return new hr(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,r){return r._insertChild(e,t)}removeChildren(e,t,r){return r._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const r=e.parent;if(r){const i=r.getChildIndex(e);return this.removeChildren(i,1,r),this.insertChild(i,t,r),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const r=t.getChildIndex(e);this.remove(e),this.insertChild(r,e.getChildren(),t)}}rename(e,t){const r=new ko(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,r)?r:null}setAttribute(e,t,r){r._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,r){gv(e)&&r===void 0?t._setStyle(e):r._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,r){r._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Me._createAt(e,t)}createPositionAfter(e){return Me._createAfter(e)}createPositionBefore(e){return Me._createBefore(e)}createRange(e,t){return new ft(e,t)}createRangeOn(e){return ft._createOn(e)}createRangeIn(e){return ft._createIn(e)}createSelection(...e){return new yo(...e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const iwe=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,swe=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,owe=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,awe=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,lwe=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,cwe=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,uwe=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function UV(n){return n.startsWith("#")?iwe.test(n):n.startsWith("rgb")?swe.test(n)||owe.test(n):n.startsWith("hsl")?awe.test(n)||lwe.test(n):uwe.has(n.toLowerCase())}const dwe=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function fwe(n){return dwe.includes(n)}const hwe=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function wv(n){return hwe.test(n)}const mwe=/^[+-]?[0-9]*([.][0-9]+)?%$/;function zV(n){return mwe.test(n)}const gwe=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function pwe(n){return gwe.includes(n)}const bwe=["center","top","bottom","left","right"];function ywe(n){return bwe.includes(n)}const wwe=["fixed","scroll","local"];function vwe(n){return wwe.includes(n)}const _we=/^url\(/;function xwe(n){return _we.test(n)}function _g(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=AC(n),t=e[0],r=e[2]||t,i=e[1]||t,s=e[3]||i;return{top:t,bottom:r,right:i,left:s}}function xg(n){return e=>{const{top:t,right:r,bottom:i,left:s}=e,o=[];return[t,r,s,i].every(a=>!!a)?o.push([n,Ewe(e)]):(t&&o.push([n+"-top",t]),r&&o.push([n+"-right",r]),i&&o.push([n+"-bottom",i]),s&&o.push([n+"-left",s])),o}}function Ewe({top:n,right:e,bottom:t,left:r}){const i=[];return r!==e?i.push(n,e,t,r):t!==n?i.push(n,e,t):e!==n?i.push(n,e):i.push(n),i.join(" ")}function HV(n){return e=>({path:n,value:_g(e)})}function AC(n){const e=n.trim().slice(0,1500).matchAll(cwe);return Array.from(e).map(t=>t[0])}function NC(n){n.setNormalizer("background",kwe()),n.setNormalizer("background-color",Twe()),n.setReducer("background",Swe()),n.setStyleRelation("background",["background-color"])}function kwe(){return n=>{const e={},t=AC(n);for(const r of t)pwe(r)?(e.repeat=e.repeat||[],e.repeat.push(r)):ywe(r)?(e.position=e.position||[],e.position.push(r)):vwe(r)?e.attachment=r:UV(r)?e.color=r:xwe(r)&&(e.image=r);return{path:"background",value:e}}}function Twe(){return n=>({path:"background.color",value:n})}function Swe(){return n=>{const e=[];return e.push(["background-color",n.color]),e}}function $V(n){n.setNormalizer("border",Cwe()),n.setNormalizer("border-top",V1("top")),n.setNormalizer("border-right",V1("right")),n.setNormalizer("border-bottom",V1("bottom")),n.setNormalizer("border-left",V1("left")),n.setNormalizer("border-color",K2("color")),n.setNormalizer("border-width",K2("width")),n.setNormalizer("border-style",K2("style")),n.setNormalizer("border-top-color",Ms("color","top")),n.setNormalizer("border-top-style",Ms("style","top")),n.setNormalizer("border-top-width",Ms("width","top")),n.setNormalizer("border-right-color",Ms("color","right")),n.setNormalizer("border-right-style",Ms("style","right")),n.setNormalizer("border-right-width",Ms("width","right")),n.setNormalizer("border-bottom-color",Ms("color","bottom")),n.setNormalizer("border-bottom-style",Ms("style","bottom")),n.setNormalizer("border-bottom-width",Ms("width","bottom")),n.setNormalizer("border-left-color",Ms("color","left")),n.setNormalizer("border-left-style",Ms("style","left")),n.setNormalizer("border-left-width",Ms("width","left")),n.setExtractor("border-top",U1("top")),n.setExtractor("border-right",U1("right")),n.setExtractor("border-bottom",U1("bottom")),n.setExtractor("border-left",U1("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",xg("border-color")),n.setReducer("border-style",xg("border-style")),n.setReducer("border-width",xg("border-width")),n.setReducer("border-top",z1("top")),n.setReducer("border-right",z1("right")),n.setReducer("border-bottom",z1("bottom")),n.setReducer("border-left",z1("left")),n.setReducer("border",Nwe()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function Cwe(){return n=>{const{color:e,style:t,width:r}=WV(n);return{path:"border",value:{color:_g(e),style:_g(t),width:_g(r)}}}}function V1(n){return e=>{const{color:t,style:r,width:i}=WV(e),s={};return t!==void 0&&(s.color={[n]:t}),r!==void 0&&(s.style={[n]:r}),i!==void 0&&(s.width={[n]:i}),{path:"border",value:s}}}function K2(n){return e=>({path:"border",value:Awe(e,n)})}function Awe(n,e){return{[e]:_g(n)}}function Ms(n,e){return t=>({path:"border",value:{[n]:{[e]:t}}})}function U1(n){return(e,t)=>{if(t.border)return Km(t.border,n)}}function Km(n,e){const t={};return n.width&&n.width[e]&&(t.width=n.width[e]),n.style&&n.style[e]&&(t.style=n.style[e]),n.color&&n.color[e]&&(t.color=n.color[e]),t}function WV(n){const e={},t=AC(n);for(const r of t)wv(r)||/thin|medium|thick/.test(r)?e.width=r:fwe(r)?e.style=r:e.color=r;return e}function Nwe(){return e=>{const t=Km(e,"top"),r=Km(e,"right"),i=Km(e,"bottom"),s=Km(e,"left"),o=[t,r,i,s],a={width:n(o,"width"),style:n(o,"style"),color:n(o,"color")},l=tf(a,"all");return l.length?l:[...Object.entries(a).reduce((f,[m,p])=>(p&&(f.push([`border-${m}`,p]),o.forEach(y=>delete y[m])),f),[]),...tf(t,"top"),...tf(r,"right"),...tf(i,"bottom"),...tf(s,"left")]};function n(e,t){return e.map(r=>r[t]).reduce((r,i)=>r==i?r:null)}}function z1(n){return e=>tf(e,n)}function tf(n,e){const t=[];if(n&&n.width&&t.push("width"),n&&n.style&&t.push("style"),n&&n.color&&t.push("color"),t.length==3){const r=t.map(i=>n[i]).join(" ");return[e=="all"?["border",r]:[`border-${e}`,r]]}return e=="all"?[]:t.map(r=>[`border-${e}-${r}`,n[r]])}function jV(n){n.setNormalizer("margin",HV("margin")),n.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),n.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),n.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),n.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),n.setReducer("margin",xg("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function Pwe(n){n.setNormalizer("padding",HV("padding")),n.setNormalizer("padding-top",e=>({path:"padding.top",value:e})),n.setNormalizer("padding-right",e=>({path:"padding.right",value:e})),n.setNormalizer("padding-bottom",e=>({path:"padding.bottom",value:e})),n.setNormalizer("padding-left",e=>({path:"padding.left",value:e})),n.setReducer("padding",xg("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}function Rwe(n){return n==null||typeof n!="object"&&typeof n!="function"}function Iwe(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function Owe(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Mwe="[object RegExp]",qV="[object String]",GV="[object Number]",YV="[object Boolean]",KV="[object Arguments]",Dwe="[object Symbol]",Fwe="[object Date]",Lwe="[object Map]",Bwe="[object Set]",Vwe="[object Array]",Uwe="[object ArrayBuffer]",zwe="[object Object]",Hwe="[object DataView]",$we="[object Uint8Array]",Wwe="[object Uint8ClampedArray]",jwe="[object Uint16Array]",qwe="[object Uint32Array]",Gwe="[object Int8Array]",Ywe="[object Int16Array]",Kwe="[object Int32Array]",Xwe="[object Float32Array]",Jwe="[object Float64Array]";function Qwe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Zwe(n,e){return ff(n,void 0,n,new Map,e)}function ff(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(Rwe(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=ff(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,ff(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(ff(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(Qwe(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=ff(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),Qc(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),Qc(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),Qc(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,Qc(o,n,t,r,i),o}if(typeof n=="object"&&eve(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),Qc(o,n,t,r,i),o}return n}function Qc(n,e,t=n,r,i){const s=[...Object.keys(e),...Iwe(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=ff(e[a],a,t,r,i))}}function eve(n){switch(Owe(n)){case KV:case Vwe:case Uwe:case Hwe:case YV:case Fwe:case Xwe:case Jwe:case Gwe:case Ywe:case Kwe:case Lwe:case GV:case zwe:case Mwe:case Bwe:case qV:case Dwe:case $we:case Wwe:case jwe:case qwe:return!0;default:return!1}}function tve(n,e){return Zwe(n,(t,r,i,s)=>{const o=e?.(t,r,i,s);if(o!=null)return o;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case GV:case qV:case YV:{const a=new n.constructor(n?.valueOf());return Qc(a,n),a}case KV:{const a={};return Qc(a,n),a.length=n.length,a[Symbol.iterator]=n[Symbol.iterator],a}default:return}})}function nve(n){return typeof n=="object"&&n!==null}function rve(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function ive(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=rve(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function sve(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return ive(n,e,{leading:r,trailing:i,maxWait:e})}function ove(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function tO(n){return nve(n)&&n.nodeType===1&&!ove(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class XV{crashes=[];state="initializing";_crashNumberLimit;_now=Date.now;_minimumNonErrorTimePeriod;_boundErrorHandler;_listeners;constructor(e){if(this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const r="error"in t?t.error:t.reason;r instanceof Error&&this._handleError(r,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(r=>r!==t)}_fire(e,...t){const r=this._listeners[e]||[];for(const i of r)i.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Mk(n,e=new Set){const t=[n],r=new Set;let i=0;for(;t.length>i;){const s=t[i++];if(!(r.has(s)||!ave(s)||e.has(s)))if(r.add(s),Symbol.iterator in s)try{for(const o of s)t.push(o)}catch{}else for(const o in s)o!=="defaultValue"&&t.push(s[o])}return r}function ave(n){const e=Object.prototype.toString.call(n),t=typeof n;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function JV(n,e,t=new Set){if(n===e&&lve(n))return!0;const r=Mk(n,t),i=Mk(e,t);for(const s of r)if(i.has(s))return!0;return!1}function lve(n){return typeof n=="object"&&n!==null}class QV extends XV{_editor=null;_lifecyclePromise=null;_throttledSave;_data;_lastDocumentVersion;_elementOrData;_initUsingData=!0;_editables={};_config;_excludedProps;constructor(e,t={}){super(t),this._throttledSave=sve(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(r,i)=>e.create(r,i)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],r=this._config.rootsAttributes||{},i={};for(const[o,a]of Object.entries(this._data.roots))a.isLoaded?(e[o]="",i[o]=r[o]||{}):t.push(o);const s={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:i,_watchdogInitialData:this._data};return delete s.initialData,s.extraPlugins.push(cve),this._initUsingData?this.create(e,s,s.context):tO(this._elementOrData)?this.create(this._elementOrData,s,s.context):this.create(this._editables,s,s.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,r){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=r,this._creator(e,this._config))).then(i=>{this._editor=i,i.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=i.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:r}=e,i=r.has("CommentsRepository")&&r.get("CommentsRepository"),s=r.has("TrackChanges")&&r.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(a=>{o.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(const a of e.model.markers)a._affectsData&&(o.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return i&&(o.commentThreads=JSON.stringify(i.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),s&&(o.suggestions=JSON.stringify(s.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(t);r&&(e[t]=r)}return e}_isErrorComingFromThisItem(e){return JV(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return tve(e,(t,r)=>{if(tO(t)||r==="context")return t})}}class cve{editor;_data;constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const r=e.createElement(t.name,t.attributes);if(t.children)for(const i of t.children)r._appendChild(this._createNode(e,i));return r}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([r,{content:i,attributes:s}])=>{const o=JSON.parse(i),a=JSON.parse(s),l=t.model.document.getRoot(r);for(const[u,f]of a)e.setAttribute(u,f,l);for(const u of o){const f=this._createNode(e,u);e.insert(f,l,"end")}}),Object.entries(this._data.markers).forEach(([r,i])=>{const{document:s}=t.model,{rangeJSON:{start:o,end:a},...l}=i,u=s.getRoot(o.root),f=e.createPositionFromPath(u,o.path,o.stickiness),m=e.createPositionFromPath(u,a.path,a.stickiness),p=e.createRange(f,m);e.addMarker(r,{range:p,...l})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);if(this.editor.plugins.has("CommentsRepository")){const r=this.editor.plugins.get("CommentsRepository");for(const i of r.getCommentThreads())r._removeCommentThread({threadId:i.id});e.forEach(i=>{const s=this.editor.config.get("collaboration.channelId");this.editor.plugins.get("CommentsRepository").addCommentThread({channelId:s,...i})})}if(this.editor.plugins.has("TrackChangesEditing")){const r=this.editor.plugins.get("TrackChangesEditing");for(const i of r.getSuggestions())r._removeSuggestion(i);t.forEach(i=>{r.addSuggestionData(i)})}}}const Eg=Symbol("MainQueueId");class uve extends XV{_watchdogs=new Map;_watchdogConfig;_context=null;_contextProps=new Set;_actionQueues=new dve;_contextConfig;_item;constructor(e,t={}){super(t),this._watchdogConfig=t,this._creator=r=>e.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Eg,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=nO(e);return Promise.all(t.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return i=new QV(null,this._watchdogConfig),i.setCreator(r.creator),i._setExcludedProperties(this._contextProps),r.destructor&&i.setDestructor(r.destructor),this._watchdogs.set(r.id,i),i.on("error",(s,{error:o,causesRestart:a})=>{this._fire("itemError",{itemId:r.id,error:o}),a&&this._actionQueues.enqueue(r.id,()=>new Promise(l=>{const u=()=>{i.off("restart",u),this._fire("itemRestart",{itemId:r.id}),l()};i.on("restart",u)}))}),i.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(e){const t=nO(e);return Promise.all(t.map(r=>this._actionQueues.enqueue(r,()=>{const i=this._getWatchdog(r);return this._watchdogs.delete(r),i.destroy()})))}destroy(){return this._actionQueues.enqueue(Eg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Eg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Mk(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return JV(this._context,e.context)}}class dve{_onEmptyCallbacks=[];_queues=new Map;_activeActions=0;onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const r=e===Eg;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const s=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(Eg),this._queues.get(e)])).then(t),o=s.catch(()=>{});return this._queues.set(e,o),s.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function nO(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ee extends qt(){editor;_disableStack=new Set;constructor(e){super(),this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",rO,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",rO),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function rO(n){n.return=!1,n.stop()}class lt extends qt(){editor;_isEnabledBasedOnSelection;_affectsData;_disableStack;constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const r=e.model.document.selection,s=!(r.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!s)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",iO,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",iO),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function iO(n){n.return=!1,n.stop()}class sO extends lt{_childCommandsDefinitions=[];refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){wB(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class fve{_commands;constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const r=this.get(e);if(!r)throw new q("commandcollection-command-not-found",this,{commandName:e});return r.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class ZV extends an(){_context;_plugins=new Map;_availablePlugins;_contextPlugins;constructor(e,t=[],r=[]){super(),this._context=e,this._availablePlugins=new Map;for(const i of t)i.pluginName&&this._availablePlugins.set(i.pluginName,i);this._contextPlugins=new Map;for(const[i,s]of r)this._contextPlugins.set(i,s),this._contextPlugins.set(s,i),i.pluginName&&this._availablePlugins.set(i.pluginName,i)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new q("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return t}has(e){return this._plugins.has(e)}init(e,t=[],r=[]){const i=this,s=this._context;y(e),w(e);const o=e.filter(D=>!m(D,t)),a=[...v(o)];R(a,r);const l=S(a);return P(l,"init").then(()=>P(l,"afterInit")).then(()=>l);function u(D){return typeof D=="function"}function f(D){return u(D)&&!!D.isContextPlugin}function m(D,A){return A.some(F=>F===D||p(D)===F||p(F)===D)}function p(D){return u(D)?D.pluginName||D.name:D}function y(D,A=new Set){D.forEach(F=>{u(F)&&(A.has(F)||(A.add(F),F.pluginName&&!i._availablePlugins.has(F.pluginName)&&i._availablePlugins.set(F.pluginName,F),F.requires&&y(F.requires,A)))})}function v(D,A=new Set){return D.map(F=>u(F)?F:i._availablePlugins.get(F)).reduce((F,V)=>A.has(V)?F:(A.add(V),V.requires&&(w(V.requires,V),v(V.requires,A).forEach(X=>F.add(X))),F.add(V)),new Set)}function w(D,A=null){D.map(F=>u(F)?F:i._availablePlugins.get(F)||F).forEach(F=>{E(F,A),k(F,A),T(F,A)})}function E(D,A){if(!u(D))throw A?new q("plugincollection-soft-required",s,{missingPlugin:D,requiredBy:p(A)}):new q("plugincollection-plugin-not-found",s,{plugin:D})}function k(D,A){if(f(A)&&!f(D))throw new q("plugincollection-context-required",s,{plugin:p(D),requiredBy:p(A)})}function T(D,A){if(A&&m(D,t))throw new q("plugincollection-required",s,{plugin:p(D),requiredBy:p(A)})}function S(D){return D.map(A=>{let F=i._contextPlugins.get(A);return F=F||new A(s),i._add(A,F),F})}function P(D,A){return D.reduce((F,V)=>!V[A]||i._contextPlugins.has(V)?F:F.then(V[A].bind(V)),Promise.resolve())}function R(D,A){for(const F of A){if(typeof F!="function")throw new q("plugincollection-replace-plugin-invalid-type",null,{pluginItem:F});const V=F.pluginName;if(!V)throw new q("plugincollection-replace-plugin-missing-name",null,{pluginItem:F});if(F.requires&&F.requires.length)throw new q("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:V});const X=i._availablePlugins.get(V);if(!X)throw new q("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:V});const re=D.indexOf(X);if(re===-1){if(i._contextPlugins.has(X))return;throw new q("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:V})}if(X.requires&&X.requires.length)throw new q("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:V});D.splice(re,1,F),i._availablePlugins.set(V,F)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new q("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,t)}}}class oO{config;plugins;locale;t;editors;static defaultConfig;static builtinPlugins;_contextOwner=null;constructor(e){const{translations:t,...r}=e||{};this.config=new TB(r,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new ZV(this,i);const s=this.config.get("language")||{};this.locale=new m0e({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content"),translations:t}),this.t=this.locale.t,this.editors=new sr}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const r of e.concat(t)){if(typeof r!="function")throw new q("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new q("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new q("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const r=new this(e);t(r.initPlugins().then(()=>r))})}}class vv extends qt(){context;constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}class hve extends bn{editor;constructor(e){super(),this.editor=e}set(e,t,r={}){if(typeof t=="string"){const i=t;t=(s,o)=>{this.editor.execute(i),o()}}super.set(e,t,r)}}const X2="contentEditing",aO="common";class mve{keystrokeInfos=new Map;_editor;constructor(e){this._editor=e;const t=e.config.get("menuBar.isVisible"),r=e.locale.t;this.addKeystrokeInfoCategory({id:X2,label:r("Content editing keystrokes"),description:r("These keyboard shortcuts allow for quick access to content editing features.")});const i=[{label:r("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:r("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:r("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:r("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:r("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:r("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&i.push({label:r("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:r("User interface and content navigation keystrokes"),description:r("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:i}]})}addKeystrokeInfoCategory({id:e,label:t,description:r,groups:i}){this.keystrokeInfos.set(e,{id:e,label:t,description:r,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:aO}),i&&i.forEach(s=>{this.addKeystrokeInfoGroup({categoryId:e,...s})})}addKeystrokeInfoGroup({categoryId:e=X2,id:t,label:r,keystrokes:i}){const s=this.keystrokeInfos.get(e);if(!s)throw new q("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});s.groups.set(t,{id:t,label:r,keystrokes:i||[]})}addKeystrokeInfos({categoryId:e=X2,groupId:t=aO,keystrokes:r}){if(!this.keystrokeInfos.has(e))throw new q("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:r});const i=this.keystrokeInfos.get(e);if(!i.groups.has(t))throw new q("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:r});i.groups.get(t).keystrokes.push(...r)}}function gve(n){return{sessionId:vve(),pageSessionId:_ve(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:pve(n),plugins:bve(n.plugins),distribution:yve(),env:wve(),integration:Object.create(null),menuBar:{isVisible:!!n.config.get("menuBar.isVisible")},language:{ui:n.locale.uiLanguage,content:n.locale.contentLanguage},toolbar:{main:J2(n.config.get("toolbar")),block:J2(n.config.get("blockToolbar")),balloon:J2(n.config.get("balloonToolbar"))}}}function pve(n){return Object.getPrototypeOf(n).constructor.editorName}function bve(n){return Array.from(n).filter(([e])=>!!e.pluginName).map(([e])=>{const{pluginName:t,isContextPlugin:r,isOfficialPlugin:i,isPremiumPlugin:s}=e;return{isContext:!!r,isOfficial:!!i,isPremium:!!s,name:t}})}function J2(n){if(!n)return;const e=Array.isArray(n)?{items:n}:n,t=s(e.items||[]);return{isMultiline:t.includes("-"),shouldNotGroupWhenFull:!!e.shouldNotGroupWhenFull,items:i(t)};function i(o){return o.filter(a=>a!=="|"&&a!=="-")}function s(o){return o.flatMap(a=>typeof a=="string"?[a]:s(a.items))}}function yve(){return{channel:window[Symbol.for("cke distribution")]||"sh"}}function wve(){let n="unknown",e="unknown";return ot.isMac?n="mac":ot.isWindows?n="windows":ot.isiOS?n="ios":ot.isAndroid&&(n="android"),ot.isGecko?e="gecko":ot.isBlink?e="blink":ot.isSafari&&(e="safari"),{os:n,browser:e}}function vve(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",ci()),localStorage.getItem("__ckeditor-session-id")}function _ve(){return qe.window.CKEDITOR_PAGE_SESSION_ID=qe.window.CKEDITOR_PAGE_SESSION_ID||ci(),qe.window.CKEDITOR_PAGE_SESSION_ID}class xve extends qt(){static get editorName(){return"Editor"}accessibility;commands;config;conversion;data;editing;locale;model;plugins;keystrokes;t;static defaultConfig;static builtinPlugins;_context;_readOnlyLocks;constructor(e={}){if(super(),"sanitizeHtml"in e)throw new q("editor-config-sanitizehtml-not-supported");const t=this.constructor,{translations:r,...i}=t.defaultConfig||{},{translations:s=r,...o}=e,a=e.language||i.language;this._context=e.context||new oO({language:a,translations:s}),this._context._addEditor(this,!e.context);const l=Array.from(t.builtinPlugins||[]);this.config=new TB(o,i),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),f(this.config),this.plugins=new ZV(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new fve,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new twe(this.config),this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const u=new Mpe;this.data=new sye(this.model,u),this.editing=new Fbe(this.model,u),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new aye([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new hve(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new mve(this),m(this);function f(p){let y=p.get("licenseKey");if(!y&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(y=window.CKEDITOR_GLOBAL_LICENSE_KEY,p.set("licenseKey",y)),!y)throw new q("license-key-missing")}function m(p){const y=p.config.get("licenseKey"),v=window[Symbol.for("cke distribution")]||"sh";function w(A,F){p.enableReadOnlyMode(Symbol("invalidLicense")),p._showLicenseError(A,F)}function E(A){return["exp","jti","vc"].every(V=>V in A)}function k(A){return Object.getOwnPropertyNames(A).sort().filter(X=>X!="vc"&&A[X]!=null).map(X=>A[X])}function T(A){const{hostname:F}=new URL(window.location.href);if(A.includes(F))return!0;const V=F.split(".");return A.filter(X=>X.includes("*")).map(X=>X.split(".")).filter(X=>X.length<=V.length).map(X=>Array(V.length-X.length).fill(X[0]==="*"?"*":"").concat(X)).some(X=>V.every((re,N)=>X[N]===re||X[N]==="*"))}function S(A){const F=A[0].toUpperCase()+A.slice(1),V=A==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${F} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(` You are using ${V} ${A} license of CKEditor 5${A==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(y=="GPL"){v=="cloud"&&w("distributionChannel");return}const P=cI(y);if(!P){w("invalid");return}if(!E(P)){w("invalid");return}if(P.distributionChannel&&!Gt(P.distributionChannel).includes(v)){w("distributionChannel");return}if(w0e(k(P))!=P.vc.toLowerCase()){w("invalid");return}if(new Date(P.exp*1e3)<Cge){w("expired");return}const D=P.licensedHosts;if(D&&D.length>0&&!T(D)){w("domainLimit");return}if(["evaluation","trial"].includes(P.licenseType)&&P.exp*1e3<Date.now()){w("expired");return}if(["development","evaluation","trial"].includes(P.licenseType)){const{licenseType:A}=P;window.CKEDITOR_WARNING_SUPPRESSIONS=window.CKEDITOR_WARNING_SUPPRESSIONS||{},window.CKEDITOR_WARNING_SUPPRESSIONS[A]||(S(A),window.CKEDITOR_WARNING_SUPPRESSIONS[A]=!0)}if(["evaluation","trial"].includes(P.licenseType)){const A=P.licenseType,F=setTimeout(()=>{w(`${A}Limit`)},6e5);p.on("destroy",()=>{clearTimeout(F)})}P.usageEndpoint&&p.once("ready",()=>{const A={requestId:ci(),requestTime:Math.round(Date.now()/1e3),license:y,editor:Eve(p)};p._sendUsageRequest(P.usageEndpoint,A).then(F=>{const{status:V,message:X}=F;X&&console.warn(X),V!="ok"&&w("usageLimit")},()=>{kge("license-key-validation-endpoint-not-reachable",{url:P.usageEndpoint})})},{priority:"high"})}}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new q("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),r=e.get("removePlugins")||[],i=e.get("extraPlugins")||[],s=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(i),r,s).then(a=>(o(this),a));function o(a){const l=a.config.get("licenseKey");if(l==="GPL")return;const u=cI(l);if(!u)return;const f=[...a.plugins].map(([m])=>m).find(m=>!m.pluginName||!m.licenseFeatureCode?!1:S0e(u,m.licenseFeatureCode));f&&(a.enableReadOnlyMode(Symbol("invalidLicense")),a._showLicenseError("pluginNotAllowed",f.pluginName))}}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(r){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}static Context=oO;static EditorWatchdog=QV;static ContextWatchdog=uve;_showLicenseError(e,t){setTimeout(()=>{if(e=="invalid")throw new q("invalid-license-key");if(e=="expired")throw new q("license-key-expired");if(e=="domainLimit")throw new q("license-key-domain-limit");if(e=="pluginNotAllowed"){const r=t.replace(/(Editing|UI)$/,""),i=this.plugins.has(r);throw new q("license-key-plugin-not-allowed",null,{pluginName:i?r:t})}if(e=="featureNotAllowed")throw new q("license-key-feature-not-allowed",null,{featureName:t});if(e=="evaluationLimit")throw new q("license-key-evaluation-limit");if(e=="trialLimit")throw new q("license-key-trial-limit");if(e=="developmentLimit")throw new q("license-key-development-limit");if(e=="usageLimit")throw new q("license-key-usage-limit");if(e=="distributionChannel")throw new q("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,t){const r=new Headers({"Content-Type":"application/json"}),i=await fetch(new URL(e),{method:"POST",headers:r,body:JSON.stringify(t)});if(!i.ok)throw new Error(`HTTP Response: ${i.status}`);return i.json()}}function Eve(n){const e=gve(n);function t(r,i){if($B(e,r)!==void 0)throw new q("editor-usage-data-path-already-set",{path:r});B0e(e,r,i)}return n.fire("collectUsageData",{setUsageData:t}),e}function kve(n){class e extends n{sourceElement;updateSourceElement(r){if(!this.sourceElement)throw new q("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!s){ZR(this.sourceElement,"");return}const o=typeof r=="string"?r:this.data.get();ZR(this.sourceElement,o)}}return e}function Tve(n,e){if(e.ckeditorInstance)throw new q("editor-source-element-already-used",n);e.ckeditorInstance=n,n.once("destroy",()=>{delete e.ckeditorInstance})}class Ry extends vv{_actions;static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new sr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new q("pendingactions-add-invalid-message",this);const t=new(qt());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Sve extends qt(){total;_reader;_data;constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((r,i)=>{t.onload=()=>{const s=t.result;this._data=s,r(s)},t.onerror=()=>{i("error")},t.onabort=()=>{i("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class hf extends ee{loaders=new sr;_loadersMap=new Map;_pendingAction=null;static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[Ry]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return It("filerepository-no-upload-adapter"),null;const t=new lO(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(r=>{this._loadersMap.set(r,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let r=0;for(const i of this.loaders)r+=i.uploaded;this.uploaded=r}),t.on("change:uploadTotal",()=>{let r=0;for(const i of this.loaders)i.uploadTotal&&(r+=i.uploadTotal);this.uploadTotal=r}),t}destroyLoader(e){const t=e instanceof lO?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((r,i)=>{r===t&&this._loadersMap.delete(i)})}_updatePendingAction(){const e=this.editor.plugins.get(Ry);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,r=i=>`${t("Upload in progress")} ${parseInt(i)}%.`;this._pendingAction=e.add(r(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",r)}}else e.remove(this._pendingAction),this._pendingAction=null}}class lO extends qt(){id;_filePromiseWrapper;_adapter;_reader;constructor(e,t){super(),this.id=ci(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new Sve,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,i)=>i?r/i*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new q("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new q("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((r,i)=>{t.rejecter=i,t.isFulfilled=!1,e.then(s=>{t.isFulfilled=!0,r(s)}).catch(s=>{t.isFulfilled=!0,i(s)})}),t}}function Cve(n){return Number.isSafeInteger(n)&&n>=0}function Ave(n){return n!=null&&typeof n!="function"&&Cve(n.length)}function Iy(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Nve(n){return n==null||typeof n!="object"&&typeof n!="function"}function Pve(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function Rve(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function Ive(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Ove="[object RegExp]",e9="[object String]",t9="[object Number]",n9="[object Boolean]",r9="[object Arguments]",Mve="[object Symbol]",Dve="[object Date]",Fve="[object Map]",Lve="[object Set]",Bve="[object Array]",Vve="[object ArrayBuffer]",Uve="[object Object]",zve="[object DataView]",Hve="[object Uint8Array]",$ve="[object Uint8ClampedArray]",Wve="[object Uint16Array]",jve="[object Uint32Array]",qve="[object Int8Array]",Gve="[object Int16Array]",Yve="[object Int32Array]",Kve="[object Float32Array]",Xve="[object Float64Array]";function i9(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Jve(n,e){return mf(n,void 0,n,new Map,e)}function mf(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(Nve(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=mf(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,mf(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(mf(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(i9(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=mf(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),Zc(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),Zc(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),Zc(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,Zc(o,n,t,r,i),o}if(typeof n=="object"&&Qve(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),Zc(o,n,t,r,i),o}return n}function Zc(n,e,t=n,r,i){const s=[...Object.keys(e),...Rve(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=mf(e[a],a,t,r,i))}}function Qve(n){switch(Ive(n)){case r9:case Bve:case Vve:case zve:case n9:case Dve:case Kve:case Xve:case qve:case Gve:case Yve:case Fve:case t9:case Uve:case Ove:case Lve:case e9:case Mve:case Hve:case $ve:case Wve:case jve:return!0;default:return!1}}function s9(n,e){return Jve(n,(t,r,i,s)=>{const o=e?.(t,r,i,s);if(o!=null)return o;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case t9:case e9:case n9:{const a=new n.constructor(n?.valueOf());return Zc(a,n),a}case r9:{const a={};return Zc(a,n),a.length=n.length,a[Symbol.iterator]=n[Symbol.iterator],a}default:return}})}function PC(n){return s9(n)}function Zve(n){return typeof n=="object"&&n!==null}function e_e(n){return typeof n=="symbol"||n instanceof Symbol}function t_e(n){return e_e(n)?NaN:Number(n)}function n_e(n){return n?(n=t_e(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}function r_e(n){const e=n_e(n),t=e%1;return t?e-t:e}function i_e(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function a0(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=i_e(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function s_e(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return a0(n,e,{leading:r,trailing:i,maxWait:e})}function o_e(n){return typeof Buffer<"u"&&Buffer.isBuffer(n)}function a_e(n){const e=n?.constructor,t=typeof e=="function"?e.prototype:Object.prototype;return n===t}function l_e(n){return i9(n)}function c_e(n,e){if(n=r_e(n),n<1||!Number.isSafeInteger(n))return[];const t=new Array(n);for(let r=0;r<n;r++)t[r]=typeof e=="function"?e(r):r;return t}function u_e(n){if(n==null)return[];switch(typeof n){case"object":case"function":return Ave(n)?f_e(n):a_e(n)?d_e(n):Oy(n);default:return Oy(Object(n))}}function Oy(n){const e=[];for(const t in n)e.push(t);return e}function d_e(n){return Oy(n).filter(t=>t!=="constructor")}function f_e(n){const e=c_e(n.length,r=>`${r}`),t=new Set(e);return o_e(n)&&(t.add("offset"),t.add("parent")),l_e(n)&&(t.add("buffer"),t.add("byteLength"),t.add("byteOffset")),[...e,...Oy(n).filter(r=>!t.has(r))]}function h_e(n,...e){for(let t=0;t<e.length;t++)m_e(n,e[t]);return n}function m_e(n,e){const t=u_e(e);for(let r=0;r<t.length;r++){const i=t[r];(!(i in n)||!Pve(n[i],e[i]))&&(n[i]=e[i])}}function g_e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function RC(n){return Zve(n)&&n.nodeType===1&&!g_e(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var cO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103z"/><path d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17m0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10" clip-rule="evenodd"/></svg>',p_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.75.75 0 0 1-.511.187.75.75 0 0 1-.511-.187M4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5z"/></svg>',o9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75"/></svg>',a9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75"/></svg>',IC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75"/></svg>',b_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.75 11.875a.75.75 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.75.75 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.75.75 0 0 1-.508.184.75.75 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75"/></svg>',l9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75m0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75m0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75m0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75"/></svg>',y_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.75.75 0 0 1 .511-.187.75.75 0 0 1 .511.187M15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5z"/></svg>',c9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.187 17H5.773q-.956 0-1.364-.415-.41-.416-.409-1.323V4.738q0-.926.419-1.332.418-.405 1.354-.406h4.68q1.035 0 1.793.124.76.124 1.36.478.512.296.906.75a3.26 3.26 0 0 1 .808 2.162q0 2.102-2.167 3.075 2.846.879 2.847 3.421a3.76 3.76 0 0 1-2.296 3.504 6 6 0 0 1-1.517.377q-.857.11-2 .11zm-.217-6.217H7v4.087h3.069q2.965 0 2.965-2.072 0-1.061-.768-1.537-.768-.478-2.296-.478M7 5.13v3.619h2.606q1.093 0 1.69-.2a1.6 1.6 0 0 0 .91-.765q.247-.4.247-.897 0-1.06-.778-1.409-.778-.348-2.375-.348z"/></svg>',OC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75m-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75m6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75m-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75"/></svg>',_v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414z"/></svg>',u9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2"/><path fill-opacity=".6" d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492z"/></svg>',xv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.972 16.615a1 1 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a1 1 0 0 1-.745.292"/></svg>',w_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1m-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1"/></svg>',v_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 9 9 0 0 1-.372.008m-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414M9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415m4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415"/></svg>',__e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0" class="ck-icon__fill"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',x_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7zM0 7h1v2H0zm15 0h1v2h-1zm-8 8h2v1H7z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',E_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m-7 6.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',Ev='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136z"/></svg>',Dk='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',uO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306m-3.4-5.715c.562.305.742 1.106.354 1.494s-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.5 6.5 0 0 1 3.1.784"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0m11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0"/></svg>',k_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m8.38 9.262H7.62L10 5.506zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453z"/></svg>',T_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.4 10.3 10 4.5l-2.4 5.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2"/></svg>',dO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973zm-2.754 2.5L8.038 4.785 5.261 11.5zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663z"/></svg>',fO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.816 11.5 7.038 4.785 4.261 11.5zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825q0-.063.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782q.003.065.003.135z"/></svg>',S_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 9h16v2H2z"/></svg>',C_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1zM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1zm-5.655 6a2.13 2.13 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7"/></svg>',A_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a3 3 0 0 1-.414-.287 3 3 0 0 1-1.055-2.03 3 3 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.13 2.13 0 0 0-1.875-.978"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.8.8 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.8.8 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79"/></svg>',N_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.4 5.4 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023q.675.195 1.307.573l.058.033q.068.042.135.086V2.1c0-.63-.547-1.1-1.2-1.1zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.1 2.1 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.65.65 0 0 0-.096.492.66.66 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.74 1.74 0 0 1 2.478-.463 1.87 1.87 0 0 1 .476 2.55.64.64 0 0 0-.071.5.65.65 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.23 3.23 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.63.63 0 0 0 .092-.475.64.64 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.74 1.74 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.65.65 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.61.61 0 0 0-.845.17"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236z"/></svg>',P_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822zM14 5V2l3.3 3zm-3.692 12.5q.093.157.213.303L11.52 19H8v-.876a2.24 2.24 0 0 0 1.82-.624zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',hO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5M1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',R_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m9.586 14.633.021.004q-.054.502.393.962.123.125.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15q.711-.106 1.005-.334.235-.182.404-.597l2.416-9.55a1.05 1.05 0 0 0-.281-.823 1.1 1.1 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195q-.564.084-.823.296-.323.263-.623.79z"/></svg>',d9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.8.8 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.7.7 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294zm5.494-5.335a.8.8 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.8.8 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955m-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184"/></svg>',I_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4m0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4m0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/></svg>',O_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M5.714 15.11q.935 0 1.46-.66.632-.799.632-2.627 0-1.832-.629-2.624-.527-.668-1.463-.668t-1.459.66q-.633.8-.633 2.619 0 1.854.576 2.577.577.723 1.516.723m0-1.024a.6.6 0 0 1-.398-.14q-.173-.141-.287-.565-.115-.424-.115-1.558c0-1.134.043-1.294.128-1.613q.096-.37.272-.512a.62.62 0 0 1 .4-.143.6.6 0 0 1 .398.143q.173.143.288.567t.114 1.558c0 1.134-.043 1.292-.128 1.608q-.096.37-.272.512a.62.62 0 0 1-.4.143m6.078.914V8.531H10.79q-.21.59-.778 1.03-.567.442-1.05.6v1.121a4.3 4.3 0 0 0 1.595-.936V15zm3.344 0v-1.235h-1.235V15zm-9.422 9.11q.935 0 1.46-.66.632-.799.632-2.627 0-1.833-.629-2.624-.527-.668-1.463-.668t-1.459.66q-.633.8-.633 2.619 0 1.854.576 2.577.577.723 1.516.723m0-1.024a.6.6 0 0 1-.398-.14q-.173-.142-.287-.565-.115-.424-.115-1.558c0-1.134.043-1.294.128-1.613q.096-.37.272-.512a.62.62 0 0 1 .4-.143.6.6 0 0 1 .398.143q.173.142.288.567t.114 1.558c0 1.134-.043 1.292-.128 1.608q-.096.37-.272.512a.62.62 0 0 1-.4.143m7.088.914v-1.147H10.35q.097-.167.253-.343.155-.175.74-.712t.81-.821q.338-.431.493-.824.156-.394.156-.829 0-.765-.544-1.279-.546-.514-1.499-.514-.87 0-1.45.444t-.69 1.463l1.23.124q.036-.54.264-.774t.615-.233q.391 0 .613.222t.222.635q0 .374-.255.756-.189.277-1.024 1.055-1.037.962-1.388 1.544-.352.583-.422 1.233zm2.334 0v-1.235h-1.235V24zM5.714 34.11q.935 0 1.46-.66.632-.799.632-2.627 0-1.832-.629-2.624-.527-.668-1.463-.668t-1.459.66q-.633.8-.633 2.619 0 1.854.576 2.577.577.723 1.516.723m0-1.024a.6.6 0 0 1-.398-.14q-.173-.142-.287-.565-.115-.424-.115-1.558c0-1.134.043-1.294.128-1.613q.096-.37.272-.512a.62.62 0 0 1 .4-.143.6.6 0 0 1 .398.143q.173.142.288.567t.114 1.558c0 1.134-.043 1.292-.128 1.608q-.096.37-.272.512a.62.62 0 0 1-.4.143m4.992 1.024q.924 0 1.543-.598.62-.597.62-1.446 0-.585-.332-.997a1.5 1.5 0 0 0-.886-.532q.927-.505.927-1.353 0-.598-.452-1.073-.55-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.6 1.6 0 0 0-.667.55q-.24.349-.359.933l1.139.194q.048-.422.272-.642t.54-.22q.321 0 .515.194c.194.194.193.302.193.518q0 .383-.264.613-.263.231-.764.218l-.136 1.006q.33-.092.566-.092.36 0 .611.272.25.273.25.739 0 .492-.26.782a.83.83 0 0 1-.644.29.84.84 0 0 1-.607-.242q-.25-.241-.308-.698l-1.195.145q.093.813.668 1.316t1.45.503m4.43-.11v-1.235h-1.235V34z"/></svg>',M_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M10.29 15V8.531H9.286q-.21.59-.778 1.03-.567.442-1.05.6v1.121a4.3 4.3 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15zM11.3 24v-1.147H8.848q.096-.167.252-.343.156-.175.74-.712.585-.536.81-.821.338-.431.494-.824.156-.394.156-.829 0-.765-.545-1.279t-1.499-.514q-.87 0-1.45.444t-.69 1.463l1.23.124q.036-.54.264-.774.23-.233.616-.233.39 0 .613.222t.222.635q0 .374-.255.756-.19.277-1.024 1.055-1.038.962-1.389 1.544T6.971 24zm2.333 0v-1.235h-1.235V24zM9.204 34.11q.922 0 1.542-.598.62-.597.62-1.446 0-.585-.332-.997a1.5 1.5 0 0 0-.886-.532q.928-.505.928-1.353 0-.598-.453-1.073-.549-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.6 1.6 0 0 0-.668.55q-.24.349-.358.933l1.138.194q.048-.422.272-.642t.54-.22q.322 0 .515.194c.193.194.193.302.193.518q0 .383-.263.613-.263.231-.765.218l-.136 1.006q.33-.092.567-.092.36 0 .61.272.251.273.251.739 0 .492-.261.782a.83.83 0 0 1-.644.29.84.84 0 0 1-.607-.242q-.251-.241-.307-.698l-1.196.145q.093.813.668 1.316t1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',D_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6"/></svg>',F_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M9.62 14.105q.408 0 .768-.153c.36-.153.466-.257.677-.462q.013.036.044.145.07.242.119.365h1.221a2.7 2.7 0 0 1-.222-.626q-.06-.293-.059-.908l.013-1.441q0-.804-.165-1.105-.165-.302-.569-.497-.405-.195-1.23-.195-.91 0-1.371.325-.462.325-.65 1.002l1.12.202q.114-.326.299-.455.184-.13.514-.13.488 0 .663.152.176.151.176.508v.123q-.333.14-1.2.303-.641.123-.982.288t-.53.474a1.33 1.33 0 0 0-.188.706q0 .598.415.988.416.391 1.136.391zm.368-.87a.68.68 0 0 1-.492-.189.6.6 0 0 1-.193-.448q0-.263.241-.435.159-.105.673-.215a7 7 0 0 0 .751-.19v.247q0 .443-.048.602a.77.77 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14zM10.2 25.105q.813 0 1.382-.646.57-.645.57-1.84 0-1.156-.559-1.774a1.82 1.82 0 0 0-1.41-.617q-.783 0-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592q.39.2.79.2zm-.299-.975q-.531 0-.852-.492-.23-.348-.229-1.073 0-.703.295-1.048a.93.93 0 0 1 .738-.345q.453 0 .743.354t.29 1.154q0 .751-.288 1.1t-.697.35m4.478.87v-1.235h-1.234V25zm-4.017 9.105q.9 0 1.437-.426.536-.426.725-1.261l-1.213-.207q-.092.489-.316.688a.83.83 0 0 1-.576.2.92.92 0 0 1-.75-.343q-.278-.343-.278-1.173 0-.747.274-1.066.275-.318.736-.318.348 0 .565.184t.28.55l1.216-.22q-.22-.751-.722-1.119-.504-.366-1.356-.366-1.042 0-1.653.643-.61.645-.61 1.8 0 1.143.608 1.788.609.646 1.633.646M14.633 34v-1.235h-1.235V34z"/></svg>',L_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11.88 8.7V7.558h-1.234V8.7zm0 5.3V9.333h-1.234V14zm2.5 0v-1.235h-1.234V14zm-4.75 4.7v-1.142H8.395V18.7zm0 5.3v-4.667H8.395V24zm2.5-5.3v-1.142h-1.234V18.7zm0 5.3v-4.667h-1.234V24zm2.501 0v-1.235h-1.235V24zM7.38 28.7v-1.142H6.145V28.7zm0 5.3v-4.667H6.145V34zm2.5-5.3v-1.142H8.646V28.7zm0 5.3v-4.667H8.646V34zm2.5-5.3v-1.142h-1.234V28.7zm0 5.3v-4.667h-1.234V34zm2.501 0v-1.235h-1.235V34z"/></svg>',B_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M14 27v6H8v-6zm0-9v6H8v-6zm0-9v6H8V9z"/></svg>',V_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15zM9.352 25q1.244-.009 1.569-.044.518-.057.872-.305.354-.249.558-.664t.205-.855q0-.558-.317-.97-.315-.414-.905-.585a1.5 1.5 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83q0-.419-.197-.754a1.65 1.65 0 0 0-.495-.539 1.7 1.7 0 0 0-.672-.266q-.375-.063-1.14-.063H7.158V25zm.142-3.88H8.46v-1.49h.747q.918 0 1.112.022.325.04.49.226.165.188.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 12 12 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05q.888 0 1.154.092.266.093.406.295a.84.84 0 0 1 .14.492q0 .342-.181.547a.8.8 0 0 1-.473.257q-.189.04-.892.04M14.88 25v-1.235h-1.234V25zm-5.018 9.11q1.037 0 1.711-.512t.965-1.567l-1.261-.4q-.163.708-.536 1.037-.375.33-.892.33-.704 0-1.143-.519-.44-.518-.44-1.74 0-1.15.447-1.665.445-.514 1.162-.514.52 0 .881.29.362.29.477.79l1.288-.307q-.22-.774-.66-1.187-.738-.698-1.92-.698-1.353 0-2.184.89-.83.89-.83 2.498 0 1.521.825 2.397.826.877 2.11.877M14.88 34v-1.235h-1.234V34z"/></svg>',U_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11.916 15V8.558h-1.301V15zm2.465 0v-1.235h-1.235V15zM9.665 25v-6.442h-1.3V25zm2.5 0v-6.442h-1.3V25zm2.466 0v-1.235h-1.235V25zm-7.216 9v-6.442h-1.3V34zm2.5 0v-6.442h-1.3V34zm2.501 0v-6.442h-1.3V34zm2.465 0v-1.235h-1.235V34z"/></svg>',z_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z" class="ck-icon__fill"/><path d="m2.556 16.727.234-.348q-.445-.226-.498-.426-.054-.206.115-.837.14-.375.169-.595a4.5 4.5 0 0 0 0-.725q-.313-.931-.284-1.26.03-.327.475-.862l6.77-9.414q.808-1.365 3.199.18 2.39 1.549 1.784 2.686l-5.877 10.36q-.237.618-.526.782-.29.163-1.232.21-.543.196-.738.318t-.526.47q-.44.397-.632.397-.143 0-.524-.226l-.31.41zm-.279.415 1.575 1.103-.392.515H1.19zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574q.263-.375-1.092-1.192-1.354-.819-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5z"/></svg>',f9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382z"/></svg>',MC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M3.5 3v5H2V3.7H1v-1h2.5zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001q-.073.607-.333.988-.263.381-1.244 1.312H4.3v1h-4zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75"/></svg>',My='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H6.5V12h6.997z"/></svg>',H_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1m-1.505.5H3.504V12h12.991z"/></svg>',DC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z" opacity=".5"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H3.5V12h6.997z"/></svg>',Dy='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z" opacity=".5"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H9.5V12h6.997z"/></svg>',h9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z" opacity=".5"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H3.5V12h6.997z"/></svg>',m9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H3.5V12h6.997z"/></svg>',g9='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H9.5V12h6.997z"/></svg>',$_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95zm.55 3.5v-2h2v2zm0 9.3v2h2v-2zm15-11.3v2h2v-2zM8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046zm11.421-9.101a.6.6 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.6.6 0 0 1 .206-.138.6.6 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243"/></svg>',W_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15.5v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm0-2v1h-1v-1zm-19 0v1H0v-1zM14.5 2v1h-1V2zm2 0v1h-1V2zm2 0v1h-1V2zm-8 0v1h-1V2zm-2 0v1h-1V2zm-2 0v1h-1V2zm-2 0v1h-1V2zm8 0v1h-1V2zm-10 0v1h-1V2z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2m0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.49.49 0 0 1-.476-.5V4c0-.276.213-.5.476-.5z"/></svg>',j_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 16.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15v1H0v-1zm19 0v1h-1v-1zM1 13v1H0v-1zm19 0v1h-1v-1zM1 11v1H0v-1zm19 0v1h-1v-1zM1 9v1H0V9zm19 0v1h-1V9zM1 7v1H0V7zm19 0v1h-1V7zM1 5v1H0V5zm19 0v1h-1V5zm0-2v1h-1V3zM1 3v1H0V3zm13.5-1.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm-8 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm8 0v1h-1v-1zm-10 0v1h-1v-1z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2M13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7z"/></svg>',q_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 16.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15v1H0v-1zm19 0v1h-1v-1zM1 13v1H0v-1zm19 0v1h-1v-1zM1 11v1H0v-1zm19 0v1h-1v-1zM1 9v1H0V9zm19 0v1h-1V9zM1 7v1H0V7zm19 0v1h-1V7zM1 5v1H0V5zm19 0v1h-1V5zm0-2v1h-1V3zM1 3v1H0V3zm13.5-1.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm-8 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm8 0v1h-1v-1zm-10 0v1h-1v-1z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2M10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9z"/></svg>',G_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 16.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15v1H0v-1zm19 0v1h-1v-1zM1 13v1H0v-1zm19 0v1h-1v-1zM1 11v1H0v-1zm19 0v1h-1v-1zM1 9v1H0V9zm19 0v1h-1V9zM1 7v1H0V7zm19 0v1h-1V7zM1 5v1H0V5zm19 0v1h-1V5zm0-2v1h-1V3zM1 3v1H0V3zm13.5-1.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm-8 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm8 0v1h-1v-1zm-10 0v1h-1v-1z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2M7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11z"/></svg>',mO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5m1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',Y_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5M5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1"/></svg>',K_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m7.3 17.37-.061.088a1.52 1.52 0 0 1-.934.535l-4.178.663-.806-4.153a1.5 1.5 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346zM6.07 16.512l-3.276-2.295.53 2.73zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328M8 18.5 9.375 17H19v1.5z"/></svg>',X_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568z" class="ck-icon__fill"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97q.249-.348.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005zm-.634.166-1.976.516-.026-1.918zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349M8.245 18.5 9.59 17h9.406v1.5z"/></svg>',J_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4"/></svg>',Q_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1"/></svg>',uc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',Z_e=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,exe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003z"/></svg>',gO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.75.75 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.8.8 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032z"/></svg>',txe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8.69 14.915q.08.078.36.093a.366.366 0 0 1 .345.485l-.003.01a.74.74 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.68.68 0 0 1 .644-.458q.295-.018.386-.093a.3.3 0 0 0 .072-.11L9.592 4.5H6.269q-.538-.026-.75.09-.213.117-.442.563c-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486q.002-.426-.167-.54-.168-.114-.766-.091h-3.28l-2.68 10.257q-.009.111.038.158M3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1m11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',nxe='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',rxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75m18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75m-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2z"/></svg>',ixe=`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.734 6.375H1.75a.75.75 0 0 1 0-1.5h1.984a2.626 2.626 0 0 1 5.032 0h9.48a.75.75 0 0 1 0 1.5h-9.48a2.626 2.626 0 0 1-5.032 0Zm1.141-.75a1.375 1.375 0 1 1 2.75 0 1.375 1.375 0 0 1-2.75 0ZM16.263 14.625h1.983a.75.75 0 0 1 0 1.5h-1.983a2.626 2.626 0 0 1-5.033 0H1.75a.75.75 0 0 1 0-1.5h9.48a2.626 2.626 0 0 1 5.033 0Zm-1.142.75a1.375 1.375 0 1 1-2.75 0 1.375 1.375 0 0 1 2.75 0Z"/></svg>
`,sxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.27 7.27 0 0 1 2.703 3.454 7.13 7.13 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.87.87 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.6 5.6 0 0 0 2.492-2.371 5.46 5.46 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.7 5.7 0 0 0 10 4.206 5.7 5.7 0 0 0 6.419 5.46 5.53 5.53 0 0 0 4.46 8.663a5.46 5.46 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.88.88 0 0 1-.614-.25.85.85 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.13 7.13 0 0 1 .199-4.352 7.27 7.27 0 0 1 2.703-3.455A7.5 7.5 0 0 1 10 2.5"/></svg>',oxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6M6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',axe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53zm8.147 7.829h2.549q.38 0 .58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393q-.158.162-.48.162h-3.594q-.367 0-.572-.197a.62.62 0 0 1-.205-.463q0-.171.132-.453a1.6 1.6 0 0 1 .288-.444q.65-.654 1.172-1.122t.747-.615q.401-.275.667-.553t.405-.57.139-.57a1.01 1.01 0 0 0-.554-.917 1.2 1.2 0 0 0-.56-.133q-.639 0-1.005.546a2.3 2.3 0 0 0-.164.39 1.6 1.6 0 0 1-.258.488q-.144.17-.423.17a.56.56 0 0 1-.405-.156.57.57 0 0 1-.161-.427q0-.327.151-.683.152-.357.452-.646c.3-.289.454-.349.762-.467a3 3 0 0 1 1.081-.178q.747 0 1.274.228a1.92 1.92 0 0 1 1.004 1.032 1.98 1.98 0 0 1-.156 1.794q-.3.48-.613.754-.312.273-1.048.857-.735.584-1.008.906a3 3 0 0 0-.24.309z"/></svg>',lxe='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="m7.184 10.353 3.818-3.819a.8.8 0 0 1 1.132 1.132l-3.82 3.818 3.82 3.818a.802.802 0 0 1-.873 1.306.8.8 0 0 1-.26-.174l-3.817-3.82-3.818 3.82a.8.8 0 0 1-1.305-.26.8.8 0 0 1 .173-.872l3.82-3.818-3.82-3.818a.8.8 0 0 1 1.132-1.132l3.818 3.82M15.68 6.88h2.549q.38 0 .58.153a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393q-.158.162-.48.162h-3.594q-.367 0-.572-.197A.62.62 0 0 1 14 7.34q0-.171.132-.453a1.6 1.6 0 0 1 .288-.444q.65-.654 1.172-1.122t.747-.615q.401-.275.667-.553.266-.277.405-.57.14-.291.139-.57a1.01 1.01 0 0 0-.554-.917 1.2 1.2 0 0 0-.56-.133q-.639 0-1.005.546a2.3 2.3 0 0 0-.164.39 1.6 1.6 0 0 1-.258.488q-.144.17-.423.17a.56.56 0 0 1-.405-.156.57.57 0 0 1-.161-.427q0-.327.151-.683.152-.357.452-.646t.762-.467A3 3 0 0 1 16.466 1q.747 0 1.274.228c.456.2.816.57 1.004 1.032a1.99 1.99 0 0 1-.156 1.794q-.3.48-.613.754-.312.273-1.048.857-.735.583-1.008.906-.131.146-.24.309z"/></svg>',cxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5zM2 12h5V8H2zm10-4H8v4h4zM2 2v5h5V2zm0 16h5v-5H2zM13 7h5V2h-5zM8 2v5h4V2z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43zM13 6a1 1 0 0 1 1 1v3.172a2 2 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.98 1.98 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm-1 2H8v4h4z"/></svg>',uxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1M2 2v16h16V2z" opacity=".6"/><path d="M18 7v1H2V7zm0 5v1H2v-1z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1m-2 1H8v4h4zm0 6H8v4h4zm0 6H8v4h4z"/></svg>',dxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1M2 2v16h16V2z" opacity=".6"/><path d="M7 2h1v16H7zm5 0h1v7h-1zm6 5v1H2V7zM8 12v1H2v-1z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1m1 2v9h10V9z"/></svg>',fxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2zm4 6H8v4h4z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2 2 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2z"/></svg>',hxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1M2 2v16h16V2z" opacity=".6"/><path d="M7 2h1v16H7zm5 0h1v16h-1z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1m1 2v4h4V8zm6 0v4h4V8zm6 0v4h4V8z"/></svg>',pO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 5.5v3h4v-3zm0 4v3h4v-3zm0 4v3h4v-3zm5 3h4v-3H8zm5 0h4v-3h-4zm4-4v-3h-4v3zm0-4v-3h-4v3zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5zm-6.5-4v-3H8v3zm0-4v-3H8v3z"/></svg>',mxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1zm10.453 2.61a1.89 1.89 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.9 1.9 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598M7.463 8.163a.6.6 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.63.63 0 0 0-.417-.185m6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.62.62 0 0 0-.42-.165M.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.91.91 0 0 0-.912-.912zM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516zm4.947 0h1.801v4.3h2.7v1.4h-4.5zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9zm-8.517 1.457-.614 2.059h1.262z"/></svg>',gxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.816 11.5 7.038 4.785 4.261 11.5zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254z"/></svg>',FC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',pxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m2.315 14.705 2.224-2.24a.69.69 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.7.7 0 0 1-.112.089.65.65 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75M2.329 5.745l2.21-2.226a.69.69 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.7.7 0 0 1-.496.196.64.64 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75"/></svg>',bxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8s3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4"/></svg>',bO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.75.75 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.8.8 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032z"/></svg>',yxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.8.8 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.7.7 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294zm5.494-5.335a.8.8 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.8.8 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955m-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184m4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06z"/></svg>';const Fk={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const n in Fk)Object.freeze(Fk[n]);const yO=Object.freeze(Fk);var wO={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function vO(n){var e,t=[],r=1,i;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),yO[n])t=yO[n].slice(),i="rgb";else if(n==="transparent")r=0,i="rgb",t=[0,0,0];else if(n[0]==="#"){var s=n.slice(1),o=s.length,a=o<=4;r=1,a?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(r=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(r=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),i="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var l=e[1];i=l.replace(/a$/,"");var u=i==="cmyk"?4:i==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),i==="color"&&(i=t.shift()),t=t.map(function(f,m){if(f[f.length-1]==="%")return f=parseFloat(f)/100,m===3?f:i==="rgb"?f*255:i[0]==="h"||i[0]==="l"&&!m?f*100:i==="lab"?f*125:i==="lch"?m<2?f*150:f*360:i[0]==="o"&&!m?f:i==="oklab"?f*.4:i==="oklch"?m<2?f*.4:f*360:f;if(i[m]==="h"||m===2&&i[i.length-1]==="h"){if(wO[f]!==void 0)return wO[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),r=t.length>u?t.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),i=n.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:i,values:t,alpha:r}}const Lk={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const n in Lk)Object.freeze(Lk[n]);const l0=Object.freeze(Lk),p9={};for(const n of Object.keys(l0))p9[l0[n]]=n;const Ke={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Za=(6/29)**3;function Of(n){const e=n>.0031308?1.055*n**.4166666666666667-.055:n*12.92;return Math.min(Math.max(0,e),1)}function Mf(n){return n>.04045?((n+.055)/1.055)**2.4:n/12.92}for(const n of Object.keys(Ke)){if(!("channels"in Ke[n]))throw new Error("missing channels property: "+n);if(!("labels"in Ke[n]))throw new Error("missing channel labels property: "+n);if(Ke[n].labels.length!==Ke[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:e,labels:t}=Ke[n];delete Ke[n].channels,delete Ke[n].labels,Object.defineProperty(Ke[n],"channels",{value:e}),Object.defineProperty(Ke[n],"labels",{value:t})}Ke.rgb.hsl=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=s-i;let a,l;switch(s){case i:{a=0;break}case e:{a=(t-r)/o;break}case t:{a=2+(r-e)/o;break}case r:{a=4+(e-t)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const u=(i+s)/2;return s===i?l=0:u<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,u*100]};Ke.rgb.hsv=function(n){let e,t,r,i,s;const o=n[0]/255,a=n[1]/255,l=n[2]/255,u=Math.max(o,a,l),f=u-Math.min(o,a,l),m=function(p){return(u-p)/6/f+1/2};if(f===0)i=0,s=0;else{switch(s=f/u,e=m(o),t=m(a),r=m(l),u){case o:{i=r-t;break}case a:{i=1/3+e-r;break}case l:{i=2/3+t-e;break}}i<0?i+=1:i>1&&(i-=1)}return[i*360,s*100,u*100]};Ke.rgb.hwb=function(n){const e=n[0],t=n[1];let r=n[2];const i=Ke.rgb.hsl(n)[0],s=1/255*Math.min(e,Math.min(t,r));return r=1-1/255*Math.max(e,Math.max(t,r)),[i,s*100,r*100]};Ke.rgb.oklab=function(n){const e=Mf(n[0]/255),t=Mf(n[1]/255),r=Mf(n[2]/255),i=Math.cbrt(.4122214708*e+.5363325363*t+.0514459929*r),s=Math.cbrt(.2119034982*e+.6806995451*t+.1073969566*r),o=Math.cbrt(.0883024619*e+.2817188376*t+.6299787005*r),a=.2104542553*i+.793617785*s-.0040720468*o,l=1.9779984951*i-2.428592205*s+.4505937099*o,u=.0259040371*i+.7827717662*s-.808675766*o;return[a*100,l*100,u*100]};Ke.rgb.cmyk=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(1-e,1-t,1-r),s=(1-e-i)/(1-i)||0,o=(1-t-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function wxe(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}Ke.rgb.keyword=function(n){const e=p9[n];if(e)return e;let t=Number.POSITIVE_INFINITY,r;for(const i of Object.keys(l0)){const s=l0[i],o=wxe(n,s);o<t&&(t=o,r=i)}return r};Ke.keyword.rgb=function(n){return l0[n]};Ke.rgb.xyz=function(n){const e=Mf(n[0]/255),t=Mf(n[1]/255),r=Mf(n[2]/255),i=e*.4124564+t*.3575761+r*.1804375,s=e*.2126729+t*.7151522+r*.072175,o=e*.0193339+t*.119192+r*.9503041;return[i*100,s*100,o*100]};Ke.rgb.lab=function(n){const e=Ke.rgb.xyz(n);let t=e[0],r=e[1],i=e[2];t/=95.047,r/=100,i/=108.883,t=t>Za?t**(1/3):7.787*t+16/116,r=r>Za?r**(1/3):7.787*r+16/116,i=i>Za?i**(1/3):7.787*i+16/116;const s=116*r-16,o=500*(t-r),a=200*(r-i);return[s,o,a]};Ke.hsl.rgb=function(n){const e=n[0]/360,t=n[1]/100,r=n[2]/100;let i,s;if(t===0)return s=r*255,[s,s,s];const o=r<.5?r*(1+t):r+t-r*t,a=2*r-o,l=[0,0,0];for(let u=0;u<3;u++)i=e+1/3*-(u-1),i<0&&i++,i>1&&i--,6*i<1?s=a+(o-a)*6*i:2*i<1?s=o:3*i<2?s=a+(o-a)*(2/3-i)*6:s=a,l[u]=s*255;return l};Ke.hsl.hsv=function(n){const e=n[0];let t=n[1]/100,r=n[2]/100,i=t;const s=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,i*=s<=1?s:2-s;const o=(r+t)/2,a=r===0?2*i/(s+i):2*t/(r+t);return[e,a*100,o*100]};Ke.hsv.rgb=function(n){const e=n[0]/60,t=n[1]/100;let r=n[2]/100;const i=Math.floor(e)%6,s=e-Math.floor(e),o=255*r*(1-t),a=255*r*(1-t*s),l=255*r*(1-t*(1-s));switch(r*=255,i){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};Ke.hsv.hsl=function(n){const e=n[0],t=n[1]/100,r=n[2]/100,i=Math.max(r,.01);let s,o;o=(2-t)*r;const a=(2-t)*i;return s=t*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};Ke.hwb.rgb=function(n){const e=n[0]/360;let t=n[1]/100,r=n[2]/100;const i=t+r;let s;i>1&&(t/=i,r/=i);const o=Math.floor(6*e),a=1-r;s=6*e-o,(o&1)!==0&&(s=1-s);const l=t+s*(a-t);let u,f,m;switch(o){default:case 6:case 0:{u=a,f=l,m=t;break}case 1:{u=l,f=a,m=t;break}case 2:{u=t,f=a,m=l;break}case 3:{u=t,f=l,m=a;break}case 4:{u=l,f=t,m=a;break}case 5:{u=a,f=t,m=l;break}}return[u*255,f*255,m*255]};Ke.cmyk.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=n[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[s*255,o*255,a*255]};Ke.xyz.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100;let i,s,o;return i=e*3.2404542+t*-1.5371385+r*-.4985314,s=e*-.969266+t*1.8760108+r*.041556,o=e*.0556434+t*-.2040259+r*1.0572252,i=Of(i),s=Of(s),o=Of(o),[i*255,s*255,o*255]};Ke.xyz.lab=function(n){let e=n[0],t=n[1],r=n[2];e/=95.047,t/=100,r/=108.883,e=e>Za?e**(1/3):7.787*e+16/116,t=t>Za?t**(1/3):7.787*t+16/116,r=r>Za?r**(1/3):7.787*r+16/116;const i=116*t-16,s=500*(e-t),o=200*(t-r);return[i,s,o]};Ke.xyz.oklab=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=Math.cbrt(.8189330101*e+.3618667424*t-.1288597137*r),s=Math.cbrt(.0329845436*e+.9293118715*t+.0361456387*r),o=Math.cbrt(.0482003018*e+.2643662691*t+.633851707*r),a=.2104542553*i+.793617785*s-.0040720468*o,l=1.9779984951*i-2.428592205*s+.4505937099*o,u=.0259040371*i+.7827717662*s-.808675766*o;return[a*100,l*100,u*100]};Ke.oklab.oklch=function(n){return Ke.lab.lch(n)};Ke.oklab.xyz=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=(.999999998*e+.396337792*t+.215803758*r)**3,s=(1.000000008*e-.105561342*t-.063854175*r)**3,o=(1.000000055*e-.089484182*t-1.291485538*r)**3,a=1.227013851*i-.55779998*s+.281256149*o,l=-.040580178*i+1.11225687*s-.071676679*o,u=-.076381285*i-.421481978*s+1.58616322*o;return[a*100,l*100,u*100]};Ke.oklab.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=(e+.3963377774*t+.2158037573*r)**3,s=(e-.1055613458*t-.0638541728*r)**3,o=(e-.0894841775*t-1.291485548*r)**3,a=Of(4.0767416621*i-3.3077115913*s+.2309699292*o),l=Of(-1.2684380046*i+2.6097574011*s-.3413193965*o),u=Of(-.0041960863*i-.7034186147*s+1.707614701*o);return[a*255,l*255,u*255]};Ke.oklch.oklab=function(n){return Ke.lch.lab(n)};Ke.lab.xyz=function(n){const e=n[0],t=n[1],r=n[2];let i,s,o;s=(e+16)/116,i=t/500+s,o=s-r/200;const a=s**3,l=i**3,u=o**3;return s=a>Za?a:(s-16/116)/7.787,i=l>Za?l:(i-16/116)/7.787,o=u>Za?u:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};Ke.lab.lch=function(n){const e=n[0],t=n[1],r=n[2];let i;i=Math.atan2(r,t)*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(t*t+r*r);return[e,o,i]};Ke.lch.lab=function(n){const e=n[0],t=n[1],i=n[2]/360*2*Math.PI,s=t*Math.cos(i),o=t*Math.sin(i);return[e,s,o]};Ke.rgb.ansi16=function(n,e=null){const[t,r,i]=n;let s=e===null?Ke.rgb.hsv(n)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return s===2&&(o+=60),o};Ke.hsv.ansi16=function(n){return Ke.rgb.ansi16(Ke.hsv.rgb(n),n[2])};Ke.rgb.ansi256=function(n){const e=n[0],t=n[1],r=n[2];return e>>4===t>>4&&t>>4===r>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)};Ke.ansi16.rgb=function(n){n=n[0];let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(Math.trunc(n>50)+1)*.5,r=(e&1)*t*255,i=(e>>1&1)*t*255,s=(e>>2&1)*t*255;return[r,i,s]};Ke.ansi256.rgb=function(n){if(n=n[0],n>=232){const s=(n-232)*10+8;return[s,s,s]}n-=16;let e;const t=Math.floor(n/36)/5*255,r=Math.floor((e=n%36)/6)/5*255,i=e%6/5*255;return[t,r,i]};Ke.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};Ke.hex.rgb=function(n){const e=n.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=[...t].map(a=>a+a).join(""));const r=Number.parseInt(t,16),i=r>>16&255,s=r>>8&255,o=r&255;return[i,s,o]};Ke.rgb.hcg=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(Math.max(e,t),r),s=Math.min(Math.min(e,t),r),o=i-s;let a;const l=o<1?s/(1-o):0;return o<=0?a=0:i===e?a=(t-r)/o%6:i===t?a=2+(r-e)/o:a=4+(e-t)/o,a/=6,a%=1,[a*360,o*100,l*100]};Ke.hsl.hcg=function(n){const e=n[1]/100,t=n[2]/100,r=t<.5?2*e*t:2*e*(1-t);let i=0;return r<1&&(i=(t-.5*r)/(1-r)),[n[0],r*100,i*100]};Ke.hsv.hcg=function(n){const e=n[1]/100,t=n[2]/100,r=e*t;let i=0;return r<1&&(i=(t-r)/(1-r)),[n[0],r*100,i*100]};Ke.hcg.rgb=function(n){const e=n[0]/360,t=n[1]/100,r=n[2]/100;if(t===0)return[r*255,r*255,r*255];const i=[0,0,0],s=e%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:{i[0]=1,i[1]=o,i[2]=0;break}case 1:{i[0]=a,i[1]=1,i[2]=0;break}case 2:{i[0]=0,i[1]=1,i[2]=o;break}case 3:{i[0]=0,i[1]=a,i[2]=1;break}case 4:{i[0]=o,i[1]=0,i[2]=1;break}default:i[0]=1,i[1]=0,i[2]=a}return l=(1-t)*r,[(t*i[0]+l)*255,(t*i[1]+l)*255,(t*i[2]+l)*255]};Ke.hcg.hsv=function(n){const e=n[1]/100,t=n[2]/100,r=e+t*(1-e);let i=0;return r>0&&(i=e/r),[n[0],i*100,r*100]};Ke.hcg.hsl=function(n){const e=n[1]/100,r=n[2]/100*(1-e)+.5*e;let i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[n[0],i*100,r*100]};Ke.hcg.hwb=function(n){const e=n[1]/100,t=n[2]/100,r=e+t*(1-e);return[n[0],(r-e)*100,(1-r)*100]};Ke.hwb.hcg=function(n){const e=n[1]/100,r=1-n[2]/100,i=r-e;let s=0;return i<1&&(s=(r-i)/(1-i)),[n[0],i*100,s*100]};Ke.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};Ke.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};Ke.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};Ke.gray.hsl=function(n){return[0,0,n[0]]};Ke.gray.hsv=Ke.gray.hsl;Ke.gray.hwb=function(n){return[0,100,n[0]]};Ke.gray.cmyk=function(n){return[0,0,0,n[0]]};Ke.gray.lab=function(n){return[n[0],0,0]};Ke.gray.hex=function(n){const e=Math.round(n[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(r.length)+r};Ke.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};function vxe(){const n={},e=Object.keys(Ke);for(let{length:t}=e,r=0;r<t;r++)n[e[r]]={distance:-1,parent:null};return n}function _xe(n){const e=vxe(),t=[n];for(e[n].distance=0;t.length>0;){const r=t.pop(),i=Object.keys(Ke[r]);for(let{length:s}=i,o=0;o<s;o++){const a=i[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,t.unshift(a))}}return e}function xxe(n,e){return function(t){return e(n(t))}}function Exe(n,e){const t=[e[n].parent,n];let r=Ke[e[n].parent][n],i=e[n].parent;for(;e[i].parent;)t.unshift(e[i].parent),r=xxe(Ke[e[i].parent][i],r),i=e[i].parent;return r.conversion=t,r}function kxe(n){const e=_xe(n),t={},r=Object.keys(e);for(let{length:i}=r,s=0;s<i;s++){const o=r[s];e[o].parent!==null&&(t[o]=Exe(o,e))}return t}const eu={},Txe=Object.keys(Ke);function Sxe(n){const e=function(...t){const r=t[0];return r==null?r:(r.length>1&&(t=r),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function Cxe(n){const e=function(...t){const r=t[0];if(r==null)return r;r.length>1&&(t=r);const i=n(t);if(typeof i=="object")for(let{length:s}=i,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in n&&(e.conversion=n.conversion),e}for(const n of Txe){eu[n]={},Object.defineProperty(eu[n],"channels",{value:Ke[n].channels}),Object.defineProperty(eu[n],"labels",{value:Ke[n].labels});const e=kxe(n),t=Object.keys(e);for(const r of t){const i=e[r];eu[n][r]=Cxe(i),eu[n][r].raw=Sxe(i)}}const c0=(n,e=0,t=1)=>n>t?t:n<e?e:n,Gr=(n,e=0,t=Math.pow(10,e))=>Math.round(t*n)/t,Axe=n=>Oxe(Bk(n)),Bk=n=>(n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Gr(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?Gr(parseInt(n.substring(6,8),16)/255,2):1}),Nxe=n=>Ixe(Rxe(n)),Pxe=({h:n,s:e,v:t,a:r})=>{const i=(200-e)*t/100;return{h:Gr(n),s:Gr(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:Gr(i/2),a:Gr(r,2)}},Vk=n=>{const{h:e,s:t,l:r}=Pxe(n);return`hsl(${e}, ${t}%, ${r}%)`},Rxe=({h:n,s:e,v:t,a:r})=>{n=n/360*6,e=e/100,t=t/100;const i=Math.floor(n),s=t*(1-e),o=t*(1-(n-i)*e),a=t*(1-(1-n+i)*e),l=i%6;return{r:Gr([t,o,s,s,a,t][l]*255),g:Gr([a,t,t,o,s,s][l]*255),b:Gr([s,s,a,t,t,o][l]*255),a:Gr(r,2)}},H1=n=>{const e=n.toString(16);return e.length<2?"0"+e:e},Ixe=({r:n,g:e,b:t,a:r})=>{const i=r<1?H1(Gr(r*255)):"";return"#"+H1(n)+H1(e)+H1(t)+i},Oxe=({r:n,g:e,b:t,a:r})=>{const i=Math.max(n,e,t),s=i-Math.min(n,e,t),o=s?i===n?(e-t)/s:i===e?2+(t-n)/s:4+(n-e)/s:0;return{h:Gr(60*(o<0?o+6:o)),s:Gr(i?s/i*100:0),v:Gr(i/255*100),a:r}},b9=(n,e)=>{if(n===e)return!0;for(const t in n)if(n[t]!==e[t])return!1;return!0},Mxe=(n,e)=>n.toLowerCase()===e.toLowerCase()?!0:b9(Bk(n),Bk(e)),_O={},y9=n=>{let e=_O[n];return e||(e=document.createElement("template"),e.innerHTML=n,_O[n]=e),e},LC=(n,e,t)=>{n.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let Df=!1;const Uk=n=>"touches"in n,Dxe=n=>Df&&!Uk(n)?!1:(Df||(Df=Uk(n)),!0),xO=(n,e)=>{const t=Uk(e)?e.touches[0]:e,r=n.el.getBoundingClientRect();LC(n.el,"move",n.getMove({x:c0((t.pageX-(r.left+window.pageXOffset))/r.width),y:c0((t.pageY-(r.top+window.pageYOffset))/r.height)}))},Fxe=(n,e)=>{const t=e.keyCode;t>40||n.xy&&t<37||t<33||(e.preventDefault(),LC(n.el,"move",n.getMove({x:t===39?.01:t===37?-.01:t===34?.05:t===33?-.05:t===35?1:t===36?-1:0,y:t===40?.01:t===38?-.01:0},!0)))};class w9{constructor(e,t,r,i){const s=y9(`<div role="slider" tabindex="0" part="${t}" ${r}><div part="${t}-pointer"></div></div>`);e.appendChild(s.content.cloneNode(!0));const o=e.querySelector(`[part=${t}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=i,this.nodes=[o.firstChild,o]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(Df?"touchmove":"mousemove",this),t(Df?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!Dxe(e)||!Df&&e.button!=0)return;this.el.focus(),xO(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),xO(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":Fxe(this,e);break}}style(e){e.forEach((t,r)=>{for(const i in t)this.nodes[r].style.setProperty(i,t[i])})}}class Lxe extends w9{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:Vk({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Gr(e)}`)}getMove(e,t){return{h:t?c0(this.h+e.x*360,0,360):360*e.x}}}class Bxe extends w9{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:Vk(e)},{"background-color":Vk({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Gr(e.s)}%, Brightness ${Gr(e.v)}%`)}getMove(e,t){return{s:t?c0(this.hsva.s+e.x*100,0,100):e.x*100,v:t?c0(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const Vxe=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',Uxe="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",zxe="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",$1=Symbol("same"),Q2=Symbol("color"),EO=Symbol("hsva"),Z2=Symbol("update"),kO=Symbol("parts"),TO=Symbol("css"),SO=Symbol("sliders");class Hxe extends HTMLElement{static get observedAttributes(){return["color"]}get[TO](){return[Vxe,Uxe,zxe]}get[SO](){return[Bxe,Lxe]}get color(){return this[Q2]}set color(e){if(!this[$1](e)){const t=this.colorModel.toHsva(e);this[Z2](t),this[Q2]=e}}constructor(){super();const e=y9(`<style>${this[TO].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[kO]=this[SO].map(r=>new r(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,r){const i=this.colorModel.fromAttr(r);this[$1](i)||(this.color=i)}handleEvent(e){const t=this[EO],r={...t,...e.detail};this[Z2](r);let i;!b9(r,t)&&!this[$1](i=this.colorModel.fromHsva(r))&&(this[Q2]=i,LC(this,"color-changed",{value:i}))}[$1](e){return this.color&&this.colorModel.equal(e,this.color)}[Z2](e){this[EO]=e,this[kO].forEach(t=>t.update(e))}}const $xe={defaultColor:"#000",toHsva:Axe,fromHsva:({h:n,s:e,v:t})=>Nxe({h:n,s:e,v:t,a:1}),equal:Mxe,fromAttr:n=>n};class Wxe extends Hxe{get colorModel(){return $xe}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class pr extends sr{_parentElement;constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,r,i)=>{this._renderViewIntoCollectionParent(r,i)}),this.on("remove",(t,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!jxe(e))throw new q("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const r of this)for(const i of e)r.delegate(i).to(t);this.on("add",(r,i)=>{for(const s of e)i.delegate(s).to(t)}),this.on("remove",(r,i)=>{for(const s of e)i.stopDelegating(s,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function jxe(n){return n.every(e=>typeof e=="string")}const qxe="http://www.w3.org/1999/xhtml";class wo extends an(){ns;tag;text;attributes;children;eventListeners;_isRendered;_revertData;constructor(e){super(),Object.assign(this,AO(CO(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=RO(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new q("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const r of t.children)Fy(r)?yield r:BC(r)&&(yield*e(r))}yield*e(this)}static bind(e,t){return{to(r,i){return new Gxe({eventNameOrFunction:r,attribute:r,observable:e,emitter:t,callback:i})},if(r,i,s){return new v9({observable:e,emitter:t,attribute:r,valueIfTrue:i,callback:s})}}}static extend(e,t){if(e._isRendered)throw new q("template-extend-render",[this,e]);k9(e,AO(CO(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new q("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||qxe,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Nb(this.text)?this._bindToObservable({schema:this.text,updater:Kxe(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,r=e.revertData;for(const i in this.attributes){const s=t.getAttribute(i),o=this.attributes[i];r&&(r.attributes[i]=s);const a=PO(o)?o[0].ns:null;if(Nb(o)){const l=PO(o)?o[0].value:o;r&&IO(i)&&l.unshift(s),this._bindToObservable({schema:l,updater:Xxe(t,i,a),data:e})}else if(i=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{r&&s&&IO(i)&&o.unshift(s);const l=o.map(u=>u&&(u.value||u)).reduce((u,f)=>u.concat(f),[]).reduce(E9,"");Wf(l)||t.setAttributeNS(a,i,l)}}}_renderStyleAttribute(e,t){const r=t.node;for(const i in e){const s=e[i];Nb(s)?this._bindToObservable({schema:[s],updater:Jxe(r,i),data:t}):zk(i)?r.style.setProperty(i,s):r.style[i]=s}}_renderElementChildren(e){const t=e.node,r=e.intoFragment?document.createDocumentFragment():t,i=e.isApplying;let s=0;for(const o of this.children)if(VC(o)){if(!i){o.setParent(t);for(const a of o)r.appendChild(a.element)}}else if(Fy(o))i||(o.isRendered||o.render(),r.appendChild(o.element));else if(cc(o))r.appendChild(o);else if(i){const a=e.revertData,l=RO();a.children.push(l),o._renderNode({intoFragment:!1,node:r.childNodes[s++],isApplying:!0,revertData:l})}else r.appendChild(o.render());e.intoFragment&&t.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const r=this.eventListeners[t].map(i=>{const[s,o]=t.split("@");return i.activateDomEventListener(s,o,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:t,data:r}){const i=r.revertData;_9(e,t,r);const s=e.filter(o=>!Wf(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,t,r));i&&i.bindings.push(s)}_revertTemplateFromNode(e,t){for(const i of t.bindings)for(const s of i)s();if(t.text){e.textContent=t.text;return}const r=e;for(const i in t.attributes){const s=t.attributes[i];s===null?r.removeAttribute(i):r.setAttribute(i,s)}for(let i=0;i<t.children.length;++i)this._revertTemplateFromNode(r.childNodes[i],t.children[i])}}class Y0{attribute;observable;emitter;callback;constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,r){const i=()=>_9(e,t,r);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class Gxe extends Y0{eventNameOrFunction;constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,r){const i=(s,o)=>{(!t||o.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(r.node,e,i),()=>{this.emitter.stopListening(r.node,e,i)}}}class v9 extends Y0{valueIfTrue;constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Wf(t)?!1:this.valueIfTrue||!0}}function Nb(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(Nb):n instanceof Y0):!1}function zk(n){return/^--[a-zA-Z_-][\w-]*$/.test(n)}function Yxe(n,e){return n.map(t=>t instanceof Y0?t.getValue(e):t)}function _9(n,e,{node:t}){const r=Yxe(n,t);let i;n.length==1&&n[0]instanceof v9?i=r[0]:i=r.reduce(E9,""),Wf(i)?e.remove():e.set(i)}function Kxe(n){return{set(e){n.textContent=e},remove(){n.textContent=""}}}function Xxe(n,e,t){return{set(r){n.setAttributeNS(t,e,r)},remove(){n.removeAttributeNS(t,e)}}}function Jxe(n,e){return{set(t){zk(e)?n.style.setProperty(e,t):n.style[e]=t},remove(){zk(e)?n.style.removeProperty(e):n.style[e]=null}}}function CO(n){return s9(n,t=>{if(t&&(t instanceof Y0||BC(t)||Fy(t)||VC(t)))return t})}function AO(n){if(typeof n=="string"?n=e2e(n):n.text&&t2e(n),n.on&&(n.eventListeners=Zxe(n.on),delete n.on),!n.text){n.attributes&&Qxe(n.attributes);const e=[];if(n.children)if(VC(n.children))e.push(n.children);else for(const t of n.children)BC(t)||Fy(t)||cc(t)?e.push(t):e.push(new wo(t));n.children=e}return n}function Qxe(n){for(const e in n)n[e].value&&(n[e].value=Gt(n[e].value)),x9(n,e)}function Zxe(n){for(const e in n)x9(n,e);return n}function e2e(n){return{text:[n]}}function t2e(n){n.text=Gt(n.text)}function x9(n,e){n[e]=Gt(n[e])}function E9(n,e){return Wf(e)?n:Wf(n)?e:`${n} ${e}`}function NO(n,e){for(const t in e)n[t]?n[t].push(...e[t]):n[t]=e[t]}function k9(n,e){if(e.attributes&&(n.attributes||(n.attributes={}),NO(n.attributes,e.attributes)),e.eventListeners&&(n.eventListeners||(n.eventListeners={}),NO(n.eventListeners,e.eventListeners)),e.text&&n.text.push(...e.text),e.children&&e.children.length){if(n.children.length!=e.children.length)throw new q("ui-template-extend-children-mismatch",n);let t=0;for(const r of e.children)k9(n.children[t++],r)}}function Wf(n){return!n&&n!==0}function Fy(n){return n instanceof Le}function BC(n){return n instanceof wo}function VC(n){return n instanceof pr}function PO(n){return Iy(n[0])&&n[0].ns}function RO(){return{children:[],bindings:[],attributes:{}}}function IO(n){return n=="class"||n=="style"}class Le extends Ei(qt()){element;isRendered;locale;t;template;_viewCollections;_unboundChildren;_bindTemplate;constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new sr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=wo.bind(this,this)}createCollection(e){const t=new pr(e);return this._viewCollections.add(t),t}registerChild(e){vs(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){vs(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new wo(e)}extendTemplate(e){wo.extend(this.template,e)}render(){if(this.isRendered)throw new q("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const OO={POLITE:"polite",ASSERTIVE:"assertive"};class n2e{editor;view;constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(OO))this.announce("",t)})}announce(e,t=OO.POLITE){const r=this.editor;if(!r.ui.view)return;this.view||(this.view=new r2e(r.locale),r.ui.view.body.add(this.view));const{politeness:i,isUnsafeHTML:s}=typeof t=="string"?{politeness:t}:t;let o=this.view.regionViews.find(a=>a.politeness===i);o||(o=new i2e(r,i),this.view.regionViews.add(o)),o.announce({announcement:e,isUnsafeHTML:s})}}class r2e extends Le{regionViews;constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class i2e extends Le{politeness;_domConverter;_pruneAnnouncementsInterval;constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{"aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const r=document.createElement("li");t?this._domConverter.setContentOf(r,e):r.innerText=e,this._listElement.appendChild(r)}get _listElement(){return this.element.querySelector("ul")}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Hu({emitter:n,activator:e,callback:t,contextElements:r,listenerOptions:i}){n.listenTo(document,"mousedown",(s,o)=>{if(!e())return;const a=typeof o.composedPath=="function"?o.composedPath():[],l=typeof r=="function"?r():r;for(const u of l)if(u.contains(o.target)||a.includes(u))return;t()},i)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function u0(n){class e extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...r){super(...r),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.template&&this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}function s2e(n){class e extends n{_onDragBound=this._onDrag.bind(this);_onDragEndBound=this._onDragEnd.bind(this);_lastDraggingCoordinates={x:0,y:0};constructor(...r){super(...r),this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(qe.document,"mouseup",this._onDragEndBound),this.listenTo(qe.document,"touchend",this._onDragEndBound),this.listenTo(qe.document,"mousemove",this._onDragBound),this.listenTo(qe.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(qe.document,"mouseup",this._onDragEndBound),this.stopListening(qe.document,"touchend",this._onDragEndBound),this.stopListening(qe.document,"mousemove",this._onDragBound),this.stopListening(qe.document,"touchmove",this._onDragBound)}_onDragStart(r,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let s=0,o=0;i instanceof MouseEvent?(s=i.clientX,o=i.clientY):(s=i.touches[0].clientX,o=i.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:o},this.isDragging=!0}_onDrag(r,i){if(!this.isDragging){this._detachDragListeners();return}let s=0,o=0;i instanceof MouseEvent?(s=i.clientX,o=i.clientY):(s=i.touches[0].clientX,o=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(o-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:o}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(r){return this.dragHandleElement?this.dragHandleElement===r.target||r.target instanceof HTMLElement&&this.dragHandleElement.contains(r.target):!1}}return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wc({view:n}){n.listenTo(n.element,"submit",(e,t)=>{t.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function K0({keystrokeHandler:n,focusTracker:e,gridItems:t,numberOfColumns:r,uiLanguageDirection:i}){const s=typeof r=="number"?()=>r:r;n.set("arrowright",o((u,f)=>i==="rtl"?l(u,f.length):a(u,f.length))),n.set("arrowleft",o((u,f)=>i==="rtl"?a(u,f.length):l(u,f.length))),n.set("arrowup",o((u,f)=>{let m=u-s();return m<0&&(m=u+s()*Math.floor(f.length/s()),m>f.length-1&&(m-=s())),m})),n.set("arrowdown",o((u,f)=>{let m=u+s();return m>f.length-1&&(m=u%s()),m}));function o(u){return f=>{const m=t.find(v=>v.element===e.focusedElement),p=t.getIndex(m),y=u(p,t);t.get(y).focus(),f.stopPropagation(),f.preventDefault()}}function a(u,f){return u===f-1?0:u+1}function l(u,f){return u===0?f-1:u-1}}class Us extends Le{id;constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ci()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class o2e extends Le{constructor(e,t){super(e);const r=e.t,i=new Us;i.text=r("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":i.id,role:"document",tabindex:-1},children:[ao(document,"p",{},r("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),i]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const r=[ao(document,"h3",{},t.label),...Array.from(t.groups.values()).map(i=>this._createGroup(i)).flat()];return t.description&&r.splice(1,0,ao(document,"p",{},t.description)),ao(document,"section",{},r)})}_createGroup(e){const t=e.keystrokes.sort((i,s)=>i.label.localeCompare(s.label)).map(i=>this._createGroupRow(i)).flat(),r=[ao(document,"dl",{},t)];return e.label&&r.unshift(ao(document,"h4",{},e.label)),r}_createGroupRow(e){const t=this.locale.t,r=ao(document,"dt"),i=ao(document,"dd"),s=l2e(e.keystroke),o=[];for(const a of s)o.push(a.map(a2e).join(""));return r.innerHTML=e.label,i.innerHTML=o.join(", ")+(e.mayRequireFn&&ot.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[r,i]}}function a2e(n){return xy(n).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}function l2e(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}class fa extends Le{static presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg");if(!t)throw new q("ui-iconview-invalid-svg",this);const r=t.getAttribute("viewBox");r&&(this.viewBox=r);for(const{name:i,value:s}of Array.from(t.attributes))fa.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}class T9 extends Le{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}class et extends Le{children;labelView;iconView;keystrokeView;_focusDelayed=null;constructor(e,t=new T9){super(e);const r=this.bindTemplate,i=ci();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${i}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new fa,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.iconView.bind("content").to(this,"icon"),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const s={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",o=>!o),r.if("isVisible","ck-hidden",o=>!o),r.to("isOn",o=>o?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",o=>o||"button"),tabindex:r.to("tabindex"),"aria-checked":r.to("_ariaChecked"),"aria-pressed":r.to("_ariaPressed"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,o=>!o),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(o=>{this.isEnabled?this.fire("execute"):o.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(o,a,l)=>!a||MO(l)?!1:String(!!o)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(o,a,l)=>!a||!MO(l)?!1:String(!!o)),ot.isSafari&&(this._focusDelayed||(this._focusDelayed=ZS(()=>this.focus(),0)),s.on.mousedown=r.to(()=>{this._focusDelayed()}),s.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(s)}render(){super.render(),this.icon&&this.children.add(this.iconView),this.on("change:icon",(e,t,r,i)=>{r&&!i?this.children.add(this.iconView,0):!r&&i&&this.children.remove(this.iconView)}),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Le;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>xy(t))}]}),e}_getTooltipString(e,t,r){return e?typeof e=="string"?e:(r&&(r=xy(r)),e instanceof Function?e(t,r):`${t}${r?` (${r})`:""}`):""}}function MO(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class pl extends Le{children;iconView;constructor(e,t={}){super(e);const r=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",r.to("class")]},children:this.children}),t.icon&&(this.iconView=new fa,this.iconView.content=t.icon,this.children.add(this.iconView));const i=new Le(e);i.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:r.to("label")}]}),this.children.add(i)}}class kr extends an(){focusables;focusTracker;keystrokeHandler;actions;constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let r=e.actions[t];typeof r=="string"&&(r=[r]);for(const i of r)e.keystrokeHandler.set(i,(s,o)=>{this[t](),o()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(eE)||null}get last(){return this.focusables.filter(eE).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,r)=>{const i=t.element===this.focusTracker.focusedElement;return i&&(e=r),i}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const t=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",r=>{const i=t();this.focusNext(),i!==t()&&r.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",r=>{const i=t();this.focusPrevious(),i!==t()&&r.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const r=this.current;if(r===null)return this[e===1?"first":"last"];let i=this.focusables.get(r),s=(r+t+e)%t;do{const o=this.focusables.get(s);if(eE(o)){i=o;break}s=(s+t+e)%t}while(s!==r);return i}}function eE(n){return X0(n)&&sa(n.element)}function X0(n){return"focus"in n&&typeof n.focus=="function"}function c2e(n){return X0(n)&&"focusCycler"in n&&n.focusCycler instanceof kr}class u2e extends Le{children;keystrokes;focusCycler;_focusTracker;_focusables;constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new bn,this._focusTracker=new Yt,this._focusables=new pr,this.focusCycler=new kr({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const r=new et(this.locale);let i;r.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(r);for(i in t)i!="onExecute"&&i!="onCreate"&&r.set(i,t[i]);this.children.add(r)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class d2e extends Le{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const ns={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},DO=fh("px");class UC extends s2e(Le){parts;headerView;closeButtonView;actionsView;static defaultOffset=15;contentView;keystrokes;focusTracker;wasMoved=!1;_getCurrentDomRoot;_getViewportOffset;_focusables;_focusCycler;constructor(e,{getCurrentDomRoot:t,getViewportOffset:r,keystrokeHandlerOptions:i}){super(e);const s=this.bindTemplate,o=e.t;this.set("className",""),this.set("ariaLabel",o("Editor dialog")),this.set("isModal",!1),this.set("position",ns.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new bn,this.focusTracker=new Yt,this._focusables=new pr,this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:i}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",s.if("isModal","ck-dialog-overlay__transparent",a=>!a),s.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",s.if("isModal","ck-dialog_modal"),s.to("className")],role:"dialog","aria-label":s.to("ariaLabel"),style:{top:s.to("_top",a=>DO(a)),left:s.to("_left",a=>DO(a)),visibility:s.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,t)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),t())}),this.on("drag",(e,{deltaX:t,deltaY:r})=>{this.wasMoved=!0,this.moveBy(t,r)}),this.listenTo(qe.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(qe.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,t,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:r=!0,content:i,actionButtons:s}){t&&(this.headerView=new pl(this.locale,{icon:e}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),i&&(i instanceof Le&&(i=[i]),this.contentView=new d2e(this.locale),this.contentView.children.addMany(i),this.parts.add(this.contentView)),s&&(this.actionsView=new u2e(this.locale),this.actionsView.setButtons(s),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const r=this._getViewportRect(),i=this._getDialogRect();e+i.width>r.right&&(e=r.right-i.width),e<r.left&&(e=r.left),t<r.top&&(t=r.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t=this.position,r;this._getCurrentDomRoot()?r=this._getVisibleDomRootRect(e):t=ns.SCREEN_CENTER;const i=UC.defaultOffset,s=this._getDialogRect();if(this.position!=null){if(typeof this.position=="function"){const o=this.position(s,r);if(o==null){this._moveOffScreen();return}this._moveTo(o.left,o.top);return}switch(t){case ns.EDITOR_TOP_SIDE:{if(r){const o=this.locale.contentLanguageDirection==="ltr"?r.right-s.width-i:r.left+i;this.moveTo(o,r.top+i)}else this._moveOffScreen();break}case ns.EDITOR_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),Math.round(r.top+r.height/2-s.height/2)):this._moveOffScreen();break}case ns.SCREEN_CENTER:{this.moveTo(Math.round((e.width-s.width)/2),Math.round((e.height-s.height)/2));break}case ns.EDITOR_TOP_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.top+i):this._moveOffScreen();break}case ns.EDITOR_BOTTOM_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.bottom-s.height-i):this._moveOffScreen();break}case ns.EDITOR_ABOVE_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.top-s.height-i):this._moveOffScreen();break}case ns.EDITOR_BELOW_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.bottom+i):this._moveOffScreen();break}}}}_getVisibleDomRootRect(e){let t=new pt(this._getCurrentDomRoot()).getVisible();if(t){if(t=e.getIntersection(t),!t)return null}else return null;return t}_getDialogRect(){return new pt(this.element.firstElementChild)}_getViewportRect(){const e=new pt(qe.window);return this.isModal?e:OB(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)X0(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element),c2e(t)&&this._focusCycler.chain(t.focusCycler)})}_createCloseButton(){const e=new et(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:_v}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}}class is extends ee{view;static _visibleDialogPlugin;_onHide;static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),is._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{is._visibleDialogPlugin&&is._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,r)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),r())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const r of t)r.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:r,hasCloseButton:i=!0,content:s,actionButtons:o,className:a,isModal:l,position:u,onHide:f,keystrokeHandlerOptions:m}){const p=this.editor;this.view=new UC(p.locale,{getCurrentDomRoot:()=>p.editing.view.getDomRoot(p.model.document.selection.anchor.root.rootName),getViewportOffset:()=>p.ui.viewportOffset,keystrokeHandlerOptions:m});const y=this.view;y.on("close",()=>{this.hide()}),p.ui.view.body.add(y),p.keystrokes.listenTo(y.element),u||(u=l?ns.SCREEN_CENTER:ns.EDITOR_CENTER),l&&this._lockBodyScroll(),y.set({position:u,_isVisible:!0,className:a,isModal:l}),y.setupParts({icon:t,title:r,hasCloseButton:i,content:s,actionButtons:o}),this.id=e,f&&(this._onHide=f),this.isOpen=!0,is._visibleDialogPlugin=this}hide(){is._visibleDialogPlugin&&is._visibleDialogPlugin.fire(`hide:${is._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.isModal&&this._unlockBodyScroll(),t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,is._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}class hh extends et{_checkIconHolderView=new f2e;constructor(e,t=new T9){super(e,t),this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",r.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(i,s)=>i||s)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,t,r)=>{const{children:i,_checkIconHolderView:s}=this;r?i.add(s,0):i.remove(s)})}}class f2e extends Le{children;_checkIconView=this._createCheckIconView();constructor(){super();const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",t=>t?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,t,r)=>{const{children:i,_checkIconView:s}=this;r&&!i.has(s)?i.add(s):!r&&i.has(s)&&i.remove(s)})}_createCheckIconView(){const e=new fa;return e.content=xv,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class xn extends hh{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class S9 extends ee{contentView=null;static get requires(){return[is]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const r=this._createButton(et);return r.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),r}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const r=this._createButton(xn);return r.label=t("Accessibility"),r}),e.keystrokes.set("Alt+0",(r,i)=>{this._toggleDialog(),i()}),this._setupRootLabels()}_createButton(e){const t=this.editor,r=t.plugins.get("Dialog"),i=t.locale,s=new e(i);return s.set({keystroke:"Alt+0",icon:cO,isToggleable:!0}),s.on("execute",()=>this._toggleDialog()),s.bind("isOn").to(r,"id",o=>o==="accessibilityHelp"),s}_setupRootLabels(){const e=this.editor,t=e.editing.view,r=e.t;e.ui.on("ready",()=>{t.change(s=>{for(const o of t.document.roots)i(s,o)}),e.on("addRoot",(s,o)=>{const a=e.editing.view.document.getRoot(o.rootName);t.change(l=>i(l,a))},{priority:"low"})});function i(s,o){const l=[o.getAttribute("aria-label"),r("Press %0 for help.",[xy("Alt+0")])].filter(u=>u).join(". ");s.setAttribute("aria-label",l,o)}}_toggleDialog(){const e=this.editor,t=e.plugins.get("Dialog"),r=e.locale.t;this.contentView||(this.contentView=new o2e(e.locale,e.accessibility.keystrokeInfos)),t.id==="accessibilityHelp"?t.hide():t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:r("Accessibility help"),icon:cO,hasCloseButton:!0,content:this.contentView})}}class oo extends pr{locale;_bodyCollectionContainer;static _bodyWrapper;constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new wo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),(!oo._bodyWrapper||!oo._bodyWrapper.isConnected)&&(oo._bodyWrapper=ao(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(oo._bodyWrapper)),oo._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),oo._bodyWrapper&&!oo._bodyWrapper.childElementCount&&(oo._bodyWrapper.remove(),delete oo._bodyWrapper)}}const FO=fh("px"),h2e={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Bn extends Le{content;_pinWhenIsVisibleCallback;_resizeObserver;constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",r=>`ck-balloon-panel_${r}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",FO),left:t.to("left",FO)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const t=Pb(e.target);if(t&&!sa(t))return!1;this.show();const r=Bn.defaultPositions,i=Object.assign({},{element:this.element,positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast,r.viewportStickyNorth],limiter:qe.document.body,fitInViewport:!0},e),s=Bn._getOptimalPosition(i)||h2e,o=parseInt(s.left),a=parseInt(s.top),l=s.name,u=s.config||{},{withArrow:f=!0}=u;return this.top=a,this.left=o,this.position=l,this.withArrow=f,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let t=Pb(e.target);const r=e.limiter?Pb(e.limiter):qe.document.body;if(this.listenTo(qe.document,"scroll",(i,s)=>{const o=s.target,a=t&&o.contains(t),l=r&&o.contains(r);(a||l||!t||!r)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(qe.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(t&&Dn(t)&&(t=t.parentElement),t)){const i=()=>{sa(t)||this.unpin()};this._resizeObserver=new Cn(t,i)}return!0}_stopPinning(){this.stopListening(qe.document,"scroll"),this.stopListening(qe.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:t=Bn.arrowSideOffset,heightOffset:r=Bn.arrowHeightOffset,stickyVerticalOffset:i=Bn.stickyVerticalOffset,config:s}=e;return{northWestArrowSouthWest:(l,u)=>({top:o(l,u),left:l.left-t,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(l,u)=>({top:o(l,u),left:l.left-u.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(l,u)=>({top:o(l,u),left:l.left-u.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(l,u)=>({top:o(l,u),left:l.left-u.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(l,u)=>({top:o(l,u),left:l.left-u.width+t,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(l,u)=>({top:o(l,u),left:l.left+l.width/2-t,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(l,u)=>({top:o(l,u),left:l.left+l.width/2-u.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(l,u)=>({top:o(l,u),left:l.left+l.width/2-u.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(l,u)=>({top:o(l,u),left:l.left+l.width/2-u.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(l,u)=>({top:o(l,u),left:l.left+l.width/2-u.width+t,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(l,u)=>({top:o(l,u),left:l.right-t,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(l,u)=>({top:o(l,u),left:l.right-u.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(l,u)=>({top:o(l,u),left:l.right-u.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(l,u)=>({top:o(l,u),left:l.right-u.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(l,u)=>({top:o(l,u),left:l.right-u.width+t,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:l=>({top:a(l),left:l.left-t,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(l,u)=>({top:a(l),left:l.left-u.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(l,u)=>({top:a(l),left:l.left-u.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(l,u)=>({top:a(l),left:l.left-u.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(l,u)=>({top:a(l),left:l.left-u.width+t,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:l=>({top:a(l),left:l.left+l.width/2-t,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(l,u)=>({top:a(l),left:l.left+l.width/2-u.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(l,u)=>({top:a(l),left:l.left+l.width/2-u.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(l,u)=>({top:a(l),left:l.left+l.width/2-u.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(l,u)=>({top:a(l),left:l.left+l.width/2-u.width+t,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:l=>({top:a(l),left:l.right-t,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(l,u)=>({top:a(l),left:l.right-u.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(l,u)=>({top:a(l),left:l.right-u.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(l,u)=>({top:a(l),left:l.right-u.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(l,u)=>({top:a(l),left:l.right-u.width+t,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(l,u)=>({top:l.top+l.height/2-u.height/2,left:l.left-u.width-r,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(l,u)=>({top:l.top+l.height/2-u.height/2,left:l.right+r,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(l,u,f)=>{const m=new pt(qe.document.body).getIntersection(f.getVisible());if(!m)return null;const p=m.getVisible();return!l.getIntersection(p)||!(p.top-l.top-i<u.height&&p.bottom-l.bottom<u.height)?null:{top:p.top+i,left:l.left+l.width/2-u.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function o(l,u){return l.top-u.height-r}function a(l){return l.bottom+r}}static arrowSideOffset=25;static arrowHeightOffset=10;static stickyVerticalOffset=20;static _getOptimalPosition=JS;static defaultPositions=Bn.generatePositions()}function Pb(n){return RC(n)?n:iv(n)?n.commonAncestorContainer:typeof n=="function"?Pb(n()):null}const m2e=50,g2e=350;class C9 extends Ei(){editor;_balloonView=null;_showBalloonThrottled=s_e(()=>this._showBalloon(),50,{leading:!0});_lastFocusedEditableElement=null;_balloonClass;constructor(e,t={}){super(),this.editor=e,this._balloonClass=t.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,r,i)=>{this._updateLastFocusedEditableElement(),i?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,r,i)=>{this._updateLastFocusedEditableElement(),i&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,t=new Bn,r=this._createBadgeContent();return t.content.add(r),this._balloonClass&&(t.class=this._balloonClass),e.ui.view.body.add(t),t}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),t=e.side==="right"?p2e(this._lastFocusedEditableElement,e):b2e(this._lastFocusedEditableElement,e);return{target:this._lastFocusedEditableElement,positions:[t]}}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!t||!r){this._lastFocusedEditableElement=null;return}const i=Array.from(e.ui.getEditableElementsNames()).map(s=>e.ui.getEditableElement(s));i.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=i[0]}}function p2e(n,e){return A9(n,e,(t,r)=>t.left+t.width-r.width-e.horizontalOffset)}function b2e(n,e){return A9(n,e,t=>t.left+e.horizontalOffset)}function A9(n,e,t){return(r,i)=>{const s=new pt(n);if(s.width<g2e||s.height<m2e)return null;let o;e.position==="inside"?o=s.bottom-i.height:o=s.bottom-i.height/2,o-=e.verticalOffset;const a=t(s,i),u=r.clone().moveTo(a,o).getIntersection(i.clone().moveTo(a,o)).getVisible();return!u||u.getArea()<i.getArea()?null:{top:o,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}const y2e="Powered by";class w2e extends C9{constructor(e){super(e,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const e=this.editor;if(e.config.get("ui.poweredBy.forceVisible"))return!0;const r=e.config.get("licenseKey");if(r=="GPL")return!0;const i=eC(r.split(".")[1]);return i?!i.whiteLabel:!0}_createBadgeContent(){return new v2e(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const e=super._getNormalizedConfig(),t=this.editor.config.get("ui.poweredBy")||{},r=t.position||e.position,i=r==="inside"?5:e.verticalOffset;return{position:r,side:t.side||e.side,label:t.label===void 0?y2e:t.label,verticalOffset:t.verticalOffset!==void 0?t.verticalOffset:i,horizontalOffset:t.horizontalOffset!==void 0?t.horizontalOffset:e.horizontalOffset,forceVisible:!!t.forceVisible}}}class v2e extends Le{constructor(e,t){super(e);const r=new fa,i=this.bindTemplate;r.set({content:Z_e,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],r],on:{dragstart:i.to(s=>s.preventDefault())}}]})}}class Pu extends et{toggleSwitchView;constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Le;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class LO extends N9(et){}class _2e extends N9(hh){}function N9(n){class e extends n{_fileInputView;constructor(...r){super(...r),this._fileInputView=new x2e(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return e}class x2e extends Le{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element?.files?.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class zC extends Le{buttonView;children;constructor(e,t){super(e);const r=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",r.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:r.if("isCollapsed","hidden"),"aria-labelledby":r.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new et(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:Ev}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",r=>String(r))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",r=>!r),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function d0(n,e){const t=n.t,r={Black:t("Black"),"Dim grey":t("Dim grey"),Grey:t("Grey"),"Light grey":t("Light grey"),White:t("White"),Red:t("Red"),Orange:t("Orange"),Yellow:t("Yellow"),"Light green":t("Light green"),Green:t("Green"),Aquamarine:t("Aquamarine"),Turquoise:t("Turquoise"),"Light blue":t("Light blue"),Blue:t("Blue"),Purple:t("Purple")};return e.map(i=>{const s=r[i.label];return s&&s!=i.label&&(i.label=s),i})}function f0(n){return n.map(E2e).filter(e=>!!e)}function E2e(n){return typeof n=="string"?{model:n,label:n,hasBorder:!1,view:{name:"span",styles:{color:n}}}:{model:n.color,label:n.label||n.color,hasBorder:n.hasBorder===void 0?!1:n.hasBorder,view:{name:"span",styles:{color:`${n.color}`}}}}class P9 extends et{constructor(e){super(e);const t=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=__e,this.extendTemplate({attributes:{style:{backgroundColor:t.to("color",r=>ot.isMediaForcedColors?null:r)},class:["ck","ck-color-grid__tile",t.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}class BO extends Le{columns;items;focusTracker;keystrokes;constructor(e,t){super(e);const r=t&&t.colorDefinitions?t.colorDefinitions:[];this.columns=t?.columns||5;const i={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this.items.on("add",(s,o)=>{o.isOn=o.color===this.selectedColor}),r.forEach(s=>{const o=new P9;o.set({color:s.color,label:s.label,tooltip:!0,hasBorder:s.options.hasBorder}),o.on("execute",()=>{this.fire("execute",{value:s.color,hasBorder:s.options.hasBorder,label:s.label})}),this.items.add(o)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:i}}),this.on("change:selectedColor",(s,o,a)=>{for(const l of this.items)l.isOn=l.color===a})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),K0({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale?.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}function R9(n,e){if(!n)return"";const t=I9(n);if(!t)return"";if(t.space===e)return n;if(!C2e(t))return"";const i=eu[t.space][e];if(!i)return"";const s=i(t.space==="hex"?t.hexValue:t.values);return S2e(s,e)}function k2e(n){if(!n)return"";const e=I9(n);return e?e.space==="hex"?e.hexValue:R9(n,"hex"):"#000"}function T2e(n,e){customElements.get(n)===void 0&&customElements.define(n,e)}function S2e(n,e){switch(e){case"hex":return`#${n}`;case"rgb":return`rgb(${n[0]}, ${n[1]}, ${n[2]})`;case"hsl":return`hsl(${n[0]}, ${n[1]}%, ${n[2]}%)`;case"hwb":return`hwb(${n[0]}, ${n[1]}, ${n[2]})`;case"lab":return`lab(${n[0]}% ${n[1]} ${n[2]})`;case"lch":return`lch(${n[0]}% ${n[1]} ${n[2]})`;default:return""}}function I9(n){if(n.startsWith("#")){const t=vO(n);return{space:"hex",values:t.values,hexValue:n,alpha:t.alpha}}const e=vO(n);return e.space?e:null}function C2e(n){return Object.keys(eu).includes(n.space)}class Yn extends Le{fieldView;labelView;statusView;fieldWrapperChildren;constructor(e,t){super(e);const r=`ck-labeled-field-view-${ci()}`,i=`ck-labeled-field-view-status-${ci()}`;this.fieldView=t(this,r,i),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(r),this.statusView=this._createStatusView(i),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(o,a)=>o||a);const s=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",o=>!o),s.if("isEmpty","ck-labeled-field-view_empty"),s.if("isFocused","ck-labeled-field-view_focused"),s.if("placeholder","ck-labeled-field-view_placeholder"),s.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Us(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Le(this.locale),r=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",r.if("errorText","ck-labeled-field-view__status_error"),r.if("_statusText","ck-hidden",i=>!i)],id:e,role:r.if("errorText","alert")},children:[{text:r.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class A2e extends Le{focusTracker;constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Yt,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...r)=>{this.fire("input",...r),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,r)=>{this._setDomElementValue(r),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=N2e(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function N2e(n){return!n.value}class O9 extends A2e{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class M9 extends O9{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class P2e extends O9{constructor(e,{min:t,max:r,step:i}={}){super(e);const s=this.bindTemplate;this.set("min",t),this.set("max",r),this.set("step",i),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:s.to("min"),max:s.to("max"),step:s.to("step")}})}}class R2e extends Le{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",r=>`ck-dropdown__panel_${r}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():It("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}class h0 extends Le{buttonView;panelView;focusTracker;keystrokes;listView;toolbarView;menuView;constructor(e,t,r){super(e);const i=this.bindTemplate;this.buttonView=t,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new bn,this.focusTracker=new Yt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",s=>!s)],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[t,r]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(t,r,i)=>{if(i)if(this.panelPosition==="auto"){const s=h0._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(t,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(t,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:r,southWest:i,northEast:s,northWest:o,southMiddleEast:a,southMiddleWest:l,northMiddleEast:u,northMiddleWest:f}=h0.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,i,a,l,e,s,o,u,f,t]:[i,r,l,a,e,o,s,f,u,t]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}static defaultPanelPositions={south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)*3/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)*3/4,name:"nmw"})};static _getOptimalPosition=JS}class D9 extends et{arrowView;constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new fa;return e.content=Ev,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class So extends Le{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class kv extends Le{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Rb extends Le{labelView;items;children;constructor(e,t=new Us){super(e);const r=this.bindTemplate,i=new mh(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,i]),i.set({role:"group",ariaLabelledBy:t.id}),i.focusTracker.destroy(),i.keystrokes.destroy(),this.items=i.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",r.if("isVisible","ck-hidden",s=>!s)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof kv));e&&e.focus()}}}class mh extends Le{focusables;items;focusTracker;keystrokes;_focusCycler;_listItemGroupToChangeListeners=new WeakMap;constructor(e){super(e);const t=this.bindTemplate;this.focusables=new pr,this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this._focusCycler=new kr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Rb?this._registerFocusableItemsGroup(e):e instanceof So&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const r of t.removed)r instanceof Rb?this._deregisterFocusableItemsGroup(r):r instanceof So&&this._deregisterFocusableListItem(r);for(const r of Array.from(t.added).reverse())r instanceof Rb?this._registerFocusableItemsGroup(r,t.index):this._registerFocusableListItem(r,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,r)=>{for(const i of r.removed)this._deregisterFocusableListItem(i);for(const i of Array.from(r.added).reverse())this._registerFocusableListItem(i,this.items.getIndex(e)+r.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((i,s)=>{const o=typeof t<"u"?t+s:void 0;this._registerFocusableListItem(i,o)});const r=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,r),e.items.on("change",r)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class HC extends Le{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class I2e extends Le{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function O2e(n){return n.bindTemplate.to(e=>{e.target===n.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function F9(n){if(Array.isArray(n))return{items:n,removeItems:[]};const e={items:[],removeItems:[]};return n?{...e,...n}:e}const M2e={alignLeft:IC,bold:c9,importExport:P_e,paragraph:Y_e,plus:Q_e,text:gxe,threeVerticalDots:FC,pilcrow:J_e,dragIndicator:E_e};class dc extends Le{options;items;focusTracker;keystrokes;itemsView;children;focusables;_focusCycler;_behavior;constructor(e,t){super(e);const r=this.bindTemplate,i=this.t;this.options=t||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.set("isGrouping",!!this.options.shouldGroupWhenFull),this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this.set("class",void 0),this.set("isCompact",!1),this.set("isVertical",!1),this.itemsView=new D2e(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const s=e.uiLanguageDirection==="rtl";this._focusCycler=new kr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact"),r.if("isGrouping","ck-toolbar_grouping"),r.if("isVertical","ck-toolbar_vertical")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:r.to("role"),"aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:O2e(this)}}),this._behavior=this.options.shouldGroupWhenFull?new UO(this):new VO(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,t)=>{this.focusTracker.add(t)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,r){this.items.addMany(this._buildItemsFromConfig(e,t,r))}switchBehavior(e){this._behavior.type!==e&&(this._behavior.destroy(),this.itemsView.children.clear(),this.focusables.clear(),e==="dynamic"?(this._behavior=new UO(this),this._behavior.render(this),this._behavior.refreshItems()):(this._behavior=new VO(this),this._behavior.render(this)))}_buildItemsFromConfig(e,t,r){const i=F9(e),s=r||i.removeItems;return this._cleanItemsConfiguration(i.items,t,s).map(a=>Iy(a)?this._createNestedToolbarDropdown(a,t,s):a==="|"?new HC:a==="-"?new I2e:t.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,t,r){const i=e.filter((s,o,a)=>s==="|"?!0:r.indexOf(s)!==-1?!1:s==="-"?this.options.shouldGroupWhenFull?(It("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!Iy(s)&&!t.has(s)?(It("toolbarview-item-unavailable",{item:s}),!1):!0);return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(e){const t=o=>o!=="-"&&o!=="|",r=e.length,i=e.findIndex(t);if(i===-1)return[];const s=r-e.slice().reverse().findIndex(t);return e.slice(i,s).filter((o,a,l)=>t(o)?!0:!(a>0&&l[a-1]===o))}_createNestedToolbarDropdown(e,t,r){let{label:i,icon:s,items:o,tooltip:a=!0,withText:l=!1}=e;if(o=this._cleanItemsConfiguration(o,t,r),!o.length)return null;const u=this.locale,f=Er(u);return i||It("toolbarview-nested-toolbar-dropdown-missing-label",e),f.class="ck-toolbar__nested-toolbar-dropdown",f.buttonView.set({label:i,tooltip:a,withText:!!l}),s!==!1?f.buttonView.icon=M2e[s]||s||FC:f.buttonView.withText=!0,J0(f,()=>f.toolbarView._buildItemsFromConfig(o,t,r)),f}}class D2e extends Le{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class VO{type="static";constructor(e){e.isGrouping=!1,e.itemsView.children.bindTo(e.items).using(t=>t),e.focusables.bindTo(e.items).using(t=>X0(t)?t:null)}render(){}destroy(){}}class UO{type="dynamic";view;viewChildren;viewFocusables;viewItemsView;viewFocusTracker;viewLocale;ungroupedItems;groupedItems;groupedItemsDropdown;resizeObserver=null;cachedPadding=null;shouldUpdateGroupingOnNextResize=!1;viewElement;constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.view.isGrouping=!0,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,r)=>{const i=r.index,s=Array.from(r.added);for(const o of r.removed)i>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=i;o<i+s.length;o++){const a=s[o-i];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.viewChildren.length>1&&(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last)),this.resizeObserver.destroy()}refreshItems(){const e=this.view;if(e.items.length){for(let t=0;t<e.items.length;t++){const r=[...e.items][t];this.ungroupedItems.add(r,t)}this._updateGrouping()}}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!sa(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,r=new pt(e.lastChild),i=new pt(e);if(!this.cachedPadding){const s=qe.window.getComputedStyle(e),o=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(s[o])}return t==="ltr"?r.right>i.right-this.cachedPadding:r.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Cn(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new HC),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,r=Er(e);return r.class="ck-toolbar__grouped-dropdown",r.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",J0(r,this.groupedItems),r.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:FC}),r}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{X0(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class gh extends Le{children;actionView;arrowView;keystrokes;focusTracker;constructor(e,t){super(e);const r=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new bn,this.focusTracker=new Yt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",i=>!i),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new et;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new et,t=e.bindTemplate;return e.icon=Ev,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function Er(n,e=D9){const t=typeof e=="function"?new e(n):e,r=new R2e(n),i=new h0(n,t,r);return t.bind("isEnabled").to(i),t instanceof gh?t.arrowView.bind("isOn").to(i,"isOpen"):t.bind("isOn").to(i,"isOpen"),F2e(i),i}function J0(n,e,t={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?zO(n,e,t):n.once("change:isOpen",()=>zO(n,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&Tv(n,()=>n.toolbarView.items.find(r=>r.isOn))}function zO(n,e,t){const r=n.locale,i=r.t,s=n.toolbarView=new dc(r),o=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel||i("Dropdown toolbar"),t.maxWidth&&(s.maxWidth=t.maxWidth),t.class&&(s.class=t.class),t.isCompact&&(s.isCompact=t.isCompact),t.isVertical&&(s.isVertical=!0),o instanceof pr?s.items.bindTo(o).using(a=>a):s.items.addMany(o),n.panelView.children.add(s),n.focusTracker.add(s),s.items.delegate("execute").to(n)}function vc(n,e,t={}){n.isOpen?HO(n,e,t):n.once("change:isOpen",()=>HO(n,e,t),{priority:"highest"}),Tv(n,()=>n.listView.items.find(r=>r instanceof So?r.children.first.isOn:!1))}function HO(n,e,t){const r=n.locale,i=n.listView=new mh(r),s=typeof e=="function"?e():e;i.ariaLabel=t.ariaLabel,i.role=t.role,B9(n,i.items,s,r),n.panelView.children.add(i),i.items.delegate("execute").to(n)}function Tv(n,e){n.on("change:isOpen",()=>{if(!n.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():It("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:fs.low-10})}function F2e(n){L2e(n),B2e(n),V2e(n),U2e(n),z2e(n),H2e(n)}function L2e(n){Hu({emitter:n,activator:()=>n.isRendered&&n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...L9(n.focusTracker).filter(e=>!n.element.contains(e))]})}function L9(n){return[...n.elements,...n.externalViews.flatMap(e=>L9(e.focusTracker))]}function B2e(n){n.on("execute",e=>{e.source instanceof Pu||(n.isOpen=!1)})}function V2e(n){n.focusTracker.on("change:isFocused",(e,t,r)=>{r||!n.isOpen||(n.isOpen=!1)})}function U2e(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",(e,t)=>{n.isOpen&&(n.panelView.focusLast(),t())})}function z2e(n){n.on("change:isOpen",(e,t,r)=>{if(r)return;n.focusTracker.elements.some(s=>s.contains(qe.document.activeElement))&&n.buttonView.focus()})}function H2e(n){n.on("change:isOpen",(e,t,r)=>{r&&n.panelView.focus()},{priority:"low"})}function B9(n,e,t,r){$2e(e),e.bindTo(t).using(i=>{if(i.type==="separator")return new kv(r);if(i.type==="group"){const s=new Rb(r);return s.set({label:i.label}),B9(n,s.items,i.items,r),s.items.delegate("execute").to(n),s}else if(i.type==="button"||i.type==="switchbutton"){const s=i.model.role==="menuitemcheckbox"||i.model.role==="menuitemradio",o=new So(r);let a;return i.type==="button"?(a=new hh(r,i.labelView),a.set({isToggleable:s})):a=new Pu(r),a.bind(...Object.keys(i.model)).to(i.model),a.delegate("execute").to(o),o.children.add(a),o}return null})}function $2e(n){let e=0;const t=s=>!(s instanceof So)||!(s.children.first instanceof hh)?null:s.children.first,r=s=>{const o=t(s);return!o||!o.isToggleable?null:o},i=s=>{for(const o of n){const a=t(o);a&&(a.hasCheckSpace=s)}};n.on("change",(s,o)=>{const a=e>0;for(const u of o.removed)r(u)&&e--;for(const u of o.added){const f=t(u);f&&(f.isToggleable&&e++,f.hasCheckSpace=e>0)}const l=e>0;a!==l&&i(l)})}const ms=(n,e,t)=>{const r=new M9(n.locale);return r.set({id:e,ariaDescribedById:t}),r.bind("isReadOnly").to(n,"isEnabled",i=>!i),r.bind("hasError").to(n,"errorText",i=>!!i),r.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(r),r},V9=(n,e,t)=>{const r=new P2e(n.locale);return r.set({id:e,ariaDescribedById:t,inputMode:"numeric"}),r.bind("isReadOnly").to(n,"isEnabled",i=>!i),r.bind("hasError").to(n,"errorText",i=>!!i),r.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(r),r},$C=(n,e,t)=>{const r=Er(n.locale);return r.set({id:e,ariaDescribedById:t}),r.bind("isEnabled").to(n),r},W2e=150;class j2e extends Le{hexInputRow;_debounceColorPickerEvent;_config;constructor(e,t={}){super(e),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const r=this.createCollection();t.hideInput||r.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:r}),this._config=t,this._debounceColorPickerEvent=a0(i=>{this.set("color",i),this.fire("colorSelected",{color:this.color})},W2e,{leading:!0}),this.on("set:color",(i,s,o)=>{i.return=R9(o,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=tE(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),tE(this.color)!=tE(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),T2e("hex-color-picker",Wxe),this.picker=qe.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",e=>{const t=e.detail.value;this._debounceColorPickerEvent(t)})}focus(){/* istanbul ignore next -- @preserve */!this._config.hideInput&&(ot.isGecko||ot.isiOS||ot.isSafari||ot.isBlink)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const r=[...this.picker.shadowRoot.children].filter(i=>i.getAttribute("role")==="slider").map(i=>new q2e(i));this.slidersView=this.createCollection(),r.forEach(i=>{this.slidersView.add(i)})}_createInputRow(){const e=this._createColorInput();return new Y2e(this.locale,e)}_createColorInput(){const e=new Yn(this.locale,ms),{t}=this.locale;return e.set({label:t("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",r=>e.isFocused?e.fieldView.value:r.startsWith("#")?r.substring(1):r),e.fieldView.on("input",()=>{const r=e.fieldView.element.value;if(r){const i=U9(r);i&&this._debounceColorPickerEvent(i)}}),e}isValid(){const{t:e}=this.locale;return this._config.hideInput?!0:(this.resetValidationStatus(),this.hexInputRow.getParsedColor()?!0:(this.hexInputRow.inputView.errorText=e('Please enter a valid color (e.g. "ff0000").'),!1))}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function tE(n){let e=k2e(n);return e||(e="#000"),e.length===4&&(e="#"+[e[1],e[1],e[2],e[2],e[3],e[3]].join("")),e.toLowerCase()}class q2e extends Le{constructor(e){super(),this.element=e}focus(){this.element.focus()}}class G2e extends Le{constructor(e){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class Y2e extends Le{children;inputView;constructor(e,t){super(e),this.inputView=t,this.children=this.createCollection([new G2e,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return U9(this.inputView.fieldView.element.value)}}function U9(n){if(!n)return null;const e=n.trim().replace(/^#/,"");return![3,4,6,8].includes(e.length)||!/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(e)?null:`#${e}`}class K2e extends qt(sr){constructor(e){super(e),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(e,t){return this.find(r=>r.color===e.color)?this:super.add(e,t)}hasColor(e){return!!this.find(t=>t.color===e)}}class X2e extends Le{items;colorDefinitions;focusTracker;columns;documentColors;documentColorsCount;staticColorsGrid;documentColorsGrid;colorPickerButtonView;removeColorButtonView;_focusables;_documentColorsLabel;_removeButtonLabel;_colorPickerLabel;constructor(e,{colors:t,columns:r,removeButtonLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerLabel:a,focusTracker:l,focusables:u}){super(e);const f=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=l,this.items=this.createCollection(),this.colorDefinitions=t,this.columns=r,this.documentColors=new K2e,this.documentColorsCount=o,this._focusables=u,this._removeButtonLabel=i,this._colorPickerLabel=a,this._documentColorsLabel=s,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",f.if("isVisible","ck-hidden",m=>!m)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,t){const r=e.document,i=this.documentColorsCount;this.documentColors.clear();for(const s of r.getRoots()){const o=e.createRangeIn(s);for(const a of o.getItems())if(a.is("$textProxy")&&a.hasAttribute(t)&&(this._addColorToDocumentColors(a.getAttribute(t)),this.documentColors.length>=i))return}}updateSelectedColors(){const e=this.documentColorsGrid,t=this.staticColorsGrid,r=this.selectedColor;t.selectedColor=r,e&&(e.selectedColor=r)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=wo.bind(this.documentColors,this.documentColors),t=new Le(this.locale);t.setTemplate({tag:"span",attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]},children:[{text:this._documentColorsLabel}]}),this.items.add(t),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new et,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:v_e,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const e=new et;return e.set({withText:!0,icon:Dk,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),e.render(),e}_createStaticColorsGrid(){const e=new BO(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",(t,r)=>{this.fire("execute",{value:r.value,source:"staticColorsGrid"})}),e}_createDocumentColorsGrid(){const e=wo.bind(this.documentColors,this.documentColors),t=new BO(this.locale,{columns:this.columns});return t.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),t.items.bindTo(this.documentColors).using(r=>{const i=new P9;return i.set({color:r.color,hasBorder:r.options?.hasBorder}),r.label&&i.set({label:r.label,tooltip:!0}),i.on("execute",()=>{this.fire("execute",{value:r.color,source:"documentColorsGrid"})}),i}),this.documentColors.on("change:isEmpty",(r,i,s)=>{s&&(t.selectedColor=null)}),t}_addColorToDocumentColors(e){const t=this.colorDefinitions.find(r=>r.color===e);t?this.documentColors.add(Object.assign({},t)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}class J2e extends Le{items;colorPickerView;saveButtonView;cancelButtonView;actionBarView;focusTracker;keystrokes;_focusables;_colorPickerViewConfig;constructor(e,{focusTracker:t,focusables:r,keystrokes:i,colorPickerViewConfig:s}){super(e),this.items=this.createCollection(),this.focusTracker=t,this.keystrokes=i,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=r,this._colorPickerViewConfig=s;const o=this.bindTemplate,{saveButtonView:a,cancelButtonView:l}=this._createActionButtons();this.saveButtonView=a,this.cancelButtonView=l,this.actionBarView=this._createActionBarView({saveButtonView:a,cancelButtonView:l}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",o.if("isVisible","ck-hidden",u=>!u)]},children:this.items})}render(){super.render();const e=new j2e(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(t,r,i)=>{e.color=i}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())})}_stopPropagationOnArrowsKeys(){const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const t of this.colorPickerView.slidersView)this.focusTracker.add(t.element),this._focusables.add(t);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:e,cancelButtonView:t}){const r=new Le,i=this.createCollection();return i.add(e),i.add(t),r.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:i}),r}_createActionButtons(){const e=this.locale,t=e.t,r=new et(e),i=new et(e);return r.set({icon:xv,class:"ck-button-save",type:"button",withText:!1,label:t("Accept")}),i.set({icon:_v,class:"ck-button-cancel",type:"button",withText:!1,label:t("Cancel")}),r.on("execute",()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),i.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:r,cancelButtonView:i}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(e,t)=>{this.fire("execute",{value:t.color,source:"colorPicker"}),this.set("selectedColor",t.color)})}}class WC extends Le{focusTracker;keystrokes;items;colorGridsFragmentView;colorPickerFragmentView;_focusCycler;_focusables;_colorPickerViewConfig;constructor(e,{colors:t,columns:r,removeButtonLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerLabel:a,colorPickerViewConfig:l}){super(e),this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this._focusables=new pr,this._colorPickerViewConfig=l,this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new X2e(e,{colors:t,columns:r,removeButtonLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerLabel:a,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new J2e(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:l}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(u,f,m)=>{this.colorGridsFragmentView.set("selectedColor",m),this.colorPickerFragmentView.set("selectedColor",m)}),this.colorGridsFragmentView.on("change:selectedColor",(u,f,m)=>{this.set("selectedColor",m)}),this.colorPickerFragmentView.on("change:selectedColor",(u,f,m)=>{this.set("selectedColor",m)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){!this.colorPickerFragmentView.colorPickerView||this._isColorPickerFragmentVisible||(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,t){this.colorGridsFragmentView.updateDocumentColors(e,t)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class Q2e{editor;_components=new Map;constructor(e){this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(nE(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new q("componentfactory-item-missing",this,{name:e});return this._components.get(nE(e)).callback(this.editor.locale)}has(e){return this._components.has(nE(e))}}function nE(n){return String(n).toLowerCase()}const $O="ck-tooltip";class di extends Ei(){tooltipTextView;balloonPanelView;static defaultBalloonPositions=Bn.generatePositions({heightOffset:5,sideOffset:13});_currentElementWithTooltip=null;_currentTooltipPosition=null;_mutationObserver=null;_pinTooltipDebounced;_unpinTooltipDebounced;_watchdogExcluded;static _editors=new Set;static _instance=null;constructor(e){if(super(),di._editors.add(e),di._instance)return di._instance;di._instance=this,this.tooltipTextView=new Le(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Bn(e.locale),this.balloonPanelView.class=$O,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=Z2e(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=a0(this._pinTooltip,600),this._unpinTooltipDebounced=a0(this._unpinTooltip,400),this.listenTo(qe.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(qe.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(qe.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(qe.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(qe.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(qe.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;di._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),di._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),di._instance=null)}static getPositioningFunctions(e){const t=di.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){t.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,{target:t}){const r=rE(t);if(!r){e.name==="focus"&&this._unpinTooltip();return}if(r===this._currentElementWithTooltip){this._unpinTooltipDebounced.cancel();return}this._unpinTooltip(),e.name==="focus"&&!r.matches(":hover")||r.matches("[data-cke-tooltip-instant]")?this._pinTooltip(r,iE(r)):this._pinTooltipDebounced(r,iE(r))}_onLeaveOrBlur(e,{target:t,relatedTarget:r}){if(e.name==="mouseleave"){if(!RC(t))return;const i=this.balloonPanelView.element,s=i&&(i===r||i.contains(r)),o=!s&&t===i;if(s){this._unpinTooltipDebounced.cancel();return}if(!o&&this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const a=rE(t),l=rE(r);(o||a&&a!==l)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||a&&a.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:r,cssClass:i}){this._unpinTooltip();const s=_n(di._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.class=[$O,i].filter(o=>o).join(" "),this.balloonPanelView.pin({target:e,positions:di.getPositioningFunctions(r)}),this._mutationObserver.attach(e);for(const o of di._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of di._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=iE(this._currentElementWithTooltip);if(!sa(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:di.getPositioningFunctions(e.position)})}}function rE(n){return RC(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function iE(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function Z2e(n){const e=new MutationObserver(()=>{n()});return{attach(t){e.observe(t,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}class eEe extends C9{licenseTypeMessage={evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"};constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"})}_isEnabled(){const t=this.editor.config.get("licenseKey"),r=WO(t);return!!(r&&this.licenseTypeMessage[r])}_createBadgeContent(){const e=this.editor.config.get("licenseKey"),t=WO(e);return new tEe(this.editor.locale,this.licenseTypeMessage[t])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),t=this.editor.config.get("ui.poweredBy")||{},r=t.position||e.position,i=t.side||e.side;return{position:r,side:i==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class tEe extends Le{constructor(e,t){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[t]}]})}}function WO(n){if(n=="GPL")return"GPL";const e=eC(n.split(".")[1]);return e?e.licenseType||"production":null}class al extends So{constructor(e,t){super(e);const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:r.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}const W1=5,$d={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",e=>{if(!(!n.isFocusBorderEnabled&&!n.isOpen)){if(n.isOpen)for(const t of n.menus){const r=e.path[0],i=r instanceof al&&r.children.first===t;t.isOpen=(e.path.includes(t)||i)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(n){const e=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",r=>{t(r.source,e?-1:1)}),n.on("menu:arrowleft",r=>{t(r.source,e?1:-1)});function t(r,i){const s=n.children.getIndex(r),o=r.isOpen,a=n.children.length,l=n.children.get((s+a+i)%a);r.isOpen=!1,o&&(l.isOpen=!0),l.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(e,t,r)=>{r&&n.menus.filter(i=>e.source.parentMenuView===i.parentMenuView&&e.source!==i&&i.isOpen).forEach(i=>{i.isOpen=!1})})},closeOnClickOutside(n){Hu({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(e=>e.element)})},enableFocusHighlightOnInteraction(n){let e=!1;n.on("change:isOpen",(t,r,i)=>{i||(e||(n.isFocusBorderEnabled=!1),e=!1)}),n.listenTo(n.element,"keydown",()=>{e=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{e=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{e&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},ql={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isEnabled&&n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),t())})},openOnArrowRightKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(e,(t,r)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),r())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(e,t)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),t())})},closeOnArrowLeftKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(e,(t,r)=>{n.isOpen&&(n.isOpen=!1,n.focus(),r())})},closeOnEscKey(n){n.keystrokes.set("esc",(e,t)=>{n.isOpen&&(n.isOpen=!1,n.focus(),t())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(e,t,r)=>{!r&&e.source===n.parentMenuView&&(n.isOpen=!1)})}},nEe={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,e)=>({top:n.bottom,left:n.left-e.width+n.width,name:"sw"}),northEast:(n,e)=>({top:n.top-e.height,left:n.left,name:"ne"}),northWest:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-W1,name:"es"}),eastNorth:(n,e)=>({top:n.top-e.height,left:n.right-W1,name:"en"}),westSouth:(n,e)=>({top:n.top,left:n.left-e.width+W1,name:"ws"}),westNorth:(n,e)=>({top:n.top-e.height,left:n.left-e.width+W1,name:"wn"})},rEe=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"fullscreen",items:["menuBar:fullscreen"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable","menuBar:insertTableLayout"]},{groupId:"insertInline",items:["menuBar:link","menuBar:insertFootnote","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException:inline","menuBar:restrictedEditingException:block"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:lineHeight","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands","menuBar:toggleAi","menuBar:aiQuickActions"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function iEe(n){let e;return!("items"in n)||!n.items?e={items:PC(rEe),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n}:e={items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n},e}function sEe({normalizedConfig:n,locale:e,componentFactory:t,extraItems:r}){const i=PC(n);return jO(n,i,r),oEe(n,i),jO(n,i,i.addItems),aEe(n,i,t),z9(n,i),lEe(i,e),i}function oEe(n,e){const t=e.removeItems,r=[];e.items=e.items.filter(({menuId:i})=>t.includes(i)?(r.push(i),!1):!0),ph(e.items,i=>{i.groups=i.groups.filter(({groupId:s})=>t.includes(s)?(r.push(s),!1):!0);for(const s of i.groups)s.items=s.items.filter(o=>{const a=H9(o);return t.includes(a)?(r.push(a),!1):!0})});for(const i of t)r.includes(i)||It("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:i})}function jO(n,e,t){const r=[];if(t.length!=0){for(const i of t){const s=dEe(i.position),o=fEe(i.position);if(cEe(i))if(!o)s==="start"?(e.items.unshift(i.menu),r.push(i)):s==="end"&&(e.items.push(i.menu),r.push(i));else{const a=e.items.findIndex(l=>l.menuId===o);a!=-1?s==="before"?(e.items.splice(a,0,i.menu),r.push(i)):s==="after"&&(e.items.splice(a+1,0,i.menu),r.push(i)):qO(e,i.menu,o,s)&&r.push(i)}else uEe(i)?ph(e.items,a=>{if(a.menuId===o)s==="start"?(a.groups.unshift(i.group),r.push(i)):s==="end"&&(a.groups.push(i.group),r.push(i));else{const l=a.groups.findIndex(u=>u.groupId===o);l!==-1&&(s==="before"?(a.groups.splice(l,0,i.group),r.push(i)):s==="after"&&(a.groups.splice(l+1,0,i.group),r.push(i)))}}):qO(e,i.item,o,s)&&r.push(i)}for(const i of t)r.includes(i)||It("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:i})}}function qO(n,e,t,r){let i=!1;return ph(n.items,s=>{for(const{groupId:o,items:a}of s.groups){if(i)return;if(o===t)r==="start"?(a.unshift(e),i=!0):r==="end"&&(a.push(e),i=!0);else{const l=a.findIndex(u=>H9(u)===t);l!==-1&&(r==="before"?(a.splice(l,0,e),i=!0):r==="after"&&(a.splice(l+1,0,e),i=!0))}}}),i}function aEe(n,e,t){ph(e.items,r=>{for(const i of r.groups)i.items=i.items.filter(s=>{const o=typeof s=="string"&&!t.has(s);return o&&!e.isUsingDefaultConfig&&It("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:PC(r),componentName:s}),!o})})}function z9(n,e){const t=e.isUsingDefaultConfig;let r=!1;if(e.items=e.items.filter(i=>i.groups.length?!0:(sE(n,i,t),!1)),!e.items.length){sE(n,n,t);return}ph(e.items,i=>{i.groups=i.groups.filter(s=>s.items.length?!0:(r=!0,!1));for(const s of i.groups)s.items=s.items.filter(o=>$9(o)&&!o.groups.length?(sE(n,o,t),r=!0,!1):!0)}),r&&z9(n,e)}function sE(n,e,t){t||It("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:e})}function lEe(n,e){const t=e.t,r={File:t({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:t({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:t({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:t({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:t({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:t({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:t({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:t({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:t({string:"Font",id:"MENU_BAR_MENU_FONT"})};ph(n.items,i=>{i.label in r&&(i.label=r[i.label])})}function ph(n,e){if(Array.isArray(n))for(const r of n)t(r);function t(r){e(r);for(const i of r.groups)for(const s of i.items)$9(s)&&t(s)}}function cEe(n){return typeof n=="object"&&"menu"in n}function uEe(n){return typeof n=="object"&&"group"in n}function dEe(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function fEe(n){const e=n.match(/^[^:]+:(.+)/);return e?e[1]:null}function H9(n){return typeof n=="string"?n:n.menuId}function $9(n){return typeof n=="object"&&"menuId"in n}class hEe extends qt(){editor;componentFactory;focusTracker;tooltipManager;poweredBy;evaluationBadge;ariaLiveAnnouncer;isReady=!1;_editableElementsMap=new Map;_focusableToolbarDefinitions=[];_extraMenuBarElements=[];_lastFocusedForeignElement=null;_domEmitter;constructor(e){super();const t=e.editing.view;this.editor=e,this.componentFactory=new Q2e(e),this.focusTracker=new Yt,this.tooltipManager=new di(e),this.poweredBy=new w2e(e),this.evaluationBadge=new eEe(e),this.ariaLiveAnnouncer=new n2e(e),this._initViewportOffset(this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking(),this._initVisualViewportSupport()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._domEmitter&&this._domEmitter.stopListening()}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}extendMenuBar(e){this._extraMenuBarElements.push(e)}initMenuBar(e){const t=e.element;this.focusTracker.add(t),this.editor.keystrokes.listenTo(t);const r=iEe(this.editor.config.get("menuBar")||{});e.fillFromConfig(r,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(i,s)=>{t.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),s())}),this.editor.keystrokes.set("Alt+F9",(i,s)=>{t.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),s())})}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor;let t;e.keystrokes.set("Alt+F10",(r,i)=>{this._saveLastFocusedForeignElement();const s=this._getCurrentFocusedToolbarDefinition();(!s||!t)&&(t=this._getFocusableCandidateToolbarDefinitions());for(let o=0;o<t.length;o++){const a=t.shift();if(t.push(a),a!==s&&this._focusFocusableCandidateToolbar(a)){s&&s.options.afterBlur&&s.options.afterBlur();break}}i()}),e.keystrokes.set("Esc",(r,i)=>{const s=this._getCurrentFocusedToolbarDefinition();s&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),s.options.afterBlur&&s.options.afterBlur(),i())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:r,options:i}=t;(sa(r.element)||i.beforeFocus)&&e.push(t)}return e.sort((t,r)=>GO(t)-GO(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:r}}=e;return r&&r(),sa(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const r={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=r.top,t.viewportOffset.bottom+=r.bottom,t.viewportOffset.left+=r.left,t.viewportOffset.right+=r.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const t of e)this.focusTracker.add(t.element);e.on("add",(t,r)=>{this.focusTracker.add(r.element)}),e.on("remove",(t,r)=>{this.focusTracker.remove(r.element)})}_initViewportOffset(e){this.on("set:viewportOffset",(t,r,i)=>{const s=this._getVisualViewportTopOffset(i);i.visualTop!==s&&(t.return={...i,visualTop:s})}),this.set("viewportOffset",e)}_initVisualViewportSupport(){if(!qe.window.visualViewport)return;const e=()=>{const t=this._getVisualViewportTopOffset(this.viewportOffset);this.viewportOffset.visualTop!==t&&(this.viewportOffset={...this.viewportOffset,visualTop:t})};this._domEmitter=new(Ei()),this._domEmitter.listenTo(qe.window.visualViewport,"scroll",e),this._domEmitter.listenTo(qe.window.visualViewport,"resize",e)}_getVisualViewportTopOffset(e){const t=Jge().top,r=e.top||0;return t>r?0:r-t}}function GO(n){const{toolbarView:e,options:t}=n;let r=10;return sa(e.element)&&r--,t.isContextual&&(r-=2),r}class mEe extends Le{body;menuBarView;toolbar;constructor(e){super(e),this.body=new oo(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class gEe extends Le{name=null;_editingView;_editableElement;_hasExternalElement;constructor(e,t,r){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?r(this):t(this);function t(i){e.change(s=>{const o=e.document.getRoot(i.name);s.addClass(i.isFocused?"ck-focused":"ck-blurred",o),s.removeClass(i.isFocused?"ck-blurred":"ck-focused",o)})}function r(i){e.once("change:isRenderingInProgress",(s,o,a)=>{a?r(i):t(i)})}}}class pEe extends gEe{_options;constructor(e,t,r,i={}){super(e,t,r),this._options=i,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(t=>{const r=e.document.getRoot(this.name);t.setAttribute("aria-label",this.getEditableAriaLabel(),r)})}getEditableAriaLabel(){const e=this.locale.t,t=this._options.label,r=this._editableElement,i=this.name;if(typeof t=="string")return t;if(typeof t=="object")return t[i];if(typeof t=="function")return t(this);if(r){const s=r.getAttribute("aria-label");if(s)return s}return e("Rich Text Editor. Editing area: %0",i)}}class Wr extends Le{children;constructor(e,t={}){super(e);const r=this.bindTemplate;this.set("class",["ck","ck-form__row",...Gt(t.class||[])]),this.children=this.createCollection(),t.children&&t.children.forEach(i=>this.children.add(i)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:r.to("class",i=>i.join(" ")),role:r.to("_role"),"aria-labelledby":r.to("_ariaLabelledBy")},children:this.children})}}class YO extends vv{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class fc extends qt(){constructor(e,t){super(),t&&h_e(this,t),e&&this.set(e)}}const j1=fh("px");class Co extends ee{positionLimiter;visibleStack;_viewToStack=new Map;_idToStack=new Map;_view=null;_rotatorView=null;_fakePanelsView=null;static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.positionLimiter=()=>{const t=this.editor.editing.view,i=t.document.selection.editableElement;return i?t.domConverter.mapViewToDom(i.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new q("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const r=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),r.set(e.view,e),this._viewToStack.set(e.view,r),r===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new q("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:{...this.editor.ui.viewportOffset,top:this.editor.ui.viewportOffset.visualTop}})),e}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new q("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Bn(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(r=>r[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new bEe(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(r,i)=>!i&&r>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(r,i)=>{if(i<2)return"";const s=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[s,i])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new yEe(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,r)=>!r&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:r=!0,singleViewMode:i=!1}){this.view.class=t,this.view.withArrow=r,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}}class bEe extends Le{focusTracker;buttonPrevView;buttonNextView;content;constructor(e){super(e);const t=e.t,r=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Yt,this.buttonPrevView=this._createButtonView(t("Previous"),uc),this.buttonNextView=this._createButtonView(t("Next"),f9),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",r.to("isNavigationVisible",i=>i?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:r.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const r=new et(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r}}class yEe extends Le{content;_balloonPanelView;constructor(e,t){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",r.to("numberOfPanels",i=>i?"":"ck-hidden")],style:{top:r.to("top",j1),left:r.to("left",j1),width:r.to("width",j1),height:r.to("height",j1)}},children:this.content}),this.on("change:numberOfPanels",(i,s,o,a)=>{o>a?this._addPanels(o-a):this._removePanels(a-o),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Le;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:r,height:i}=new pt(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:r,height:i})}}}const wEe=fh("px");class vEe extends ee{toolbarView;focusTracker;_balloonConfig;_resizeObserver=null;_balloon;_fireSelectionChangeDebounced;static get pluginName(){return"BalloonToolbar"}static get isOfficialPlugin(){return!0}static get requires(){return[Co]}constructor(e){super(e),this._balloonConfig=F9(e.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new Yt,this._trackFocusableEditableElements(),this.focusTracker.add(this.toolbarView),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=e.plugins.get(Co),this._fireSelectionChangeDebounced=a0(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}init(){const e=this.editor,t=e.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(r,i,s)=>{const o=this._balloon.visibleView===this.toolbarView;!s&&o?this.hide():s&&this.show()}),this.listenTo(t,"change:range",(r,i)=>{(i.directChange||t.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(e,"ready",()=>{const r=e.ui.view.editable.element;this._resizeObserver=new Cn(r,i=>{this.toolbarView.maxWidth=wEe(i.contentRect.width*.9)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()}),e.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory)})}_createToolbarView(){const e=this.editor.locale.t,t=!this._balloonConfig.shouldNotGroupWhenFull,r=new dc(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return r.ariaLabel=e("Editor contextual toolbar"),r.render(),r}show(e=!1){const t=this.editor,r=t.model.document.selection,i=t.model.schema;this._balloon.hasView(this.toolbarView)||r.isCollapsed&&!e||_Ee(r,i)||Array.from(this.toolbarView.items).every(s=>s.isEnabled!==void 0&&!s.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_trackFocusableEditableElements(){const{editor:e,focusTracker:t}=this,{editing:r}=e;r.view.addObserver(class extends Ro{observe(s){t.add(s)}stopObserving(s){t.remove(s)}})}_getBalloonPositionData(){const t=this.editor.editing.view,r=t.document,i=r.selection,s=r.selection.isBackward;return{target:()=>{const o=s?i.getFirstRange():i.getLastRange(),a=pt.getDomRangeRects(t.domConverter.viewRangeToDom(o));return s?a[0]:(a.length>1&&a[a.length-1].width===0&&a.pop(),a[a.length-1])},positions:this._getBalloonPositions(s)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(e){const r=ot.isSafari&&ot.isiOS?Bn.generatePositions({heightOffset:Math.max(Bn.arrowHeightOffset,Math.round(20/qe.window.visualViewport.scale))}):Bn.defaultPositions;return e?[r.northWestArrowSouth,r.northWestArrowSouthWest,r.northWestArrowSouthEast,r.northWestArrowSouthMiddleEast,r.northWestArrowSouthMiddleWest,r.southWestArrowNorth,r.southWestArrowNorthWest,r.southWestArrowNorthEast,r.southWestArrowNorthMiddleWest,r.southWestArrowNorthMiddleEast]:[r.southEastArrowNorth,r.southEastArrowNorthEast,r.southEastArrowNorthWest,r.southEastArrowNorthMiddleEast,r.southEastArrowNorthMiddleWest,r.northEastArrowSouth,r.northEastArrowSouthEast,r.northEastArrowSouthWest,r.northEastArrowSouthMiddleEast,r.northEastArrowSouthMiddleWest]}}function _Ee(n,e){return n.rangeCount===1?!1:[...n.getRanges()].every(t=>{const r=t.getContainedElement();return r&&e.isSelectable(r)})}class xEe extends hh{arrowView;constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new fa;return e.content=Ev,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class EEe extends Le{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",r=>`ck-menu-bar__menu__panel_position_${r}`),t.if("isVisible","ck-hidden",r=>!r)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}class zi extends Le{buttonView;panelView;focusTracker;keystrokes;constructor(e){super(e);const t=this.bindTemplate;this.buttonView=new xEe(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new EEe(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new bn,this.focusTracker=new Yt,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",r=>!r),t.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),ql.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(ql.openOnButtonClick(this),ql.openOnArrowRightKey(this),ql.closeOnArrowLeftKey(this),ql.openAndFocusOnEnterKeyPress(this),ql.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),ql.openAndFocusPanelOnArrowDownKey(this),ql.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,t)=>{this.fire("arrowright"),t()}),this.keystrokes.set("arrowleft",(e,t)=>{this.fire("arrowleft"),t()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,t,r)=>{if(!r)return;const i=zi._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=i?i.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:r,northWest:i,westSouth:s,eastSouth:o,westNorth:a,eastNorth:l}=nEe;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[o,l,s,a]:[e,t,r,i]:this.parentMenuView?[s,a,o,l]:[t,e,i,r]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}static _getOptimalPosition=JS}class hc extends mh{constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const e=Array.from(this.items).some(t=>{const r=KO(t);return r&&r.isToggleable});this.items.forEach(t=>{const r=KO(t);r&&(r.hasCheckSpace=e)})}}function KO(n){return n instanceof So?n.children.map(e=>kEe(e)?e.buttonView:e).find(e=>e instanceof hh):null}function kEe(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof et}class W9 extends _2e{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const XO=["mouseenter","arrowleft","arrowright","change:isOpen"];class TEe extends Le{children;menus=[];constructor(e){super(e);const t=e.t,r=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",r.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t,r=[]){const i=this.locale,o=sEe({normalizedConfig:e,locale:i,componentFactory:t,extraItems:r}).items.map(a=>this._createMenu({componentFactory:t,menuDefinition:a}));this.children.addMany(o)}render(){super.render(),$d.toggleMenusAndFocusItemsOnHover(this),$d.closeMenusWhenTheBarCloses(this),$d.closeMenuWhenAnotherOnTheSameLevelOpens(this),$d.focusCycleMenusOnArrows(this),$d.closeOnClickOutside(this),$d.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}disable(){for(const e of this.children)e.isEnabled=!1}enable(){for(const e of this.children)e.isEnabled=!0}registerMenu(e,t=null){t?(e.delegate(...XO).to(t),e.parentMenuView=t):e.delegate(...XO).to(this,r=>"menu:"+r),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:r}){const i=this.locale,s=new zi(i);return this.registerMenu(s,r),s.buttonView.set({label:t.label}),s.once("change:isOpen",()=>{const o=new hc(i);o.ariaLabel=t.label,s.panelView.children.add(o),o.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:s,componentFactory:e}))}),s}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:r}){const i=this.locale,s=[];for(const o of e.groups){for(const a of o.items){const l=new al(i,t);if(Iy(a))l.children.add(this._createMenu({componentFactory:r,menuDefinition:a,parentMenuView:t}));else{const u=this._createMenuItemContentFromFactory({componentName:a,componentFactory:r,parentMenuView:t});if(!u)continue;l.children.add(u)}s.push(l)}o!==e.groups[e.groups.length-1]&&s.push(new kv(i))}return s}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:r}){const i=r.create(e);return i instanceof zi||i instanceof xn||i instanceof W9?(this._registerMenuTree(i,t),i.on("execute",()=>{this.close()}),i):(It("menu-bar-component-unsupported",{componentName:e,componentView:i}),null)}_registerMenuTree(e,t){if(!(e instanceof zi)){e.delegate("mouseenter").to(t);return}this.registerMenu(e,t);const r=e.panelView.children.filter(s=>s instanceof hc)[0];if(!r){e.delegate("mouseenter").to(t);return}const i=r.items.filter(s=>s instanceof So);for(const s of i)this._registerMenuTree(s.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,r,i)=>{clearTimeout(e),i?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(s=>s.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const jC=["left","right","center","justify"];function j9(n){return jC.includes(n)}function q9(n,e){return e.contentLanguageDirection=="rtl"?n==="right":n==="left"}function G9(n){const e=n.map(r=>{let i;return typeof r=="string"?i={name:r}:i=r,i}).filter(r=>{const i=jC.includes(r.name);return i||It("alignment-config-name-not-recognized",{option:r}),i}),t=e.filter(r=>!!r.className).length;if(t&&t<e.length)throw new q("alignment-config-classnames-are-missing",{configuredOptions:n});return e.forEach((r,i,s)=>{const o=s.slice(i+1);if(o.some(l=>l.name==r.name))throw new q("alignment-config-name-already-defined",{option:r,configuredOptions:n});if(r.className&&o.some(u=>u.className==r.className))throw new q("alignment-config-classname-already-defined",{option:r,configuredOptions:n})}),e}const qC="alignment";class SEe extends lt{refresh(){const t=this.editor.locale,r=_n(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!r&&this._canBeAligned(r),this.isEnabled&&r.hasAttribute("alignment")?this.value=r.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,r=t.locale,i=t.model,s=i.document,o=e.value;i.change(a=>{const l=Array.from(s.selection.getSelectedBlocks()).filter(m=>this._canBeAligned(m)),u=l[0].getAttribute("alignment");q9(o,r)||u===o||!o?CEe(l,a):AEe(l,a,o)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,qC)}}function CEe(n,e){for(const t of n)e.removeAttribute(qC,t)}function AEe(n,e,t){for(const r of n)e.setAttribute(qC,t,r)}class NEe extends ee{static get pluginName(){return"AlignmentEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("alignment",{options:jC.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,r=e.model.schema,s=G9(e.config.get("alignment.options")).filter(u=>j9(u.name)&&!q9(u.name,t)),o=s.some(u=>!!u.className);r.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?e.conversion.attributeToAttribute(OEe(s)):e.conversion.for("downcast").attributeToAttribute(PEe(s));const a=REe(s);for(const u of a)e.conversion.for("upcast").attributeToAttribute(u);const l=IEe(s);for(const u of l)e.conversion.for("upcast").attributeToAttribute(u);e.commands.add("alignment",new SEe(e))}}function PEe(n){const e={};for(const{name:r}of n)e[r]={key:"style",value:{"text-align":r}};return{model:{key:"alignment",values:n.map(r=>r.name)},view:e}}function REe(n){const e=[];for(const{name:t}of n)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function IEe(n){const e=[];for(const{name:t}of n)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function OEe(n){const e={};for(const r of n)e[r.name]={key:"class",value:r.className};return{model:{key:"alignment",values:n.map(r=>r.name)},view:e}}const Im=new Map([["left",IC],["right",l9],["center",o9],["justify",a9]]);class MEe extends ee{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=G9(e.config.get("alignment.options"));t.map(r=>r.name).filter(j9).forEach(r=>this._addButton(r)),this._addToolbarDropdown(t),this._addMenuBarMenu(t)}_addButton(e){this.editor.ui.componentFactory.add(`alignment:${e}`,r=>this._createButton(r,e))}_createButton(e,t,r={}){const i=this.editor,s=i.commands.get("alignment"),o=new et(e);return o.set({label:this.localizedOptionTitles[t],icon:Im.get(t),tooltip:!0,isToggleable:!0,...r}),o.bind("isEnabled").to(s),o.bind("isOn").to(s,"value",a=>a===t),this.listenTo(o,"execute",()=>{i.execute("alignment",{value:t}),i.editing.view.focus()}),o}_addToolbarDropdown(e){const t=this.editor;t.ui.componentFactory.add("alignment",i=>{const s=Er(i),o=i.uiLanguageDirection==="rtl"?"w":"e",a=i.t;J0(s,()=>e.map(f=>this._createButton(i,f.name,{tooltipPosition:o})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:a("Text alignment toolbar")}),s.buttonView.set({label:a("Text alignment"),tooltip:!0}),s.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const l=i.contentLanguageDirection==="rtl"?Im.get("right"):Im.get("left"),u=t.commands.get("alignment");return s.buttonView.bind("icon").to(u,"value",f=>Im.get(f)||l),s.bind("isEnabled").to(u,"isEnabled"),this.listenTo(s,"execute",()=>{t.editing.view.focus()}),s})}_addMenuBarMenu(e){const t=this.editor;t.ui.componentFactory.add("menuBar:alignment",r=>{const i=t.commands.get("alignment"),s=r.t,o=new zi(r),a=new hc(r);o.bind("isEnabled").to(i),a.set({ariaLabel:s("Text alignment"),role:"menu"}),o.buttonView.set({label:s("Text alignment")});for(const l of e){const u=new al(r,o),f=new xn(r);f.delegate("execute").to(o),f.set({label:this.localizedOptionTitles[l.name],icon:Im.get(l.name),role:"menuitemcheckbox",isToggleable:!0}),f.on("execute",()=>{t.execute("alignment",{value:l.name}),t.editing.view.focus()}),f.bind("isOn").to(i,"value",m=>m===l.name),f.bind("isEnabled").to(i,"isEnabled"),u.children.add(f),a.items.add(u)}return o.panelView.children.add(a),o})}}class DEe extends ee{static get requires(){return[NEe,MEe]}static get pluginName(){return"Alignment"}static get isOfficialPlugin(){return!0}}function FEe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function LEe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=FEe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function Y9(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(Y9).join(",");const e=String(n);return e==="0"&&Object.is(Number(n),-0)?"-0":e}function BEe(n){return n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}function VEe(n){return BEe(Y9(n))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class K9{model;limit;_isLocked;_size;_batch=null;_changeCallback;_selectionChangeCallback;constructor(e,t=20){this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(r,i)=>{i.isLocal&&i.isUndoable&&i!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}class UEe extends lt{_buffer;constructor(e,t){super(e),this._buffer=new K9(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,r=t.document,i=e.text||"",s=i.length;let o=r.selection;if(e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range)),!t.canEditAt(o))return;const a=e.resultRange;t.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const u=Array.from(r.selection.getAttributes());t.deleteContent(o),i&&t.insertContent(l.createText(i,u),o),a?l.setSelection(a):o.is("documentSelection")||l.setSelection(o),this._buffer.unlock(),this._buffer.input(s)})}}const X9=["insertText","insertReplacementText"],zEe=[...X9,"insertCompositionText"];class HEe extends Ro{focusObserver;constructor(e){super(e),this.focusObserver=e.getObserver(Ay);const t=ot.isAndroid?zEe:X9,r=e.document;r.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{data:o,targetRanges:a,inputType:l,domEvent:u,isComposing:f}=s;if(!t.includes(l))return;this.focusObserver.flush();const m=new ol(r,"insertText");r.fire(m,new Nu(e,u,{text:o,selection:e.createSelection(a),isComposing:f})),m.stop.called&&i.stop()}),ot.isAndroid||r.on("compositionend",(i,{data:s,domEvent:o})=>{this.isEnabled&&s&&r.fire("insertText",new Nu(e,o,{text:s,isComposing:!0}))},{priority:"low"})}observe(){}stopObserving(){}}class J9 extends ee{_typingQueue;static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model,r=e.editing.view,i=e.editing.mapper,s=t.document.selection;this._typingQueue=new $Ee(e),r.addObserver(HEe);const o=new UEe(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",o),e.commands.add("input",o),this.listenTo(r.document,"beforeinput",()=>{this._typingQueue.flush("next beforeinput")},{priority:"high"}),this.listenTo(r.document,"insertText",(a,l)=>{const{text:u,selection:f}=l;if(r.document.selection.isFake&&f&&r.document.selection.isSimilar(f)&&l.preventDefault(),f&&Array.from(f.getRanges()).some(v=>!v.isCollapsed)&&l.preventDefault(),!o.isEnabled){l.preventDefault();return}let m;f?m=Array.from(f.getRanges()).map(v=>i.toModelRange(v)).map(v=>TC(v,t.schema)||v):m=Array.from(s.getRanges());let p=u;if(ot.isAndroid){const v=Array.from(m[0].getItems()).reduce((w,E)=>w+(E.is("$textProxy")?E.data:""),"");if(v&&(v.length<=p.length?p.startsWith(v)&&(p=p.substring(v.length),m[0].start=m[0].start.getShiftedBy(v.length)):v.startsWith(p)&&(m[0].start=m[0].start.getShiftedBy(p.length),p="")),p.length==0&&m[0].isCollapsed)return}const y={text:p,selection:t.createSelection(m)};this._typingQueue.push(y,!!l.isComposing),l.domEvent.defaultPrevented&&this._typingQueue.flush("beforeinput default prevented")}),ot.isAndroid?this.listenTo(r.document,"keydown",(a,l)=>{s.isCollapsed||l.keyCode!=229||!r.document.isComposing||JO(t,o)}):this.listenTo(r.document,"compositionstart",()=>{s.isCollapsed||JO(t,o)},{priority:"high"}),this.listenTo(r.document,"mutations",(a,{mutations:l})=>{if(this._typingQueue.hasAffectedElements())for(const{node:u}of l){const f=jEe(u,i),m=i.toModelElement(f);if(this._typingQueue.isElementAffected(m)){this._typingQueue.flush("mutations");return}}}),this.listenTo(r.document,"compositionend",()=>{this._typingQueue.flush("before composition end")},{priority:"high"}),this.listenTo(r.document,"compositionend",()=>{this._typingQueue.flush("after composition end");const a=[];if(this._typingQueue.hasAffectedElements())for(const l of this._typingQueue.flushAffectedElements()){const u=i.toViewElement(l);u&&a.push({type:"children",node:u})}(a.length||!ot.isAndroid)&&r.document.fire("mutations",{mutations:a})},{priority:"lowest"})}destroy(){super.destroy(),this._typingQueue.destroy()}}class $Ee{editor;flushDebounced=LEe(()=>this.flush("timeout"),50);_queue=[];_isComposing=!1;_affectedElements=new Set;constructor(e){this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._affectedElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e,t){const r={text:e.text};if(e.selection){r.selectionRanges=[];for(const i of e.selection.getRanges())r.selectionRanges.push(Di.fromRange(i)),this._affectedElements.add(i.start.parent)}this._queue.push(r),this._isComposing||=t,this.flushDebounced()}shift(){const e=this._queue.shift(),t={text:e.text};if(e.selectionRanges){const r=e.selectionRanges.map(i=>WEe(i)).filter(i=>!!i);r.length&&(t.selection=this.editor.model.createSelection(r))}return t}flush(e){const t=this.editor,r=t.model,i=t.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const o=t.commands.get("insertText").buffer;r.enqueueChange(o.batch,()=>{for(o.lock();this._queue.length;){const a=this.shift();t.execute("insertText",a)}o.unlock(),this._isComposing||this._affectedElements.clear(),this._isComposing=!1}),i.scrollToTheSelection()}isElementAffected(e){return this._affectedElements.has(e)}hasAffectedElements(){return this._affectedElements.size>0}flushAffectedElements(){const e=Array.from(this._affectedElements);return this._affectedElements.clear(),e}}function JO(n,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}function WEe(n){const e=n.toRange();return n.detach(),e.root.rootName=="$graveyard"?null:e}function jEe(n,e){let t=n.is("$text")?n.parent:n;for(;!e.toModelElement(t);)t=t.parent;return t}class QO extends lt{direction;_buffer;constructor(e,t){super(e),this.direction=t,this._buffer=new K9(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,r=t.document;t.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const s=i.createSelection(e.selection||r.selection);if(!t.canEditAt(s))return;const o=e.sequence||1,a=s.isCollapsed;if(s.isCollapsed&&t.modifySelection(s,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(i);return}if(this._shouldReplaceFirstBlockWithParagraph(s,o)){this.editor.execute("paragraph",{selection:s});return}if(s.isCollapsed)return;let l=0;s.getFirstRange().getMinimalFlatRanges().forEach(u=>{l+=kk(u.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(s,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),i.setSelection(s),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,i=t.document.selection,s=t.schema.getLimitElement(i);if(!(i.isCollapsed&&i.containsEntireContent(s))||!t.schema.checkChild(s,"paragraph"))return!1;const a=s.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,i=t.document.selection,s=t.schema.getLimitElement(i),o=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(o,s),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const r=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const i=e.getFirstPosition(),s=r.schema.getLimitElement(i),o=s.getChild(0);return!(i.parent!=o||!e.containsEntireContent(o)||!r.schema.checkChild(s,"paragraph")||o.name=="paragraph")}}const qEe="character",ZO="word",GEe="codePoint",Kl="selection",nf="backward",Xm="forward",Q9={deleteContent:{unit:Kl,direction:nf},deleteContentBackward:{unit:GEe,direction:nf},deleteWordBackward:{unit:ZO,direction:nf},deleteHardLineBackward:{unit:Kl,direction:nf},deleteSoftLineBackward:{unit:Kl,direction:nf},deleteContentForward:{unit:qEe,direction:Xm},deleteWordForward:{unit:ZO,direction:Xm},deleteHardLineForward:{unit:Kl,direction:Xm},deleteSoftLineForward:{unit:Kl,direction:Xm}};class YEe extends Ro{constructor(e){super(e);const t=e.document;let r=0;t.on("keydown",()=>{r++}),t.on("keyup",()=>{r=0}),t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=s,u=Q9[l];if(!u)return;const f={direction:u.direction,unit:u.unit,sequence:r};f.unit==Kl&&(f.selectionToRemove=e.createSelection(o[0])),l==="deleteContentBackward"&&(ot.isAndroid&&(f.sequence=1),XEe(o)&&(f.unit=Kl,f.selectionToRemove=e.createSelection(o)));const m=new Uu(t,"delete",o[0]);t.fire(m,new Nu(e,a,f)),m.stop.called&&i.stop()}),ot.isBlink&&KEe(this)}observe(){}stopObserving(){}}function KEe(n){const e=n.view,t=e.document;let r=null,i=!1;t.on("keydown",(a,{keyCode:l})=>{r=l,i=!1}),t.on("keyup",(a,{keyCode:l,domEvent:u})=>{const f=t.selection,m=n.isEnabled&&l==r&&s(l)&&!f.isCollapsed&&!i;if(r=null,m){const p=f.getFirstRange(),y=new Uu(t,"delete",p),v={unit:Kl,direction:o(l),selectionToRemove:f};t.fire(y,new Nu(e,u,v))}}),t.on("beforeinput",(a,{inputType:l})=>{const u=Q9[l];s(r)&&u&&u.direction==o(r)&&(i=!0)},{priority:"high"}),t.on("beforeinput",(a,{inputType:l,data:u})=>{r==xt.delete&&l=="insertText"&&u==""&&a.stop()},{priority:"high"});function s(a){return a==xt.backspace||a==xt.delete}function o(a){return a==xt.backspace?nf:Xm}}function XEe(n){if(n.length!=1||n[0].isCollapsed)return!1;const e=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:r,item:i}of e){if(r.parent.is("$text")){const s=r.parent.data,o=r.offset;if(tC(s,o)||nC(s,o)||UB(s,o))continue;t++}else(i.is("containerElement")||i.is("emptyElement"))&&t++;if(t>1)return!0}return!1}class _c extends ee{_undoOnBackspace;static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,r=t.document,i=e.model.document;t.addObserver(YEe),this._undoOnBackspace=!1;const s=new QO(e,"forward");e.commands.add("deleteForward",s),e.commands.add("forwardDelete",s),e.commands.add("delete",new QO(e,"backward")),this.listenTo(r,"delete",(o,a)=>{r.isComposing||a.preventDefault();const{direction:l,sequence:u,selectionToRemove:f,unit:m}=a,p=l==="forward"?"deleteForward":"delete",y={sequence:u};if(m=="selection"){const v=Array.from(f.getRanges()).map(w=>e.editing.mapper.toModelRange(w)).map(w=>TC(w,e.model.schema)||w);y.selection=e.model.createSelection(v)}else y.unit=m;e.execute(p,y),t.scrollToTheSelection()},{priority:"low"}),this.listenTo(r,"keydown",(o,a)=>{if(r.isComposing||a.keyCode!=xt.backspace||!i.selection.isCollapsed)return;const l=e.model.schema.getLimitElement(i.selection),u=e.model.createPositionAt(l,0);if(u.isTouching(i.selection.getFirstPosition())){a.preventDefault();const f=e.model.schema.getNearestSelectionRange(u,"forward");if(!f)return;const m=t.createSelection(e.editing.mapper.toViewRange(f)),p=m.getFirstRange(),y=new Uu(document,"delete",p),v={unit:"selection",direction:"backward",selectionToRemove:m};r.fire(y,new Nu(t,a.domEvent,v))}}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(o,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(i,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Z9 extends ee{static get requires(){return[J9,_c]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function eU(n,e){let t=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((i,{item:s})=>s.is("$text")||s.is("$textProxy")?i+s.data:(t=e.createPositionAfter(s),""),""),range:e.createRange(t,n.end)}}class tU extends qt(){model;testCallback;_hasMatch;constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(r,{directChange:i})=>{if(i){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(r,i)=>{i.isUndo||!i.isLocal||this._evaluateTextBeforeSelection("data",{batch:i})})}_evaluateTextBeforeSelection(e,t={}){const r=this.model,s=r.document.selection,o=r.createRange(r.createPositionAt(s.focus.parent,0),s.focus),{text:a,range:l}=eU(o,r),u=this.testCallback(a);if(!u&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!u,u){const f=Object.assign(t,{text:a,range:l});typeof u=="object"&&Object.assign(f,u),this.fire(`matched:${e}`,f)}}}class Ly extends ee{attributes;_overrideUid;_isNextGravityRestorationSkipped=!1;static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,r=e.editing.view,i=e.locale,s=t.document.selection;this.listenTo(r.document,"arrowKey",(o,a)=>{if(!s.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const l=a.keyCode==xt.arrowright,u=a.keyCode==xt.arrowleft;if(!l&&!u)return;const f=i.contentLanguageDirection;let m=!1;f==="ltr"&&l||f==="rtl"&&u?m=this._handleForwardMovement(a):m=this._handleBackwardMovement(a),m===!0&&o.stop()},{context:"$text",priority:"highest"}),this.listenTo(s,"change:range",(o,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&Fs(s.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,r=this.editor.model,i=r.document.selection,s=i.getFirstPosition();return this._isGravityOverridden||s.isAtStart&&Ma(i,t)?!1:Fs(s,t)?(e&&Mm(e),Ma(i,t)&&Fs(s,t,!0)?Om(r,t):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,r=this.editor.model,i=r.document.selection,s=i.getFirstPosition();return this._isGravityOverridden?(e&&Mm(e),this._restoreGravity(),Fs(s,t,!0)?Om(r,t):q1(r,t,s),!0):s.isAtStart?Ma(i,t)?(e&&Mm(e),q1(r,t,s),!0):!1:!Ma(i,t)&&Fs(s,t,!0)?(e&&Mm(e),q1(r,t,s),!0):e6(s,t)?s.isAtEnd&&!Ma(i,t)&&Fs(s,t)?(e&&Mm(e),q1(r,t,s),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,t=e.model,r=t.document.selection,i=e.editing.view.document;e.editing.view.addObserver(CC),e.editing.view.addObserver(rwe);let s=!1,o=!1;this.listenTo(i,"touchstart",()=>{o=!1,s=!0}),this.listenTo(i,"mousedown",()=>{o=!0}),this.listenTo(i,"selectionChange",()=>{const a=this.attributes;if(!o&&!s||(o=!1,s=!1,!r.isCollapsed)||!Ma(r,a))return;const l=r.getFirstPosition();Fs(l,a)&&(l.isAtStart||Fs(l,a,!0)?Om(t,a):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,r=t.document.selection,i=this.attributes;this.listenTo(t,"insertContent",()=>{const s=r.getFirstPosition();Ma(r,i)&&Fs(s,i)&&Om(t,i)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,r=t.document.selection,i=e.editing.view;let s=!1,o=!1;this.listenTo(i.document,"delete",(a,l)=>{s=l.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!s)return;const a=r.getFirstPosition();o=Ma(r,this.attributes)&&!e6(a,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{s&&(s=!1,!o&&e.model.enqueueChange(()=>{const a=r.getFirstPosition();Ma(r,this.attributes)&&Fs(a,this.attributes)&&(a.isAtStart||Fs(a,this.attributes,!0)?Om(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Ma(n,e){for(const t of e)if(n.hasAttribute(t))return!0;return!1}function q1(n,e,t){const r=t.nodeBefore;n.change(i=>{if(r){const s=[],o=n.schema.isObject(r)&&n.schema.isInline(r);for(const[a,l]of r.getAttributes())n.schema.checkAttribute("$text",a)&&(!o||n.schema.getAttributeProperties(a).copyFromObject!==!1)&&s.push([a,l]);i.setSelectionAttribute(s)}else i.removeSelectionAttribute(e)})}function Om(n,e){n.change(t=>{t.removeSelectionAttribute(e)})}function Mm(n){n.preventDefault()}function e6(n,e){const t=n.getShiftedBy(-1);return Fs(t,e)}function Fs(n,e,t=!1){const{nodeBefore:r,nodeAfter:i}=n;for(const s of e){const o=r?r.getAttribute(s):void 0,a=i?i.getAttribute(s):void 0;if(!(t&&(o===void 0||a===void 0))&&a!==o)return!0}return!1}const t6={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Wd('"'),to:[null,"",null,""]},quotesSecondary:{from:Wd("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Wd("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Wd('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Wd('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Wd("'"),to:[null,"",null,""]}},n6={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},JEe=["symbols","mathematical","typography","quotes"];class QEe extends ee{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("typing",{transformations:{include:JEe}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,r=e.plugins.get("Delete"),i=nke(e.config.get("typing.transformations")),s=a=>{for(const l of i)if(l.from.test(a))return{normalizedTransformation:l}},o=new tU(e.model,s);o.on("matched:data",(a,l)=>{if(!l.batch.isTyping)return;const{from:u,to:f}=l.normalizedTransformation,m=u.exec(l.text),p=f(m.slice(1)),y=l.range;let v=m.index;t.enqueueChange(w=>{for(let E=1;E<m.length;E++){const k=m[E],T=p[E-1];if(T==null){v+=k.length;continue}const S=y.start.getShiftedBy(v),P=t.createRange(S,S.getShiftedBy(k.length)),R=tke(S);t.insertContent(w.createText(T,R),P),v+=T.length}t.enqueueChange(()=>{r.requestUndoOnBackspace()})})}),o.bind("isEnabled").to(this)}}function ZEe(n){return typeof n=="string"?new RegExp(`(${VEe(n)})$`):n}function eke(n){return typeof n=="string"?()=>[n]:n instanceof Array?()=>n:n}function tke(n){return(n.textNode?n.textNode:n.nodeAfter).getAttributes()}function Wd(n){return new RegExp(`(^|\\s)(${n})([^${n}]*)(${n})$`)}function nke(n){const e=n.extra||[],t=n.remove||[],r=s=>!t.includes(s),i=n.include.concat(e).filter(r);return rke(i).filter(r).map(s=>typeof s=="string"&&t6[s]?t6[s]:s).filter(s=>typeof s=="object").map(s=>({from:ZEe(s.from),to:eke(s.to)}))}function rke(n){const e=new Set;for(const t of n)if(typeof t=="string"&&n6[t])for(const r of n6[t])e.add(r);else e.add(t);return Array.from(e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Q0(n,e,t,r){return r.createRange(Hk(n,e,t,!0,r),Hk(n,e,t,!1,r))}function Hk(n,e,t,r,i){let s=n.textNode||(r?n.nodeBefore:n.nodeAfter),o=null;for(;s&&s.getAttribute(e)==t;)o=s,s=r?s.previousSibling:s.nextSibling;return o?i.createPositionAt(o,r?"before":"after"):n}function nU(n,e,t,r){const i=n.editing.view,s=new Set;i.document.registerPostFixer(o=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(e)){const u=Q0(a.getFirstPosition(),e,a.getAttribute(e),n.model),f=n.editing.mapper.toViewRange(u);for(const m of f.getItems())m.is("element",t)&&!m.hasClass(r)&&(o.addClass(r,m),s.add(m),l=!0)}return l}),n.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){i.change(l=>{for(const u of s.values())l.removeClass(r,u),s.delete(u)})}})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Gl(n,e,t,r){let i,s=null;typeof r=="function"?i=r:(s=n.commands.get(r),i=()=>{n.execute(r)}),n.model.document.on("change:data",(o,a)=>{if(s&&!s.isEnabled||!e.isEnabled)return;const l=_n(n.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const u=Array.from(n.model.document.differ.getChanges()),f=u[0];if(u.length!=1||f.type!=="insert"||f.name!="$text"||f.length!=1)return;const m=f.position.parent;if(m.is("element","codeBlock")||m.is("element","listItem")&&typeof r!="function"&&!["numberedList","bulletedList","todoList"].includes(r)||s&&s.value===!0)return;const p=m.getChild(0),y=n.model.createRangeOn(p);if(!y.containsRange(l)&&!l.end.isEqual(y.end))return;const v=t.exec(p.data.substr(0,l.end.offset));v&&n.model.enqueueChange(w=>{const E=n.model.document.selection,k=w.createPositionAt(m,0),T=w.createPositionAt(m,v[0].length),S=new Di(k,T);if(i({match:v})!==!1){const R=Array.from(E.getAttributes());w.remove(S);const D=E.getFirstRange(),A=w.createRangeIn(m);m.isEmpty&&!A.isEqual(D)&&!A.containsRange(D,!0)&&w.remove(m),ike(w,E,R)}S.detach(),n.model.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})})})}function ike(n,e,t){const r=n.model.schema,i=e.getFirstPosition();let s=new Ja(i);r.checkChild(s,"$text")&&(s=s.push("$text"));for(const[o,a]of t)r.checkAttribute(s,o)&&n.setSelectionAttribute(o,a)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function jd(n,e,t,r){let i,s;t instanceof RegExp?i=t:s=t,s=s||(o=>{let a;const l=[],u=[];for(;(a=i.exec(o))!==null&&!(a&&a.length<4);){let{index:f,"1":m,"2":p,"3":y}=a;const v=m+p+y;f+=a[0].length-v.length;const w=[f,f+m.length],E=[f+m.length+p.length,f+m.length+p.length+y.length];l.push(w),l.push(E),u.push([f+m.length,f+m.length+p.length])}return{remove:l,format:u}}),n.model.document.on("change:data",(o,a)=>{if(a.isUndo||!a.isLocal||!e.isEnabled)return;const l=n.model,u=l.document.selection;if(!u.isCollapsed)return;const f=Array.from(l.document.differ.getChanges()),m=f[0];if(f.length!=1||m.type!=="insert"||m.name!="$text"||m.length!=1)return;const p=u.focus,y=p.parent,{text:v,range:w}=ske(l.createRange(l.createPositionAt(y,0),p),l),E=s(v),k=r6(w.start,E.format,l),T=r6(w.start,E.remove,l);k.length&&T.length&&l.enqueueChange(S=>{if(r(S,k)!==!1){for(const R of T.reverse())S.remove(R);l.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})}})})}function r6(n,e,t){return e.filter(r=>r[0]!==void 0&&r[1]!==void 0).map(r=>t.createRange(n.getShiftedBy(r[0]),n.getShiftedBy(r[1])))}function ske(n,e){let t=n.start;return{text:Array.from(n.getItems()).reduce((i,s)=>!(s.is("$text")||s.is("$textProxy"))||s.getAttribute("code")?(t=e.createPositionAfter(s),""):i+s.data,""),range:e.createRange(t,n.end)}}class oke extends ee{static get requires(){return[_c]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&Gl(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Gl(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&Gl(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&Gl(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const t=G1(this.editor,"bold");jd(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),jd(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){const t=G1(this.editor,"italic");jd(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),jd(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(e.get("code")){const t=G1(this.editor,"code");jd(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(e.get("strikethrough")){const t=G1(this.editor,"strikethrough");jd(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const r=t[7],i=new RegExp(`^(#{${r}})\\s$`);Gl(this.editor,this,i,()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Gl(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&Gl(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Gl(this.editor,this,/^---$/,"horizontalLine")}}function G1(n,e){return(t,r)=>{if(!n.commands.get(e).isEnabled)return!1;const s=n.model.schema.getValidRanges(r,e);for(const o of s)t.setAttribute(e,!0,o);t.removeSelectionAttribute(e)}}function ake(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function lke(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=ake(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class cke extends ee{adapter;_debouncedSave;_lastDocumentVersion;_savePromise;_domEmitter;_config;_pendingActions;_makeImmediateSave;_action=null;static get pluginName(){return"Autosave"}static get isOfficialPlugin(){return!0}static get requires(){return[Ry]}constructor(e){super(e);const t=e.config.get("autosave")||{},r=t.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=lke(this._save.bind(this),r),this._lastDocumentVersion=e.model.document.version,this._savePromise=null,this._domEmitter=new(Ei()),this._config=t,this._pendingActions=e.plugins.get(Ry),this._makeImmediateSave=!1}init(){const e=this.editor,t=e.model.document;this.listenTo(e,"ready",()=>{this.listenTo(t,"change:data",(r,i)=>{this._saveCallbacks.length&&i.isLocal&&(this.state==="synchronized"&&(this.state="waiting",this._setPendingAction()),this.state==="waiting"&&this._debouncedSave())})}),this.listenTo(e,"destroy",()=>this._flush(),{priority:"highest"});/* istanbul ignore next -- @preserve */this._domEmitter.listenTo(window,"beforeunload",(r,i)=>{this._pendingActions.hasAny&&(i.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).finally(()=>{this._savePromise=null}).then(()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}).catch(e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e}),this._savePromise)}_setPendingAction(){const e=this.editor.t;this._action||(this._action=this._pendingActions.add(e("Saving changes")))}get _saveCallbacks(){const e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class $u extends lt{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,i=t.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;t.change(o=>{if(i.isCollapsed)s?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const a=t.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const l of a)s?o.setAttribute(this.attributeKey,s,l):o.removeAttribute(this.attributeKey,l)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,r=e.document.selection;if(r.isCollapsed)return r.hasAttribute(this.attributeKey);for(const i of r.getRanges())for(const s of i.getItems())if(t.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey);return!1}}const qd="bold";class uke extends ee{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:qd}),e.model.schema.setAttributeProperties(qd,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:qd,view:"strong",upcastAlso:["b",r=>{const i=r.getStyle("font-weight");return i&&(i=="bold"||Number(i)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(qd,new $u(e,qd)),e.keystrokes.set("CTRL+B",qd),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function Wu({editor:n,commandName:e,plugin:t,icon:r,label:i,keystroke:s}){return o=>{const a=n.commands.get(e),l=new o(n.locale);return l.set({label:i,icon:r,keystroke:s,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof xn?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),t.listenTo(l,"execute",()=>{n.execute(e),n.editing.view.focus()}),l}}const oE="bold";class dke extends ee{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=Wu({editor:e,commandName:oE,plugin:this,icon:c9,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(oE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+oE,()=>r(xn))}}class fke extends ee{static get requires(){return[uke,dke]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}const jc="code",hke="ck-code_selected";class mke extends ee{static get pluginName(){return"CodeEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ly]}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:jc}),e.model.schema.setAttributeProperties(jc,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:jc,view:"code"}),e.commands.add(jc,new $u(e,jc)),e.plugins.get(Ly).registerAttribute(jc),nU(e,jc,"code",hke),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}const aE="code";class gke extends ee{static get pluginName(){return"CodeUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=Wu({editor:e,commandName:aE,plugin:this,icon:w_e,label:t("Code")});e.ui.componentFactory.add(aE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+aE,()=>r(xn))}}class pke extends ee{static get requires(){return[mke,gke]}static get pluginName(){return"Code"}static get isOfficialPlugin(){return!0}}const Gd="italic";class bke extends ee{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Gd}),e.model.schema.setAttributeProperties(Gd,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Gd,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Gd,new $u(e,Gd)),e.keystrokes.set("CTRL+I",Gd),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const lE="italic";class yke extends ee{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=Wu({editor:e,commandName:lE,plugin:this,icon:R_e,keystroke:"CTRL+I",label:t("Italic")});e.ui.componentFactory.add(lE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+lE,()=>r(xn))}}class wke extends ee{static get requires(){return[bke,yke]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}const Dm="strikethrough";class vke extends ee{static get pluginName(){return"StrikethroughEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Dm}),e.model.schema.setAttributeProperties(Dm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Dm,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(Dm,new $u(e,Dm)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}const cE="strikethrough";class _ke extends ee{static get pluginName(){return"StrikethroughUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=Wu({editor:e,commandName:cE,plugin:this,icon:oxe,keystroke:"CTRL+SHIFT+X",label:t("Strikethrough")});e.ui.componentFactory.add(cE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+cE,()=>r(xn))}}class xke extends ee{static get requires(){return[vke,_ke]}static get pluginName(){return"Strikethrough"}static get isOfficialPlugin(){return!0}}const Fm="subscript";class Eke extends ee{static get pluginName(){return"SubscriptEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Fm}),e.model.schema.setAttributeProperties(Fm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Fm,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),e.commands.add(Fm,new $u(e,Fm))}}const uE="subscript";class kke extends ee{static get pluginName(){return"SubscriptUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=Wu({editor:e,commandName:uE,plugin:this,icon:axe,label:t("Subscript")});e.ui.componentFactory.add(uE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+uE,()=>r(xn))}}class Tke extends ee{static get requires(){return[Eke,kke]}static get pluginName(){return"Subscript"}static get isOfficialPlugin(){return!0}}const Lm="superscript";class Ske extends ee{static get pluginName(){return"SuperscriptEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Lm}),e.model.schema.setAttributeProperties(Lm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Lm,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),e.commands.add(Lm,new $u(e,Lm))}}const dE="superscript";class Cke extends ee{static get pluginName(){return"SuperscriptUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=Wu({editor:e,commandName:dE,plugin:this,icon:lxe,label:t("Superscript")});e.ui.componentFactory.add(dE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+dE,()=>r(xn))}}class Ake extends ee{static get requires(){return[Ske,Cke]}static get pluginName(){return"Superscript"}static get isOfficialPlugin(){return!0}}const Bm="underline";class Nke extends ee{static get pluginName(){return"UnderlineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Bm}),e.model.schema.setAttributeProperties(Bm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Bm,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(Bm,new $u(e,Bm)),e.keystrokes.set("CTRL+U","underline"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Underline text"),keystroke:"CTRL+U"}]})}}const fE="underline";class Pke extends ee{static get pluginName(){return"UnderlineUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=Wu({editor:e,commandName:fE,plugin:this,icon:bxe,label:t("Underline"),keystroke:"CTRL+U"});e.ui.componentFactory.add(fE,()=>r(et)),e.ui.componentFactory.add("menuBar:"+fE,()=>r(xn))}}class Rke extends ee{static get requires(){return[Nke,Pke]}static get pluginName(){return"Underline"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function*rU(n,e){for(const t of e)t&&n.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class Ike extends lt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,r=t.document.selection,i=t.schema,s=r.isCollapsed,o=r.getFirstRange(),a=o.start.parent,l=o.end.parent;if(i.isLimit(a)||i.isLimit(l))return!s&&a==l&&t.deleteContent(r),!1;if(s){const u=rU(e.model.schema,r.getAttributes());return i6(e,o.start),e.setSelectionAttribute(u),!0}else{const u=!(o.start.isAtStart&&o.end.isAtEnd),f=a==l;if(t.deleteContent(r,{leaveUnmerged:u}),u){if(f)return i6(e,r.focus),!0;e.setSelection(l,0)}}return!1}}function i6(n,e){n.split(e),n.setSelection(e.parent.nextSibling,0)}const Oke={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class iU extends Ro{constructor(e){super(e);const t=this.document;let r=!1;t.on("keydown",(i,s)=>{r=s.shiftKey}),t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;let o=s.inputType;ot.isSafari&&r&&o=="insertParagraph"&&(o="insertLineBreak");const a=s.domEvent,l=Oke[o];if(!l)return;const u=new Uu(t,"enter",s.targetRanges[0]);t.fire(u,new Nu(e,a,{isSoft:l.isSoft})),u.stop.called&&i.stop()})}observe(){}stopObserving(){}}class Z0 extends ee{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,r=t.document,i=this.editor.t;t.addObserver(iU),e.commands.add("enter",new Ike(e)),this.listenTo(r,"enter",(s,o)=>{r.isComposing||o.preventDefault(),!o.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class Mke extends lt{execute(){const e=this.editor.model,t=e.document;e.change(r=>{Fke(e,r,t.selection),this.fire("afterExecute",{writer:r})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=Dke(e.schema,t.selection)}}function Dke(n,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!n.checkChild(t,"softBreak"))return!1;const r=e.getFirstRange(),i=r.start.parent,s=r.end.parent;return!(($k(i,n)||$k(s,n))&&i!==s)}function Fke(n,e,t){const r=t.isCollapsed,i=t.getFirstRange(),s=i.start.parent,o=i.end.parent,a=s==o;if(r){const l=rU(n.schema,t.getAttributes());s6(n,e,i.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(l)}else{const l=!(i.start.isAtStart&&i.end.isAtEnd);n.deleteContent(t,{leaveUnmerged:l}),a?s6(n,e,t.focus):l&&e.setSelection(o,0)}}function s6(n,e,t){const r=e.createElement("softBreak");n.insertContent(r,t),e.setSelection(r,"after")}function $k(n,e){return n.is("rootElement")?!1:e.isLimit(n)||$k(n.parent,e)}class Lke extends ee{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,r=e.conversion,i=e.editing.view,s=i.document,o=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),r.for("upcast").elementToElement({model:"softBreak",view:"br"}),r.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:l})=>l.createEmptyElement("br")}),i.addObserver(iU),e.commands.add("shiftEnter",new Mke(e)),this.listenTo(s,"enter",(a,l)=>{s.isComposing||l.preventDefault(),l.isSoft&&(e.execute("shiftEnter"),i.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Bke extends lt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.schema,i=t.document.selection,s=Array.from(i.getSelectedBlocks()),o=e.forceValue===void 0?!this.value:e.forceValue;t.change(a=>{if(!o)this._removeQuote(a,s.filter(Y1));else{const l=s.filter(u=>Y1(u)||a6(r,u));this._applyQuote(a,l)}})}_getValue(){const e=this.editor.model.document.selection,t=_n(e.getSelectedBlocks());return!!(t&&Y1(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,r=_n(e.getSelectedBlocks());return r?a6(t,r):!1}_removeQuote(e,t){o6(e,t).reverse().forEach(r=>{if(r.start.isAtStart&&r.end.isAtEnd){e.unwrap(r.start.parent);return}if(r.start.isAtStart){const s=e.createPositionBefore(r.start.parent);e.move(r,s);return}r.end.isAtEnd||e.split(r.end);const i=e.createPositionAfter(r.end.parent);e.move(r,i)})}_applyQuote(e,t){const r=[];o6(e,t).reverse().forEach(i=>{let s=Y1(i.start);s||(s=e.createElement("blockQuote"),e.wrap(i,s)),r.push(s)}),r.reverse().reduce((i,s)=>i.nextSibling==s?(e.merge(e.createPositionAfter(i)),i):s)}}function Y1(n){return n.parent.name=="blockQuote"?n.parent:null}function o6(n,e){let t,r=0;const i=[];for(;r<e.length;){const s=e[r],o=e[r+1];t||(t=n.createPositionBefore(s)),(!o||s.nextSibling!=o)&&(i.push(n.createRange(t,n.createPositionAfter(s))),t=null),r++}return i}function a6(n,e){const t=n.checkChild(e.parent,"blockQuote"),r=n.checkChild(["$root","blockQuote"],e);return t&&r}class Vke extends ee{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Z0,_c]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Bke(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(o=>{const a=e.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const u=l.position.nodeAfter;if(!u)continue;if(u.is("element","blockQuote")&&u.isEmpty)return o.remove(u),!0;if(u.is("element","blockQuote")&&!t.checkChild(l.position,u))return o.unwrap(u),!0;if(u.is("element")){const f=o.createRangeIn(u);for(const m of f.getItems())if(m.is("element","blockQuote")&&!t.checkChild(o.createPositionBefore(m),m))return o.unwrap(m),!0}}else if(l.type=="remove"){const u=l.position.parent;if(u.is("element","blockQuote")&&u.isEmpty)return o.remove(u),!0}return!1});const r=this.editor.editing.view.document,i=e.model.document.selection,s=e.commands.get("blockQuote");this.listenTo(r,"enter",(o,a)=>{if(!i.isCollapsed||!s.value)return;i.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(r,"delete",(o,a)=>{if(a.direction!="backward"||!i.isCollapsed||!s.value)return;const l=i.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"})}}class Uke extends ee{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("blockQuote",()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:blockQuote",()=>{const t=this._createButton(xn);return t.set({role:"menuitemcheckbox"}),t})}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("blockQuote"),s=new e(t.locale),o=r.t;return s.set({label:o("Block quote"),icon:exe,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value"),this.listenTo(s,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),s}}class zke extends ee{static get requires(){return[Vke,Uke]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}function Hke(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function $ke(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=Hke(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function Wke(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return $ke(n,e,{leading:r,trailing:i,maxWait:e})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class jke extends an(){_stack=[];add(e,t){const r=this._stack,i=r[0];this._insertDescriptor(e);const s=r[0];i!==s&&!hE(i,s)&&this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:t})}remove(e,t){const r=this._stack,i=r[0];this._removeDescriptor(e);const s=r[0];i!==s&&!hE(i,s)&&this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:t})}_insertDescriptor(e){const t=this._stack,r=t.findIndex(s=>s.id===e.id);if(hE(e,t[r]))return;r>-1&&t.splice(r,1);let i=0;for(;t[i]&&qke(t[i],e);)i++;t.splice(i,0,e)}_removeDescriptor(e){const t=this._stack,r=t.findIndex(i=>i.id===e);r>-1&&t.splice(r,1)}}function hE(n,e){return n&&e&&n.priority==e.priority&&By(n.classes)==By(e.classes)}function qke(n,e){return n.priority>e.priority?!0:n.priority<e.priority?!1:By(n.classes)>By(e.classes)}function By(n){return Array.isArray(n)?n.sort().join(","):n}const Gke="ck-widget",l6="ck-widget_selected";function Mn(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function ep(n,e,t={}){if(!n.is("containerElement"))throw new q("widget-to-widget-wrong-element-type",null,{element:n});return e.setAttribute("contenteditable","false",n),e.addClass(Gke,n),e.setCustomProperty("widget",!0,n),n.getFillerOffset=Qke,e.setCustomProperty("widgetLabel",[],n),t.label&&Xke(n,t.label),t.hasSelectionHandle&&Zke(n,e),sU(n,e),n}function Yke(n,e,t){if(e.classes&&t.addClass(Gt(e.classes),n),e.attributes)for(const r in e.attributes)t.setAttribute(r,e.attributes[r],n)}function Kke(n,e,t){if(e.classes&&t.removeClass(Gt(e.classes),n),e.attributes)for(const r in e.attributes)t.removeAttribute(r,n)}function sU(n,e,t=Yke,r=Kke){const i=new jke;i.on("change:top",(a,l)=>{l.oldDescriptor&&r(n,l.oldDescriptor,l.writer),l.newDescriptor&&t(n,l.newDescriptor,l.writer)});const s=(a,l,u)=>i.add(l,u),o=(a,l,u)=>i.remove(l,u);e.setCustomProperty("addHighlight",s,n),e.setCustomProperty("removeHighlight",o,n)}function Xke(n,e){n.getCustomProperty("widgetLabel").push(e)}function Jke(n){return n.getCustomProperty("widgetLabel").reduce((t,r)=>typeof r=="function"?t?t+". "+r():r():t?t+". "+r:r,"")}function GC(n,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),t.withAriaRole!==!1&&e.setAttribute("role","textbox",n),n.isReadOnly||e.setAttribute("tabindex","-1",n),t.label&&e.setAttribute("aria-label",t.label,n),e.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(r,i,s)=>{e.setAttribute("contenteditable",s?"false":"true",n),s?e.removeAttribute("tabindex",n):e.setAttribute("tabindex","-1",n)}),n.on("change:isFocused",(r,i,s)=>{s?e.addClass("ck-editor__nested-editable_focused",n):e.removeClass("ck-editor__nested-editable_focused",n)}),sU(n,e),n}function oU(n,e){const t=n.getSelectedElement();if(t){const r=La(n);if(r)return e.createRange(e.createPositionAt(t,r))}return e.schema.findOptimalInsertionRange(n)}function Qke(){return null}function Zke(n,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(r){const i=this.toDomElement(r),s=new fa;return s.set("content",x_e),s.render(),i.appendChild(s.element),i});e.insert(e.createPositionAt(n,0),t),e.addClass(["ck-widget_with-selection-handle"],n)}function YC(n){const e=a=>{const{width:l,paddingLeft:u,paddingRight:f}=a.ownerDocument.defaultView.getComputedStyle(a);return parseFloat(l)-(parseFloat(u)||0)-(parseFloat(f)||0)},t=n.parentElement;if(!t)return 0;let r=e(t);const i=5;let s=0,o=t;for(;isNaN(r);){if(o=o.parentElement,++s>i)return 0;r=e(o)}return r}function eTe(n,e=new pt(n)){const t=YC(n);return t?e.width/t*100:0}const Da="widget-type-around";function qc(n,e,t){return!!n&&Mn(n)&&!t.isInline(e)}function tTe(n){return n.closest(".ck-widget__type-around__button")}function nTe(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function rTe(n,e){const t=n.closest(".ck-widget");return e.mapDomToView(t)}function La(n){return n.getAttribute(Da)}const aU=["before","after"],iTe=new DOMParser().parseFromString(nxe,"image/svg+xml").firstChild,c6="ck-widget__type-around_disabled";class sTe extends ee{_currentFakeCaretModelElement=null;static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[Z0,_c]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(r,i,s)=>{t.change(o=>{for(const a of t.document.roots)s?o.removeClass(c6,a):o.addClass(c6,a)}),s||e.model.change(o=>{o.removeSelectionAttribute(Da)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const r=this.editor,i=r.editing.view,s=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,t),attributes:s}),i.focus(),i.scrollToTheSelection()}_listenToIfEnabled(e,t,r,i){this.listenTo(e,t,(...s)=>{this.isEnabled&&r(...s)},i)}_insertParagraphAccordingToFakeCaretPosition(){const r=this.editor.model.document.selection,i=La(r);if(!i)return!1;const s=r.getSelectedElement();return this._insertParagraph(s,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,r=e.locale.t,i={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(s,o,a)=>{const l=a.mapper.toViewElement(o.item);l&&qc(l,o.item,t)&&(oTe(a.writer,i,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,r=t.document.selection,i=t.schema,s=e.editing.view;this._listenToIfEnabled(s.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[Mn,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(a,l)=>{l.directChange&&e.model.change(u=>{u.removeSelectionAttribute(Da)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const a=r.getSelectedElement();if(a){const l=e.editing.mapper.toViewElement(a);if(qc(l,a,i))return}e.model.change(l=>{l.removeSelectionAttribute(Da)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,l,u)=>{const f=u.writer;if(this._currentFakeCaretModelElement){const v=u.mapper.toViewElement(this._currentFakeCaretModelElement);v&&(f.removeClass(aU.map(o),v),this._currentFakeCaretModelElement=null)}const m=l.selection.getSelectedElement();if(!m)return;const p=u.mapper.toViewElement(m);if(!qc(p,m,i))return;const y=La(l.selection);y&&(f.addClass(o(y),p),this._currentFakeCaretModelElement=m)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,l,u)=>{u||e.model.change(f=>{f.removeSelectionAttribute(Da)})});function o(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,t){const r=this.editor,i=r.model,s=i.document.selection,o=i.schema,a=r.editing.view;if(t.shiftKey)return;const l=t.keyCode,u=o0e(l,r.locale.contentLanguageDirection),f=a.document.selection.getSelectedElement(),m=r.editing.mapper.toModelElement(f);let p;qc(f,m,o)?p=this._handleArrowKeyPressOnSelectedWidget(u):s.isCollapsed?p=this._handleArrowKeyPressWhenSelectionNextToAWidget(u):t.shiftKey||(p=this._handleArrowKeyPressWhenNonCollapsedSelection(u)),p&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const r=this.editor.model,i=r.document.selection,s=La(i);return r.change(o=>{if(s){if(!(s===(e?"after":"before")))return o.removeSelectionAttribute(Da),!0}else return o.setSelectionAttribute(Da,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,r=t.model,i=r.schema,s=t.plugins.get("Widget"),o=s._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(o);return qc(a,o,i)?(r.change(l=>{s._setSelectionOverElement(o),l.setSelectionAttribute(Da,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,r=t.model,i=r.schema,s=t.editing.mapper,o=r.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,l=s.toViewElement(a);return qc(l,a,i)?(r.change(u=>{u.setSelection(a,"on"),u.setSelectionAttribute(Da,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(r,i)=>{const s=tTe(i.domTarget);if(!s)return;const o=nTe(s),a=rTe(s,t.domConverter),l=e.editing.mapper.toModelElement(a);this._insertParagraph(l,o),i.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(i,s)=>{if(i.eventPhase!="atTarget")return;const o=t.getSelectedElement(),a=e.editing.mapper.toViewElement(o),l=e.model.schema;let u;this._insertParagraphAccordingToFakeCaretPosition()?u=!0:qc(a,o,l)&&(this._insertParagraph(o,s.isSoft?"before":"after"),u=!0),u&&(s.preventDefault(),i.stop())},{context:Mn})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(r,i)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(i.selection=t.selection)},{priority:"high"}),ot.isAndroid?this._listenToIfEnabled(t,"keydown",(r,i)=>{i.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"highest"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,r=e.model,i=r.schema;this._listenToIfEnabled(t.document,"delete",(s,o)=>{if(s.eventPhase!="atTarget")return;const a=La(r.document.selection);if(!a)return;const l=o.direction,u=r.document.selection.getSelectedElement(),f=a==="before",m=l=="forward";if(f===m)e.execute("delete",{selection:r.createSelection(u,"on")});else{const y=i.getNearestSelectionRange(r.createPositionAt(u,a),l);if(y)if(!y.isCollapsed)r.change(v=>{v.setSelection(y),e.execute(m?"deleteForward":"delete")});else{const v=r.createSelection(y.start);if(r.modifySelection(v,{direction:l}),!v.focus.isEqual(y.start))r.change(w=>{w.setSelection(y),e.execute(m?"deleteForward":"delete")});else{const w=cTe(i,y.start.parent);r.deleteContent(r.createSelection(w,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),s.stop()},{context:Mn})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,r=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(i,[s,o])=>{if(o&&!o.is("documentSelection"))return;const a=La(r);if(a)return i.stop(),t.change(l=>{const u=r.getSelectedElement(),f=t.createPositionAt(u,a),m=l.createSelection(f),p=t.insertContent(s,m);return l.setSelection(m),p})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(i,s)=>{const[,o,a={}]=s;if(o&&!o.is("documentSelection"))return;const l=La(r);l&&(a.findOptimalPosition=l,s[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(i,[s])=>{if(s&&!s.is("documentSelection"))return;La(r)&&i.stop()},{priority:"high"})}}function oTe(n,e,t){const r=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(i){const s=this.toDomElement(i);return aTe(s,e),lTe(s),s});n.insert(n.createPositionAt(t,"end"),r)}function aTe(n,e){for(const t of aU){const r=new wo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[n.ownerDocument.importNode(iTe,!0)]});n.appendChild(r.render())}}function lTe(n){const e=new wo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(e.render())}function cTe(n,e){let t=e;for(const r of e.getAncestors({parentFirst:!0})){if(r.childCount>1||n.isLimit(r))break;t=r}return t}function uTe(n){const e=n.model;return(t,r)=>{const i=r.keyCode==xt.arrowup,s=r.keyCode==xt.arrowdown,o=r.shiftKey,a=e.document.selection;if(!i&&!s)return;const l=s,u=dTe(n,a,l);if(u){if(u.isCollapsed){if(a.isCollapsed)return;if(o)return}(u.isCollapsed||fTe(n,u,l))&&(e.change(f=>{const m=l?u.end:u.start;if(o){const p=e.createSelection(a.anchor);p.setFocus(m),f.setSelection(p)}else f.setSelection(m)}),t.stop(),r.preventDefault(),r.stopPropagation())}}}function dTe(n,e,t){const r=n.model;if(t){const i=e.focus,s=u6(r,i,"forward");if(!s)return;const o=r.createRange(i,s),a=d6(r.schema,o,"backward");if(a)return r.createRange(i,a)}else{const i=e.focus,s=u6(r,i,"backward");if(!s)return;const o=r.createRange(s,i),a=d6(r.schema,o,"forward");if(a)return r.createRange(a,i)}}function u6(n,e,t){const r=n.schema,i=n.createRangeIn(e.root),s=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of i.getWalker({startPosition:e,direction:t})){if(r.isLimit(a)&&!r.isInline(a))return o;if(l==s&&r.isBlock(a))return null}return null}function d6(n,e,t){const r=t=="backward"?e.end:e.start;if(n.checkChild(r,"$text"))return r;for(const{nextPosition:i}of e.getWalker({direction:t}))if(n.checkChild(i,"$text"))return i}function fTe(n,e,t){const r=n.model,i=n.view.domConverter;if(t){const u=r.createSelection(e.start);r.modifySelection(u),!u.focus.isAtEnd&&!e.start.isEqual(u.focus)&&(e=r.createRange(u.focus,e.end))}const s=n.mapper.toViewRange(e),o=i.viewRangeToDom(s),a=pt.getDomRangeRects(o);let l;for(const u of a){if(l===void 0){l=Math.round(u.bottom);continue}if(Math.round(u.top)>=l)return!1;l=Math.max(l,Math.round(u.bottom))}return!0}class bh extends ee{_previouslySelected=new Set;static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[sTe,_c]}init(){const e=this.editor,t=e.editing.view,r=t.document,i=e.t;this.editor.editing.downcastDispatcher.on("selection",(s,o,a)=>{const l=a.writer,u=o.selection;if(u.isCollapsed)return;const f=u.getSelectedElement();if(!f)return;const m=e.editing.mapper.toViewElement(f);Mn(m)&&a.consumable.consume(u,"selection")&&l.setSelection(l.createRangeOn(m),{fake:!0,label:Jke(m)})}),this.editor.editing.downcastDispatcher.on("selection",(s,o,a)=>{this._clearPreviouslySelectedWidgets(a.writer);const l=a.writer,u=l.document.selection;let f=null;for(const m of u.getRanges())for(const p of m){const y=p.item;Mn(y)&&!bTe(y,f)&&(l.addClass(l6,y),this._previouslySelected.add(y),f=y)}},{priority:"low"}),t.addObserver(CC),t.addObserver(VV),this.listenTo(r,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(r,"pointerdown",(...s)=>this._onPointerdown(...s)),this.listenTo(r,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[Mn,"$text"]}),this.listenTo(r,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(r,"arrowKey",uTe(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(s,o)=>{this._handleDelete(o.direction=="forward")&&(o.preventDefault(),s.stop())},{context:"$root"}),this.listenTo(r,"tab",(s,o)=>{this._selectNextEditable(o.shiftKey?"backward":"forward")&&(t.scrollToTheSelection(),o.preventDefault(),s.stop())},{context:s=>Mn(s)||s.is("editableElement"),priority:"low"}),this.listenTo(r,"keydown",(s,o)=>{o.keystroke==xt.esc&&this._selectAncestorWidget()&&(o.preventDefault(),s.stop())},{context:s=>s.is("editableElement"),priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:i("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:i("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:i("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:i("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:i("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:i("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const r=t.target;r&&t.domEvent.detail>=3&&this._selectBlockContent(r)&&t.preventDefault()}_onPointerdown(e,t){if(!t.domEvent.isPrimary)return;const r=this.editor,i=r.editing.view,s=i.document;let o=t.target;if(!o)return;if(!Mn(o)){const l=gTe(o);if(!l)return;if(Mn(l))o=l;else{const u=pTe(i,t);if(u&&Mn(u))o=u;else return}}(ot.isAndroid||ot.isiOS)&&t.preventDefault(),s.isFocused||i.focus();const a=r.editing.mapper.toModelElement(o);this._setSelectionOverElement(a)}_selectBlockContent(e){const t=this.editor,r=t.model,i=t.editing.mapper,s=r.schema,o=i.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),a=yTe(i.toModelElement(o),r.schema);return a?(r.change(l=>{const u=s.isLimit(a)?null:wTe(l.createPositionAfter(a),s),f=l.createPositionAt(a,0),m=u?l.createPositionAt(u,0):l.createPositionAt(a,"end");l.setSelection(l.createRange(f,m))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,t){const r=t.keyCode,i=this.editor.model,s=i.schema,o=i.document.selection,a=o.getSelectedElement(),l=ov(r,this.editor.locale.contentLanguageDirection),u=l=="down"||l=="right",f=l=="up"||l=="down";if(!t.shiftKey&&!o.isCollapsed){if(hTe(o,s)){const k=u?o.getLastPosition():o.getFirstPosition(),T=s.getNearestSelectionRange(k,u?"forward":"backward");T&&(i.change(S=>{S.setSelection(T)}),t.preventDefault(),e.stop())}return}const m=mTe(i,u),p=i.createSelection(m);if(i.modifySelection(p,{direction:u?"forward":"backward"}),p.isEqual(m))return;p.focus.isTouching(m.focus)&&i.modifySelection(p,{direction:u?"forward":"backward"});const y=u?m.focus.nodeBefore:m.focus.nodeAfter,v=p.focus.nodeBefore,w=p.focus.nodeAfter,E=u?v:w;if(t.shiftKey)(a&&s.isObject(a)||E&&s.isObject(E)||y&&s.isObject(y))&&(i.change(k=>{k.setSelection(p)}),t.preventDefault(),e.stop());else if(E&&s.isObject(E)){if(s.isInline(E)&&f)return;i.change(k=>{k.setSelection(E,"on")}),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const r=this.editor.model,i=r.schema,s=r.document.selection.getSelectedElement();s&&i.isObject(s)&&(t.preventDefault(),e.stop())}_handleDelete(e){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const i=this._getObjectElementNextToSelection(e);if(i)return this.editor.model.change(s=>{let o=r.anchor.parent;for(;o.isEmpty;){const a=o;o=a.parent,s.remove(a)}this._setSelectionOverElement(i)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,r=t.schema,i=t.document.selection,s=t.createSelection(i);if(t.modifySelection(s,{direction:e?"forward":"backward"}),s.isEqual(i))return null;const o=e?s.focus.nodeBefore:s.focus.nodeAfter;return o&&r.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(l6,t);this._previouslySelected.clear()}_selectNextEditable(e){const t=this.editor.editing,r=t.view,i=this.editor.model,s=r.document.selection,o=i.document.selection;let a;if(o.rangeCount>1){const u=o.isBackward?o.getFirstRange():o.getLastRange();a=t.mapper.toViewPosition(e=="forward"?u.end:u.start)}else a=e=="forward"?s.getFirstPosition():s.getLastPosition();const l=this._findNextFocusRange(a,e);return l?(i.change(u=>{u.setSelection(l)}),!0):!1}_findNextFocusRange(e,t){const r=this.editor.editing,i=r.view,s=this.editor.model,o=i.document.selection,a=o.editableElement,l=a.getPath();let u=o.getSelectedElement();u&&!Mn(u)&&(u=null);const f=t=="forward"?i.createRange(e,i.createPositionAt(e.root,"end")):i.createRange(i.createPositionAt(e.root,0),e);for(const{nextPosition:m}of f.getWalker({direction:t})){const p=m.parent;if(Mn(p)&&p!=u){const y=r.mapper.toModelElement(p);if(!s.schema.isBlock(y))continue;if(Pr(l,p.getPath())!="extension")return s.createRangeOn(y)}else if(p.is("editableElement")){if(p==a&&!u)continue;const y=r.mapper.toModelPosition(m),v=s.schema.getNearestSelectionRange(y,t);if(!v)continue;return p==a&&u?v:Pr(l,p.getPath())!="extension"?s.createRangeIn(s.schema.getLimitElement(v)):v}}return null}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,i=e.editing.view.document.selection.getFirstPosition().parent,o=(i.is("$text")?i.parent:i).findAncestor(Mn);if(!o)return!1;const a=t.toModelElement(o);/* istanbul ignore next -- @preserve */return a?(e.model.change(l=>{l.setSelection(a,"on")}),!0):!1}}function hTe(n,e){const t=n.getFirstPosition(),r=n.getLastPosition(),i=t.nodeAfter,s=r.nodeBefore;return!!i&&e.isObject(i)||!!s&&e.isObject(s)}function mTe(n,e){const t=n.document.selection,r=t.getSelectedElement(),i=La(t);return r&&i=="before"?n.createSelection(r,"before"):r&&i=="after"?n.createSelection(r,"after"):n.createSelection(t.getRanges(),{backward:r&&n.schema.isObject(r)?!e:t.isBackward})}function gTe(n){let e=n;for(;e;){if(e.is("editableElement")||Mn(e))return e;e=e.parent}return null}function pTe(n,e){const t=AB(e.domEvent);let r=null;if(t?r=n.domConverter.domRangeToView(t):r=n.createRange(n.createPositionAt(e.target,0)),!r)return null;const i=r.start;if(!i.parent)return null;let s=i.parent;return i.parent.is("editableElement")&&(i.isAtEnd&&i.nodeBefore?s=i.nodeBefore:i.isAtStart&&i.nodeAfter&&(s=i.nodeAfter)),s.is("$text")?s.parent:s}function bTe(n,e){return e?Array.from(n.getAncestors()).includes(e):!1}function yTe(n,e){for(const t of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(t,"$text"))return t;if(e.isLimit(t)&&!e.isObject(t))break}return null}function wTe(n,e){const t=new Ha({startPosition:n});for(const{item:r}of t){if(e.isLimit(r)||!r.is("element"))return null;if(e.checkChild(r,"$text"))return r}return null}class Vy extends ee{_toolbarDefinitions=new Map;_balloon;static get requires(){return[Co]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",r=>{vTe(e.editing.view.document.selection)&&r.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:r,getRelatedElement:i,balloonClassName:s="ck-toolbar-container",positions:o}){if(!r.length){It("widget-toolbar-no-items",{toolbarId:e});return}const a=this.editor,l=a.t,u=new dc(a.locale);if(u.ariaLabel=t||l("Widget toolbar"),this._toolbarDefinitions.has(e))throw new q("widget-toolbar-duplicated",this,{toolbarId:e});const f={view:u,getRelatedElement:i,balloonClassName:s,itemsConfig:r,positions:o,initialized:!1};a.ui.addToolbar(u,{isContextual:!0,beforeFocus:()=>{const m=i(a.editing.view.document.selection);m&&this._showToolbar(f,m)},afterBlur:()=>{this._hideToolbar(f)}}),this._toolbarDefinitions.set(e,f)}_updateToolbarsVisibility(){let e=0,t=null,r=null;for(const i of this._toolbarDefinitions.values()){const s=i.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!s)this._isToolbarInBalloon(i)&&this._hideToolbar(i);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(i)&&this._hideToolbar(i);else{const o=s.getAncestors().length;o>e&&(e=o,t=s,r=i)}}r&&this._showToolbar(r,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?f6(this.editor,t,e.positions):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:lU(this.editor,t,e.positions),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const r of this._toolbarDefinitions.values())if(this._isToolbarVisible(r)){const i=r.getRelatedElement(this.editor.editing.view.document.selection);f6(this.editor,i,e.positions)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function f6(n,e,t){const r=n.plugins.get("ContextualBalloon"),i=lU(n,e,t);r.updatePosition(i)}function lU(n,e,t){const r=n.editing.view,i=Bn.defaultPositions;return{target:r.domConverter.mapViewToDom(e),positions:t||[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function vTe(n){const e=n.getSelectedElement();return!!(e&&Mn(e))}class _Te extends qt(){_referenceCoordinates;_options;_originalWidth;_originalHeight;_originalWidthPercents;_aspectRatio;constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,r){const i=new pt(t);this.activeHandlePosition=kTe(e),this._referenceCoordinates=xTe(t,TTe(this.activeHandlePosition)),this._originalWidth=i.width,this._originalHeight=i.height,this._aspectRatio=i.width/i.height;const s=r.style.width;s&&s.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(s):this._originalWidthPercents=eTe(r,i)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function xTe(n,e){const t=new pt(n),r=e.split("-"),i={x:r[1]=="right"?t.right:t.left,y:r[0]=="bottom"?t.bottom:t.top};return i.x+=n.ownerDocument.defaultView.scrollX,i.y+=n.ownerDocument.defaultView.scrollY,i}function ETe(n){return`ck-widget__resizer__handle-${n}`}function kTe(n){const e=["top-left","top-right","bottom-right","bottom-left"];for(const t of e)if(n.classList.contains(ETe(t)))return t}function TTe(n){const e=n.split("-"),t={top:"bottom",bottom:"top",left:"right",right:"left"};return`${t[e[0]]}-${t[e[1]]}`}class STe extends Le{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(r,i)=>r!==null&&i!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(r,i,s)=>e.unit==="px"?`${r}${i}`:`${s}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(r,i,s)=>i<50||s<50?"above-center":r)}_dismiss(){this.unbind(),this._isVisible=!1}}class h6 extends qt(){_state;_sizeView;_options;_viewResizerWrapper=null;_initialViewWidth;constructor(e){super(),this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,r)=>t&&r),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(i=>{const s=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(o){const a=this.toDomElement(o);return e._appendHandles(a),e._appendSizeUI(a),a});i.insert(i.createPositionAt(t,"end"),s),i.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=s,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new _Te(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(u=>{const f=this._options.unit||"%",m=(f==="%"?t.widthPercents:t.width)+f;u.setStyle("width",m,this._options.viewElement)});const i=this._getHandleHost(),s=new pt(i),o=Math.round(s.width),a=Math.round(s.height),l=new pt(i);t.width=Math.round(l.width),t.height=Math.round(l.height),this.redraw(s),this.state.update({...t,handleHostWidth:o,handleHostHeight:a})}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!NTe(t))return;const r=t.parentElement,i=this._getHandleHost(),s=this._viewResizerWrapper,o=[s.getStyle("width"),s.getStyle("height"),s.getStyle("left"),s.getStyle("top")];let a;if(r.isSameNode(i)){const l=e||new pt(i);a=[l.width+"px",l.height+"px",void 0,void 0]}else a=[i.offsetWidth+"px",i.offsetHeight+"px",i.offsetLeft+"px",i.offsetTop+"px"];Pr(o,a)!=="same"&&this._options.editor.editing.view.change(l=>{l.setStyle({width:a[0],height:a[1],left:a[2],top:a[3]},s)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,r=ATe(e),i=this._options.isCentered?this._options.isCentered(this):!0,s={x:t._referenceCoordinates.x-(r.x+t.originalWidth),y:r.y-t.originalHeight-t._referenceCoordinates.y};i&&t.activeHandlePosition.endsWith("-right")&&(s.x=r.x-(t._referenceCoordinates.x+t.originalWidth)),i&&(s.x*=2);let o=Math.abs(t.originalWidth+s.x),a=Math.abs(t.originalHeight+s.y);return(o/t.aspectRatio>a?"width":"height")=="width"?a=o/t.aspectRatio:o=a*t.aspectRatio,{width:Math.round(o),height:Math.round(a),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*o*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const r of t)e.appendChild(new wo({tag:"div",attributes:{class:`ck-widget__resizer__handle ${CTe(r)}`}}).render())}_appendSizeUI(e){this._sizeView=new STe,this._sizeView.render(),e.appendChild(this._sizeView.element)}}function CTe(n){return`ck-widget__resizer__handle-${n}`}function ATe(n){return{x:n.pageX,y:n.pageY}}function NTe(n){return n&&n.ownerDocument&&n.ownerDocument.contains(n)}class mE extends ee{_resizers=new Map;_observer;_redrawSelectedResizerThrottled;static get pluginName(){return"WidgetResize"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.editing,t=qe.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(CC),this._observer=new(Ei()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Wke(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[i,s]of this._resizers)i.isAttached()||(this._resizers.delete(i),s.destroy())},{priority:"lowest"}),this._observer.listenTo(qe.window,"resize",this._redrawSelectedResizerThrottled);const r=this.editor.editing.view.document.selection;r.on("change",()=>{const i=r.getSelectedElement(),s=this.getResizerByViewElement(i)||null;s?this.select(s):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new h6(e),r=this.editor.plugins;if(t.attach(),r.has("WidgetToolbarRepository")){const o=r.get("WidgetToolbarRepository");t.on("begin",()=>{o.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{o.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{o.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const s=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(s)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const r=t.domTarget;h6.isResizeHandle(r)&&(this._activeResizer=this._getResizerByHandle(r)||null,this._activeResizer&&(this._activeResizer.begin(r),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}function cU(n){return n}function Wk(n){return n==="__proto__"}function uU(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function dU(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}function fU(n){const e=[],t=n.length;if(t===0)return e;let r=0,i="",s="",o=!1;for(n.charCodeAt(0)===46&&(e.push(""),r++);r<t;){const a=n[r];s?a==="\\"&&r+1<t?(r++,i+=n[r]):a===s?s="":i+=a:o?a==='"'||a==="'"?s=a:a==="]"?(o=!1,e.push(i),i=""):i+=a:a==="["?(o=!0,i&&(e.push(i),i="")):a==="."?i&&(e.push(i),i=""):i+=a,r++}return i&&e.push(i),e}function KC(n,e,t){if(n==null)return t;switch(typeof e){case"string":{if(Wk(e))return t;const r=n[e];return r===void 0?uU(e)?KC(n,fU(e),t):t:r}case"number":case"symbol":{typeof e=="number"&&(e=dU(e));const r=n[e];return r===void 0?t:r}default:{if(Array.isArray(e))return PTe(n,e,t);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),Wk(e))return t;const r=n[e];return r===void 0?t:r}}}function PTe(n,e,t){if(e.length===0)return t;let r=n;for(let i=0;i<e.length;i++){if(r==null||Wk(e[i]))return t;r=r[e[i]]}return r===void 0?t:r}function RTe(n){return function(e){return KC(e,n)}}function ITe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function hU(n){return n==null||typeof n!="object"&&typeof n!="function"}function m6(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function OTe(n,e,t){return typeof t!="function"?XC(n,e):jk(n,e,function r(i,s,o,a,l,u){const f=t(i,s,o,a,l,u);return f!==void 0?!!f:jk(i,s,r,u)},new Map)}function jk(n,e,t,r){if(e===n)return!0;switch(typeof e){case"object":return MTe(n,e,t,r);case"function":return Object.keys(e).length>0?jk(n,{...e},t,r):m6(n,e);default:return ITe(n)?typeof e=="string"?e==="":!0:m6(n,e)}}function MTe(n,e,t,r){if(e==null)return!0;if(Array.isArray(e))return mU(n,e,t,r);if(e instanceof Map)return DTe(n,e,t,r);if(e instanceof Set)return FTe(n,e,t,r);const i=Object.keys(e);if(n==null)return i.length===0;if(i.length===0)return!0;if(r&&r.has(e))return r.get(e)===n;r&&r.set(e,n);try{for(let s=0;s<i.length;s++){const o=i[s];if(!hU(n)&&!(o in n)||e[o]===void 0&&n[o]!==void 0||e[o]===null&&n[o]!==null||!t(n[o],e[o],o,n,e,r))return!1}return!0}finally{r&&r.delete(e)}}function DTe(n,e,t,r){if(e.size===0)return!0;if(!(n instanceof Map))return!1;for(const[i,s]of e.entries()){const o=n.get(i);if(t(o,s,i,n,e,r)===!1)return!1}return!0}function mU(n,e,t,r){if(e.length===0)return!0;if(!Array.isArray(n))return!1;const i=new Set;for(let s=0;s<e.length;s++){const o=e[s];let a=!1;for(let l=0;l<n.length;l++){if(i.has(l))continue;const u=n[l];let f=!1;if(t(u,o,s,n,e,r)&&(f=!0),f){i.add(l),a=!0;break}}if(!a)return!1}return!0}function FTe(n,e,t,r){return e.size===0?!0:n instanceof Set?mU([...n],[...e],t,r):!1}function XC(n,e){return OTe(n,e,()=>{})}function LTe(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function gU(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const BTe="[object RegExp]",pU="[object String]",bU="[object Number]",yU="[object Boolean]",wU="[object Arguments]",VTe="[object Symbol]",UTe="[object Date]",zTe="[object Map]",HTe="[object Set]",$Te="[object Array]",WTe="[object ArrayBuffer]",jTe="[object Object]",qTe="[object DataView]",GTe="[object Uint8Array]",YTe="[object Uint8ClampedArray]",KTe="[object Uint16Array]",XTe="[object Uint32Array]",JTe="[object Int8Array]",QTe="[object Int16Array]",ZTe="[object Int32Array]",eSe="[object Float32Array]",tSe="[object Float64Array]";function nSe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function rSe(n,e){return lu(n,void 0,n,new Map,e)}function lu(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(hU(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=lu(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,lu(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(lu(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(nSe(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=lu(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),tu(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),tu(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),tu(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,tu(o,n,t,r,i),o}if(typeof n=="object"&&iSe(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),tu(o,n,t,r,i),o}return n}function tu(n,e,t=n,r,i){const s=[...Object.keys(e),...LTe(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=lu(e[a],a,t,r,i))}}function iSe(n){switch(gU(n)){case wU:case $Te:case WTe:case qTe:case yU:case UTe:case eSe:case tSe:case JTe:case QTe:case ZTe:case zTe:case bU:case jTe:case BTe:case HTe:case pU:case VTe:case GTe:case YTe:case KTe:case XTe:return!0;default:return!1}}function sSe(n){return lu(n,void 0,n,new Map,void 0)}function oSe(n){return n=sSe(n),e=>XC(e,n)}function aSe(n,e){return rSe(n,(t,r,i,s)=>{if(typeof n=="object")switch(Object.prototype.toString.call(n)){case bU:case pU:case yU:{const o=new n.constructor(n?.valueOf());return tu(o,n),o}case wU:{const o={};return tu(o,n),o.length=n.length,o[Symbol.iterator]=n[Symbol.iterator],o}default:return}})}function lSe(n){return aSe(n)}const cSe=/^(?:0|[1-9]\d*)$/;function uSe(n,e=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<e;case"symbol":return!1;case"string":return cSe.test(n)}}function dSe(n){return n!==null&&typeof n=="object"&&gU(n)==="[object Arguments]"}function fSe(n,e){let t;if(Array.isArray(e)?t=e:typeof e=="string"&&uU(e)&&n?.[e]==null?t=fU(e):t=[e],t.length===0)return!1;let r=n;for(let i=0;i<t.length;i++){const s=t[i];if((r==null||!Object.hasOwn(r,s))&&!((Array.isArray(r)||dSe(r))&&uSe(s)&&s<r.length))return!1;r=r[s]}return!0}function hSe(n,e){switch(typeof n){case"object":{Object.is(n?.valueOf(),-0)&&(n="-0");break}case"number":{n=dU(n);break}}return e=lSe(e),function(t){const r=KC(t,n);return r===void 0?fSe(t,n):e===void 0?r===void 0:XC(r,e)}}function mSe(n){if(n==null)return cU;switch(typeof n){case"function":return n;case"object":return Array.isArray(n)&&n.length===2?hSe(n[0],n[1]):oSe(n);case"string":case"symbol":case"number":return RTe(n)}}function gSe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function pSe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=gSe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function g6(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return pSe(n,e,{leading:r,trailing:i,maxWait:e})}function bSe(n,e){const t={},r=Object.keys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];t[s]=e(o,s,n)}return t}function ySe(n,e=cU){return n==null?{}:bSe(n,mSe(e))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class m0 extends Io{domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];constructor(e){super(e);const t=this.document;this.listenTo(t,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",r("dragging"),{priority:"low"});function r(i){return(s,o)=>{o.preventDefault();const a=o.dropRange?[o.dropRange]:null,l=new ol(t,i);t.fire(l,{dataTransfer:o.dataTransfer,method:s.name,targetRanges:a,target:o.target,domEvent:o.domEvent}),l.stop.called&&o.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",i={dataTransfer:new lV(t,{cacheFiles:r})};if(e.type=="drop"||e.type=="dragover"){const s=AB(e);i.dropRange=s&&this.view.domConverter.domRangeToView(s)}this.fire(e.type,e,i)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wSe(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function vSe(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const p6=["figcaption","li"],b6=["ol","ul"];function vU(n,e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return`
`;let t="",r=null;for(const i of e.getChildren())t+=_Se(i,r)+vU(n,i),r=i;if(e.is("rawElement")){const s=document.implementation.createHTMLDocument("").createElement("div");e.render(s,n),t+=_U(s)}return t}function _U(n){let e="";if(n.nodeType===Node.TEXT_NODE)return n.textContent;if(n.tagName==="BR")return`
`;for(const t of n.childNodes)e+=_U(t);return e}function _Se(n,e){return e?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||b6.includes(n.name)&&b6.includes(e.name)?`

`:!n.is("containerElement")&&!e.is("containerElement")?"":p6.includes(n.name)||p6.includes(e.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class kg extends ee{_markersToCopy=new Map;static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,r=i=>i.model.getSelectedContent(i.model.document.selection)){return this.editor.model.change(i=>{const s=i.model.document.selection;i.setSelection(t);const o=this._insertFakeMarkersIntoSelection(i,i.model.document.selection,e),a=r(i),l=this._removeFakeMarkersInsideElement(i,a);for(const[u,f]of Object.entries(o)){l[u]||=i.createRangeIn(a);for(const m of f)i.remove(m)}a.markers.clear();for(const[u,f]of Object.entries(l))a.markers.set(u,f);return i.setSelection(s),a})}_pasteMarkersIntoTransformedElement(e,t){const r=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(i=>{const s=this._insertFakeMarkersElements(i,r),o=t(i),a=this._removeFakeMarkersInsideElement(i,o);for(const l of Object.values(s).flat())i.remove(l);for(const[l,u]of Object.entries(a))i.model.markers.has(l)||i.addMarker(l,{usingOperation:!0,affectsData:!0,range:u});return o})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const r of t)e.markers.set(r.name,r.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,r={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const i=this._markersToCopy.get(e);this._markersToCopy.set(e,r),t(),i?this._markersToCopy.set(e,i):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const r=this._getMarkerClipboardConfig(e);if(!r)return!1;if(!t)return!0;const{allowedActions:i}=r;return i==="all"||i.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,r){const i=this._getCopyableMarkersFromSelection(e,t,r);return this._insertFakeMarkersElements(e,i)}_getCopyableMarkersFromSelection(e,t,r){const i=Array.from(t.getRanges()),s=new Set(i.flatMap(a=>Array.from(e.model.markers.getMarkersIntersectingRange(a)))),o=a=>{if(!this._isMarkerCopyable(a.name,r))return!1;const{copyPartiallySelected:u}=this._getMarkerClipboardConfig(a.name);if(!u){const f=a.getRange();return i.some(m=>m.containsRange(f,!0))}return!0};return Array.from(s).filter(o).map(a=>({name:r==="dragstart"?this._getUniqueMarkerName(a.name):a.name,range:a.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:r}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([s,o])=>{if(!this._hasMarkerConfiguration(s))return[{name:s,range:o}];if(this._isMarkerCopyable(s,t)){const a=this._getMarkerClipboardConfig(s),l=r.markers.has(s)&&r.markers.get(s).getRange().root.rootName==="$graveyard";return(a.duplicateOnPaste||l)&&(s=this._getUniqueMarkerName(s)),[{name:s,range:o}]}return[]})}_insertFakeMarkersElements(e,t){const r={},i=t.flatMap(s=>{const{start:o,end:a}=s.range;return[{position:o,marker:s,type:"start"},{position:a,marker:s,type:"end"}]}).sort(({position:s},{position:o})=>s.isBefore(o)?1:-1);for(const{position:s,marker:o,type:a}of i){const l=e.createElement("$marker",{"data-name":o.name,"data-type":a});r[o.name]||(r[o.name]=[]),r[o.name].push(l),e.insert(l,s)}return r}_removeFakeMarkersInsideElement(e,t){const i=this._getAllFakeMarkersFromElement(e,t).reduce((s,o)=>{const a=o.markerElement&&e.createPositionBefore(o.markerElement);let l=s[o.name],u=!1;return l?.start&&l?.end&&(this._getMarkerClipboardConfig(o.name).duplicateOnPaste?s[this._getUniqueMarkerName(o.name)]=s[o.name]:u=!0,l=null),u||(s[o.name]={...l,[o.type]:a}),o.markerElement&&e.remove(o.markerElement),s},{});return ySe(i,s=>new he(s.start||e.createPositionFromPath(t,[0]),s.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const r=Array.from(e.createRangeIn(t)).flatMap(({item:o})=>{if(!o.is("element","$marker"))return[];const a=o.getAttribute("data-name"),l=o.getAttribute("data-type");return[{markerElement:o,name:a,type:l}]}),i=[],s=[];for(const o of r)o.type==="end"&&(r.some(l=>l.name===o.name&&l.type==="start")||i.push({markerElement:null,name:o.name,type:"start"})),o.type==="start"&&(r.some(l=>l.name===o.name&&l.type==="end")||s.unshift({markerElement:null,name:o.name,type:"end"}));return[...i,...r,...s]}_getUniqueMarkerName(e){const t=e.split(":"),r=ci().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${r}`:`${t.join(":")}:${r}`}}class $s extends ee{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[kg]}init(){this.editor.editing.view.addObserver(m0),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,r){const i=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:r==="cut"},()=>{const s=i._copySelectedFragmentWithMarkers(r,t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:r})})}_setupPasteDrop(){const e=this.editor,t=e.model,r=e.editing.view,i=r.document,s=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(i,"clipboardInput",(o,a)=>{a.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&o.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(o,a)=>{const l=a.dataTransfer;let u;if(a.content)u=a.content;else{let p="";l.getData("text/html")?p=vSe(l.getData("text/html")):l.getData("text/plain")&&(p=wSe(l.getData("text/plain"))),u=this.editor.data.htmlProcessor.toView(p)}const f=new ol(this,"inputTransformation"),m=l.getData("application/ckeditor5-editor-id")||null;this.fire(f,{content:u,dataTransfer:l,sourceEditorId:m,targetRanges:a.targetRanges,method:a.method}),f.stop.called&&o.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(o,a)=>{if(a.content.isEmpty)return;const u=this.editor.data.toModel(a.content,"$clipboardHolder");u.childCount!=0&&(o.stop(),t.change(()=>{this.fire("contentInsertion",{content:u,method:a.method,sourceEditorId:a.sourceEditorId,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(o,a)=>{a.resultRange=s._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,i=e.editing.view.document,s=(o,a)=>{const l=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(l,t.selection,o.name)};this.listenTo(i,"copy",s,{priority:"low"}),this.listenTo(i,"cut",(o,a)=>{e.model.canEditAt(e.model.document.selection)?s(o,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,a)=>{const l=e.data.toView(a.content,{isClipboardPipeline:!0});i.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:l,method:a.method})},{priority:"low"}),this.listenTo(i,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",vU(e.data.htmlProcessor.domConverter,a.content)),a.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),a.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}const gE=fh("px");class xSe extends Le{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>gE(t)),top:e.to("top",t=>gE(t)),width:e.to("width",t=>gE(t))}}})}}class K1 extends ee{removeDropMarkerDelayed=ZS(()=>this.removeDropMarker(),40);_updateDropMarkerThrottled=g6(e=>this._updateDropMarker(e),40);_reconvertMarkerThrottled=g6(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0);_dropTargetLineView=new xSe;_domEmitter=new(Ei());_scrollables=new Map;static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,r,i,s,o){this.removeDropMarkerDelayed.cancel();const a=y6(this.editor,e,t,r,i,s,o);/* istanbul ignore next -- @preserve */return a?o&&o.containsRange(a)?(this.removeDropMarker(),null):a&&!this.editor.model.canEditAt(a)?(this.removeDropMarker(),null):(this._updateDropMarkerThrottled(a),a):null}getFinalDropRange(e,t,r,i,s,o){const a=y6(this.editor,e,t,r,i,s,o);return this.removeDropMarker(),a}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:r})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,r=t.model.markers;t.model.change(i=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||i.updateMarker("drop-target",{range:e}):i.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const r=this.toDomElement(t);return r.append("",t.createElement("span"),""),r})}_updateDropTargetLine(e){const t=this.editor.editing,r=e.start.nodeBefore,i=e.start.nodeAfter,s=e.start.parent,o=r?t.mapper.toViewElement(r):null,a=o?t.view.domConverter.mapViewToDom(o):null,l=i?t.mapper.toViewElement(i):null,u=l?t.view.domConverter.mapViewToDom(l):null,f=t.mapper.toViewElement(s);if(!f)return;const m=t.view.domConverter.mapViewToDom(f),p=this._getScrollableRect(f),{scrollX:y,scrollY:v}=qe.window,w=a?new pt(a):null,E=u?new pt(u):null,k=new pt(m).excludeScrollbarsAndBorders(),T=w?w.bottom:k.top,S=E?E.top:k.bottom,P=qe.window.getComputedStyle(m),R=T<=S?(T+S)/2:S;if(p.top<R&&R<p.bottom){const D=k.left+parseFloat(P.paddingLeft),A=k.right-parseFloat(P.paddingRight),F=Math.max(D+y,p.left),V=Math.min(A+y,p.right);this._dropTargetLineView.set({isVisible:!0,left:F,top:R+v,width:V-F})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let r;if(this._scrollables.has(t))r=this._scrollables.get(t).domElement;else{const i=this.editor.editing.view.domConverter.mapViewToDom(e);r=kSe(i),this._domEmitter.listenTo(r,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const s=new Cn(r,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:r,resizeObserver:s})}return new pt(r).excludeScrollbarsAndBorders()}}function y6(n,e,t,r,i,s,o){const a=n.model,l=n.editing.mapper;let f=w6(n,e);for(;f;){if(!s){if(a.schema.checkChild(f,"$text")){if(t){const m=t[0].start,p=l.toModelPosition(m);if(!o||Array.from(o.getItems({shallow:!0})).some(v=>a.schema.checkChild(p,v))){if(a.schema.checkChild(p,"$text"))return a.createRange(p);if(m)return X1(n,w6(n,m.parent),r,i)}}}else if(a.schema.isInline(f))return X1(n,f,r,i)}if(a.schema.isBlock(f))return X1(n,f,r,i);if(a.schema.checkChild(f,"$block")){const m=Array.from(f.getChildren()).filter(v=>v.is("element")&&!ESe(n,v));let p=0,y=m.length;if(y==0)return a.createRange(a.createPositionAt(f,"end"));for(;p<y-1;){const v=Math.floor((p+y)/2);xU(n,m[v],r,i)=="before"?y=v:p=v}return X1(n,m[p],r,i)}f=f.parent}return null}function ESe(n,e){const t=n.editing.mapper,r=n.editing.view.domConverter,i=t.toViewElement(e);if(!i)return!0;const s=r.mapViewToDom(i);return qe.window.getComputedStyle(s).float!="none"}function X1(n,e,t,r){const i=n.model;return i.createRange(i.createPositionAt(e,xU(n,e,t,r)))}function xU(n,e,t,r){const i=n.editing.mapper,s=n.editing.view.domConverter,o=i.toViewElement(e),a=s.mapViewToDom(o),l=new pt(a);return n.model.schema.isInline(e)?t<(l.left+l.right)/2?"before":"after":r<(l.top+l.bottom)/2?"before":"after"}function w6(n,e){const t=n.editing.mapper,r=n.editing.view,i=t.toModelElement(e);if(i)return i;const s=r.createPositionBefore(e),o=t.findMappedViewAncestor(s);return t.toModelElement(o)}function kSe(n){let e=n;do{e=e.parentElement;const t=qe.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}class TSe extends ee{_isBlockDragging=!1;_domEmitter=new(Ei());static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,r,i)=>{i?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),ot.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const r=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(r,"dragstart",(i,s)=>this._handleBlockDragStart(s)),this._domEmitter.listenTo(qe.document,"dragover",(i,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(qe.document,"drop",(i,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(qe.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&r.setAttribute("draggable","true"),this.on("change:isEnabled",(i,s,o)=>{r.setAttribute("draggable",o?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,r=t.document.selection,i=this.editor.editing.view,s=Array.from(r.getSelectedBlocks()),o=t.createRange(t.createPositionBefore(s[0]),t.createPositionAfter(s[s.length-1]));t.change(a=>a.setSelection(o)),this._isBlockDragging=!0,i.focus(),i.getObserver(m0).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),r=e.clientY,i=document.elementFromPoint(t,r),s=this.editor.editing.view;!i||!i.closest(".ck-editor__editable")||s.getObserver(m0).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:i,clientX:t,clientY:r,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class SSe extends ee{_draggedRange;_draggingUid;_draggableElement;_clearDraggableAttributesDelayed=ZS(()=>this._clearDraggableAttributes(),40);_blockMode=!1;_domEmitter=new(Ei());_previewContainer;static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[$s,bh,K1,TSe]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(m0),t.addObserver(VV),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,i,s)=>{s?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,i,s)=>{s||this._finalizeDragging(!1)}),ot.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,r=e.editing.view,i=r.document,s=e.plugins.get(K1);this.listenTo(i,"dragstart",(o,a)=>{if(a.target?.is("editableElement")){a.preventDefault();return}if(this._prepareDraggedRange(a.target),!this._draggedRange){a.preventDefault();return}this._draggingUid=ci();const l=this.isEnabled&&e.model.canEditAt(this._draggedRange);a.dataTransfer.effectAllowed=l?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const u=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(a.dataTransfer,u,"dragstart");const{dataTransfer:m,domTarget:p,domEvent:y}=a,{clientX:v}=y;this._updatePreview({dataTransfer:m,domTarget:p,clientX:v}),a.stopPropagation(),l||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(i,"dragend",(o,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(qe.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(i,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(i,"dragleave",()=>{s.removeDropMarkerDelayed()}),this.listenTo(i,"dragging",(o,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}const{clientX:l,clientY:u}=a.domEvent;if(!s.updateDropMarker(a.target,a.targetRanges,l,u,this._blockMode,this._draggedRange)){a.dataTransfer.dropEffect="none";return}this._draggedRange||(a.dataTransfer.dropEffect="copy"),ot.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),o.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,r=e.editing.view.document,i=e.plugins.get(K1);this.listenTo(r,"clipboardInput",(s,o)=>{if(o.method!="drop")return;const{clientX:a,clientY:l}=o.domEvent,u=i.getFinalDropRange(o.target,o.targetRanges,a,l,this._blockMode,this._draggedRange);if(!u){this._finalizeDragging(!1),s.stop();return}if(this._draggedRange&&this._draggingUid!=o.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),v6(o.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(u,!0)){this._finalizeDragging(!1),s.stop();return}o.targetRanges=[e.editing.mapper.toViewRange(u)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get($s);e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const i=r.targetRanges.map(s=>this.editor.editing.mapper.toModelRange(s));this.editor.model.change(s=>s.setSelection(i))},{priority:"high"}),e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const i=v6(r.dataTransfer)=="move",s=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(s&&i)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,r=t.document;this.listenTo(r,"pointerdown",(i,s)=>{if(ot.isAndroid||!s)return;this._clearDraggableAttributesDelayed.cancel();let o=_6(s.target);if(ot.isBlink&&!e.isReadOnly&&!o&&!r.selection.isCollapsed){const a=r.selection.getSelectedElement();(!a||!Mn(a))&&(o=r.selection.editableElement)}o&&(t.change(a=>{a.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(r,"pointerup",()=>{ot.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,r=t.model;t.plugins.get(K1).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&r.change(s=>{const o=r.createSelection(this._draggedRange);r.deleteContent(o,{doNotAutoparagraph:!0});const a=o.getFirstPosition().parent;a.isEmpty&&!r.schema.checkChild(a,"$text")&&r.schema.checkChild(a,"paragraph")&&s.insertElement("paragraph",a,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,r=t.model,i=r.document.selection,s=e?_6(e):null;if(s){const u=t.editing.mapper.toModelElement(s);this._draggedRange=Di.fromRange(r.createRangeOn(u)),this._blockMode=r.schema.isBlock(u),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(i.isCollapsed&&!i.getFirstPosition().parent.isEmpty)return;const o=Array.from(i.getSelectedBlocks()),a=i.getFirstRange();if(o.length==0){this._draggedRange=Di.fromRange(a);return}const l=EU(r,o);if(o.length>1)this._draggedRange=Di.fromRange(l),this._blockMode=!0;else if(o.length==1){const u=a.start.isTouching(l.start)&&a.end.isTouching(l.end);this._draggedRange=Di.fromRange(u?l:a),this._blockMode=u}r.change(u=>u.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:r}){const i=this.editor.editing.view,s=i.document.selection.editableElement,o=i.domConverter.mapViewToDom(s),a=qe.window.getComputedStyle(o);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=ao(qe.document,"div",{style:"position: fixed; left: -999999px;"}),qe.document.body.appendChild(this._previewContainer));const l=ao(qe.document,"div");l.className="ck ck-content ck-clipboard-preview";const u=new pt(o),f=parseFloat(a.paddingLeft),m=parseFloat(a.paddingRight),p=parseFloat(a.width)-f-m;if(o.contains(t))if(ot.isiOS)l.style.maxWidth=`${p}px`,l.style.padding="10px",l.style.minWidth="200px",l.style.minHeight="20px",l.style.boxSizing="border-box",l.style.backgroundColor="var(--ck-color-base-background)";else return;else if(ot.isiOS)l.style.width=`${p}px`,l.style.backgroundColor="var(--ck-color-base-background)";else{const y=u.left-r+f;l.style.width=`${p+y}px`,l.style.paddingLeft=`${y}px`}i.domConverter.setContentOf(l,e.getData("text/html")),e.setDragImage(l,0,0),this._previewContainer.appendChild(l)}}function v6(n){return ot.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function _6(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(Mn);if(Mn(n))return n;const e=n.findAncestor(t=>Mn(t)||t.is("editableElement"));return Mn(e)?e:null}function EU(n,e){const t=e[0],r=e[e.length-1],i=t.getCommonAncestor(r),s=n.createPositionBefore(t),o=n.createPositionAfter(r);if(i&&i.is("element")&&!n.schema.isLimit(i)){const a=n.createRangeOn(i),l=s.isTouching(a.start),u=o.isTouching(a.end);if(l&&u)return EU(n,[i])}return n.createRange(s,o)}class CSe extends ee{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[$s]}init(){const e=this.editor,t=e.model,r=e.editing.view,i=t.document.selection;r.addObserver(m0),e.plugins.get($s).on("contentInsertion",(s,o)=>{ASe(o.content,t)&&t.change(a=>{const l=Array.from(i.getAttributes()).filter(([f])=>t.schema.getAttributeProperties(f).isFormatting);i.isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0}),l.push(...i.getAttributes());const u=a.createRangeIn(o.content);for(const f of u.getItems())for(const m of l)t.schema.checkAttribute(f,m[0])&&a.setAttribute(m[0],m[1],f)})})}}function ASe(n,e){let t=e.createRangeIn(n);if(n.childCount==1){const r=n.getChild(0);r.is("element")&&e.schema.isBlock(r)&&!e.schema.isObject(r)&&!e.schema.isLimit(r)&&(t=e.createRangeIn(r))}for(const r of t.getItems())if(!e.schema.isInline(r)||Array.from(r.getAttributeKeys()).find(s=>e.schema.getAttributeProperties(s).isFormatting))return!1;return!0}class kU extends ee{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[kg,$s,SSe,CSe]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const NSe={autoRefresh:!0},x6=36e5,PSe=5e3;class JC extends qt(){_refresh;_options;_tokenRefreshTimeout;_isDestroyed=!1;constructor(e,t={}){if(super(),!e)throw new q("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),typeof e=="function"?this._refresh=e:this._refresh=()=>RSe(e),this._options={...NSe,...t}}init(){return new Promise((e,t)=>{if(!this.value){this.refreshToken().then(e).catch(t);return}this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)})}refreshToken(){const e=this._options.autoRefresh;return this._refresh().then(t=>(this._validateTokenValue(t),this.set("value",t),e&&this._registerRefreshTokenTimeout(),this)).catch(t=>{throw It("token-refresh-failed",{autoRefresh:e}),e&&this._registerRefreshTokenTimeout(PSe),t})}destroy(){this._isDestroyed=!0,clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",r=!/^".*"$/.test(e),i=t&&e.split(".").length===3;if(!(r&&i))throw new q("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(e){if(clearTimeout(this._tokenRefreshTimeout),this._isDestroyed)return;const t=e||this._getTokenRefreshTimeoutTime();this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},t)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?(t>2147483647&&console.warn("Token expiration time exceeds 32-bit integer range. This might cause unpredictable token refresh timing. Token expiration time should always be provided in seconds.",{tokenExpireTime:t}),Math.floor((t*1e3-Date.now())/2)):x6}catch{return x6}}static create(e,t={}){return new JC(e,t).init()}}function RSe(n){return new Promise((e,t)=>{const r=new XMLHttpRequest;r.open("GET",n),r.addEventListener("load",()=>{const i=r.status,s=r.response;return i<200||i>299?t(new q("token-cannot-download-new-token",null)):e(s)}),r.addEventListener("error",()=>t(new Error("Network Error"))),r.addEventListener("abort",()=>t(new Error("Abort"))),r.send()})}const qk=/^data:(\S*?);base64,/;class ISe extends an(){file;xhr;_token;_apiAddress;constructor(e,t,r){if(super(),!e)throw new q("fileuploader-missing-file",null);if(!t)throw new q("fileuploader-missing-token",null);if(!r)throw new q("fileuploader-missing-api-address",null);this.file=MSe(e)?OSe(e):e,this._token=t,this._apiAddress=r}onProgress(e){return this.on("progress",(t,r)=>e(r)),this}onError(e){return this.once("error",(t,r)=>e(r)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=r=>()=>this.fire("error",r);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort"));/* istanbul ignore else -- @preserve */e.upload&&e.upload.addEventListener("progress",r=>{r.lengthComputable&&this.fire("progress",{total:r.total,uploaded:r.loaded})}),e.addEventListener("load",()=>{const r=e.status,i=e.response;if(r<200||r>299)return this.fire("error",i.message||i.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((r,i)=>{t.addEventListener("load",()=>{const s=t.status,o=t.response;return s<200||s>299?o.message?i(new q("fileuploader-uploading-data-failed",this,{message:o.message})):i(o.error):r(o)}),t.addEventListener("error",()=>i(new Error("Network Error"))),t.addEventListener("abort",()=>i(new Error("Abort"))),t.send(e)})}}function OSe(n,e=512){try{const t=n.match(qk)[1],r=atob(n.replace(qk,"")),i=[];for(let s=0;s<r.length;s+=e){const o=r.slice(s,s+e),a=new Array(o.length);for(let l=0;l<o.length;l++)a[l]=o.charCodeAt(l);i.push(new Uint8Array(a))}return new Blob(i,{type:t})}catch{throw new q("fileuploader-decoding-image-data-error",null)}}function MSe(n){return typeof n!="string"?!1:!!n.match(qk)?.length}class DSe{_token;_apiAddress;constructor(e,t){if(!e)throw new q("uploadgateway-missing-token",null);if(!t)throw new q("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new ISe(e,this._token,this._apiAddress)}}class FSe extends vv{static get pluginName(){return"CloudServicesCore"}static get isOfficialPlugin(){return!0}createToken(e,t){return new JC(e,t)}createUploadGateway(e,t){return new DSe(e,t)}}class LSe extends vv{tokenUrl;uploadUrl;webSocketUrl;bundleVersion;autoRefresh=!0;token=null;_tokens=new Map;static get pluginName(){return"CloudServices"}static get isOfficialPlugin(){return!0}static get requires(){return[FSe]}async init(){const t=this.context.config.get("cloudServices")||{};for(const[s,o]of Object.entries(t))this[s]=o;if(!this.tokenUrl){this.token=null;return}const i=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl,{autoRefresh:this.autoRefresh});try{this.token=await i.init(),this._tokens.set(this.tokenUrl,this.token)}catch(s){throw i.destroy(),s}}async registerTokenUrl(e){if(this._tokens.has(e))return this.getTokenFor(e);const r=await this.context.plugins.get("CloudServicesCore").createToken(e,{autoRefresh:this.autoRefresh}).init();return this._tokens.set(e,r),r}getTokenFor(e){const t=this._tokens.get(e);if(!t)throw new q("cloudservices-token-not-registered",this);return t}destroy(){super.destroy();for(const e of this._tokens.values())e.destroy()}}function BSe(n){return typeof n=="object"&&n!==null}function VSe(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function USe(n){return BSe(n)&&n.nodeType===1&&!VSe(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class zSe extends hEe{view;constructor(e,t){super(e),this.view=t}init(){const e=this.editor,t=this.view,r=e.editing.view,i=t.editable,s=r.document.getRoot();i.name=s.rootName,t.render();const o=i.element;this.setEditableElement(i.name,o),t.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(o),this._initPlaceholder(),this._initToolbar(),this.initMenuBar(this.view.menuBarView),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;t.getDomRoot(e.editable.name)&&t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view;t.toolbar.fillFromConfig(e.config.get("toolbar"),this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,r=t.document.getRoot(),i=e.config.get("placeholder");if(i){const s=typeof i=="string"?i:i[r.rootName];s&&(r.placeholder=s)}pC({view:t,element:r,isDirectHost:!1,keepOnFocus:!0})}}class HSe extends mEe{toolbar;editable;menuBarView;constructor(e,t,r={}){super(e),this.toolbar=new dc(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),this.menuBarView=new TEe(e),this.editable=new pEe(e,t,r.editableElement,{label:r.label}),this.toolbar.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:e.uiLanguageDirection}}),this.menuBarView.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:e.uiLanguageDirection}})}render(){super.render(),this.registerChild([this.menuBarView,this.toolbar,this.editable])}}class $Se extends kve(xve){static get editorName(){return"DecoupledEditor"}ui;constructor(e,t={}){if(!Ib(e)&&t.initialData!==void 0)throw new q("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",WSe(e)),Ib(e)&&(this.sourceElement=e,Tve(this,e)),this.model.document.createRoot();const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=new HSe(this.locale,this.editing.view,{editableElement:this.sourceElement,shouldToolbarGroupWhenFull:r,label:this.config.get("label")});this.ui=new zSe(this,i)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(r=>{if(Ib(e)&&e.tagName==="TEXTAREA")throw new q("editor-wrong-element",null);const i=new this(e,t);r(i.initPlugins().then(()=>i.ui.init()).then(()=>i.data.init(i.config.get("initialData"))).then(()=>i.fire("ready")).then(()=>i))})}}function WSe(n){return Ib(n)?Gge(n):n}function Ib(n){return USe(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class jSe extends lt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let r=e.schema.getLimitElement(t);if(t.containsEntireContent(r)||!E6(e.schema,r))do if(r=r.parent,!r)return;while(!E6(e.schema,r));e.change(i=>{i.setSelection(r,"in")})}}function E6(n,e){return n.isLimit(e)&&(n.checkChild(e,"$text")||n.checkChild(e,"paragraph"))}const qSe=sv("Ctrl+A");class GSe extends ee{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,i=e.editing.view.document;e.commands.add("selectAll",new jSe(e)),this.listenTo(i,"keydown",(s,o)=>{Au(o)===qSe&&(e.execute("selectAll"),o.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class YSe extends ee{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(xn))}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("selectAll"),s=new e(t.locale),o=r.t;return s.set({label:o("Select all"),icon:rxe,keystroke:"Ctrl+A"}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),s}}class TU extends ee{static get requires(){return[GSe,YSe]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class SU extends lt{_stack=[];_createdBatches=new WeakSet;constructor(e){super(e),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,r)=>{r[1]={...r[1]};const i=r[1];i.batchType||(i.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,r={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,r){const i=this.editor.model,s=i.document,o=[],a=e.map(u=>u.getTransformedByOperations(r)),l=a.flat();for(const u of a){const f=u.filter(m=>m.root!=s.graveyard).filter(m=>!XSe(m,l));f.length&&(KSe(f),o.push(f[0]))}o.length&&i.change(u=>{u.setSelection(o,{backward:t})})}_undo(e,t){const r=this.editor.model,i=r.document;this._createdBatches.add(t);const s=e.operations.slice().filter(o=>o.isDocumentOperation);s.reverse();for(const o of s){const a=o.baseVersion+1,l=Array.from(i.history.getOperations(a)),f=fye([o.getReversed()],l,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let m of f){const p=m.affectedSelectable;p&&!r.canEditAt(p)&&(m=new xr(m.baseVersion)),t.addOperation(m),r.applyOperation(m),i.history.setOperationAsUndone(o,m)}}}}function KSe(n){n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<n.length;e++){const r=n[e-1].getJoined(n[e],!0);r&&(e--,n.splice(e,2,r))}}function XSe(n,e){return e.some(t=>t!==n&&t.containsRange(n,!0))}class JSe extends SU{execute(e=null){const t=e?this._stack.findIndex(s=>s.batch==e):this._stack.length-1,r=this._stack.splice(t,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{this._undo(r.batch,i);const s=this.editor.model.document.history.getOperations(r.batch.baseVersion);this._restoreSelection(r.selection.ranges,r.selection.isBackward,s)}),this.fire("revert",r.batch,i),this.refresh()}}class QSe extends SU{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const i=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(i);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,t)}),this.fire("revert",e.batch,t),this.refresh()}}class ZSe extends ee{_undoCommand;_redoCommand;_batchRegistry=new WeakSet;static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;this._undoCommand=new JSe(e),this._redoCommand=new QSe(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(r,i)=>{const s=i[0];if(!s.isDocumentOperation)return;const o=s.batch,a=this._redoCommand.createdBatches.has(o),l=this._undoCommand.createdBatches.has(o);this._batchRegistry.has(o)||(this._batchRegistry.add(o),o.isUndoable&&(a?this._undoCommand.addBatch(o):l||(this._undoCommand.addBatch(o),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,i,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class eCe extends ee{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale,r=e.t,i=t.uiLanguageDirection=="ltr"?bO:gO,s=t.uiLanguageDirection=="ltr"?gO:bO;this._addButtonsToFactory("undo",r("Undo"),"CTRL+Z",i),this._addButtonsToFactory("redo",r("Redo"),"CTRL+Y",s)}_addButtonsToFactory(e,t,r,i){const s=this.editor;s.ui.componentFactory.add(e,()=>{const o=this._createButton(et,e,t,r,i);return o.set({tooltip:!0}),o}),s.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(xn,e,t,r,i))}_createButton(e,t,r,i,s){const o=this.editor,a=o.locale,l=o.commands.get(t),u=new e(a);return u.set({label:r,icon:s,keystroke:i}),u.bind("isEnabled").to(l,"isEnabled"),this.listenTo(u,"execute",()=>{o.execute(t),o.editing.view.focus()}),u}}class QC extends ee{static get requires(){return[ZSe,eCe]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class tCe extends ee{static get requires(){return[S9,kU,Z0,TU,Lke,Z9,QC]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}function nCe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function rCe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=nCe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function CU(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(CU).join(",");const e=String(n);return e==="0"&&Object.is(Number(n),-0)?"-0":e}function iCe(n){return n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}function sCe(n){return iCe(CU(n))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class oCe extends Le{children;_findInputView;_replaceInputView;_findButtonView;_findPrevButtonView;_findNextButtonView;_advancedOptionsCollapsibleView;_matchCaseSwitchView;_wholeWordsOnlySwitchView;_replaceButtonView;_replaceAllButtonView;_inputsDivView;_actionButtonsDivView;_focusTracker;_keystrokes;_focusables;focusCycler;constructor(e){super(e);const t=e.t;this.children=this.createCollection(),this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(r,i)=>r>0&&!i),this._findInputView=this._createInputField(t("Find in text")),this._findPrevButtonView=this._createButton({label:t("Previous result"),class:"ck-button-prev",icon:uc,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:t("Next result"),class:"ck-button-next",icon:uc,keystroke:"F3",tooltip:!0}),this._replaceInputView=this._createInputField(t("Replace with"),"ck-labeled-field-replace"),this._inputsDivView=this._createInputsDiv(),this._matchCaseSwitchView=this._createMatchCaseSwitch(),this._wholeWordsOnlySwitchView=this._createWholeWordsOnlySwitch(),this._advancedOptionsCollapsibleView=this._createAdvancedOptionsCollapsible(),this._replaceAllButtonView=this._createButton({label:t("Replace all"),class:"ck-button-replaceall",withText:!0}),this._replaceButtonView=this._createButton({label:t("Replace"),class:"ck-button-replace",withText:!0}),this._findButtonView=this._createButton({label:t("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._actionButtonsDivView=this._createActionButtonsDiv(),this._focusTracker=new Yt,this._keystrokes=new bn,this._focusables=new pr,this.focusCycler=new kr({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.addMany([this._inputsDivView,this._advancedOptionsCollapsibleView,this._actionButtonsDivView]),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createInputsDiv(){const e=this.locale,t=e.t,r=new Le(e);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:i})=>i),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:i})=>i),this._injectFindResultsCounter(),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:i},s)=>i&&s),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(i,s)=>i||!s?"":t("Tip: Find some text first in order to replace it.")),r.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__inputs"]},children:[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView]}),r}_onFindButtonExecute(){if(!this._textToFind){const e=this.t;this._findInputView.errorText=e("Text to find must not be empty.");return}this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly})}_injectFindResultsCounter(){const e=this.locale,t=e.t,r=this.bindTemplate,i=new Le(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(o,a)=>t("%0 of %1",[o,a])),i.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",r.if("isDirty","ck-hidden")]},children:[{text:r.to("_resultsCounterText")}]});const s=()=>{const o=this._findInputView.fieldView.element;if(!o||!sa(o))return;const a=new pt(i.element).width,l=e.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";a?o.style[l]=`calc( 2 * var(--ck-spacing-standard) + ${a}px )`:o.style[l]=""};this.on("change:_resultsCounterText",s,{priority:"low"}),this.on("change:isDirty",s,{priority:"low"}),this._findInputView.template.children[0].children.push(i)}_createAdvancedOptionsCollapsible(){const e=this.locale.t,t=new zC(this.locale,[this._matchCaseSwitchView,this._wholeWordsOnlySwitchView]);return t.set({label:e("Advanced options"),isCollapsed:!0}),t}_createActionButtonsDiv(){const e=new Le(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:t},r)=>t&&r),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:t},r)=>t&&r),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),e.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__actions"]},children:[this._replaceAllButtonView,this._replaceButtonView,this._findButtonView]}),e}_createMatchCaseSwitch(){const e=this.locale.t,t=new Pu(this.locale);return t.set({label:e("Match case"),withText:!0}),t.bind("isOn").to(this,"_matchCase"),t.on("execute",()=>{this._matchCase=!this._matchCase,this.isDirty=!0}),t}_createWholeWordsOnlySwitch(){const e=this.locale.t,t=new Pu(this.locale);return t.set({label:e("Whole words only"),withText:!0}),t.bind("isOn").to(this,"_wholeWordsOnly"),t.on("execute",()=>{this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),t}_initFocusCycling(){[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._advancedOptionsCollapsibleView.buttonView,this._matchCaseSwitchView,this._wholeWordsOnlySwitchView,this._replaceAllButtonView,this._replaceButtonView,this._findButtonView].forEach(t=>{this._focusables.add(t),this._focusTracker.add(t.element)})}_initKeystrokeHandling(){const e=r=>r.stopPropagation(),t=r=>{r.stopPropagation(),r.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",r=>{t(r),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",r=>{t(r),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",r=>{const i=r.target;i===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),t(r)):i===this._replaceInputView.fieldView.element&&!this.isDirty&&(this._replaceButtonView.fire("execute"),t(r))}),this._keystrokes.set("shift+enter",r=>{r.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),t(r))}),this._keystrokes.set("arrowright",e),this._keystrokes.set("arrowleft",e),this._keystrokes.set("arrowup",e),this._keystrokes.set("arrowdown",e)}_createButton(e){const t=new et(this.locale);return t.set(e),t}_createInputField(e,t){const r=new Yn(this.locale,ms);return r.label=e,r.class=t,r}}class aCe extends ee{static get requires(){return[is]}static get pluginName(){return"FindAndReplaceUI"}static get isOfficialPlugin(){return!0}formView;constructor(e){super(e),e.config.define("findAndReplace.uiType","dialog"),this.formView=null}init(){const e=this.editor,t=e.config.get("findAndReplace.uiType")==="dropdown",r=e.commands.get("find"),i=this.editor.t;e.ui.componentFactory.add("findAndReplace",()=>{let s;return t?(s=this._createDropdown(),s.bind("isEnabled").to(r)):s=this._createDialogButtonForToolbar(),e.keystrokes.set("Ctrl+F",(o,a)=>{if(r.isEnabled){if(s instanceof h0){const l=s.buttonView;l.isOn||l.fire("execute")}else s.isOn?e.plugins.get("Dialog").view.focus():s.fire("execute");a()}}),s}),t||e.ui.componentFactory.add("menuBar:findAndReplace",()=>this._createDialogButtonForMenuBar()),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Find in the document"),keystroke:"CTRL+F"}]})}_createDropdown(){const e=this.editor,t=e.locale.t,r=Er(e.locale);return r.once("change:isOpen",()=>{this.formView=this._createFormView(),this.formView.children.add(new pl(e.locale,{label:t("Find and replace")}),0),r.panelView.children.add(this.formView)}),r.on("change:isOpen",(i,s,o)=>{o?this._setupFormView():this.fire("searchReseted")},{priority:"low"}),r.buttonView.set({icon:uO,label:t("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),r}_createDialogButtonForToolbar(){const e=this.editor,t=this._createButton(et),r=e.plugins.get("Dialog");return t.set({tooltip:!0}),t.bind("isOn").to(r,"id",i=>i==="findAndReplace"),t.on("execute",()=>{t.isOn?r.hide():this._showDialog()}),t}_createDialogButtonForMenuBar(){const e=this._createButton(xn),t=this.editor.plugins.get("Dialog"),r=this.editor.plugins.get("Dialog");return e.set({role:"menuitemcheckbox",isToggleable:!0}),e.bind("isOn").to(r,"id",i=>i==="findAndReplace"),e.on("execute",()=>{if(t.id==="findAndReplace"){t.hide();return}this._showDialog()}),e}_createButton(e){const t=this.editor,r=t.commands.get("find"),i=new e(t.locale),s=t.locale.t;return i.bind("isEnabled").to(r),i.set({icon:uO,label:s("Find and replace"),keystroke:"CTRL+F"}),i}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),r=e.locale.t;this.formView||(this.formView=this._createFormView()),t.show({id:"findAndReplace",title:r("Find and replace"),content:this.formView,position:ns.EDITOR_TOP_SIDE,onShow:()=>{this._setupFormView()},onHide:()=>{this.fire("searchReseted")}})}_createFormView(){const e=this.editor,t=new(u0(oCe))(e.locale),r=e.commands,s=this.editor.plugins.get("FindAndReplaceEditing").state;t.bind("highlightOffset").to(s,"highlightedOffset"),t.listenTo(s.results,"change",()=>{t.matchCount=s.results.length});const o=r.get("findNext"),a=r.get("findPrevious"),l=r.get("replace"),u=r.get("replaceAll");return t.bind("_areCommandsEnabled").to(o,"isEnabled",a,"isEnabled",l,"isEnabled",u,"isEnabled",(f,m,p,y)=>({findNext:f,findPrevious:m,replace:p,replaceAll:y})),t.delegate("findNext","findPrevious","replace","replaceAll").to(this),t.on("change:isDirty",(f,m,p)=>{p&&this.fire("searchReseted")}),t}_setupFormView(){this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()}}class lCe extends lt{_state;constructor(e,t){super(e),this.isEnabled=!0,this.affectsData=!1,this._state=t}execute(e,{matchCase:t,wholeWords:r}={}){const{editor:i}=this,{model:s}=i,o=i.plugins.get("FindAndReplaceUtils");let a,l="";typeof e=="string"?a=(...m)=>({results:o.findByTextCallback(e,{matchCase:t,wholeWords:r})(...m),searchText:e}):a=e;const u=a;a=(...m)=>{const p=u(...m);return p&&"searchText"in p&&(l=p.searchText),p};const f=s.document.getRootNames().reduce((m,p)=>o.updateFindResultFromRange(s.createRangeIn(s.document.getRoot(p)),s,a,m),null);return this._state.clear(s),this._state.results.addMany(f),this._state.highlightedResult=f.get(0),this._state.searchText=l,a&&(this._state.lastSearchCallback=a),this._state.matchCase=!!t,this._state.matchWholeWords=!!r,{results:f,findCallback:a}}}class cCe extends qt(){constructor(e){super(),this.set("results",new sr),this.set("highlightedResult",null),this.set("highlightedOffset",0),this.set("searchText",""),this.set("replaceText",""),this.set("lastSearchCallback",null),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(t,{removed:r,index:i})=>{if(Array.from(r).length){let s=!1;if(e.change(o=>{for(const a of r)this.highlightedResult===a&&(s=!0),e.markers.has(a.marker.name)&&o.removeMarker(a.marker)}),s){const o=i>=this.results.length?0:i;this.highlightedResult=this.results.get(o)}}}),this.on("change:highlightedResult",()=>{this.refreshHighlightOffset(e)})}clear(e){this.searchText="",e.change(t=>{if(this.highlightedResult){const r=this.highlightedResult.marker.name.split(":")[1],i=e.markers.get(`findResultHighlighted:${r}`);i&&t.removeMarker(i)}[...this.results].forEach(({marker:r})=>{t.removeMarker(r)})}),this.results.clear()}refreshHighlightOffset(e){const{highlightedResult:t,results:r}=this;t?this.highlightedOffset=AU(e,[...r]).indexOf(t)+1:this.highlightedOffset=0}}function AU(n,e){const t={before:-1,same:0,after:1,different:1};return n.document.getRootNames().flatMap(r=>e.filter(i=>i.marker.getStart().root.rootName===r).sort((i,s)=>t[i.marker.getStart().compareWith(s.marker.getStart())]))}class NU extends lt{_state;constructor(e,t){super(e),this.isEnabled=!0,this._state=t,this._isEnabledBasedOnSelection=!1}_replace(e,t){const{model:r}=this.editor,i=t.marker.getRange();r.canEditAt(i)&&r.change(s=>{if(i.root.rootName==="$graveyard"){this._state.results.remove(t);return}let o={};for(const a of i.getItems())if(a.is("$text")||a.is("$textProxy")){o=a.getAttributes();break}r.insertContent(s.createText(e,o),i),this._state.results.has(t)&&this._state.results.remove(t)})}}class uCe extends NU{execute(e,t){const r=Math.max(this._state.highlightedOffset-1,0);if(this._replace(e,t),this._state.results.length){const i=AU(this.editor.model,[...this._state.results]);this._state.highlightedResult=i[r%i.length]}}}class dCe extends NU{execute(e,t){const{editor:r}=this,{model:i}=r,s=r.plugins.get("FindAndReplaceUtils"),o=t instanceof sr?t:i.document.getRootNames().reduce((a,l)=>s.updateFindResultFromRange(i.createRangeIn(i.document.getRoot(l)),i,s.findByTextCallback(t,this._state),a),null);o.length&&i.change(()=>{[...o].forEach(a=>{this._replace(e,a)})})}}class PU extends lt{_state;constructor(e,t){super(e),this.affectsData=!1,this._state=t,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const e=this._state.results,t=e.getIndex(this._state.highlightedResult),r=t+1>=e.length?0:t+1;this._state.highlightedResult=this._state.results.get(r)}}class fCe extends PU{execute(){const t=this._state.results.getIndex(this._state.highlightedResult),r=t-1<0?this._state.results.length-1:t-1;this._state.highlightedResult=this._state.results.get(r)}}class hCe extends ee{static get pluginName(){return"FindAndReplaceUtils"}static get isOfficialPlugin(){return!0}updateFindResultFromRange(e,t,r,i){const s=i||new sr,o=a=>s.find(l=>{const{marker:u}=l,f=u.getRange(),m=a.getRange();return f.isEqual(m)});return t.change(a=>{[...e].forEach(({type:l,item:u})=>{if(l==="elementStart"&&t.schema.checkChild(u,"$text")){let f=r({item:u,text:this.rangeToText(t.createRangeIn(u))});if(!f)return;"results"in f&&(f=f.results),f.forEach(m=>{const p=`findResult:${ci()}`,y=a.addMarker(p,{usingOperation:!1,affectsData:!1,range:a.createRange(a.createPositionAt(u,m.start),a.createPositionAt(u,m.end))}),v=mCe(s,y);o(y)||s.add({id:p,label:m.label,marker:y},v)})}})}),s}rangeToText(e){return Array.from(e.getItems({shallow:!0})).reduce((t,r)=>r.is("$text")||r.is("$textProxy")?t+r.data:`${t}
`,"")}findByTextCallback(e,t){let r="gu";t.matchCase||(r+="i");let i=`(${sCe(e)})`;if(t.wholeWords){const a="[^a-zA-Z--]";new RegExp("^"+a).test(e)||(i=`(^|${a}|_)${i}`),new RegExp(a+"$").test(e)||(i=`${i}(?=_|${a}|$)`)}const s=new RegExp(i,r);function o({text:a}){return[...a.matchAll(s)].map(gCe)}return o}}function mCe(n,e){const t=n.find(({marker:r})=>e.getStart().isBefore(r.getStart()));return t?n.getIndex(t):n.length}function gCe(n){const e=n.length-1;let t=n.index;return n.length===3&&(t+=n[1].length),{label:n[e],start:t,end:t+n[e].length}}const pCe="ck-find-result_selected";class bCe extends ee{static get requires(){return[hCe]}static get pluginName(){return"FindAndReplaceEditing"}static get licenseFeatureCode(){return"FAR"}static get isPremiumPlugin(){return!0}static get isOfficialPlugin(){return!0}state;init(){this.state=new cCe(this.editor.model),this.set("_isSearchActive",!1),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(r,i,s,o)=>{const{model:a}=this.editor;a.change(l=>{if(o){const u=o.marker.name.split(":")[1],f=a.markers.get(`findResultHighlighted:${u}`);f&&l.removeMarker(f)}if(s){const u=s.marker.name.split(":")[1];l.addMarker(`findResultHighlighted:${u}`,{usingOperation:!1,affectsData:!1,range:s.marker.getRange()})}})});/* istanbul ignore next -- @preserve */const t=rCe(((r,i,s)=>{if(s){const o=this.editor.editing.view.domConverter,a=this.editor.editing.mapper.toViewRange(s.marker.getRange());DB({target:o.viewRangeToDom(a),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",t,{priority:"low"}),this.listenTo(this.editor,"destroy",t.cancel),this.on("change:_isSearchActive",(r,i,s)=>{s?this.listenTo(this.editor.model.document,"change:data",this._onDocumentChange):this.stopListening(this.editor.model.document,"change:data",this._onDocumentChange)})}find(e,t){return this._isSearchActive=!0,this.editor.execute("find",e,t),this.state.results}stop(){this.state.clear(this.editor.model),this._isSearchActive=!1}_defineCommands(){this.editor.commands.add("find",new lCe(this.editor,this.state)),this.editor.commands.add("findNext",new PU(this.editor,this.state)),this.editor.commands.add("findPrevious",new fCe(this.editor,this.state)),this.editor.commands.add("replace",new uCe(this.editor,this.state)),this.editor.commands.add("replaceAll",new dCe(this.editor,this.state))}_defineConverters(){const{editor:e}=this;e.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:t})=>{const[,r]=t.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":r}}}}),e.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:t})=>{const[,r]=t.split(":");return{name:"span",classes:[pCe],attributes:{"data-find-result":r}}}})}_onDocumentChange=()=>{const e=new Set,t=new Set,r=this.editor.model,{results:i}=this.state,s=r.document.differ.getChanges(),o=r.document.differ.getChangedMarkers();s.forEach(u=>{u.position&&(u.name==="$text"||u.position.nodeAfter&&r.schema.isInline(u.position.nodeAfter)?(e.add(u.position.parent),[...r.markers.getMarkersAtPosition(u.position)].forEach(f=>{t.add(f.name)})):u.type==="insert"&&u.position.nodeAfter&&e.add(u.position.nodeAfter))}),o.forEach(({name:u,data:{newRange:f}})=>{f&&f.start.root.rootName==="$graveyard"&&t.add(u)}),e.forEach(u=>{[...r.markers.getMarkersIntersectingRange(r.createRangeIn(u))].forEach(m=>t.add(m.name))}),t.forEach(u=>{i.has(u)&&(i.get(u)===this.state.highlightedResult&&(this.state.highlightedResult=null),i.remove(u))});const a=[],l=this.editor.plugins.get("FindAndReplaceUtils");e.forEach(u=>{const f=l.updateFindResultFromRange(r.createRangeOn(u),r,this.state.lastSearchCallback,i);a.push(...f)}),o.forEach(u=>{if(u.data.newRange){const f=l.updateFindResultFromRange(u.data.newRange,r,this.state.lastSearchCallback,i);a.push(...f)}}),!this.state.highlightedResult&&a.length?this.state.highlightedResult=a[0]:this.state.refreshHighlightOffset(r)}}class yCe extends ee{static get requires(){return[bCe,aCe]}static get pluginName(){return"FindAndReplace"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get("FindAndReplaceUI"),t=this.editor.plugins.get("FindAndReplaceEditing"),r=t.state;e.on("findNext",(i,s)=>{s?(r.searchText=s.searchText,t.find(s.searchText,s)):this.editor.execute("findNext")}),e.on("findPrevious",(i,s)=>{s&&r.searchText!==s.searchText?t.find(s.searchText):this.editor.execute("findPrevious")}),e.on("replace",(i,s)=>{r.searchText!==s.searchText&&t.find(s.searchText);const o=r.highlightedResult;o&&this.editor.execute("replace",s.replaceText,o)}),e.on("replaceAll",(i,s)=>{r.searchText!==s.searchText&&t.find(s.searchText),this.editor.execute("replaceAll",s.replaceText,r.results)}),e.on("searchReseted",()=>{r.clear(this.editor.model),t.stop()})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Sv extends lt{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,i=t.document.selection,s=e.value,o=e.batch,a=l=>{if(i.isCollapsed)s?l.setSelectionAttribute(this.attributeKey,s):l.removeSelectionAttribute(this.attributeKey);else{const u=t.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const f of u)s?l.setAttribute(this.attributeKey,s,f):l.removeAttribute(this.attributeKey,f)}};o?t.enqueueChange(o,l=>{a(l)}):t.change(l=>{a(l)})}}const Ii="fontSize",Oi="fontFamily",Go="fontColor",Va="fontBackgroundColor";function RU(n,e){const t={model:{key:n,values:[]},view:{},upcastAlso:{}};for(const r of e)t.model.values.push(r.model),t.view[r.model]=r.view,r.upcastAlso&&(t.upcastAlso[r.model]=r.upcastAlso);return t}function IU(n){return e=>vCe(e.getStyle(n))}function OU(n){return(e,{writer:t})=>t.createAttributeElement("span",{style:`${n}:${e}`},{priority:7})}function wCe({dropdownView:n,colors:e,columns:t,removeButtonLabel:r,colorPickerLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerViewConfig:a}){const l=n.locale,u=new WC(l,{colors:e,columns:t,removeButtonLabel:r,colorPickerLabel:i,documentColorsLabel:s,documentColorsCount:o,colorPickerViewConfig:a});return n.colorSelectorView=u,n.panelView.children.add(u),u}function vCe(n){return n.replace(/\s/g,"")}class _Ce extends Sv{constructor(e){super(e,Oi)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function MU(n){return n.map(xCe).filter(e=>e!==void 0)}function Gk(n){return n.replace(/["']/g,"").split(",").map(e=>e.trim())}function xCe(n){if(typeof n=="object")return n;if(n==="default")return{title:"Default",model:void 0};if(typeof n=="string")return ECe(n)}function ECe(n){const e=Gk(n),t=e[0],r=e.map(kCe).join(", ");return{title:t,model:r,view:{name:"span",styles:{"font-family":r},priority:7}}}function kCe(n){return n=n.trim(),n.indexOf(" ")>0&&(n=`'${n}'`),n}class TCe extends ee{static get pluginName(){return"FontFamilyEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Oi,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Oi}),e.model.schema.setAttributeProperties(Oi,{isFormatting:!0,copyOnEnter:!0});const t=MU(e.config.get("fontFamily.options")).filter(i=>i.model),r=RU(Oi,t);e.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(r),e.commands.add(Oi,new _Ce(e))}_prepareAnyValueConverters(){const e=this.editor;e.conversion.for("downcast").attributeToElement({model:Oi,view:(t,{writer:r})=>r.createAttributeElement("span",{style:"font-family:"+t},{priority:7})}),e.conversion.for("upcast").elementToAttribute({model:{key:Oi,value:t=>t.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:Oi,value:t=>t.getAttribute("face")}})}}class SCe extends ee{static get pluginName(){return"FontFamilyUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,r=this._getLocalizedOptions(),i=e.commands.get(Oi),s=t("Font Family"),o=CCe(r,i);e.ui.componentFactory.add(Oi,a=>{const l=Er(a);return vc(l,o,{role:"menu",ariaLabel:s}),l.buttonView.set({label:s,icon:dO,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),l.bind("isEnabled").to(i),this.listenTo(l,"execute",u=>{e.execute(u.source.commandName,{value:u.source.commandParam}),e.editing.view.focus()}),l}),e.ui.componentFactory.add(`menuBar:${Oi}`,a=>{const l=new zi(a);l.buttonView.set({label:s,icon:dO}),l.bind("isEnabled").to(i);const u=new hc(a);for(const f of o){const m=new al(a,l),p=new xn(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(f.model)).to(f.model),p.delegate("execute").to(l),p.on("execute",()=>{e.execute(f.model.commandName,{value:f.model.commandParam}),e.editing.view.focus()}),m.children.add(p),u.items.add(m)}return l.panelView.children.add(u),l})}_getLocalizedOptions(){const e=this.editor,t=e.t;return MU(e.config.get(Oi).options).map(i=>(i.title==="Default"&&(i.title=t("Default")),i))}}function CCe(n,e){const t=new sr;for(const r of n){const i={type:"button",model:new fc({commandName:Oi,commandParam:r.model,label:r.title,role:"menuitemradio",withText:!0})};i.model.bind("isOn").to(e,"value",s=>{if(s===r.model)return!0;if(!s||!r.model)return!1;const o=Gk(s)[0].toLowerCase(),a=Gk(r.model)[0].toLowerCase();return o===a}),r.view&&typeof r.view!="string"&&r.view.styles&&i.model.set("labelStyle",`font-family: ${r.view.styles["font-family"]}`),t.add(i)}return t}class ACe extends ee{static get requires(){return[TCe,SCe]}static get pluginName(){return"FontFamily"}static get isOfficialPlugin(){return!0}}class NCe extends Sv{constructor(e){super(e,Ii)}}function g0(n){return n.map(e=>PCe(e)).filter(e=>e!==void 0)}const k6={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function PCe(n){if(typeof n=="number"&&(n=String(n)),typeof n=="object"&&OCe(n))return Yk(n);const e=ICe(n);if(e)return Yk(e);if(n==="default")return{model:void 0,title:"Default"};if(!MCe(n))return RCe(n)}function RCe(n){return typeof n=="string"&&(n={title:n,model:`${parseFloat(n)}px`}),n.view={name:"span",styles:{"font-size":n.model}},Yk(n)}function Yk(n){return n.view&&typeof n.view!="string"&&!n.view.priority&&(n.view.priority=7),n}function ICe(n){return typeof n=="string"?k6[n]:k6[n.model]}function OCe(n){return n.title&&n.model&&n.view}function MCe(n){let e;if(typeof n=="object")if(n.model)e=parseFloat(n.model);else throw new q("font-size-invalid-definition",null,n);else e=parseFloat(n);return isNaN(e)}const T6=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class DCe extends ee{static get pluginName(){return"FontSizeEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Ii,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Ii}),e.model.schema.setAttributeProperties(Ii,{isFormatting:!0,copyOnEnter:!0});const t=e.config.get("fontSize.supportAllValues"),r=g0(this.editor.config.get("fontSize.options")).filter(s=>s.model),i=RU(Ii,r);t?(this._prepareAnyValueConverters(i),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(i),e.commands.add(Ii,new NCe(e))}_prepareAnyValueConverters(e){const t=this.editor,r=e.model.values.filter(i=>!wv(String(i))&&!zV(String(i)));if(r.length)throw new q("font-size-invalid-use-of-named-presets",null,{presets:r});t.conversion.for("downcast").attributeToElement({model:Ii,view:(i,{writer:s})=>{if(i)return s.createAttributeElement("span",{style:"font-size:"+i},{priority:7})}}),t.conversion.for("upcast").elementToAttribute({model:{key:Ii,value:i=>i.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:Ii,value:t=>{const r=t.getAttribute("size"),i=r[0]==="-"||r[0]==="+";let s=parseInt(r,10);i&&(s=3+s);const o=T6.length-1,a=Math.min(Math.max(s,0),o);return T6[a]}}})}}class FCe extends ee{static get pluginName(){return"FontSizeUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,r=this._getLocalizedOptions(),i=e.commands.get(Ii),s=t("Font Size"),o=LCe(r,i);e.ui.componentFactory.add(Ii,a=>{const l=Er(a);return vc(l,o,{role:"menu",ariaLabel:s}),l.buttonView.set({label:s,icon:fO,tooltip:!0}),l.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),l.bind("isEnabled").to(i),this.listenTo(l,"execute",u=>{e.execute(u.source.commandName,{value:u.source.commandParam}),e.editing.view.focus()}),l}),e.ui.componentFactory.add(`menuBar:${Ii}`,a=>{const l=new zi(a);l.buttonView.set({label:s,icon:fO}),l.bind("isEnabled").to(i);const u=new hc(a);for(const f of o){const m=new al(a,l),p=new xn(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(f.model)).to(f.model),p.delegate("execute").to(l),p.on("execute",()=>{e.execute(f.model.commandName,{value:f.model.commandParam}),e.editing.view.focus()}),m.children.add(p),u.items.add(m)}return l.panelView.children.add(u),l})}_getLocalizedOptions(){const e=this.editor,t=e.t,r={Default:t("Default"),Tiny:t("Tiny"),Small:t("Small"),Big:t("Big"),Huge:t("Huge")};return g0(e.config.get(Ii).options).map(s=>{const o=r[s.title];return o&&o!=s.title&&(s=Object.assign({},s,{title:o})),s})}}function LCe(n,e){const t=new sr;for(const r of n){const i={type:"button",model:new fc({commandName:Ii,commandParam:r.model,label:r.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};r.view&&typeof r.view!="string"&&(r.view.styles&&i.model.set("labelStyle",`font-size:${r.view.styles["font-size"]}`),r.view.classes&&i.model.set("class",`${i.model.class} ${r.view.classes}`)),i.model.bind("isOn").to(e,"value",s=>s===r.model),t.add(i)}return t}class BCe extends ee{static get requires(){return[DCe,FCe]}static get pluginName(){return"FontSize"}static get isOfficialPlugin(){return!0}normalizeSizeOptions(e){return g0(e)}}class VCe extends Sv{constructor(e){super(e,Go)}}class UCe extends ee{static get pluginName(){return"FontColorEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Go,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Go,value:IU("color")}}),e.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Go,value:t=>t.getAttribute("color")}}),e.conversion.for("downcast").attributeToElement({model:Go,view:OU("color")}),e.commands.add(Go,new VCe(e)),e.model.schema.extend("$text",{allowAttributes:Go}),e.model.schema.setAttributeProperties(Go,{isFormatting:!0,copyOnEnter:!0})}}class DU extends ee{commandName;componentName;icon;dropdownLabel;columns;constructor(e,{commandName:t,componentName:r,icon:i,dropdownLabel:s}){super(e),this.commandName=t,this.componentName=r,this.icon=i,this.dropdownLabel=s,this.columns=e.config.get(`${this.componentName}.columns`)}init(){const e=this.editor,t=e.locale,r=t.t,i=e.commands.get(this.commandName),s=e.config.get(this.componentName),o=f0(s.colors),a=d0(t,o),l=s.documentColors,u=s.colorPicker!==!1;e.ui.componentFactory.add(this.componentName,f=>{const m=Er(f);let p=!1;const y=wCe({dropdownView:m,colors:a.map(v=>({label:v.label,color:v.model,options:{hasBorder:v.hasBorder}})),columns:this.columns,removeButtonLabel:r("Remove color"),colorPickerLabel:r("Color picker"),documentColorsLabel:l!==0?r("Document colors"):"",documentColorsCount:l===void 0?this.columns:l,colorPickerViewConfig:u?s.colorPicker||{}:!1});return y.bind("selectedColor").to(i,"value"),m.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),m.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),m.bind("isEnabled").to(i),y.on("execute",(v,w)=>{m.isOpen&&e.execute(this.commandName,{value:w.value,batch:this._undoStepBatch}),w.source!=="colorPicker"&&e.editing.view.focus(),w.source==="colorPickerSaveButton"&&(m.isOpen=!1)}),y.on("colorPicker:show",()=>{this._undoStepBatch=e.model.createBatch()}),y.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(m.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()}),m.on("change:isOpen",(v,w,E)=>{p||(p=!0,m.colorSelectorView.appendUI()),E&&(l!==0&&y.updateDocumentColors(e.model,this.componentName),y.updateSelectedColors(),y.showColorGridsFragment())}),Tv(m,()=>m.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(v=>v.isOn)),m}),e.ui.componentFactory.add(`menuBar:${this.componentName}`,f=>{const m=new zi(f);m.buttonView.set({label:this.dropdownLabel,icon:this.icon}),m.bind("isEnabled").to(i);let p=!1;const y=new WC(f,{colors:a.map(v=>({label:v.label,color:v.model,options:{hasBorder:v.hasBorder}})),columns:this.columns,removeButtonLabel:r("Remove color"),colorPickerLabel:r("Color picker"),documentColorsLabel:l!==0?r("Document colors"):"",documentColorsCount:l===void 0?this.columns:l,colorPickerViewConfig:!1});return y.bind("selectedColor").to(i,"value"),y.delegate("execute").to(m),y.on("execute",(v,w)=>{e.execute(this.commandName,{value:w.value,batch:this._undoStepBatch}),e.editing.view.focus()}),m.on("change:isOpen",(v,w,E)=>{p||(p=!0,y.appendUI()),E&&(l!==0&&y.updateDocumentColors(e.model,this.componentName),y.updateSelectedColors(),y.showColorGridsFragment())}),m.panelView.children.add(y),m})}}class zCe extends DU{constructor(e){const t=e.locale.t;super(e,{commandName:Go,componentName:Go,icon:T_e,dropdownLabel:t("Font Color")})}static get pluginName(){return"FontColorUI"}}class HCe extends ee{static get requires(){return[UCe,zCe]}static get pluginName(){return"FontColor"}static get isOfficialPlugin(){return!0}}class $Ce extends Sv{constructor(e){super(e,Va)}}class WCe extends ee{static get pluginName(){return"FontBackgroundColorEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Va,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.data.addStyleProcessorRules(NC),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:Va,value:IU("background-color")}}),e.conversion.for("downcast").attributeToElement({model:Va,view:OU("background-color")}),e.commands.add(Va,new $Ce(e)),e.model.schema.extend("$text",{allowAttributes:Va}),e.model.schema.setAttributeProperties(Va,{isFormatting:!0,copyOnEnter:!0})}}class jCe extends DU{constructor(e){const t=e.locale.t;super(e,{commandName:Va,componentName:Va,icon:k_e,dropdownLabel:t("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class qCe extends ee{static get requires(){return[WCe,jCe]}static get pluginName(){return"FontBackgroundColor"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class GCe extends lt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,r=_n(t.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&S6(r,e.schema)}execute(e={}){const t=this.editor.model,r=t.document,i=e.selection||r.selection;t.canEditAt(i)&&t.change(s=>{const o=i.getSelectedBlocks();for(const a of o)!a.is("element","paragraph")&&S6(a,t.schema)&&s.rename(a,"paragraph")})}}function S6(n,e){return e.checkChild(n.parent,"paragraph")&&!e.isObject(n)}class YCe extends lt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,r=e.attributes;let i=e.position;return t.canEditAt(i)?t.change(s=>{if(i=this._findPositionToInsertParagraph(i,s),!i)return null;const o=s.createElement("paragraph");return r&&t.schema.setAllowedAttributes(o,r,s),t.insertContent(o,i),s.setSelection(o,"in"),s.createPositionAt(o,0)}):null}_findPositionToInsertParagraph(e,t){const r=this.editor.model;if(r.schema.checkChild(e,"paragraph"))return e;const i=r.schema.findAllowedParent(e,"paragraph");if(!i)return null;const s=e.parent,o=r.schema.checkChild(s,"$text");return s.isEmpty||o&&e.isAtEnd?r.createPositionAfter(s):!s.isEmpty&&o&&e.isAtStart?r.createPositionBefore(s):t.split(e,i).position}}class Cv extends ee{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new GCe(e)),e.commands.add("insertParagraph",new YCe(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(r,{writer:i})=>!Cv.paragraphLikeElements.has(r.name)||r.isEmpty?null:i.createElement("paragraph"),view:/.+/,converterPriority:"low"})}static paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class KCe extends lt{modelElements;constructor(e,t){super(e),this.modelElements=t}refresh(){const e=_n(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>C6(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,r=t.document,i=e.value;t.change(s=>{const o=Array.from(r.selection.getSelectedBlocks()).filter(a=>C6(a,i,t.schema));for(const a of o)a.is("element",i)||s.rename(a,i)})}}function C6(n,e,t){return t.checkChild(n.parent,e)&&!t.isObject(n)}const A6="paragraph";class XCe extends ee{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Cv]}init(){const e=this.editor,t=e.config.get("heading.options"),r=[];for(const i of t)i.model!=="paragraph"&&(e.model.schema.register(i.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(i),r.push(i.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new KCe(e,r))}afterInit(){const e=this.editor,t=e.commands.get("enter"),r=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(i,s)=>{const o=e.model.document.selection.getFirstPosition().parent;r.some(l=>o.is("element",l.model))&&!o.is("element",A6)&&o.childCount===0&&s.writer.rename(o,A6)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:fs.low+1})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function JCe(n){const e=n.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return n.config.get("heading.options").map(r=>{const i=t[r.title];return i&&i!=r.title&&(r.title=i),r})}class QCe extends ee{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,r=JCe(e),i=t("Choose heading"),s=t("Heading");e.ui.componentFactory.add("heading",o=>{const a={},l=new sr,u=e.commands.get("heading"),f=e.commands.get("paragraph"),m=[u];for(const y of r){const v={type:"button",model:new fc({label:y.title,class:y.class,role:"menuitemradio",withText:!0})};y.model==="paragraph"?(v.model.bind("isOn").to(f,"value"),v.model.set("commandName","paragraph"),m.push(f)):(v.model.bind("isOn").to(u,"value",w=>w===y.model),v.model.set({commandName:"heading",commandValue:y.model})),l.add(v),a[y.model]=y.title}const p=Er(o);return vc(p,l,{ariaLabel:s,role:"menu"}),p.buttonView.set({ariaLabel:s,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:s}),p.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),p.bind("isEnabled").toMany(m,"isEnabled",(...y)=>y.some(v=>v)),p.buttonView.bind("label").to(u,"value",f,"value",(y,v)=>{const w=v?"paragraph":y;return typeof w=="boolean"||!a[w]?i:a[w]}),p.buttonView.bind("ariaLabel").to(u,"value",f,"value",(y,v)=>{const w=v?"paragraph":y;return typeof w=="boolean"||!a[w]?s:`${a[w]}, ${s}`}),this.listenTo(p,"execute",y=>{const{commandName:v,commandValue:w}=y.source;e.execute(v,w?{value:w}:void 0),e.editing.view.focus()}),p}),e.ui.componentFactory.add("menuBar:heading",o=>{const a=new zi(o),l=e.commands.get("heading"),u=e.commands.get("paragraph"),f=[l],m=new hc(o);a.set({class:"ck-heading-dropdown"}),m.set({ariaLabel:t("Heading"),role:"menu"}),a.buttonView.set({label:t("Heading")}),a.panelView.children.add(m);for(const p of r){const y=new al(o,a),v=new xn(o);y.children.add(v),m.items.add(y),v.set({isToggleable:!0,label:p.title,role:"menuitemradio",class:p.class}),v.delegate("execute").to(a),v.on("execute",()=>{const w=p.model==="paragraph"?"paragraph":"heading";e.execute(w,{value:p.model}),e.editing.view.focus()}),p.model==="paragraph"?(v.bind("isOn").to(u,"value"),f.push(u)):v.bind("isOn").to(l,"value",w=>w===p.model)}return a.bind("isEnabled").toMany(f,"isEnabled",(...p)=>p.some(y=>y)),a})}}class ZCe extends ee{static get requires(){return[XCe,QCe]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class eAe extends lt{refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute("highlight"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"highlight")}execute(e={}){const t=this.editor.model,i=t.document.selection,s=e.value;t.change(o=>{if(i.isCollapsed){const a=i.getFirstPosition();if(i.hasAttribute("highlight")){const l=p=>p.item.hasAttribute("highlight")&&p.item.getAttribute("highlight")===this.value,u=a.getLastMatchingPosition(l,{direction:"backward"}),f=a.getLastMatchingPosition(l),m=o.createRange(u,f);!s||this.value===s?(a.isEqual(f)||o.removeAttribute("highlight",m),o.removeSelectionAttribute("highlight")):(a.isEqual(f)||o.setAttribute("highlight",s,m),o.setSelectionAttribute("highlight",s))}else s&&o.setSelectionAttribute("highlight",s)}else{const a=t.schema.getValidRanges(i.getRanges(),"highlight");for(const l of a)s?o.setAttribute("highlight",s,l):o.removeAttribute("highlight",l)}})}}class tAe extends ee{static get pluginName(){return"HighlightEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-content-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-content-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-content-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-content-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-content-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-content-highlight-pen-green)",type:"pen"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"highlight"});const t=e.config.get("highlight.options");e.conversion.attributeToElement(nAe(t)),e.commands.add("highlight",new eAe(e))}}function nAe(n){const e={model:{key:"highlight",values:[]},view:{}};for(const t of n)e.model.values.push(t.model),e.view[t.model]={name:"mark",classes:t.class};return e}class rAe extends ee{get localizedOptionTitles(){const e=this.editor.t;return{"Yellow marker":e("Yellow marker"),"Green marker":e("Green marker"),"Pink marker":e("Pink marker"),"Blue marker":e("Blue marker"),"Red pen":e("Red pen"),"Green pen":e("Green pen")}}static get pluginName(){return"HighlightUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.config.get("highlight.options");for(const t of e)this._addHighlighterButton(t);this._addRemoveHighlightButton(),this._addDropdown(e),this._addMenuBarButton(e)}_addRemoveHighlightButton(){const e=this.editor.t,t=this.editor.commands.get("highlight");this._addButton("removeHighlight",e("Remove highlight"),Dk,null,r=>{r.bind("isEnabled").to(t,"isEnabled")})}_addHighlighterButton(e){const t=this.editor.commands.get("highlight");this._addButton("highlight:"+e.model,e.title,J1(e.type),e.model,r);function r(i){i.bind("isEnabled").to(t,"isEnabled"),i.bind("isOn").to(t,"value",s=>s===e.model),i.iconView.fillColor=e.color,i.isToggleable=!0}}_addButton(e,t,r,i,s){const o=this.editor;o.ui.componentFactory.add(e,a=>{const l=new et(a),u=this.localizedOptionTitles[t]?this.localizedOptionTitles[t]:t;return l.set({label:u,icon:r,tooltip:!0}),l.on("execute",()=>{o.execute("highlight",{value:i}),o.editing.view.focus()}),s(l),l})}_addDropdown(e){const t=this.editor,r=t.t,i=t.ui.componentFactory,s=e[0],o=e.reduce((a,l)=>(a[l.model]=l,a),{});i.add("highlight",a=>{const l=t.commands.get("highlight"),u=Er(a,gh),f=u.buttonView;f.set({label:r("Highlight"),tooltip:!0,lastExecuted:s.model,commandValue:s.model,isToggleable:!0}),f.bind("icon").to(l,"value",y=>J1(p(y,"type"))),f.bind("color").to(l,"value",y=>p(y,"color")),f.bind("commandValue").to(l,"value",y=>p(y,"model")),f.bind("isOn").to(l,"value",y=>!!y),f.delegate("execute").to(u);const m=()=>{const y=e.map(v=>{const w=i.create("highlight:"+v.model);return this.listenTo(w,"execute",()=>{u.buttonView.set({lastExecuted:v.model})}),w});return y.push(new HC),y.push(i.create("removeHighlight")),y};u.bind("isEnabled").to(l,"isEnabled"),J0(u,m,{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:r("Text highlight toolbar")}),iAe(u),f.on("execute",()=>{t.execute("highlight",{value:f.commandValue})}),this.listenTo(u,"execute",()=>{t.editing.view.focus()});function p(y,v){const w=!y||y===f.lastExecuted?f.lastExecuted:y;return o[w][v]}return u})}_addMenuBarButton(e){const t=this.editor,r=t.t,i=t.commands.get("highlight");t.ui.componentFactory.add("menuBar:highlight",s=>{const o=new zi(s);o.buttonView.set({label:r("Highlight"),icon:J1("marker")}),o.bind("isEnabled").to(i),o.buttonView.iconView.fillColor="transparent";const a=new hc(s);for(const f of e){const m=new al(s,o),p=new xn(s);p.set({label:f.title,icon:J1(f.type),role:"menuitemradio",isToggleable:!0}),p.iconView.fillColor=f.color,p.delegate("execute").to(o),p.bind("isOn").to(i,"value",y=>y===f.model),p.on("execute",()=>{t.execute("highlight",{value:f.model}),t.editing.view.focus()}),m.children.add(p),a.items.add(m)}a.items.add(new kv(s));const l=new al(s,o),u=new xn(s);return u.set({label:r("Remove highlight"),icon:Dk}),u.delegate("execute").to(o),u.on("execute",()=>{t.execute("highlight",{value:null}),t.editing.view.focus()}),l.children.add(u),a.items.add(l),o.panelView.children.add(a),o})}}function iAe(n){n.buttonView.actionView.iconView.bind("fillColor").to(n.buttonView,"color")}function J1(n){return n==="marker"?z_e:X_e}class sAe extends ee{static get requires(){return[tAe,rAe]}static get pluginName(){return"Highlight"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class oAe extends lt{refresh(){const e=this.editor.model,t=e.schema,r=e.document.selection;this.isEnabled=aAe(r,t,e)}execute(){const e=this.editor.model;e.change(t=>{const r=t.createElement("horizontalLine");e.insertObject(r,null,null,{setSelection:"after"})})}}function aAe(n,e,t){const r=lAe(n,t);return e.checkChild(r,"horizontalLine")}function lAe(n,e){const r=oU(n,e).start.parent;return r.isEmpty&&!r.is("element","$root")?r.parent:r}class cAe extends ee{static get pluginName(){return"HorizontalLineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,r=e.t,i=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),i.for("dataDowncast").elementToElement({model:"horizontalLine",view:(s,{writer:o})=>o.createEmptyElement("hr")}),i.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(s,{writer:o})=>{const a=r("Horizontal line"),l=o.createContainerElement("div",null,o.createEmptyElement("hr"));return o.addClass("ck-horizontal-line",l),o.setCustomProperty("hr",!0,l),uAe(l,o,a)}}),i.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new oAe(e))}}function uAe(n,e,t){return e.setCustomProperty("horizontalLine",!0,n),ep(n,e,{label:t})}class dAe extends ee{static get pluginName(){return"HorizontalLineUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("horizontalLine",()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:horizontalLine",()=>this._createButton(xn))}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("horizontalLine"),s=new e(t.locale),o=r.t;return s.set({label:o("Horizontal line"),icon:S_e}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute("horizontalLine"),t.editing.view.focus()}),s}}class fAe extends ee{static get requires(){return[cAe,dAe,bh]}static get pluginName(){return"HorizontalLine"}static get isOfficialPlugin(){return!0}}function hAe(n){return n==="__proto__"}function ZC(n){return n==null||typeof n!="object"&&typeof n!="function"}function mAe(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function Uy(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function zy(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const FU="[object RegExp]",eA="[object String]",tA="[object Number]",nA="[object Boolean]",Hy="[object Arguments]",LU="[object Symbol]",BU="[object Date]",VU="[object Map]",UU="[object Set]",zU="[object Array]",gAe="[object Function]",HU="[object ArrayBuffer]",Ob="[object Object]",pAe="[object Error]",$U="[object DataView]",WU="[object Uint8Array]",jU="[object Uint8ClampedArray]",qU="[object Uint16Array]",GU="[object Uint32Array]",bAe="[object BigUint64Array]",YU="[object Int8Array]",KU="[object Int16Array]",XU="[object Int32Array]",yAe="[object BigInt64Array]",JU="[object Float32Array]",QU="[object Float64Array]";function rA(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function wAe(n,e){return gf(n,void 0,n,new Map,e)}function gf(n,e,t,r=new Map,i=void 0){const s=i?.(n,e,t,r);if(s!=null)return s;if(ZC(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const o=new Array(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=gf(n[a],a,t,r,i);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;r.set(n,o);for(const[a,l]of n)o.set(a,gf(l,a,t,r,i));return o}if(n instanceof Set){const o=new Set;r.set(n,o);for(const a of n)o.add(gf(a,void 0,t,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(rA(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,o);for(let a=0;a<n.length;a++)o[a]=gf(n[a],a,t,r,i);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,o),nu(o,n,t,r,i),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return r.set(n,o),nu(o,n,t,r,i),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return r.set(n,o),nu(o,n,t,r,i),o}if(n instanceof Error){const o=new n.constructor;return r.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,nu(o,n,t,r,i),o}if(typeof n=="object"&&vAe(n)){const o=Object.create(Object.getPrototypeOf(n));return r.set(n,o),nu(o,n,t,r,i),o}return n}function nu(n,e,t=n,r,i){const s=[...Object.keys(e),...Uy(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=gf(e[a],a,t,r,i))}}function vAe(n){switch(zy(n)){case Hy:case zU:case HU:case $U:case nA:case BU:case JU:case QU:case YU:case KU:case XU:case VU:case tA:case Ob:case FU:case UU:case eA:case LU:case WU:case jU:case qU:case GU:return!0;default:return!1}}function _Ae(n,e){return wAe(n,(t,r,i,s)=>{if(typeof n=="object")switch(Object.prototype.toString.call(n)){case tA:case eA:case nA:{const o=new n.constructor(n?.valueOf());return nu(o,n),o}case Hy:{const o={};return nu(o,n),o.length=n.length,o[Symbol.iterator]=n[Symbol.iterator],o}default:return}})}function Kk(n){return _Ae(n)}function N6(n){return n!==null&&typeof n=="object"&&zy(n)==="[object Arguments]"}function P6(n){return typeof n=="object"&&n!==null}function ZU(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(ZU).join(",");const e=String(n);return e==="0"&&Object.is(Number(n),-0)?"-0":e}function R6(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function xAe(n,e,t){return Jm(n,e,void 0,void 0,void 0,void 0,t)}function Jm(n,e,t,r,i,s,o){const a=o(n,e,t,r,i,s);if(a!==void 0)return a;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return Tg(n,e,s,o)}return Tg(n,e,s,o)}function Tg(n,e,t,r){if(Object.is(n,e))return!0;let i=zy(n),s=zy(e);if(i===Hy&&(i=Ob),s===Hy&&(s=Ob),i!==s)return!1;switch(i){case eA:return n.toString()===e.toString();case tA:{const l=n.valueOf(),u=e.valueOf();return mAe(l,u)}case nA:case BU:case LU:return Object.is(n.valueOf(),e.valueOf());case FU:return n.source===e.source&&n.flags===e.flags;case gAe:return n===e}t=t??new Map;const o=t.get(n),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(n,e),t.set(e,n);try{switch(i){case VU:{if(n.size!==e.size)return!1;for(const[l,u]of n.entries())if(!e.has(l)||!Jm(u,e.get(l),l,n,e,t,r))return!1;return!0}case UU:{if(n.size!==e.size)return!1;const l=Array.from(n.values()),u=Array.from(e.values());for(let f=0;f<l.length;f++){const m=l[f],p=u.findIndex(y=>Jm(m,y,void 0,n,e,t,r));if(p===-1)return!1;u.splice(p,1)}return!0}case zU:case WU:case jU:case qU:case GU:case bAe:case YU:case KU:case XU:case yAe:case JU:case QU:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let l=0;l<n.length;l++)if(!Jm(n[l],e[l],l,n,e,t,r))return!1;return!0}case HU:return n.byteLength!==e.byteLength?!1:Tg(new Uint8Array(n),new Uint8Array(e),t,r);case $U:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:Tg(new Uint8Array(n),new Uint8Array(e),t,r);case pAe:return n.name===e.name&&n.message===e.message;case Ob:{if(!(Tg(n.constructor,e.constructor,t,r)||R6(n)&&R6(e)))return!1;const u=[...Object.keys(n),...Uy(n)],f=[...Object.keys(e),...Uy(e)];if(u.length!==f.length)return!1;for(let m=0;m<u.length;m++){const p=u[m],y=n[p];if(!Object.hasOwn(e,p))return!1;const v=e[p];if(!Jm(y,v,p,n,e,t,r))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function EAe(){}function I6(n,e){return xAe(n,e,EAe)}function kAe(n){return rA(n)}function ez(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function TAe(n){if(ZC(n))return n;if(Array.isArray(n)||rA(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const r=new t(n);return r.lastIndex=n.lastIndex,r}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const r=new t(n.message);return r.stack=n.stack,r.name=n.name,r.cause=n.cause,r}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const r=Object.create(e);return Object.assign(r,n)}return n}function SAe(n,...e){const t=e.slice(0,-1),r=e[e.length-1];let i=n;for(let s=0;s<t.length;s++){const o=t[s];i=Mb(i,o,r,new Map)}return i}function Mb(n,e,t,r){if(ZC(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(r.has(e))return TAe(r.get(e));if(r.set(e,n),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Uy(e)];for(let s=0;s<i.length;s++){const o=i[s];if(hAe(o))continue;let a=e[o],l=n[o];if(N6(a)&&(a={...a}),N6(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Kk(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const f=[],m=Reflect.ownKeys(l);for(let p=0;p<m.length;p++){const y=m[p];f[y]=l[y]}l=f}else l=[];const u=t(l,a,o,n,e,r);u!=null?n[o]=u:Array.isArray(a)||P6(l)&&P6(a)?n[o]=Mb(l,a,t,r):l==null&&ez(a)?n[o]=Mb({},a,t,r):l==null&&kAe(a)?n[o]=Kk(a):(l===void 0||a!==void 0)&&(n[o]=a)}return n}const CAe=new RegExp("\\p{Lu}?\\p{Ll}+|[0-9]+|\\p{Lu}+(?!\\p{Ll})|\\p{Emoji_Presentation}|\\p{Extended_Pictographic}|\\p{L}+","gu");function AAe(n){return Array.from(n.match(CAe)??[])}function NAe(n){return typeof n!="string"&&(n=ZU(n)),n.replace(/['\u2019]/g,"")}function PAe(n){const e=AAe(NAe(n).trim());let t="";for(let r=0;r<e.length;r++){const i=e[r];t&&(t+=" "),i===i.toUpperCase()?t+=i:t+=i[0].toUpperCase()+i.slice(1).toLowerCase()}return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ta(n,e,t,r){e&&RAe(n,e,r),t&&na(n,t,r)}function na(n,e,t){if(e.attributes)for(const[r,i]of Object.entries(e.attributes))n.setAttribute(r,i,t);e.styles&&n.setStyle(e.styles,t),e.classes&&n.addClass(e.classes,t)}function RAe(n,e,t){if(e.attributes)for(const[r]of Object.entries(e.attributes))n.removeAttribute(r,t);if(e.styles)for(const r of Object.keys(e.styles))n.removeStyle(r,t);e.classes&&n.removeClass(e.classes,t)}function IAe(n,e){const t=Kk(n);let r="attributes";for(r in e)r=="classes"?t[r]=Array.from(new Set([...n[r]||[],...e[r]])):t[r]={...n[r],...e[r]};return t}function Yd(n,e,t,r,i){const s=e.getAttribute(t),o={};for(const a of["attributes","styles","classes"]){if(a!=r){s&&s[a]&&(o[a]=s[a]);continue}if(r=="classes"){const u=new Set(s&&s.classes||[]);i(u),u.size&&(o[a]=Array.from(u));continue}const l=new Map(Object.entries(s&&s[a]||{}));i(l),l.size&&(o[a]=Object.fromEntries(l))}Object.keys(o).length?e.is("documentSelection")?n.setSelectionAttribute(t,o):n.setAttribute(t,o,e):s&&(e.is("documentSelection")?n.removeSelectionAttribute(t):n.removeAttribute(t,e))}function OAe(n,e,t){for(const r of e.getItems({shallow:!0})){const i=r.getAttribute(n);i&&i.attributes&&Object.keys(i.attributes).length?Object.keys(i).length>1&&t.setAttribute(n,{attributes:i.attributes},r):t.removeAttribute(n,r)}}function MAe(n){return PAe(n).replace(/ /g,"")}function zs(n){return`html${MAe(n)}Attributes`}function iA({model:n}){return(e,t)=>t.writer.createElement(n,{htmlContent:e.getCustomProperty("$rawContent")})}function DAe(n,{view:e,isInline:t}){const r=n.t;return(i,{writer:s})=>{const o=r("HTML object"),a=Av(e,i,s),l=i.getAttribute(zs(e));s.addClass("html-object-embed__content",a),l&&na(s,l,a);const u=s.createContainerElement(t?"span":"div",{class:"html-object-embed","data-html-object-embed-label":o},a);return ep(u,s,{label:o})}}function Av(n,e,t){return t.createRawElement(n,null,(r,i)=>{i.setContentOf(r,e.getAttribute("htmlContent"))})}function FAe({view:n,model:e,allowEmpty:t},r){return s=>{s.on(`element:${n}`,(o,a,l)=>{let u=r.processViewAttributes(a.viewItem,l);if(!(!u&&!l.consumable.test(a.viewItem,{name:!0}))){if(u=u||{},l.consumable.consume(a.viewItem,{name:!0}),a.modelRange||(a=Object.assign(a,l.convertChildren(a.viewItem,a.modelCursor))),t&&a.modelRange.isCollapsed&&Object.keys(u).length){const f=l.writer.createElement("htmlEmptyElement");if(!l.safeInsert(f,a.modelCursor))return;const m=l.getSplitParts(f);a.modelRange=l.writer.createRange(a.modelRange.start,l.writer.createPositionAfter(m[m.length-1])),l.updateConversionResult(f,a),i(f,u,l);return}for(const f of a.modelRange.getItems())i(f,u,l)}},{priority:"low"})};function i(s,o,a){if(a.schema.checkAttribute(s,e)){const l=s.getAttribute(e),u=IAe(o,l||{});a.writer.setAttribute(e,u,s)}}}function O6({model:n,view:e},t){return(r,{writer:i,consumable:s})=>{if(!r.hasAttribute(n))return null;const o=i.createContainerElement(e),a=r.getAttribute(n);return s.consume(r,`attribute:${n}`),na(i,a,o),o.getFillerOffset=()=>null,t?ep(o,i):o}}function LAe({priority:n,view:e}){return(t,r)=>{if(!t)return;const{writer:i}=r,s=i.createAttributeElement(e,null,{priority:n});return na(i,t,s),s}}function jf({view:n},e){return t=>{t.on(`element:${n}`,(r,i,s)=>{if(!i.modelRange||i.modelRange.isCollapsed)return;const o=e.processViewAttributes(i.viewItem,s);o&&s.writer.setAttribute(zs(i.viewItem.name),o,i.modelRange)},{priority:"low"})}}function p0({view:n,model:e}){return t=>{t.on(`attribute:${zs(n)}:${e}`,(r,i,s)=>{if(!s.consumable.consume(i.item,r.name))return;const{attributeOldValue:o,attributeNewValue:a}=i,l=s.writer,u=s.mapper.toViewElement(i.item);ta(l,o,a,u)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const M6={block:[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"horizontalLine",view:"hr"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6","$text"],allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowIn:["$root","$container"],allowChildren:["paragraph","htmlP","htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlHr",view:"hr",isEmpty:!0,modelSchema:{inheritAllFrom:"$blockObject"}}],inline:[{model:"htmlLiAttributes",view:"li",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlOlAttributes",view:"ol",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlUlAttributes",view:"ul",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"table"},{model:"htmlTheadAttributes",view:"thead",appliesToBlock:"table"},{model:"htmlTbodyAttributes",view:"tbody",appliesToBlock:"table"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"imageBlock"},{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref",attributeProperties:{isFormatting:!0}},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],allowAttributesOf:"$inlineObject",isInline:!0}}]};class qf extends ee{_definitions=[];static get pluginName(){return"DataSchema"}static get isOfficialPlugin(){return!0}init(){for(const e of M6.block)this.registerBlockElement(e);for(const e of M6.inline)this.registerInlineElement(e)}registerBlockElement(e){this._definitions.push({...e,isBlock:!0})}registerInlineElement(e){this._definitions.push({...e,isInline:!0})}extendBlockElement(e){this._extendDefinition({...e,isBlock:!0})}extendInlineElement(e){this._extendDefinition({...e,isInline:!0})}getDefinitionsForView(e,t=!1){const r=new Set;for(const i of this._getMatchingViewDefinitions(e)){if(t)for(const s of this._getReferences(i.model))r.add(s);r.add(i)}return r}getDefinitionsForModel(e){return this._definitions.filter(t=>t.model==e)}_getMatchingViewDefinitions(e){return this._definitions.filter(t=>t.view&&BAe(e,t.view))}*_getReferences(e){const t=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"],r=this._definitions.filter(i=>i.model==e);for(const{modelSchema:i}of r)if(i)for(const s of t)for(const o of Gt(i[s]||[])){const a=this._definitions.filter(l=>l.model==o);for(const l of a)o!==e&&(yield*this._getReferences(l.model),yield l)}}_extendDefinition(e){const t=Array.from(this._definitions.entries()).filter(([,r])=>r.model==e.model);if(t.length==0){this._definitions.push(e);return}for(const[r,i]of t)this._definitions[r]=SAe({},i,e,(s,o)=>Array.isArray(s)?s.concat(o):void 0)}}function BAe(n,e){return typeof n=="string"?n===e:n instanceof RegExp?n.test(e):!1}class Vn extends ee{_dataSchema;_allowedAttributes;_disallowedAttributes;_allowedElements;_disallowedElements;_dataInitialized;_coupledAttributes;constructor(e){super(e),this._dataSchema=e.plugins.get("DataSchema"),this._allowedAttributes=new la,this._disallowedAttributes=new la,this._allowedElements=new Set,this._disallowedElements=new Set,this._dataInitialized=!1,this._coupledAttributes=null,this._registerElementsAfterInit(),this._registerElementHandlers(),this._registerCoupledAttributesPostFixer(),this._registerAssociatedHtmlAttributesPostFixer()}static get pluginName(){return"DataFilter"}static get isOfficialPlugin(){return!0}static get requires(){return[qf,bh]}loadAllowedConfig(e){for(const t of e){const r=t.name||/[\s\S]+/,i=F6(t);this.allowElement(r),i.forEach(s=>this.allowAttributes(s))}}loadDisallowedConfig(e){for(const t of e){const r=t.name||/[\s\S]+/,i=F6(t);i.length==0?this.disallowElement(r):i.forEach(s=>this.disallowAttributes(s))}}loadAllowedEmptyElementsConfig(e){for(const t of e)this.allowEmptyElement(t)}allowElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!0))this._addAllowedElement(t),this._coupledAttributes=null}disallowElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!1))this._disallowedElements.add(t.view)}allowEmptyElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!0))t.isInline&&this._dataSchema.extendInlineElement({...t,allowEmpty:!0})}allowAttributes(e){this._allowedAttributes.add(e)}disallowAttributes(e){this._disallowedAttributes.add(e)}processViewAttributes(e,t){const{consumable:r}=t;return D6(e,this._disallowedAttributes,r),VAe(e,D6(e,this._allowedAttributes,r))}_addAllowedElement(e){if(!this._allowedElements.has(e)){if(this._allowedElements.add(e),"appliesToBlock"in e&&typeof e.appliesToBlock=="string")for(const t of this._dataSchema.getDefinitionsForModel(e.appliesToBlock))t.isBlock&&this._addAllowedElement(t);this._dataInitialized&&this.editor.data.once("set",()=>{this._fireRegisterEvent(e)},{priority:fs.highest+1})}}_registerElementsAfterInit(){this.editor.data.on("init",()=>{this._dataInitialized=!0;for(const e of this._allowedElements)this._fireRegisterEvent(e)},{priority:fs.highest+1})}_registerElementHandlers(){this.on("register",(e,t)=>{const r=this.editor.model.schema;if(t.isObject&&!r.isRegistered(t.model))this._registerObjectElement(t);else if(t.isBlock)this._registerBlockElement(t);else if(t.isInline)this._registerInlineElement(t);else throw new q("data-filter-invalid-definition",null,t);e.stop()},{priority:"lowest"})}_registerCoupledAttributesPostFixer(){const e=this.editor.model,t=e.document.selection;e.document.registerPostFixer(r=>{const i=e.document.differ.getChanges();let s=!1;const o=this._getCoupledAttributesMap();for(const a of i){if(a.type!="attribute"||a.attributeNewValue!==null)continue;const l=o.get(a.attributeKey);if(l)for(const{item:u}of a.range.getWalker())for(const f of l)u.hasAttribute(f)&&(r.removeAttribute(f,u),s=!0)}return s}),this.listenTo(t,"change:attribute",(r,{attributeKeys:i})=>{const s=new Set,o=this._getCoupledAttributesMap();for(const a of i){if(t.hasAttribute(a))continue;const l=o.get(a);if(l)for(const u of l)t.hasAttribute(u)&&s.add(u)}s.size!=0&&e.change(a=>{for(const l of s)a.removeSelectionAttribute(l)})})}_registerAssociatedHtmlAttributesPostFixer(){const e=this.editor.model;e.document.registerPostFixer(t=>{const r=e.document.differ.getChanges();let i=!1;for(const s of r)if(!(s.type!=="insert"||s.name==="$text"))for(const o of s.attributes.keys())!o.startsWith("html")||!o.endsWith("Attributes")||e.schema.checkAttribute(s.name,o)||(t.removeAttribute(o,s.position.nodeAfter),i=!0);return i})}_getCoupledAttributesMap(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;for(const e of this._allowedElements)if(e.coupledAttribute&&e.model){const t=this._coupledAttributes.get(e.coupledAttribute);t?t.push(e.model):this._coupledAttributes.set(e.coupledAttribute,[e.model])}return this._coupledAttributes}_fireRegisterEvent(e){e.view&&this._disallowedElements.has(e.view)||this.fire(e.view?`register:${e.view}`:"register",e)}_registerObjectElement(e){const t=this.editor,r=t.model.schema,i=t.conversion,{view:s,model:o}=e;r.register(o,e.modelSchema);/* istanbul ignore next: paranoid check -- @preserve */s&&(r.extend(e.model,{allowAttributes:[zs(s),"htmlContent"]}),t.data.registerRawContentMatcher({name:s}),i.for("upcast").elementToElement({view:s,model:iA(e),converterPriority:fs.low+2}),i.for("upcast").add(jf(e,this)),i.for("editingDowncast").elementToStructure({model:{name:o,attributes:[zs(s)]},view:DAe(t,e)}),i.for("dataDowncast").elementToElement({model:o,view:(a,{writer:l})=>Av(s,a,l)}),i.for("dataDowncast").add(p0(e)))}_registerBlockElement(e){const t=this.editor,r=t.model.schema,i=t.conversion,{view:s,model:o}=e;if(!r.isRegistered(e.model)){if(!e.modelSchema||(r.register(e.model,e.modelSchema),!s))return;i.for("upcast").elementToElement({model:o,view:s,converterPriority:fs.low+2}),i.for("downcast").elementToElement({model:o,view:(a,{writer:l})=>e.isEmpty?l.createEmptyElement(s):l.createContainerElement(s)})}s&&(r.extend(e.model,{allowAttributes:zs(s)}),i.for("upcast").add(jf(e,this)),i.for("downcast").add(p0(e)))}_registerInlineElement(e){const t=this.editor,r=t.model.schema,i=t.conversion,s=e.model;if(!e.appliesToBlock&&(r.extend("$text",{allowAttributes:s}),e.attributeProperties&&r.setAttributeProperties(s,e.attributeProperties),i.for("upcast").add(FAe(e,this)),i.for("downcast").attributeToElement({model:s,view:LAe(e)}),!!e.allowEmpty)){if(r.setAttributeProperties(s,{copyFromObject:!1}),!r.isRegistered("htmlEmptyElement")){r.register("htmlEmptyElement",{inheritAllFrom:"$inlineObject"});const o=a=>Array.from(a.getAttributeKeys()).some(l=>l.startsWith("html"));t.model.document.registerPostFixer(a=>{const l=t.model.document.differ.getChanges(),u=new Set;for(const f of l)if(f.type!=="remove"){if(f.type==="attribute"&&f.attributeNewValue===null)for(const{item:m}of f.range)m.is("element","htmlEmptyElement")&&!o(m)&&u.add(m);if(f.type==="insert"&&f.position.nodeAfter){const m=f.position.nodeAfter;for(const{item:p}of a.createRangeOn(m))p.is("element","htmlEmptyElement")&&!o(p)&&u.add(p)}}for(const f of u)a.remove(f);return u.size>0})}t.data.htmlProcessor.domConverter.registerInlineObjectMatcher(o=>o.name==e.view&&o.isEmpty&&Array.from(o.getAttributeKeys()).length?{name:!0}:null),i.for("editingDowncast").elementToElement({model:"htmlEmptyElement",view:O6(e,!0)}),i.for("dataDowncast").elementToElement({model:"htmlEmptyElement",view:O6(e)})}}}function D6(n,e,t){const r=e.matchAll(n)||[],i=n.document.stylesProcessor;return r.reduce((s,{match:o})=>{for(const[a,l]of o.attributes||[])if(a=="style"){const u=l,f=i.getRelatedStyles(u).filter(m=>m.split("-").length>u.split("-").length).sort((m,p)=>p.split("-").length-m.split("-").length);for(const m of f)t.consume(n,{styles:[m]})&&s.styles.push(m);t.consume(n,{styles:[u]})&&s.styles.push(u)}else if(a=="class"){const u=l;t.consume(n,{classes:[u]})&&s.classes.push(u)}else t.consume(n,{attributes:[a]})&&s.attributes.push(a);return s},{attributes:[],classes:[],styles:[]})}function VAe(n,{attributes:e,classes:t,styles:r}){return!e.length&&!t.length&&!r.length?null:{...e.length&&{attributes:UAe(n,e)},...r.length&&{styles:zAe(n,r)},...t.length&&{classes:t}}}function UAe(n,e){const t={};for(const r of e){const i=n.getAttribute(r);i!==void 0&&IB(r)&&(t[r]=i)}return t}function zAe(n,e){const t=new Rf(n.document.stylesProcessor);for(const r of e){const i=n.getStyle(r);i!==void 0&&t.set(r,i)}return Object.fromEntries(t.getStylesEntries())}function pE(n,e){const{name:t}=n,r=n[e];return ez(r)?Object.entries(r).map(([i,s])=>({name:t,[e]:{[i]:s}})):Array.isArray(r)?r.map(i=>({name:t,[e]:[i]})):[n]}function F6(n){const{name:e,attributes:t,classes:r,styles:i}=n,s=[];return t&&s.push(...pE({name:e,attributes:t},"attributes")),r&&s.push(...pE({name:e,classes:r},"classes")),i&&s.push(...pE({name:e,styles:i},"styles")),s}class HAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"CodeBlockElementSupport"}static get isOfficialPlugin(){return!0}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const e=this.editor.plugins.get(Vn);e.on("register:pre",(t,r)=>{if(r.model!=="codeBlock")return;const i=this.editor,s=i.model.schema,o=i.conversion;s.extend("codeBlock",{allowAttributes:["htmlPreAttributes","htmlContentAttributes"]}),o.for("upcast").add($Ae(e)),o.for("downcast").add(WAe()),t.stop()})}}function $Ae(n){return e=>{e.on("element:code",(t,r,i)=>{const s=r.viewItem,o=s.parent;if(!o||!o.is("element","pre"))return;a(o,"htmlPreAttributes"),a(s,"htmlContentAttributes");function a(l,u){const f=n.processViewAttributes(l,i);f&&i.writer.setAttribute(u,f,r.modelRange)}},{priority:"low"})}}function WAe(){return n=>{n.on("attribute:htmlPreAttributes:codeBlock",(e,t,r)=>{if(!r.consumable.consume(t.item,e.name))return;const{attributeOldValue:i,attributeNewValue:s}=t,a=r.mapper.toViewElement(t.item).parent;ta(r.writer,i,s,a)}),n.on("attribute:htmlContentAttributes:codeBlock",(e,t,r)=>{if(!r.consumable.consume(t.item,e.name))return;const{attributeOldValue:i,attributeNewValue:s}=t,o=r.mapper.toViewElement(t.item);ta(r.writer,i,s,o)})}}class jAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"DualContentModelElementSupport"}static get isOfficialPlugin(){return!0}init(){this.editor.plugins.get(Vn).on("register",(t,r)=>{const i=r,s=this.editor,o=s.model.schema,a=s.conversion;if(!i.paragraphLikeModel||o.isRegistered(i.model)||o.isRegistered(i.paragraphLikeModel))return;const l={model:i.paragraphLikeModel,view:i.view};o.register(i.model,i.modelSchema),o.register(l.model,{inheritAllFrom:"$block"}),a.for("upcast").elementToElement({view:i.view,model:(u,{writer:f})=>this._hasBlockContent(u)?f.createElement(i.model):f.createElement(l.model),converterPriority:fs.low+.5}),a.for("downcast").elementToElement({view:i.view,model:i.model}),this._addAttributeConversion(i),a.for("downcast").elementToElement({view:l.view,model:l.model}),this._addAttributeConversion(l),t.stop()})}_hasBlockContent(e){const t=this.editor.editing.view,r=t.domConverter.blockElements;for(const i of t.createRangeIn(e).getItems())if(i.is("element")&&r.includes(i.name))return!0;return!1}_addAttributeConversion(e){const t=this.editor,r=t.conversion,i=t.plugins.get(Vn);t.model.schema.extend(e.model,{allowAttributes:zs(e.view)}),r.for("upcast").add(jf(e,i)),r.for("downcast").add(p0(e))}}class qAe extends ee{static get requires(){return[qf,Z0]}static get pluginName(){return"HeadingElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("HeadingEditing"))return;const t=e.config.get("heading.options");this.registerHeadingElements(e,t)}registerHeadingElements(e,t){const r=e.plugins.get(qf),i=[];for(const s of t)"model"in s&&"view"in s&&(r.registerBlockElement({view:s.view,model:s.model}),i.push(s.model));r.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:i}}),r.extendBlockElement({model:"htmlSummary",modelSchema:{allowChildren:i}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function b0(n,e,t){const r=n.createRangeOn(e);for(const{item:i}of r.getWalker())if(i.is("element",t))return i}class GAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"ImageElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("ImageInlineEditing")&&!e.plugins.has("ImageBlockEditing"))return;const t=e.model.schema,r=e.conversion,i=e.plugins.get(Vn);i.on("register:figure",()=>{r.for("upcast").add(XAe(i))}),i.on("register:img",(s,o)=>{o.model!=="imageBlock"&&o.model!=="imageInline"||(t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["htmlImgAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["htmlA","htmlImgAttributes"]}),r.for("upcast").add(YAe(i)),r.for("downcast").add(JAe()),e.plugins.has("LinkImage")&&r.for("upcast").add(KAe(i,e)),s.stop())})}}function YAe(n){return e=>{e.on("element:img",(t,r,i)=>{if(!r.modelRange)return;const s=r.viewItem,o=n.processViewAttributes(s,i);o&&i.writer.setAttribute("htmlImgAttributes",o,r.modelRange)},{priority:"low"})}}function KAe(n,e){const t=e.plugins.get("ImageUtils");return r=>{r.on("element:a",(i,s,o)=>{const a=s.viewItem;if(!t.findViewImgElement(a))return;const u=s.modelCursor.parent;if(!u.is("element","imageBlock"))return;const f=n.processViewAttributes(a,o);f&&o.writer.setAttribute("htmlLinkAttributes",f,u)},{priority:"low"})}}function XAe(n){return e=>{e.on("element:figure",(t,r,i)=>{const s=r.viewItem;if(!r.modelRange||!s.hasClass("image"))return;const o=n.processViewAttributes(s,i);o&&i.writer.setAttribute("htmlFigureAttributes",o,r.modelRange)},{priority:"low"})}}function JAe(){return n=>{e("htmlImgAttributes"),t("img","htmlImgAttributes"),t("figure","htmlFigureAttributes"),t("a","htmlLinkAttributes");function e(r){n.on(`attribute:${r}:imageInline`,(i,s,o)=>{if(!o.consumable.consume(s.item,i.name))return;const{attributeOldValue:a,attributeNewValue:l}=s,u=o.mapper.toViewElement(s.item);ta(o.writer,a,l,u)},{priority:"low"})}function t(r,i){n.on(`attribute:${i}:imageBlock`,(s,o,a)=>{if(!a.consumable.test(o.item,s.name))return;const{attributeOldValue:l,attributeNewValue:u}=o,f=a.mapper.toViewElement(o.item),m=b0(a.writer,f,r);m&&(ta(a.writer,l,u,m),a.consumable.consume(o.item,s.name))},{priority:"low"}),r==="a"&&n.on("attribute:linkHref:imageBlock",(s,o,a)=>{if(!a.consumable.consume(o.item,"attribute:htmlLinkAttributes:imageBlock"))return;const l=a.mapper.toViewElement(o.item),u=b0(a.writer,l,"a");na(a.writer,o.item.getAttribute("htmlLinkAttributes"),u)},{priority:"low"})}}}class QAe extends ee{static get requires(){return[Vn]}static get pluginName(){return"MediaEmbedElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("MediaEmbed")||e.config.get("mediaEmbed.previewsInData"))return;const t=e.model.schema,r=e.conversion,i=this.editor.plugins.get(Vn),s=this.editor.plugins.get(qf),o=e.config.get("mediaEmbed.elementName");s.registerBlockElement({model:"media",view:o}),i.on("register:figure",()=>{r.for("upcast").add(e5e(i))}),i.on(`register:${o}`,(a,l)=>{l.model==="media"&&(t.extend("media",{allowAttributes:[zs(o),"htmlFigureAttributes"]}),r.for("upcast").add(ZAe(i,o)),r.for("dataDowncast").add(t5e(o)),a.stop())})}}function ZAe(n,e){const t=(r,i,s)=>{const o=i.viewItem;a(o,zs(e));function a(l,u){const f=n.processViewAttributes(l,s);f&&s.writer.setAttribute(u,f,i.modelRange)}};return r=>{r.on(`element:${e}`,t,{priority:"low"})}}function e5e(n){return e=>{e.on("element:figure",(t,r,i)=>{const s=r.viewItem;if(!r.modelRange||!s.hasClass("media"))return;const o=n.processViewAttributes(s,i);o&&i.writer.setAttribute("htmlFigureAttributes",o,r.modelRange)},{priority:"low"})}}function t5e(n){return e=>{t(n,zs(n)),t("figure","htmlFigureAttributes");function t(r,i){e.on(`attribute:${i}:media`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const{attributeOldValue:l,attributeNewValue:u}=o,f=a.mapper.toViewElement(o.item),m=b0(a.writer,f,r);ta(a.writer,l,u,m)})}}}class n5e extends ee{static get requires(){return[Vn]}static get pluginName(){return"ScriptElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(Vn);e.on("register:script",(t,r)=>{const i=this.editor,s=i.model.schema,o=i.conversion;s.register("htmlScript",r.modelSchema),s.extend("htmlScript",{allowAttributes:["htmlScriptAttributes","htmlContent"],isContent:!0}),i.data.registerRawContentMatcher({name:"script"}),o.for("upcast").elementToElement({view:"script",model:iA(r)}),o.for("upcast").add(jf(r,e)),o.for("downcast").elementToElement({model:"htmlScript",view:(a,{writer:l})=>Av("script",a,l)}),o.for("downcast").add(p0(r)),t.stop()})}}const r5e=["width","max-width","min-width","height","min-height","max-height"];class i5e extends ee{static get requires(){return[Vn]}static get pluginName(){return"TableElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("TableEditing"))return;const t=e.model.schema,r=e.conversion,i=e.plugins.get(Vn),s=e.plugins.get("TableUtils");i.on("register:figure",()=>{r.for("upcast").add(a5e(i))}),i.on("register:table",(o,a)=>{a.model==="table"&&(t.extend("table",{allowAttributes:["htmlTableAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),r.for("upcast").add(o5e(i)),r.for("downcast").add(l5e()),e.model.document.registerPostFixer(s5e(e.model,s)),o.stop())})}}function s5e(n,e){return t=>{const r=n.document.differ.getChanges();let i=!1;for(const s of r){if(s.type!="attribute"||s.attributeKey!="headingRows")continue;const o=s.range.start.nodeAfter,a=o.getAttribute("htmlTheadAttributes"),l=o.getAttribute("htmlTbodyAttributes");a&&!s.attributeNewValue?(t.removeAttribute("htmlTheadAttributes",o),i=!0):l&&s.attributeNewValue==e.getRows(o)&&(t.removeAttribute("htmlTbodyAttributes",o),i=!0)}return i}}function o5e(n){return e=>{e.on("element:table",(t,r,i)=>{if(!r.modelRange)return;const s=r.viewItem;i.consumable.consume(s,{classes:"table"}),o(s,"htmlTableAttributes");for(const a of s.getChildren())a.is("element","thead")&&o(a,"htmlTheadAttributes"),a.is("element","tbody")&&o(a,"htmlTbodyAttributes");function o(a,l){const u=n.processViewAttributes(a,i);u&&i.writer.setAttribute(l,u,r.modelRange)}},{priority:"low"})}}function a5e(n){return e=>{e.on("element:figure",(t,r,i)=>{const s=r.viewItem;if(!r.modelRange||!s.hasClass("table"))return;const o=n.processViewAttributes(s,i);o&&i.writer.setAttribute("htmlFigureAttributes",o,r.modelRange)},{priority:"low"})}}function l5e(){return n=>{e("table","htmlTableAttributes"),e("figure","htmlFigureAttributes"),e("thead","htmlTheadAttributes"),e("tbody","htmlTbodyAttributes");function e(t,r){n.on(`attribute:${r}:table`,(i,s,o)=>{if(!o.consumable.test(s.item,i.name))return;const a=o.mapper.toViewElement(s.item),l=b0(o.writer,a,t);if(l)if(o.consumable.consume(s.item,i.name),r==="htmlTableAttributes"&&a!==l){const u=L6(s.attributeOldValue),f=L6(s.attributeNewValue);ta(o.writer,u.tableAttributes,f.tableAttributes,l),ta(o.writer,u.figureAttributes,f.figureAttributes,a)}else ta(o.writer,s.attributeOldValue,s.attributeNewValue,l)})}}}function L6(n){const e={},t={...n};if(!n||!("styles"in n))return{figureAttributes:e,tableAttributes:t};t.styles={};for(const[r,i]of Object.entries(n.styles))r5e.includes(r)?e.styles={...e.styles,[r]:i}:t.styles={...t.styles,[r]:i};return{figureAttributes:e,tableAttributes:t}}class c5e extends ee{static get requires(){return[Vn]}static get pluginName(){return"StyleElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(Vn);e.on("register:style",(t,r)=>{const i=this.editor,s=i.model.schema,o=i.conversion;s.register("htmlStyle",r.modelSchema),s.extend("htmlStyle",{allowAttributes:["htmlStyleAttributes","htmlContent"],isContent:!0}),i.data.registerRawContentMatcher({name:"style"}),o.for("upcast").elementToElement({view:"style",model:iA(r)}),o.for("upcast").add(jf(r,e)),o.for("downcast").elementToElement({model:"htmlStyle",view:(a,{writer:l})=>Av("style",a,l)}),o.for("downcast").add(p0(r)),t.stop()})}}class u5e extends ee{static get requires(){return[Vn]}static get pluginName(){return"ListElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("ListEditing"))return;const t=e.model.schema,r=e.conversion,i=e.plugins.get(Vn),s=e.plugins.get("ListEditing"),o=e.plugins.get("ListUtils"),a=["ul","ol","li"];s.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast:na}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlUlAttributes",setAttributeOnDowncast:na}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlOlAttributes",setAttributeOnDowncast:na}),i.on("register",(l,u)=>{if(!a.includes(u.view)||(l.stop(),t.checkAttribute("$block","htmlLiAttributes")))return;const f=a.map(m=>zs(m));t.extend("$listItem",{allowAttributes:f}),r.for("upcast").add(m=>{m.on("element:ul",bE("htmlUlAttributes",i),{priority:"low"}),m.on("element:ol",bE("htmlOlAttributes",i),{priority:"low"}),m.on("element:li",bE("htmlLiAttributes",i),{priority:"low"})})}),s.on("postFixer",(l,{listNodes:u,writer:f})=>{for(const{node:m,previousNodeInList:p}of u)if(p){if(p.getAttribute("listType")==m.getAttribute("listType")){const y=B6(p.getAttribute("listType")),v=p.getAttribute(y);!I6(m.getAttribute(y),v)&&f.model.schema.checkAttribute(m,y)&&(f.setAttribute(y,v,m),l.return=!0)}if(p.getAttribute("listItemId")==m.getAttribute("listItemId")){const y=p.getAttribute("htmlLiAttributes");!I6(m.getAttribute("htmlLiAttributes"),y)&&f.model.schema.checkAttribute(m,"htmlLiAttributes")&&(f.setAttribute("htmlLiAttributes",y,m),l.return=!0)}}}),s.on("postFixer",(l,{listNodes:u,writer:f})=>{for(const{node:m}of u){const p=m.getAttribute("listType");!o.isNumberedListType(p)&&m.getAttribute("htmlOlAttributes")&&(f.removeAttribute("htmlOlAttributes",m),l.return=!0),o.isNumberedListType(p)&&m.getAttribute("htmlUlAttributes")&&(f.removeAttribute("htmlUlAttributes",m),l.return=!0)}})}afterInit(){const e=this.editor;if(!e.commands.get("indentList"))return;const t=e.commands.get("indentList");this.listenTo(t,"afterExecute",(r,i)=>{e.model.change(s=>{for(const o of i){const a=B6(o.getAttribute("listType"));e.model.schema.checkAttribute(o,a)&&s.setAttribute(a,{},o)}})})}}function bE(n,e){return(t,r,i)=>{const s=r.viewItem;r.modelRange||Object.assign(r,i.convertChildren(r.viewItem,r.modelCursor));const o=e.processViewAttributes(s,i);for(const a of r.modelRange.getItems({shallow:!0}))a.hasAttribute("listItemId")&&(a.hasAttribute("htmlUlAttributes")||a.hasAttribute("htmlOlAttributes")||i.writer.model.schema.checkAttribute(a,n)&&i.writer.setAttribute(n,o||{},a))}}function B6(n){return n==="numbered"||n=="customNumbered"?"htmlOlAttributes":"htmlUlAttributes"}class d5e extends ee{static get requires(){return[Vn]}static get pluginName(){return"HorizontalLineElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("HorizontalLineEditing"))return;const t=e.model.schema,r=e.conversion,i=e.plugins.get(Vn);i.on("register:hr",(s,o)=>{o.model==="horizontalLine"&&(t.extend("horizontalLine",{allowAttributes:["htmlHrAttributes"]}),r.for("upcast").add(jf(o,i)),r.for("downcast").add(f5e()),s.stop())})}}function f5e(){return n=>{n.on("attribute:htmlHrAttributes:horizontalLine",(e,t,r)=>{if(!r.consumable.test(t.item,e.name))return;const{attributeOldValue:i,attributeNewValue:s}=t,o=r.mapper.toViewElement(t.item),a=b0(r.writer,o,"hr");a&&(ta(r.writer,i,s,a),r.consumable.consume(t.item,e.name))},{priority:"low"})}}class h5e extends ee{static get requires(){return[Vn,qf]}static get pluginName(){return"CustomElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(Vn),t=this.editor.plugins.get(qf);e.on("register:$customElement",(r,i)=>{r.stop();const s=this.editor,o=s.model.schema,a=s.conversion,l=s.editing.view.domConverter.unsafeElements,u=s.data.htmlProcessor.domConverter.preElements;o.register(i.model,i.modelSchema),o.extend(i.model,{allowAttributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"],isContent:!0}),s.data.htmlProcessor.domConverter.registerRawContentMatcher({name:"template"}),a.for("upcast").elementToElement({view:/.*/,model:(f,m)=>{if(f.name=="$comment")return null;/* istanbul ignore next -- @preserve */if(!m5e(f.name)||t.getDefinitionsForView(f.name).size)return null;l.includes(f.name)||l.push(f.name),u.includes(f.name)||u.push(f.name);const p=m.writer.createElement(i.model,{htmlElementName:f.name}),y=e.processViewAttributes(f,m);y&&m.writer.setAttribute("htmlCustomElementAttributes",y,p);let v;if(f.is("element","template")&&f.getCustomProperty("$rawContent"))v=f.getCustomProperty("$rawContent");else{const E=new yv(f.document).createDocumentFragment(f),k=s.data.htmlProcessor.domConverter.viewToDom(E),T=k.firstChild;for(;T.firstChild;)k.appendChild(T.firstChild);T.remove(),v=s.data.htmlProcessor.htmlWriter.getHtml(k)}m.writer.setAttribute("htmlContent",v,p);for(const{item:w}of s.editing.view.createRangeIn(f))m.consumable.consume(w,{name:!0});return p},converterPriority:"low"}),a.for("editingDowncast").elementToElement({model:{name:i.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(f,{writer:m})=>{const p=f.getAttribute("htmlElementName"),y=m.createRawElement(p);return f.hasAttribute("htmlCustomElementAttributes")&&na(m,f.getAttribute("htmlCustomElementAttributes"),y),y}}),a.for("dataDowncast").elementToElement({model:{name:i.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(f,{writer:m})=>{const p=f.getAttribute("htmlElementName"),y=f.getAttribute("htmlContent"),v=m.createRawElement(p,null,(w,E)=>{E.setContentOf(w,y)});return f.hasAttribute("htmlCustomElementAttributes")&&na(m,f.getAttribute("htmlCustomElementAttributes"),v),v}})})}}function m5e(n){try{document.createElement(n)}catch{/* istanbul ignore next -- @preserve */return!1}return!0}class g5e extends ee{static get pluginName(){return"GeneralHtmlSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[Vn,HAe,jAe,qAe,GAe,QAe,n5e,i5e,c5e,u5e,d5e,h5e]}init(){const e=this.editor,t=e.plugins.get(Vn);t.loadAllowedEmptyElementsConfig(e.config.get("htmlSupport.allowEmpty")||[]),t.loadAllowedConfig(e.config.get("htmlSupport.allow")||[]),t.loadDisallowedConfig(e.config.get("htmlSupport.disallow")||[])}afterInit(){this.editor.commands.get("removeFormat")?.registerCustomAttribute(t=>t.startsWith("html")&&t.endsWith("Attributes"),OAe)}getGhsAttributeNameForElement(e){const t=this.editor.plugins.get("DataSchema"),r=Array.from(t.getDefinitionsForView(e,!1)),i=r.find(s=>s.isInline&&!r[0].isObject);return i?i.model:zs(e)}addModelHtmlClass(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Kd(i,r,s))Yd(o,a,s,"classes",l=>{for(const u of Gt(t))l.add(u)})})}removeModelHtmlClass(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Kd(i,r,s))Yd(o,a,s,"classes",l=>{for(const u of Gt(t))l.delete(u)})})}setModelHtmlAttributes(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Kd(i,r,s))Yd(o,a,s,"attributes",l=>{for(const[u,f]of Object.entries(t))l.set(u,f)})})}removeModelHtmlAttributes(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Kd(i,r,s))Yd(o,a,s,"attributes",l=>{for(const u of Gt(t))l.delete(u)})})}setModelHtmlStyles(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Kd(i,r,s))Yd(o,a,s,"styles",l=>{for(const[u,f]of Object.entries(t))l.set(u,f)})})}removeModelHtmlStyles(e,t,r){const i=this.editor.model,s=this.getGhsAttributeNameForElement(e);i.change(o=>{for(const a of Kd(i,r,s))Yd(o,a,s,"styles",l=>{for(const u of Gt(t))l.delete(u)})})}}function*Kd(n,e,t){if(e)if(!(Symbol.iterator in e)&&e.is("documentSelection")&&e.isCollapsed)n.schema.checkAttributeInSelection(e,t)&&(yield e);else for(const r of p5e(n,e,t))yield*r.getItems({shallow:!0})}function p5e(n,e,t){return!(Symbol.iterator in e)&&(e.is("node")||e.is("$text")||e.is("$textProxy"))?n.schema.checkAttribute(e,t)?[n.createRangeOn(e)]:[]:n.schema.getValidRanges(n.createSelection(e).getRanges(),t)}function tz(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Vm(n){return n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function b5e(n){return n.createContainerElement("span",{class:"image-inline"},n.createEmptyElement("img"))}function V6(n){return n.createContainerElement("figure",{class:"image"},[n.createEmptyElement("img"),n.createSlot("children")])}function nz(n,e){const t=n.plugins.get("ImageUtils"),r=n.plugins.has("ImageInlineEditing")&&n.plugins.has("ImageBlockEditing");return s=>t.isInlineImageView(s)?r&&(s.getStyle("display")=="block"||s.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:i(s):null;function i(s){const o={name:!0};return s.hasAttribute("src")&&(o.attributes=["src"]),o}}function sA(n,e){const t=_n(e.getSelectedBlocks());return!t||n.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function $y(n){return n&&n.endsWith("px")?parseInt(n):null}function Wy(n){const e=$y(n.getStyle("width")),t=$y(n.getStyle("height"));return!!(e&&t)}const y5e=/^(image|image-inline)$/;class Xr extends ee{_domEmitter=new(Ei());static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,r=null,i={}){const s=this.editor,o=s.model,a=o.document.selection,l=rz(s,t||a,r);e={...Object.fromEntries(a.getAttributes()),...e};for(const u in e)o.schema.checkAttribute(l,u)||delete e[u];return o.change(u=>{const{setImageSizes:f=!0}=i,m=u.createElement(l,e);return o.insertObject(m,t,null,{setSelection:"on",findOptimalPosition:!t&&l!="imageInline"?"auto":void 0}),m.parent?(f&&this.setImageNaturalSizeAttributes(m),m):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(r=>{const i=new qe.window.Image;this._domEmitter.listenTo(i,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(r.batch,s=>{s.setAttribute("width",i.naturalWidth,e),s.setAttribute("height",i.naturalHeight,e)}),this._domEmitter.stopListening(i,"load")}),i.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let i=t.parent;for(;i;){if(i.is("element")&&this.isImageWidget(i))return i;i=i.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:y5e})}isImageAllowed(){const t=this.editor.model.document.selection;return w5e(this.editor,t)&&v5e(t)}toImageWidget(e,t,r){return t.setCustomProperty("image",!0,e),ep(e,t,{label:()=>{const o=this.findViewImgElement(e).getAttribute("alt");return o?`${o} ${r}`:r}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Mn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:r}of t.createRangeIn(e))if(this.isInlineImageView(r))return r}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function w5e(n,e){if(rz(n,e,null)=="imageBlock"){const r=_5e(e,n.model);if(n.model.schema.checkChild(r,"imageBlock"))return!0}else if(n.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function v5e(n){return[...n.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function _5e(n,e){const r=oU(n,e).start.parent;return r.isEmpty&&!r.is("element","$root")?r.parent:r}function rz(n,e,t){const r=n.model.schema,i=n.config.get("image.insert.type");return n.plugins.has("ImageBlockEditing")?n.plugins.has("ImageInlineEditing")?t||(i==="inline"?"imageInline":i!=="auto"?"imageBlock":e.is("selection")?sA(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const x5e=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class E5e extends ee{static get requires(){return[kU,Xr,QC,_c]}static get pluginName(){return"AutoImage"}static get isOfficialPlugin(){return!0}_timeoutId;_positionToInsert;constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",()=>{const i=t.selection.getFirstRange(),s=tr.fromPosition(i.start);s.stickiness="toPrevious";const o=tr.fromPosition(i.end);o.stickiness="toNext",t.once("change:data",()=>{this._embedImageBetweenPositions(s,o),s.detach(),o.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(qe.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,t){const r=this.editor,i=new Di(e,t),s=i.getWalker({ignoreElementEnd:!0}),o=Object.fromEntries(r.model.document.selection.getAttributes()),a=this.editor.plugins.get("ImageUtils");let l="";for(const u of s)u.item.is("$textProxy")&&(l+=u.item.data);if(l=l.trim(),!l.match(x5e)){i.detach();return}this._positionToInsert=tr.fromPosition(e),this._timeoutId=setTimeout(()=>{if(!r.commands.get("insertImage").isEnabled){i.detach();return}r.model.change(m=>{this._timeoutId=null,m.remove(i),i.detach();let p;this._positionToInsert.root.rootName!=="$graveyard"&&(p=this._positionToInsert.toPosition()),a.insertImage({...o,src:l},p),this._positionToInsert.detach(),this._positionToInsert=null}),r.plugins.get("Delete").requestUndoOnBackspace()},100)}}class k5e extends lt{refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.isEnabled&&r.hasAttribute("alt")?this.value=r.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,r=t.plugins.get("ImageUtils"),i=t.model,s=r.getClosestSelectedImageElement(i.document.selection);i.change(o=>{o.setAttribute("alt",e.newValue,s)})}}class T5e extends ee{static get requires(){return[Xr]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new k5e(this.editor))}}class S5e extends Le{focusTracker;keystrokes;labeledInput;backButtonView;saveButtonView;children;_focusables;_focusCycler;constructor(e){super(e),this.focusTracker=new Yt,this.keystrokes=new bn,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.labeledInput=this._createLabeledInputView(),this.children=this.createCollection([this._createHeaderView()]),this.children.add(new Wr(e,{children:[this.labeledInput,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding"]})),this._focusables=new pr,this.keystrokes.set("Esc",(t,r)=>{this.fire("cancel"),r()}),this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.backButtonView,this.labeledInput,this.saveButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new et(this.locale);return t.set({label:e("Save"),withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new pl(this.locale,{label:e("Text Alternative")});return t.children.add(this.backButtonView,0),t}_createLabeledInputView(){const e=this.locale.t,t=new Yn(this.locale,ms);return t.label=e("Text alternative"),t.class="ck-labeled-field-view_full-width",t}}function C5e(n){const e=n.plugins.get("ContextualBalloon");if(n.plugins.get("ImageUtils").getClosestSelectedImageWidget(n.editing.view.document.selection)){const r=oA(n);e.updatePosition(r)}}function oA(n){const e=n.editing.view,t=Bn.defaultPositions,r=n.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class A5e extends ee{_balloon;_form;static get requires(){return[Co]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",r=>{const i=e.commands.get("imageTextAlternative"),s=new et(r);return s.set({label:t("Change image text alternative"),icon:mxe,tooltip:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",o=>!!o),this.listenTo(s,"execute",()=>{this._showForm()}),s})}_createForm(){const e=this.editor,r=e.editing.view.document,i=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(u0(S5e))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this.listenTo(e.ui,"update",()=>{i.getClosestSelectedImageWidget(r.selection)?this._isVisible&&C5e(e):this._hideForm(!0)}),Hu({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),r=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:oA(e)}),r.fieldView.value=r.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class iz extends ee{static get requires(){return[T5e,A5e]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function N5e(n){const e=(t,r,i)=>{if(!i.consumable.test(r.viewItem,{name:!0,classes:"image"}))return;const s=n.findViewImgElement(r.viewItem);if(!s||!i.consumable.test(s,{name:!0}))return;i.consumable.consume(r.viewItem,{name:!0,classes:"image"});const o=i.convertItem(s,r.modelCursor),a=_n(o.modelRange.getItems());if(!a){i.consumable.revert(r.viewItem,{name:!0,classes:"image"});return}i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r)};return t=>{t.on("element:figure",e)}}function sz(n,e){const t=(r,i,s)=>{if(!s.consumable.consume(i.item,r.name))return;const o=s.writer,a=s.mapper.toViewElement(i.item),l=n.findViewImgElement(a);i.attributeNewValue===null?(o.removeAttribute("srcset",l),o.removeAttribute("sizes",l)):i.attributeNewValue&&(o.setAttribute("srcset",i.attributeNewValue,l),o.setAttribute("sizes","100vw",l))};return r=>{r.on(`attribute:srcset:${e}`,t)}}function jy(n,e,t){const r=(i,s,o)=>{if(!o.consumable.consume(s.item,i.name))return;const a=o.writer,l=o.mapper.toViewElement(s.item),u=n.findViewImgElement(l);a.setAttribute(s.attributeKey,s.attributeNewValue||"",u)};return i=>{i.on(`attribute:${t}:${e}`,r)}}class aA extends Ro{observe(e){this.listenTo(e,"load",(t,r)=>{const i=r.target;this.checkShouldIgnoreEventFromTarget(i)||i.tagName=="IMG"&&this._fireEvents(r)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class P5e extends lt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&It("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&It("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Gt(e.source),r=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(r.getAttributes());t.forEach((o,a)=>{const l=r.getSelectedElement();if(typeof o=="string"&&(o={src:o}),a&&l&&i.isImage(l)){const u=this.editor.model.createPositionAfter(l);i.insertImage({...o,...s},u,e.imageType)}else e.breakBlock?i.insertImage({...o,...s},r.getFirstPosition(),e.imageType):i.insertImage({...o,...s},null,e.imageType)})}}class R5e extends lt{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const t=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),r=this.editor.plugins.get("ImageUtils");this.editor.model.change(i=>{i.setAttribute("src",e.source,t),this.cleanupImage(i,t),r.setImageNaturalSizeAttributes(t)})}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class oz extends ee{static get requires(){return[Xr]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(aA),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const r=new P5e(e),i=new R5e(e);e.commands.add("insertImage",r),e.commands.add("replaceImageSource",i),e.commands.add("imageInsert",r)}}class az extends ee{static get requires(){return[Xr]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,r=t.plugins.get("ImageUtils"),i=e==="imageBlock"?"figure":"img";t.conversion.for("upcast").attributeToAttribute({view:{name:i,styles:{width:/.+/}},model:{key:"width",value:o=>Wy(o)?$y(o.getStyle("width")):null}}).attributeToAttribute({view:{name:i,key:"width"},model:"width"}).attributeToAttribute({view:{name:i,styles:{height:/.+/}},model:{key:"height",value:o=>Wy(o)?$y(o.getStyle("height")):null}}).attributeToAttribute({view:{name:i,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(o=>{s(o,"width","width",!0,!0),s(o,"height","height",!0,!0)}),t.conversion.for("dataDowncast").add(o=>{s(o,"width","width",!1),s(o,"height","height",!1)}),t.conversion.for("upcast").add(o=>{o.on("element:img",(a,l,u)=>{const f=l.viewItem.getAttribute("width"),m=l.viewItem.getAttribute("height");f&&m&&u.consumable.consume(l.viewItem,{styles:["aspect-ratio"]})})});function s(o,a,l,u,f=!1){o.on(`attribute:${a}:${e}`,(m,p,y)=>{if(!y.consumable.consume(p.item,m.name))return;const v=y.writer,w=y.mapper.toViewElement(p.item),E=r.findViewImgElement(w);p.attributeNewValue!==null?v.setAttribute(l,p.attributeNewValue,E):v.removeAttribute(l,E);const k=p.item.getAttribute("width"),T=p.item.getAttribute("height"),S=k&&T;if(S&&f&&v.setAttribute("loading","lazy",E),p.item.hasAttribute("sources"))return;const P=p.item.hasAttribute("resizedWidth");e==="imageInline"&&!P&&!u||S&&v.setStyle("aspect-ratio",`${k}/${T}`,E)})}}}class lz extends lt{_modelElementName;constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),r=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(r):this.isEnabled=t.isBlockImage(r)}execute(e={}){const t=this.editor,r=this.editor.model,i=t.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(r.document.selection),o=Object.fromEntries(s.getAttributes());return!o.src&&!o.uploadId?null:r.change(a=>{const{setImageSizes:l=!0}=e,u=Array.from(r.markers).filter(p=>p.getRange().containsItem(s)),f=i.insertImage(o,r.createSelection(s,"on"),this._modelElementName,{setImageSizes:l});if(!f)return null;const m=a.createRangeOn(f);for(const p of u){const y=p.getRange(),v=y.root.rootName!="$graveyard"?y.getJoined(m,!0):m;a.updateMarker(p,{range:v})}return{oldElement:s,newElement:f}})}}class cz extends ee{static get requires(){return[Xr]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,r=e.plugins.get("ImageUtils");t.for("editingDowncast").add(i=>{i.on("attribute:placeholder",(s,o,a)=>{if(!a.consumable.test(o.item,s.name)||!o.item.is("element","imageBlock")&&!o.item.is("element","imageInline"))return;a.consumable.consume(o.item,s.name);const l=a.writer,u=a.mapper.toViewElement(o.item),f=r.findViewImgElement(u);o.attributeNewValue?(l.addClass("image_placeholder",f),l.setStyle("background-image",`url(${o.attributeNewValue})`,f),l.setCustomProperty("editingPipeline:doNotReuseOnce",!0,f)):(l.removeClass("image_placeholder",f),l.removeStyle("background-image",f))})})}_setupLoadListener(){const e=this.editor,t=e.model,r=e.editing,i=r.view,s=e.plugins.get("ImageUtils");i.addObserver(aA),this.listenTo(i.document,"imageLoaded",(o,a)=>{const l=i.domConverter.mapDomToView(a.target);if(!l)return;const u=s.getImageWidgetFromImageView(l);if(!u)return;const f=r.mapper.toModelElement(u);!f||!f.hasAttribute("placeholder")||t.enqueueChange({isUndoable:!1},m=>{m.removeAttribute("placeholder",f)})})}}class uz extends ee{static get requires(){return[oz,az,Xr,cz,$s]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new lz(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,r=e.conversion,i=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>V6(o)}),r.for("editingDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>i.toImageWidget(V6(o),o,t("image widget"))}),r.for("downcast").add(jy(i,"imageBlock","src")).add(jy(i,"imageBlock","alt")).add(sz(i,"imageBlock")),r.for("upcast").elementToElement({view:nz(e,"imageBlock"),model:(s,{writer:o})=>o.createElement("imageBlock",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}).add(N5e(i))}_setupClipboardIntegration(){const e=this.editor,t=e.model,r=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let u;if(!l.every(i.isInlineImageView))return;a.targetRanges?u=e.editing.mapper.toModelRange(a.targetRanges[0]):u=t.document.selection.getFirstRange();const f=t.createSelection(u);if(sA(t.schema,f)==="imageBlock"){const m=new yv(r.document),p=l.map(y=>m.createElement("figure",{class:"image"},y));a.content=m.createDocumentFragment(p)}}),this.listenTo(s,"contentInsertion",(o,a)=>{a.method==="paste"&&t.change(l=>{const u=l.createRangeIn(a.content);for(const f of u.getItems())f.is("element","imageBlock")&&i.setImageNaturalSizeAttributes(f)})})}}class I5e extends Le{focusTracker;keystrokes;_focusables;_focusCycler;children;constructor(e,t=[]){super(e),this.focusTracker=new Yt,this.keystrokes=new bn,this._focusables=new pr,this.children=this.createCollection(),this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const r of t)this.children.add(r),this._focusables.add(r),r instanceof zC&&this._focusables.addMany(r.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),wc({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class Nv extends ee{static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Xr]}dropdownView;_integrations=new Map;constructor(e){super(e),e.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const e=this.editor,t=e.model.document.selection,r=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=r.isImage(t.getSelectedElement())});const i=o=>this._createToolbarComponent(o),s=o=>this._createMenuBarComponent(o);e.ui.componentFactory.add("insertImage",i),e.ui.componentFactory.add("imageInsert",i),e.ui.componentFactory.add("menuBar:insertImage",s)}registerIntegration({name:e,observable:t,buttonViewCreator:r,formViewCreator:i,menuBarButtonViewCreator:s,requiresForm:o=!1,override:a=!1}){this._integrations.has(e)&&!a&&It("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:t,buttonViewCreator:r,menuBarButtonViewCreator:s,formViewCreator:i,requiresForm:o})}_createToolbarComponent(e){const t=this.editor,r=e.t,i=this._prepareIntegrations();if(!i.length)return null;let s;const o=i[0];if(i.length==1){if(!o.requiresForm)return o.buttonViewCreator(!0);s=o.buttonViewCreator(!0)}else{const u=o.buttonViewCreator(!1);s=new gh(e,u),s.tooltip=!0,s.bind("label").to(this,"isImageSelected",f=>r(f?"Replace image":"Insert image"))}const a=this.dropdownView=Er(e,s),l=i.map(({observable:u})=>typeof u=="function"?u():u);return a.bind("isEnabled").toMany(l,"isEnabled",(...u)=>u.some(f=>f)),a.once("change:isOpen",()=>{const u=i.flatMap(({formViewCreator:m})=>m(i.length==1)),f=new I5e(t.locale,u);a.panelView.children.add(f)}),a}_createMenuBarComponent(e){const t=e.t,r=this._prepareIntegrations();if(!r.length)return null;const i=r.flatMap(({menuBarButtonViewCreator:a})=>a(r.length==1)),s=new zi(e),o=new hc(e);s.panelView.children.add(o),s.buttonView.set({icon:C_e,label:t("Image")});for(const a of i){const l=new al(e,s);l.children.add(a),o.items.add(l),a.delegate("execute").to(s)}return s}_prepareIntegrations(){const t=this.editor.config.get("image.insert.integrations"),r=[];if(!t.length)return It("image-insert-integrations-not-specified"),r;for(const i of t){if(!this._integrations.has(i)){["upload","assetManager","url"].includes(i)||It("image-insert-unknown-integration",{item:i});continue}r.push(this._integrations.get(i))}return r.length||It("image-insert-integrations-not-registered"),r}}class O5e extends ee{static get requires(){return[uz,bh,iz,Nv]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class M5e extends ee{static get requires(){return[oz,az,Xr,cz,$s]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new lz(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,r=e.conversion,i=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToElement({model:"imageInline",view:(s,{writer:o})=>o.createEmptyElement("img")}),r.for("editingDowncast").elementToStructure({model:"imageInline",view:(s,{writer:o})=>i.toImageWidget(b5e(o),o,t("image widget"))}),r.for("downcast").add(jy(i,"imageInline","src")).add(jy(i,"imageInline","alt")).add(sz(i,"imageInline")),r.for("upcast").elementToElement({view:nz(e,"imageInline"),model:(s,{writer:o})=>o.createElement("imageInline",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,r=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let u;if(!l.every(i.isBlockImageView))return;a.targetRanges?u=e.editing.mapper.toModelRange(a.targetRanges[0]):u=t.document.selection.getFirstRange();const f=t.createSelection(u);if(sA(t.schema,f)==="imageInline"){const m=new yv(r.document),p=l.map(y=>y.childCount===1?(Array.from(y.getAttributes()).forEach(v=>m.setAttribute(...v,i.findViewImgElement(y))),y.getChild(0)):y);a.content=m.createDocumentFragment(p)}}),this.listenTo(s,"contentInsertion",(o,a)=>{a.method==="paste"&&t.change(l=>{const u=l.createRangeIn(a.content);for(const f of u.getItems())f.is("element","imageInline")&&i.setImageNaturalSizeAttributes(f)})})}}class D5e extends ee{static get requires(){return[M5e,bh,iz,Nv]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class dz extends ee{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[Xr]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),r=e.getFirstPosition().findAncestor("caption");return r&&t.isBlockImage(r.parent)?r:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class F5e extends lt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),r=e.plugins.get("ImageUtils");if(!e.plugins.has(uz)){this.isEnabled=!1,this.value=!1;return}const i=e.model.document.selection,s=i.getSelectedElement();if(!s){const o=t.getCaptionFromModelSelection(i);this.isEnabled=!!o,this.value=!!o;return}this.isEnabled=r.isImage(s),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(s):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(r=>{this.value?this._hideImageCaption(r):this._showImageCaption(r,t)})}_showImageCaption(e,t){const i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let a=i.getSelectedElement();const l=s._getSavedCaption(a);o.isInlineImage(a)&&(this.editor.execute("imageTypeBlock"),a=i.getSelectedElement());const u=l||e.createElement("caption");e.append(u,a),t&&e.setSelection(u,"in")}_hideImageCaption(e){const t=this.editor,r=t.model.document.selection,i=t.plugins.get("ImageCaptionEditing"),s=t.plugins.get("ImageCaptionUtils");let o=r.getSelectedElement(),a;o?a=s.getCaptionFromImageModelElement(o):(a=s.getCaptionFromModelSelection(r),o=a.parent),i._saveCaption(o,a),e.setSelection(o,"on"),e.remove(a)}}class L5e extends ee{static get requires(){return[Xr,dz]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}_savedCaptionsMap;constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new F5e(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),s=e.t;e.conversion.for("upcast").elementToElement({view:o=>i.matchImageCaptionViewElement(o),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>r.isBlockImage(o.parent)?a.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!r.isBlockImage(o.parent))return null;const l=a.createEditableElement("figcaption");a.setCustomProperty("imageCaption",!0,l),l.placeholder=s("Enter image caption"),pC({view:t,element:l,keepOnFocus:!0});const u=o.parent.getAttribute("alt"),f=u?s("Caption for image: %0",[u]):s("Caption for the image");return GC(l,a,{label:f})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),i=e.commands.get("imageTypeInline"),s=e.commands.get("imageTypeBlock"),o=a=>{if(!a.return)return;const{oldElement:l,newElement:u}=a.return;/* istanbul ignore if: paranoid check -- @preserve */if(!l)return;if(t.isBlockImage(l)){const m=r.getCaptionFromImageModelElement(l);if(m){this._saveCaption(u,m);return}}const f=this._getSavedCaption(l);f&&this._saveCaption(u,f)};i&&this.listenTo(i,"execute",o,{priority:"low"}),s&&this.listenTo(s,"execute",o,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?gn.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,r=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const s=t.document.differ.getChanges();for(const o of s){if(o.attributeKey!=="alt")continue;const a=o.range.start.nodeAfter;if(r.isBlockImage(a)){const l=i.getCaptionFromImageModelElement(a);if(!l)return;e.editing.reconvertItem(l)}}})}}class B5e extends ee{static get requires(){return[dz]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageCaptionUtils"),i=e.t;e.ui.componentFactory.add("toggleImageCaption",s=>{const o=e.commands.get("toggleImageCaption"),a=new et(s);return a.set({icon:u9,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.bind("label").to(o,"value",l=>i(l?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const l=r.getCaptionFromModelSelection(e.model.document.selection);if(l){const u=e.editing.mapper.toViewElement(l);t.scrollToTheSelection(),t.change(f=>{f.addClass("image__caption_highlighted",u)})}e.editing.view.focus()}),a})}}class V5e extends ee{static get requires(){return[L5e,B5e]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}}function fz(n){const e=n.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function U5e(n){return new Promise((e,t)=>{const r=n.getAttribute("src");fetch(r).then(i=>i.blob()).then(i=>{const s=hz(i,r),a=`image.${s.replace("image/","")}`,l=new File([i],a,{type:s});e(l)}).catch(i=>i&&i.name==="TypeError"?H5e(r).then(e).catch(t):t(i))})}function z5e(n,e){return!n.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function hz(n,e){return n.type?n.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function H5e(n){return $5e(n).then(e=>{const t=hz(e,n),i=`image.${t.replace("image/","")}`;return new File([e],i,{type:t})})}function $5e(n){return new Promise((e,t)=>{const r=qe.document.createElement("img");r.addEventListener("load",()=>{const i=qe.document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0),i.toBlob(o=>o?e(o):t())}),r.addEventListener("error",()=>t()),r.src=n})}class W5e extends ee{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("uploadImage",()=>this._createToolbarButton()),e.ui.componentFactory.add("imageUpload",()=>this._createToolbarButton()),e.ui.componentFactory.add("menuBar:uploadImage",()=>this._createMenuBarButton("standalone")),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:t=>this._createMenuBarButton(t?"insertOnly":"insertNested")})}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("uploadImage"),s=t.config.get("image.upload.types"),o=fz(s),a=new e(t.locale),l=r.t;return a.set({acceptedType:s.map(u=>`image/${u}`).join(","),allowMultipleFiles:!0,label:l("Upload from computer"),icon:A_e}),a.bind("isEnabled").to(i),a.on("done",(u,f)=>{const m=Array.from(f).filter(p=>o.test(p.type));m.length&&(t.execute("uploadImage",{file:m}),t.editing.view.focus())}),a}_createToolbarButton(){const e=this.editor.locale.t,t=this.editor.plugins.get("ImageInsertUI"),r=this.editor.commands.get("uploadImage"),i=this._createButton(LO);return i.tooltip=!0,i.bind("label").to(t,"isImageSelected",r,"isAccessAllowed",(s,o)=>e(o?s?"Replace image from computer":"Upload image from computer":"You have no image upload permissions.")),i}_createDropdownButton(){const e=this.editor.locale.t,t=this.editor.plugins.get("ImageInsertUI"),r=this._createButton(LO);return r.withText=!0,r.bind("label").to(t,"isImageSelected",i=>e(i?"Replace from computer":"Upload from computer")),r.on("execute",()=>{t.dropdownView.isOpen=!1}),r}_createMenuBarButton(e){const t=this.editor.locale.t,r=this._createButton(W9);switch(r.withText=!0,e){case"standalone":r.label=t("Image from computer");break;case"insertOnly":r.label=t("Image");break;case"insertNested":r.label=t("From computer");break}return r}}class j5e extends ee{static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}placeholder;constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}uploadStatusChange=(e,t,r)=>{const i=this.editor,s=t.item,o=s.getAttribute("uploadId");if(!r.consumable.consume(t.item,e.name))return;const a=i.plugins.get("ImageUtils"),l=i.plugins.get(hf),u=o?t.attributeNewValue:null,f=this.placeholder,m=i.editing.mapper.toViewElement(s),p=r.writer;if(u=="reading"){U6(m,p),z6(a,f,m,p);return}if(u=="uploading"){const y=l.loaders.get(o);U6(m,p),y?(H6(m,p),G5e(m,p,y,i.editing.view),Q5e(a,m,p,y)):z6(a,f,m,p);return}u=="complete"&&l.loaders.get(o)&&K5e(m,p,i.editing.view),Y5e(m,p),H6(m,p),q5e(m,p)}}function U6(n,e){n.hasClass("ck-appear")||e.addClass("ck-appear",n)}function q5e(n,e){e.removeClass("ck-appear",n)}function z6(n,e,t,r){t.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",t);const i=n.findViewImgElement(t);i.getAttribute("src")!==e&&r.setAttribute("src",e,i),mz(t,"placeholder")||r.insert(r.createPositionAfter(i),J5e(r))}function H6(n,e){n.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",n),gz(n,e,"placeholder")}function G5e(n,e,t,r){const i=X5e(e);e.insert(e.createPositionAt(n,"end"),i),t.on("change:uploadedPercent",(s,o,a)=>{r.change(l=>{l.setStyle("width",a+"%",i)})})}function Y5e(n,e){gz(n,e,"progressBar")}function K5e(n,e,t){const r=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(n,"end"),r),setTimeout(()=>{t.change(i=>i.remove(i.createRangeOn(r)))},3e3)}function X5e(n){const e=n.createUIElement("div",{class:"ck-progress-bar"});return n.setCustomProperty("progressBar",!0,e),e}function J5e(n){const e=n.createUIElement("div",{class:"ck-upload-placeholder-loader"});return n.setCustomProperty("placeholder",!0,e),e}function mz(n,e){for(const t of n.getChildren())if(t.getCustomProperty(e))return t}function gz(n,e,t){const r=mz(n,t);r&&e.remove(e.createRangeOn(r))}function Q5e(n,e,t,r){if(r.data){const i=n.findViewImgElement(e);t.setAttribute("src",r.data,i)}}class Z5e extends lt{constructor(e){super(e),this.set("isAccessAllowed",!0)}refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),r=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(r)}execute(e){const t=Gt(e.file),r=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(r.getAttributes());t.forEach((o,a)=>{const l=r.getSelectedElement();if(a&&l&&i.isImage(l)){const u=this.editor.model.createPositionAfter(l);this._uploadImage(o,s,u)}else this._uploadImage(o,s)})}_uploadImage(e,t,r){const i=this.editor,o=i.plugins.get(hf).createLoader(e),a=i.plugins.get("ImageUtils");o&&a.insertImage({...t,uploadId:o.id},r)}}class e4e extends ee{static get requires(){return[hf,YO,$s,Xr]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}_uploadImageElements;_uploadedImages=new Map;constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,r=e.conversion,i=e.plugins.get(hf),s=e.plugins.get("ImageUtils"),o=e.plugins.get("ClipboardPipeline"),a=fz(e.config.get("image.upload.types")),l=new Z5e(e);e.commands.add("uploadImage",l),e.commands.add("imageUpload",l),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add(u=>u.on("element:img",(f,m,p)=>{if(!p.consumable.test(m.viewItem,{attributes:["data-ck-upload-id"]}))return;const y=m.viewItem.getAttribute("data-ck-upload-id");if(!y)return;const[v]=Array.from(m.modelRange.getItems({shallow:!0})),w=i.loaders.get(y);v&&(p.writer.setAttribute("uploadId",y,v),p.consumable.consume(m.viewItem,{attributes:["data-ck-upload-id"]}),w&&w.data&&p.writer.setAttribute("uploadStatus",w.status,v))},{priority:"low"})),this.listenTo(e.editing.view.document,"clipboardInput",(u,f)=>{if(t4e(f.dataTransfer))return;const m=Array.from(f.dataTransfer.files).filter(y=>y?a.test(y.type):!1);if(!m.length)return;if(u.stop(),e.model.change(y=>{f.targetRanges&&y.setSelection(f.targetRanges.map(v=>e.editing.mapper.toModelRange(v))),e.execute("uploadImage",{file:m})}),!e.commands.get("uploadImage").isAccessAllowed){const y=e.plugins.get("Notification"),v=e.locale.t;y.showWarning(v("You have no image upload permissions."),{namespace:"image"})}}),this.listenTo(o,"inputTransformation",(u,f)=>{const m=Array.from(e.editing.view.createRangeIn(f.content)).map(y=>y.item).filter(y=>z5e(s,y)&&!y.getAttribute("uploadProcessed")).map(y=>({promise:U5e(y),imageElement:y}));if(!m.length)return;const p=new yv(e.editing.view.document);for(const y of m){p.setAttribute("uploadProcessed",!0,y.imageElement);const v=i.createLoader(y.promise);v&&(p.setAttribute("src","",y.imageElement),p.setAttribute("uploadId",v.id,y.imageElement))}}),e.editing.view.document.on("dragover",(u,f)=>{f.preventDefault()}),t.on("change",()=>{const u=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),f=new Set;for(const m of u)if(m.type=="insert"&&m.name!="$text"){const p=m.position.nodeAfter,y=m.position.root.rootName=="$graveyard";for(const v of n4e(e,p)){const w=v.getAttribute("uploadId"),E=v.getAttribute("uploadStatus");if(!w||E=="complete")continue;const k=i.loaders.get(w);if(!k){!y&&this._uploadedImages.has(w)&&e.model.enqueueChange({isUndoable:!1},T=>{T.setAttribute("uploadStatus","complete",v),this.fire("uploadComplete",{data:this._uploadedImages.get(w),imageElement:v})});continue}y?f.has(w)||Array.from(this._uploadImageElements.get(w)).every(S=>S.root.rootName=="$graveyard")&&k.abort():(f.add(w),this._uploadImageElements.has(w)?this._uploadImageElements.get(w).add(v):this._uploadImageElements.set(w,new Set([v])),k.status=="idle"&&this._readAndUpload(k))}}}),this.on("uploadComplete",(u,{imageElement:f,data:m})=>{const p=m.urls?m.urls:m;this.editor.model.change(y=>{y.setAttribute("src",p.default,f),this._parseAndSetSrcsetAttributeOnImage(p,f,y),s.setImageNaturalSizeAttributes(f)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(e){const t=this.editor,r=t.model,i=t.locale.t,s=t.plugins.get(hf),o=t.plugins.get(YO),a=t.plugins.get("ImageUtils"),l=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},f=>{const m=l.get(e.id);for(const p of m)f.setAttribute("uploadStatus","reading",p)}),e.read().then(()=>{const f=e.upload();t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Uploading image"));for(const m of l.get(e.id)){/* istanbul ignore next -- @preserve */if(ot.isSafari){const p=t.editing.mapper.toViewElement(m),y=a.findViewImgElement(p);t.editing.view.once("render",()=>{if(!y.parent)return;const v=t.editing.view.domConverter.mapViewToDom(y.parent);if(!v)return;const w=v.style.display;v.style.display="none",v._ckHack=v.offsetHeight,v.style.display=w})}r.enqueueChange({isUndoable:!1},p=>{p.setAttribute("uploadStatus","uploading",m)})}return f}).then(f=>{r.enqueueChange({isUndoable:!1},m=>{for(const p of l.get(e.id))m.setAttribute("uploadStatus","complete",p),this.fire("uploadComplete",{data:f,imageElement:p});t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Image upload complete")),this._uploadedImages.set(e.id,f)}),u()}).catch(f=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw f;e.status=="error"&&f&&o.showWarning(f,{title:i("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},m=>{for(const p of l.get(e.id))p.root.rootName!=="$graveyard"&&m.remove(p)}),u()});function u(){r.enqueueChange({isUndoable:!1},f=>{for(const m of l.get(e.id))f.removeAttribute("uploadId",m),f.removeAttribute("uploadStatus",m);l.delete(e.id)}),s.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,r){let i=0;const s=Object.keys(e).filter(o=>{const a=parseInt(o,10);if(!isNaN(a))return i=Math.max(i,a),!0}).map(o=>`${e[o]} ${o}w`).join(", ");if(s!=""){const o={srcset:s};!t.hasAttribute("width")&&!t.hasAttribute("height")&&(o.width=i),r.setAttributes(o,t)}}_registerConverters(e){const{conversion:t,plugins:r}=this.editor,i=r.get(hf),s=r.get(Xr);t.for("dataDowncast").add(o=>{o.on(`attribute:uploadId:${e}`,(a,l,u)=>{if(!u.consumable.test(l.item,a.name))return;const f=i.loaders.get(l.attributeNewValue);if(!f||!f.data)return null;const m=u.mapper.toViewElement(l.item),p=s.findViewImgElement(m);p&&(u.consumable.consume(l.item,a.name),u.writer.setAttribute("data-ck-upload-id",f.id,p))})})}}function t4e(n){return Array.from(n.types).includes("text/html")&&n.getData("text/html")!==""}function n4e(n,e){const t=n.plugins.get("ImageUtils");return Array.from(n.model.createRangeOn(e)).filter(r=>t.isImage(r.item)).map(r=>r.item)}class r4e extends ee{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[e4e,W5e,j5e]}}class i4e extends Le{urlInputView;keystrokes;constructor(e){super(e),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.keystrokes=new bn,this.urlInputView=this._createUrlInputView(),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-url"],tabindex:"-1"},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]}}]})}render(){super.render(),wc({view:this}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const e=this.locale,t=e.t,r=new Yn(e,ms);return r.bind("label").to(this,"isImageSelected",i=>t(i?"Update image URL":"Insert image via URL")),r.bind("isEnabled").to(this),r.fieldView.inputMode="url",r.fieldView.placeholder="https://example.com/image.png",r.fieldView.bind("value").to(this,"imageURLInputValue",i=>i||""),r.fieldView.on("input",()=>{this.imageURLInputValue=r.fieldView.element.value.trim()}),r}focus(){this.urlInputView.focus()}}class s4e extends ee{_imageInsertUI;_formView;static get pluginName(){return"ImageInsertViaUrlUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Nv,is]}init(){this.editor.ui.componentFactory.add("insertImageViaUrl",()=>this._createToolbarButton()),this.editor.ui.componentFactory.add("menuBar:insertImageViaUrl",()=>this._createMenuBarButton("standalone"))}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createInsertUrlButton(e){const t=new e(this.editor.locale);return t.icon=N_e,t.on("execute",()=>{this._showModal()}),t}_createToolbarButton(){const e=this.editor.locale.t,t=this._createInsertUrlButton(et);return t.tooltip=!0,t.bind("label").to(this._imageInsertUI,"isImageSelected",r=>e(r?"Update image URL":"Insert image via URL")),t}_createDropdownButton(){const e=this.editor.locale.t,t=this._createInsertUrlButton(et);return t.withText=!0,t.bind("label").to(this._imageInsertUI,"isImageSelected",r=>e(r?"Update image URL":"Insert via URL")),t}_createMenuBarButton(e){const t=this.editor.locale.t,r=this._createInsertUrlButton(xn);switch(r.withText=!0,e){case"standalone":r.label=t("Image via URL");break;case"insertOnly":r.label=t("Image");break;case"insertNested":r.label=t("Via URL");break}return r}_createInsertUrlView(){const e=this.editor,t=e.locale,r=e.commands.get("replaceImageSource"),i=e.commands.get("insertImage"),s=new i4e(t);return s.bind("isImageSelected").to(this._imageInsertUI),s.bind("isEnabled").toMany([i,r],"isEnabled",(...o)=>o.some(a=>a)),s}_showModal(){const e=this.editor,r=e.locale.t,i=e.plugins.get("Dialog");this._formView||(this._formView=this._createInsertUrlView(),this._formView.on("submit",()=>this._handleSave()));const s=e.commands.get("replaceImageSource");this._formView.imageURLInputValue=s.value||"",i.show({id:"insertImageViaUrl",title:r("Image via URL"),isModal:!0,content:this._formView,actionButtons:[{label:r("Cancel"),withText:!0,onExecute:()=>i.hide()},{label:this._imageInsertUI.isImageSelected?r("Save"):r("Insert"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSave()}]})}_handleSave(){this.editor.commands.get("replaceImageSource").isEnabled?this.editor.execute("replaceImageSource",{source:this._formView.imageURLInputValue}):this.editor.execute("insertImage",{source:this._formView.imageURLInputValue}),this.editor.plugins.get("Dialog").hide()}}class o4e extends ee{static get pluginName(){return"ImageInsertViaUrl"}static get isOfficialPlugin(){return!0}static get requires(){return[s4e,Nv]}}class a4e extends lt{refresh(){const e=this.editor,r=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!r,!r||!r.hasAttribute("resizedWidth")?this.value=null:this.value={width:r.getAttribute("resizedWidth"),height:null}}execute(e){const t=this.editor,r=t.model,i=t.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(r.document.selection);this.value={width:e.width,height:null},s&&r.change(o=>{o.setAttribute("resizedWidth",e.width,s),o.removeAttribute("resizedHeight",s),i.setImageNaturalSizeAttributes(s)})}}class pz extends ee{static get requires(){return[Xr]}static get pluginName(){return"ImageResizeEditing"}static get licenseFeatureCode(){return"IR"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new a4e(e);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}afterInit(){this._registerSchema()}_registerSchema(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),e.setAttributeProperties("resizedWidth",{isFormatting:!0}),e.setAttributeProperties("resizedHeight",{isFormatting:!0})),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]}),e.setAttributeProperties("resizedWidth",{isFormatting:!0}),e.setAttributeProperties("resizedHeight",{isFormatting:!0}))}_registerConverters(e){const t=this.editor,r=t.plugins.get("ImageUtils");t.conversion.for("downcast").add(i=>i.on(`attribute:resizedWidth:${e}`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const l=a.writer,u=a.mapper.toViewElement(o.item);o.attributeNewValue!==null?(l.setStyle("width",o.attributeNewValue,u),l.addClass("image_resized",u)):(l.removeStyle("width",u),l.removeClass("image_resized",u))})),t.conversion.for("dataDowncast").attributeToAttribute({model:{name:e,key:"resizedHeight"},view:i=>({key:"style",value:{height:i}})}),t.conversion.for("editingDowncast").add(i=>i.on(`attribute:resizedHeight:${e}`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const l=a.writer,u=a.mapper.toViewElement(o.item),f=e==="imageInline"?r.findViewImgElement(u):u;o.attributeNewValue!==null?l.setStyle("height",o.attributeNewValue,f):l.removeStyle("height",f)})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:i=>Wy(i)?null:i.getStyle("width")}}),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:i=>Wy(i)?null:i.getStyle("height")}}),t.conversion.for("upcast").add(i=>{i.on(`element:${e==="imageBlock"?"figure":"img"}`,(s,o,a)=>{a.consumable.consume(o.viewItem,{classes:["image_resized"]})})})}}const yE={small:G_e,medium:q_e,large:j_e,custom:$_e,original:W_e};class l4e extends ee{static get requires(){return[pz]}static get pluginName(){return"ImageResizeButtons"}static get isOfficialPlugin(){return!0}_resizeUnit;constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),r=e.commands.get("resizeImage");this.bind("isEnabled").to(r);for(const i of t)this._registerImageResizeButton(i);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:r,value:i,icon:s}=e;t.ui.componentFactory.add(r,o=>{const a=new et(o),l=t.commands.get("resizeImage"),u=this._getOptionLabelValue(e,!0);if(!yE[s])throw new q("imageresizebuttons-missing-icon",t,e);if(a.set({label:u,icon:yE[s],tooltip:u,isToggleable:!0}),a.bind("isEnabled").to(this),t.plugins.has("ImageCustomResizeUI")&&Um(e)){const f=t.plugins.get("ImageCustomResizeUI");this.listenTo(a,"execute",()=>{f._showForm(this._resizeUnit)})}else{const f=i?i+this._resizeUnit:null;a.bind("isOn").to(l,"value",l,"isEnabled",Xk(f)),this.listenTo(a,"execute",()=>{t.execute("resizeImage",{width:f})})}return a})}_registerImageResizeDropdown(e){const t=this.editor,r=t.t,i=e.find(o=>!o.value),s=o=>{const a=t.commands.get("resizeImage"),l=Er(o,D9),u=l.buttonView,f=r("Resize image");return u.set({tooltip:f,commandValue:i.value,icon:yE.medium,isToggleable:!0,label:this._getOptionLabelValue(i),withText:!0,class:"ck-resize-image-button",ariaLabel:f,ariaLabelledBy:void 0}),u.bind("label").to(a,"value",m=>m&&m.width?m.width:this._getOptionLabelValue(i)),l.bind("isEnabled").to(this),vc(l,()=>this._getResizeDropdownListItemDefinitions(e,a),{ariaLabel:r("Image resize list"),role:"menu"}),this.listenTo(l,"execute",m=>{"onClick"in m.source?m.source.onClick():(t.execute(m.source.commandName,{width:m.source.commandValue}),t.editing.view.focus())}),l};t.ui.componentFactory.add("resizeImage",s),t.ui.componentFactory.add("imageResize",s)}_getOptionLabelValue(e,t=!1){const r=this.editor.t;return e.label?e.label:t?Um(e)?r("Custom image size"):e.value?r("Resize image to %0",e.value+this._resizeUnit):r("Resize image to the original size"):Um(e)?r("Custom"):e.value?e.value+this._resizeUnit:r("Original")}_getResizeDropdownListItemDefinitions(e,t){const{editor:r}=this,i=new sr,s=e.map(o=>Um(o)?{...o,valueWithUnits:"custom"}:o.value?{...o,valueWithUnits:`${o.value}${this._resizeUnit}`}:{...o,valueWithUnits:null});for(const o of s){let a=null;if(r.plugins.has("ImageCustomResizeUI")&&Um(o)){const l=r.plugins.get("ImageCustomResizeUI");a={type:"button",model:new fc({label:this._getOptionLabelValue(o),role:"menuitemradio",withText:!0,icon:null,onClick:()=>{l._showForm(this._resizeUnit)}})};const u=Object.values(s).map(f=>f.valueWithUnits);a.model.bind("isOn").to(t,"value",t,"isEnabled",c4e(u))}else a={type:"button",model:new fc({commandName:"resizeImage",commandValue:o.valueWithUnits,label:this._getOptionLabelValue(o),role:"menuitemradio",withText:!0,icon:null})},a.model.bind("isOn").to(t,"value",t,"isEnabled",Xk(o.valueWithUnits));a.model.bind("isEnabled").to(t,"isEnabled"),i.add(a)}return i}}function Um(n){return n.value==="custom"}function Xk(n){return(e,t)=>{const r=e;return r===void 0||!t?!1:n===null&&r===n?!0:r!==null&&r.width===n}}function c4e(n){return(e,t)=>!n.some(r=>Xk(r)(e,t))}const u4e="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",wE="image_resized";class d4e extends ee{static get requires(){return[mE,Xr]}static get pluginName(){return"ImageResizeHandles"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view,r=e.plugins.get("ImageUtils");t.addObserver(aA),this.listenTo(t.document,"imageLoaded",(i,s)=>{if(!s.target.matches(u4e))return;const o=e.editing.view.domConverter,a=o.domToView(s.target),l=r.getImageWidgetFromImageView(a);let u=this.editor.plugins.get(mE).getResizerByViewElement(l);if(u){u.redraw();return}const f=e.editing.mapper,m=f.toModelElement(l);u=e.plugins.get(mE).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:m,viewElement:l,editor:e,getHandleHost(p){return p.querySelector("img")},getResizeHost(){return o.mapViewToDom(f.toViewElement(m))},isCentered(){return m.getAttribute("imageStyle")=="alignCenter"},onCommit(p){t.change(y=>{y.removeClass(wE,l)}),e.execute("resizeImage",{width:p})}}),u.on("updateSize",()=>{l.hasClass(wE)||t.change(y=>{y.addClass(wE,l)});const p=m.name==="imageInline"?a:l;p.getStyle("height")&&t.change(y=>{y.removeStyle("height",p)})}),u.bind("isEnabled").to(this)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bz(n){if(!n)return null;const[,e,t]=n.trim().match(/([.,\d]+)(%|px)$/)||[],r=Number.parseFloat(e);return Number.isNaN(r)?null:{value:r,unit:t}}function yz(n,e,t){return t==="px"?{value:e.value,unit:"px"}:{value:e.value/n*100,unit:"%"}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wz(n){const{editing:e}=n,r=n.plugins.get("ImageUtils").getClosestSelectedImageElement(n.model.document.selection);if(!r)return null;const i=e.mapper.toViewElement(r),s=e.view.domConverter.mapViewToDom(i);return{model:r,view:i,dom:s}}function f4e(n,e){const t=wz(n);if(!t)return null;const r=bz(t.model.getAttribute("resizedWidth")||null);if(!r)return null;if(r.unit===e)return r;const i=YC(t.dom),s={value:new pt(t.dom).width};return yz(i,s,e)}class h4e extends Le{focusTracker;keystrokes;unit;backButtonView;saveButtonView;labeledInput;children;_focusables;_focusCycler;_validators;constructor(e,t,r){super(e),this.focusTracker=new Yt,this.keystrokes=new bn,this.unit=t,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.labeledInput=this._createLabeledInputView(),this.children=this.createCollection([this._createHeaderView()]),this.children.add(new Wr(e,{children:[this.labeledInput,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding"]})),this._focusables=new pr,this._validators=r,this.keystrokes.set("Esc",(i,s)=>{this.fire("cancel"),s()}),this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-image-custom-resize-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.backButtonView,this.labeledInput,this.saveButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new et(this.locale);return t.set({label:e("Save"),withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new pl(this.locale,{label:e("Image Resize")});return t.children.add(this.backButtonView,0),t}_createLabeledInputView(){const e=this.locale.t,t=new Yn(this.locale,V9);return t.label=e("Resize image (in %0)",this.unit),t.class="ck-labeled-field-view_full-width",t.fieldView.set({step:.1}),t}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.labeledInput.errorText=t,!1}return!0}resetFormStatus(){this.labeledInput.errorText=null}get rawSize(){const{element:e}=this.labeledInput.fieldView;return e?e.value:null}get parsedSize(){const{rawSize:e}=this;if(e===null)return null;const t=Number.parseFloat(e);return Number.isNaN(t)?null:t}get sizeWithUnits(){const{parsedSize:e,unit:t}=this;return e===null?null:`${e}${t}`}}function m4e(n,e){const t=wz(n);if(!t)return null;const r=YC(t.dom),i=bz(window.getComputedStyle(t.dom).minWidth)||{value:1},s=Math.max(.1,yz(r,i,e).value);return{unit:e,lower:s,upper:e==="px"?r:100}}class g4e extends ee{_balloon;_form;static get requires(){return[Co]}static get pluginName(){return"ImageCustomResizeUI"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._form&&this._form.destroy()}_createForm(e){const t=this.editor;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(u0(h4e))(t.locale,e,p4e(t)),this._form.render(),this.listenTo(this._form,"submit",()=>{this._form.isValid()&&(t.execute("resizeImage",{width:this._form.sizeWithUnits}),this._hideForm(!0))}),this.listenTo(this._form.labeledInput,"change:errorText",()=>{t.ui.update()}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),Hu({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(e){if(this._isVisible)return;this._form||this._createForm(e);const t=this.editor,r=this._form.labeledInput;this._form.disableCssTransitions(),this._form.resetFormStatus(),this._isInBalloon||this._balloon.add({view:this._form,position:oA(t)});const i=f4e(t,e),s=i?i.value.toFixed(1):"",o=m4e(t,e);r.fieldView.value=r.fieldView.element.value=s,o&&Object.assign(r.fieldView,{min:o.lower.toFixed(1),max:Math.ceil(o.upper).toFixed(1)}),this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}function p4e(n){const e=n.t;return[t=>{if(t.rawSize.trim()==="")return e("The value must not be empty.");if(t.parsedSize===null)return e("The value should be a plain number.")}]}class b4e extends ee{static get requires(){return[pz,d4e,g4e,l4e]}static get pluginName(){return"ImageResize"}static get isOfficialPlugin(){return!0}}class y4e extends lt{_defaultStyles;_styles;constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(r=>{if(r.isDefault)for(const i of r.modelElements)this._defaultStyles[i]=r.name;return[r.name,r]}))}refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.isEnabled?r.hasAttribute("imageStyle")?this.value=r.getAttribute("imageStyle"):this.value=this._defaultStyles[r.name]:this.value=!1}execute(e={}){const t=this.editor,r=t.model,i=t.plugins.get("ImageUtils");r.change(s=>{const o=e.value,{setImageSizes:a=!0}=e;let l=i.getClosestSelectedImageElement(r.document.selection);o&&this.shouldConvertImageType(o,l)&&(this.editor.execute(i.isBlockImage(l)?"imageTypeInline":"imageTypeBlock",{setImageSizes:a}),l=i.getClosestSelectedImageElement(r.document.selection)),!o||this._styles.get(o).isDefault?s.removeAttribute("imageStyle",l):s.setAttribute("imageStyle",o,l),a&&i.setImageNaturalSizeAttributes(l)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const vE={get inline(){return{name:"inline",title:"In line",icon:h9,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:DC,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:m9,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:My,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Dy,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:g9,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:My,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Dy,modelElements:["imageBlock"],className:"image-style-side"}}},w4e={full:H_e,left:m9,right:g9,center:My,inlineLeft:DC,inlineRight:Dy,inline:h9},v4e=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function _4e(n){return(n.configuredStyles.options||[]).map(r=>k4e(r)).filter(r=>T4e(r,n))}function x4e(n,e){return n&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:n?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function E4e(n){return n.has("ImageBlockEditing")&&n.has("ImageInlineEditing")?[...v4e]:[]}function k4e(n){return typeof n=="string"?vE[n]?n={...vE[n]}:n={name:n}:n=S4e(vE[n.name],n),typeof n.icon=="string"&&(n.icon=w4e[n.icon]||n.icon),n}function T4e(n,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:r,name:i}=n;if(!r||!r.length||!i)return vz({style:n}),!1;{const s=[e?"imageBlock":null,t?"imageInline":null];if(!r.some(o=>s.includes(o)))return It("image-style-missing-dependency",{style:n,missingPlugins:r.map(o=>o==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function S4e(n,e){const t={...e};for(const r in n)Object.prototype.hasOwnProperty.call(e,r)||(t[r]=n[r]);return t}function vz(n){It("image-style-configuration-definition-invalid",n)}const qy={normalizeStyles:_4e,getDefaultStylesConfiguration:x4e,getDefaultDropdownDefinitions:E4e,warnInvalidStyle:vz};function C4e(n){return(e,t,r)=>{if(!r.consumable.consume(t.item,e.name))return;const i=$6(t.attributeNewValue,n),s=$6(t.attributeOldValue,n),o=r.mapper.toViewElement(t.item),a=r.writer;s&&a.removeClass(s.className,o),i&&a.addClass(i.className,o)}}function A4e(n){const e={imageInline:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,r,i)=>{if(!r.modelRange)return;const s=r.viewItem,o=_n(r.modelRange.getItems());if(o&&i.schema.checkAttribute(o,"imageStyle"))for(const a of e[o.name])i.consumable.consume(s,{classes:a.className})&&i.writer.setAttribute("imageStyle",a.name,o)}}function $6(n,e){for(const t of e)if(t.name===n)return t}class _z extends ee{static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Xr]}normalizedStyles;init(){const e=this.editor,t=e.plugins.has("ImageBlockEditing"),r=e.plugins.has("ImageInlineEditing");e.config.define("image.styles",qy.getDefaultStylesConfiguration(t,r)),this.normalizedStyles=qy.normalizeStyles({configuredStyles:e.config.get("image.styles"),isBlockPluginLoaded:t,isInlinePluginLoaded:r}),this._setupConversion(t,r),this._setupPostFixer(),e.commands.add("imageStyle",new y4e(e,this.normalizedStyles))}_setupConversion(e,t){const r=this.editor,i=r.model.schema,s=C4e(this.normalizedStyles),o=A4e(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",s),r.data.downcastDispatcher.on("attribute:imageStyle",s),e&&(i.extend("imageBlock",{allowAttributes:"imageStyle"}),i.setAttributeProperties("imageStyle",{isFormatting:!0}),r.data.upcastDispatcher.on("element:figure",o,{priority:"low"})),t&&(i.extend("imageInline",{allowAttributes:"imageStyle"}),i.setAttributeProperties("imageStyle",{isFormatting:!0}),r.data.upcastDispatcher.on("element:img",o,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,r=e.plugins.get(Xr),i=new Map(this.normalizedStyles.map(s=>[s.name,s]));t.registerPostFixer(s=>{let o=!1;for(const a of t.differ.getChanges())if(a.type=="insert"||a.type=="attribute"&&a.attributeKey=="imageStyle"){let l=a.type=="insert"?a.position.nodeAfter:a.range.start.nodeAfter;if(l&&l.is("element","paragraph")&&l.childCount>0&&(l=l.getChild(0)),!r.isImage(l))continue;const u=l.getAttribute("imageStyle");if(!u)continue;const f=i.get(u);(!f||!f.modelElements.includes(l.name))&&(s.removeAttribute("imageStyle",l),o=!0)}return o})}}class N4e extends ee{static get requires(){return[_z]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],r=e.get("ImageStyleEditing"),i=W6(r.normalizedStyles,this.localizedDefaultStylesTitles);for(const o of i)this._createButton(o);const s=W6([...t.filter(tz),...qy.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const o of s)this._createDropdown(o,i)}_createDropdown(e,t){const r=this.editor.ui.componentFactory;r.add(e.name,i=>{let s;const{defaultItem:o,items:a,title:l}=e,u=a.filter(y=>t.find(({name:v})=>j6(v)===y)).map(y=>{const v=r.create(y);return y===o&&(s=v),v});a.length!==u.length&&qy.warnInvalidStyle({dropdown:e});const f=Er(i,gh),m=f.buttonView,p=m.arrowView;return J0(f,u,{enableActiveItemFocusOnDropdownOpen:!0}),m.set({label:q6(l,s.label),class:null,tooltip:!0}),p.unbind("label"),p.set({label:l}),m.bind("icon").toMany(u,"isOn",(...y)=>{const v=y.findIndex(Vm);return v<0?s.icon:u[v].icon}),m.bind("label").toMany(u,"isOn",(...y)=>{const v=y.findIndex(Vm);return q6(l,v<0?s.label:u[v].label)}),m.bind("isOn").toMany(u,"isOn",(...y)=>y.some(Vm)),m.bind("class").toMany(u,"isOn",(...y)=>y.some(Vm)?"ck-splitbutton_flatten":void 0),m.on("execute",()=>{u.some(({isOn:y})=>y)?f.isOpen=!f.isOpen:s.fire("execute")}),f.bind("isEnabled").toMany(u,"isEnabled",(...y)=>y.some(Vm)),this.listenTo(f,"execute",()=>{this.editor.editing.view.focus()}),f})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(j6(t),r=>{const i=this.editor.commands.get("imageStyle"),s=new et(r);return s.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",o=>o===t),s.on("execute",this._executeCommand.bind(this,t)),s})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function W6(n,e){for(const t of n)e[t.title]&&(t.title=e[t.title]);return n}function j6(n){return`imageStyle:${n}`}function q6(n,e){return(n?n+": ":"")+e}class P4e extends ee{static get requires(){return[_z,N4e]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}}class R4e extends ee{static get requires(){return[Vy,Xr]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=e.t,r=e.plugins.get(Vy),i=e.plugins.get("ImageUtils");r.register("image",{ariaLabel:t("Image toolbar"),items:I4e(e.config.get("image.toolbar")||[]),getRelatedElement:s=>i.getClosestSelectedImageWidget(s)})}}function I4e(n){return n.map(e=>tz(e)?e.name:e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class O4e extends ee{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.commands.add("indent",new sO(e)),e.commands.add("outdent",new sO(e))}}class M4e extends ee{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale,r=e.t,i=t.uiLanguageDirection=="ltr"?hO:mO,s=t.uiLanguageDirection=="ltr"?mO:hO;this._defineButton("indent",r("Increase indent"),i),this._defineButton("outdent",r("Decrease indent"),s)}_defineButton(e,t,r){const i=this.editor;i.ui.componentFactory.add(e,()=>{const s=this._createButton(et,e,t,r);return s.set({tooltip:!0}),s}),i.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(xn,e,t,r))}_createButton(e,t,r,i){const s=this.editor,o=s.commands.get(t),a=new e(s.locale);return a.set({label:r,icon:i}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{s.execute(t),s.editing.view.focus()}),a}}class D4e extends ee{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[O4e,M4e]}}class Q1 extends lt{_indentBehavior;constructor(e,t){super(e),this._indentBehavior=t}refresh(){const t=this.editor.model,r=_n(t.document.selection.getSelectedBlocks());if(!r||!this._isIndentationChangeAllowed(r)){this.isEnabled=!1;return}this.isEnabled=this._indentBehavior.checkEnabled(r.getAttribute("blockIndent"))}execute(){const e=this.editor.model,t=this._getBlocksToChange();e.change(r=>{for(const i of t){const s=i.getAttribute("blockIndent"),o=this._indentBehavior.getNextIndent(s);o?r.setAttribute("blockIndent",o,i):r.removeAttribute("blockIndent",i)}})}_getBlocksToChange(){const t=this.editor.model.document.selection;return Array.from(t.getSelectedBlocks()).filter(i=>this._isIndentationChangeAllowed(i))}_isIndentationChangeAllowed(e){const t=this.editor;return t.model.schema.checkAttribute(e,"blockIndent")?!t.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!t.plugins.get("ListUtils").isListItemBlock(e):!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class G6{isForward;offset;unit;constructor(e){this.isForward=e.direction==="forward",this.offset=e.offset,this.unit=e.unit}checkEnabled(e){const t=parseFloat(e||"0");return this.isForward||t>0}getNextIndent(e){const t=parseFloat(e||"0");if(!(!e||e.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const i=this.isForward?this.offset:-this.offset,s=t+i;return s>0?s+this.unit:void 0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Y6{isForward;classes;constructor(e){this.isForward=e.direction==="forward",this.classes=e.classes}checkEnabled(e){const t=this.classes.indexOf(e);return this.isForward?t<this.classes.length-1:t>=0}getNextIndent(e){const t=this.classes.indexOf(e),r=this.isForward?1:-1;return this.classes[t+r]}}const F4e=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class L4e extends ee{constructor(e){super(e),e.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.config.get("indentBlock");t.classes&&t.classes.length?(this._setupConversionUsingClasses(t.classes),e.commands.add("indentBlock",new Q1(e,new Y6({direction:"forward",classes:t.classes}))),e.commands.add("outdentBlock",new Q1(e,new Y6({direction:"backward",classes:t.classes})))):(e.data.addStyleProcessorRules(jV),this._setupConversionUsingOffset(),e.commands.add("indentBlock",new Q1(e,new G6({direction:"forward",offset:t.offset,unit:t.unit}))),e.commands.add("outdentBlock",new Q1(e,new G6({direction:"backward",offset:t.offset,unit:t.unit}))))}afterInit(){const e=this.editor,t=e.model.schema,r=e.commands.get("indent"),i=e.commands.get("outdent"),s=e.config.get("heading.options");(s&&s.map(l=>l.model)||F4e).forEach(l=>{t.isRegistered(l)&&t.extend(l,{allowAttributes:"blockIndent"})}),t.setAttributeProperties("blockIndent",{isFormatting:!0}),r.registerChildCommand(e.commands.get("indentBlock")),i.registerChildCommand(e.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const e=this.editor.conversion,r=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:{[r]:/[\s\S]+/}},model:{key:"blockIndent",value:i=>{if(!i.is("element","li"))return i.getStyle(r)}}}),e.for("downcast").attributeToAttribute({model:"blockIndent",view:i=>({key:"style",value:{[r]:i}})})}_setupConversionUsingClasses(e){const t={model:{key:"blockIndent",values:[]},view:{}};for(const r of e)t.model.values.push(r),t.view[r]={key:"class",value:[r]};this.editor.conversion.attributeToAttribute(t)}}function xz(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(xz).join(",");const e=String(n);return e==="0"&&Object.is(Number(n),-0)?"-0":e}function B4e(n){return n.substring(0,1).toUpperCase()+n.substring(1)}function V4e(n){return B4e(xz(n))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class U4e{_definitions=new Set;get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,r,i)=>{if(!i.consumable.test(r.item,"attribute:linkHref")||!(r.item.is("selection")||i.schema.isInline(r.item)))return;const s=i.writer,o=s.document.selection;for(const a of this._definitions){const l=s.createAttributeElement("a",a.attributes,{priority:5});a.classes&&s.addClass(a.classes,l);for(const u in a.styles)s.setStyle(u,a.styles[u],l);s.setCustomProperty("link",!0,l),a.callback(r.attributeNewValue)?r.item.is("selection")?s.wrap(o.getFirstRange(),l):s.wrap(i.mapper.toViewRange(r.range),l):s.unwrap(i.mapper.toViewRange(r.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,r,{writer:i,mapper:s})=>{const o=s.toViewElement(r.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));if(a)for(const l of this._definitions){const u=oa(l.attributes);if(l.callback(r.attributeNewValue)){for(const[f,m]of u)f==="class"?i.addClass(m,a):i.setAttribute(f,m,a);l.classes&&i.addClass(l.classes,a);for(const f in l.styles)i.setStyle(f,l.styles[f],a)}else{for(const[f,m]of u)f==="class"?i.removeClass(m,a):i.removeAttribute(f,a);l.classes&&i.removeClass(l.classes,a);for(const f in l.styles)i.removeStyle(f,a)}}})}}}const z4e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,H4e="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",$4e=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,W4e=/^((\w+:(\/{2,})?)|(\W))/i,j4e=["https?","ftps?","mailto"],Qm="Ctrl+K";function q4e(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function K6(n,{writer:e}){const t=e.createAttributeElement("a",{href:n},{priority:5});return e.setCustomProperty("link",!0,t),t}function Ez(n,e=j4e){const t=String(n),r=e.join("|"),i=new RegExp(`${H4e.replace("<protocols>",r)}`,"i");return G4e(t,i)?t:"#"}function G4e(n,e){return!!n.replace(z4e,"").match(e)}function Y4e(n,e){const t={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return e.forEach(r=>("label"in r&&t[r.label]&&(r.label=t[r.label]),r)),e}function K4e(n){const e=[];if(n)for(const[t,r]of Object.entries(n)){const i=Object.assign({},r,{id:`link${V4e(t)}`});e.push(i)}return e}function Jk(n,e){return n?e.checkAttribute(n.name,"linkHref"):!1}function X4e(n){return $4e.test(n)}function lA(n,e){const t=X4e(n)?"mailto:":e,r=!!t&&!kz(n);return n&&r?t+n:n}function kz(n){return W4e.test(n)}function J4e(n){window.open(n,"_blank","noopener")}function Qk(n){let e="";for(const t of n.getItems()){if(!t.is("$text")&&!t.is("$textProxy"))return;e+=t.data}return e}class Q4e extends lt{manualDecorators=new sr;automaticDecorators=new U4e;restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,r=t.getSelectedElement()||_n(t.getSelectedBlocks());Jk(r,e.schema)?(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(r,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}execute(e,t={},r){const i=this.editor.model,s=i.document.selection,o=[],a=[];for(const l in t)t[l]?o.push(l):a.push(l);i.change(l=>{const u=p=>{l.setAttribute("linkHref",e,p),o.forEach(y=>l.setAttribute(y,!0,p)),a.forEach(y=>l.removeAttribute(y,p))},f=(p,y)=>{const v=Qk(p);if(!v)return p;let w=r;if(w||(w=y&&y==v?e:v),w!=v){const E=l.createDocumentFragment();for(const P of p.getItems()){const R=P;l.append(l.createText(R.data,R.getAttributes()),E)}const k=l.createRangeIn(E),T=Z4e(v,w);let S=0;for(const{offset:P,actual:R,expected:D}of T){const A=P+S,F=l.createRange(k.start.getShiftedBy(A),k.start.getShiftedBy(A+R.length)),X=e3e(F,k).getAttributes(),re=Array.from(X).filter(([te])=>i.schema.getAttributeProperties(te).isFormatting),N=l.createText(D,re);u(N),l.remove(F),l.insert(N,F.start),S+=D.length}return i.insertContent(E,p),l.createRange(p.start,p.start.getShiftedBy(w.length))}},m=p=>{const{plugins:y}=this.editor;if(l.setSelection(p.end),y.has("TwoStepCaretMovement"))y.get("TwoStepCaretMovement")._handleForwardMovement();else for(const v of["linkHref",...o,...a])l.removeSelectionAttribute(v)};if(s.isCollapsed){const p=s.getFirstPosition();if(s.hasAttribute("linkHref")){const y=s.getAttribute("linkHref"),v=Q0(p,"linkHref",y,i),w=f(v,y);u(w||v),w&&m(w)}else if(e!==""){const y=oa(s.getAttributes());y.set("linkHref",e),o.forEach(w=>{y.set(w,!0)});const v=i.insertContent(l.createText(r||e,y),p);m(v)}}else{const p=Array.from(s.getRanges()),y=i.schema.getValidRanges(p,"linkHref"),v=[];for(const k of s.getSelectedBlocks())i.schema.checkAttribute(k,"linkHref")&&v.push(l.createRangeOn(k));const w=v.slice();for(const k of y)this._isRangeToUpdate(k,v)&&w.push(k);const E=p.map(k=>({start:tr.fromPosition(k.start,"toPrevious"),end:tr.fromPosition(k.end,"toNext")}));for(let k of w){const T=(k.start.textNode||k.start.nodeAfter).getAttribute("linkHref");k=f(k,T)||k,u(k)}l.setSelection(E.map(k=>{const T=k.start.toPosition(),S=k.end.toPosition();return k.start.detach(),k.end.detach(),i.createRange(T,S)}))}})}_getDecoratorStateFromModel(e){const t=this.editor.model,r=t.document.selection,i=r.getSelectedElement();return Jk(i,t.schema)?i.getAttribute(e):r.getAttribute(e)}_isRangeToUpdate(e,t){for(const r of t)if(r.containsRange(e))return!1;return!0}}function Z4e(n,e){const t=Pf(n,e),r={equal:0,insert:0,delete:0},i=[];let s="",o="";for(const a of[...t,null])a=="insert"?o+=e[r.equal+r.insert]:a=="delete"?s+=n[r.equal+r.delete]:(s.length||o.length)&&(i.push({offset:r.equal,actual:s,expected:o}),s="",o=""),a&&r[a]++;return i}function e3e(n,e){if(!n.isCollapsed)return _n(n.getItems());const t=n.start;return t.textNode?t.textNode:!t.nodeBefore||t.isEqual(e.start)?t.nodeAfter:t.nodeBefore}class t3e extends lt{refresh(){const e=this.editor.model,t=e.document.selection,r=t.getSelectedElement();Jk(r,e.schema)?this.isEnabled=e.schema.checkAttribute(r,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,r=t.document.selection,i=e.commands.get("link");t.change(s=>{const o=r.isCollapsed?[Q0(r.getFirstPosition(),"linkHref",r.getAttribute("linkHref"),t)]:t.schema.getValidRanges(r.getRanges(),"linkHref");for(const a of o)if(s.removeAttribute("linkHref",a),i)for(const l of i.manualDecorators)s.removeAttribute(l.id,a)})}}class n3e extends qt(){id;defaultValue;label;attributes;classes;styles;constructor({id:e,label:t,attributes:r,classes:i,styles:s,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=t,this.attributes=r,this.classes=i,this.styles=s}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const r3e="ck-link_selected",X6="automatic",i3e="manual",s3e=/^(https?:)?\/\//;class Gf extends ee{_linkOpeners=[];static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ly,J9,$s]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1,toolbar:["linkPreview","|","editLink","linkProperties","unlink"]})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:K6}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,o)=>K6(Ez(s,t),o)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new Q4e(e)),e.commands.add("unlink",new t3e(e));const r=Y4e(e.t,K4e(e.config.get("link.decorators")));this._enableAutomaticDecorators(r.filter(s=>s.mode===X6)),this._enableManualDecorators(r.filter(s=>s.mode===i3e)),e.plugins.get(Ly).registerAttribute("linkHref"),nU(e,"linkHref","a",r3e),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_registerLinkOpener(e){this._linkOpeners.push(e)}_enableAutomaticDecorators(e){const t=this.editor,i=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:X6,callback:s=>!!s&&s3e.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(e),i.length&&t.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,i=t.commands.get("link").manualDecorators;e.forEach(s=>{t.model.schema.extend("$text",{allowAttributes:s.id});const o=new n3e(s);i.add(o),t.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:u},{item:f})=>{if((f.is("selection")||u.isInline(f))&&a){const m=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,m);for(const p in o.styles)l.setStyle(p,o.styles[p],m);return l.setCustomProperty("link",!0,m),m}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const e=this.editor,r=e.editing.view.document,i=s=>{this._linkOpeners.some(o=>o(s))||J4e(s)};this.listenTo(r,"click",(s,o)=>{if(!(ot.isMac?o.domEvent.metaKey:o.domEvent.ctrlKey))return;let l=o.domTarget;if(l.tagName.toLowerCase()!="a"&&(l=l.closest("a")),!l)return;const u=l.getAttribute("href");u&&(s.stop(),o.preventDefault(),i(u))},{context:"$capture"}),this.listenTo(r,"keydown",(s,o)=>{const l=e.commands.get("link").value;l&&o.keyCode===xt.enter&&o.altKey&&(s.stop(),i(l))})}_enableSelectionAttributesFixer(){const t=this.editor.model,r=t.document.selection;this.listenTo(r,"change:attribute",(i,{attributeKeys:s})=>{!s.includes("linkHref")||r.hasAttribute("linkHref")||t.change(o=>{o3e(o,a3e(t.schema))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,r=this.editor.config.get("link.defaultProtocol");r&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(i,s)=>{t.change(o=>{const a=o.createRangeIn(s.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const u=lA(l.getAttribute("linkHref"),r);o.setAttribute("linkHref",u,l)}})})}}function o3e(n,e){n.removeSelectionAttribute("linkHref");for(const t of e)n.removeSelectionAttribute(t)}function a3e(n){return n.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}class l3e extends et{constructor(e){super(e);const t=this.bindTemplate;this.set({href:void 0,withText:!0}),this.extendTemplate({attributes:{class:["ck-link-toolbar__preview"],href:t.to("href"),target:"_blank",rel:"noopener noreferrer"},on:{click:t.to(r=>{if(this.href){const i=()=>r.preventDefault();this.fire("navigate",this.href,i)}})}}),this.template.tag="a"}}class c3e extends Le{focusTracker=new Yt;keystrokes=new bn;backButtonView;saveButtonView;displayedTextInputView;urlInputView;children;providersListChildren;_validators;_focusables=new pr;_focusCycler;constructor(e,t){super(e),this._validators=t,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.displayedTextInputView=this._createDisplayedTextInput(),this.urlInputView=this._createUrlInput(),this.providersListChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView()]),this._createFormChildren(),this.listenTo(this.providersListChildren,"add",()=>{this.stopListening(this.providersListChildren,"add"),this.children.add(this._createProvidersListView())}),this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-link-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.urlInputView,this.saveButtonView,...this.providersListChildren,this.backButtonView,this.displayedTextInputView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new et(this.locale);return t.set({label:e("Insert"),tooltip:!1,withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new pl(this.locale,{label:e("Link")});return t.children.add(this.backButtonView,0),t}_createProvidersListView(){const e=new mh(this.locale);return e.extendTemplate({attributes:{class:["ck-link-form__providers-list"]}}),e.items.bindTo(this.providersListChildren).using(t=>{const r=new So(this.locale);return r.children.add(t),r}),e}_createDisplayedTextInput(){const e=this.locale.t,t=new Yn(this.locale,ms);return t.label=e("Displayed text"),t.class="ck-labeled-field-view_full-width",t}_createUrlInput(){const e=this.locale.t,t=new Yn(this.locale,ms);return t.fieldView.inputMode="url",t.label=e("Link URL"),t.class="ck-labeled-field-view_full-width",t}_createFormChildren(){this.children.add(new Wr(this.locale,{children:[this.displayedTextInputView],class:["ck-form__row_large-top-padding"]})),this.children.add(new Wr(this.locale,{children:[this.urlInputView,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding","ck-form__row_large-bottom-padding"]}))}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}class u3e extends Le{focusTracker=new Yt;keystrokes=new bn;backButtonView;listView;listChildren;emptyListInformation;children;_focusables=new pr;_focusCycler;constructor(e){super(e),this.listChildren=this.createCollection(),this.backButtonView=this._createBackButton(),this.listView=this._createListView(),this.emptyListInformation=this._createEmptyLinksListItemView(),this.children=this.createCollection([this._createHeaderView(),this.emptyListInformation]),this.set("title",""),this.set("emptyListPlaceholder",""),this.set("hasItems",!1),this.listenTo(this.listChildren,"change",()=>{this.hasItems=this.listChildren.length>0}),this.on("change:hasItems",(t,r,i)=>{i?(this.children.remove(this.emptyListInformation),this.children.add(this.listView)):(this.children.remove(this.listView),this.children.add(this.emptyListInformation))}),this.keystrokes.set("Esc",(t,r)=>{this.fire("cancel"),r()}),this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-providers"],tabindex:"-1"},children:this.children})}render(){super.render(),[this.listView,this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createListView(){const e=new mh(this.locale);return e.extendTemplate({attributes:{class:["ck-link-providers__list"]}}),e.items.bindTo(this.listChildren).using(t=>{const r=new So(this.locale);return r.children.add(t),r}),e}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createHeaderView(){const e=new pl(this.locale);return e.bind("label").to(this,"title"),e.children.add(this.backButtonView,0),e}_createEmptyLinksListItemView(){const e=new Le(this.locale);return e.setTemplate({tag:"p",attributes:{class:["ck","ck-link__empty-list-info"]},children:[{text:this.bindTemplate.to("emptyListPlaceholder")}]}),e}}class d3e extends Le{focusTracker=new Yt;keystrokes=new bn;backButtonView;children;listChildren;_focusables=new pr;_focusCycler;constructor(e){super(e),this.backButtonView=this._createBackButton(),this.listChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView(),this._createListView()]),this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-properties"],tabindex:"-1"},children:this.children}),this.keystrokes.set("Esc",(t,r)=>{this.fire("back"),r()})}render(){super.render(),[...this.listChildren,this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBackButton(){const e=this.locale.t,t=new et(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:uc,tooltip:!0}),t.delegate("execute").to(this,"back"),t}_createHeaderView(){const e=this.locale.t,t=new pl(this.locale,{label:e("Link properties")});return t.children.add(this.backButtonView,0),t}_createListView(){const e=new mh(this.locale);return e.extendTemplate({attributes:{class:["ck-link__list"]}}),e.items.bindTo(this.listChildren).using(t=>{const r=new So(this.locale);return r.children.add(t),r}),e}}class f3e extends et{arrowView;constructor(e){super(e),this.set({withText:!0}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-link__button"]}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new fa;return e.content=f9,e}}const $o="link-ui";class Tz extends ee{toolbarView=null;formView=null;linkProviderItemsView=null;propertiesView=null;_balloon;_linksProviders=new sr;static get requires(){return[Co,Gf]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;this.set("selectedLinkableText",void 0),e.editing.view.addObserver(nwe),this._balloon=e.plugins.get(Co),this._registerComponents(),this._registerEditingOpeners(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:$o,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:$o,view:(r,{writer:i})=>{if(!r.markerRange.isCollapsed)return null;const s=i.createUIElement("span");return i.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],s),s}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:Qm},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.propertiesView&&this.propertiesView.destroy(),this.formView&&this.formView.destroy(),this.toolbarView&&this.toolbarView.destroy(),this.linkProviderItemsView&&this.linkProviderItemsView.destroy()}registerLinksListProvider(e){const t=this._linksProviders.filter(r=>(r.order||0)<=(e.order||0)).length;this._linksProviders.add(e,t)}_createViews(){const e=this.editor.commands.get("link");this.toolbarView=this._createToolbarView(),this.formView=this._createFormView(),e.manualDecorators.length&&(this.propertiesView=this._createPropertiesView()),this._enableUserBalloonInteractions()}_createToolbarView(){const e=this.editor,t=new dc(e.locale),r=e.commands.get("link");t.class="ck-link-toolbar";let i=e.config.get("link.toolbar");return r.manualDecorators.length||(i=i.filter(s=>s!=="linkProperties")),t.fillFromConfig(i,e.ui.componentFactory),t.keystrokes.set("Esc",(s,o)=>{this._hideUI(),o()}),t.keystrokes.set(Qm,(s,o)=>{this._addFormView(),o()}),e.ui.addToolbar(t,{isContextual:!0,beforeFocus:()=>{this._getSelectedLinkElement()&&!this._isToolbarVisible&&this._showUI(!0)},afterBlur:()=>{this._hideUI(!1)}}),t}_createFormView(){const e=this.editor,t=e.locale.t,r=e.commands.get("link"),i=e.config.get("link.defaultProtocol"),s=new(u0(c3e))(e.locale,h3e(e));return s.displayedTextInputView.bind("isEnabled").to(this,"selectedLinkableText",o=>o!==void 0),s.urlInputView.bind("isEnabled").to(r,"isEnabled"),s.saveButtonView.bind("isEnabled").to(r,"isEnabled"),s.saveButtonView.bind("label").to(r,"value",o=>t(o?"Update":"Insert")),this.listenTo(s,"submit",()=>{if(s.isValid()){const o=s.urlInputView.fieldView.element.value,a=lA(o,i),l=s.displayedTextInputView.fieldView.element.value;e.execute("link",a,this._getDecoratorSwitchesState(),l!==this.selectedLinkableText?l:void 0),this._closeFormView()}}),this.listenTo(s.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(o,a)=>{this._closeFormView(),a()}),s.providersListChildren.bindTo(this._linksProviders).using(o=>this._createLinksListProviderButton(o)),s}_createLinkProviderListView(e){return e.getListItems().map(({href:t,label:r,icon:i})=>{const s=new et;return s.set({label:r,icon:i,tooltip:!1,withText:!0}),s.on("execute",()=>{this.formView.resetFormStatus(),this.formView.urlInputView.fieldView.value=t,this.editor.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),s})}_createLinkProviderItemsView(e){const t=this.editor,r=t.locale.t,i=new u3e(t.locale),{emptyListPlaceholder:s,label:o}=e;return i.emptyListPlaceholder=s||r("No links available"),i.title=o,this.listenTo(i,"cancel",()=>{t.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),i}_createPropertiesView(){const e=this.editor,t=this.editor.commands.get("link"),r=new(u0(d3e))(e.locale);return this.listenTo(r,"back",()=>{e.editing.view.focus(),this._removePropertiesView()}),r.listChildren.bindTo(t.manualDecorators).using(i=>{const s=new Pu(e.locale);return s.set({label:i.label,withText:!0}),s.bind("isOn").toMany([i,t],"value",(o,a)=>a===void 0&&o===void 0?!!i.defaultValue:!!o),s.on("execute",()=>{i.set("value",!s.isOn),e.execute("link",t.value,this._getDecoratorSwitchesState())}),s}),r}_getDecoratorSwitchesState(){const e=this.editor.commands.get("link");return Array.from(e.manualDecorators).reduce((t,r)=>{const i=e.value===void 0&&r.value===void 0?r.defaultValue:r.value;return{...t,[r.id]:!!i}},{})}_registerEditingOpeners(){this.editor.plugins.get(Gf)._registerLinkOpener(t=>{const r=this._getLinkProviderLinkByHref(t);if(!r)return!1;const{item:i,provider:s}=r;return s.navigate?s.navigate(i):!1})}_registerComponents(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:link",()=>{const t=this._createButton(xn);return t.set({role:"menuitemcheckbox"}),t}),e.ui.componentFactory.add("linkPreview",t=>{const r=new l3e(t),i=e.config.get("link.allowedProtocols"),s=e.commands.get("link"),o=t.t;r.bind("isEnabled").to(s,"value",l=>!!l),r.bind("href").to(s,"value",l=>l&&Ez(l,i));const a=l=>{if(!l){r.label=void 0,r.icon=void 0,r.tooltip=o("Open link in new tab");return}const u=this._getLinkProviderLinkByHref(l);if(u){const{label:f,tooltip:m,icon:p}=u.item;r.label=f,r.tooltip=m||!1,r.icon=p}else r.label=l,r.icon=void 0,r.tooltip=o("Open link in new tab")};return a(s.value),this.listenTo(s,"change:value",(l,u,f)=>{a(f)}),this.listenTo(r,"navigate",(l,u,f)=>{const m=this._getLinkProviderLinkByHref(u);if(!m)return;const{provider:p,item:y}=m,{navigate:v}=p;v&&v(y)&&(l.stop(),f())}),r}),e.ui.componentFactory.add("unlink",t=>{const r=e.commands.get("unlink"),i=new et(t),s=t.t;return i.set({label:s("Unlink"),icon:yxe,tooltip:!0}),i.bind("isEnabled").to(r),this.listenTo(i,"execute",()=>{e.execute("unlink"),this._hideUI()}),i}),e.ui.componentFactory.add("editLink",t=>{const r=e.commands.get("link"),i=new et(t),s=t.t;return i.set({label:s("Edit link"),icon:K_e,tooltip:!0}),i.bind("isEnabled").to(r),this.listenTo(i,"execute",()=>{this._addFormView()}),i}),e.ui.componentFactory.add("linkProperties",t=>{const r=e.commands.get("link"),i=new et(t),s=t.t;return i.set({label:s("Link properties"),icon:ixe,tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled",r,"value",r,"manualDecorators",(o,a,l)=>o&&!!a&&l.length>0),this.listenTo(i,"execute",()=>{this._addPropertiesView()}),i})}_createLinksListProviderButton(e){const t=this.editor.locale,r=new f3e(t);return r.set({label:e.label}),this.listenTo(r,"execute",()=>{this._showLinksProviderView(e)}),r}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get("link"),s=new e(t.locale),o=r.t;return s.set({label:o("Link"),icon:d9,keystroke:Qm,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",a=>!!a),this.listenTo(s,"execute",()=>{t.editing.view.scrollToTheSelection(),this._showUI(!0),this._getSelectedLinkElement()&&this._addFormView()}),s}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Qm,(r,i)=>{i(),e.commands.get("link").isEnabled&&(e.editing.view.scrollToTheSelection(),this._showUI(!0))})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._isToolbarVisible&&!this.toolbarView.focusTracker.isFocused&&(this.toolbarView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Hu({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>{this._hideUI(!1)}})}_addToolbarView(){this.toolbarView||this._createViews(),!this._isToolbarInPanel&&this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this.formView.backButtonView.isVisible=e.isEnabled&&!!e.value,this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.selectedLinkableText=this._getSelectedLinkableText(),this.formView.displayedTextInputView.fieldView.value=this.selectedLinkableText||"",this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_addPropertiesView(){this.propertiesView||this._createViews(),!this._arePropertiesInPanel&&(this.propertiesView.disableCssTransitions(),this._balloon.add({view:this.propertiesView,position:this._getBalloonPositionData()}),this.propertiesView.enableCssTransitions(),this.propertiesView.focus())}_showLinksProviderView(e){this.linkProviderItemsView&&this._removeLinksProviderView(),this.linkProviderItemsView=this._createLinkProviderItemsView(e),this._addLinkProviderItemsView(e)}_addLinkProviderItemsView(e){this.linkProviderItemsView.listChildren.clear(),this.linkProviderItemsView.listChildren.addMany(this._createLinkProviderListView(e)),this._balloon.add({view:this.linkProviderItemsView,position:this._getBalloonPositionData()}),this.linkProviderItemsView.focus()}_closeFormView(){const e=this.editor.commands.get("link");this.selectedLinkableText=void 0,e.value!==void 0?this._removeFormView():this._hideUI()}_removePropertiesView(){this._arePropertiesInPanel&&this._balloon.remove(this.propertiesView)}_removeLinksProviderView(){this._isLinksListInPanel&&this._balloon.remove(this.linkProviderItemsView)}_removeFormView(e=!0){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.displayedTextInputView.fieldView.reset(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),e&&this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._isToolbarVisible?this._addFormView():this._addToolbarView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addToolbarView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(e=!0){const t=this.editor;this._isUIInPanel&&(this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e&&t.editing.view.focus(),this._removeLinksProviderView(),this._removePropertiesView(),this._removeFormView(e),this._isToolbarInPanel&&this._balloon.remove(this.toolbarView),this._hideFakeVisualSelection())}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let r=this._getSelectedLinkElement(),i=o();const s=()=>{const a=this._getSelectedLinkElement(),l=o();r&&!a||!r&&l!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),r=a,i=l};function o(){return t.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _arePropertiesInPanel(){return!!this.propertiesView&&this._balloon.hasView(this.propertiesView)}get _isLinksListInPanel(){return!!this.linkProviderItemsView&&this._balloon.hasView(this.linkProviderItemsView)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _isToolbarInPanel(){return!!this.toolbarView&&this._balloon.hasView(this.toolbarView)}get _isPropertiesVisible(){return!!this.propertiesView&&this._balloon.visibleView===this.propertiesView}get _isFormVisible(){return!!this.formView&&this._balloon.visibleView==this.formView}get _isToolbarVisible(){return!!this.toolbarView&&this._balloon.visibleView===this.toolbarView}get _isUIInPanel(){return this._arePropertiesInPanel||this._isLinksListInPanel||this._isFormInPanel||this._isToolbarInPanel}get _isUIVisible(){return this._isPropertiesVisible||this._isLinksListInPanel||this._isFormVisible||this._isToolbarVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;if(this.editor.model.markers.has($o)){const i=this.editor.editing.mapper.markerNameToElements($o);if(i){const s=Array.from(i),o=e.createRange(e.createPositionBefore(s[0]),e.createPositionAfter(s[s.length-1]));return{target:e.domConverter.viewRangeToDom(o)}}}return{target:()=>{const i=this._getSelectedLinkElement();return i?e.domConverter.mapViewToDom(i):e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,r=t.getSelectedElement();if(t.isCollapsed||r&&Mn(r))return _E(t.getFirstPosition());{const i=t.getFirstRange().getTrimmed(),s=_E(i.start),o=_E(i.end);return!s||s!=o?null:e.createRangeIn(s).getTrimmed().isEqual(i)?s:null}}_getSelectedLinkableText(){const e=this.editor.model,t=this.editor.editing,r=this._getSelectedLinkElement();if(!r)return Qk(e.document.selection.getFirstRange());const i=t.view.createRangeOn(r),s=t.mapper.toModelRange(i);return Qk(s)}_getLinkProviderLinkByHref(e){if(!e)return null;for(const t of this._linksProviders){const r=t.getItem?t.getItem(e):t.getListItems().find(i=>i.href===e);if(r)return{provider:t,item:r}}return null}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const r=e.document.selection.getFirstRange();if(e.markers.has($o))t.updateMarker($o,{range:r});else if(r.start.isAtEnd){const i=r.start.getLastMatchingPosition(({item:s})=>!e.schema.isContent(s),{boundaries:r});t.addMarker($o,{usingOperation:!1,affectsData:!1,range:t.createRange(i,r.end)})}else t.addMarker($o,{usingOperation:!1,affectsData:!1,range:r})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has($o)&&e.change(t=>{t.removeMarker($o)})}}function _E(n){return n.getAncestors().find(e=>q4e(e))||null}function h3e(n){const e=n.t,t=n.config.get("link.allowCreatingEmptyLinks");return[r=>{if(!t&&!r.url.length)return e("Link URL must not be empty.")}]}const m3e=4,Sz=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63}))|localhost)(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),g3e=2;class Cz extends ee{static get requires(){return[_c,Gf]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?Q0(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const i=this.editor.model,s=i.document.selection,o=s.getFirstPosition(),a=s.getLastPosition();let l=t.getJoined(this._expandLinkRange(i,o)||t);l&&(l=l.getJoined(this._expandLinkRange(i,a)||t)),l&&(l.start.isBefore(o)||l.end.isAfter(a))&&e.setSelection(l)}_enablePasteLinking(){const e=this.editor,t=e.model,r=t.document.selection,i=e.plugins.get("ClipboardPipeline"),s=e.commands.get("link");i.on("inputTransformation",(o,a)=>{if(!this.isEnabled||!s.isEnabled||r.isCollapsed||a.method!=="paste"||r.rangeCount>1)return;const l=r.getFirstRange(),u=a.dataTransfer.getData("text/plain");if(!u)return;const f=u.match(Sz);f&&f[2]===u&&(t.change(m=>{this._selectEntireLinks(m,l),s.execute(u)}),o.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new tU(e.model,r=>{let i=r;if(!p3e(i))return;i=i.slice(0,-1),"!.:,;?".includes(i[i.length-1])&&(i=i.slice(0,-1));const s=J6(i);if(s)return{url:s,removedTrailingCharacters:r.length-i.length}});t.on("matched:data",(r,i)=>{const{batch:s,range:o,url:a,removedTrailingCharacters:l}=i;if(!s.isTyping)return;const u=o.end.getShiftedBy(-l),f=u.getShiftedBy(-a.length),m=e.model.createRange(f,u);this._applyAutoLink(a,m)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,r=e.commands.get("enter");r&&r.on("execute",()=>{const i=t.document.selection.getFirstPosition();let s;i.parent.previousSibling?.is("element")?s=t.createRangeIn(i.parent.previousSibling):s=t.createRange(t.createPositionAt(i.parent,0),i),this._checkAndApplyAutoLinkOnRange(s)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,r=e.commands.get("shiftEnter");r&&r.on("execute",()=>{const i=t.document.selection.getFirstPosition(),s=t.createRange(t.createPositionAt(i.parent,0),i.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(s)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:r,range:i}=eU(e,t),s=J6(r);if(s){const o=t.createRange(i.end.getShiftedBy(-s.length),i.end);this._applyAutoLink(s,o)}}_applyAutoLink(e,t){const r=this.editor.model,i=this.editor.config.get("link.defaultProtocol"),s=lA(e,i);!this.isEnabled||!b3e(t,r)||!kz(s)||y3e(t)||this._persistAutoLink(s,t)}_persistAutoLink(e,t){const r=this.editor.model,i=this.editor.plugins.get("Delete");r.enqueueChange(s=>{s.setAttribute("linkHref",e,t),r.enqueueChange(()=>{i.requestUndoOnBackspace()})})}}function p3e(n){return n.length>m3e&&n[n.length-1]===" "&&n[n.length-2]!==" "}function J6(n){const e=Sz.exec(n);return e?e[g3e]:null}function b3e(n,e){return e.schema.checkAttributeInSelection(e.createSelection(n),"linkHref")}function y3e(n){const e=n.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}class w3e extends ee{static get requires(){return[Gf,Tz,Cz]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}class v3e extends ee{static get requires(){return["ImageEditing","ImageUtils",Gf]}static get pluginName(){return"LinkImageEditing"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(_3e(e)),e.conversion.for("downcast").add(x3e(e)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,r=e.commands.get("link").automaticDecorators;r.length&&e.conversion.for("downcast").add(r.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const r of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:r.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:r.id}),e.conversion.for("downcast").add(E3e(r)),e.conversion.for("upcast").add(k3e(e,r))}}function _3e(n){const e=n.plugins.has("ImageInlineEditing"),t=n.plugins.get("ImageUtils");return r=>{r.on("element:a",(i,s,o)=>{const a=s.viewItem,l=t.findViewImgElement(a);if(!l)return;const u=l.findAncestor(y=>t.isBlockImageView(y));if(e&&!u)return;const f={attributes:["href"]};if(!o.consumable.consume(a,f))return;const m=a.getAttribute("href");if(!m)return;let p=s.modelCursor.parent;if(!p.is("element","imageBlock")){const y=o.convertItem(l,s.modelCursor);s.modelRange=y.modelRange,s.modelCursor=y.modelCursor,p=s.modelCursor.nodeBefore}p&&p.is("element","imageBlock")&&o.writer.setAttribute("linkHref",m,p)},{priority:"high"})}}function x3e(n){const e=n.plugins.get("ImageUtils");return t=>{t.on("attribute:linkHref:imageBlock",(r,i,s)=>{if(!s.consumable.consume(i.item,r.name))return;const o=s.mapper.toViewElement(i.item),a=s.writer,l=Array.from(o.getChildren()).find(m=>m.is("element","a")),u=e.findViewImgElement(o),f=u.parent.is("element","picture")?u.parent:u;if(l)i.attributeNewValue?a.setAttribute("href",i.attributeNewValue,l):(a.move(a.createRangeOn(f),a.createPositionAt(o,0)),a.remove(l));else{const m=a.createContainerElement("a",{href:i.attributeNewValue});a.insert(a.createPositionAt(o,0),m),a.move(a.createRangeOn(f),a.createPositionAt(m,0))}},{priority:"high"})}}function E3e(n){return e=>{e.on(`attribute:${n.id}:imageBlock`,(t,r,i)=>{const s=i.mapper.toViewElement(r.item),o=Array.from(s.getChildren()).find(a=>a.is("element","a"));if(o){if(r.attributeOldValue){for(const a in n.attributes)i.writer.removeAttribute(a,o);n.classes&&i.writer.removeClass(n.classes,o);for(const a in n.styles)i.writer.removeStyle(a,o)}if(r.attributeNewValue){for(const[a,l]of oa(n.attributes))i.writer.setAttribute(a,l,o);n.classes&&i.writer.addClass(n.classes,o);for(const a in n.styles)i.writer.setStyle(a,n.styles[a],o)}}})}}function k3e(n,e){const t=n.plugins.has("ImageInlineEditing"),r=n.plugins.get("ImageUtils");return i=>{i.on("element:a",(s,o,a)=>{const l=o.viewItem,u=r.findViewImgElement(l);if(!u)return;const f=u.findAncestor(v=>r.isBlockImageView(v));if(t&&!f)return;const p=new la(e._createPattern()).match(l);if(!p||!a.consumable.consume(l,p.match))return;const y=o.modelCursor.nodeBefore||o.modelCursor.parent;a.writer.setAttribute(e.id,!0,y)},{priority:"high"})}}class T3e extends ee{static get requires(){return[Gf,Tz,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(r,i)=>{this._isSelectedLinkedImage(e.model.document.selection)&&(i.preventDefault(),r.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("linkImage",r=>{const i=new et(r),s=e.plugins.get("LinkUI"),o=e.commands.get("link");return i.set({isEnabled:!0,label:t("Link image"),icon:d9,keystroke:Qm,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(o,"isEnabled"),i.bind("isOn").to(o,"value",a=>!!a),this.listenTo(i,"execute",()=>{this._isSelectedLinkedImage(e.model.document.selection)?s._addToolbarView():s._showUI(!0)}),i})}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}class S3e extends ee{static get requires(){return[v3e,T3e]}static get pluginName(){return"LinkImage"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Ws{_startElement;_referenceIndent;_isForward;_includeSelf;_sameAttributes;_sameIndent;_lowerIndent;_higherIndent;constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=t.direction=="forward",this._includeSelf=!!t.includeSelf,this._sameAttributes=Gt(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){const i=new this(e,t)[Symbol.iterator]();return _n(i)}*[Symbol.iterator](){const e=[];for(const{node:t}of new tp(this._getStartNode(),this._isForward?"forward":"backward")){const r=t.getAttribute("listIndent");if(r<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=r}else if(r>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(i=>t.getAttribute(i)!==this._startElement.getAttribute(i)))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class tp{_node;_isForward;_previousNodesByIndent=[];_previous=null;_previousNodeIndent=null;constructor(e,t="forward"){this._node=e,this._isForward=t==="forward"}[Symbol.iterator](){return this}next(){if(!Mt(this._node))return{done:!0,value:void 0};const e=this._node.getAttribute("listIndent");let t=null;if(this._previous){const i=this._previousNodeIndent;e>i?this._previousNodesByIndent[i]=this._previous:e<i?(t=this._previousNodesByIndent[e]||null,this._previousNodesByIndent.length=e):t=this._previous}const r={node:this._node,previous:this._previous,previousNodeInList:t};return this._previous=this._node,this._previousNodeIndent=e,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:r,done:!1}}}class C3e{_listHead;constructor(e){this._listHead=e}[Symbol.iterator](){return new tp(this._listHead)}}class Yf{static next(){return ci()}}function Mt(n){return!!n&&n.is("element")&&n.hasAttribute("listItemId")}function ll(n,e={}){return[...mc(n,{...e,direction:"backward"}),...mc(n,{...e,direction:"forward"})]}function mc(n,e={}){const t=e.direction=="forward",r=Array.from(new Ws(n,{...e,includeSelf:t,sameIndent:!0,sameAttributes:"listItemId"}));return t?r:r.reverse()}function A3e(n){return Array.from(new Ws(n,{direction:"forward",higherIndent:!0}))}function Az(n,e){const t=new Ws(n,{sameIndent:!0,sameAttributes:"listType",...e}),r=new Ws(n,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...e});return[...Array.from(t).reverse(),...r]}function ca(n){return!Ws.first(n,{sameIndent:!0,sameAttributes:"listItemId"})}function Q6(n){return!Ws.first(n,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function np(n,e={}){n=Gt(n);const t=e.withNested!==!1,r=new Set;for(const i of n)for(const s of ll(i,{higherIndent:t}))r.add(s);return ju(r)}function Pv(n){n=Gt(n);const e=new Set;for(const t of n)for(const r of Az(t))e.add(r);return ju(e)}function cA(n,e){const t=mc(n,{direction:"forward"}),r=Yf.next();for(const i of t)e.setAttribute("listItemId",r,i);return t}function Zk(n,e,t){const r={};for(const[s,o]of e.getAttributes())s.startsWith("list")&&(r[s]=o);const i=mc(n,{direction:"forward"});for(const s of i)t.setAttributes(r,s);return i}function eT(n,e,{expand:t,indentBy:r=1}={}){n=Gt(n);const i=t?np(n):n;for(const s of i){const o=s.getAttribute("listIndent")+r;o<0?Rv(s,e):e.setAttribute("listIndent",o,s)}return i}function N3e(n,e){n=Gt(n);const t=np(n),r=new Set,i=Math.min(...t.map(o=>o.getAttribute("listIndent"))),s=new Map;for(const o of t)s.set(o,Ws.first(o,{lowerIndent:!0}));for(const o of t){if(r.has(o))continue;r.add(o);const a=o.getAttribute("listIndent")-1;if(a<0){Rv(o,e);continue}if(o.getAttribute("listIndent")==i){const l=R3e(o,s.get(o),e);for(const u of l)r.add(u);if(l.length)continue}e.setAttribute("listIndent",a,o)}return ju(r)}function Rv(n,e){n=Gt(n);for(const t of n)t.is("element","listItem")&&e.rename(t,"paragraph");for(const t of n)for(const r of t.getAttributeKeys())r.startsWith("list")&&e.removeAttribute(r,t);return n}function y0(n){if(!n.length)return!1;const e=n[0].getAttribute("listItemId");return e?!n.some(t=>t.getAttribute("listItemId")!=e):!1}function P3e(n,e){const t=[];let r=Number.POSITIVE_INFINITY;for(const{node:i}of new tp(n.nextSibling)){const s=i.getAttribute("listIndent");if(s==0)break;s<r&&(r=s);const o=s-r;e.setAttribute("listIndent",o,i),t.push(i)}return t}function ju(n){return Array.from(n).filter(e=>e.root.rootName!=="$graveyard").sort((e,t)=>e.index-t.index)}function w0(n){const e=n.document.selection.getSelectedElement();return e&&n.schema.isObject(e)&&n.schema.isBlock(e)?e:null}function xE(n,e){return e.checkChild(n.parent,"listItem")&&e.checkChild(n,"$text")&&!e.isObject(n)}function Gy(n){return n=="numbered"||n=="customNumbered"}function R3e(n,e,t){return mc(e,{direction:"forward"}).pop().index>n.index?Zk(n,e,t):[]}class Z6 extends lt{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=eM(e.document.selection);e.change(r=>{const i=[];y0(t)&&!ca(t[0])?(this._direction=="forward"&&i.push(...eT(t,r)),i.push(...cA(t[0],r))):this._direction=="forward"?i.push(...eT(t,r,{expand:!0})):i.push(...N3e(t,r));for(const s of i){if(!s.hasAttribute("listType"))continue;const o=Ws.first(s,{sameIndent:!0});o&&r.setAttribute("listType",o.getAttribute("listType"),s)}this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",ju(new Set(e)))}_checkEnabled(){let e=eM(this.editor.model.document.selection),t=e[0];if(!t)return!1;if(this._direction=="backward"||y0(e)&&!ca(e[0]))return!0;e=np(e),t=e[0];const r=Ws.first(t,{sameIndent:!0});return r?r.getAttribute("listType")==t.getAttribute("listType"):!1}}function eM(n){const e=Array.from(n.getSelectedBlocks()),t=e.findIndex(r=>!Mt(r));return t!=-1&&(e.length=t),e}class Zm extends lt{type;_listWalkerOptions;constructor(e,t,r={}){super(e),this.type=t,this._listWalkerOptions=r.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.document,i=w0(t),s=Array.from(r.selection.getSelectedBlocks()).filter(a=>t.schema.checkAttribute(a,"listType")||xE(a,t.schema)),o=e.forceValue!==void 0?!e.forceValue:this.value;t.change(a=>{if(o){const l=s[s.length-1],u=mc(l,{direction:"forward"}),f=[];u.length>1&&f.push(...cA(u[1],a)),f.push(...Rv(s,a)),f.push(...P3e(l,a)),this._fireAfterExecute(f)}else if((i||r.selection.isCollapsed)&&Mt(s[0])){const l=Az(i||s[0],this._listWalkerOptions);for(const u of l)a.setAttributes({...e.additionalAttributes,listType:this.type},u);this._fireAfterExecute(l)}else{const l=[];for(const u of s)if(!u.hasAttribute("listType"))!u.is("element","listItem")&&xE(u,t.schema)&&a.rename(u,"listItem"),a.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:Yf.next(),listType:this.type},u),l.push(u);else for(const f of np(u,{withNested:!1}))f.getAttribute("listType")!=this.type&&(a.setAttributes({...e.additionalAttributes,listType:this.type},f),l.push(f));this._fireAfterExecute(l)}})}_fireAfterExecute(e){this.fire("afterExecute",ju(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const r of t)if(r.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,r=e.document.selection,i=Array.from(r.getSelectedBlocks());if(!i.length)return!1;if(this.value)return!0;for(const s of i)if(t.checkAttribute(s,"listType")||xE(s,t))return!0;return!1}}class tM extends lt{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,r=t.document.selection,i=[];t.change(s=>{const{firstElement:o,lastElement:a}=this._getMergeSubjectElements(r,e),l=o.getAttribute("listIndent")||0,u=a.getAttribute("listIndent"),f=a.getAttribute("listItemId");if(l!=u){const m=A3e(a);i.push(...eT([a,...m],s,{indentBy:l-u,expand:l<u}))}if(e){let m=r;r.isCollapsed&&(m=s.createSelection(s.createRange(s.createPositionAt(o,"end"),s.createPositionAt(a,0)))),t.deleteContent(m,{doNotResetEntireContent:r.isCollapsed});const p=m.getLastPosition().parent,y=p.nextSibling;i.push(p),y&&y!==a&&y.getAttribute("listItemId")==f&&i.push(...Zk(y,p,s))}else i.push(...Zk(a,o,s));this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",ju(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,r=w0(e);if(t.isCollapsed||r){const i=r||t.getFirstPosition().parent;if(!Mt(i))return!1;const s=this._direction=="backward"?i.previousSibling:i.nextSibling;if(!s||y0([i,s]))return!1}else{const i=t.getLastPosition(),s=t.getFirstPosition();if(i.parent===s.parent||!Mt(i.parent))return!1}return!0}_getMergeSubjectElements(e,t){const r=this.editor.model,i=w0(r);let s,o;if(e.isCollapsed||i){const a=i||e.getFirstPosition().parent,l=ca(a);this._direction=="backward"?(o=a,l&&!t?s=Ws.first(a,{sameIndent:!0,lowerIndent:!0}):s=a.previousSibling):(s=a,o=a.nextSibling)}else s=e.getFirstPosition().parent,o=e.getLastPosition().parent;return{firstElement:s,lastElement:o}}}class nM extends lt{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(t=>{const r=cA(this._getStartBlock(),t);this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",ju(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&Mt(t)&&!ca(t)}_getStartBlock(){const t=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?t:t.nextSibling}}class I3e extends ee{static get pluginName(){return"ListItemBoldIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);!e.plugins.has("BoldEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("bold","listItemBold"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemBold",setAttributeOnDowncast(i,s,o,a){s&&(i.addClass("ck-list-marker-bold",o),ot.isSafari&&!(a&&a.dataPipeline)&&i.setStyle("--ck-content-list-marker-dummy-bold","0",o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("BoldEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemBold"}),t.schema.setAttributeProperties("listItemBold",{isFormatting:!0}),t.schema.addAttributeCheck(r=>{if(!r.last.getAttribute("listItemId"))return!1},"listItemBold"),e.conversion.for("upcast").attributeToAttribute({model:"listItemBold",view:{name:"li",classes:"ck-list-marker-bold"}}))}}class O3e extends ee{static get pluginName(){return"ListItemItalicIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);!e.plugins.has("ItalicEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("italic","listItemItalic"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemItalic",setAttributeOnDowncast(i,s,o,a){s&&(i.addClass("ck-list-marker-italic",o),ot.isSafari&&!(a&&a.dataPipeline)&&i.setStyle("--ck-content-list-marker-dummy-italic","0",o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("ItalicEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemItalic"}),t.schema.setAttributeProperties("listItemItalic",{isFormatting:!0}),t.schema.addAttributeCheck(r=>{if(!r.last.getAttribute("listItemId"))return!1},"listItemItalic"),e.conversion.for("upcast").attributeToAttribute({model:"listItemItalic",view:{name:"li",classes:"ck-list-marker-italic"}}))}}class M3e extends ee{static get pluginName(){return"ListItemFontSizeIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);if(!e.plugins.has("FontSizeEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting"))return;const i=g0(e.config.get("fontSize.options"));t.registerFormatAttribute("fontSize","listItemFontSize"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemFontSize",setAttributeOnDowncast(s,o,a,l){if(o){const u=i.find(f=>f.model==o);u&&u.view&&typeof u.view!="string"?u.view.styles?(s.addClass("ck-list-marker-font-size",a),s.setStyle("--ck-content-list-marker-font-size",u.view.styles["font-size"],a)):u.view.classes&&(s.addClass(`ck-list-marker-font-size-${o}`,a),ot.isSafari&&!(l&&l.dataPipeline)&&s.setStyle("--ck-content-list-marker-dummy-font-size","0",a)):(s.addClass("ck-list-marker-font-size",a),s.setStyle("--ck-content-list-marker-font-size",o,a))}}})}afterInit(){const e=this.editor,t=e.model;if(!e.plugins.has("FontSizeEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting"))return;t.schema.extend("$listItem",{allowAttributes:"listItemFontSize"}),t.schema.setAttributeProperties("listItemFontSize",{isFormatting:!0}),t.schema.addAttributeCheck(i=>{if(!i.last.getAttribute("listItemId"))return!1},"listItemFontSize"),e.conversion.for("upcast").elementToAttribute({model:{key:"listItemFontSize",value:i=>i.getStyle("--ck-content-list-marker-font-size")},view:{name:"li",classes:"ck-list-marker-font-size",styles:{"--ck-content-list-marker-font-size":/.*/}}});const r=g0(e.config.get("fontSize.options"));for(const i of r)i.model&&i.view&&e.conversion.for("upcast").elementToAttribute({model:{key:"listItemFontSize",value:i.model},view:{name:"li",classes:`ck-list-marker-font-size-${i.model}`}})}}class D3e extends ee{static get pluginName(){return"ListItemFontColorIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);!e.plugins.has("FontColorEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("fontColor","listItemFontColor"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemFontColor",setAttributeOnDowncast(i,s,o){s&&(i.addClass("ck-list-marker-color",o),i.setStyle("--ck-content-list-marker-color",s,o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("FontColorEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemFontColor"}),t.schema.setAttributeProperties("listItemFontColor",{isFormatting:!0}),t.schema.addAttributeCheck(r=>{if(!r.last.getAttribute("listItemId"))return!1},"listItemFontColor"),e.conversion.for("upcast").attributeToAttribute({model:{key:"listItemFontColor",value:r=>r.getStyle("--ck-content-list-marker-color")},view:{name:"li",classes:"ck-list-marker-color",styles:{"--ck-content-list-marker-color":/.*/}}}))}}class F3e extends ee{static get pluginName(){return"ListItemFontFamilyIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),r=e.plugins.get(xi);!e.plugins.has("FontFamilyEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("fontFamily","listItemFontFamily"),r.registerDowncastStrategy({scope:"item",attributeName:"listItemFontFamily",setAttributeOnDowncast(i,s,o){s&&(i.addClass("ck-list-marker-font-family",o),i.setStyle("--ck-content-list-marker-font-family",s,o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("FontFamilyEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemFontFamily"}),t.schema.setAttributeProperties("listItemFontFamily",{isFormatting:!0}),t.schema.addAttributeCheck(r=>{if(!r.last.getAttribute("listItemId"))return!1},"listItemFontFamily"),e.conversion.for("upcast").attributeToAttribute({model:{key:"listItemFontFamily",value:r=>r.getStyle("--ck-content-list-marker-font-family")},view:{name:"li",classes:"ck-list-marker-font-family",styles:{"--ck-content-list-marker-font-family":/.*/}}}))}}class L3e extends ee{_loadedFormatting={};static get pluginName(){return"ListFormatting"}static get isOfficialPlugin(){return!0}static get requires(){return[I3e,O3e,M3e,D3e,F3e]}constructor(e){super(e),e.config.define("list.enableListItemMarkerFormatting",!0)}afterInit(){this.editor.config.get("list.enableListItemMarkerFormatting")&&this._registerPostfixerForListItemFormatting()}_registerPostfixerForListItemFormatting(){const e=this.editor.model;e.document.registerPostFixer(t=>{const r=e.document.differ.getChanges(),i=new Set;let s=!1;for(const o of r)if(o.type==="attribute")(o.attributeKey=="listItemId"||o.attributeKey=="listType"||this._isInlineOrSelectionFormatting(o.attributeKey)||Object.values(this._loadedFormatting).includes(o.attributeKey))&&(Mt(o.range.start.nodeAfter)?i.add(o.range.start.nodeAfter):Mt(o.range.start.parent)&&i.add(o.range.start.parent));else if(Mt(o.position.nodeAfter)&&i.add(o.position.nodeAfter),Mt(o.position.nodeBefore)&&i.add(o.position.nodeBefore),Mt(o.position.parent)&&i.add(o.position.parent),o.type=="insert"&&o.name!="$text"){const a=t.createRangeIn(o.position.nodeAfter);for(const l of a.getItems())Mt(l)&&i.add(l)}for(const o of i){const a=B3e(e,o,Object.keys(this._loadedFormatting));for(const[l,u]of Object.entries(a)){const f=this._loadedFormatting[l];(u&&V3e(t,o,f,u)||!u&&U3e(t,o,f))&&(s=!0)}}return s})}registerFormatAttribute(e,t){this._loadedFormatting[e]=t}_isInlineOrSelectionFormatting(e){return e.replace(/^selection:/,"")in this._loadedFormatting}}function B3e(n,e,t){if(ca(e))return rM(n,e,t);const r=ll(e);return rM(n,r[0],t)}function rM(n,e,t){if(!z3e(e)||n.schema.isLimit(e))return Object.fromEntries(t.map(a=>[a]));if(e.isEmpty)return Object.fromEntries(t.map(a=>[a,e.getAttribute(`selection:${a}`)]));const r=new Set(t),i={},o=n.createRangeIn(e).getWalker({ignoreElementEnd:!0});for(const{item:a}of o){for(const l of r)if(n.schema.checkAttribute(a,l)){const u=a.getAttribute(l);u===void 0?(r.delete(l),i[l]=void 0):i[l]===void 0?i[l]=u:i[l]!==u&&(r.delete(l),i[l]=void 0)}else l in i||(i[l]=void 0);if(!r.size)break;n.schema.isLimit(a)&&o.jumpTo(n.createPositionAfter(a))}return i}function V3e(n,e,t,r){const i=ll(e);let s=!1;for(const o of i)(!o.hasAttribute(t)||o.getAttribute(t)!==r)&&(n.setAttribute(t,r,o),s=!0);return s}function U3e(n,e,t){const r=ll(e);let i=!1;for(const s of r)s.hasAttribute(t)&&(n.removeAttribute(t,s),i=!0);return i}function z3e(n){return["numbered","bulleted","customNumbered","customBulleted"].includes(n.getAttribute("listType"))}class H3e extends ee{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(e){return Pv(e)}isFirstBlockOfListItem(e){return ca(e)}isListItemBlock(e){return Mt(e)}expandListBlocksToCompleteItems(e,t={}){return np(e,t)}isNumberedListType(e){return Gy(e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function $3e(n){return n.is("element","ol")||n.is("element","ul")}function tT(n){return n.is("element","li")}function W3e(n){let e=0,t=n.parent;for(;t;){if(tT(t))e++;else{const r=t.previousSibling;r&&tT(r)&&e++}t=t.parent}return e}function j3e(n,e,t,r=Pz(t,e)){return n.createAttributeElement(Nz(t),null,{priority:2*e/100-100,id:r})}function q3e(n,e,t){return n.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:t})}function Nz(n){return n=="numbered"||n=="customNumbered"?"ol":"ul"}function Pz(n,e){return`list-${n}-${e}`}function lo(n,e,t){const r=n.nodeBefore;if(Mt(r)){let i=r;for(const{node:s}of new tp(i,"backward"))if(i=s,t.has(i)||(t.add(i),e.has(r)))return;e.add(i)}else{const i=n.nodeAfter;Mt(i)&&e.add(i)}}function G3e(n,e){let t=0,r=-1,i=null,s=!1;for(const{node:o}of n){const a=o.getAttribute("listIndent");if(a>t){let l;i===null?(i=a-t,l=t):(i>a&&(i=a),l=a-i),l>r+1&&(l=r+1),e.setAttribute("listIndent",l,o),s=!0,r=l}else i=null,t=a+1,r=a}return s}function Y3e(n,e,t){const r=new Set;let i=!1;for(const{node:s}of n){if(r.has(s))continue;let o=s.getAttribute("listType"),a=s.getAttribute("listItemId");if(e.has(a)&&(a=Yf.next()),e.add(a),s.is("element","listItem")){s.getAttribute("listItemId")!=a&&(t.setAttribute("listItemId",a,s),i=!0);continue}for(const l of mc(s,{direction:"forward"}))r.add(l),l.getAttribute("listType")!=o&&(a=Yf.next(),o=l.getAttribute("listType")),l.getAttribute("listItemId")!=a&&(t.setAttribute("listItemId",a,l),i=!0)}return i}function K3e(){return(n,e,t)=>{const{writer:r,schema:i}=t;if(!e.modelRange)return;const s=Array.from(e.modelRange.getItems({shallow:!0})).filter(m=>i.checkAttribute(m,"listItemId"));if(!s.length)return;const o=e.viewItem.getAttribute("data-list-item-id")||Yf.next();t.consumable.consume(e.viewItem,{attributes:"data-list-item-id"});const a=W3e(e.viewItem);let l=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const u=s[0].getAttribute("listType");u&&(l=u);const f={listItemId:o,listIndent:a,listType:l};for(const m of s)m.hasAttribute("listItemId")||r.setAttributes(f,m);s.length>1&&s[1].getAttribute("listItemId")!=f.listItemId&&t.keepEmptyElement(s[0])}}function X3e(n,e,t,r){return()=>{const l=n.document.differ.getChanges(),u=[],f=new Set,m=new Set,p=new Set;for(const y of l)if(y.type=="insert"&&y.name!="$text")lo(y.position,f,p),y.attributes.has("listItemId")?m.add(y.position.nodeAfter):lo(y.position.getShiftedBy(y.length),f,p);else if(y.type=="remove"&&y.attributes.has("listItemId"))lo(y.position,f,p);else if(y.type=="attribute"){const v=y.range.start.nodeAfter;t.includes(y.attributeKey)?(lo(y.range.start,f,p),y.attributeNewValue===null?(lo(y.range.start.getShiftedBy(1),f,p),s(v)&&u.push(v)):m.add(v)):Mt(v)&&s(v)&&u.push(v)}for(const y of f.values())u.push(...i(y,m));for(const y of new Set(u))e.reconvertItem(y)};function i(l,u){const f=[],m=new Set,p=[];for(const{node:y,previous:v}of new tp(l)){if(m.has(y))continue;const w=y.getAttribute("listIndent");v&&w<v.getAttribute("listIndent")&&(p.length=w+1),p[w]={modelAttributes:Object.fromEntries(Array.from(y.getAttributes()).filter(([k])=>t.includes(k))),modelElement:y};const E=mc(y,{direction:"forward"});for(const k of E)m.add(k),(s(k,E)||a(k,p,u))&&f.push(k)}return f}function s(l,u){const f=e.mapper.toViewElement(l);if(!f)return!1;if(o(f)||r.fire("checkElement",{modelElement:l,viewElement:f}))return!0;if(!l.is("element","paragraph")&&!l.is("element","listItem"))return!1;const p=Iz(l,t,u);return p&&f.is("element","p")?!0:!!(!p&&f.is("element","span"))}function o(l){for(l=l.parent;l.is("attributeElement")&&["ol","ul","li"].includes(l.name);)l=l.parent;return!!(l.getCustomProperty("$structureSlotParent")&&!e.mapper.toModelElement(l))}function a(l,u,f){if(f.has(l))return!1;const m=e.mapper.toViewElement(l);let p=u.length-1;for(let y=m.parent;!y.is("editableElement");y=y.parent){const v=tT(y),w=$3e(y);if(!w&&!v)continue;const E=`checkAttributes:${v?"item":"list"}`;if(r.fire(E,{viewElement:y,modelAttributes:u[p].modelAttributes,modelReferenceElement:u[p].modelElement}))break;if(w&&(p--,p<0))return!1}return!0}}function iM(n,e,t,{dataPipeline:r}={}){const i=rNe(n,e);return(s,o,a)=>{const{writer:l,mapper:u,consumable:f}=a,m=o.item;if(!n.includes(o.attributeKey)||!i(m,f))return;const p={...a.options,dataPipeline:r},y=Q3e(m,u,t,l);Rz(y,l,u),tNe(y,l);const v=eNe(m,y,e,l,p);nNe(m,v,e,l,p)}}function J3e(n){return(e,t,r)=>{const{writer:i,mapper:s}=r,o=e.name.split(":")[1];if(!n.checkAttribute(o,"listItemId"))return;const a=s.toViewPosition(t.position),l=t.position.getShiftedBy(t.length),u=s.toViewPosition(l,{isPhantom:!0}),m=i.createRange(a,u).getTrimmed().end.nodeBefore;/* istanbul ignore next -- @preserve */m&&Rz(m,i,s)}}function sM(n,{dataPipeline:e}={}){return(t,{writer:r})=>{if(!Iz(t,n))return null;if(!e)return r.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const i=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}function Q3e(n,e,t,r){const i=t.createRangeOn(n),o=e.toViewRange(i).getTrimmed().getWalker();for(const{item:a}of o)if(a.is("element")&&a.getCustomProperty("listItemMarker"))o.jumpTo(r.createPositionAfter(a));else if(a.is("element")&&!a.getCustomProperty("listItemWrapper"))return a}function Z3e(n,e){return(t,r)=>{if(r.modelPosition.offset>0)return;const i=r.modelPosition.parent;if(!Mt(i)||!n.some(u=>u.scope=="itemMarker"&&u.canInjectMarkerIntoElement&&u.canInjectMarkerIntoElement(i)))return;const s=r.mapper.toViewElement(i),o=e.createRangeIn(s),a=o.getWalker();let l=o.start;for(const{item:u}of a){if(u.is("element")&&r.mapper.toModelElement(u)||u.is("$textProxy"))break;u.is("element")&&u.getCustomProperty("listItemMarker")&&(l=e.createPositionAfter(u),a.skip(({previousPosition:f})=>!f.isEqual(l)))}r.viewPosition=l}}function Rz(n,e,t){for(;n.parent.is("attributeElement")&&n.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(n),n.parent);const r=[];i(e.createPositionBefore(n).getWalker({direction:"backward"})),i(e.createRangeIn(n).getWalker());for(const s of r)e.remove(s);function i(s){for(const{item:o}of s){if(o.is("element")&&t.toModelElement(o))break;o.is("element")&&o.getCustomProperty("listItemMarker")&&r.push(o)}}}function eNe(n,e,t,r,{dataPipeline:i}){let s=r.createRangeOn(e);if(!ca(n))return s;for(const o of t){if(o.scope!="itemMarker")continue;const a=o.createElement(r,n,{dataPipeline:i});if(!a||(r.setCustomProperty("listItemMarker",!0,a),o.canInjectMarkerIntoElement&&o.canInjectMarkerIntoElement(n)?r.insert(r.createPositionAt(e,0),a):(r.insert(s.start,a),s=r.createRange(r.createPositionBefore(a),r.createPositionAfter(e))),!o.createWrapperElement||!o.canWrapElement))continue;const l=o.createWrapperElement(r,n,{dataPipeline:i});r.setCustomProperty("listItemWrapper",!0,l),o.canWrapElement(n)?s=r.wrap(s,l):(s=r.wrap(r.createRangeOn(a),l),s=r.createRange(s.start,r.createPositionAfter(e)))}return s}function tNe(n,e){let t=n.parent;for(;t.is("attributeElement")&&["ul","ol","li"].includes(t.name);){const r=t.parent;e.unwrap(e.createRangeOn(n),t),t=r}}function nNe(n,e,t,r,i){if(!n.hasAttribute("listIndent"))return;const s=n.getAttribute("listIndent");let o=n;for(let a=s;a>=0;a--){const l=q3e(r,a,o.getAttribute("listItemId")),u=j3e(r,a,o.getAttribute("listType"));for(const f of t)(f.scope=="list"||f.scope=="item")&&o.hasAttribute(f.attributeName)&&f.setAttributeOnDowncast(r,o.getAttribute(f.attributeName),f.scope=="list"?u:l,i,o);if(e=r.wrap(e,l),e=r.wrap(e,u),a==0||(o=Ws.first(o,{lowerIndent:!0}),!o))break}}function rNe(n,e){const t=e.filter(r=>r.consume===!1).map(r=>r.attributeName);return(r,i)=>{const s=[];for(const o of n)r.hasAttribute(o)&&!t.includes(o)&&s.push(`attribute:${o}`);return s.every(o=>i.test(r,o)!==!1)?(s.forEach(o=>i.consume(r,o)),!0):!1}}function Iz(n,e,t=ll(n)){if(!Mt(n))return!1;for(const r of n.getAttributeKeys())if(!(r.startsWith("selection:")||r=="htmlEmptyBlock")&&!e.includes(r))return!1;return t.length<2}const Db=["listType","listIndent","listItemId"];class xi extends ee{_downcastStrategies=[];static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Z0,_c,H3e,$s,L3e]}constructor(e){super(e),e.config.define("list.multiBlock",!0)}init(){const e=this.editor,t=e.model,r=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new q("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:Db}),r?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const i of Db)t.schema.setAttributeProperties(i,{copyOnReplace:!0});e.commands.add("numberedList",new Zm(e,"numbered")),e.commands.add("bulletedList",new Zm(e,"bulleted")),e.commands.add("customNumberedList",new Zm(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new Zm(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new Z6(e,"forward")),e.commands.add("outdentList",new Z6(e,"backward")),e.commands.add("splitListItemBefore",new nM(e,"before")),e.commands.add("splitListItemAfter",new nM(e,"after")),r&&(e.commands.add("mergeListItemBackward",new tM(e,"backward")),e.commands.add("mergeListItemForward",new tM(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration(),this._setupListItemIdConversionStrategy()}afterInit(){const t=this.editor.commands,r=t.get("indent"),i=t.get("outdent");r&&r.registerChildCommand(t.get("indentList"),{priority:"high"}),i&&i.registerChildCommand(t.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...Db,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),r=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(i,s)=>{const o=e.model.document.selection;w0(e.model)||e.model.change(()=>{const a=o.getFirstPosition();if(o.isCollapsed&&s.direction=="backward"){if(!a.isAtStart)return;const l=a.parent;if(!Mt(l))return;if(!Ws.first(l,{sameAttributes:"listType",sameIndent:!0})&&l.getAttribute("listIndent")===0)Q6(l)||e.execute("splitListItemAfter"),e.execute("outdentList");else{if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:oM(e.model,"backward")})}s.preventDefault(),i.stop()}else{if(o.isCollapsed&&!o.getLastPosition().isAtEnd||!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:oM(e.model,"forward")}),s.preventDefault(),i.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,r=e.commands,i=r.get("enter");this.listenTo(e.editing.view.document,"enter",(s,o)=>{const a=t.document,l=a.selection.getFirstPosition().parent;if(a.selection.isCollapsed&&Mt(l)&&l.isEmpty&&!o.isSoft){const u=ca(l),f=Q6(l);u&&f?(e.execute("outdentList"),o.preventDefault(),s.stop()):u&&!f?(e.execute("splitListItemAfter"),o.preventDefault(),s.stop()):f&&(e.execute("splitListItemBefore"),o.preventDefault(),s.stop())}},{context:"li"}),this.listenTo(i,"afterExecute",()=>{const s=r.get("splitListItemBefore");if(s.refresh(),!s.isEnabled)return;const a=e.model.document.selection.getLastPosition().parent;ll(a).length===2&&s.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,r)=>{const i=r.shiftKey?"outdentList":"indentList";this.editor.commands.get(i).isEnabled&&(e.execute(i),r.stopPropagation(),r.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,r=this.getListAttributeNames(),i=e.config.get("list.multiBlock"),s=i?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(a,{writer:l})=>l.createElement(s,{listType:""})}).elementToElement({view:"p",model:(a,{writer:l})=>a.parent&&a.parent.is("element","li")?l.createElement(s,{listType:""}):null,converterPriority:"high"}).add(a=>{a.on("element:li",K3e())}),i||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:s,view:sM(r),converterPriority:"high"}).add(a=>{a.on("attribute",iM(r,this._downcastStrategies,t)),a.on("remove",J3e(t.schema))}),e.conversion.for("dataDowncast").elementToElement({model:s,view:sM(r,{dataPipeline:!0}),converterPriority:"high"}).add(a=>{a.on("attribute",iM(r,this._downcastStrategies,t,{dataPipeline:!0}))});const o=Z3e(this._downcastStrategies,e.editing.view);e.editing.mapper.on("modelToViewPosition",o),e.data.mapper.on("modelToViewPosition",o),this.listenTo(t.document,"change:data",X3e(t,e.editing,r,this),{priority:"high"}),this.on("checkAttributes:item",(a,{viewElement:l,modelAttributes:u})=>{l.id!=u.listItemId&&(a.return=!0,a.stop())}),this.on("checkAttributes:list",(a,{viewElement:l,modelAttributes:u})=>{(l.name!=Nz(u.listType)||l.id!=Pz(u.listType,u.listIndent))&&(a.return=!0,a.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(r=>iNe(e,r,t,this)),this.on("postFixer",(r,{listNodes:i,writer:s})=>{r.return=G3e(i,s)||r.return},{priority:"high"}),this.on("postFixer",(r,{listNodes:i,writer:s,seenIds:o})=>{r.return=Y3e(i,o,s)||r.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",sNe(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(r,i)=>{e.change(s=>{const o=Array.from(i.content.getChildren()),a=o[o.length-1];if(o.length>1&&a.is("element")&&a.isEmpty&&o.slice(0,-1).every(Mt)&&s.remove(a),i.method=="copy"||i.method=="cut"){const l=Array.from(i.content.getChildren());y0(l)&&Rv(l,s)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}_setupListItemIdConversionStrategy(){this.registerDowncastStrategy({scope:"item",attributeName:"listItemId",setAttributeOnDowncast(e,t,r,i){i&&(i.skipListItemIds||i.isClipboardPipeline)||e.setAttribute("data-list-item-id",t,r)}})}}function iNe(n,e,t,r){const i=n.document.differ.getChanges(),s=new Set,o=new Set,a=r.editor.config.get("list.multiBlock");let l=!1;for(const f of i){if(f.type=="insert"&&f.name!="$text"){const m=f.position.nodeAfter;if(!n.schema.checkAttribute(m,"listItemId"))for(const p of Array.from(m.getAttributeKeys()))t.includes(p)&&(e.removeAttribute(p,m),l=!0);lo(f.position,o,s),f.attributes.has("listItemId")||lo(f.position.getShiftedBy(f.length),o,s);for(const{item:p,previousPosition:y}of n.createRangeIn(m))Mt(p)&&lo(y,o,s)}else f.type=="remove"?lo(f.position,o,s):f.type=="attribute"&&t.includes(f.attributeKey)&&(lo(f.range.start,o,s),f.attributeNewValue===null&&lo(f.range.start.getShiftedBy(1),o,s));if(!a&&f.type=="attribute"&&Db.includes(f.attributeKey)){const m=f.range.start.nodeAfter;f.attributeNewValue===null&&m&&m.is("element","listItem")?(e.rename(m,"paragraph"),l=!0):f.attributeOldValue===null&&m&&m.is("element")&&m.name!="listItem"&&(e.rename(m,"listItem"),l=!0)}}const u=new Set;for(const f of o.values())l=r.fire("postFixer",{listNodes:new C3e(f),listHead:f,writer:e,seenIds:u})||l;return l}function sNe(n){return(e,[t,r])=>{const i=t.is("documentFragment")?Array.from(t.getChildren()):[t];if(!i.length)return;const o=(r?n.createSelection(r):n.document.selection).getFirstPosition();let a;if(Mt(o.parent))a=o.parent;else if(Mt(o.nodeBefore)&&Mt(o.nodeAfter))a=o.nodeBefore;else return;n.change(l=>{const u=a.getAttribute("listType"),f=a.getAttribute("listIndent"),m=i[0].getAttribute("listIndent")||0,p=Math.max(f-m,0);for(const y of i){const v=Mt(y);a.is("element","listItem")&&y.is("element","paragraph")&&l.rename(y,"listItem"),l.setAttributes({listIndent:(v?y.getAttribute("listIndent"):0)+p,listItemId:v?y.getAttribute("listItemId"):Yf.next(),listType:u},y)}})}}function oM(n,e){const t=n.document.selection;if(!t.isCollapsed)return!w0(n);if(e==="forward")return!0;const i=t.getFirstPosition().parent,s=i.previousSibling;return n.schema.isObject(s)?!1:s.isEmpty?!0:y0([i,s])}function nT(n,e,t,r){n.ui.componentFactory.add(e,()=>{const i=aM(et,n,e,t,r);return i.set({tooltip:!0,isToggleable:!0}),i}),n.ui.componentFactory.add(`menuBar:${e}`,()=>{const i=aM(xn,n,e,t,r);return i.set({role:"menuitemcheckbox",isToggleable:!0}),i})}function aM(n,e,t,r,i){const s=e.commands.get(t),o=new n(e.locale);return o.set({label:r,icon:i}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.on("execute",()=>{e.execute(t),e.editing.view.focus()}),o}class oNe extends ee{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||nT(this.editor,"numberedList",e("Numbered List"),MC),this.editor.ui.componentFactory.has("bulletedList")||nT(this.editor,"bulletedList",e("Bulleted List"),OC)}}class aNe extends ee{static get requires(){return[xi,oNe]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}class lNe extends lt{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute({startIndex:e=1}={}){const t=this.editor.model,r=t.document;let i=Array.from(r.selection.getSelectedBlocks()).filter(s=>Mt(s)&&Gy(s.getAttribute("listType")));i=Pv(i),t.change(s=>{for(const o of i)s.setAttribute("listStart",e>=0?e:1,o)})}_getValue(){const t=this.editor.model.document,r=_n(t.selection.getSelectedBlocks());return r&&Mt(r)&&Gy(r.getAttribute("listType"))?r.getAttribute("listStart"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Oz={},Mz={},Dz={},Fz=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:e,listType:t}of Fz)Oz[n]=t,Mz[n]=e,e&&(Dz[e]=n);function Lz(){return Fz.map(n=>n.listStyle)}function uA(n){return Oz[n]||null}function Bz(n){return Dz[n]||null}function rT(n){return Mz[n]||null}function cNe(n){switch(n){case"lower-alpha":return"lower-latin";case"upper-alpha":return"upper-latin";default:return n}}class uNe extends lt{defaultType;_supportedTypes;constructor(e,t,r){super(e),this.defaultType=t,this._supportedTypes=r}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.document;t.change(i=>{this._tryToConvertItemsToList(e);let s=Array.from(r.selection.getSelectedBlocks()).filter(o=>o.hasAttribute("listType"));if(s.length){s=Pv(s);for(const o of s)i.setAttribute("listStyle",e.type||this.defaultType,o)}})}isStyleTypeSupported(e){return this._supportedTypes?this._supportedTypes.includes(e):!0}_getValue(){const e=_n(this.editor.model.document.selection.getSelectedBlocks());return Mt(e)?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,t=e.commands.get("numberedList"),r=e.commands.get("bulletedList");return t.isEnabled||r.isEnabled}_tryToConvertItemsToList(e){if(!e.type)return;const t=uA(e.type);if(!t)return;const r=this.editor,i=`${t}List`;r.commands.get(i).value||r.execute(i)}}class dNe extends lt{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute(e={}){const t=this.editor.model,r=t.document;let i=Array.from(r.selection.getSelectedBlocks()).filter(s=>Mt(s)&&s.getAttribute("listType")=="numbered");i=Pv(i),t.change(s=>{for(const o of i)s.setAttribute("listReversed",!!e.reversed,o)})}_getValue(){const t=this.editor.model.document,r=_n(t.selection.getSelectedBlocks());return Mt(r)&&r.getAttribute("listType")=="numbered"?r.getAttribute("listReversed"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lM(n){return(e,t,r)=>{const{writer:i,schema:s,consumable:o}=r;if(o.test(t.viewItem,n.viewConsumables)===!1)return;t.modelRange||Object.assign(t,r.convertChildren(t.viewItem,t.modelCursor));let a=!1;for(const l of t.modelRange.getItems({shallow:!0}))s.checkAttribute(l,n.attributeName)&&n.appliesToListItem(l)&&(l.hasAttribute(n.attributeName)||(i.setAttribute(n.attributeName,n.getAttributeOnUpcast(t.viewItem),l),a=!0));a&&o.consume(t.viewItem,n.viewConsumables)}}class fNe extends ee{static get pluginName(){return"ListPropertiesUtils"}static get isOfficialPlugin(){return!0}getAllSupportedStyleTypes(){return Lz()}getListTypeFromListStyleType(e){return uA(e)}getListStyleTypeFromTypeAttribute(e){return Bz(e)}getTypeAttributeFromListStyleType(e){return rT(e)}}function Vz(n){const{startIndex:e,reversed:t,styles:r}=n;return{styles:hNe(r),startIndex:e||!1,reversed:t||!1}}function hNe(n){const e={listTypes:["bulleted","numbered"],useAttribute:!1};return n===!0||(n?Array.isArray(n)||typeof n=="string"?e.listTypes=Gt(n):(e.listTypes=n.listTypes?Gt(n.listTypes):e.listTypes,e.useAttribute=!!n.useAttribute,n.listStyleTypes&&(e.listStyleTypes=n.listStyleTypes)):e.listTypes=[]),e}const zm="default";class mNe extends ee{static get requires(){return[xi,fNe]}static get pluginName(){return"ListPropertiesEditing"}static get licenseFeatureCode(){return"LP"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}constructor(e){super(e),e.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const e=this.editor,t=e.model,r=e.plugins.get(xi),i=e.config.get("list.properties"),s=gNe(i);for(const o of s)o.addCommand(e),t.schema.extend("$listItem",{allowAttributes:o.attributeName}),r.registerDowncastStrategy({scope:"list",attributeName:o.attributeName,setAttributeOnDowncast(a,l,u){o.setAttributeOnDowncast(a,l,u)}});e.conversion.for("upcast").add(o=>{for(const a of s)o.on("element:ol",lM(a)),o.on("element:ul",lM(a))}),r.on("checkAttributes:list",(o,{viewElement:a,modelAttributes:l,modelReferenceElement:u})=>{for(const f of s)f.appliesToListItem(u)&&f.getAttributeOnUpcast(a)!=l[f.attributeName]&&(o.return=!0,o.stop())}),this.listenTo(e.commands.get("indentList"),"afterExecute",(o,a)=>{t.change(l=>{for(const u of a)for(const f of s)f.appliesToListItem(u)&&l.setAttribute(f.attributeName,f.defaultValue,u)})}),r.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:u}of a)for(const f of s)f.hasValidAttribute(u)||(f.appliesToListItem(u)?l.setAttribute(f.attributeName,f.defaultValue,u):l.removeAttribute(f.attributeName,u),o.return=!0)}),r.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:u,previousNodeInList:f}of a)if(f&&f.getAttribute("listType")==u.getAttribute("listType"))for(const m of s){const{attributeName:p}=m;if(!m.appliesToListItem(u))continue;const y=f.getAttribute(p);u.getAttribute(p)!=y&&(l.setAttribute(p,y,u),o.return=!0)}})}}function gNe(n){const e=[],t=Vz(n);if(n.styles){const r=t.styles.useAttribute;e.push({attributeName:"listStyle",defaultValue:zm,viewConsumables:{styles:"list-style-type"},addCommand(i){let s=Lz();r&&(s=s.filter(o=>!!rT(o))),i.commands.add("listStyle",new uNe(i,zm,s))},appliesToListItem(i){return i.getAttribute("listType")=="numbered"||i.getAttribute("listType")=="bulleted"},hasValidAttribute(i){if(!this.appliesToListItem(i))return!i.hasAttribute("listStyle");if(!i.hasAttribute("listStyle"))return!1;const s=i.getAttribute("listStyle");return s==zm?!0:uA(s)==i.getAttribute("listType")},setAttributeOnDowncast(i,s,o){if(s&&s!==zm)if(r){const a=rT(s);if(a){i.setAttribute("type",a,o);return}}else{i.setStyle("list-style-type",s,o);return}i.removeStyle("list-style-type",o),i.removeAttribute("type",o)},getAttributeOnUpcast(i){const s=i.getStyle("list-style-type");if(s)return cNe(s);const o=i.getAttribute("type");return o?Bz(o):zm}})}return n.reversed&&e.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(r){r.commands.add("listReversed",new dNe(r))},appliesToListItem(r){return r.getAttribute("listType")=="numbered"},hasValidAttribute(r){return this.appliesToListItem(r)==r.hasAttribute("listReversed")},setAttributeOnDowncast(r,i,s){i?r.setAttribute("reversed","reversed",s):r.removeAttribute("reversed",s)},getAttributeOnUpcast(r){return r.hasAttribute("reversed")}}),n.startIndex&&e.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(r){r.commands.add("listStart",new lNe(r))},appliesToListItem(r){return Gy(r.getAttribute("listType"))},hasValidAttribute(r){return this.appliesToListItem(r)==r.hasAttribute("listStart")},setAttributeOnDowncast(r,i,s){i==0||i>1?r.setAttribute("start",i,s):r.removeAttribute("start",s)},getAttributeOnUpcast(r){const i=r.getAttribute("start");return i>=0?i:1}}),e}class Uz extends Le{children;stylesView=null;additionalPropertiesCollapsibleView=null;startIndexFieldView=null;reversedSwitchButtonView=null;focusTracker=new Yt;keystrokes=new bn;focusables=new pr;focusCycler;constructor(e,{enabledProperties:t,styleButtonViews:r,styleGridAriaLabel:i}){super(e);const s=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new kr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r&&r.length?(this.stylesView=this._createStylesView(r,i),this.children.add(this.stylesView)):s.push("ck-list-properties_without-styles"),(t.startIndex||t.reversed)&&(this._addNumberedListPropertyViews(t),s.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:s},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const e of this.stylesView.children)this.stylesView.focusTracker.add(e.element);K0({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>qe.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,t){const r=new Le(this.locale);return r.children=r.createCollection(),r.children.addMany(e),r.setTemplate({tag:"div",attributes:{"aria-label":t,class:["ck","ck-list-styles-list"]},children:r.children}),r.children.delegate("execute").to(this),r.focus=function(){for(const i of this.children)if(i instanceof et&&i.isOn){i.focus();return}this.children.first.focus()},r.focusTracker=new Yt,r.keystrokes=new bn,r.render(),r.keystrokes.listenTo(r.element),r}_addNumberedListPropertyViews(e){const t=this.locale.t,r=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),r.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),r.push(this.reversedSwitchButtonView)),this.stylesView?(this.additionalPropertiesCollapsibleView=new zC(this.locale,r),this.additionalPropertiesCollapsibleView.set({label:t("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(r,"isEnabled",(...i)=>i.some(s=>s)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(i,s,o)=>{o||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(r)}_createStartIndexField(){const e=this.locale.t,t=new Yn(this.locale,V9);return t.set({label:e("Start at"),class:"ck-numbered-list-properties__start-index"}),t.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),t.fieldView.on("input",()=>{const r=t.fieldView.element,i=r.valueAsNumber;if(Number.isNaN(i)){t.errorText=e("Invalid start index value.");return}r.checkValidity()?this.fire("listStart",{startIndex:i}):t.errorText=e("Start index must be greater than 0.")}),t}_createReversedSwitchButton(){const e=this.locale.t,t=new Pu(this.locale);return t.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),t.delegate("execute").to(this,"listReversed"),t}}class pNe extends ee{static get pluginName(){return"ListPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,r=e.config.get("list.properties"),i=Vz(r),s=i.styles.listTypes;if(s.includes("bulleted")){const o=[{label:t("Toggle the disc list style"),tooltip:t("Disc"),type:"disc",icon:D_e},{label:t("Toggle the circle list style"),tooltip:t("Circle"),type:"circle",icon:I_e},{label:t("Toggle the square list style"),tooltip:t("Square"),type:"square",icon:B_e}],a=t("Bulleted List"),l=t("Bulleted list styles toolbar"),u="bulletedList";e.ui.componentFactory.add(u,cM({editor:e,normalizedConfig:i,parentCommandName:u,buttonLabel:a,buttonIcon:OC,styleGridAriaLabel:l,styleDefinitions:o})),e.ui.componentFactory.add(`menuBar:${u}`,uM({editor:e,normalizedConfig:i,parentCommandName:u,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}if(s.includes("numbered")||r.startIndex||r.reversed){const o=[{label:t("Toggle the decimal list style"),tooltip:t("Decimal"),type:"decimal",icon:M_e},{label:t("Toggle the decimal with leading zero list style"),tooltip:t("Decimal with leading zero"),type:"decimal-leading-zero",icon:O_e},{label:t("Toggle the lowerroman list style"),tooltip:t("Lowerroman"),type:"lower-roman",icon:L_e},{label:t("Toggle the upperroman list style"),tooltip:t("Upper-roman"),type:"upper-roman",icon:U_e},{label:t("Toggle the lowerlatin list style"),tooltip:t("Lower-latin"),type:"lower-latin",icon:F_e},{label:t("Toggle the upperlatin list style"),tooltip:t("Upper-latin"),type:"upper-latin",icon:V_e}],a=t("Numbered List"),l=t("Numbered list styles toolbar"),u="numberedList";e.ui.componentFactory.add(u,cM({editor:e,normalizedConfig:i,parentCommandName:u,buttonLabel:a,buttonIcon:MC,styleGridAriaLabel:l,styleDefinitions:o})),s.includes("numbered")&&e.ui.componentFactory.add(`menuBar:${u}`,uM({editor:e,normalizedConfig:i,parentCommandName:u,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}}}function cM({editor:n,normalizedConfig:e,parentCommandName:t,buttonLabel:r,buttonIcon:i,styleGridAriaLabel:s,styleDefinitions:o}){const a=n.commands.get(t);return l=>{const u=Er(l,gh),f=u.buttonView;return u.bind("isEnabled").to(a),u.class="ck-list-styles-dropdown",f.on("execute",()=>{n.execute(t),n.editing.view.focus()}),f.set({label:r,icon:i,tooltip:!0,isToggleable:!0}),f.bind("isOn").to(a,"value",m=>!!m),u.once("change:isOpen",()=>{const m=bNe({editor:n,normalizedConfig:e,dropdownView:u,parentCommandName:t,styleGridAriaLabel:s,styleDefinitions:o});u.panelView.children.add(m)}),u.on("execute",()=>{n.editing.view.focus()}),u}}function zz({editor:n,listStyleCommand:e,parentCommandName:t}){const r=n.locale,i=n.commands.get(t);return({label:s,type:o,icon:a,tooltip:l})=>{const u=new et(r);return u.set({label:s,icon:a,tooltip:l}),u.bind("isOn").to(e,"value",f=>f===o),u.on("execute",()=>{i.value?e.value===o?n.execute(t):e.value!==o&&n.execute("listStyle",{type:o}):n.model.change(()=>{n.execute("listStyle",{type:o})})}),u}}function bNe({editor:n,normalizedConfig:e,dropdownView:t,parentCommandName:r,styleDefinitions:i,styleGridAriaLabel:s}){const o=n.locale,a={...e,...r!="numberedList"?{startIndex:!1,reversed:!1}:null},l=r.replace("List","");let u=null;if(e.styles.listTypes.includes(l)){const m=n.commands.get("listStyle"),p=zz({editor:n,parentCommandName:r,listStyleCommand:m}),y=e.styles.listStyleTypes;let v=i;if(y){const E=y[l];E&&(v=i.filter(k=>E.includes(k.type)))}const w=Hz(m);u=v.filter(w).map(p)}const f=new Uz(o,{styleGridAriaLabel:s,enabledProperties:a,styleButtonViews:u});if(e.styles.listTypes.includes(l)&&Tv(t,()=>f.stylesView.children.find(m=>m.isOn)),a.startIndex){const m=n.commands.get("listStart");f.startIndexFieldView.bind("isEnabled").to(m),f.startIndexFieldView.fieldView.bind("value").to(m),f.on("listStart",(p,y)=>n.execute("listStart",y))}if(a.reversed){const m=n.commands.get("listReversed");f.reversedSwitchButtonView.bind("isEnabled").to(m),f.reversedSwitchButtonView.bind("isOn").to(m,"value",p=>!!p),f.on("listReversed",()=>{const p=m.value;n.execute("listReversed",{reversed:!p})})}return f.delegate("execute").to(t),f}function uM({editor:n,normalizedConfig:e,parentCommandName:t,buttonLabel:r,styleGridAriaLabel:i,styleDefinitions:s}){return o=>{const a=new zi(o),l=n.commands.get(t),u=n.commands.get("listStyle"),f=Hz(u),m=zz({editor:n,parentCommandName:t,listStyleCommand:u}),p=e.styles.listStyleTypes;let y=s;if(p){const E=l.type,k=p[E];k&&(y=s.filter(T=>k.includes(T.type)))}const v=y.filter(f).map(m),w=new Uz(o,{styleGridAriaLabel:i,enabledProperties:{...e,startIndex:!1,reversed:!1},styleButtonViews:v});return w.delegate("execute").to(a),a.buttonView.set({label:r,icon:t==="bulletedList"?OC:MC}),a.panelView.children.add(w),a.bind("isEnabled").to(l,"isEnabled"),a.on("execute",()=>{n.editing.view.focus()}),a}}function Hz(n){return typeof n.isStyleTypeSupported=="function"?e=>n.isStyleTypeSupported(e.type):()=>!0}class yNe extends ee{static get requires(){return[mNe,pNe]}static get pluginName(){return"ListProperties"}static get isOfficialPlugin(){return!0}}class wNe extends lt{constructor(e){super(e),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const e=this._getSelectedItems();this.value=this._getValue(e),this.isEnabled=!!e.length}execute(e={}){this.editor.model.change(t=>{const r=this._getSelectedItems(),i=e.forceValue===void 0?!this._getValue(r):e.forceValue;for(const s of r)i?t.setAttribute("todoListChecked",!0,s):t.removeAttribute("todoListChecked",s)})}_getValue(e){return e.every(t=>t.getAttribute("todoListChecked"))}_getSelectedItems(){const e=this.editor.model,t=e.schema,r=e.document.selection.getFirstRange(),i=r.start.parent,s=[];t.checkAttribute(i,"todoListChecked")&&s.push(...ll(i));for(const o of r.getItems({shallow:!0}))t.checkAttribute(o,"todoListChecked")&&!s.includes(o)&&s.push(...ll(o));return s}}class vNe extends Io{domEventType=["change"];onDomEvent(e){if(e.target){const t=this.view.domConverter.mapDomToView(e.target);t&&t.is("element","input")&&t.getAttribute("type")=="checkbox"&&t.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",e)}}}const _Ne=sv("Ctrl+Enter");class xNe extends ee{static get pluginName(){return"TodoListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[xi]}init(){const e=this.editor,t=e.model,r=e.editing,i=e.plugins.get(xi),o=e.config.get("list.multiBlock")?"paragraph":"listItem";e.commands.add("todoList",new Zm(e,"todo")),e.commands.add("checkTodoList",new wNe(e)),r.view.addObserver(vNe),t.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),t.schema.addAttributeCheck(a=>{const l=a.last;if(!l.getAttribute("listItemId")||l.getAttribute("listType")!="todo")return!1},"todoListChecked"),e.conversion.for("upcast").add(a=>{a.on("element:input",kNe()),a.on("element:li",ENe(),{priority:"low"}),a.on("element:label",EE({name:"label",classes:"todo-list__label"})),a.on("element:label",EE({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),a.on("element:span",EE({name:"span",classes:"todo-list__label__description"})),a.on("element:ul",TNe({name:"ul",classes:"todo-list"}))}),e.conversion.for("downcast").elementToElement({model:o,view:(a,{writer:l})=>{if(Z1(a,i.getListAttributeNames()))return l.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),i.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(a,l,u){l=="todo"?a.addClass("todo-list",u):a.removeClass("todo-list",u)}}),i.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(a,l,{dataPipeline:u}){if(l.getAttribute("listType")!="todo")return null;const f=a.createUIElement("input",{type:"checkbox",...l.getAttribute("todoListChecked")?{checked:"checked"}:null,...u?{disabled:"disabled"}:{tabindex:"-1"}});if(u)return f;const m=a.createContainerElement("span",{contenteditable:"false"},f);return m.getFillerOffset=()=>null,m},canWrapElement(a){return Z1(a,i.getListAttributeNames())},createWrapperElement(a,l,{dataPipeline:u}){const f=["todo-list__label"];return Z1(l,i.getListAttributeNames())||f.push("todo-list__label_without-description"),a.createAttributeElement(u?"label":"span",{class:f.join(" ")})}}),i.on("checkElement",(a,{modelElement:l,viewElement:u})=>{const f=Z1(l,i.getListAttributeNames());u.hasClass("todo-list__label__description")!=f&&(a.return=!0,a.stop())}),i.on("checkElement",(a,{modelElement:l,viewElement:u})=>{const f=l.getAttribute("listType")=="todo"&&ca(l);let m=!1;const p=e.editing.view.createPositionBefore(u).getWalker({direction:"backward"});for(const{item:y}of p){if(y.is("element")&&e.editing.mapper.toModelElement(y))break;y.is("element","input")&&y.getAttribute("type")=="checkbox"&&(m=!0)}m!=f&&(a.return=!0,a.stop())}),i.on("postFixer",(a,{listNodes:l,writer:u})=>{for(const{node:f,previousNodeInList:m}of l){if(!m||m.getAttribute("listItemId")!=f.getAttribute("listItemId"))continue;const p=m.hasAttribute("todoListChecked"),y=f.hasAttribute("todoListChecked");y&&!p?(u.removeAttribute("todoListChecked",f),a.return=!0):!y&&p&&(u.setAttribute("todoListChecked",!0,f),a.return=!0)}}),t.document.registerPostFixer(a=>{const l=t.document.differ.getChanges();let u=!1;for(const f of l)if(f.type=="attribute"&&f.attributeKey=="listType"){const m=f.range.start.nodeAfter;f.attributeOldValue=="todo"&&m.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",m),u=!0)}else if(f.type=="insert"&&f.name!="$text")for(const{item:m}of a.createRangeOn(f.position.nodeAfter))m.is("element")&&m.getAttribute("listType")!="todo"&&m.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",m),u=!0);return u}),this.listenTo(r.view.document,"keydown",(a,l)=>{Au(l)===_Ne&&(e.execute("checkTodoList"),a.stop())},{priority:"high"}),this.listenTo(r.view.document,"todoCheckboxChange",(a,l)=>{const u=l.target;if(!u||!u.is("element","input"))return;const f=r.view.createPositionAfter(u),p=r.mapper.toModelPosition(f).parent;p&&Mt(p)&&p.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(p)}),this.listenTo(r.view.document,"arrowKey",CNe(t,e.locale),{context:"$text"}),this.listenTo(r.mapper,"viewToModelPosition",(a,l)=>{const u=l.viewPosition.parent,f=u.is("attributeElement","li")&&l.viewPosition.offset==0,m=dM(u)&&l.viewPosition.offset<=1,p=u.is("element","span")&&u.getAttribute("contenteditable")=="false"&&dM(u.parent);if(!f&&!m&&!p)return;const y=l.modelPosition.nodeAfter;y&&y.getAttribute("listType")=="todo"&&(l.modelPosition=t.createPositionAt(y,0))},{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(e){const t=this.editor,r=t.model,i=Array.from(r.document.selection.getRanges());r.change(s=>{s.setSelection(e,"end"),t.execute("checkTodoList"),s.setSelection(i)})}_initAriaAnnouncements(){const{model:e,ui:t,t:r}=this.editor;let i=null;t&&e.document.selection.on("change:range",()=>{const s=e.document.selection.focus.parent,o=fM(i),a=fM(s);o&&!a?t.ariaLiveAnnouncer.announce(r("Leaving a to-do list")):!o&&a&&t.ariaLiveAnnouncer.announce(r("Entering a to-do list")),i=s})}}function ENe(){return(n,e,t)=>{const{writer:r,schema:i}=t;if(!e.modelRange)return;const s=Array.from(e.modelRange.getItems({shallow:!0})).filter(o=>o.getAttribute("listType")==="todo"&&i.checkAttribute(o,"listItemId")).reduce((o,a)=>{const l=a.getAttribute("listItemId");return o.has(l)||o.set(l,ll(a)),o},new Map);for(const[,o]of s.entries())if(o.some(a=>a.getAttribute("todoListChecked")))for(const a of o)r.setAttribute("todoListChecked",!0,a)}}function kNe(){return(n,e,t)=>{const r=e.modelCursor,i=r.parent,s=e.viewItem;if(!t.consumable.test(s,{name:!0})||s.getAttribute("type")!="checkbox"||!r.isAtStart||!i.hasAttribute("listType"))return;t.consumable.consume(s,{name:!0});const o=t.writer;o.setAttribute("listType","todo",i),e.viewItem.hasAttribute("checked")&&o.setAttribute("todoListChecked",!0,i),e.modelRange=o.createRange(r)}}function EE(n){const e=new la(n);return(t,r,i)=>{const s=e.match(r.viewItem);s&&i.consumable.consume(r.viewItem,s.match)&&Object.assign(r,i.convertChildren(r.viewItem,r.modelCursor))}}function TNe(n){const e=new la(n);return(t,r,i)=>{const s=e.match(r.viewItem);if(!s)return;const o=s.match;o.name=!1,i.consumable.consume(r.viewItem,o)}}function Z1(n,e){return(n.is("element","paragraph")||n.is("element","listItem"))&&n.getAttribute("listType")=="todo"&&ca(n)&&SNe(n,e)}function SNe(n,e){for(const t of n.getAttributeKeys())if(!t.startsWith("selection:")&&!e.includes(t))return!1;return!0}function CNe(n,e){return(t,r)=>{const i=ov(r.keyCode,e.contentLanguageDirection),s=n.schema,o=n.document.selection;if(!o.isCollapsed)return;const a=o.getFirstPosition(),l=a.parent;if(i=="right"&&a.isAtEnd){const u=s.getNearestSelectionRange(n.createPositionAfter(l),"forward");if(!u)return;const f=u.start.parent;f&&Mt(f)&&f.getAttribute("listType")=="todo"&&(n.change(m=>m.setSelection(u)),r.preventDefault(),r.stopPropagation(),t.stop())}else if(i=="left"&&a.isAtStart&&Mt(l)&&l.getAttribute("listType")=="todo"){const u=s.getNearestSelectionRange(n.createPositionBefore(l),"backward");if(!u)return;n.change(f=>f.setSelection(u)),r.preventDefault(),r.stopPropagation(),t.stop()}}}function dM(n){return!!n&&n.is("attributeElement")&&n.hasClass("todo-list__label")}function fM(n){return!n||!n.is("element","paragraph")&&!n.is("element","listItem")?!1:n.getAttribute("listType")=="todo"}class ANe extends ee{static get pluginName(){return"TodoListUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.t;nT(this.editor,"todoList",e("To-do List"),pxe)}}class NNe extends ee{static get requires(){return[xNe,ANe]}static get pluginName(){return"TodoList"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */xt.arrowup,xt.arrowdown,xt.esc;xt.enter,xt.tab;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const eb="removeFormat";class PNe extends ee{static get pluginName(){return"RemoveFormatUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add(eb,()=>{const t=this._createButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add(`menuBar:${eb}`,()=>this._createButton(xn))}_createButton(e){const t=this.editor,r=t.locale,i=t.commands.get(eb),s=new e(t.locale),o=r.t;return s.set({label:o("Remove Format"),icon:txe}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute(eb),t.editing.view.focus()}),s}}class RNe extends lt{_customAttributesHandlers=[];refresh(){const e=this.editor.model;this.isEnabled=!!_n(this._getFormattingItems(e.document.selection))}execute(){const e=this.editor.model;e.change(t=>{for(const r of this._getFormattingItems(e.document.selection))if(r.is("selection"))for(const i of this._getFormattingAttributes(r))t.removeSelectionAttribute(i);else{const i=t.createRangeOn(r);for(const s of this._getFormattingAttributes(r))this._removeFormatting(s,r,i,t)}})}registerCustomAttribute(e,t){this._customAttributesHandlers.push({isFormatting:e,removeFormatting:t})}_removeFormatting(e,t,r,i){let s=!1;for(const{isFormatting:o,removeFormatting:a}of this._customAttributesHandlers)o(e,t)&&(a(e,r,i),s=!0);s||i.removeAttribute(e,r)}*_getFormattingItems(e){const t=this.editor.model,r=t.schema,i=s=>!!_n(this._getFormattingAttributes(s));for(const s of e.getRanges())for(const o of s.getItems())r.isBlock(o)&&s.end.isTouching(t.createPositionAt(o,0))||i(o)&&(yield o);for(const s of e.getSelectedBlocks())i(s)&&(yield s);i(e)&&(yield e)}*_getFormattingAttributes(e){const t=this.editor.model.schema;for(const[r]of e.getAttributes()){for(const{isFormatting:s}of this._customAttributesHandlers)s(r,e)&&(yield r);const i=t.getAttributeProperties(r);i&&i.isFormatting&&(yield r)}}}class INe extends ee{static get pluginName(){return"RemoveFormatEditing"}static get licenseFeatureCode(){return"RF"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}init(){const e=this.editor;e.commands.add("removeFormat",new RNe(e))}}class ONe extends ee{static get requires(){return[INe,PNe]}static get pluginName(){return"RemoveFormat"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class MNe extends Le{tiles;focusTracker;keystrokes;constructor(e){super(e),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new Yt,this.keystrokes=new bn,K0({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>qe.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(e,t){const r=new et(this.locale);return r.set({label:e,withText:!0,class:"ck-character-grid__tile"}),r.extendTemplate({attributes:{title:t},on:{mouseover:r.bindTemplate.to("mouseover"),focus:r.bindTemplate.to("focus")}}),r.on("mouseover",()=>{this.fire("tileHover",{name:t,character:e})}),r.on("focus",()=>{this.fire("tileFocus",{name:t,character:e})}),r.on("execute",()=>{this.fire("execute",{name:t,character:e})}),r}render(){super.render();for(const e of this.tiles)this.focusTracker.add(e.element);this.tiles.on("change",(e,{added:t,removed:r})=>{if(t.length>0)for(const i of t)this.focusTracker.add(i.element);if(r.length>0)for(const i of r)this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}class DNe extends Le{constructor(e){super(e);const t=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",FNe),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:t.to("name",r=>r||"")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:t.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function FNe(n){return n===null?"":"U+"+("0000"+n.codePointAt(0).toString(16)).slice(-4)}class LNe extends Le{items;focusTracker;keystrokes;_focusCycler;categoriesView;gridView;infoView;constructor(e,t,r,i){super(e),this.categoriesView=t,this.gridView=r,this.infoView=i,this.items=this.createCollection(),this.focusTracker=new Yt,this.keystrokes=new bn,this._focusCycler=new kr({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.categoriesView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.categoriesView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class BNe extends Le{_groupNames;_dropdownView;constructor(e,t){super(e),this.set("currentGroupName",Array.from(t.entries())[0][0]),this._groupNames=t,this._dropdownView=new Yn(e,$C),this.setTemplate({tag:"div",attributes:{class:["ck","ck-character-categories"]},children:[this._dropdownView]})}render(){super.render(),this._setupDropdown()}focus(){this._dropdownView.focus()}_setupDropdown(){const e=new sr;for(const[i,s]of this._groupNames){const o={type:"button",model:new fc({name:i,label:s,role:"menuitemradio",withText:!0})};o.model.bind("isOn").to(this,"currentGroupName",a=>a===i),e.add(o)}const t=this.locale.t,r=t("Category");this._dropdownView.set({label:r,isEmpty:!1}),this._dropdownView.fieldView.panelPosition=this.locale.uiLanguageDirection==="rtl"?"se":"sw",this._dropdownView.fieldView.buttonView.set({withText:!0,tooltip:r,ariaLabel:r,ariaLabelledBy:void 0,isOn:!1}),this._dropdownView.fieldView.buttonView.bind("label").to(this,"currentGroupName",i=>this._groupNames.get(i)),this._dropdownView.fieldView.on("execute",({source:i})=>{this.currentGroupName=i.name}),vc(this._dropdownView.fieldView,e,{ariaLabel:r,role:"menu"})}}const kE="All";class VNe extends ee{_characters;_groups;_allSpecialCharactersGroupLabel;static get requires(){return[Z9,is]}static get pluginName(){return"SpecialCharacters"}static get licenseFeatureCode(){return"SCH"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}constructor(e){super(e);const t=e.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=t("All")}init(){const e=this.editor;e.ui.componentFactory.add("specialCharacters",()=>{const t=this._createDialogButton(et);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:specialCharacters",()=>this._createDialogButton(xn))}addItems(e,t,r={label:e}){if(e===kE)throw new q("special-character-invalid-group-name",null);const i=this._getGroup(e,r.label);for(const s of t)i.items.add(s.title),this._characters.set(s.title,s.character)}getGroups(){const e=Array.from(this._groups.keys()),t=this.editor.config.get("specialCharacters.order")||[],r=t.find(i=>!e.includes(i));if(r)throw new q("special-character-invalid-order-group-name",null,{invalidGroup:r});return new Set([...t,...e])}getCharactersForGroup(e){if(e===kE)return new Set(this._characters.keys());const t=this._groups.get(e);if(t)return t.items}getCharacter(e){return this._characters.get(e)}_getGroup(e,t){return this._groups.has(e)||this._groups.set(e,{items:new Set,label:t}),this._groups.get(e)}_updateGrid(e,t){t.tiles.clear();const r=this.getCharactersForGroup(e);for(const i of r){const s=this.getCharacter(i);t.tiles.add(t.createTile(s,i))}}_createDropdownPanelContent(e){const t=Array.from(this.getGroups()).map(a=>[a,this._groups.get(a).label]),r=new Map([[kE,this._allSpecialCharactersGroupLabel],...t]),i=new BNe(e,r),s=new MNe(e),o=new DNe(e);return s.on("tileHover",(a,l)=>{o.set(l)}),s.on("tileFocus",(a,l)=>{o.set(l)}),i.on("change:currentGroupName",(a,l,u)=>{this._updateGrid(u,s)}),this._updateGrid(i.currentGroupName,s),{categoriesView:i,gridView:s,infoView:o}}_createDialogButton(e){const t=this.editor,r=t.locale,i=new e(t.locale),s=t.commands.get("insertText"),o=r.t,a=this.editor.plugins.get("Dialog");return i.set({label:o("Special characters"),icon:sxe,isToggleable:!0}),i.bind("isOn").to(a,"id",l=>l==="specialCharacters"),i.bind("isEnabled").to(s,"isEnabled"),i.on("execute",()=>{if(a.id==="specialCharacters"){a.hide();return}this._showDialog()}),i}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),r=e.locale,i=r.t,{categoriesView:s,gridView:o,infoView:a}=this._createDropdownPanelContent(r),l=new LNe(r,s,o,a);o.on("execute",(u,f)=>{e.execute("insertText",{text:f.character})}),t.show({id:"specialCharacters",title:i("Special characters"),className:"ck-special-characters",content:l,position:ns.EDITOR_TOP_SIDE})}}class $z extends ee{static get pluginName(){return"SpecialCharactersArrows"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Arrows",[{title:t("leftwards simple arrow"),character:""},{title:t("rightwards simple arrow"),character:""},{title:t("upwards simple arrow"),character:""},{title:t("downwards simple arrow"),character:""},{title:t("leftwards double arrow"),character:""},{title:t("rightwards double arrow"),character:""},{title:t("upwards double arrow"),character:""},{title:t("downwards double arrow"),character:""},{title:t("leftwards dashed arrow"),character:""},{title:t("rightwards dashed arrow"),character:""},{title:t("upwards dashed arrow"),character:""},{title:t("downwards dashed arrow"),character:""},{title:t("leftwards arrow to bar"),character:""},{title:t("rightwards arrow to bar"),character:""},{title:t("upwards arrow to bar"),character:""},{title:t("downwards arrow to bar"),character:""},{title:t("up down arrow with base"),character:""},{title:t("back with leftwards arrow above"),character:""},{title:t("end with leftwards arrow above"),character:""},{title:t("on with exclamation mark with left right arrow above"),character:""},{title:t("soon with rightwards arrow above"),character:""},{title:t("top with upwards arrow above"),character:""}],{label:t("Arrows")})}}class Wz extends ee{static get pluginName(){return"SpecialCharactersText"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Text",[{character:"",title:t("Single left-pointing angle quotation mark")},{character:"",title:t("Single right-pointing angle quotation mark")},{character:"",title:t("Left-pointing double angle quotation mark")},{character:"",title:t("Right-pointing double angle quotation mark")},{character:"",title:t("Left single quotation mark")},{character:"",title:t("Right single quotation mark")},{character:"",title:t("Left double quotation mark")},{character:"",title:t("Right double quotation mark")},{character:"",title:t("Single low-9 quotation mark")},{character:"",title:t("Double low-9 quotation mark")},{character:"",title:t("Inverted exclamation mark")},{character:"",title:t("Inverted question mark")},{character:"",title:t("Two dot leader")},{character:"",title:t("Horizontal ellipsis")},{character:"",title:t("Double dagger")},{character:"",title:t("Per mille sign")},{character:"",title:t("Per ten thousand sign")},{character:"",title:t("Double exclamation mark")},{character:"",title:t("Question exclamation mark")},{character:"",title:t("Exclamation question mark")},{character:"",title:t("Double question mark")},{character:"",title:t("Copyright sign")},{character:"",title:t("Registered sign")},{character:"",title:t("Trade mark sign")},{character:"",title:t("Section sign")},{character:"",title:t("Paragraph sign")},{character:"",title:t("Reversed paragraph sign")}],{label:t("Text")})}}class jz extends ee{static get pluginName(){return"SpecialCharactersMathematical"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:t("Less-than sign")},{character:">",title:t("Greater-than sign")},{character:"",title:t("Less-than or equal to")},{character:"",title:t("Greater-than or equal to")},{character:"",title:t("En dash")},{character:"",title:t("Em dash")},{character:"",title:t("Macron")},{character:"",title:t("Overline")},{character:"",title:t("Degree sign")},{character:"",title:t("Minus sign")},{character:"",title:t("Plus-minus sign")},{character:"",title:t("Division sign")},{character:"",title:t("Fraction slash")},{character:"",title:t("Multiplication sign")},{character:"",title:t("Latin small letter f with hook")},{character:"",title:t("Integral")},{character:"",title:t("N-ary summation")},{character:"",title:t("Infinity")},{character:"",title:t("Square root")},{character:"",title:t("Tilde operator")},{character:"",title:t("Approximately equal to")},{character:"",title:t("Almost equal to")},{character:"",title:t("Not equal to")},{character:"",title:t("Identical to")},{character:"",title:t("Element of")},{character:"",title:t("Not an element of")},{character:"",title:t("Contains as member")},{character:"",title:t("N-ary product")},{character:"",title:t("Logical and")},{character:"",title:t("Logical or")},{character:"",title:t("Not sign")},{character:"",title:t("Intersection")},{character:"",title:t("Union")},{character:"",title:t("Partial differential")},{character:"",title:t("For all")},{character:"",title:t("There exists")},{character:"",title:t("Empty set")},{character:"",title:t("Nabla")},{character:"",title:t("Asterisk operator")},{character:"",title:t("Proportional to")},{character:"",title:t("Angle")},{character:"",title:t("Vulgar fraction one quarter")},{character:"",title:t("Vulgar fraction one half")},{character:"",title:t("Vulgar fraction three quarters")}],{label:t("Mathematical")})}}class qz extends ee{static get pluginName(){return"SpecialCharactersLatin"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Latin",[{character:"",title:t("Latin capital letter a with macron")},{character:"",title:t("Latin small letter a with macron")},{character:"",title:t("Latin capital letter a with breve")},{character:"",title:t("Latin small letter a with breve")},{character:"",title:t("Latin capital letter a with ogonek")},{character:"",title:t("Latin small letter a with ogonek")},{character:"",title:t("Latin capital letter c with acute")},{character:"",title:t("Latin small letter c with acute")},{character:"",title:t("Latin capital letter c with circumflex")},{character:"",title:t("Latin small letter c with circumflex")},{character:"",title:t("Latin capital letter c with dot above")},{character:"",title:t("Latin small letter c with dot above")},{character:"",title:t("Latin capital letter c with caron")},{character:"",title:t("Latin small letter c with caron")},{character:"",title:t("Latin capital letter d with caron")},{character:"",title:t("Latin small letter d with caron")},{character:"",title:t("Latin capital letter d with stroke")},{character:"",title:t("Latin small letter d with stroke")},{character:"",title:t("Latin capital letter e with macron")},{character:"",title:t("Latin small letter e with macron")},{character:"",title:t("Latin capital letter e with breve")},{character:"",title:t("Latin small letter e with breve")},{character:"",title:t("Latin capital letter e with dot above")},{character:"",title:t("Latin small letter e with dot above")},{character:"",title:t("Latin capital letter e with ogonek")},{character:"",title:t("Latin small letter e with ogonek")},{character:"",title:t("Latin capital letter e with caron")},{character:"",title:t("Latin small letter e with caron")},{character:"",title:t("Latin capital letter g with circumflex")},{character:"",title:t("Latin small letter g with circumflex")},{character:"",title:t("Latin capital letter g with breve")},{character:"",title:t("Latin small letter g with breve")},{character:"",title:t("Latin capital letter g with dot above")},{character:"",title:t("Latin small letter g with dot above")},{character:"",title:t("Latin capital letter g with cedilla")},{character:"",title:t("Latin small letter g with cedilla")},{character:"",title:t("Latin capital letter h with circumflex")},{character:"",title:t("Latin small letter h with circumflex")},{character:"",title:t("Latin capital letter h with stroke")},{character:"",title:t("Latin small letter h with stroke")},{character:"",title:t("Latin capital letter i with tilde")},{character:"",title:t("Latin small letter i with tilde")},{character:"",title:t("Latin capital letter i with macron")},{character:"",title:t("Latin small letter i with macron")},{character:"",title:t("Latin capital letter i with breve")},{character:"",title:t("Latin small letter i with breve")},{character:"",title:t("Latin capital letter i with ogonek")},{character:"",title:t("Latin small letter i with ogonek")},{character:"",title:t("Latin capital letter i with dot above")},{character:"",title:t("Latin small letter dotless i")},{character:"",title:t("Latin capital ligature ij")},{character:"",title:t("Latin small ligature ij")},{character:"",title:t("Latin capital letter j with circumflex")},{character:"",title:t("Latin small letter j with circumflex")},{character:"",title:t("Latin capital letter k with cedilla")},{character:"",title:t("Latin small letter k with cedilla")},{character:"",title:t("Latin small letter kra")},{character:"",title:t("Latin capital letter l with acute")},{character:"",title:t("Latin small letter l with acute")},{character:"",title:t("Latin capital letter l with cedilla")},{character:"",title:t("Latin small letter l with cedilla")},{character:"",title:t("Latin capital letter l with caron")},{character:"",title:t("Latin small letter l with caron")},{character:"",title:t("Latin capital letter l with middle dot")},{character:"",title:t("Latin small letter l with middle dot")},{character:"",title:t("Latin capital letter l with stroke")},{character:"",title:t("Latin small letter l with stroke")},{character:"",title:t("Latin capital letter n with acute")},{character:"",title:t("Latin small letter n with acute")},{character:"",title:t("Latin capital letter n with cedilla")},{character:"",title:t("Latin small letter n with cedilla")},{character:"",title:t("Latin capital letter n with caron")},{character:"",title:t("Latin small letter n with caron")},{character:"",title:t("Latin small letter n preceded by apostrophe")},{character:"",title:t("Latin capital letter eng")},{character:"",title:t("Latin small letter eng")},{character:"",title:t("Latin capital letter o with macron")},{character:"",title:t("Latin small letter o with macron")},{character:"",title:t("Latin capital letter o with breve")},{character:"",title:t("Latin small letter o with breve")},{character:"",title:t("Latin capital letter o with double acute")},{character:"",title:t("Latin small letter o with double acute")},{character:"",title:t("Latin capital ligature oe")},{character:"",title:t("Latin small ligature oe")},{character:"",title:t("Latin capital letter r with acute")},{character:"",title:t("Latin small letter r with acute")},{character:"",title:t("Latin capital letter r with cedilla")},{character:"",title:t("Latin small letter r with cedilla")},{character:"",title:t("Latin capital letter r with caron")},{character:"",title:t("Latin small letter r with caron")},{character:"",title:t("Latin capital letter s with acute")},{character:"",title:t("Latin small letter s with acute")},{character:"",title:t("Latin capital letter s with circumflex")},{character:"",title:t("Latin small letter s with circumflex")},{character:"",title:t("Latin capital letter s with cedilla")},{character:"",title:t("Latin small letter s with cedilla")},{character:"",title:t("Latin capital letter s with caron")},{character:"",title:t("Latin small letter s with caron")},{character:"",title:t("Latin capital letter t with cedilla")},{character:"",title:t("Latin small letter t with cedilla")},{character:"",title:t("Latin capital letter t with caron")},{character:"",title:t("Latin small letter t with caron")},{character:"",title:t("Latin capital letter t with stroke")},{character:"",title:t("Latin small letter t with stroke")},{character:"",title:t("Latin capital letter u with tilde")},{character:"",title:t("Latin small letter u with tilde")},{character:"",title:t("Latin capital letter u with macron")},{character:"",title:t("Latin small letter u with macron")},{character:"",title:t("Latin capital letter u with breve")},{character:"",title:t("Latin small letter u with breve")},{character:"",title:t("Latin capital letter u with ring above")},{character:"",title:t("Latin small letter u with ring above")},{character:"",title:t("Latin capital letter u with double acute")},{character:"",title:t("Latin small letter u with double acute")},{character:"",title:t("Latin capital letter u with ogonek")},{character:"",title:t("Latin small letter u with ogonek")},{character:"",title:t("Latin capital letter w with circumflex")},{character:"",title:t("Latin small letter w with circumflex")},{character:"",title:t("Latin capital letter y with circumflex")},{character:"",title:t("Latin small letter y with circumflex")},{character:"",title:t("Latin capital letter y with diaeresis")},{character:"",title:t("Latin capital letter z with acute")},{character:"",title:t("Latin small letter z with acute")},{character:"",title:t("Latin capital letter z with dot above")},{character:"",title:t("Latin small letter z with dot above")},{character:"",title:t("Latin capital letter z with caron")},{character:"",title:t("Latin small letter z with caron")},{character:"",title:t("Latin small letter long s")}],{label:t("Latin")})}}class Gz extends ee{static get pluginName(){return"SpecialCharactersCurrency"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:t("Dollar sign")},{character:"",title:t("Euro sign")},{character:"",title:t("Yen sign")},{character:"",title:t("Pound sign")},{character:"",title:t("Cent sign")},{character:"",title:t("Euro-currency sign")},{character:"",title:t("Colon sign")},{character:"",title:t("Cruzeiro sign")},{character:"",title:t("French franc sign")},{character:"",title:t("Lira sign")},{character:"",title:t("Currency sign")},{character:"",title:t("Bitcoin sign")},{character:"",title:t("Mill sign")},{character:"",title:t("Naira sign")},{character:"",title:t("Peseta sign")},{character:"",title:t("Rupee sign")},{character:"",title:t("Won sign")},{character:"",title:t("New sheqel sign")},{character:"",title:t("Dong sign")},{character:"",title:t("Kip sign")},{character:"",title:t("Tugrik sign")},{character:"",title:t("Drachma sign")},{character:"",title:t("German penny sign")},{character:"",title:t("Peso sign")},{character:"",title:t("Guarani sign")},{character:"",title:t("Austral sign")},{character:"",title:t("Hryvnia sign")},{character:"",title:t("Cedi sign")},{character:"",title:t("Livre tournois sign")},{character:"",title:t("Spesmilo sign")},{character:"",title:t("Tenge sign")},{character:"",title:t("Indian rupee sign")},{character:"",title:t("Turkish lira sign")},{character:"",title:t("Nordic mark sign")},{character:"",title:t("Manat sign")},{character:"",title:t("Ruble sign")}],{label:t("Currency")})}}class UNe extends ee{static get pluginName(){return"SpecialCharactersEssentials"}static get isOfficialPlugin(){return!0}static get requires(){return[Gz,Wz,jz,$z,qz]}}function zNe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class HNe extends et{styleDefinition;previewView;constructor(e,t){super(e),this.styleDefinition=t,this.previewView=this._createPreview(),this.set({label:t.name,class:"ck-style-grid__button",withText:!0}),this.extendTemplate({attributes:{role:"option"}}),this.children.add(this.previewView,0)}_createPreview(){const e=new Le(this.locale);return e.setTemplate({tag:"div",attributes:{class:["ck","ck-reset_all-excluded","ck-style-grid__button__preview","ck-content"],"aria-hidden":"true"},children:[this.styleDefinition.previewTemplate]}),e}}class $Ne extends Le{focusTracker;keystrokes;children;constructor(e,t){super(e),this.focusTracker=new Yt,this.keystrokes=new bn,this.set("activeStyles",[]),this.set("enabledStyles",[]),this.children=this.createCollection(),this.children.delegate("execute").to(this);for(const r of t){const i=new HNe(e,r);this.children.add(i)}this.on("change:activeStyles",()=>{for(const r of this.children)r.isOn=this.activeStyles.includes(r.styleDefinition.name)}),this.on("change:enabledStyles",()=>{for(const r of this.children)r.isEnabled=this.enabledStyles.includes(r.styleDefinition.name)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-grid"],role:"listbox"},children:this.children})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element);K0({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.children,numberOfColumns:3,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection}),this.keystrokes.listenTo(this.element)}focus(){this.children.first.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class hM extends Le{gridView;labelView;constructor(e,t,r){super(e),this.labelView=new Us(e),this.labelView.text=t,this.gridView=new $Ne(e,r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel__style-group"],role:"group","aria-labelledby":this.labelView.id},children:[this.labelView,this.gridView]})}}class WNe extends Le{focusTracker;keystrokes;children;blockStylesGroupView;inlineStylesGroupView;_focusables;_focusCycler;constructor(e,t){super(e);const r=e.t;this.focusTracker=new Yt,this.keystrokes=new bn,this.children=this.createCollection(),this.blockStylesGroupView=new hM(e,r("Block styles"),t.block),this.inlineStylesGroupView=new hM(e,r("Text styles"),t.inline),this.set("activeStyles",[]),this.set("enabledStyles",[]),this._focusables=new pr,this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["shift + tab"],focusNext:["tab"]}}),t.block.length&&this.children.add(this.blockStylesGroupView),t.inline.length&&this.children.add(this.inlineStylesGroupView),this.blockStylesGroupView.gridView.delegate("execute").to(this),this.inlineStylesGroupView.gridView.delegate("execute").to(this),this.blockStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.inlineStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel"]},children:this.children})}render(){super.render(),this._focusables.add(this.blockStylesGroupView.gridView),this._focusables.add(this.inlineStylesGroupView.gridView),this.focusTracker.add(this.blockStylesGroupView.gridView.element),this.focusTracker.add(this.inlineStylesGroupView.gridView.element),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}const jNe=["caption","colgroup","dd","dt","figcaption","legend","li","optgroup","option","rp","rt","summary","tbody","td","tfoot","th","thead","tr"];class cl extends ee{_htmlSupport;static get pluginName(){return"StyleUtils"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.decorate("isStyleEnabledForBlock"),this.decorate("isStyleActiveForBlock"),this.decorate("getAffectedBlocks"),this.decorate("isStyleEnabledForInlineSelection"),this.decorate("isStyleActiveForInlineSelection"),this.decorate("getAffectedInlineSelectable"),this.decorate("getStylePreview"),this.decorate("configureGHSDataFilter")}init(){this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport")}normalizeConfig(e,t=[]){const r={block:[],inline:[]};for(const i of t){const s=[],o=[];for(const l of e.getDefinitionsForView(i.element)){const u="appliesToBlock"in l?l.appliesToBlock:!1;if(l.isBlock||u){if(typeof u=="string")s.push(u);else if(l.isBlock){const f=l;s.push(l.model),f.paragraphLikeModel&&s.push(f.paragraphLikeModel)}}else o.push(l.model)}const a=this.getStylePreview(i,[{text:"AaBbCcDdEeFfGgHhIiJj"}]);s.length?r.block.push({...i,previewTemplate:a,modelElements:s,isBlock:!0}):r.inline.push({...i,previewTemplate:a,ghsAttributes:o})}return r}isStyleEnabledForBlock(e,t){const r=this.editor.model,i=this._htmlSupport.getGhsAttributeNameForElement(e.element);return r.schema.checkAttribute(t,i)?e.modelElements.includes(t.name):!1}isStyleActiveForBlock(e,t){const r=this._htmlSupport.getGhsAttributeNameForElement(e.element),i=t.getAttribute(r);return this.hasAllClasses(i,e.classes)}getAffectedBlocks(e,t){return e.modelElements.includes(t.name)?[t]:null}isStyleEnabledForInlineSelection(e,t){const r=this.editor.model;for(const i of e.ghsAttributes)if(r.schema.checkAttributeInSelection(t,i))return!0;return!1}isStyleActiveForInlineSelection(e,t){for(const r of e.ghsAttributes){const i=this._getValueFromFirstAllowedNode(t,r);if(this.hasAllClasses(i,e.classes))return!0}return!1}getAffectedInlineSelectable(e,t){return t}getStylePreview(e,t){const{element:r,classes:i}=e;return{tag:GNe(r)?r:"div",attributes:{class:i},children:t}}hasAllClasses(e,t){return zNe(e)&&qNe(e)&&t.every(r=>e.classes.includes(r))}configureGHSDataFilter({block:e,inline:t}){const r=this.editor.plugins.get("DataFilter");r.loadAllowedConfig(e.map(mM)),r.loadAllowedConfig(t.map(mM))}_getValueFromFirstAllowedNode(e,t){const i=this.editor.model.schema;if(e.isCollapsed)return e.getAttribute(t);for(const s of e.getRanges())for(const o of s.getItems())if(i.checkAttribute(o,t))return o.getAttribute(t);return null}}function qNe(n){return!!n.classes&&Array.isArray(n.classes)}function GNe(n){return!jNe.includes(n)}function mM({element:n,classes:e}){return{name:n,classes:e}}class YNe extends ee{static get pluginName(){return"StyleUI"}static get isOfficialPlugin(){return!0}static get requires(){return[cl]}init(){const e=this.editor,t=e.plugins.get("DataSchema"),r=e.plugins.get("StyleUtils"),i=e.config.get("style.definitions"),s=r.normalizeConfig(t,i);e.ui.componentFactory.add("style",o=>{const a=o.t,l=Er(o),u=e.commands.get("style");return l.once("change:isOpen",()=>{const f=new WNe(o,s);l.panelView.children.add(f),f.delegate("execute").to(l),f.bind("activeStyles").to(u,"value"),f.bind("enabledStyles").to(u,"enabledStyles")}),l.bind("isEnabled").to(u),l.buttonView.withText=!0,l.buttonView.bind("label").to(u,"value",f=>f.length>1?a("Multiple styles"):f.length===1?f[0]:a("Styles")),l.bind("class").to(u,"value",f=>{const m=["ck-style-dropdown"];return f.length>1&&m.push("ck-style-dropdown_multiple-active"),m.join(" ")}),l.on("execute",f=>{e.execute("style",{styleName:f.source.styleDefinition.name}),e.editing.view.focus()}),l})}}class KNe extends lt{_styleDefinitions;_styleUtils;constructor(e,t){super(e),this.set("value",[]),this.set("enabledStyles",[]),this._styleDefinitions=t,this._styleUtils=this.editor.plugins.get(cl)}refresh(){const e=this.editor.model,t=e.document.selection,r=new Set,i=new Set;for(const o of this._styleDefinitions.inline)this._styleUtils.isStyleEnabledForInlineSelection(o,t)&&i.add(o.name),this._styleUtils.isStyleActiveForInlineSelection(o,t)&&r.add(o.name);const s=_n(t.getSelectedBlocks())||t.getFirstPosition().parent;if(s){const o=s.getAncestors({includeSelf:!0,parentFirst:!0});for(const a of o){if(a.is("rootElement"))break;for(const l of this._styleDefinitions.block)this._styleUtils.isStyleEnabledForBlock(l,a)&&(i.add(l.name),this._styleUtils.isStyleActiveForBlock(l,a)&&r.add(l.name));if(e.schema.isObject(a))break}}this.enabledStyles=Array.from(i).sort(),this.isEnabled=this.enabledStyles.length>0,this.value=this.isEnabled?Array.from(r).sort():[]}execute({styleName:e,forceValue:t}){if(!this.enabledStyles.includes(e)){It("style-command-executed-with-incorrect-style-name");return}const r=this.editor.model,i=r.document.selection,s=this.editor.plugins.get("GeneralHtmlSupport"),o=[...this._styleDefinitions.inline,...this._styleDefinitions.block],a=o.filter(({name:f})=>this.value.includes(f)),l=o.find(({name:f})=>f==e),u=t===void 0?!this.value.includes(l.name):t;r.change(()=>{let f;JNe(l)?f=this._findAffectedBlocks(QNe(i),l):f=[this._styleUtils.getAffectedInlineSelectable(l,i)];for(const m of f)u?s.addModelHtmlClass(l.element,l.classes,m):s.removeModelHtmlClass(l.element,XNe(a,l),m)})}_findAffectedBlocks(e,t){const r=new Set;for(const i of e){const s=i.getAncestors({includeSelf:!0,parentFirst:!0});for(const o of s){if(o.is("rootElement"))break;const a=this._styleUtils.getAffectedBlocks(t,o);if(a){for(const l of a)r.add(l);break}}}return r}}function XNe(n,e){return n.reduce((t,r)=>r.name===e.name?t:t.filter(i=>!r.classes.includes(i)),e.classes)}function JNe(n){return"isBlock"in n}function QNe(n){const e=Array.from(n.getSelectedBlocks());return e.length?e:[n.getFirstPosition().parent]}class ZNe extends ee{_listUtils;_styleUtils;_htmlSupport;static get pluginName(){return"ListStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[cl,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("ListEditing")&&(this._styleUtils=e.plugins.get(cl),this._listUtils=this.editor.plugins.get("ListUtils"),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(t,[r,i])=>{this._isStyleEnabledForBlock(r,i)&&(t.return=!0,t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForBlock",(t,[r,i])=>{this._isStyleActiveForBlock(r,i)&&(t.return=!0,t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(t,[r,i])=>{const s=this._getAffectedBlocks(r,i);s&&(t.return=s,t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getStylePreview",(t,[r,i])=>{const s=this._getStylePreview(r,i);s&&(t.return=s,t.stop())},{priority:"high"}))}_isStyleEnabledForBlock(e,t){const r=this.editor.model;if(!["ol","ul","li"].includes(e.element)||!this._listUtils.isListItemBlock(t))return!1;const i=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(e.element=="ol"||e.element=="ul"){if(!r.schema.checkAttribute(t,i))return!1;const o=this._listUtils.isNumberedListType(t.getAttribute("listType"))?"ol":"ul";return e.element==o}else return r.schema.checkAttribute(t,i)}_isStyleActiveForBlock(e,t){const r=this._htmlSupport.getGhsAttributeNameForElement(e.element),i=t.getAttribute(r);return this._styleUtils.hasAllClasses(i,e.classes)}_getAffectedBlocks(e,t){return this._isStyleEnabledForBlock(e,t)?e.element=="li"?this._listUtils.expandListBlocksToCompleteItems(t,{withNested:!1}):this._listUtils.expandListBlocksToCompleteList(t):null}_getStylePreview(e,t){const{element:r,classes:i}=e;return r=="ol"||r=="ul"?{tag:r,attributes:{class:i},children:[{tag:"li",children:t}]}:r=="li"?{tag:"ol",children:[{tag:r,attributes:{class:i},children:t}]}:null}}class ePe extends ee{_tableUtils;_styleUtils;static get pluginName(){return"TableStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[cl]}init(){const e=this.editor;e.plugins.has("TableEditing")&&(this._styleUtils=e.plugins.get(cl),this._tableUtils=this.editor.plugins.get("TableUtils"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(t,[r,i])=>{this._isApplicable(r,i)&&(t.return=this._isStyleEnabledForBlock(r,i),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(t,[r,i])=>{this._isApplicable(r,i)&&(t.return=this._getAffectedBlocks(r,i),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"configureGHSDataFilter",(t,[{block:r}])=>{this.editor.plugins.get("DataFilter").loadAllowedConfig(r.filter(s=>s.element=="figcaption").map(s=>({name:"caption",classes:s.classes})))}))}_isApplicable(e,t){return["td","th"].includes(e.element)?t.name=="tableCell":["thead","tbody"].includes(e.element)?t.name=="table":!1}_isStyleEnabledForBlock(e,t){if(["td","th"].includes(e.element)){const r=this._tableUtils.getCellLocation(t),s=t.parent.parent,o=s.getAttribute("headingRows")||0,a=s.getAttribute("headingColumns")||0,l=r.row<o||r.column<a;return e.element=="th"?l:!l}if(["thead","tbody"].includes(e.element)){const r=t.getAttribute("headingRows")||0;return e.element=="thead"?r>0:r<this._tableUtils.getRows(t)}/* istanbul ignore next -- @preserve */return!1}_getAffectedBlocks(e,t){return this._isStyleEnabledForBlock(e,t)?[t]:null}}class tPe extends ee{_styleUtils;_htmlSupport;static get pluginName(){return"LinkStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[cl,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("LinkEditing")&&(this._styleUtils=e.plugins.get(cl),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForInlineSelection",(t,[r,i])=>{r.element=="a"&&(t.return=this._isStyleEnabled(r,i),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForInlineSelection",(t,[r,i])=>{r.element=="a"&&(t.return=this._isStyleActive(r,i),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedInlineSelectable",(t,[r,i])=>{if(r.element!="a")return;const s=this._getAffectedSelectable(r,i);s&&(t.return=s,t.stop())},{priority:"high"}))}_isStyleEnabled(e,t){const r=this.editor.model;if(t.isCollapsed)return t.hasAttribute("linkHref");for(const i of t.getRanges())for(const s of i.getItems())if((s.is("$textProxy")||r.schema.isInline(s))&&s.hasAttribute("linkHref"))return!0;return!1}_isStyleActive(e,t){const r=this.editor.model,i=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(t.isCollapsed){if(t.hasAttribute("linkHref")){const s=t.getAttribute(i);if(this._styleUtils.hasAllClasses(s,e.classes))return!0}return!1}for(const s of t.getRanges())for(const o of s.getItems())if((o.is("$textProxy")||r.schema.isInline(o))&&o.hasAttribute("linkHref")){const a=o.getAttribute(i);return this._styleUtils.hasAllClasses(a,e.classes)}return!1}_getAffectedSelectable(e,t){const r=this.editor.model;if(t.isCollapsed){const s=t.getAttribute("linkHref");return Q0(t.getFirstPosition(),"linkHref",s,r)}const i=[];for(const s of t.getRanges()){const o=r.createRange(gM(s.start,"linkHref",!0,r),gM(s.end,"linkHref",!1,r));for(const a of o.getItems())(a.is("$textProxy")||r.schema.isInline(a))&&a.hasAttribute("linkHref")&&i.push(this.editor.model.createRangeOn(a))}return nPe(i)}}function gM(n,e,t,r){const i=n.textNode||(t?n.nodeAfter:n.nodeBefore);if(!i||!i.hasAttribute(e))return n;const s=i.getAttribute(e);return Hk(n,e,s,t,r)}function nPe(n){for(let e=1;e<n.length;e++){const t=n[e-1].getJoined(n[e]);t&&n.splice(--e,2,t)}return n}class rPe extends ee{static get pluginName(){return"StyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return["GeneralHtmlSupport",cl,ZNe,ePe,tPe]}init(){const e=this.editor,t=e.plugins.get("DataSchema"),r=e.plugins.get("StyleUtils"),i=e.config.get("style.definitions"),s=r.normalizeConfig(t,i);e.commands.add("style",new KNe(e,s)),r.configureGHSDataFilter(s)}}class iPe extends ee{static get pluginName(){return"Style"}static get isOfficialPlugin(){return!0}static get requires(){return[rPe,YNe]}}function sPe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function oPe(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function pM(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function bM(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const aPe="[object RegExp]",lPe="[object String]",cPe="[object Number]",uPe="[object Boolean]",yM="[object Arguments]",dPe="[object Symbol]",fPe="[object Date]",hPe="[object Map]",mPe="[object Set]",gPe="[object Array]",pPe="[object Function]",bPe="[object ArrayBuffer]",TE="[object Object]",yPe="[object Error]",wPe="[object DataView]",vPe="[object Uint8Array]",_Pe="[object Uint8ClampedArray]",xPe="[object Uint16Array]",EPe="[object Uint32Array]",kPe="[object BigUint64Array]",TPe="[object Int8Array]",SPe="[object Int16Array]",CPe="[object Int32Array]",APe="[object BigInt64Array]",NPe="[object Float32Array]",PPe="[object Float64Array]";function RPe(n,e,{signal:t,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},u=()=>{a&&l(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,u()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),i=void 0,s=null},v=()=>{p(),l()},w=function(...E){if(t?.aborted)return;i=this,s=E;const k=f==null;m(),o&&k&&l()};return w.schedule=m,w.cancel=y,w.flush=v,t?.addEventListener("abort",y,{once:!0}),w}function dA(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!1,trailing:i=!0,maxWait:s}=t,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let a,l=null;const u=RPe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),u.cancel(),u.schedule(),a):(u.apply(this,p),a)},m=()=>(u.flush(),a);return f.cancel=u.cancel,f.flush=m,f}function IPe(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:r=!0,trailing:i=!0}=t;return dA(n,e,{leading:r,trailing:i,maxWait:e})}function wM(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function OPe(n,e,t){return eg(n,e,void 0,void 0,void 0,void 0,t)}function eg(n,e,t,r,i,s,o){const a=o(n,e,t,r,i,s);if(a!==void 0)return a;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return Sg(n,e,s,o)}return Sg(n,e,s,o)}function Sg(n,e,t,r){if(Object.is(n,e))return!0;let i=bM(n),s=bM(e);if(i===yM&&(i=TE),s===yM&&(s=TE),i!==s)return!1;switch(i){case lPe:return n.toString()===e.toString();case cPe:{const l=n.valueOf(),u=e.valueOf();return oPe(l,u)}case uPe:case fPe:case dPe:return Object.is(n.valueOf(),e.valueOf());case aPe:return n.source===e.source&&n.flags===e.flags;case pPe:return n===e}t=t??new Map;const o=t.get(n),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(n,e),t.set(e,n);try{switch(i){case hPe:{if(n.size!==e.size)return!1;for(const[l,u]of n.entries())if(!e.has(l)||!eg(u,e.get(l),l,n,e,t,r))return!1;return!0}case mPe:{if(n.size!==e.size)return!1;const l=Array.from(n.values()),u=Array.from(e.values());for(let f=0;f<l.length;f++){const m=l[f],p=u.findIndex(y=>eg(m,y,void 0,n,e,t,r));if(p===-1)return!1;u.splice(p,1)}return!0}case gPe:case vPe:case _Pe:case xPe:case EPe:case kPe:case TPe:case SPe:case CPe:case APe:case NPe:case PPe:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let l=0;l<n.length;l++)if(!eg(n[l],e[l],l,n,e,t,r))return!1;return!0}case bPe:return n.byteLength!==e.byteLength?!1:Sg(new Uint8Array(n),new Uint8Array(e),t,r);case wPe:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:Sg(new Uint8Array(n),new Uint8Array(e),t,r);case yPe:return n.name===e.name&&n.message===e.message;case TE:{if(!(Sg(n.constructor,e.constructor,t,r)||wM(n)&&wM(e)))return!1;const u=[...Object.keys(n),...pM(n)],f=[...Object.keys(e),...pM(e)];if(u.length!==f.length)return!1;for(let m=0;m<u.length;m++){const p=u[m],y=n[p];if(!Object.hasOwn(e,p))return!1;const v=e[p];if(!eg(y,v,p,n,e,t,r))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function MPe(){}function vM(n,e){return OPe(n,e,MPe)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const DPe=/^(left|center|right)$/,FPe=/^(left|none|right)$/;function fA(n,e){const{modelAttribute:t,styleName:r,attributeName:i,attributeType:s,viewElement:o,defaultValue:a,shouldUpcast:l=()=>!0,reduceBoxSides:u=!1}=e;n.for("upcast").attributeToAttribute({view:{name:o,styles:{[r]:/[\s\S]+/}},model:{key:t,value:(f,m,p)=>{if(!l(f))return;const y=vo(a,"",p),v=f.getNormalizedStyle(r),w=u?Lb(v):v;if(y!==w)return w;m.consumable.consume(f,{styles:r})}}}),i&&n.for("upcast").attributeToAttribute({view:{name:o,attributes:{[i]:/.+/}},model:{key:t,value:(f,m,p)=>{if(f.name=="figure"||f.hasStyle(r)||f.name=="table"&&f.parent.name=="figure"&&f.parent.hasStyle(r))return;const y=vo(a,"",p);let v=f.getAttribute(i);if(v&&s=="length"&&!v.endsWith("px")&&(v+="px"),y!==v)return v;m.consumable.consume(f,{attributes:i})}}})}function iT(n,e,t,r){const{conversion:i}=n;i.for("upcast").add(s=>s.on("element:"+e,(o,a,l)=>{if(!a.modelRange)return;const u=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(E=>a.viewItem.hasStyle(E));if(!u.length)return;const f={styles:u};if(!l.consumable.test(a.viewItem,f))return;const m=[...a.modelRange.getItems({shallow:!0})].pop(),p=m.findAncestor("table",{includeSelf:!0});let y=r;p&&p.getAttribute("tableType")=="layout"&&(y={style:"none",color:"",width:""}),l.consumable.consume(a.viewItem,f);const v={style:a.viewItem.getNormalizedStyle("border-style"),color:a.viewItem.getNormalizedStyle("border-color"),width:a.viewItem.getNormalizedStyle("border-width")},w={style:Lb(v.style),color:Lb(v.color),width:Lb(v.width)};w.style!==y.style&&l.writer.setAttribute(t.style,w.style,m),w.color!==y.color&&l.writer.setAttribute(t.color,w.color,m),w.width!==y.width&&l.writer.setAttribute(t.width,w.width,m)})),n.config.get("experimentalFlags.upcastTableBorderZeroAttributes")&&i.for("upcast").add(s=>{s.on(`element:${e}`,(o,a,l)=>{const{modelRange:u,viewItem:f}=a,m=f.is("element","table")?f:f.findAncestor("table");if(!l.consumable.test(m,{attributes:"border"})||m.getAttribute("border")!=="0")return;const p=u?.start?.nodeAfter;!p||p.hasAttribute(t.style)||(l.writer.setAttribute(t.style,"none",p),f.is("element","table")&&l.consumable.consume(f,{attributes:"border"}))})})}function Cg(n,e){const{modelElement:t,modelAttribute:r,styleName:i}=e;n.for("downcast").attributeToAttribute({model:{name:t,key:r},view:s=>({key:"style",value:{[i]:s}})})}function Fb(n,e){const{modelAttribute:t,styleName:r}=e;n.for("downcast").add(i=>i.on(`attribute:${t}:table`,(s,o,a)=>{const{item:l,attributeNewValue:u}=o,{mapper:f,writer:m}=a;if(!a.consumable.consume(o.item,s.name))return;const p=[...f.toViewElement(l).getChildren()].find(y=>y.is("element","table"));u?m.setStyle(r,u,p):m.removeStyle(r,p)}))}function vo(n,e,t){const r=t.modelRange&&_n(t.modelRange.getItems({shallow:!0})),i=r&&r.is("element")&&r.findAncestor("table",{includeSelf:!0});return i&&i.getAttribute("tableType")==="layout"?e:n}function Lb(n){if(!n)return;const e=["top","right","bottom","left"];if(!e.every(s=>n[s]))return n;const r=n.top;return e.every(s=>n[s]===r)?r:n}const ii={left:{className:"table-style-align-left"},center:{className:"table-style-align-center"},right:{className:"table-style-align-right"},blockLeft:{className:"table-style-block-align-left"},blockRight:{className:"table-style-block-align-right"}},LPe=[{view:{name:/^(table|figure)$/,styles:{float:FPe}},getAlign:n=>{let e=n.getStyle("float");return e==="none"&&(e="center"),e},getConsumables(n){const e=n.getStyle("float"),t=["float"];return e==="left"&&n.hasStyle("margin-right")?t.push("margin-right"):e==="right"&&n.hasStyle("margin-left")&&t.push("margin-left"),{styles:t}}},{view:{name:/^(table|figure)$/,styles:{"margin-left":"auto","margin-right":"auto"}},getAlign:()=>"center",getConsumables:()=>({styles:["margin-left","margin-right"]})},{view:{name:/^(table|figure)$/,key:"class",value:"table-style-align-left"},getAlign:()=>"left",getConsumables(){return{classes:ii.left.className}}},{view:{name:/^(table|figure)$/,key:"class",value:ii.right.className},getAlign:()=>"right",getConsumables(){return{classes:ii.right.className}}},{view:{name:/^(table|figure)$/,key:"class",value:ii.center.className},getAlign:()=>"center",getConsumables(){return{classes:ii.center.className}}},{view:{name:/^(table|figure)$/,key:"class",value:ii.blockLeft.className},getAlign:()=>"blockLeft",getConsumables(){return{classes:ii.blockLeft.className}}},{view:{name:/^(table|figure)$/,key:"class",value:ii.blockRight.className},getAlign:()=>"blockRight",getConsumables(){return{classes:ii.blockRight.className}}},{view:{name:/^(table|figure)$/,styles:{"margin-left":"0","margin-right":"auto"}},getAlign:()=>"blockLeft",getConsumables(){return{styles:["margin-left","margin-right"]}}},{view:{name:/^(table|figure)$/,styles:{"margin-left":"auto","margin-right":"0"}},getAlign:()=>"blockRight",getConsumables(){return{styles:["margin-left","margin-right"]}}},{view:{name:"table",attributes:{align:DPe}},getAlign:n=>n.getAttribute("align"),getConsumables(){return{attributes:"align"}}}],tb={center:{align:"center",style:"margin-left: auto; margin-right: auto;",className:"table-style-align-center"},left:{align:"left",style:"float: left;",className:"table-style-align-left"},right:{align:"right",style:"float: right;",className:"table-style-align-right"},blockLeft:{align:void 0,style:"margin-left: 0; margin-right: auto;",className:ii.blockLeft.className},blockRight:{align:void 0,style:"margin-left: auto; margin-right: 0;",className:ii.blockRight.className}};function jn(n,e,t,r,i=1){e!=null&&i!==void 0&&i!==null&&e>i?r.setAttribute(n,e,t):r.removeAttribute(n,t)}function qu(n,e,t={}){const r=n.createElement("tableCell",t);return n.insertElement("paragraph",r),n.insert(r,e),r}function sT(n,e){const t=e.parent.parent,r=parseInt(t.getAttribute("headingColumns")||"0"),{column:i}=n.getCellLocation(e);return!!r&&i<r}function Bb(n,e,t){const{modelAttribute:r}=t;n.extend("tableCell",{allowAttributes:[r]}),n.setAttributeProperties(r,{isFormatting:!0}),fA(e,{viewElement:/^(td|th)$/,...t}),Cg(e,{modelElement:"tableCell",...t})}function nc(n){const e=n.getSelectedElement();return e&&e.is("element","table")?e:n.getFirstPosition().findAncestor("table")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Jt{_table;_startRow;_endRow;_startColumn;_endColumn;_includeAllSlots;_skipRows;_row;_rowIndex;_column;_cellIndex;_spannedCells;_nextCellAtColumn;_jumpedToStartRow=!1;constructor(e,t={}){this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const r=this._getSpanned();if(r)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(r.cell,r.row,r.column));else{const i=e.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();const s=parseInt(i.getAttribute("colspan")||"1"),o=parseInt(i.getAttribute("rowspan")||"1");(s>1||o>1)&&this._recordSpans(i,o,s),this._shouldSkipSlot()||(t=this._formatOutValue(i)),this._nextCellAtColumn=this._column+s}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,r=this._column){return{done:!1,value:new BPe(this,e,t,r)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,r=this._column<this._startColumn,i=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||r||i}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,r){const i={cell:e,row:this._row,column:this._column};for(let s=this._row;s<this._row+t;s++)for(let o=this._column;o<this._column+r;o++)(s!=this._row||o!=this._column)&&this._markSpannedCell(s,o,i)}_markSpannedCell(e,t,r){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,r)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((r,i)=>r+parseInt(i.getAttribute("colspan")||"1"),0)}}class BPe{cell;row;column;cellAnchorRow;cellAnchorColumn;_cellIndex;_rowIndex;_table;constructor(e,t,r,i){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=r,this.cellAnchorColumn=i,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function Yz(n,e,t){const{startRow:r,startColumn:i,endRow:s,endColumn:o}=e,a=t.createElement("table"),l=n.getAttribute("tableType");l&&t.setAttribute("tableType",l,a);const u=s-r+1;for(let m=0;m<u;m++)t.insertElement("tableRow",a,"end");const f=[...new Jt(n,{startRow:r,endRow:s,startColumn:i,endColumn:o,includeAllSlots:!0})];for(const{row:m,column:p,cell:y,isAnchor:v,cellAnchorRow:w,cellAnchorColumn:E}of f){const k=m-r,T=a.getChild(k);if(!v)(w<r||E<i)&&qu(t,t.createPositionAt(T,"end"));else{const S=t.cloneElement(y);t.append(S,T),Zz(S,m,p,s,o,t)}}return VPe(a,n,r,i,t),a}function Kz(n,e,t=0){const r=[],i=new Jt(n,{startRow:t,endRow:e-1});for(const s of i){const{row:o,cellHeight:a}=s,l=o+a-1;o<e&&e<=l&&r.push(s)}return r}function Xz(n,e,t){const r=n.parent,i=r.parent,s=r.index,o=parseInt(n.getAttribute("rowspan")),a=e-s,l={},u=o-a;u>1&&(l.rowspan=u);const f=parseInt(n.getAttribute("colspan")||"1");f>1&&(l.colspan=f);const m=s,p=m+a,y=[...new Jt(i,{startRow:m,endRow:p,includeAllSlots:!0})];let v=null,w;for(const E of y){const{row:k,column:T,cell:S}=E;S===n&&w===void 0&&(w=T),w!==void 0&&w===T&&k===p&&(v=qu(t,E.getPositionBefore(),l))}return jn("rowspan",a,n,t),v}function Jz(n,e){const t=[],r=new Jt(n);for(const i of r){const{column:s,cellWidth:o}=i,a=s+o-1;s<e&&e<=a&&t.push(i)}return t}function Qz(n,e,t,r){const i=parseInt(n.getAttribute("colspan")),s=t-e,o={},a=i-s;a>1&&(o.colspan=a);const l=parseInt(n.getAttribute("rowspan")||"1");l>1&&(o.rowspan=l);const u=qu(r,r.createPositionAfter(n),o);return jn("colspan",s,n,r),u}function Zz(n,e,t,r,i,s){const o=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");if(t+o-1>i){const f=i-t+1;jn("colspan",f,n,s,1)}if(e+a-1>r){const f=r-e+1;jn("rowspan",f,n,s,1)}}function VPe(n,e,t,r,i){const s=parseInt(e.getAttribute("headingRows")||"0");if(s>0){const a=s-t;jn("headingRows",a,n,i,0)}const o=parseInt(e.getAttribute("headingColumns")||"0");if(o>0){const a=o-r;jn("headingColumns",a,n,i,0)}}function oT(n,e){const t=e.getColumns(n),r=new Array(t).fill(0);for(const{column:s}of new Jt(n))r[s]++;const i=r.reduce((s,o,a)=>o?s:[...s,a],[]);if(i.length>0){const s=i[i.length-1];return e.removeColumns(n,{at:s}),!0}return!1}function aT(n,e){const t=[],r=e.getRows(n);for(let i=0;i<r;i++)n.getChild(i).isEmpty&&t.push(i);if(t.length>0){const i=t[t.length-1];return e.removeRows(n,{at:i}),!0}return!1}function hA(n,e){oT(n,e)||aT(n,e)}function eH(n,e){const t=Array.from(new Jt(n,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:s})=>s===1))return e.lastRow;const i=t[0].cellHeight-1;return e.lastRow+i}function tH(n,e){const t=Array.from(new Jt(n,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:s})=>s===1))return e.lastColumn;const i=t[0].cellWidth-1;return e.lastColumn+i}function nH(n){for(const e of n.getChildren())if(e.is("element","table"))return e}function UPe(){return n=>{n.on("element:figure",(e,t,r)=>{if(!r.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const i=nH(t.viewItem);if(!i||!r.consumable.test(i,{name:!0}))return;r.consumable.consume(t.viewItem,{name:!0,classes:"table"});const s=r.convertItem(i,t.modelCursor),o=_n(s.modelRange.getItems());if(!o||!o.is("element","table")){r.consumable.revert(t.viewItem,{name:!0,classes:"table"}),s.modelRange&&!s.modelRange.isCollapsed&&(t.modelRange=s.modelRange,t.modelCursor=s.modelCursor);return}r.convertChildren(t.viewItem,r.writer.createPositionAt(o,"end")),r.updateConversionResult(o,t)})}}function zPe(){return n=>{n.on("element:table",(e,t,r)=>{const i=t.viewItem;if(!r.consumable.test(i,{name:!0}))return;const{rows:s,headingRows:o,headingColumns:a}=$Pe(i),l={};a&&(l.headingColumns=a),o&&(l.headingRows=o);const u=r.writer.createElement("table",l);if(r.safeInsert(u,t.modelCursor)){if(r.consumable.consume(i,{name:!0}),s.forEach(f=>r.convertItem(f,r.writer.createPositionAt(u,"end"))),r.convertChildren(i,r.writer.createPositionAt(u,"end")),u.isEmpty){const f=r.writer.createElement("tableRow");r.writer.insert(f,r.writer.createPositionAt(u,"end")),qu(r.writer,r.writer.createPositionAt(f,"end"))}r.updateConversionResult(u,t)}})}}function HPe(){return n=>{n.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&t.modelCursor.index==0&&e.stop()},{priority:"high"})}}function _M(n){return e=>{e.on(`element:${n}`,(t,r,{writer:i})=>{if(!r.modelRange)return;const s=r.modelRange.start.nodeAfter,o=i.createPositionAt(s,0);if(r.viewItem.isEmpty){i.insertElement("paragraph",o);return}const a=Array.from(s.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=i.createElement("paragraph");i.insert(l,i.createPositionAt(s,0));for(const u of a)i.move(i.createRangeOn(u),i.createPositionAt(l,"end"))}},{priority:"low"})}}function $Pe(n){let e=0,t;const r=[],i=[];let s;for(const a of Array.from(n.getChildren())){if(a.name!=="tbody"&&a.name!=="thead"&&a.name!=="tfoot")continue;a.name==="thead"&&!s&&(s=a);const l=Array.from(a.getChildren()).filter(f=>f.is("element","tr"));let u=null;for(const f of l){const m=Array.from(f.getChildren()).filter(p=>p.is("element","td")||p.is("element","th"));s&&a===s||a.name==="tbody"&&m.length>0&&(u===null||m.length===u)&&m.every(p=>p.is("element","th"))?(e++,r.push(f)):i.push(f),u=Math.max(u||0,m.length)}}const o=WPe(i);for(const a of o){let l=0;for(;l<a.length&&a[l]?.name==="th";)l+=1;(!t||l<t)&&(t=l)}return{headingRows:e,headingColumns:t||0,rows:[...r,...i]}}function WPe(n){let e=new Map,t=0;const r=n.map(i=>{const s=[],o=Array.from(i.getChildren()).filter(l=>l.name==="th"||l.name==="td"),a=new Map;for(;o.length||s.length<t;){const l=e.get(s.length);if(l&&l.remaining>0)s.push(l.cell);else{const u=o.shift();if(u){const f=parseInt(u.getAttribute("colspan")||"1"),m=parseInt(u.getAttribute("rowspan")||"1");for(let p=0;p<f;p++)m>1&&a.set(s.length,{cell:u,remaining:m-1}),s.push(u)}else{s.push(null);continue}}}for(const[l,u]of e.entries())u.remaining-=1,u.remaining>0&&!a.has(l)&&a.set(l,u);return e=a,t=Math.max(t,s.length),s});for(const i of r)for(;i.length<t;)i.push(null);return r}function Gu(n){if(!n||!sPe(n))return n;const{top:e,right:t,bottom:r,left:i}=n;if(e==t&&t==r&&r==i)return e}function Yu(n,e){const t=parseFloat(n);return Number.isNaN(t)||String(t)!==String(n)?n:`${t}${e}`}function Iv(n,e={}){const t={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...n};return e.includeAlignmentProperty&&!t.alignment&&(t.alignment="center"),e.includePaddingProperty&&!t.padding&&(t.padding=""),e.includeVerticalAlignmentProperty&&!t.verticalAlignment&&(t.verticalAlignment="middle"),e.includeHorizontalAlignmentProperty&&!t.horizontalAlignment&&(t.horizontalAlignment=e.isRightToLeftContent?"right":"left"),t}function mA(n,e){return Iv({borderStyle:"double",borderColor:"hsl(0, 0%, 70%)",borderWidth:"1px",...n},e)}function gA(n,e){return Iv({borderStyle:"solid",borderColor:"hsl(0, 0%, 75%)",borderWidth:"1px",...n},e)}function xM(n,e){return(t,{writer:r})=>{const i=t.getAttribute("headingRows")||0,s=r.createContainerElement("table",null,[]),o=r.createContainerElement("figure",{class:"table"},s);i>0&&r.insert(r.createPositionAt(s,"end"),r.createContainerElement("thead",null,r.createSlot(a=>a.is("element","tableRow")&&a.index<i))),i<n.getRows(t)&&r.insert(r.createPositionAt(s,"end"),r.createContainerElement("tbody",null,r.createSlot(a=>a.is("element","tableRow")&&a.index>=i)));for(const{positionOffset:a,filter:l}of e.additionalSlots)r.insert(r.createPositionAt(s,a),r.createSlot(l));return r.insert(r.createPositionAt(s,"after"),r.createSlot(a=>a.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:l})=>l(a)))),e.asWidget?qPe(o,r):o}}function jPe(){return(n,{writer:e})=>n.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function EM(n={}){return(e,{writer:t})=>{const r=e.parent,i=r.parent,s=i.getChildIndex(r),o=new Jt(i,{row:s}),a=i.getAttribute("headingRows")||0,l=i.getAttribute("headingColumns")||0;let u=null;for(const f of o)if(f.cell==e){const p=f.row<a||f.column<l?"th":"td";u=n.asWidget?GC(t.createEditableElement(p),t,{withAriaRole:!1}):t.createContainerElement(p);break}return u}}function kM(n={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!rH(e))return null;if(n.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const r=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}}function rH(n){return n.parent.childCount==1&&!GPe(n)}function qPe(n,e){return e.setCustomProperty("table",!0,n),ep(n,e,{hasSelectionHandle:!0})}function GPe(n){for(const e of n.getAttributeKeys())if(!(e.startsWith("selection:")||e=="htmlEmptyBlock"))return!0;return!1}function YPe(n){return(e,t)=>{const r=n.plugins.has("PlainTableOutput"),i=t.options.isClipboardPipeline,s=n.config.get("experimentalFlags.useExtendedTableBlockAlignment");return!r&&!(s&&i)?null:XPe(e,t,n)}}function KPe(n){return(e,{writer:t,options:r})=>{const i=n.plugins.has("PlainTableOutput"),s=r.isClipboardPipeline,o=n.config.get("experimentalFlags.useExtendedTableBlockAlignment");return!i&&!(o&&s)?null:e.parent.name==="table"?t.createContainerElement("caption"):null}}function XPe(n,e,t){const r=e.writer,i=n.getAttribute("headingRows")||0,s=r.createSlot(p=>p.is("element","tableRow")&&p.index<i),o=r.createSlot(p=>p.is("element","tableRow")&&p.index>=i),a=r.createSlot(p=>!p.is("element","tableRow")),l=r.createContainerElement("thead",null,s),u=r.createContainerElement("tbody",null,o),f=[];i&&f.push(l),i<n.childCount&&f.push(u);const m={class:"table"};if(t.plugins.has("TableProperties")&&e.options.isClipboardPipeline){const p=mA(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),y=n.getAttribute("tableAlignment");let v=p.alignment;n.getAttribute("tableType")==="layout"&&(v="");const w=y||v;w&&(m.class+=" "+tb[w].className,m.style=tb[w].style,tb[w].align!==void 0&&(m.align=tb[w].align))}return r.createContainerElement("table",m,[a,...f])}function JPe(n){const e={"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"};for(const[t,r]of Object.entries(e))n.conversion.for("dataDowncast").add(i=>i.on(`attribute:${r}:table`,(s,o,a)=>{const{item:l,attributeNewValue:u}=o,{mapper:f,writer:m}=a,p=n.plugins.has("PlainTableOutput"),y=a.options.isClipboardPipeline,v=n.config.get("experimentalFlags.useExtendedTableBlockAlignment");if(!p&&!(v&&y)||!a.consumable.consume(l,s.name))return;const w=f.toViewElement(l);u?m.setStyle(t,u,w):m.removeStyle(t,w)},{priority:"high"}))}class QPe extends lt{refresh(){const e=this.editor.model,t=e.document.selection,r=e.schema;this.isEnabled=ZPe(t,r)}execute(e={}){const t=this.editor,r=t.model,i=t.plugins.get("TableUtils"),s=t.config.get("table.defaultHeadings.rows"),o=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&s&&(e.headingRows=s),e.headingColumns===void 0&&o&&(e.headingColumns=o),r.change(a=>{const l=i.createTable(a,e);r.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}function ZPe(n,e){const t=n.getFirstPosition().parent,r=t===t.root?t:t.parent;return e.checkChild(r,"table")}class TM extends lt{order;constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,t=e.model.document.selection,r=e.plugins.get("TableUtils"),i=this.order==="above",s=r.getSelectionAffectedTableCells(t),o=r.getRowIndexes(s),a=i?o.first:o.last,l=s[0].findAncestor("table");r.insertRows(l,{at:i?a:a+1,copyStructureFromAbove:!i})}}class SM extends lt{order;constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,t=e.model.document.selection,r=e.plugins.get("TableUtils"),i=this.order==="left",s=r.getSelectionAffectedTableCells(t),o=r.getColumnIndexes(s),a=i?o.first:o.last,l=s[0].findAncestor("table");r.insertColumns(l,{columns:1,at:i?a:a+1})}}class CM extends lt{direction;constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}class nb extends lt{direction;isHorizontal;constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,i=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],s=this.value,o=this.direction;e.change(a=>{const l=o=="right"||o=="down",u=l?i:s,f=l?s:i,m=f.parent;nRe(f,u,a);const p=this.isHorizontal?"colspan":"rowspan",y=parseInt(i.getAttribute(p)||"1"),v=parseInt(s.getAttribute(p)||"1");a.setAttribute(p,y+v,u),a.setSelection(a.createRangeIn(u));const w=this.editor.plugins.get("TableUtils"),E=m.findAncestor("table");hA(E,w)})}_getMergeableCell(){const t=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),i=r.getTableCellsContainingSelection(t.selection)[0];if(!i)return;const s=this.isHorizontal?eRe(i,this.direction,r):tRe(i,this.direction,r);if(!s)return;const o=this.isHorizontal?"rowspan":"colspan",a=parseInt(i.getAttribute(o)||"1");if(parseInt(s.getAttribute(o)||"1")===a)return s}}function eRe(n,e,t){const i=n.parent.parent,s=e=="right"?n.nextSibling:n.previousSibling,o=(i.getAttribute("headingColumns")||0)>0;if(!s)return;const a=e=="right"?n:s,l=e=="right"?s:n,{column:u}=t.getCellLocation(a),{column:f}=t.getCellLocation(l),m=parseInt(a.getAttribute("colspan")||"1"),p=sT(t,a),y=sT(t,l);return o&&p!=y?void 0:u+m===f?s:void 0}function tRe(n,e,t){const r=n.parent,i=r.parent,s=i.getChildIndex(r);if(e=="down"&&s===t.getRows(i)-1||e=="up"&&s===0)return null;const o=parseInt(n.getAttribute("rowspan")||"1"),a=i.getAttribute("headingRows")||0,l=e=="down"&&s+o===a,u=e=="up"&&s===a;if(a&&(l||u))return null;const f=parseInt(n.getAttribute("rowspan")||"1"),m=e=="down"?s+f:s,p=[...new Jt(i,{endRow:m})],v=p.find(E=>E.cell===n).column,w=p.find(({row:E,cellHeight:k,column:T})=>T!==v?!1:e=="down"?E===m:m===E+k);return w&&w.cell?w.cell:null}function nRe(n,e,t){AM(n)||(AM(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function AM(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class rRe extends lt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=t[0];if(r){const i=r.findAncestor("table"),o=e.getRows(i)-1,a=e.getRowIndexes(t),l=a.first===0&&a.last===o;this.isEnabled=!l}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),r=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(r),s=r[0],o=s.findAncestor("table"),a=t.getCellLocation(s).column;e.change(l=>{const u=i.last-i.first+1;t.removeRows(o,{at:i.first,rows:u});const f=iRe(o,i.first,a,t.getRows(o));l.setSelection(l.createPositionAt(f,0))})}}function iRe(n,e,t,r){const i=n.getChild(Math.min(e,r-1));let s=i.getChild(0),o=0;for(const a of i.getChildren()){if(o>t)return s;s=a,o+=parseInt(a.getAttribute("colspan")||"1")}return s}class sRe extends lt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=t[0];if(r){const i=r.findAncestor("table"),s=e.getColumns(i),{first:o,last:a}=e.getColumnIndexes(t);this.isEnabled=a-o<s-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,r]=aRe(this.editor.model.document.selection,e),i=t.parent.parent,s=[...new Jt(i)],o={first:s.find(l=>l.cell===t).column,last:s.find(l=>l.cell===r).column},a=oRe(s,t,r,o);this.editor.model.change(l=>{const u=o.last-o.first+1;e.removeColumns(i,{at:o.first,columns:u}),l.setSelection(l.createPositionAt(a,0))})}}function oRe(n,e,t,r){return parseInt(t.getAttribute("colspan")||"1")>1?t:e.previousSibling||t.nextSibling?t.nextSibling||e.previousSibling:r.first?n.reverse().find(({column:s})=>s<r.first).cell:n.reverse().find(({column:s})=>s>r.last).cell}function aRe(n,e){const t=e.getSelectionAffectedTableCells(n),r=t[0],i=t.pop(),s=[r,i];return r.isBefore(i)?s:s.reverse()}class lRe extends lt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,r=e.getSelectionAffectedTableCells(t.document.selection);if(r.length===0){this.isEnabled=!1,this.value=!1;return}const i=r[0].findAncestor("table");this.isEnabled=t.schema.checkAttribute(i,"headingRows"),this.value=r.every(s=>this._isInHeading(s,s.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=t.getSelectionAffectedTableCells(r.document.selection),s=i[0].findAncestor("table"),{first:o,last:a}=t.getRowIndexes(i),l=this.value?o:a+1,u=s.getAttribute("headingRows")||0;r.change(f=>{if(l){const m=l>u?u:0,p=Kz(s,l,m);for(const{cell:y}of p)Xz(y,l,f)}jn("headingRows",l,s,f,0)})}_isInHeading(e,t){const r=parseInt(t.getAttribute("headingRows")||"0");return!!r&&e.parent.index<r}}class cRe extends lt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,r=e.getSelectionAffectedTableCells(t.document.selection);if(r.length===0){this.isEnabled=!1,this.value=!1;return}const i=r[0].findAncestor("table");this.isEnabled=t.schema.checkAttribute(i,"headingColumns"),this.value=r.every(s=>sT(e,s))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=t.getSelectionAffectedTableCells(r.document.selection),s=i[0].findAncestor("table"),{first:o,last:a}=t.getColumnIndexes(i),l=this.value?o:a+1;r.change(u=>{if(l){const f=Jz(s,l);for(const{cell:m,column:p}of f)Qz(m,p,l,u)}jn("headingColumns",l,s,u,0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const uRe=5,lT=40,dRe=2,fRe=3;function hRe(n){const e=new Set;for(const t of n.document.differ.getChanges()){let r=null;switch(t.type){case"insert":r=["table","tableRow","tableCell"].includes(t.name)?t.position:null;break;case"remove":r=["tableRow","tableCell"].includes(t.name)?t.position:null;break;case"attribute":t.range.start.nodeAfter&&(r=["table","tableRow","tableCell"].includes(t.range.start.nodeAfter.name)?t.range.start:null);break}if(!r)continue;const i=r.nodeAfter&&r.nodeAfter.is("element","table")?r.nodeAfter:r.findAncestor("table");for(const s of n.createRangeOn(i).getItems())s.is("element","table")&&rp(s)&&e.add(s)}return e}function mRe(n,e){return lT*100/iH(n,e)}function iH(n,e){const t=NM(n,"tbody",e)||NM(n,"thead",e),r=e.editing.view.domConverter.mapViewToDom(t);return cT(r)}function NM(n,e,t){return[...[...t.editing.mapper.toViewElement(n).getChildren()].find(s=>s.is("element","table")).getChildren()].find(s=>s.is("element",e))}function cT(n){const e=qe.window.getComputedStyle(n);return e.boxSizing==="border-box"?parseFloat(e.width)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth):parseFloat(e.width)}function gRe(n,e){const t=e.getCellLocation(n).column,r=n.getAttribute("colspan")||1;return{leftEdge:t,rightEdge:t+r-1}}function Mi(n){const e=Math.pow(10,dRe),t=typeof n=="number"?n:parseFloat(n);return Math.round(t*e)/e}function pRe(n,e,t){return n<=e?Mi(e):n>=t?Mi(t):Mi(n)}function bRe(n,e){return Array(n).fill(e)}function v0(n){return n.map(e=>typeof e=="number"?e:parseFloat(e)).filter(e=>!Number.isNaN(e)).reduce((e,t)=>e+t,0)}function pA(n){const e=n.map(i=>i==="auto"||i===void 0?"auto":parseFloat(i.replace("%","")));let t=yRe(e);const r=v0(t);return r!==100&&(t=t.map(i=>Mi(i*100/r)).map((i,s,o)=>{if(!(s===o.length-1))return i;const l=v0(o);return Mi(i+100-l)})),t.map(i=>i+"%")}function yRe(n){const e=n.filter(i=>i==="auto").length;if(e===0)return n.map(i=>Mi(i));const t=v0(n),r=Math.max((100-t)/e,uRe);return n.map(i=>i==="auto"?r:i).map(i=>Mi(i))}function wRe(n){const e=qe.window.getComputedStyle(n);return e.boxSizing==="border-box"?parseInt(e.width):parseFloat(e.width)+parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderWidth)}function sH(n,e,t,r){for(let i=0;i<Math.max(t.length,n.length);i++){const s=n[i],o=t[i];o?s?r.setAttribute("columnWidth",o,s):r.appendElement("tableColumn",{columnWidth:o},e):r.remove(s)}}function rp(n){if(n.is("element","tableColumnGroup"))return n;const e=n.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function ip(n){const e=rp(n);return e?Array.from(e.getChildren()):[]}function vRe(n){return ip(n).map(e=>e.getAttribute("columnWidth"))}function _Re(n,e){return ip(n).reduce((r,i)=>{const s=i.getAttribute("columnWidth"),o=i.getAttribute("colSpan");if(!o)return r.push(s),r;for(let a=0;a<o;a++)r.push(s);return e.removeAttribute("colSpan",i),r},[])}class Ir extends ee{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,r=t.parent,i=r.getChildIndex(t),s=new Jt(r,{row:i});for(const{cell:o,row:a,column:l}of s)if(o===e)return{row:a,column:l};/* istanbul ignore next -- @preserve */}createTable(e,t){const r=e.createElement("table"),i=t.rows||2,s=t.columns||2;return SE(e,r,0,i,s),t.headingRows&&jn("headingRows",Math.min(t.headingRows,i),r,e,0),t.headingColumns&&jn("headingColumns",Math.min(t.headingColumns,s),r,e,0),r}insertRows(e,t={}){const r=this.editor.model,i=t.at||0,s=t.rows||1,o=t.copyStructureFromAbove!==void 0,a=t.copyStructureFromAbove?i-1:i,l=this.getRows(e),u=this.getColumns(e);if(i>l)throw new q("tableutils-insertrows-insert-out-of-range",this,{options:t});r.change(f=>{const m=e.getAttribute("headingRows")||0;if(m>i&&jn("headingRows",m+s,e,f,0),!o&&(i===0||i===l)){SE(f,e,i,s,u);return}const p=o?Math.max(i,a):i,y=new Jt(e,{endRow:p}),v=new Array(u).fill(1);for(const{row:w,column:E,cellHeight:k,cellWidth:T,cell:S}of y){const P=w+k-1,R=w<i&&i<=P,D=w<=a&&a<=P;R?(f.setAttribute("rowspan",k+s,S),v[E]=-T):o&&D&&(v[E]=T)}for(let w=0;w<s;w++){const E=f.createElement("tableRow");f.insert(E,e,i);for(let k=0;k<v.length;k++){const T=v[k],S=f.createPositionAt(E,"end");T>0&&qu(f,S,T>1?{colspan:T}:void 0),k+=Math.abs(T)-1}}})}insertColumns(e,t={}){const r=this.editor.model,i=t.at||0,s=t.columns||1;r.change(o=>{const a=e.getAttribute("headingColumns");i<a&&o.setAttribute("headingColumns",a+s,e);const l=this.getColumns(e);if(i===0||l===i){for(const f of e.getChildren())f.is("element","tableRow")&&rf(s,o,o.createPositionAt(f,i?"end":0));return}const u=new Jt(e,{column:i,includeAllSlots:!0});for(const f of u){const{row:m,cell:p,cellAnchorColumn:y,cellAnchorRow:v,cellWidth:w,cellHeight:E}=f;if(y<i){o.setAttribute("colspan",w+s,p);const k=v+E-1;for(let T=m;T<=k;T++)u.skipRow(T)}else rf(s,o,f.getPositionBefore())}})}removeRows(e,t){const r=this.editor.model,i=t.rows||1,s=this.getRows(e),o=t.at,a=o+i-1;if(a>s-1)throw new q("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});r.change(l=>{const u={first:o,last:a},{cellsToMove:f,cellsToTrim:m}=kRe(e,u);if(f.size){const p=a+1;TRe(e,p,f,l)}for(let p=a;p>=o;p--)l.remove(e.getChild(p));for(const{rowspan:p,cell:y}of m)jn("rowspan",p,y,l);ERe(e,u,l),oT(e,this)||aT(e,this)})}removeColumns(e,t){const r=this.editor.model,i=t.at,s=t.columns||1,o=t.at+s-1;r.change(a=>{xRe(e,{first:i,last:o},a);const l=ip(e);for(let u=o;u>=i;u--){for(const{cell:f,column:m,cellWidth:p}of[...new Jt(e)])m<=u&&p>1&&m+p>u?jn("colspan",p-1,f,a):m===u&&a.remove(f);if(l[u]){const f=u===0?l[1]:l[u-1],m=parseFloat(l[u].getAttribute("columnWidth")),p=parseFloat(f.getAttribute("columnWidth"));a.remove(l[u]),a.setAttribute("columnWidth",m+p+"%",f)}}aT(e,this)||oT(e,this)})}splitCellVertically(e,t=2){const r=this.editor.model,s=e.parent.parent,o=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");r.change(l=>{if(a>1){const{newCellsSpan:u,updatedSpan:f}=PM(a,t);jn("colspan",f,e,l);const m={};u>1&&(m.colspan=u),o>1&&(m.rowspan=o);const p=a>t?t-1:a-1;rf(p,l,l.createPositionAfter(e),m)}if(a<t){const u=t-a,f=[...new Jt(s)],{column:m}=f.find(({cell:w})=>w===e),p=f.filter(({cell:w,cellWidth:E,column:k})=>{const T=w!==e&&k===m,S=k<m&&k+E>m;return T||S});for(const{cell:w,cellWidth:E}of p)l.setAttribute("colspan",E+u,w);const y={};o>1&&(y.rowspan=o),rf(u,l,l.createPositionAfter(e),y);const v=s.getAttribute("headingColumns")||0;v>m&&jn("headingColumns",v+u,s,l)}})}splitCellHorizontally(e,t=2){const r=this.editor.model,i=e.parent,s=i.parent,o=s.getChildIndex(i),a=parseInt(e.getAttribute("rowspan")||"1"),l=parseInt(e.getAttribute("colspan")||"1");r.change(u=>{if(a>1){const f=[...new Jt(s,{startRow:o,endRow:o+a-1,includeAllSlots:!0})],{newCellsSpan:m,updatedSpan:p}=PM(a,t);jn("rowspan",p,e,u);const{column:y}=f.find(({cell:E})=>E===e),v={};m>1&&(v.rowspan=m),l>1&&(v.colspan=l);let w=0;for(const E of f){const{column:k,row:T}=E,S=T>=o+p,P=k===y;w>=m&&P&&(w=0),S&&P&&(w||rf(1,u,E.getPositionBefore(),v),w++)}}if(a<t){const f=t-a,m=[...new Jt(s,{startRow:0,endRow:o})];for(const{cell:v,cellHeight:w,row:E}of m)if(v!==e&&E+w>o){const k=w+f;u.setAttribute("rowspan",k,v)}const p={};l>1&&(p.colspan=l),SE(u,s,o+1,f,1,p);const y=s.getAttribute("headingRows")||0;y>o&&jn("headingRows",y+f,s,u)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(r=>r.is("element","tableCell")).reduce((r,i)=>{const s=parseInt(i.getAttribute("colspan")||"1");return r+s},0)}getRows(e){return Array.from(e.getChildren()).reduce((t,r)=>r.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Jt(e,t)}getSelectedTableCells(e){const t=[];for(const r of this.sortRanges(e.getRanges())){const i=r.getContainedElement();i&&i.is("element","tableCell")&&t.push(i)}return t}getTableCellsContainingSelection(e){const t=[];for(const r of e.getRanges()){const i=r.start.findAncestor("tableCell");i&&t.push(i)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(r=>r.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),i=[...new Jt(t)].filter(s=>e.includes(s.cell)).map(s=>s.column);return this._getFirstLastIndexesObject(i)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,r=new Set;let i=0;for(const o of e){const{row:a,column:l}=this.getCellLocation(o),u=parseInt(o.getAttribute("rowspan"))||1,f=parseInt(o.getAttribute("colspan"))||1;t.add(a),r.add(l),u>1&&t.add(a+u-1),f>1&&r.add(l+f-1),i+=u*f}return CRe(t,r)==i}sortRanges(e){return Array.from(e).sort(SRe)}_getFirstLastIndexesObject(e){const t=e.sort((s,o)=>s-o),r=t[0],i=t[t.length-1];return{first:r,last:i}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),r=this.getRowIndexes(e),i=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(r,i))return!1;const s=this.getColumnIndexes(e),o=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(s,o)}_areIndexesInSameSection({first:e,last:t},r){const i=e<r,s=t<r;return i===s}}function SE(n,e,t,r,i,s={}){for(let o=0;o<r;o++){const a=n.createElement("tableRow");n.insert(a,e,t),rf(i,n,n.createPositionAt(a,"end"),s)}}function rf(n,e,t,r={}){for(let i=0;i<n;i++)qu(e,t,r)}function PM(n,e){if(n<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(n/e),r=n-t*e+t;return{newCellsSpan:t,updatedSpan:r}}function xRe(n,e,t){const r=n.getAttribute("headingColumns")||0;if(r&&e.first<r){const i=Math.min(r-1,e.last)-e.first+1;t.setAttribute("headingColumns",r-i,n)}}function ERe(n,{first:e,last:t},r){const i=n.getAttribute("headingRows")||0;if(e<i){const s=t<i?i-(t-e+1):e;jn("headingRows",s,n,r,0)}}function kRe(n,{first:e,last:t}){const r=new Map,i=[];for(const{row:s,column:o,cellHeight:a,cell:l}of new Jt(n,{endRow:t})){const u=s+a-1;if(s>=e&&s<=t&&u>t){const p=t-s+1,y=a-p;r.set(o,{cell:l,rowspan:y})}if(s<e&&u>=e){let p;u>=t?p=t-e+1:p=u-e+1,i.push({cell:l,rowspan:a-p})}}return{cellsToMove:r,cellsToTrim:i}}function TRe(n,e,t,r){const s=[...new Jt(n,{includeAllSlots:!0,row:e})],o=n.getChild(e);let a;for(const{column:l,cell:u,isAnchor:f}of s)if(t.has(l)){const{cell:m,rowspan:p}=t.get(l),y=a?r.createPositionAfter(a):r.createPositionAt(o,0);r.move(r.createRangeOn(m),y),jn("rowspan",p,m,r),a=m}else f&&(a=u)}function SRe(n,e){const t=n.start,r=e.start;return t.isBefore(r)?-1:1}function CRe(n,e){const t=Array.from(n.values()),r=Array.from(e.values()),i=Math.max(...t),s=Math.min(...t),o=Math.max(...r),a=Math.min(...r);return(i-s+1)*(o-a+1)}class ARe extends lt{refresh(){const e=this.editor.plugins.get(Ir),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(Ir);e.change(r=>{const i=t.getSelectedTableCells(e.document.selection),s=i.shift(),{mergeWidth:o,mergeHeight:a}=PRe(s,i,t);jn("colspan",o,s,r),jn("rowspan",a,s,r);for(const u of i)NRe(u,s,r);const l=s.findAncestor("table");hA(l,t),r.setSelection(s,"in")})}}function NRe(n,e,t){RM(n)||(RM(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function RM(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function PRe(n,e,t){let r=0,i=0;for(const u of e){const{row:f,column:m}=t.getCellLocation(u);r=IM(u,m,r,"colspan"),i=IM(u,f,i,"rowspan")}const{row:s,column:o}=t.getCellLocation(n),a=r-o,l=i-s;return{mergeWidth:a,mergeHeight:l}}function IM(n,e,t,r){const i=parseInt(n.getAttribute(r)||"1");return Math.max(t,e+i)}class RRe extends lt{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),r=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(r),s=r[0].findAncestor("table"),o=[];for(let a=i.first;a<=i.last;a++)for(const l of s.getChild(a).getChildren())o.push(e.createRangeOn(l));e.change(a=>{a.setSelection(o)})}}class IRe extends lt{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,r=e.getSelectionAffectedTableCells(t.document.selection),i=r[0],s=r.pop(),o=i.findAncestor("table"),a=e.getCellLocation(i),l=e.getCellLocation(s),u=Math.min(a.column,l.column),f=Math.max(a.column,l.column),m=[];for(const p of new Jt(o,{startColumn:u,endColumn:f}))m.push(t.createRangeOn(p.cell));t.change(p=>{p.setSelection(m)})}}function ORe(n){n.document.registerPostFixer(e=>MRe(e,n))}function MRe(n,e){const t=e.document.differ.getChanges();let r=!1;const i=new Set;for(const s of t){let o=null;s.type=="insert"&&s.name=="table"&&(o=s.position.nodeAfter),(s.type=="insert"||s.type=="remove")&&(s.name=="tableRow"||s.name=="tableCell")&&(o=s.position.findAncestor("table")),VRe(s)&&(o=s.range.start.findAncestor("table")),o&&!i.has(o)&&(r=DRe(o,n)||r,r=FRe(o,n)||r,i.add(o))}return r}function DRe(n,e){let t=!1;const r=LRe(n);if(r.length){t=!0;for(const i of r)jn("rowspan",i.rowspan,i.cell,e,1)}return t}function FRe(n,e){let t=!1;const r=BRe(n),i=[];for(const[l,u]of r.entries())!u&&n.getChild(l).is("element","tableRow")&&i.push(l);if(i.length){t=!0;for(const l of i.reverse())e.remove(n.getChild(l)),r.splice(l,1)}const s=r.filter((l,u)=>n.getChild(u).is("element","tableRow")),o=s[0];if(!s.every(l=>l===o)){const l=s.reduce((u,f)=>f>u?f:u,0);for(const[u,f]of s.entries()){const m=l-f;if(m){for(let p=0;p<m;p++)qu(e,e.createPositionAt(n.getChild(u),"end"));t=!0}}}return t}function LRe(n){const e=parseInt(n.getAttribute("headingRows")||"0"),t=Array.from(n.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0),r=[];for(const{row:i,cell:s,cellHeight:o}of new Jt(n)){if(o<2)continue;const l=i<e?e:t;if(i+o>l){const u=l-i;r.push({cell:s,rowspan:u})}}return r}function BRe(n){const e=new Array(n.childCount).fill(0);for(const{rowIndex:t}of new Jt(n,{includeAllSlots:!0}))e[t]++;return e}function VRe(n){if(n.type!=="attribute")return!1;const e=n.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function URe(n){n.document.registerPostFixer(e=>zRe(e,n))}function zRe(n,e){const t=e.document.differ.getChanges();let r=!1;for(const i of t)i.type=="insert"&&i.name=="table"&&(r=HRe(i.position.nodeAfter,n)||r),i.type=="insert"&&i.name=="tableRow"&&(r=oH(i.position.nodeAfter,n)||r),i.type=="insert"&&i.name=="tableCell"&&(r=uT(i.position.nodeAfter,n)||r),(i.type=="remove"||i.type=="insert")&&$Re(i)&&(r=uT(i.position.parent,n)||r);return r}function HRe(n,e){let t=!1;for(const r of n.getChildren())r.is("element","tableRow")&&(t=oH(r,e)||t);return t}function oH(n,e){let t=!1;for(const r of n.getChildren())t=uT(r,e)||t;return t}function uT(n,e){if(n.childCount==0)return e.insertElement("paragraph",n),!0;const t=Array.from(n.getChildren()).filter(r=>r.is("$text"));for(const r of t)e.wrap(e.createRangeOn(r),"paragraph");return!!t.length}function $Re(n){return n.position.parent.is("element","tableCell")?n.type=="insert"&&n.name=="$text"||n.type=="remove":!1}function WRe(n,e){const t=n.document.differ;for(const r of t.getChanges()){let i,s=!1;if(r.type=="attribute"){const u=r.range.start.nodeAfter;if(!u||!u.is("element","table")||r.attributeKey!="headingRows"&&r.attributeKey!="headingColumns")continue;i=u,s=r.attributeKey=="headingRows"}else(r.name=="tableRow"||r.name=="tableCell")&&(i=r.position.findAncestor("table"),s=r.name=="tableRow");if(!i)continue;const o=i.getAttribute("headingRows")||0,a=i.getAttribute("headingColumns")||0,l=new Jt(i);for(const u of l){const m=u.row<o||u.column<a?"th":"td",p=e.mapper.toViewElement(u.cell);p&&p.is("element")&&p.name!=m&&e.reconvertItem(s?u.cell.parent:u.cell)}}}function jRe(n,e){const t=n.document.differ,r=new Set;for(const i of t.getChanges()){const s=i.type=="attribute"?i.range.start.parent:i.position.parent;s.is("element","tableCell")&&r.add(s)}for(const i of r.values()){const s=Array.from(i.getChildren()).filter(o=>qRe(o,e.mapper));for(const o of s)e.reconvertItem(o)}}function qRe(n,e){if(!n.is("element","paragraph"))return!1;const t=e.toViewElement(n);return t?rH(n)!==t.is("element","span"):!1}class sp extends ee{_additionalSlots;static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ir]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,t=e.model,r=t.schema,i=e.conversion,s=e.plugins.get(Ir);r.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),r.register("tableRow",{allowIn:"table",isLimit:!0}),r.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),i.for("upcast").add(UPe()),i.for("upcast").add(zPe()),i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:xM(s,{asWidget:!0,additionalSlots:this._additionalSlots})}),i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:xM(s,{additionalSlots:this._additionalSlots})}),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add(HPe()),i.for("downcast").elementToElement({model:"tableRow",view:jPe()}),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add(_M("td")),i.for("upcast").add(_M("th")),i.for("editingDowncast").elementToElement({model:"tableCell",view:EM({asWidget:!0})}),i.for("dataDowncast").elementToElement({model:"tableCell",view:EM()}),i.for("editingDowncast").elementToElement({model:"paragraph",view:kM({asWidget:!0}),converterPriority:"high"}),i.for("dataDowncast").elementToElement({model:"paragraph",view:kM(),converterPriority:"high"}),i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),i.for("upcast").attributeToAttribute({model:{key:"colspan",value:OM("colspan")},view:"colspan"}),i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:OM("rowspan")},view:"rowspan"}),this._addPlainTableOutputConverters(),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new QPe(e)),e.commands.add("insertTableRowAbove",new TM(e,{order:"above"})),e.commands.add("insertTableRowBelow",new TM(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new SM(e,{order:"left"})),e.commands.add("insertTableColumnRight",new SM(e,{order:"right"})),e.commands.add("removeTableRow",new rRe(e)),e.commands.add("removeTableColumn",new sRe(e)),e.commands.add("splitTableCellVertically",new CM(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new CM(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new ARe(e)),e.commands.add("mergeTableCellRight",new nb(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new nb(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new nb(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new nb(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new cRe(e)),e.commands.add("setTableRowHeader",new lRe(e)),e.commands.add("selectTableRow",new RRe(e)),e.commands.add("selectTableColumn",new IRe(e)),ORe(t),URe(t),this.listenTo(t.document,"change:data",()=>{WRe(t,e.editing),jRe(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}_addPlainTableOutputConverters(){const e=this.editor;e.conversion.for("dataDowncast").elementToStructure({model:"table",view:YPe(e),converterPriority:"high"}),e.plugins.has("TableCaption")&&e.conversion.for("dataDowncast").elementToElement({model:"caption",view:KPe(e),converterPriority:"high"}),e.plugins.has("TableProperties")&&JPe(e)}}function OM(n){return e=>{const t=parseInt(e.getAttribute(n));return Number.isNaN(t)||t<=0?null:t}}class MM extends Le{items;keystrokes;focusTracker;constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new bn,this.focusTracker=new Yt,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(r,i)=>`${i}  ${r}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(r=>{r.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(r,i)=>{const{row:s,column:o}=i.target.dataset;this.items.get((parseInt(s,10)-1)*10+(parseInt(o,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(r,i,s)=>{if(!s)return;const{row:o,column:a}=s.dataset;this.set({rows:parseInt(o),columns:parseInt(a)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),K0({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((r,i)=>{const s=Math.floor(i/10),o=i%10,a=s<e&&o<t;r.set("isOn",a)})}_createGridButton(e,t,r,i){const s=new et(e);return s.set({label:i,class:"ck-insert-table-dropdown-grid-box"}),s.extendTemplate({attributes:{"data-row":t,"data-column":r}}),s}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const r=Math.floor(t/10),i=t%10,s=`${r+1}  ${i+1}`;e.push(this._createGridButton(this.locale,r+1,i+1,s))}return this.createCollection(e)}}class GRe extends ee{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t,i=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",s=>{const o=e.commands.get("insertTable"),a=Er(s);a.bind("isEnabled").to(o),a.buttonView.set({icon:pO,label:t("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new MM(s),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}))}),a}),e.ui.componentFactory.add("menuBar:insertTable",s=>{const o=e.commands.get("insertTable"),a=new zi(s),l=new MM(s);return l.delegate("execute").to(a),a.on("change:isOpen",(u,f,m)=>{m||l.reset()}),l.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}),a.buttonView.set({label:t("Table"),icon:pO}),a.panelView.children.add(l),a.bind("isEnabled").to(o),a}),e.ui.componentFactory.add("tableColumn",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),uxe,o,s)}),e.ui.componentFactory.add("tableRow",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),hxe,o,s)}),e.ui.componentFactory.add("mergeTableCells",s=>{const o=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),dxe,o,s)})}_prepareDropdown(e,t,r,i){const s=this.editor,o=Er(i),a=this._fillDropdownWithListOptions(o,r);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(u=>u)),this.listenTo(o,"execute",l=>{s.execute(l.source.commandName),l.source instanceof Pu||s.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(e,t,r,i){const s=this.editor,o=Er(i,gh),a="mergeTableCells",l=s.commands.get(a),u=this._fillDropdownWithListOptions(o,r);return o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([l,...u],"isEnabled",(...f)=>f.some(m=>m)),this.listenTo(o.buttonView,"execute",()=>{s.execute(a),s.editing.view.focus()}),this.listenTo(o,"execute",f=>{s.execute(f.source.commandName),s.editing.view.focus()}),o}_fillDropdownWithListOptions(e,t){const r=this.editor,i=[],s=new sr;for(const o of t)YRe(o,r,i,s);return vc(e,s),i}}function YRe(n,e,t,r){if(n.type==="button"||n.type==="switchbutton"){const i=n.model=new fc(n.model),{commandName:s,bindIsOn:o}=n.model,a=e.commands.get(s);t.push(a),i.set({commandName:s}),i.bind("isEnabled").to(a),o&&i.bind("isOn").to(a,"value"),i.set({withText:!0})}r.add(n)}class rc extends ee{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[Ir,Ir]}init(){const e=this.editor,t=e.model,r=e.editing.view;this.listenTo(t,"deleteContent",(i,s)=>this._handleDeleteContent(i,s),{priority:"high"}),this.listenTo(r.document,"insertText",(i,s)=>this._handleInsertTextEvent(i,s),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Ir),t=this.editor.model.document.selection,r=e.getSelectedTableCells(t);return r.length==0?null:r}getSelectionAsFragment(){const e=this.editor.plugins.get(Ir),t=this.getSelectedTableCells();return t?this.editor.model.change(r=>{const i=r.createDocumentFragment(),{first:s,last:o}=e.getColumnIndexes(t),{first:a,last:l}=e.getRowIndexes(t),u=t[0].findAncestor("table");let f=l,m=o;if(e.isSelectionRectangular(t)){const v={firstColumn:s,lastColumn:o,firstRow:a,lastRow:l};f=eH(u,v),m=tH(u,v)}const y=Yz(u,{startRow:a,startColumn:s,endRow:f,endColumn:m},r);return r.insert(y,i,0),i}):null}setCellSelection(e,t){const r=this._getCellsToSelect(e,t);this.editor.model.change(i=>{i.setSelection(r.cells.map(s=>i.createRangeOn(s)),{backward:r.backward})})}getFocusCell(){const r=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return r&&r.is("element","tableCell")?r:null}getAnchorCell(){const e=this.editor.model.document.selection,r=_n(e.getRanges()).getContainedElement();return r&&r.is("element","tableCell")?r:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(i=>i.on("selection",(s,o,a)=>{const l=a.writer;r(l);const u=this.getSelectedTableCells();if(!u)return;for(const m of u){const p=a.mapper.toViewElement(m);l.addClass("ck-editor__editable_selected",p),t.add(p)}const f=a.mapper.toViewElement(u[u.length-1]);l.setSelection(f,0)},{priority:"lowest"}));function r(i){for(const s of t)i.removeClass("ck-editor__editable_selected",s);t.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(r=>{const i=r.createPositionAt(t[0],0),s=e.model.schema.getNearestSelectionRange(i);r.setSelection(s)})}})}_handleDeleteContent(e,t){const r=this.editor.plugins.get(Ir),i=t[0],s=t[1],o=this.editor.model,a=!s||s.direction=="backward",l=r.getSelectedTableCells(i);l.length&&(e.stop(),o.change(u=>{const f=l[a?l.length-1:0];o.change(p=>{for(const y of l)o.deleteContent(p.createSelection(y,"in"))});const m=o.schema.getNearestSelectionRange(u.createPositionAt(f,0));i.is("documentSelection")?u.setSelection(m):i.setTo(m)}))}_handleInsertTextEvent(e,t){const r=this.editor,i=this.getSelectedTableCells();if(!i)return;const s=r.editing.view,o=r.editing.mapper,a=i.map(l=>s.createRangeOn(o.toViewElement(l)));t.selection=s.createSelection(a),t.preventDefault()}_getCellsToSelect(e,t){const r=this.editor.plugins.get("TableUtils"),i=r.getCellLocation(e),s=r.getCellLocation(t),o=Math.min(i.row,s.row),a=Math.max(i.row,s.row),l=Math.min(i.column,s.column),u=parseInt(t.getAttribute("colspan")||"1")-1,f=Math.max(i.column,s.column+u),m=new Array(a-o+1).fill(null).map(()=>[]),p={startRow:o,endRow:a,startColumn:l,endColumn:f};for(const{row:w,cell:E}of new Jt(e.findAncestor("table"),p))m[w-o].push(E);const y=s.row<i.row,v=s.column<i.column;return y&&m.reverse(),v&&m.forEach(w=>w.reverse()),{cells:m.flat(),backward:y||v}}}class KRe extends ee{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[kg,$s,rc,Ir]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"copy",(r,i)=>this._onCopyCut(r,i)),this.listenTo(t,"cut",(r,i)=>this._onCopyCut(r,i)),this._listenToContentInsertion(),this.decorate("_replaceTableSlotCell")}_listenToContentInsertion(){const{editor:e}=this,t=e.plugins.get($s),r=e.plugins.get(rc);let i=!1;t.on("contentInsertion",(s,o)=>{i=o.method==="paste"}),this.listenTo(e.model,"insertContent",(s,[o,a])=>{(i||r.getSelectedTableCells()!==null)&&this._onInsertContent(s,o,a)},{priority:"high"}),t.on("contentInsertion",()=>{i=!1},{priority:"lowest"})}_onCopyCut(e,t){const r=this.editor.editing.view,i=this.editor.plugins.get(rc),s=this.editor.plugins.get(kg);i.getSelectedTableCells()&&(e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection)||(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const o=s._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>i.getSelectionAsFragment());r.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(o),method:e.name})})))}_onInsertContent(e,t,r){if(r&&!r.is("documentSelection"))return;const i=this.editor.model,s=this.editor.plugins.get(Ir),o=this.editor.plugins.get(kg),a=this.getTableIfOnlyTableInContent(t,i);if(!a)return;const l=s.getSelectionAffectedTableCells(i.document.selection);if(!l.length){hA(a,s);return}e.stop(),t.is("documentFragment")?o._pasteMarkersIntoTransformedElement(t.markers,u=>this._replaceSelectedCells(a,l,u)):this.editor.model.change(u=>{this._replaceSelectedCells(a,l,u)})}_replaceSelectedCells(e,t,r){const i=this.editor.plugins.get(Ir),s={width:i.getColumns(e),height:i.getRows(e)},o=XRe(t,s,r,i),a=o.lastRow-o.firstRow+1,l=o.lastColumn-o.firstColumn+1,u={startRow:0,startColumn:0,endRow:Math.min(a,s.height)-1,endColumn:Math.min(l,s.width)-1};e=Yz(e,u,r);const f=t[0].findAncestor("table"),m=this._replaceSelectedCellsWithPasted(e,s,f,o,r);if(this.editor.plugins.get("TableSelection").isEnabled){const p=i.sortRanges(m.map(y=>r.createRangeOn(y)));r.setSelection(p)}else r.setSelection(m[0],0);return f}_replaceSelectedCellsWithPasted(e,t,r,i,s){const{width:o,height:a}=t,l=QRe(e,o,a),u=[...new Jt(r,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],f=[];let m;for(const E of u){const{row:k,column:T}=E;T===i.firstColumn&&(m=E.getPositionBefore());const S=k-i.firstRow,P=T-i.firstColumn,R=l[S%a][P%o],D=R?s.cloneElement(R):null,A=this._replaceTableSlotCell(E,D,m,s);A&&(Zz(A,k,T,i.lastRow,i.lastColumn,s),f.push(A),m=s.createPositionAfter(A))}const p=parseInt(r.getAttribute("headingRows")||"0"),y=parseInt(r.getAttribute("headingColumns")||"0"),v=i.firstRow<p&&p<=i.lastRow,w=i.firstColumn<y&&y<=i.lastColumn;if(v){const E={first:i.firstColumn,last:i.lastColumn},k=dT(r,p,E,s,i.firstRow);f.push(...k)}if(w){const E={first:i.firstRow,last:i.lastRow},k=fT(r,y,E,s);f.push(...k)}return f}_replaceTableSlotCell(e,t,r,i){const{cell:s,isAnchor:o}=e;return o&&i.remove(s),t?(i.insert(t,r),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const r=t.createRangeIn(e);for(const i of r.getItems())if(i.is("element","table")){const s=t.createRange(r.start,t.createPositionBefore(i));if(t.hasContent(s,{ignoreWhitespaces:!0}))return null;const o=t.createRange(t.createPositionAfter(i),r.end);return t.hasContent(o,{ignoreWhitespaces:!0})?null:i}return null}}function XRe(n,e,t,r){const i=n[0].findAncestor("table"),s=r.getColumnIndexes(n),o=r.getRowIndexes(n),a={firstColumn:s.first,lastColumn:s.last,firstRow:o.first,lastRow:o.last},l=n.length===1;return l&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,JRe(i,a.lastRow+1,a.lastColumn+1,r)),l||!r.isSelectionRectangular(n)?ZRe(i,a,t):(a.lastRow=eH(i,a),a.lastColumn=tH(i,a)),a}function JRe(n,e,t,r){const i=r.getColumns(n),s=r.getRows(n);t>i&&r.insertColumns(n,{at:i,columns:t-i}),e>s&&r.insertRows(n,{at:s,rows:e-s})}function QRe(n,e,t){const r=new Array(t).fill(null).map(()=>new Array(e).fill(null));for(const{column:i,row:s,cell:o}of new Jt(n))r[s][i]=o;return r}function ZRe(n,e,t){const{firstRow:r,lastRow:i,firstColumn:s,lastColumn:o}=e,a={first:r,last:i},l={first:s,last:o};fT(n,s,a,t),fT(n,o+1,a,t),dT(n,r,l,t),dT(n,i+1,l,t,r)}function dT(n,e,t,r,i=0){return e<1?void 0:Kz(n,e,i).filter(({column:a,cellWidth:l})=>aH(a,l,t)).map(({cell:a})=>Xz(a,e,r))}function fT(n,e,t,r){return e<1?void 0:Jz(n,e).filter(({row:o,cellHeight:a})=>aH(o,a,t)).map(({cell:o,column:a})=>Qz(o,a,e,r))}function aH(n,e,t){const r=n+e-1,{first:i,last:s}=t,o=n>=i&&n<=s,a=n<i&&r>=i;return o||a}class eIe extends ee{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[rc,Ir]}init(){const e=this.editor,r=e.editing.view.document,i=e.t;this.listenTo(r,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(r,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(r,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:i("Keystrokes that can be used in a table cell"),keystrokes:[{label:i("Move the selection to the next cell"),keystroke:"Tab"},{label:i("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:i("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:i("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const s=this.editor.model.document.selection.getSelectedElement();!s||!s.is("element","table")||t.stopPropagation()}_handleTab(e,t){const r=this.editor,i=this.editor.plugins.get(Ir),s=this.editor.plugins.get("TableSelection"),o=r.model.document.selection,a=!t.shiftKey;let l=i.getTableCellsContainingSelection(o)[0];if(l||(l=s.getFocusCell()),!l)return;t.stopPropagation();const u=l.parent,f=u.parent,m=f.getChildIndex(u),y=u.getChildIndex(l)===u.childCount-1,v=m===i.getRows(f)-1;a&&v&&y&&r.execute("insertTableRowBelow")}_onArrowKey(e,t){const r=this.editor,i=t.keyCode,s=ov(i,r.locale.contentLanguageDirection);this._handleArrowKeys(s,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const r=this.editor.plugins.get(Ir),i=this.editor.plugins.get("TableSelection"),s=this.editor.model,o=s.document.selection,a=["right","down"].includes(e),l=r.getSelectedTableCells(o);if(l.length){let f;return t?f=i.getFocusCell():f=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(f,e,t),!0}const u=o.focus.findAncestor("tableCell");/* istanbul ignore if: paranoid check -- @preserve */if(!u)return!1;if(!o.isCollapsed)if(t){if(o.isBackward==a&&!o.containsEntireContent(u))return!1}else{const f=o.getSelectedElement();if(!f||!s.schema.isObject(f))return!1}return this._isSelectionAtCellEdge(o,u,a)?(this._navigateFromCellInDirection(u,e,t),!0):!1}_isSelectionAtCellEdge(e,t,r){const i=this.editor.model,s=this.editor.model.schema,o=r?e.getLastPosition():e.getFirstPosition();if(!s.getLimitElement(o).is("element","tableCell"))return i.createPositionAt(t,r?"end":0).isTouching(o);const a=i.createSelection(o);return i.modifySelection(a,{direction:r?"forward":"backward"}),o.isEqual(a.focus)}_navigateFromCellInDirection(e,t,r=!1){const i=this.editor.model,s=e.findAncestor("table"),o=[...new Jt(s,{includeAllSlots:!0})],{row:a,column:l}=o[o.length-1],u=o.find(({cell:T})=>T==e);let{row:f,column:m}=u;switch(t){case"left":m--;break;case"up":f--;break;case"right":m+=u.cellWidth;break;case"down":f+=u.cellHeight;break}const p=f<0||f>a,y=m<0&&f<=0,v=m>l&&f>=a;if(p||y||v){i.change(T=>{T.setSelection(T.createRangeOn(s))});return}m<0?(m=r?0:l,f--):m>l&&(m=r?l:0,f++);const w=o.find(T=>T.row==f&&T.column==m).cell,E=["right","down"].includes(t),k=this.editor.plugins.get("TableSelection");if(r&&k.isEnabled){const T=k.getAnchorCell()||e;k.setCellSelection(T,w)}else{const T=i.createPositionAt(w,E?0:"end");i.change(S=>{S.setSelection(T)})}}}class lH extends Io{domEventType=["mousemove","mouseleave"];onDomEvent(e){this.fire(e.type,e)}}class tIe extends ee{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[rc,Ir]}init(){this.editor.editing.view.addObserver(lH),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Ir);let r=!1;const i=e.plugins.get(rc);this.listenTo(e.editing.view.document,"mousedown",(s,o)=>{const a=e.model.document.selection;if(!this.isEnabled||!i.isEnabled||!o.domEvent.shiftKey)return;const l=i.getAnchorCell()||t.getTableCellsContainingSelection(a)[0];if(!l)return;const u=this._getModelTableCellFromDomEvent(o);u&&DM(l,u)&&(r=!0,i.setCellSelection(l,u),o.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{r=!1}),this.listenTo(e.editing.view.document,"selectionChange",s=>{r&&s.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,r,i=!1,s=!1;const o=e.plugins.get(rc);this.listenTo(e.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!o.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(l))}),this.listenTo(e.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!t)return;const u=this._getModelTableCellFromDomEvent(l);u&&DM(t,u)&&(r=u,!i&&r!=t&&(i=!0)),i&&(s=!0,o.setCellSelection(t,r),l.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1,s=!1,t=null,r=null}),this.listenTo(e.editing.view.document,"selectionChange",a=>{s&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,r=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(r).parent.findAncestor("tableCell",{includeSelf:!0})}}function DM(n,e){return n.parent.parent==e.parent.parent}class nIe extends ee{static get requires(){return[sp,GRe,rc,tIe,eIe,KRe,bh]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}}function Yy(n){const e=cH(n);return e||Ov(n)}function cH(n){const e=n.getSelectedElement();return e&&uH(e)?e:null}function Ov(n){const e=n.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&uH(t))return t;t=t.parent}return null}function uH(n){return n.is("element")&&!!n.getCustomProperty("table")&&Mn(n)}class rIe extends ee{static get requires(){return[Vy]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=e.t,r=e.plugins.get(Vy),i=e.config.get("table.contentToolbar"),s=e.config.get("table.tableToolbar");i&&r.register("tableContent",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:Ov}),s&&r.register("table",{ariaLabel:t("Table toolbar"),items:s,getRelatedElement:cH})}}class iIe extends Le{options;focusTracker;focusCycler;_focusables;dropdownView;inputView;keystrokes;_stillTyping;constructor(e,t){super(e),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=t,this.focusTracker=new Yt,this._focusables=new pr,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new bn,this._stillTyping=!1,this.focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(r,i,s)=>this._setInputValue(s))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(e=>{this.focusTracker.add(e.element),this._focusables.add(e)}),this.keystrokes.listenTo(this.element)}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const e=this.locale,t=e.t,r=this.bindTemplate,i=this._createColorSelector(e),s=Er(e),o=new Le;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:r.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",r.if("value","ck-hidden",a=>a!="")]}}]}),s.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),s.buttonView.children.add(o),s.buttonView.label=t("Color picker"),s.buttonView.tooltip=!0,s.panelPosition=e.uiLanguageDirection==="rtl"?"se":"sw",s.panelView.children.add(i),s.bind("isEnabled").to(this,"isReadOnly",a=>!a),s.on("change:isOpen",(a,l,u)=>{u&&(i.updateSelectedColors(),i.showColorGridsFragment())}),s}_createInputTextView(){const e=this.locale,t=new M9(e);return t.extendTemplate({on:{blur:t.bindTemplate.to("blur")}}),t.value=this.value,t.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(t),t.on("input",()=>{const r=t.element.value,i=this.options.colorDefinitions.find(s=>r===s.label);this._stillTyping=!0,this.value=i&&i.color||r}),t.on("blur",()=>{this._stillTyping=!1,this._setInputValue(t.element.value)}),t.delegate("input").to(this),t}_createColorSelector(e){const t=e.t,r=this.options.defaultColorValue||"",i=t(r?"Restore default":"Remove color"),s=new WC(e,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:i,colorPickerLabel:t("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig===!1?!1:{...this.options.colorPickerConfig,hideInput:!0}});s.appendUI(),s.on("execute",(a,l)=>{if(l.source==="colorPickerSaveButton"){this.dropdownView.isOpen=!1;return}this.value=l.value||r,this.fire("input"),l.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)});let o=this.value;return s.on("colorPicker:cancel",()=>{this.value=o,this.fire("input"),this.dropdownView.isOpen=!1}),s.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{o=this.value}),s.bind("selectedColor").to(this,"value"),s}_setInputValue(e){if(!this._stillTyping){const t=FM(e),r=this.options.colorDefinitions.find(i=>t===FM(i.color));r?this.inputView.value=r.label:this.inputView.value=e||""}}}function FM(n){return n.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const bA=n=>n==="";function yA(n){return{none:n("None"),solid:n("Solid"),dotted:n("Dotted"),dashed:n("Dashed"),double:n("Double"),groove:n("Groove"),ridge:n("Ridge"),inset:n("Inset"),outset:n("Outset")}}function dH(n){return n('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function fH(n){return n('The value is invalid. Try "10px" or "2em" or simply "2".')}function Ky(n){return n=n.trim().toLowerCase(),bA(n)||UV(n)}function Ag(n){return n=n.trim(),bA(n)||gH(n)||wv(n)||zV(n)}function hH(n){return n=n.trim(),bA(n)||gH(n)||wv(n)}function mH(n,e){const t=new sr,r=yA(n.t);for(const i in r){const s={type:"button",model:new fc({_borderStyleValue:i,label:r[i],role:"menuitemradio",withText:!0})};i==="none"?s.model.bind("isOn").to(n,"borderStyle",o=>e==="none"?!o:o===i):s.model.bind("isOn").to(n,"borderStyle",o=>o===i),t.add(s)}return t}function hT(n){const{view:e,icons:t,toolbar:r,labels:i,propertyName:s,nameToValue:o,defaultValue:a}=n;for(const l in i){const u=new et(e.locale);u.set({role:"radio",isToggleable:!0,label:i[l],icon:t[l],tooltip:i[l]});const f=o?o(l):l;u.bind("isOn").to(e,s,m=>{let p=m;return m===""&&a&&(p=a),f===p}),u.on("execute",()=>{!a&&f&&e[s]===f?e[s]=void 0:e[s]=f}),r.items.add(u)}}const Xy=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function Jy(n){return(e,t,r)=>{const i=new iIe(e.locale,{colorDefinitions:sIe(n.colorConfig),columns:n.columns,defaultColorValue:n.defaultColorValue,colorPickerConfig:n.colorPickerConfig});return i.inputView.set({id:t,ariaDescribedById:r}),i.bind("isReadOnly").to(e,"isEnabled",s=>!s),i.bind("hasError").to(e,"errorText",s=>!!s),i.on("input",()=>{e.errorText=null}),e.bind("isEmpty","isFocused").to(i),i}}function gH(n){const e=parseFloat(n);return!Number.isNaN(e)&&n===String(e)}function sIe(n){return n.map(e=>({color:e.model,label:e.label,options:{hasBorder:e.hasBorder}}))}class oIe extends Le{options;focusTracker;keystrokes;children;borderStyleDropdown;borderWidthInput;borderColorInput;backgroundInput;paddingInput;widthInput;heightInput;horizontalAlignmentToolbar;verticalAlignmentToolbar;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=t;const{borderStyleDropdown:r,borderWidthInput:i,borderColorInput:s,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:a,backgroundInput:l}=this._createBackgroundFields(),{widthInput:u,operatorLabel:f,heightInput:m,dimensionsLabel:p}=this._createDimensionFields(),{horizontalAlignmentToolbar:y,verticalAlignmentToolbar:v,alignmentLabel:w}=this._createAlignmentFields();this.focusTracker=new Yt,this.keystrokes=new bn,this.children=this.createCollection(),this.borderStyleDropdown=r,this.borderWidthInput=i,this.borderColorInput=s,this.backgroundInput=l,this.paddingInput=this._createPaddingField(),this.widthInput=u,this.heightInput=m,this.horizontalAlignmentToolbar=y,this.verticalAlignmentToolbar=v;const{saveButtonView:E,cancelButtonView:k}=this._createActionButtons();this.saveButtonView=E,this.cancelButtonView=k,this._focusables=new pr,this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new pl(e,{label:this.t("Cell properties")})),this.children.add(new Wr(e,{labelView:o,children:[o,r,s,i],class:"ck-table-form__border-row"})),this.children.add(new Wr(e,{labelView:a,children:[a,l],class:"ck-table-form__background-row"})),this.children.add(new Wr(e,{children:[new Wr(e,{labelView:p,children:[p,u,f,m],class:"ck-table-form__dimensions-row"}),new Wr(e,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Wr(e,{labelView:w,children:[w,y,v],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Wr(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableCellProperties,t={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},r=Jy({colorConfig:this.options.borderColors,columns:5,defaultColorValue:t.color,colorPickerConfig:this.options.colorPickerConfig}),i=this.locale,s=this.t,o=s("Style"),a=new Us(i);a.text=s("Border");const l=yA(s),u=new Yn(i,$C);u.set({label:o,class:"ck-table-form__border-style"}),u.fieldView.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),u.fieldView.buttonView.bind("label").to(this,"borderStyle",p=>l[p||"none"]),u.fieldView.on("execute",p=>{this.borderStyle=p.source._borderStyleValue}),u.bind("isEmpty").to(this,"borderStyle",p=>!p),vc(u.fieldView,mH(this,t.style),{role:"menu",ariaLabel:o});const f=new Yn(i,ms);f.set({label:s("Width"),class:"ck-table-form__border-width"}),f.fieldView.bind("value").to(this,"borderWidth"),f.bind("isEnabled").to(this,"borderStyle",rb),f.fieldView.on("input",()=>{this.borderWidth=f.fieldView.element.value});const m=new Yn(i,r);return m.set({label:s("Color"),class:"ck-table-form__border-color"}),m.fieldView.bind("value").to(this,"borderColor"),m.bind("isEnabled").to(this,"borderStyle",rb),m.fieldView.on("input",()=>{this.borderColor=m.fieldView.value}),this.on("change:borderStyle",(p,y,v,w)=>{rb(v)||(this.borderColor="",this.borderWidth=""),rb(w)||(this.borderColor=t.color,this.borderWidth=t.width)}),{borderRowLabel:a,borderStyleDropdown:u,borderColorInput:m,borderWidthInput:f}}_createBackgroundFields(){const e=this.locale,t=this.t,r=new Us(e);r.text=t("Background");const i=Jy({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),s=new Yn(e,i);return s.set({label:t("Color"),class:"ck-table-cell-properties-form__background"}),s.fieldView.bind("value").to(this,"backgroundColor"),s.fieldView.on("input",()=>{this.backgroundColor=s.fieldView.value}),{backgroundRowLabel:r,backgroundInput:s}}_createDimensionFields(){const e=this.locale,t=this.t,r=new Us(e);r.text=t("Dimensions");const i=new Yn(e,ms);i.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),i.fieldView.bind("value").to(this,"width"),i.fieldView.on("input",()=>{this.width=i.fieldView.element.value});const s=new Le(e);s.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const o=new Yn(e,ms);return o.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),o.fieldView.bind("value").to(this,"height"),o.fieldView.on("input",()=>{this.height=o.fieldView.element.value}),{dimensionsLabel:r,widthInput:i,operatorLabel:s,heightInput:o}}_createPaddingField(){const e=this.locale,t=this.t,r=new Yn(e,ms);return r.set({label:t("Padding"),class:"ck-table-cell-properties-form__padding"}),r.fieldView.bind("value").to(this,"padding"),r.fieldView.on("input",()=>{this.padding=r.fieldView.element.value}),r}_createAlignmentFields(){const e=this.locale,t=this.t,r=new Us(e),i={left:IC,center:o9,right:l9,justify:a9,top:y_e,middle:b_e,bottom:p_e};r.text=t("Table cell text alignment");const s=new dc(e),o=e.contentLanguageDirection==="rtl";s.set({isCompact:!0,role:"radiogroup",ariaLabel:t("Horizontal text alignment toolbar")}),hT({view:this,icons:i,toolbar:s,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:l=>{if(o){if(l==="left")return"right";if(l==="right")return"left"}return l},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const a=new dc(e);return a.set({isCompact:!0,role:"radiogroup",ariaLabel:t("Vertical text alignment toolbar")}),hT({view:this,icons:i,toolbar:a,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:s,verticalAlignmentToolbar:a,alignmentLabel:r}}_createActionButtons(){const e=this.locale,t=this.t,r=new et(e),i=new et(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return r.set({label:t("Save"),icon:xv,class:"ck-button-save",type:"submit",withText:!0}),r.bind("isEnabled").toMany(s,"errorText",(...o)=>o.every(a=>!a)),i.set({label:t("Cancel"),icon:_v,class:"ck-button-cancel",withText:!0}),i.delegate("execute").to(this,"cancel"),{saveButtonView:r,cancelButtonView:i}}get _horizontalAlignmentLabels(){const e=this.locale,t=this.t,r=t("Align cell text to the left"),i=t("Align cell text to the center"),s=t("Align cell text to the right"),o=t("Justify cell text");return e.uiLanguageDirection==="rtl"?{right:s,center:i,left:r,justify:o}:{left:r,center:i,right:s,justify:o}}get _verticalAlignmentLabels(){const e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}function rb(n){return n!=="none"}const mT=[Bn.defaultPositions.northArrowSouth,Bn.defaultPositions.northArrowSouthWest,Bn.defaultPositions.northArrowSouthEast,Bn.defaultPositions.southArrowNorth,Bn.defaultPositions.southArrowNorthWest,Bn.defaultPositions.southArrowNorthEast,Bn.defaultPositions.viewportStickyNorth];function pH(n,e){const t=n.plugins.get("ContextualBalloon"),r=n.editing.view.document.selection;let i;e==="cell"?Ov(r)&&(i=yH(n)):Yy(r)&&(i=bH(n)),i&&t.updatePosition(i)}function bH(n){const e=n.model.document.selection,t=nc(e),r=n.editing.mapper.toViewElement(t);return{target:n.editing.view.domConverter.mapViewToDom(r),positions:mT}}function yH(n){const e=n.editing.mapper,t=n.editing.view.domConverter,r=n.model.document.selection;if(r.rangeCount>1)return{target:()=>aIe(r.getRanges(),n),positions:mT};const i=wH(r.getFirstPosition()),s=e.toViewElement(i);return{target:t.mapViewToDom(s),positions:mT}}function wH(n){return n.nodeAfter&&n.nodeAfter.is("element","tableCell")?n.nodeAfter:n.findAncestor("tableCell")}function aIe(n,e){const t=e.editing.mapper,r=e.editing.view.domConverter,i=Array.from(n).map(s=>{const o=wH(s.start),a=t.toViewElement(o);return new pt(r.mapViewToDom(a))});return pt.getBoundingRect(i)}const lIe=500,LM={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class cIe extends ee{_defaultContentTableCellProperties;_defaultLayoutTableCellProperties;_balloon;view;_viewWithContentTableDefaults;_viewWithLayoutTableDefaults;_undoStepBatch;_isReady;static get requires(){return[Co]}static get pluginName(){return"TableCellPropertiesUI"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("table.tableCellProperties",{borderColors:Xy,backgroundColors:Xy})}init(){const e=this.editor,t=e.t;this._defaultContentTableCellProperties=gA(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"}),this._defaultLayoutTableCellProperties=Iv(void 0,{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"}),this._balloon=e.plugins.get(Co),this.view=null,this._isReady=!1,e.ui.componentFactory.add("tableCellProperties",r=>{const i=new et(r);i.set({label:t("Cell properties"),icon:cxe,tooltip:!0}),this.listenTo(i,"execute",()=>this._showView());const s=Object.values(LM).map(o=>e.commands.get(o));return i.bind("isEnabled").toMany(s,"isEnabled",(...o)=>o.some(a=>a)),i})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(e){const t=this.editor,r=t.config.get("table.tableCellProperties"),i=f0(r.borderColors),s=d0(t.locale,i),o=f0(r.backgroundColors),a=d0(t.locale,o),l=r.colorPicker!==!1,u=new oIe(t.locale,{borderColors:s,backgroundColors:a,defaultTableCellProperties:e,colorPickerConfig:l?r.colorPicker||{}:!1}),f=t.t;u.render(),this.listenTo(u,"submit",()=>{this._hideView()}),this.listenTo(u,"cancel",()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()}),u.keystrokes.set("Esc",(y,v)=>{this._hideView(),v()}),Hu({emitter:u,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const m=dH(f),p=fH(f);return u.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),u.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:u.borderColorInput,commandName:"tableCellBorderColor",errorText:m,validator:Ky})),u.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:u.borderWidthInput,commandName:"tableCellBorderWidth",errorText:p,validator:hH})),u.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:u.paddingInput,commandName:"tableCellPadding",errorText:p,validator:Ag})),u.on("change:width",this._getValidatedPropertyChangeCallback({viewField:u.widthInput,commandName:"tableCellWidth",errorText:p,validator:Ag})),u.on("change:height",this._getValidatedPropertyChangeCallback({viewField:u.heightInput,commandName:"tableCellHeight",errorText:p,validator:Ag})),u.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:u.backgroundInput,commandName:"tableCellBackgroundColor",errorText:m,validator:Ky})),u.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),u.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),u}_fillViewFormFromCommandValues(){const e=this.editor.commands,t=e.get("tableCellBorderStyle");Object.entries(LM).map(([r,i])=>{const s=r,o=this.view===this._viewWithContentTableDefaults?this._defaultContentTableCellProperties[s]||"":this._defaultLayoutTableCellProperties[s]||"";return[r,e.get(i).value||o]}).forEach(([r,i])=>{(r==="borderColor"||r==="borderWidth")&&t.value==="none"||this.view.set(r,i)}),this._isReady=!0}_showView(){const e=this.editor,t=Yy(e.editing.view.document.selection),r=t&&e.editing.mapper.toModelElement(t),i=!r||r.getAttribute("tableType")!=="layout";i&&!this._viewWithContentTableDefaults?this._viewWithContentTableDefaults=this._createPropertiesView(this._defaultContentTableCellProperties):!i&&!this._viewWithLayoutTableDefaults&&(this._viewWithLayoutTableDefaults=this._createPropertiesView(this._defaultLayoutTableCellProperties)),this.view=i?this._viewWithContentTableDefaults:this._viewWithLayoutTableDefaults,this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:yH(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,t=e.editing.view.document;Ov(t.selection)?this._isViewVisible&&pH(e,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(t,r,i)=>{this._isReady&&this.editor.execute(e,{value:i,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:t,viewField:r,validator:i,errorText:s}=e,o=dA(()=>{r.errorText=s},lIe);return(a,l,u)=>{o.cancel(),this._isReady&&(i(u)?(this.editor.execute(t,{value:u,batch:this._undoStepBatch}),r.errorText=null):o())}}}class bl extends lt{attributeName;_defaultValue;_defaultContentTableValue;_defaultLayoutTableValue;constructor(e,t,r){switch(super(e),this.attributeName=t,this._defaultContentTableValue=r,t){case"tableCellBorderStyle":this._defaultLayoutTableValue="none";break;case"tableCellHorizontalAlignment":this._defaultLayoutTableValue="left";break;case"tableCellVerticalAlignment":this._defaultLayoutTableValue="middle";break;default:this._defaultLayoutTableValue=void 0}}refresh(){const t=this.editor.model.document.selection,i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t),s=nc(t);this._defaultValue=!s||s.getAttribute("tableType")!=="layout"?this._defaultContentTableValue:this._defaultLayoutTableValue,this.isEnabled=!!i.length,this.value=this._getSingleValue(i)}execute(e={}){const{value:t,batch:r}=e,i=this.editor.model,o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(i.document.selection),a=this._getValueToSet(t);i.enqueueChange(r,l=>{a?o.forEach(u=>l.setAttribute(this.attributeName,a,u)):o.forEach(u=>l.removeAttribute(this.attributeName,u))})}_getAttribute(e){if(!e)return;const t=e.getAttribute(this.attributeName);if(t!==this._defaultValue)return t}_getValueToSet(e){if(e!==this._defaultValue)return e}_getSingleValue(e){const t=this._getAttribute(e[0]);return e.every(i=>this._getAttribute(i)===t)?t:void 0}}class uIe extends bl{constructor(e,t){super(e,"tableCellWidth",t)}_getValueToSet(e){if(e=Yu(e,"px"),e!==this._defaultValue)return e}}class vH extends ee{static get pluginName(){return"TableCellWidthEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[sp]}init(){const e=this.editor,t=gA(e.config.get("table.tableCellProperties.defaultProperties"));Bb(e.model.schema,e.conversion,{modelAttribute:"tableCellWidth",styleName:"width",attributeName:"width",attributeType:"length",defaultValue:t.width}),e.commands.add("tableCellWidth",new uIe(e,t.width))}}class dIe extends bl{constructor(e,t){super(e,"tableCellPadding",t)}_getAttribute(e){if(!e)return;const t=Gu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}_getValueToSet(e){const t=Yu(e,"px");if(t!==this._defaultValue)return t}}class fIe extends bl{constructor(e,t){super(e,"tableCellHeight",t)}_getValueToSet(e){const t=Yu(e,"px");if(t!==this._defaultValue)return t}}class hIe extends bl{constructor(e,t){super(e,"tableCellBackgroundColor",t)}}class mIe extends bl{constructor(e,t){super(e,"tableCellVerticalAlignment",t)}}class gIe extends bl{constructor(e,t){super(e,"tableCellHorizontalAlignment",t)}}class pIe extends bl{constructor(e,t){super(e,"tableCellBorderStyle",t)}_getAttribute(e){if(!e)return;const t=Gu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class bIe extends bl{constructor(e,t){super(e,"tableCellBorderColor",t)}_getAttribute(e){if(!e)return;const t=Gu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class yIe extends bl{constructor(e,t){super(e,"tableCellBorderWidth",t)}_getAttribute(e){if(!e)return;const t=Gu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}_getValueToSet(e){const t=Yu(e,"px");if(t!==this._defaultValue)return t}}const BM=/^(top|middle|bottom)$/,VM=/^(left|center|right|justify)$/;class wIe extends ee{static get pluginName(){return"TableCellPropertiesEditing"}static get licenseFeatureCode(){return"TCP"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}static get requires(){return[sp,vH]}init(){const e=this.editor,t=e.model.schema,r=e.conversion;e.config.define("table.tableCellProperties.defaultProperties",{});const i=gA(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"});e.data.addStyleProcessorRules($V),vIe(e,{color:i.borderColor,style:i.borderStyle,width:i.borderWidth}),e.commands.add("tableCellBorderStyle",new pIe(e,i.borderStyle)),e.commands.add("tableCellBorderColor",new bIe(e,i.borderColor)),e.commands.add("tableCellBorderWidth",new yIe(e,i.borderWidth)),Bb(t,r,{modelAttribute:"tableCellHeight",styleName:"height",attributeName:"height",attributeType:"length",defaultValue:i.height}),e.commands.add("tableCellHeight",new fIe(e,i.height)),e.data.addStyleProcessorRules(Pwe),Bb(t,r,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:i.padding}),e.commands.add("tableCellPadding",new dIe(e,i.padding)),e.data.addStyleProcessorRules(NC),Bb(t,r,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",attributeName:"bgcolor",attributeType:"color",defaultValue:i.backgroundColor}),e.commands.add("tableCellBackgroundColor",new hIe(e,i.backgroundColor)),_Ie(t,r,i.horizontalAlignment),e.commands.add("tableCellHorizontalAlignment",new gIe(e,i.horizontalAlignment)),xIe(t,r,i.verticalAlignment),e.commands.add("tableCellVerticalAlignment",new mIe(e,i.verticalAlignment))}}function vIe(n,e){const{conversion:t}=n,{schema:r}=n.model,i={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};r.extend("tableCell",{allowAttributes:Object.values(i)});for(const s of Object.values(i))r.setAttributeProperties(s,{isFormatting:!0});iT(n,"td",i,e),iT(n,"th",i,e),Cg(t,{modelElement:"tableCell",modelAttribute:i.style,styleName:"border-style"}),Cg(t,{modelElement:"tableCell",modelAttribute:i.color,styleName:"border-color"}),Cg(t,{modelElement:"tableCell",modelAttribute:i.width,styleName:"border-width"})}function _Ie(n,e,t){n.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),n.setAttributeProperties("tableCellHorizontalAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:r=>({key:"style",value:{"text-align":r}})}),e.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":VM}},model:{key:"tableCellHorizontalAlignment",value:(r,i,s)=>{const o=vo(t,"left",s),a=r.getStyle("text-align");if(a!==o)return a;i.consumable.consume(r,{styles:"text-align"})}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:VM}},model:{key:"tableCellHorizontalAlignment",value:(r,i,s)=>{const o=vo(t,"left",s),a=r.getAttribute("align");if(a!==o)return a;i.consumable.consume(r,{attributes:"align"})}}})}function xIe(n,e,t){n.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),n.setAttributeProperties("tableCellVerticalAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:r=>({key:"style",value:{"vertical-align":r}})}),e.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":BM}},model:{key:"tableCellVerticalAlignment",value:(r,i,s)=>{const o=vo(t,"middle",s),a=r.getStyle("vertical-align");if(a!==o)return a;i.consumable.consume(r,{styles:"vertical-align"})}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:BM}},model:{key:"tableCellVerticalAlignment",value:(r,i,s)=>{const o=vo(t,"middle",s),a=r.getAttribute("valign");if(a!==o)return a;i.consumable.consume(r,{attributes:"valign"})}}})}class EIe extends ee{static get pluginName(){return"TableCellProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[wIe,cIe]}}class kIe extends lt{refresh(){this.isEnabled=!0}execute(e={}){const{model:t,plugins:r}=this.editor;let{table:i=t.document.selection.getSelectedElement(),columnWidths:s,tableWidth:o}=e;s&&(s=Array.isArray(s)?s:s.split(",")),t.change(a=>{o?a.setAttribute("tableWidth",o,i):a.removeAttribute("tableWidth",i);const l=r.get("TableColumnResizeEditing").getColumnGroupElement(i);if(!s&&!l)return;if(!s)return a.remove(l);const u=pA(s);if(l)Array.from(l.getChildren()).forEach((f,m)=>a.setAttribute("columnWidth",u[m],f));else{const f=a.createElement("tableColumnGroup");u.forEach(m=>a.appendElement("tableColumn",{columnWidth:m},f)),a.append(f,i)}})}}function TIe(n){return e=>e.on("element:colgroup",(t,r,i)=>{const s=r.modelCursor.findAncestor("table"),o=rp(s);if(!o)return;const a=ip(o),l=n.getColumns(s);let u=_Re(o,i.writer);u=Array.from({length:l},(f,m)=>u[m]||"auto"),(u.length!=a.length||u.includes("auto"))&&sH(a,o,pA(u),i.writer)},{priority:"low"})}function SIe(){return n=>n.on("insert:table",(e,t,r)=>{const i=r.writer,s=t.item,o=r.mapper.toViewElement(s),a=o.is("element","table")?o:Array.from(o.getChildren()).find(u=>u.is("element","table"));rp(s)?i.addClass("ck-table-resized",a):i.removeClass("ck-table-resized",a)},{priority:"low"})}function CIe(){return n=>{n.on("element:table",(e,t,r)=>{r.consumable.consume(t.viewItem,{classes:"ck-table-resized"})})}}const UM=fh("px");class AIe extends ee{_isResizingActive;_resizingData;_domEmitter;_tableUtilsPlugin;_initialMouseEventData=null;static get requires(){return[sp,Ir]}static get pluginName(){return"TableColumnResizeEditing"}static get licenseFeatureCode(){return"TCR"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}constructor(e){super(e),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(Ei()),this._tableUtilsPlugin=e.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(t,r,i)=>{const s=i?"removeClass":"addClass";e.editing.view.change(o=>{for(const a of e.editing.view.document.roots)o[s]("ck-column-resize_disabled",e.editing.view.document.getRoot(a.rootName))})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const e=this.editor,t=e.plugins.get("TableColumnResize");e.plugins.get("TableEditing").registerAdditionalSlot({filter:s=>s.is("element","tableColumnGroup"),positionOffset:0});const i=new kIe(e);e.commands.add("resizeTableWidth",i),e.commands.add("resizeColumnWidths",i),this.bind("_isResizingAllowed").to(e,"isReadOnly",t,"isEnabled",i,"isEnabled",(s,o,a)=>!s&&o&&a)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(e){return rp(e)}getTableColumnElements(e){return ip(e)}getTableColumnsWidths(e){return vRe(e)}_extendSchema(){const e=this.editor.model.schema;e.extend("table",{allowAttributes:["tableWidth"]}),e.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),e.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0}),e.setAttributeProperties("columnWidth",{isFormatting:!0})}_registerPostFixer(){const t=this.editor.model;t.document.registerPostFixer(s=>{let o=!1;for(const a of hRe(t)){const l=this.getColumnGroupElement(a),u=this.getTableColumnElements(l),f=this.getTableColumnsWidths(l);let m=pA(f);m=r(m,a,this),!vM(f,m)&&(sH(u,l,m,s),o=!0)}return o});function r(s,o,a){const l=a._tableUtilsPlugin.getColumns(o);if(l-s.length===0)return s;const f=s.map(p=>Number(p.replace("%",""))),m=i(a.editor.model.document.differ,o);for(const p of m){const y=l-f.length;if(y===0)continue;const v=y>0,w=a._tableUtilsPlugin.getCellLocation(p).column;if(v){const E=mRe(o,a.editor),k=bRe(y,E);f.splice(w,0,...k)}else{const E=f.splice(w,Math.abs(y));f[w]+=v0(E)}}return f.map(p=>p+"%")}function i(s,o){const a=new Set;for(const l of s.getChanges())if(l.type=="insert"&&l.position.nodeAfter&&l.position.nodeAfter.name=="tableCell"&&l.position.nodeAfter.getAncestors().includes(o))a.add(l.position.nodeAfter);else if(l.type=="remove"){const u=l.position.nodeBefore||l.position.nodeAfter;u.name=="tableCell"&&u.getAncestors().includes(o)&&a.add(u)}return a}}_registerConverters(){const t=this.editor.conversion;t.for("upcast").attributeToAttribute({view:{name:/^(figure|table)$/,styles:{width:/[\s\S]+/}},model:{key:"tableWidth",value:r=>{if(!r.parent.is("element","figure"))return r.getStyle("width")}}}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:r=>({name:"figure",key:"style",value:{width:r}})}),t.elementToElement({model:"tableColumnGroup",view:"colgroup"}),t.elementToElement({model:"tableColumn",view:"col"}),t.for("downcast").add(SIe()),t.for("upcast").add(CIe()),t.for("upcast").add(TIe(this._tableUtilsPlugin)),t.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:r=>{const i=r.getStyle("width");return!i||!i.endsWith("%")&&!i.endsWith("pt")?"auto":i}}}),t.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),t.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:r=>({key:"style",value:{width:r}})})}_registerResizingListeners(){const e=this.editor.editing.view;e.addObserver(lH),e.document.on("mouseover",this._onMouseOverHandler.bind(this),{priority:"high"}),e.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),e.document.on("mouseout",this._onMouseOutHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(qe.window.document,"mousemove",IPe(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(qe.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_recalculateResizerElement(e){const t=this.editor,r=t.editing.view.domConverter,i=r.mapViewToDom(e.findAncestor("table")),s=r.mapViewToDom(e.findAncestor(f=>["td","th"].includes(f.name))),o=new pt(i),a=new pt(s),l=UM(Number((o.top-a.top).toFixed(4))),u=UM(Number((a.bottom-o.bottom).toFixed(4)));t.editing.view.change(f=>{f.setStyle("top",l,e),f.setStyle("bottom",u,e)})}_resetResizerStyles(e){this.editor.editing.view.change(t=>{t.removeStyle("top",e),t.removeStyle("bottom",e)})}_onMouseOverHandler(e,t){const r=t.target;r.hasClass("ck-table-column-resizer")&&this._isResizingAllowed&&this._recalculateResizerElement(r)}_onMouseOutHandler(e,t){const r=t.target;r.hasClass("ck-table-column-resizer")&&this._isResizingAllowed&&(this._isResizingActive||this._resetResizerStyles(r))}_onMouseDownHandler(e,t){const r=t.target;if(!r.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const i=this.editor,s=i.editing.mapper.toModelElement(r.findAncestor("figure"));i.model.canEditAt(s)&&(t.preventDefault(),e.stop(),this._initialMouseEventData=t)}_startResizingAfterThreshold(){const e=this._initialMouseEventData,{target:t}=e,r=this.editor.editing.mapper.toModelElement(t.findAncestor("figure")),i=t.findAncestor("table"),s=o(r,this._tableUtilsPlugin,this.editor);Array.from(i.getChildren()).find(u=>u.is("element","colgroup"))||this.editor.editing.view.change(u=>{a(u,s,i)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(e,s),this.editor.editing.view.change(u=>l(u,i,this._resizingData));function o(u,f,m){const p=Array(f.getColumns(u)),y=new Jt(u);for(const v of y){const w=m.editing.mapper.toViewElement(v.cell),E=m.editing.view.domConverter.mapViewToDom(w),k=wRe(E);(!p[v.column]||k<p[v.column])&&(p[v.column]=Mi(k))}return p}function a(u,f,m){const p=u.createContainerElement("colgroup");for(let y=0;y<f.length;y++){const v=u.createEmptyElement("col"),w=`${Mi(f[y]/v0(f)*100)}%`;u.setStyle("width",w,v),u.insert(u.createPositionAt(p,"end"),v)}u.insert(u.createPositionAt(m,0),p)}function l(u,f,m){const p=m.widths.viewFigureWidth/m.widths.viewFigureParentWidth;u.addClass("ck-table-resized",f),u.addClass("ck-table-column-resizer__active",m.elements.viewResizer),u.setStyle("width",`${Mi(p*100)}%`,f.findAncestor("figure"))}}_onMouseMoveHandler(e,t){if(this._initialMouseEventData){const S=this._initialMouseEventData.domEvent;if(Math.abs(t.clientX-S.clientX)>=fRe)this._startResizingAfterThreshold(),this._initialMouseEventData=null;else return}if(!this._isResizingActive)return;if(!this._isResizingAllowed){this._onMouseUpHandler();return}const{columnPosition:r,flags:{isRightEdge:i,isTableCentered:s,isLtrContent:o},elements:{viewFigure:a,viewLeftColumn:l,viewRightColumn:u,viewResizer:f},widths:{viewFigureParentWidth:m,tableWidth:p,leftColumnWidth:y,rightColumnWidth:v}}=this._resizingData,w=-y+lT,E=i?m-p:v-lT,k=(o?1:-1)*(i&&s?2:1),T=pRe((t.clientX-r)*k,Math.min(w,0),Math.max(E,0));T!==0&&(this.editor.editing.view.change(S=>{const P=Mi((y+T)*100/p);if(S.setStyle("width",`${P}%`,l),i){const R=Mi((p+T)*100/m);S.setStyle("width",`${R}%`,a)}else{const R=Mi((v-T)*100/p);S.setStyle("width",`${R}%`,u)}}),this._recalculateResizerElement(f))}_onMouseUpHandler(){if(this._initialMouseEventData=null,!this._isResizingActive)return;const{viewResizer:e,modelTable:t,viewFigure:r,viewColgroup:i}=this._resizingData.elements,s=this.editor,o=s.editing.view,a=this.getColumnGroupElement(t),l=Array.from(i.getChildren()).filter(E=>E.is("view:element")),u=a?this.getTableColumnsWidths(a):null,f=l.map(E=>E.getStyle("width")),m=!vM(u,f),p=t.getAttribute("tableWidth"),y=r.getStyle("width"),v=p!==y;(m||v)&&(this._isResizingAllowed?s.execute("resizeTableWidth",{table:t,tableWidth:`${Mi(y)}%`,columnWidths:f}):o.change(E=>{if(u)for(const k of l)E.setStyle("width",u.shift(),k);else E.remove(i);v&&(p?E.setStyle("width",p,r):E.removeStyle("width",r)),!u&&!p&&E.removeClass("ck-table-resized",[...r.getChildren()].find(k=>k.name==="table"))})),o.change(E=>{E.removeClass("ck-table-column-resizer__active",e)}),o.domConverter.mapViewToDom(e).matches(":hover")||this._resetResizerStyles(e),this._isResizingActive=!1,this._resizingData=null}_getResizingData(e,t){const r=this.editor,i=e.domEvent.clientX,s=e.target,o=s.findAncestor("td")||s.findAncestor("th"),a=r.editing.mapper.toModelElement(o),l=a.findAncestor("table"),u=gRe(a,this._tableUtilsPlugin).rightEdge,f=this._tableUtilsPlugin.getColumns(l)-1,m=u===f,p=!l.hasAttribute("tableAlignment"),y=r.locale.contentLanguageDirection!=="rtl",v=o.findAncestor("table"),w=v.findAncestor("figure"),E=[...v.getChildren()].find(F=>F.is("element","colgroup")),k=E.getChild(u),T=m?void 0:E.getChild(u+1),S=cT(r.editing.view.domConverter.mapViewToDom(w.parent)),P=cT(r.editing.view.domConverter.mapViewToDom(w)),R=iH(l,r),D=t[u],A=m?void 0:t[u+1];return{columnPosition:i,flags:{isRightEdge:m,isTableCentered:p,isLtrContent:y},elements:{viewResizer:s,modelTable:l,viewFigure:w,viewColgroup:E,viewLeftColumn:k,viewRightColumn:T},widths:{viewFigureParentWidth:S,viewFigureWidth:P,tableWidth:R,leftColumnWidth:D,rightColumnWidth:A}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(e=>{e.on("insert:tableCell",(t,r,i)=>{const s=r.item,o=i.mapper.toViewElement(s),a=i.writer;a.insert(a.createPositionAt(o,"end"),a.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}class NIe extends ee{static get requires(){return[AIe,vH]}static get pluginName(){return"TableColumnResize"}static get isOfficialPlugin(){return!0}}class Ku extends lt{attributeName;_defaultValue;_defaultContentTableValue;_defaultLayoutTableValue;constructor(e,t,r){super(e),this.attributeName=t,this._defaultContentTableValue=r,this._defaultLayoutTableValue=t==="tableBorderStyle"?"none":void 0}refresh(){const t=this.editor.model.document.selection,r=nc(t);this._defaultValue=!r||r.getAttribute("tableType")!=="layout"?this._defaultContentTableValue:this._defaultLayoutTableValue,this.isEnabled=!!r,this.value=this._getValue(r)}execute(e={}){const t=this.editor.model,r=t.document.selection,{value:i,batch:s}=e,o=nc(r),a=this._getValueToSet(i);t.enqueueChange(s,l=>{a?l.setAttribute(this.attributeName,a,o):l.removeAttribute(this.attributeName,o)})}_getValue(e){if(!e)return;const t=e.getAttribute(this.attributeName);if(t!==this._defaultValue)return t}_getValueToSet(e){if(e!==this._defaultValue)return e}}class PIe extends Ku{constructor(e,t){super(e,"tableBackgroundColor",t)}}class RIe extends Ku{constructor(e,t){super(e,"tableBorderColor",t)}_getValue(e){if(!e)return;const t=Gu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class IIe extends Ku{constructor(e,t){super(e,"tableBorderStyle",t)}_getValue(e){if(!e)return;const t=Gu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class OIe extends Ku{constructor(e,t){super(e,"tableBorderWidth",t)}_getValue(e){if(!e)return;const t=Gu(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}_getValueToSet(e){const t=Yu(e,"px");if(t!==this._defaultValue)return t}}class MIe extends Ku{constructor(e,t){super(e,"tableWidth",t)}_getValueToSet(e){if(e=Yu(e,"px"),e!==this._defaultValue)return e}}class DIe extends Ku{constructor(e,t){super(e,"tableHeight",t)}_getValueToSet(e){if(e=Yu(e,"px"),e!==this._defaultValue)return e}}class FIe extends Ku{constructor(e,t){super(e,"tableAlignment",t)}}class LIe extends ee{static get pluginName(){return"TablePropertiesEditing"}static get licenseFeatureCode(){return"TCP"}static get isOfficialPlugin(){return!0}static get isPremiumPlugin(){return!0}static get requires(){return[sp]}init(){const e=this.editor,t=e.model.schema,r=e.conversion;e.config.define("table.tableProperties.defaultProperties",{});const i=mA(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),s=e.config.get("table.tableProperties.alignment.useInlineStyles")!==!1;if(e.data.addStyleProcessorRules(jV),e.data.addStyleProcessorRules($V),VIe(e,{color:i.borderColor,style:i.borderStyle,width:i.borderWidth}),e.commands.add("tableBorderColor",new RIe(e,i.borderColor)),e.commands.add("tableBorderStyle",new IIe(e,i.borderStyle)),e.commands.add("tableBorderWidth",new OIe(e,i.borderWidth)),e.config.get("experimentalFlags.useExtendedTableBlockAlignment")?UIe(t,r,i.alignment,s):zIe(t,r,i.alignment),e.commands.add("tableAlignment",new FIe(e,i.alignment)),HM(t,r,{modelAttribute:"tableWidth",styleName:"width",attributeName:"width",attributeType:"length",defaultValue:i.width}),e.commands.add("tableWidth",new MIe(e,i.width)),HM(t,r,{modelAttribute:"tableHeight",styleName:"height",attributeName:"height",attributeType:"length",defaultValue:i.height}),e.commands.add("tableHeight",new DIe(e,i.height)),e.data.addStyleProcessorRules(NC),WIe(t,r,{modelAttribute:"tableBackgroundColor",styleName:"background-color",attributeName:"bgcolor",attributeType:"color",defaultValue:i.backgroundColor}),e.commands.add("tableBackgroundColor",new PIe(e,i.backgroundColor)),e.config.get("experimentalFlags.useExtendedTableBlockAlignment")){const o=e.editing.view.document;this.listenTo(o,"clipboardOutput",(a,l)=>{e.editing.view.change(u=>{for(const{item:f}of u.createRangeIn(l.content))BIe(f,u);l.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(l.content))})},{priority:"lowest"})}}}function BIe(n,e){if(!n.is("element","table"))return;const t=n.getAttribute("align"),r=n.getStyle("float"),i=n.getStyle("margin-left"),s=n.getStyle("margin-right");if(t&&t==="center"||r&&r==="right"&&t&&t==="right"){zM(e,t,n);return}r===void 0&&i==="auto"&&s==="0"&&zM(e,"right",n)}function zM(n,e,t){const r=n.createPositionBefore(t),i=n.createContainerElement("div",{align:e},t);n.insert(r,i)}function VIe(n,e){const{conversion:t}=n,{schema:r}=n.model,i={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};r.extend("table",{allowAttributes:Object.values(i)});for(const s of Object.values(i))r.setAttributeProperties(s,{isFormatting:!0});iT(n,"table",i,e),Fb(t,{modelAttribute:i.color,styleName:"border-color"}),Fb(t,{modelAttribute:i.style,styleName:"border-style"}),Fb(t,{modelAttribute:i.width,styleName:"border-width"})}function UIe(n,e,t,r){n.extend("table",{allowAttributes:["tableAlignment"]}),n.setAttributeProperties("tableAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment",values:["left","center","right","blockLeft","blockRight"]},view:{left:r?{key:"style",value:{float:"left","margin-right":"var(--ck-content-table-style-spacing, 1.5em)"}}:{key:"class",value:ii.left.className},right:r?{key:"style",value:{float:"right","margin-left":"var(--ck-content-table-style-spacing, 1.5em)"}}:{key:"class",value:ii.right.className},center:r?{key:"style",value:{"margin-left":"auto","margin-right":"auto"}}:{key:"class",value:ii.center.className},blockLeft:r?{key:"style",value:{"margin-left":"0","margin-right":"auto"}}:{key:"class",value:ii.blockLeft.className},blockRight:r?{key:"style",value:{"margin-left":"auto","margin-right":"0"}}:{key:"class",value:ii.blockRight.className}},converterPriority:"high"}),LPe.forEach(i=>{e.for("upcast").attributeToAttribute({view:i.view,model:{key:"tableAlignment",value:(s,o,a)=>{if(jIe(s))return;const l=vo(t,"",a),u=i.getAlign(s),f=i.getConsumables(s);if(o.consumable.consume(s,f),u!==l)return u}}})}),e.for("upcast").add(HIe(t))}function zIe(n,e,t){const r=/^(left|center|right)$/,i=/^(left|none|right)$/;n.extend("table",{allowAttributes:["tableAlignment"]}),n.setAttributeProperties("tableAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment",values:["left","center","right"]},view:{left:{key:"style",value:{float:"left"}},right:{key:"style",value:{float:"right"}},center:(s,o,a)=>({key:"style",value:a.item.getAttribute("tableType")!=="layout"?{float:"none"}:{"margin-left":"auto","margin-right":"auto"}})},converterPriority:"high"}),e.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:i}},model:{key:"tableAlignment",value:(s,o,a)=>{if(s.name=="figure"&&!s.hasClass("table"))return;const l=vo(t,"",a);let u=s.getStyle("float");if(u==="none"&&(u="center"),u!==l)return u;o.consumable.consume(s,{styles:"float"})}}}).attributeToAttribute({view:{name:/^(table|figure)$/,styles:{"margin-left":"auto","margin-right":"auto"}},model:{key:"tableAlignment",value:(s,o,a)=>{if(s.name=="figure"&&!s.hasClass("table"))return;const l=vo(t,"",a),u="center";if(u!==l)return u;o.consumable.consume(s,{styles:["margin-left","margin-right"]})}}}).attributeToAttribute({view:{name:"table",attributes:{align:r}},model:{key:"tableAlignment",value:(s,o,a)=>{const l=vo(t,"",a),u=s.getAttribute("align");if(u!==l)return u;o.consumable.consume(s,{attributes:"align"})}}})}function HIe(n){return e=>{e.on("element:div",(t,r,i)=>{if(!i.consumable.test(r.viewItem,{name:!0,attributes:"align"}))return;const s=nH(r.viewItem);if(!s||!i.consumable.test(s,{name:!0}))return;i.consumable.consume(r.viewItem,{name:!0,attributes:"align"});const o=i.convertItem(s,r.modelCursor),a=_n(o.modelRange.getItems());if(!a||!a.is("element","table")){i.consumable.revert(r.viewItem,{name:!0,attributes:"align"}),o.modelRange&&!o.modelRange.isCollapsed&&(r.modelRange=o.modelRange,r.modelCursor=o.modelCursor);return}const l=r.viewItem.getAttribute("align"),u=s.getAttribute("align"),f=vo(n,"",r),m=$Ie(l,u,f);m&&i.writer.setAttribute("tableAlignment",m,a),i.convertChildren(r.viewItem,i.writer.createPositionAt(a,"end")),i.updateConversionResult(a,r)})}}function $Ie(n,e,t){if(n)switch(n){case"right":return e==="right"?"right":e==="left"?"left":"blockRight";case"center":return"center";case"left":return e===void 0?"blockLeft":"left";default:return t}}function WIe(n,e,t){const{modelAttribute:r}=t;n.extend("table",{allowAttributes:[r]}),n.setAttributeProperties(r,{isFormatting:!0}),fA(e,{viewElement:"table",...t}),Fb(e,t)}function HM(n,e,t){const{modelAttribute:r}=t;n.extend("table",{allowAttributes:[r]}),n.setAttributeProperties(r,{isFormatting:!0}),fA(e,{viewElement:/^(table|figure)$/,shouldUpcast:i=>!(i.name=="table"&&i.parent.name=="figure"||i.name=="figure"&&!i.hasClass("table")),...t}),Cg(e,{modelElement:"table",...t})}function jIe(n){return n.name=="figure"&&!n.hasClass("table")}class qIe extends Le{options;focusTracker;keystrokes;children;borderStyleDropdown;borderWidthInput;borderColorInput;backgroundInput;widthInput;heightInput;alignmentToolbar;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=t;const{borderStyleDropdown:r,borderWidthInput:i,borderColorInput:s,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:a,backgroundInput:l}=this._createBackgroundFields(),{widthInput:u,operatorLabel:f,heightInput:m,dimensionsLabel:p}=this._createDimensionFields(),{alignmentToolbar:y,alignmentLabel:v}=this._createAlignmentFields();this.focusTracker=new Yt,this.keystrokes=new bn,this.children=this.createCollection(),this.borderStyleDropdown=r,this.borderWidthInput=i,this.borderColorInput=s,this.backgroundInput=l,this.widthInput=u,this.heightInput=m,this.alignmentToolbar=y;const{saveButtonView:w,cancelButtonView:E}=this._createActionButtons();this.saveButtonView=w,this.cancelButtonView=E,this._focusables=new pr,this._focusCycler=new kr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new pl(e,{label:this.t("Table properties")})),this.children.add(new Wr(e,{labelView:o,children:[o,r,s,i],class:"ck-table-form__border-row"})),this.children.add(new Wr(e,{labelView:a,children:[a,l],class:"ck-table-form__background-row"})),this.children.add(new Wr(e,{children:[new Wr(e,{labelView:p,children:[p,u,f,m],class:"ck-table-form__dimensions-row"}),new Wr(e,{labelView:v,children:[v,y],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Wr(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),wc({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableProperties,t={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},r=Jy({colorConfig:this.options.borderColors,columns:5,defaultColorValue:t.color,colorPickerConfig:this.options.colorPickerConfig}),i=this.locale,s=this.t,o=s("Style"),a=new Us(i);a.text=s("Border");const l=yA(s),u=new Yn(i,$C);u.set({label:o,class:"ck-table-form__border-style"}),u.fieldView.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),u.fieldView.buttonView.bind("label").to(this,"borderStyle",p=>l[p||"none"]),u.fieldView.on("execute",p=>{this.borderStyle=p.source._borderStyleValue}),u.bind("isEmpty").to(this,"borderStyle",p=>!p),vc(u.fieldView,mH(this,t.style),{role:"menu",ariaLabel:o});const f=new Yn(i,ms);f.set({label:s("Width"),class:"ck-table-form__border-width"}),f.fieldView.bind("value").to(this,"borderWidth"),f.bind("isEnabled").to(this,"borderStyle",ib),f.fieldView.on("input",()=>{this.borderWidth=f.fieldView.element.value});const m=new Yn(i,r);return m.set({label:s("Color"),class:"ck-table-form__border-color"}),m.fieldView.bind("value").to(this,"borderColor"),m.bind("isEnabled").to(this,"borderStyle",ib),m.fieldView.on("input",()=>{this.borderColor=m.fieldView.value}),this.on("change:borderStyle",(p,y,v,w)=>{ib(v)||(this.borderColor="",this.borderWidth=""),ib(w)||(this.borderColor=t.color,this.borderWidth=t.width)}),{borderRowLabel:a,borderStyleDropdown:u,borderColorInput:m,borderWidthInput:f}}_createBackgroundFields(){const e=this.locale,t=this.t,r=new Us(e);r.text=t("Background");const i=Jy({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),s=new Yn(e,i);return s.set({label:t("Color"),class:"ck-table-properties-form__background"}),s.fieldView.bind("value").to(this,"backgroundColor"),s.fieldView.on("input",()=>{this.backgroundColor=s.fieldView.value}),{backgroundRowLabel:r,backgroundInput:s}}_createDimensionFields(){const e=this.locale,t=this.t,r=new Us(e);r.text=t("Dimensions");const i=new Yn(e,ms);i.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),i.fieldView.bind("value").to(this,"width"),i.fieldView.on("input",()=>{this.width=i.fieldView.element.value});const s=new Le(e);s.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const o=new Yn(e,ms);return o.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),o.fieldView.bind("value").to(this,"height"),o.fieldView.on("input",()=>{this.height=o.fieldView.element.value}),{dimensionsLabel:r,widthInput:i,operatorLabel:s,heightInput:o}}_createAlignmentFields(){const e=this.locale,t=this.t,r=new Us(e);r.text=t("Alignment");const i=new dc(e);return i.set({role:"radiogroup",isCompact:!0,ariaLabel:t("Table alignment toolbar")}),hT({view:this,icons:{left:DC,center:My,right:Dy},toolbar:i,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:r,alignmentToolbar:i}}_createActionButtons(){const e=this.locale,t=this.t,r=new et(e),i=new et(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return r.set({label:t("Save"),icon:xv,class:"ck-button-save",type:"submit",withText:!0}),r.bind("isEnabled").toMany(s,"errorText",(...o)=>o.every(a=>!a)),i.set({label:t("Cancel"),icon:_v,class:"ck-button-cancel",withText:!0}),i.delegate("execute").to(this,"cancel"),{saveButtonView:r,cancelButtonView:i}}get _alignmentLabels(){const e=this.locale,t=this.t,r=t("Align table to the left"),i=t("Center table"),s=t("Align table to the right");return e.uiLanguageDirection==="rtl"?{right:s,center:i,left:r}:{left:r,center:i,right:s}}}function ib(n){return n!=="none"}const GIe=500,$M={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class YIe extends ee{_defaultContentTableProperties;_defaultLayoutTableProperties;_balloon;view=null;_viewWithContentTableDefaults=null;_viewWithLayoutTableDefaults=null;_undoStepBatch;_isReady;static get requires(){return[Co]}static get pluginName(){return"TablePropertiesUI"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("table.tableProperties",{borderColors:Xy,backgroundColors:Xy})}init(){const e=this.editor;this._defaultContentTableProperties=mA(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._defaultLayoutTableProperties=Iv(),this._balloon=e.plugins.get(Co),e.ui.componentFactory.add("tableProperties",()=>this._createTablePropertiesButton())}_createTablePropertiesButton(){const e=this.editor,t=e.t,r=new et(e.locale);r.set({label:t("Table properties"),icon:fxe,tooltip:!0}),this.listenTo(r,"execute",()=>this._showView());const i=Object.values($M).map(s=>e.commands.get(s));return r.bind("isEnabled").toMany(i,"isEnabled",(...s)=>s.some(o=>o)),r}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(e){const t=this.editor,r=t.config.get("table.tableProperties"),i=f0(r.borderColors),s=d0(t.locale,i),o=f0(r.backgroundColors),a=d0(t.locale,o),l=r.colorPicker!==!1,u=new qIe(t.locale,{borderColors:s,backgroundColors:a,defaultTableProperties:e,colorPickerConfig:l?r.colorPicker||{}:!1}),f=t.t;u.render(),this.listenTo(u,"submit",()=>{this._hideView()}),this.listenTo(u,"cancel",()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()}),u.keystrokes.set("Esc",(y,v)=>{this._hideView(),v()}),Hu({emitter:u,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const m=dH(f),p=fH(f);return u.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),u.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:u.borderColorInput,commandName:"tableBorderColor",errorText:m,validator:Ky})),u.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:u.borderWidthInput,commandName:"tableBorderWidth",errorText:p,validator:hH})),u.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:u.backgroundInput,commandName:"tableBackgroundColor",errorText:m,validator:Ky})),u.on("change:width",this._getValidatedPropertyChangeCallback({viewField:u.widthInput,commandName:"tableWidth",errorText:p,validator:Ag})),u.on("change:height",this._getValidatedPropertyChangeCallback({viewField:u.heightInput,commandName:"tableHeight",errorText:p,validator:Ag})),u.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),u}_fillViewFormFromCommandValues(){const e=this.editor.commands,t=e.get("tableBorderStyle");Object.entries($M).map(([r,i])=>{const s=r,o=this.view===this._viewWithContentTableDefaults?this._defaultContentTableProperties[s]||"":this._defaultLayoutTableProperties[s]||"";return[s,e.get(i).value||o]}).forEach(([r,i])=>{(r==="borderColor"||r==="borderWidth")&&t.value==="none"||this.view.set(r,i)}),this._isReady=!0}_showView(){const e=this.editor,t=Yy(e.editing.view.document.selection),r=t&&e.editing.mapper.toModelElement(t),i=!r||r.getAttribute("tableType")!=="layout";i&&!this._viewWithContentTableDefaults?this._viewWithContentTableDefaults=this._createPropertiesView(this._defaultContentTableProperties):!i&&!this._viewWithLayoutTableDefaults&&(this._viewWithLayoutTableDefaults=this._createPropertiesView(this._defaultLayoutTableProperties)),this.view=i?this._viewWithContentTableDefaults:this._viewWithLayoutTableDefaults,this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:bH(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,t=e.editing.view.document;Yy(t.selection)?this._isViewVisible&&pH(e,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(t,r,i)=>{this._isReady&&this.editor.execute(e,{value:i,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:t,viewField:r,validator:i,errorText:s}=e,o=dA(()=>{r.errorText=s},GIe);return(a,l,u)=>{o.cancel(),this._isReady&&(i(u)?(this.editor.execute(t,{value:u,batch:this._undoStepBatch}),r.errorText=null):o())}}}class KIe extends ee{static get pluginName(){return"TableProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[LIe,YIe]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function XIe(n){n.document.registerPostFixer(e=>JIe(e,n))}function JIe(n,e){const t=e.document.differ.getChanges();let r=!1;for(const i of t){if(i.type!="insert")continue;const s=i.position.parent;if(s.is("element","table")||i.name=="table"){const o=i.name=="table"?i.position.nodeAfter:s,a=Array.from(o.getChildren()).filter(u=>u.is("element","caption")),l=a.shift();if(!l)continue;for(const u of a)n.move(n.createRangeIn(u),l,"end"),n.remove(u);l.nextSibling&&(n.move(n.createRangeOn(l),o,"end"),r=!0),r=!!a.length||r}}return r}function WM(n){return!!n&&n.is("element","table")}function gT(n){for(const e of n.getChildren())if(e.is("element","caption"))return e;return null}function QIe(n){const e=nc(n);return e?gT(e):null}function ZIe(n){const e=n.parent;return n.name=="figcaption"&&e&&e.is("element","figure")&&e.hasClass("table")?{name:!0}:n.name=="caption"&&e&&e.is("element","table")?{name:!0}:null}class eOe extends lt{refresh(){const e=this.editor,t=nc(e.model.document.selection);this.isEnabled=!!t&&e.model.schema.checkChild(t,"caption"),this.isEnabled?this.value=!!gT(t):this.value=!1}execute({focusCaptionOnShow:e=!1}={}){this.editor.model.change(t=>{this.value?this._hideTableCaption(t):this._showTableCaption(t,e)})}_showTableCaption(e,t){const r=this.editor.model,i=nc(r.document.selection),a=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(i)||e.createElement("caption");r.insertContent(a,i,"end"),t&&e.setSelection(a,"in")}_hideTableCaption(e){const t=this.editor.model,r=nc(t.document.selection),i=this.editor.plugins.get("TableCaptionEditing"),s=gT(r);i._saveCaption(r,s),t.deleteContent(e.createSelection(s,"on"))}}class tOe extends ee{_savedCaptionsMap=new WeakMap;static get pluginName(){return"TableCaptionEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,r=e.editing.view,i=e.t,s=e.config.get("table.tableCaption.useCaptionElement");t.isRegistered("caption")?t.extend("caption",{allowIn:"table"}):t.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleTableCaption",new eOe(this.editor)),s&&e.plugins.get("TableEditing").registerAdditionalSlot({filter:a=>a.is("element","caption"),positionOffset:"end"}),e.conversion.for("upcast").elementToElement({view:ZIe,model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>WM(o.parent)?a.createContainerElement(s?"caption":"figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!WM(o.parent))return null;const l=a.createEditableElement(s?"caption":"figcaption");return a.setCustomProperty("tableCaption",!0,l),l.placeholder=i("Enter table caption"),pC({view:r,element:l,keepOnFocus:!0}),GC(l,a)}}),XIe(e.model)}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?gn.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}}class nOe extends ee{static get pluginName(){return"TableCaptionUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,r=e.t;e.ui.componentFactory.add("toggleTableCaption",i=>{const s=e.commands.get("toggleTableCaption"),o=new et(i);return o.set({icon:u9,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.bind("label").to(s,"value",a=>r(a?"Toggle caption off":"Toggle caption on")),this.listenTo(o,"execute",()=>{if(e.execute("toggleTableCaption",{focusCaptionOnShow:!0}),s.value){const a=QIe(e.model.document.selection),l=e.editing.mapper.toViewElement(a);if(!l)return;t.scrollToTheSelection(),t.change(u=>{u.addClass("table__caption_highlighted",l)})}e.editing.view.focus()}),o})}}class rOe extends ee{static get pluginName(){return"TableCaption"}static get isOfficialPlugin(){return!0}static get requires(){return[tOe,nOe]}}const iOe={toolbar:{items:["undo","redo","|","heading","style","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","|","link","insertTable","highlight","blockQuote","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[S9,DEe,oke,E5e,Cz,cke,vEe,zke,fke,LSe,pke,tCe,yCe,qCe,HCe,ACe,BCe,g5e,ZCe,sAe,fAe,O5e,V5e,D5e,o4e,b4e,P4e,R4e,r4e,D4e,L4e,wke,w3e,S3e,aNe,yNe,Cv,ONe,TU,VNe,$z,Gz,UNe,qz,jz,Wz,xke,iPe,Tke,Ake,nIe,rOe,EIe,NIe,KIe,rIe,QEe,NNe,Rke,QC],balloonToolbar:["bold","italic","|","link","|","bulletedList","numberedList"],fontFamily:{supportAllValues:!0,options:["default","Arial","Times New Roman","Trebuchet MS","Courier New","Consolas","Monaco","Oswald"]},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},htmlSupport:{allow:[{name:/^.*$/,styles:!0,attributes:!0,classes:!0}]},image:{toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","resizeImage"]},initialData:"",link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},menuBar:{isVisible:!0},placeholder:"Type or paste your content here!",style:{definitions:[{name:"Article category",element:"h3",classes:["category"]},{name:"Title",element:"h2",classes:["document-title"]},{name:"Subtitle",element:"h3",classes:["document-subtitle"]},{name:"Info box",element:"p",classes:["info-box"]},{name:"Side quote",element:"blockquote",classes:["side-quote"]},{name:"Marker",element:"span",classes:["marker"]},{name:"Spoiler",element:"span",classes:["spoiler"]},{name:"Code (dark)",element:"pre",classes:["fancy-code","fancy-code-dark"]},{name:"Code (bright)",element:"pre",classes:["fancy-code","fancy-code-bright"]}]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]}};function _H({name:n,control:e,hotelId:t=1,type:r="thumbnail",label:i,disabled:s=!1,onChange:o}){const a=O.useRef(null),l=O.useRef(null),u=O.useRef(null),f=O.useRef(null),[m,p]=O.useState(!1),{field:{value:y,onChange:v,onBlur:w,ref:E},fieldState:{invalid:k,error:T}}=IS({name:n,control:e});O.useEffect(()=>(p(!0),()=>p(!1)),[]);function S(R){return{upload:()=>new Promise((D,A)=>{R.file.then(F=>{const V=new FormData;V.append("myFiles",F),Hg.UploadFileApi(V).then(async X=>{if(X&&X.DT){const re=await SS(X.DT);D({default:re})}else A("Upload failed: No data received")}).catch(A)}).catch(A)})}}function P(R){R.plugins.get("FileRepository").createUploadAdapter=D=>S(D)}return g.createElement(aB,{fullWidth:!0,size:"medium",error:k},i&&g.createElement(vk,{gutterBottom:!0,variant:"body2",fontWeight:600,color:"text.secondary"},i),g.createElement("div",{className:"main-container"},g.createElement("div",{className:"editor-container editor-container_document-editor editor-container_include-style",ref:a},g.createElement("div",{className:"editor-container__menu-bar",ref:l}),g.createElement("div",{className:"editor-container__toolbar",ref:u}),g.createElement("div",{className:"editor-container__editor-wrapper"},g.createElement("div",{className:"editor-container__editor"},g.createElement("div",{ref:f},m&&g.createElement(DS,{disabled:s,onReady:R=>{u.current?.appendChild(R.ui.view.toolbar.element),l.current?.appendChild(R.ui.view.menuBarView.element)},onAfterDestroy:()=>{Array.from(u.current?.children||[]).forEach(R=>R.remove()),Array.from(l.current?.children||[]).forEach(R=>R.remove())},editor:$Se,config:{...iOe,licenseKey:"GPL",extraPlugins:[P]},data:y,onChange:(R,D)=>{const A=D.getData();v(A),o?.(A)},onBlur:w,ref:E})))))),k&&g.createElement(lB,{error:!0},T?.message))}const jM=200*1024;function xH({children:n,name:e,control:t,type:r="thumbnail",sx:i,disabled:s=!1,onUploadChange:o,...a}){const{field:{value:l,onChange:u},fieldState:{invalid:f,error:m}}=IS({name:e,control:t}),[p,y]=O.useState(!1);async function v(E){const k=E.target.files?.[0];if(!k)return;if(k.size>jM){Te.error(`Kch thc tp phi nh hn ${jM/1024}KB.`),E.target.value=null;return}if(!k.type.startsWith("image/")){Te.error("Vui lng chn mt tp hnh nh hp l."),E.target.value=null;return}const T=new FormData;T.append("myFiles",k),y(!0);try{const S=await Hg.UploadFileApi(T);S&&S.DT?(u(S.DT),o?.(S.DT),Te.success("Ti tp ln thnh cng!")):Te.error("Ti tp ln tht bi, khng nhn c ng dn tp.")}catch(S){console.error("Upload error:",S),Te.error("Li khi ti tp ln server. Vui lng th li.")}finally{y(!1),E.target.value=null}}const w=s||p;return g.createElement(R2,{component:"label",htmlFor:`upload-input-${e}`,...a},g.createElement(aB,{fullWidth:!0,error:f,sx:{height:"100%",width:"100%",...i}},n||g.createElement(R2,null,g.createElement(I2,{justifyContent:"center",alignItems:"center",sx:{aspectRatio:"1/1",borderRadius:"8px",cursor:w?"not-allowed":"pointer",border:l?"none":"2px dashed #ccc",overflow:"hidden",position:"relative",opacity:p?.7:1}},g.createElement(gl,{imagePath:l||"",alt:`nh: ${l}`,className:"w-full h-full object-cover rounded mx-auto border border-gray-200"}),!l&&!p&&g.createElement(I2,{alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",color:"gray",backgroundColor:"rgba(255, 255, 255, 0.7)"}},g.createElement(vk,{variant:"body2"},"Chn nh")),p&&g.createElement(I2,{alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:10}},g.createElement(xme,{size:24}),g.createElement(vk,{variant:"caption",sx:{mt:1}},"ang ti...")))),g.createElement(R2,{component:"input",id:`upload-input-${e}`,disabled:w,onChange:v,type:"file",accept:"image/*",sx:{display:"none"}})),m&&g.createElement(lB,{error:!0},m.message))}const qM="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm";function sOe(){const[n]=p7(),e=Jr(),t=n.get("id"),r=!!t,[i]=O.useState(t),{control:s,handleSubmit:o,reset:a,setValue:l,getValues:u}=yL({defaultValues:{title:"",status:!0,description:"",detail:"",image:"",id:i||null}}),[f,m]=O.useState(!1);O.useEffect(()=>{r&&i&&p(i)},[i,r]);const p=async v=>{m(!0);try{const w=await Sf.getPostByIdApi(v);if(w&&w.DT){const E=w.DT;l("title",E.title||""),l("status",E.status),l("description",E.description||""),l("detail",E.detail||""),l("image",E.image||""),l("id",E.id)}else Te.error("Khng tm thy thng bo hoc li ti d liu.")}catch{Te.error("Li khi ti chi tit thng bo.")}finally{m(!1)}},y=o(async v=>{m(!0);try{if(!v.title.trim()){Te.error("Vui lng nhp tiu "),m(!1);return}if(!v.description.trim()){Te.error("Vui lng nhp m t ngn"),m(!1);return}if(!v.detail.replace(/<[^>]*>/g,"").trim()){Te.error("Vui lng nhp ni dung"),m(!1);return}const E={...v,...r&&{id:i}};let k;r?(k=await Sf.updatePostApi(i,E),k&&k.EC===0?(Te.success("Cp nht thng bo thnh cng!"),e("/news/manager"),a()):Te.error(k.EM)):(k=await Sf.createPostApi(E),k&&k.EC===0?(Te.success("Thm mi thng bo thnh cng!"),e("/news/manager"),a()):Te.error(k.EM))}catch{Te.error(`Li h thng khi ${r?"cp nht":"to"} thng bo`)}finally{m(!1)}});return g.createElement("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8"},g.createElement("div",{className:"max-w-[1600px] mx-auto"},g.createElement("h1",{className:"text-xl md:text-2xl text-gray-600"},r?"Chnh sa bi vit":"Thm bi mi"),g.createElement("div",{className:"max-w-8xl mx-auto px-4 py-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200"},g.createElement("div",{className:"p-6 space-y-6"},g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Tiu  ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(Yl,{name:"title",control:s,render:({field:v})=>g.createElement("input",{...v,type:"text",className:qM,placeholder:"Nhp tiu  thng bo"})}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2"},"Trng thi"),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement("div",{className:"flex items-center h-full pt-1"},g.createElement(Yl,{name:"status",control:s,render:({field:v})=>g.createElement("input",{type:"checkbox",checked:v.value,onChange:v.onChange,id:"status-checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),g.createElement("label",{htmlFor:"status-checkbox",className:"ml-2 text-sm font-medium text-gray-700"},"Hin th")))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Hnh nh"),g.createElement("div",{className:"col-span-12 md:col-span-3"},g.createElement(xH,{name:"image",control:s,label:"Chn hnh nh"}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"M t ngn ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(Yl,{name:"description",control:s,render:({field:v})=>g.createElement("textarea",{...v,rows:3,className:qM+" resize-none",placeholder:"Nhp m t ngn"})}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"M t ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(_H,{name:"detail",control:s,label:""})))),g.createElement("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg"},g.createElement("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:gap-3"},g.createElement("button",{type:"button",onClick:y,disabled:f,className:"px-3 sm:px-4 py-2 bg-[#337ab7] hover:bg-[#2e6da4] text-white rounded-lg flex items-center justify-center gap-1 sm:gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-xs sm:text-sm font-medium whitespace-nowrap cursor-pointer"},f?g.createElement(cu,{className:"w-4 h-4 animate-spin"}):g.createElement(iw,{className:"w-4 h-4"}),g.createElement("span",null,r?"Lu li":"Thm mi")))))),g.createElement("footer",{className:"mt-12 py-6 text-center text-sm text-gray-500 border-t border-gray-200"},"Copyright  2025 by G&BSoft")))}const Ff={getListRecruitmentApi:(n,e)=>bt.get(`/recruitment/list?page=${n}&limit=${e}`),getRecruitmentByIdApi:n=>bt.get(`/recruitment/byRecruitmentId/${n}`),createRecruitmentApi:n=>bt.post("/recruitment/create",n),updateRecruitmentApi:(n,e)=>bt.put(`/recruitment/update/${n}`,e),deleteRecruitmentApi:n=>bt.delete(`/recruitment/delete/${n}`),getListRecruitmentDropdownApi:()=>bt.get("/recruitment/dropdown")},GM={RecruitmentList:[],RecruitmentTotal:0},Ng=qs("recruitment/getListRecruitment",async({page:n,limit:e},t)=>await Ff.getListRecruitmentApi(n,e)),EH=eh({name:"recruitment",initialState:GM,reducers:{resetRecruitment:n=>GM},extraReducers:n=>{n.addCase(Ng.pending,e=>{}).addCase(Ng.fulfilled,(e,t)=>{e.RecruitmentList=t.payload.DT.recruitments,e.RecruitmentTotal=t.payload.DT.total}).addCase(Ng.rejected,(e,t)=>{})}}),{resetRecruitment:x6e}=EH.actions,oOe=EH.reducer;function aOe(){const n=Jr(),e=mr(),{RecruitmentList:t,RecruitmentTotal:r}=Jn(m=>m.recruitment),[i,s]=O.useState(1),o=10,a=Math.ceil(r/o),l=async()=>{let m=await e(Ng({page:i,limit:o})).unwrap();m&&m.EC!==0&&Te.error(m.EM)};O.useEffect(()=>{l()},[i]);const u=m=>{m>=1&&m<=a&&(s(m),window.scrollTo({top:0,behavior:"smooth"}))},f=async m=>{if(window.confirm("Bn c chc chn mun xa bi vit ny?"))try{let p=await Ff.deleteRecruitmentApi(m);p&&p.EC===0?(Te.success(p.EM),l()):Te.error(p.EM)}catch(p){console.error("Error deleting post:",p),Te.error("Khng th xa bi vit")}};return g.createElement("div",{className:"min-h-screen bg-gray-50 py-8 px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"grid grid-cols-1 gap-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100"},g.createElement("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},g.createElement("h2",{className:"text-lg font-bold text-gray-700 uppercase tracking-tight"},"Qun l tuyn dng"),g.createElement("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all shadow-md active:scale-95 cursor-pointer",onClick:()=>{n("/recruitment/detail")}},g.createElement(Qf,{size:18}),"Thm mi")),g.createElement("div",{className:"p-6 space-y-6"},t&&t.length>0?t.map(m=>g.createElement("div",{key:m.id,className:"flex flex-col md:flex-row gap-4 p-4 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100 group"},g.createElement("div",{className:"flex-shrink-0 w-28 h-24 flex items-center justify-center text-white text-[10px] font-bold rounded-lg uppercase shadow-sm"},g.createElement(gl,{imagePath:m.image,className:"w-10 h-10 rounded-md border object-cover"})),g.createElement("div",{className:"flex-1"},g.createElement("div",{className:"flex justify-between items-start"},g.createElement("h3",{className:"font-bold text-gray-800 text-[15px] mb-1 group-hover:text-blue-600 transition-colors cursor-pointer"},m.title),g.createElement("div",{className:"flex items-center gap-2 ml-4"},g.createElement("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all cursor-pointer",onClick:()=>n("/recruitment/detail?id="+m.id),title:"Chnh sa"},g.createElement(N7,{size:16})),g.createElement("button",{className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all cursor-pointer",onClick:()=>f(m.id),title:"Xa tin"},g.createElement(Zf,{size:16})))),g.createElement("p",{className:"text-xs text-gray-500 italic leading-relaxed line-clamp-2"},m.description)))):g.createElement("div",{className:"text-center py-10 text-gray-400"},"Khng c d liu hin th.")),g.createElement("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-center gap-2"},g.createElement("button",{onClick:()=>u(i-1),disabled:i===1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},g.createElement(gc,{size:20,className:"text-gray-600"})),[...Array(Math.max(a,1))].map((m,p)=>{const y=p+1;return g.createElement("button",{key:y,onClick:()=>u(y),className:`w-10 h-10 rounded-lg text-sm font-medium transition-all ${i===y?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100 border border-transparent"}`},y)}),g.createElement("button",{onClick:()=>u(i+1),disabled:i===a||a<=1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},g.createElement(dl,{size:20,className:"text-gray-600"}))))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-400 font-medium"},"Copyright  2025 by ",g.createElement("span",{className:"text-gray-600"},"CREATIMICSTUDIO"))))}function lOe({showModal:n,setShowModal:e,editingEmployee:t,formData:r,setFormData:i,handleSubmit:s,roleOptions:o,handleInputChange:a}){return n?g.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"},g.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto"},g.createElement("h2",{className:"text-xl font-semibold mb-4"},t?"Chnh sa nhn vin":"Thm nhn vin mi"),g.createElement("form",{onSubmit:s,className:"space-y-4"},g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Tn ngi dng *"),g.createElement("input",{type:"text",name:"userName",value:r.userName,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Nhp tn ngi dng",required:!0})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Email *"),g.createElement("input",{type:"email",name:"email",value:r.email,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Nhp email",required:!0})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"S in thoi *"),g.createElement("input",{type:"tel",name:"phone",value:r.phone,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Nhp s in thoi",required:!0})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"a ch"),g.createElement("input",{type:"text",name:"address",value:r.address,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Nhp a ch"})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"nh i din"),g.createElement("input",{type:"text",name:"image",value:r.image,onChange:a,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"URL nh hoc ng dn"})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-1"},"Vai tr *"),g.createElement("div",{className:"flex-1 space-y-2"},g.createElement(Vw,{options:o,placeholder:"--- Tm theo vai tr ---",labelKey:"value",valueKey:"key",value:r.role,onChange:l=>i({...r,role:l.key})}))),g.createElement("div",{className:"flex gap-3 mt-6"},g.createElement("button",{type:"submit",className:"flex-1 bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded text-sm font-semibold"},t?"Cp nht":"Thm mi"),g.createElement("button",{type:"button",onClick:()=>e(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded text-sm font-semibold"},"Hy"))))):null}function cOe(){const n=mr(),{UserList:e,UserTotal:t}=Jn(Re=>Re.auth),[r,i]=O.useState([]),[s,o]=O.useState(""),[a,l]=O.useState(""),[u,f]=O.useState(!1),[m,p]=O.useState(!1),[y,v]=O.useState(null),[w,E]=O.useState(1),[k]=O.useState(10),[T,S]=O.useState({userName:"",email:"",image:"",phone:"",address:"",role:""}),P=[{key:"",value:"Tt c vai tr"},...Object.entries(Zce).map(([Re,j])=>({key:j,value:Re}))];O.useEffect(()=>{R()},[]),O.useEffect(()=>{D(),E(1)},[s,a,e]);const R=async()=>{try{f(!0);const Re=await n(pb({page:1,limit:10,role:a?.key||""}))}catch(Re){console.error("Error fetching UserList:",Re),Te.error("Khng th ti danh sch nhn vin")}finally{f(!1)}},D=()=>{let Re=[...e];if(s){const j=s.toLowerCase();Re=Re.filter(_e=>_e.userName?.toLowerCase().includes(j)||_e.email?.toLowerCase().includes(j)||_e.phone?.includes(j))}a&&a.key&&(Re=Re.filter(j=>String(j.role).toLowerCase()===String(a.key).toLowerCase())),i(Re)},A=()=>{v(null),S({userName:"",email:"",image:"",phone:"",address:"",role:""}),p(!0)},F=Re=>{v(Re),S({id:Re.id||"",userName:Re.userName||"",email:Re.email||"",image:Re.image||"",phone:Re.phone||"",address:Re.address||"",role:Re.role||""}),p(!0)},V=async Re=>{if(window.confirm("Bn c chc chn mun xa nhn vin ny?"))try{let j=await ja.deleteUserApi(Re);j&&j.EC===0?(Te.success(j.EM),R()):Te.error(j.EM)}catch(j){console.error("Error deleting employee:",j),Te.error("Khng th xa nhn vin")}},X=async Re=>{if(Re.preventDefault(),!T.userName||!T.email||!T.phone||!T.role){Te.info("Vui lng in y  thng tin bt buc");return}try{if(y){let j=await ja.updateUserApi(y.id,T);j&&j.EC===0&&(Te.success("Cp nht nhn vin thnh cng"),R())}else{let j=await ja.createUserApi(T);j&&j.EC===0?(Te.success("Thm mi nhn vin thnh cng"),R()):Te.error(j.EM)}p(!1)}catch(j){console.error("Error saving employee:",j),Te.error("Khng th lu thng tin nhn vin")}},re=Re=>{const{name:j,value:_e}=Re.target;S(U=>({...U,[j]:_e}))},N=()=>{const Re=["STT","Tn ngi dng","Email","S in thoi","a ch","Vai tr"],j=r.map((J,ue)=>[ue+1,J.userName,J.email,J.phone,J.address,J.role]),_e=[Re.join(","),...j.map(J=>J.map(ue=>`"${ue}"`).join(","))].join(`
`),U=new Blob([_e],{type:"text/csv"}),Q=window.URL.createObjectURL(U),Y=document.createElement("a");Y.href=Q,Y.download="UserList.csv",Y.click()},te=Math.ceil(r.length/k),be=(w-1)*k,xe=be+k,ne=r.slice(be,xe),Ee=()=>{w>1&&E(w-1)},We=()=>{w<te&&E(w+1)};return g.createElement("div",{className:"min-h-screen bg-gray-50 p-8"},g.createElement("div",{className:"max-w-[1600px] mx-auto"},g.createElement("h1",{className:"text-2xl text-gray-600 mb-6"},"Qun l nhn vin"),g.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6"},g.createElement("div",{className:"flex items-center gap-4 flex-wrap"},g.createElement("div",{className:"flex items-center gap-2 flex-1 min-w-[250px]"},g.createElement(k0,{size:18,className:"text-gray-400"}),g.createElement("input",{type:"text",placeholder:"Tm kim theo tn, email, s in thoi...",value:s,onChange:Re=>o(Re.target.value),className:"border border-gray-300 rounded px-3 py-2 text-sm w-full text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500"})),g.createElement("div",{className:"flex flex-col md:flex-row gap-4"},g.createElement("div",{className:"flex-1 space-y-2"},g.createElement(Vw,{options:P,placeholder:"--- Tm theo vai tr ---",labelKey:"value",valueKey:"key",onChange:Re=>l(Re)}))),g.createElement("button",{onClick:A,className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded flex items-center gap-2 text-sm"},g.createElement(Qf,{size:16}),"Thm mi"),g.createElement("button",{onClick:N,className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded flex items-center gap-2 text-sm"},g.createElement(x7,{size:16}),"Export"))),g.createElement("div",{className:"bg-white rounded-lg shadow-sm"},g.createElement("div",{className:"overflow-x-auto"},g.createElement("table",{className:"w-full text-sm"},g.createElement("thead",{className:"bg-gray-100 border-b-2 border-gray-300"},g.createElement("tr",null,g.createElement("th",{className:"px-4 py-3 text-center text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap w-16"},"STT"),g.createElement("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"Tn ngi dng"),g.createElement("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"Email"),g.createElement("th",{className:"px-4 py-3 text-center text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"S in thoi"),g.createElement("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"a ch"),g.createElement("th",{className:"px-4 py-3 text-center text-gray-700 font-semibold border-r border-gray-300 whitespace-nowrap"},"Vai tr"),g.createElement("th",{className:"px-4 py-3 text-center text-gray-700 font-semibold whitespace-nowrap"},"Hnh ng"))),g.createElement("tbody",null,u?g.createElement("tr",null,g.createElement("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500"},"ang ti...")):r.length===0?g.createElement("tr",null,g.createElement("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500"},"Khng c d liu")):ne.map((Re,j)=>g.createElement("tr",{key:Re.id,className:`border-b border-gray-200 hover:bg-gray-50 ${j%2===1?"bg-gray-50":"bg-white"}`},g.createElement("td",{className:"px-4 py-3 border-r border-gray-200 text-center"},be+j+1),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200"},Re.userName),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200"},Re.email),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200 text-center"},Re.phone),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200"},Re.address),g.createElement("td",{className:"px-4 py-3 border-r border-gray-200 text-center"},g.createElement("span",{className:"bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-xs font-semibold"},Re.role)),g.createElement("td",{className:"px-4 py-3 text-center"},g.createElement("div",{className:"flex justify-center gap-2"},g.createElement("button",{onClick:()=>F(Re),className:"text-blue-500 hover:text-blue-700",title:"Chnh sa"},g.createElement(A7,{size:16})),g.createElement("button",{onClick:()=>V(Re.id),className:"text-red-500 hover:text-red-700",title:"Xa"},g.createElement(Zf,{size:16})))))))))),g.createElement("div",{className:"mt-6 flex items-center justify-between"},g.createElement("div",{className:"text-sm text-gray-600"},"Hin th ",r.length===0?0:be+1," n ",Math.min(xe,r.length)," ca ",r.length," nhn vin"),g.createElement("div",{className:"flex items-center gap-2"},g.createElement("button",{onClick:Ee,disabled:w===1,className:"flex items-center gap-1 px-3 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},g.createElement(gc,{size:16}),"Trc"),g.createElement("div",{className:"flex items-center gap-1"},Array.from({length:te},(Re,j)=>j+1).map(Re=>g.createElement("button",{key:Re,onClick:()=>E(Re),className:`w-8 h-8 rounded ${w===Re?"bg-teal-500 text-white font-semibold":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`},Re))),g.createElement("button",{onClick:We,disabled:w===te,className:"flex items-center gap-1 px-3 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Tip",g.createElement(dl,{size:16})))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-500"},"Copyright  2025 by CREATIMICSTUDIO")),g.createElement(lOe,{showModal:m,setShowModal:p,editingEmployee:y,formData:T,setFormData:S,handleSubmit:X,roleOptions:P,handleInputChange:re}))}const CE=({label:n,name:e,value:t,isShown:r,onChange:i,onToggle:s})=>g.createElement("div",{className:"mb-6 flex flex-col md:flex-row md:items-center"},g.createElement("label",{className:"text-gray-600 text-sm mb-1 md:mb-0 md:w-64 md:text-right md:pr-6"},n),g.createElement("div",{className:"flex-1 w-full max-w-full md:max-w-md relative"},g.createElement("input",{type:r?"text":"password",name:e,value:t,onChange:i,placeholder:"Mt khu",className:"w-full border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10"}),g.createElement("button",{type:"button",onClick:s,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},r?g.createElement(pG,{size:18}):g.createElement(yG,{size:18}))));function uOe(){const{userInfo:n,type:e}=Jn(u=>u.auth),[t,r]=O.useState({tenDangNhap:n?n.userName:"",PassWordOld:"",PassWordNew:"",nhapLaiMatKhauMoi:""}),[i,s]=O.useState({PassWordOld:!1,PassWordNew:!1,nhapLaiMatKhauMoi:!1}),o=u=>{const{name:f,value:m}=u.target;r(p=>({...p,[f]:m}))},a=u=>{s(f=>({...f,[u]:!f[u]}))},l=async()=>{const{PassWordOld:u,PassWordNew:f,nhapLaiMatKhauMoi:m}=t;if(!u||!f||!m){Te.error("Vui lng nhp y  Mt khu c, Mt khu mi v Nhp li Mt khu mi.");return}if(f!==m){Te.error("Mt khu mi v Nhp li Mt khu mi khng khp nhau.");return}if(f===u){Te.error("Mt khu mi khng c trng vi Mt khu c.");return}try{let p=await ja.ChangePasswordApi(t);p&&p.EC===0?(Te.success("i mt khu thnh cng!"),r(y=>({...y,PassWordOld:"",PassWordNew:"",nhapLaiMatKhauMoi:""}))):Te.error(p.EM||"i mt khu tht bi.")}catch{Te.error("Li h thng khi i mt khu.")}};return g.createElement("div",{className:"min-h-screen bg-gray-50 py-4 px-4 lg:py-8 lg:px-6"},g.createElement("div",{className:"max-w-5xl mx-auto"},g.createElement("h1",{className:"text-xl md:text-2xl text-gray-600 mb-6 md:mb-8"},"i mt khu"),g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200"},g.createElement("div",{className:"p-4 sm:p-6 md:p-8"},g.createElement("div",{className:"mb-6 flex flex-col md:flex-row md:items-center"},g.createElement("label",{className:"text-gray-600 text-sm mb-1 md:mb-0 md:w-64 md:text-right md:pr-6"},"Tn ng nhp"),g.createElement("input",{type:"text",name:"tenDangNhap",value:t.tenDangNhap,onChange:o,disabled:!0,className:"flex-1 w-full max-w-full md:max-w-md border border-gray-300 rounded px-4 py-2 text-sm bg-gray-50 text-gray-500"})),g.createElement(CE,{label:"Mt khu c",name:"PassWordOld",value:t.PassWordOld,isShown:i.PassWordOld,onChange:o,onToggle:()=>a("PassWordOld")}),g.createElement(CE,{label:"Mt khu mi",name:"PassWordNew",value:t.PassWordNew,isShown:i.PassWordNew,onChange:o,onToggle:()=>a("PassWordNew")}),g.createElement(CE,{label:"Nhp li Mt khu mi",name:"nhapLaiMatKhauMoi",value:t.nhapLaiMatKhauMoi,isShown:i.nhapLaiMatKhauMoi,onChange:o,onToggle:()=>a("nhapLaiMatKhauMoi")}),g.createElement("div",{className:"flex flex-col md:flex-row md:items-center border-t border-gray-200 pt-6 mt-6"},g.createElement("div",{className:"w-full md:w-64 mb-4 md:mb-0"}),g.createElement("button",{onClick:l,className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition-colors"},"i mt khu")))),g.createElement("div",{className:"mt-8 text-center md:text-right text-xs text-gray-500"},"Copyright  2025 by CREATIMICSTUDIO")))}function dOe(){const n=mr(),[e,t]=O.useState(null),{listStaff:r}=Jn(s=>s.staff),i=()=>{if(!e){Te.warning("Vui lng chn nhn vin trc khi thc hin!");return}console.log("X l i mt khu cho nhn vin:",e)};return O.useEffect(()=>{const s=async()=>{try{let o=await n(ug());o.payload?.EC!==0&&Te.error(o.payload?.EM||"Khng th ti danh sch nhn vin")}catch{Te.error("Li kt ni h thng")}};r.length===0&&s()},[n,r.length]),g.createElement("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8 flex justify-center items-start"},g.createElement("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 w-full max-w-7xl overflow-hidden"},g.createElement("div",{className:"bg-gray-50/50 border-b border-gray-100 px-8 py-4 flex items-center gap-3"},g.createElement("h1",{className:"text-lg font-bold text-gray-800"},"Lm mi mt khu nhn vin")),g.createElement("div",{className:"p-8 space-y-8"},g.createElement("div",{className:"flex flex-col md:flex-row gap-4"},g.createElement("label",{className:"text-gray-700 text-sm font-medium md:w-32 md:text-left pt-2"},"Nhn vin ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"flex-1 space-y-2"},g.createElement(Vw,{options:r,placeholder:"--- Chn nhn vin ---",labelKey:"userName",valueKey:"id",onChange:s=>t(s.id)}),g.createElement("p",{className:"text-xs text-gray-500 italic"},"* Mt khu s c t li v gi tr mc nh ca h thng."))),g.createElement("div",{className:"flex justify-end border-t border-gray-100 pt-6"},g.createElement("button",{onClick:i,className:"flex items-center gap-2 px-8 py-2.5 bg-blue-600 hover:bg-blue-700 active:scale-95 text-white rounded-lg text-sm font-semibold transition-all shadow-md hover:shadow-lg"},"Xc nhn i mt khu")))))}const sb="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm";function fOe(){const[n]=p7(),e=Jr(),t=n.get("id"),r=!!t,[i]=O.useState(t),{control:s,handleSubmit:o,reset:a,setValue:l,getValues:u}=yL({defaultValues:{title:"",type:"",experience:"",status:!0,description:"",detail:"",image:"",id:i||null}}),[f,m]=O.useState(!1);O.useEffect(()=>{r&&i&&p(i)},[i,r]);const p=async v=>{m(!0);try{const w=await Ff.getRecruitmentByIdApi(v);if(w&&w.DT){const E=w.DT;l("title",E.title||""),l("type",E.type||""),l("experience",E.experience||""),l("status",E.status),l("description",E.description||""),l("detail",E.detail||""),l("image",E.image||""),l("id",E.id)}else Te.error("Khng tm thy thng bo hoc li ti d liu.")}catch{Te.error("Li khi ti chi tit thng bo.")}finally{m(!1)}},y=o(async v=>{m(!0);try{if(!v.title.trim()){Te.error("Vui lng nhp tiu "),m(!1);return}if(!v.description.trim()){Te.error("Vui lng nhp m t ngn"),m(!1);return}if(!v.type){Te.error("Vui lng chn loi cng vic"),m(!1);return}if(!v.experience){Te.error("Vui lng chn kinh nghim"),m(!1);return}if(!v.detail.replace(/<[^>]*>/g,"").trim()){Te.error("Vui lng nhp ni dung"),m(!1);return}const E={...v,...r&&{id:i}};let k;r?(k=await Ff.updateRecruitmentApi(i,E),k&&k.EC===0?(Te.success("Cp nht thng bo thnh cng!"),e("/recruitment/manager"),a()):Te.error(k.EM)):(k=await Ff.createRecruitmentApi(E),k&&k.EC===0?(Te.success("Thm mi thng bo thnh cng!"),e("/recruitment/manager"),a()):Te.error(k.EM))}catch{Te.error(`Li h thng khi ${r?"cp nht":"to"} thng bo`)}finally{m(!1)}});return g.createElement("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8"},g.createElement("div",{className:"max-w-full mx-auto"},g.createElement("h1",{className:"text-xl md:text-2xl text-gray-600"},r?"Chnh sa bi vit":"Thm bi mi"),g.createElement("div",{className:"max-w-0xl mx-auto px-4 py-6"},g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200"},g.createElement("div",{className:"p-6 space-y-6"},g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Tiu  ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(Yl,{name:"title",control:s,render:({field:v})=>g.createElement("input",{...v,type:"text",className:sb,placeholder:"Nhp tiu  thng bo"})}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Phn loi"),g.createElement("div",{className:"col-span-12 md:col-span-10 grid grid-cols-1 md:grid-cols-2 gap-4"},g.createElement(Yl,{name:"type",control:s,render:({field:v})=>g.createElement("select",{...v,className:sb},g.createElement("option",{value:""},"-- Chn loi --"),g.createElement("option",{value:"intern"},"Intern"),g.createElement("option",{value:"fulltime"},"Full-time"),g.createElement("option",{value:"freelance"},"Freelance"))}),g.createElement(Yl,{name:"experience",control:s,render:({field:v})=>g.createElement("select",{...v,className:sb},g.createElement("option",{value:""},"-- Kinh nghim --"),g.createElement("option",{value:"0-1"},"0  1 nm"),g.createElement("option",{value:"1-3"},"1  3 nm"),g.createElement("option",{value:"3-5"},"3  5 nm"),g.createElement("option",{value:"5+"},"Trn 5 nm"))}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2"},"Trng thi"),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement("div",{className:"flex items-center h-full pt-1"},g.createElement(Yl,{name:"status",control:s,render:({field:v})=>g.createElement("input",{type:"checkbox",checked:v.value,onChange:v.onChange,id:"status-checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),g.createElement("label",{htmlFor:"status-checkbox",className:"ml-2 text-sm font-medium text-gray-700"},"Hin th")))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"Hnh nh"),g.createElement("div",{className:"col-span-12 md:col-span-3"},g.createElement(xH,{name:"image",control:s,label:"Chn hnh nh"}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"M t ngn ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(Yl,{name:"description",control:s,render:({field:v})=>g.createElement("textarea",{...v,rows:3,className:sb+" resize-none",placeholder:"Nhp m t ngn"})}))),g.createElement("div",{className:"grid grid-cols-12 gap-6 items-start"},g.createElement("label",{className:"col-span-12 md:col-span-2 text-sm font-medium text-gray-700 md:pt-2.5"},"M t ",g.createElement("span",{className:"text-red-500"},"*")),g.createElement("div",{className:"col-span-12 md:col-span-10"},g.createElement(_H,{name:"detail",control:s,label:""})))),g.createElement("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg"},g.createElement("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:gap-3"},g.createElement("button",{type:"button",onClick:y,disabled:f,className:"px-3 sm:px-4 py-2 bg-[#337ab7] hover:bg-[#2e6da4] text-white rounded-lg flex items-center justify-center gap-1 sm:gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-xs sm:text-sm font-medium whitespace-nowrap cursor-pointer"},f?g.createElement(cu,{className:"w-4 h-4 animate-spin"}):g.createElement(iw,{className:"w-4 h-4"}),g.createElement("span",null,r?"Lu li":"Thm mi")),g.createElement("button",{type:"button",onClick:()=>e("/recruitment/manager"),disabled:f,className:"px-3 sm:px-4 py-2 bg-[#f0ad4e] hover:bg-[#e69c3b] text-white rounded-lg flex items-center justify-center gap-1 sm:gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-xs sm:text-sm font-medium whitespace-nowrap"},g.createElement(cY,{className:"w-4 h-4"}),g.createElement("span",null,"Tr v danh sch")))))),g.createElement("footer",{className:"mt-12 py-6 text-center text-sm text-gray-500 border-t border-gray-200"},"Copyright  2025 by G&BSoft")))}function hOe(){const{userInfo:n}=Jn(l=>l.auth),e=mr(),t=Jr(),[r,i]=O.useState({email:n.email||"",userName:n.userName||"",role:n.role||"",phone:n.phone||"",address:n.address||""}),s=l=>{const{name:u,value:f,type:m,checked:p}=l.target;i(y=>({...y,[u]:m==="checkbox"?p:f}))},o=async()=>{let l=await e(mb(r));l&&l.payload&&l.payload.EC===0?Te.success(l.payload.EM):Te.error(l.payload.EM)},a=()=>{t("/dashboard")};return g.createElement("div",{className:"min-h-screen bg-gray-50 p-8"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("h1",{className:"text-2xl text-red-600 mb-8 font-medium"},"Thng c nhn ngi dng"),g.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200"},g.createElement("div",{className:"p-8"},g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"H v tn"),g.createElement("input",{type:"text",name:"userName",value:r.userName,onChange:s,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"Email"),g.createElement("input",{type:"text",name:"email",value:r.email,onChange:s,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"Phone"),g.createElement("input",{type:"text",name:"phone",value:r.phone,onChange:s,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"a ch"),g.createElement("input",{type:"text",name:"address",value:r.address,onChange:s,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"mb-6 flex items-center"},g.createElement("label",{className:"text-gray-600 text-sm w-48 text-right pr-6"},"Vai tr"),g.createElement("input",{type:"text",name:"role",value:r.role,onChange:s,className:"flex-1 border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),g.createElement("div",{className:"flex items-center"},g.createElement("div",{className:"w-48"}),g.createElement("div",{className:"flex gap-3"},g.createElement("button",{onClick:o,className:"px-6 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded text-sm font-medium transition-colors"},"Lu li"),g.createElement("button",{onClick:a,className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded text-sm font-medium transition-colors"},"B qua"))))),g.createElement("div",{className:"mt-8 text-right text-xs text-gray-500"},"Copyright  2025 by CREATIMICSTUDIO")))}const mOe=()=>{const n=Jr(),e=mr(),[t,r]=O.useState(""),[i,s]=O.useState(""),o=async a=>{a.preventDefault();let l={username:t,password:i};if(t&&i){let u=await e(fb(l));u&&u.payload&&u.payload.EC===0?n("/profile/info"):Te.error(u.payload.EM)}else Te.error("Vui lng in y  thng tin ng nhp")};return g.createElement("div",{className:"flex items-center justify-center min-h-screen bg-white"},g.createElement("div",{className:"w-full max-w-xs sm:max-w-[360px] bg-white p-4 sm:p-0 text-center"},g.createElement("div",{className:"mb-6"},g.createElement("div",{className:"mx-auto w-32 h-32 mb-4"},g.createElement("img",{src:"/logo.png",alt:"HCA Logo",className:"w-full h-full object-contain"})),g.createElement("div",{className:"flex items-center justify-center space-x-3 mb-6"},g.createElement("div",{className:"flex-grow border-t border-gray-300 max-w-[40px]"}),g.createElement("h1",{className:"text-xl text-gray-700 font-light tracking-wide"},"ng nhp"),g.createElement("div",{className:"flex-grow border-t border-gray-300 max-w-[40px]"}))),g.createElement("form",{onSubmit:o},g.createElement("div",{className:"mb-4"},g.createElement("input",{type:"text",placeholder:"Email or phone",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-500 text-sm",required:!0,value:t,onChange:a=>r(a.target.value)})),g.createElement("div",{className:"mb-6"},g.createElement("input",{type:"password",placeholder:"Password",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-500 text-sm",required:!0,value:i,onChange:a=>s(a.target.value)})),g.createElement("div",{className:"flex justify-center space-x-2"},g.createElement("button",{type:"submit",className:"w-[90px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm"},"ng nhp"),g.createElement("button",{type:"button",className:"w-[90px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm",onClick:()=>n("/register")},"ng k"),g.createElement("button",{type:"button",className:"w-[70px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm",onClick:()=>console.log("Quay li trang trc")},"Quay li")),g.createElement("div",{className:"text-right text-sm mt-3 mb-6 pr-1"},g.createElement("a",{href:"#",className:"text-blue-500 hover:text-blue-700"},"Lost your password?"))),g.createElement("div",{className:"w-full border-t border-gray-300 mt-8 mb-4"}),g.createElement("div",{className:"text-center"},g.createElement("h2",{className:"text-lg text-gray-600 font-light tracking-widest mb-1"},"CREATIMICSTUDIO"),g.createElement("p",{className:"text-xs text-gray-500"},"",new Date().getFullYear()," All Rights Reserved. Privacy and Terms"))))};var kH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YM=g.createContext&&g.createContext(kH),gOe=["attr","size","title"];function pOe(n,e){if(n==null)return{};var t=bOe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function bOe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Qy(){return Qy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qy.apply(this,arguments)}function KM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Zy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(t),!0).forEach(function(r){yOe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KM(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yOe(n,e,t){return e=wOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wOe(n){var e=vOe(n,"string");return typeof e=="symbol"?e:e+""}function vOe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TH(n){return n&&n.map((e,t)=>g.createElement(e.tag,Zy({key:t},e.attr),TH(e.child)))}function SH(n){return e=>g.createElement(_Oe,Qy({attr:Zy({},n.attr)},e),TH(n.child))}function _Oe(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=pOe(n,gOe),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),g.createElement("svg",Qy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:Zy(Zy({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&g.createElement("title",null,s),n.children)};return YM!==void 0?g.createElement(YM.Consumer,null,t=>e(t)):e(kH)}function XM(n){return SH({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5zm-63.57-320.64L836 122.88a8 8 0 0 0-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 0 0 0 11.31L155.17 889a8 8 0 0 0 11.31 0l712.15-712.12a8 8 0 0 0 0-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 0 0-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 0 1 146.2-106.69L401.31 546.2A112 112 0 0 1 396 512z"},child:[]},{tag:"path",attr:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 0 0 227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 0 1-112 112z"},child:[]}]})(n)}function JM(n){return SH({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"},child:[]}]})(n)}const xOe=()=>{const n=Jr(),e=mr(),[t,r]=O.useState(""),[i,s]=O.useState(""),[o,a]=O.useState(""),[l,u]=O.useState(""),[f,m]=O.useState(""),[p,y]=O.useState(""),[v,w]=O.useState(!1),[E,k]=O.useState(!1),T=async S=>{if(S.preventDefault(),!t||!i||!o||!l||!f){alert("Vui lng nhp y  thng tin bt buc.");return}if(i!==o){alert("Mt khu v nhp li mt khu khng khp.");return}const P={username:t,password:i,email:l,phone:f,address:p};try{const R=await e(hb(P));R&&R.payload.EC===0?(alert("ng k thnh cng!"),n("/login")):alert(R.payload.EM||"ng k tht bi.")}catch(R){console.error("Register error:",R),alert("C li xy ra, vui lng th li.")}};return g.createElement("div",{className:"flex items-center justify-center min-h-screen bg-white"},g.createElement("div",{className:"w-full max-w-xs sm:max-w-[360px] bg-white p-4 sm:p-0 text-center"},g.createElement("div",{className:"mb-6"},g.createElement("div",{className:"mx-auto w-32 h-32 mb-4"},g.createElement("img",{src:"/logo.png",alt:"HCA Logo",className:"w-full h-full object-contain"})),g.createElement("div",{className:"flex items-center justify-center space-x-3 mb-6"},g.createElement("div",{className:"flex-grow border-t border-gray-300 max-w-[40px]"}),g.createElement("h1",{className:"text-xl text-gray-700 font-light tracking-wide"},"ng k"),g.createElement("div",{className:"flex-grow border-t border-gray-300 max-w-[40px]"}))),g.createElement("form",{onSubmit:T},g.createElement("div",{className:"mb-4 text-left"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Username *"),g.createElement("input",{type:"text",placeholder:"Enter your username",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm",value:t,onChange:S=>r(S.target.value),required:!0})),g.createElement("div",{className:"mb-4 text-left"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Email *"),g.createElement("input",{type:"email",placeholder:"Enter your email",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm",value:l,onChange:S=>u(S.target.value),required:!0})),g.createElement("div",{className:"mb-4 text-left"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Phone *"),g.createElement("input",{type:"text",placeholder:"Enter your phone",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm",value:f,onChange:S=>m(S.target.value),required:!0})),g.createElement("div",{className:"mb-4 text-left"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Address"),g.createElement("input",{type:"text",placeholder:"Enter your address",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm",value:p,onChange:S=>y(S.target.value)})),g.createElement("div",{className:"mb-4 text-left relative"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Password *"),g.createElement("input",{type:v?"text":"password",placeholder:"Enter your password",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm pr-10",value:i,onChange:S=>s(S.target.value),required:!0}),g.createElement("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500",onClick:()=>w(!v)},v?g.createElement(XM,{size:20}):g.createElement(JM,{size:20}))),g.createElement("div",{className:"mb-6 text-left relative"},g.createElement("label",{className:"block text-gray-700 text-sm mb-1"},"Confirm Password *"),g.createElement("input",{type:E?"text":"password",placeholder:"Re-enter your password",className:"w-full px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-gray-500 placeholder-gray-400 text-sm pr-10",value:o,onChange:S=>a(S.target.value),required:!0}),g.createElement("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500",onClick:()=>k(!E)},E?g.createElement(XM,{size:20}):g.createElement(JM,{size:20}))),g.createElement("div",{className:"flex justify-center space-x-2"},g.createElement("button",{type:"submit",className:"w-[90px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm"},"ng k"),g.createElement("button",{type:"button",className:"w-[90px] py-2 text-sm text-black border border-gray-300 bg-white hover:bg-gray-50 transition duration-150 rounded-sm",onClick:()=>n("/login")},"ng nhp"))),g.createElement("div",{className:"w-full border-t border-gray-300 mt-8 mb-4"}),g.createElement("div",{className:"text-center"},g.createElement("h2",{className:"text-lg text-gray-600 font-light tracking-widest mb-1"},"CREATIMICSTUDIO"),g.createElement("p",{className:"text-xs text-gray-500"},"",new Date().getFullYear()," All Rights Reserved. Privacy and Terms"))))};function CH(){return g.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-white/95 z-[10000]"},g.createElement("div",{className:"flex flex-col items-center gap-4"},g.createElement("div",{className:"relative"},g.createElement("div",{className:"h-16 w-16 border-4 border-blue-100 rounded-full"}),g.createElement("div",{className:"h-16 w-16 border-4 border-t-blue-500 border-r-blue-500 rounded-full animate-spin absolute top-0"})),g.createElement("p",{className:"text-gray-600 text-base font-medium tracking-wide"},"ang ti d liu...")))}function ew({product:n,isTopSeller:e=!1}){const[t,r]=O.useState(!1),i=Jr(),s=()=>{i(`/product/${n.id}`)};return g.createElement("div",{onClick:s,className:"group bg-white rounded-2xl overflow-hidden transition-all duration-500 cursor-pointer shadow-lg hover:shadow-2xl hover:-translate-y-2"},g.createElement("div",{className:"relative overflow-hidden h-40 sm:h-44"},g.createElement(gl,{imagePath:n.image,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),g.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),g.createElement("div",{className:"absolute top-2 right-2 bg-red-500 text-white font-bold shadow-lg rounded-full px-3 py-1 text-xs"},"-25%"),g.createElement("button",{onClick:()=>r(!t),className:"absolute bottom-2 right-2 bg-white/95 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 hover:scale-110 shadow-lg w-9 h-9"},g.createElement(RG,{className:`w-4 h-4 transition-colors ${t?"fill-red-500 text-red-500":"text-gray-600"}`}))),g.createElement("div",{className:"p-3 sm:p-4"},g.createElement("h3",{className:"text-gray-800 font-bold mb-1.5 line-clamp-2 group-hover:text-orange-600 transition-colors text-base sm:text-lg min-h-[40px]"},n.name),g.createElement("div",{className:"flex flex-row items-baseline gap-2 mb-4 justify-between"},g.createElement("div",{className:"flex flex-col"},e?g.createElement("div",{className:"flex items-center gap-1.5"},g.createElement("span",{className:"font-bold text-[10px] sm:text-[11px] text-gray-900"},n.price.toLocaleString("vi-VN")," VN"),g.createElement("span",{className:"text-gray-400 line-through text-[11px]"},(Number(n.price||0)*1.25).toLocaleString("vi-VN")," VN")):g.createElement("div",{className:"flex flex-col gap-0.5"},g.createElement("span",{className:"font-bold text-[10px] sm:text-[11px] text-gray-900"},Number(n.price).toLocaleString("vi-VN")," VN"),g.createElement("span",{className:"text-gray-400 line-through text-[11px] sm:text-[12px] font-medium"},(Number(n.price||0)*1.25).toLocaleString("vi-VN")," VN"))),g.createElement("div",{className:`bg-green-50 border border-green-100 rounded-full flex items-center shadow-sm transition-colors hover:bg-green-100 w-fit px-3 py-1.5
                        }`},g.createElement("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-bold mr-1.5"},"LH:"),g.createElement("span",{className:"font-bold text-green-700 tracking-wider text-[12px]"},"037.2672.396")))))}const EOe=[{title:"COMBO KT NI LIVESTREAM",subtitle:"CHUYN NGHIP",img:"https://images.unsplash.com/photo-1590602847861-f357a9332bbc?w=600&q=80"},{title:"COMBO PH KIN C BN",subtitle:"TI U HIU SUT",img:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=600&q=80"},{title:"B 3 PH KIN",subtitle:"CHO MIC KHNG DY",img:"https://images.unsplash.com/photo-1545127398-14699f92334b?w=600&q=80"},{title:"COMBO CHN M",subtitle:"DNH CHO PODCASTER",img:"https://images.unsplash.com/photo-1589903308904-1010c2294adc?w=600&q=80"}],QM=({header:n,products:e,bannerImage:t,buttonLink:r})=>g.createElement("section",{className:"px-5 sm:px-0 bg-gray-50 border-y border-gray-100"},g.createElement("div",{className:"max-w-6xl mx-auto"},g.createElement("div",{className:"flex justify-between items-center mb-12 mt-5"},g.createElement("h2",{className:"text-2xl lg:text-3xl font-black text-black uppercase tracking-tighter"},n),g.createElement("div",{className:"hidden md:block flex-1 h-[1px] bg-gray-100 mx-10"})),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8"},g.createElement("div",{className:"md:col-span-5 flex justify-center"},g.createElement("div",{className:"hidden md:block relative w-full max-w-[542px] aspect-[542/640] rounded-[2.5rem] overflow-hidden shadow-2xl group cursor-pointer"},g.createElement("img",{src:t,alt:"",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}))),g.createElement("div",{className:"md:col-span-7"},g.createElement("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 cursor-pointer"},e.map(i=>g.createElement(ew,{key:i.id,product:i,ProductCard:!0}))))),g.createElement("div",{className:"mt-12 text-center"},g.createElement("a",{href:r,className:"inline-flex items-center justify-center px-10 py-4 bg-[#ed792f] text-white text-lg font-bold rounded-full shadow-lg hover:brightness-110 hover:scale-105 transition-all duration-300"},"Xem thm")))),kOe=({article:n})=>g.createElement("div",{className:"bg-white rounded-[1.5rem] md:rounded-[2rem] shadow-sm hover:shadow-2xl transition-all duration-500 overflow-hidden group cursor-pointer md:hover:-translate-y-1 border border-gray-100"},g.createElement("div",{className:"h-40 md:h-48 w-full overflow-hidden"},g.createElement(gl,{imagePath:n.image,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})),g.createElement("div",{className:"p-4 md:p-6"},g.createElement("h3",{className:"text-base md:text-lg font-bold text-gray-900 mb-3 md:mb-4 line-clamp-2 min-h-[40px] md:min-h-[44px] group-hover:text-[#ed792f] transition-colors uppercase italic"},n.title),g.createElement("span",{className:"inline-flex items-center text-[#ed792f] font-black text-[10px] md:text-xs uppercase tracking-widest"},"c thm ",g.createElement(ST,{className:"ml-1 md:ml-2 w-3 h-3 md:w-4 md:h-4"}))));function TOe(){const n=mr(),[e,t]=O.useState(0),{PostList:r}=Jn(w=>w.post),{ProductDropdown:i}=Jn(w=>w.product),[s,o]=O.useState([]),[a,l]=O.useState([]),[u,f]=O.useState([]),m=[{img:"/bannerhome1.png"},{img:"/bannerhome2.png"},{img:"/bannerhome3.png"}],p=O.useCallback(()=>{t(w=>(w+1)%m.length)},[m.length]);O.useEffect(()=>{const w=setInterval(p,5e3);return()=>clearInterval(w)},[p]);const y=async()=>{let w=await n(Cf({page:1,limit:3})).unwrap();w&&w.EC!==0&&Te.error(w.EM),await n(cg()).unwrap();let E=await Tf.getProductsByCategory(g2.comboLivestream);E&&E.DT&&o(E.DT);let k=await Tf.getProductsByCategory(g2.resPhuKienThuAm);k&&k.DT&&l(k.DT);let T=await Tf.getProductsByCategory(g2.Loa);T&&T.DT&&f(T.DT)};O.useEffect(()=>{y()},[]);const v=O.useMemo(()=>[...i].sort(()=>Math.random()-.5).slice(0,3),[i]);return g.createElement("div",{className:"min-h-screen bg-white font-sans selection:bg-[#ed792f] selection:text-white"},g.createElement("main",{className:""},g.createElement("section",{className:"w-full mt-6 mb-12 px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"relative w-full max-w-[650px] aspect-[3/2] rounded-[3rem] overflow-hidden shadow-2xl mx-auto"},g.createElement("div",{className:"flex h-full transition-transform duration-1000 cubic-bezier(0.4, 0, 0.2, 1)",style:{transform:`translateX(-${e*100}%)`}},m.map((w,E)=>g.createElement("div",{key:E,className:"relative flex-shrink-0 w-full h-full"},g.createElement("img",{src:w.img,alt:"",className:"absolute inset-0 w-full h-full object-contain"})))),g.createElement("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex space-x-3"},m.map((w,E)=>g.createElement("button",{key:E,onClick:()=>t(E),className:`h-2 rounded-full transition-all ${e===E?"bg-white w-12":"bg-white/40 w-2"}`})))))),g.createElement("section",{className:"py-8 md:py-10 px-4 bg-[#ed792f] overflow-hidden"},g.createElement("div",{className:"max-w-6xl mx-auto"},g.createElement("div",{className:"flex flex-col items-center mb-10 md:mb-16"},g.createElement("h2",{className:"text-3xl lg:text-4xl font-black text-black tracking-tighter uppercase"},"TOP SELLER"),g.createElement("p",{className:"text-black/80 font-bold uppercase mt-4 md:mt-6 text-xs md:text-sm text-center"},"Sn phm khch hng tin dng nht")),g.createElement("div",{className:`\r
                            flex flex-nowrap overflow-x-auto gap-6 pb-10 scrollbar-hide\r
                            sm:grid sm:grid-cols-2 lg:grid-cols-3 sm:gap-x-3 sm:gap-y-4 sm:overflow-visible sm:pb-0\r
                            snap-x snap-mandatory\r
                        `},v.map(w=>g.createElement("div",{key:w.id,className:"relative min-w-[80%] sm:min-w-0 snap-center flex-shrink-0 sm:flex-shrink"},g.createElement(ew,{product:w,isTopSeller:!0}),g.createElement("div",{className:"absolute -top-2 -left-2 bg-black text-white px-3 py-1 text-[10px] font-bold shadow-lg transform -rotate-12 origin-top-left z-10",style:{clipPath:"polygon(0 0, 100% 0, 85% 100%, 0 100%)"}},g.createElement("div",{className:"transform rotate-12 text-center leading-tight"},g.createElement("div",{className:"text-[8px]"},"TOP"),g.createElement("div",{className:"font-black"},"SELLER")))))))),g.createElement(QM,{header:"COMBO LIVESTREAM",products:s,bannerImage:"/BannerBLivestream.png",buttonLink:"#"}),g.createElement("section",{className:"py-8 md:py-16 px-4 sm:px-6 lg:px-8 bg-white"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"flex justify-between items-center mb-6 md:mb-6"},g.createElement("h2",{className:"text-xl md:text-2xl lg:text-3xl font-black text-black uppercase tracking-tighter"},"PH KIN THU M"),g.createElement("div",{className:"hidden md:block flex-1 h-[1px] bg-gray-100 mx-10"})),g.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-x-4 gap-y-6 md:gap-y-10"},a.slice(0,12).map(w=>g.createElement(ew,{key:w.id,product:w}))),g.createElement("div",{className:"mt-10 md:mt-16 text-center"},g.createElement("a",{href:"#",className:"inline-flex items-center justify-center px-8 md:px-12 py-3 md:py-4 bg-[#ed792f] text-white text-xs md:text-sm font-black uppercase tracking-widest rounded-full shadow-xl hover:bg-black hover:scale-105 transition-all duration-300"},"Xem thm sn phm")))),g.createElement("section",{className:"sm:px-4 lg:px-6"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"flex flex-nowrap overflow-x-auto pb-6 gap-4 md:gap-8 scrollbar-hide sm:grid sm:grid-cols-2 lg:grid-cols-4 sm:overflow-visible"},EOe.map((w,E)=>g.createElement("div",{key:E,className:"group relative aspect-[4/3] min-w-[85%] sm:min-w-0 overflow-hidden rounded-[1.5rem] md:rounded-[2.5rem] shadow-xl cursor-pointer bg-gray-100 flex-shrink-0 sm:flex-shrink"},g.createElement("img",{src:w.img,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-all duration-700",alt:""}),g.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-[#ed792f] via-[#ed792f]/20 to-transparent opacity-90 group-hover:opacity-100 transition-opacity"}),g.createElement("div",{className:"absolute inset-0 p-5 md:p-8 flex flex-col justify-end text-white"},g.createElement("span",{className:"text-[10px] font-black tracking-[0.3em] mb-1 md:mb-2 opacity-80 uppercase"},w.subtitle),g.createElement("h3",{className:"text-lg md:text-xl font-black leading-tight uppercase italic drop-shadow-md group-hover:text-yellow-300 transition-colors"},w.title),g.createElement("div",{className:"mt-2 md:mt-4 w-12 h-1 bg-white group-hover:w-24 transition-all duration-500"}))))))),g.createElement(QM,{header:"LOA KIM M",products:u,bannerImage:"/BannerLoa.png",buttonLink:"#"}),g.createElement("section",{className:"py-16 md:py-10 px-4 sm:px-6 lg:px-8 bg-gray-50 border-t border-gray-100 overflow-hidden"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"text-center mb-6 md:mb-10"},g.createElement("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-black text-black uppercase tracking-tighter"},"BI VIT HU CH"),g.createElement("p",{className:"text-gray-400 font-medium uppercase tracking-[0.3em] text-[9px] md:text-[10px] mt-2"},"Chia s kinh nghim & K thut m thanh")),g.createElement("div",{className:`\r
                            flex flex-nowrap overflow-x-auto gap-6 pb-8 scrollbar-hide\r
                            md:grid md:grid-cols-3 md:gap-10 md:overflow-visible md:pb-0\r
                            snap-x snap-mandatory\r
                        `},r.map((w,E)=>g.createElement("div",{key:E,className:"min-w-[80%] sm:min-w-[45%] md:min-w-0 snap-center flex-shrink-0 md:flex-shrink"},g.createElement(kOe,{article:w}))))))))}function SOe(){return g.createElement("div",{className:"min-h-screen bg-white"},g.createElement("section",{className:"max-w-7xl mx-auto px-4 py-16 bg-white"},g.createElement("h2",{className:"text-4xl font-bold text-orange-500 text-center mb-12"},"CU CHUYN THNG HIU"),g.createElement("div",{className:"grid md:grid-cols-2 gap-8 items-center"},g.createElement("div",{className:"relative"},g.createElement("img",{src:"/CauChuyenThuongHieu.png",alt:"CU CHUYN THNG HIU",className:"mx-auto mb-12"})),g.createElement("div",{className:"space-y-6"},g.createElement("p",{className:"text-gray-700 leading-relaxed"},"Trong sut thi gian lm ni dung, thu m ging ni hay ht live ti nh, hu ht khch hng u gp chung mt vn : H khng bit mnh cn mua g. Khng phi v h thiu am m, khng phi v h li tm hiu, m v th trng qu nhiu thng tin:"),g.createElement("ul",{className:"space-y-3 text-gray-700"},g.createElement("li",{className:"flex items-start gap-2"},g.createElement("span",{className:"text-orange-500 font-bold"},""),g.createElement("span",null,"Thng s k thut phc tp")),g.createElement("li",{className:"flex items-start gap-2"},g.createElement("span",{className:"text-orange-500 font-bold"},""),g.createElement("span",null,"Nghe t vn mi ni mt kiu")),g.createElement("li",{className:"flex items-start gap-2"},g.createElement("span",{className:"text-orange-500 font-bold"},""),g.createElement("span",null,"S mua sai ri li tn tin")),g.createElement("li",{className:"flex items-start gap-2"},g.createElement("span",{className:"text-orange-500 font-bold"},""),g.createElement("span",null,"Cch setup phc tp, mi khng ra c cht lng nh mong mun"))),g.createElement("p",{className:"text-gray-700 leading-relaxed"},"Ngi mi ch cn mt th: s r rng v mt ngi c th ng hnh. Nhng th trng li cha ai lm iu  ng ngha."),g.createElement("p",{className:"text-gray-700 leading-relaxed"},"V  l lc hai con ngi - hai nng lc - gp nhau. Mt ngi am hiu sn phm, k thut nhng cha tng ngh n vic xy dng mt thng hiu bi bn, c h thng hay c nh hng di hn. Ngi cn li, xut pht im l mt khch hng, nhn thy c tim nng v sn sng b sung cho nhng iu cn thiu st:"),g.createElement("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded"},g.createElement("p",{className:"text-gray-700 italic"},'"Nu nhng kin thc k thut kia c h thng li, nu c mt thng hiu thc s quan tm ti vic gip khch hng chn ng thit b ngay t u, th y khng cn l vic bn l, m l mt dch v c gi tr thc s."')),g.createElement("p",{className:"text-gray-800 font-semibold"},"T mt ci bt tay, thng hiu CMIC Studio t  ra i."),g.createElement("p",{className:"text-gray-700 leading-relaxed"},"Tt c hnh trnh thng hiu t ngy u n hin ti u xoay quanh mt nguyn tc:"),g.createElement("div",{className:"text-center py-4"},g.createElement("p",{className:"text-xl font-bold text-gray-800 mb-2"},"T VN TH BN MUN - BN NG TH BN CN"),g.createElement("p",{className:"text-gray-600"},"Chng ti khng chy theo vic bn nhiu nht. Chng ti theo ui vic bn ng nht."))))),g.createElement("section",{className:"bg-white px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-orange-500 text-center mb-10 tracking-wider"},"TM NHN"),g.createElement("div",{className:"relative bg-black text-white rounded-[2rem] overflow-hidden py-20 px-6 md:px-12 shadow-2xl"},g.createElement("div",{className:"absolute inset-0 opacity-40 bg-[url('https://images.unsplash.com/photo-1590602847861-f357a9332bbc?q=80&w=2000')] bg-cover bg-center"}),g.createElement("div",{className:"relative z-10"},g.createElement("div",{className:"text-center mb-16 max-w-4xl mx-auto space-y-4"},g.createElement("p",{className:"text-lg md:text-xl font-semibold leading-relaxed"},"Tr thnh h sinh thi audio ton din dnh cho nh sng to ni dung m thanh ti Vit Nam - ni khch hng c ng hnh t thit b, k thut, n kin thc ti u m thanh."),g.createElement("p",{className:"text-orange-400 italic text-sm md:text-base"},"Trong 3 - 5 nm ti, CMIC Studio hng n:")),g.createElement("div",{className:"grid md:grid-cols-3 gap-12 text-center"},g.createElement("div",{className:"flex flex-col items-center"},g.createElement(yN,{className:"w-16 h-16 text-orange-500 mb-6"}),g.createElement("h3",{className:"font-bold text-lg mb-2 text-white"},"Xy dng thng hiu chun mc t vn m thanh cho ngi mi, uy tn nht ti Vit Nam.")),g.createElement("div",{className:"flex flex-col items-center"},g.createElement(P7,{className:"w-16 h-16 text-orange-500 mb-6"}),g.createElement("h3",{className:"font-bold text-lg mb-2 text-white"},"Pht trin h thng dch v setup livestream - nng cao cht lng m thanh v hnh nh - la chn thit b ph hp v chuyn nghip")),g.createElement("div",{className:"flex flex-col items-center"},g.createElement(IY,{className:"w-16 h-16 text-orange-500 mb-6"}),g.createElement("h3",{className:"font-bold text-lg mb-2 text-white"},"To ra mt h sinh thi ni dung, kha hc v ti nguyn cht lng  bt k ai cng c th bt u hnh trnh tr thnh nh sng to ni dung m thanh khng ro cn"))),g.createElement("div",{className:"mt-20 text-center max-w-4xl mx-auto border-t border-white/10 pt-8"},g.createElement("p",{className:"text-lg md:text-xl font-medium"},"Tm nhn ca chng ti da trn mt nim tin n gin:"),g.createElement("p",{className:"italic text-gray-400 mb-2  "},"m thanh cht lng khng nn l c quyn ca nhng ngi chuyn v k thut, m l quyn ca mi nh sng to ni dung.")))))),g.createElement("section",{className:"bg-white py-16 px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-orange-500 text-center mb-10 tracking-wider"},"S MNH"),g.createElement("div",{className:"relative bg-[#0a0a0a] text-white rounded-[2rem] overflow-hidden py-20 px-6 md:px-12 shadow-2xl"},g.createElement("div",{className:"absolute inset-0 opacity-30 bg-[url('https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?q=80&w=2000')] bg-cover bg-center"}),g.createElement("div",{className:"relative z-10"},g.createElement("div",{className:"text-center mb-12 space-y-4 max-w-4xl mx-auto"},g.createElement("p",{className:"text-lg md:text-xl font-semibold"},"Gip cc nh sng to ni dung to ra m thanh cht lng mt cch d dng, ng nhu cu v khng tn km sai lm."),g.createElement("p",{className:"text-gray-300"},"CMIC Studio tn ti vi mc tiu duy nht: gii quyt ni lo ",g.createElement("span",{className:"text-white font-bold"},'"mua sai thit b"')," v mang n tri nghim m thanh trn vn cho khch hng."),g.createElement("p",{className:"italic text-gray-400"},"Chng ti thc hin iu  bng cch:")),g.createElement("div",{className:"grid md:grid-cols-2 gap-8"},g.createElement("div",{className:"bg-white text-black p-8 rounded-[1.5rem] relative min-h-[140px] flex items-center shadow-lg"},g.createElement("p",{className:"font-bold text-lg pr-12 leading-tight"},"T vn c nhn ho 1:1 da trn mc tiu v nhu cu ca khch"),g.createElement(O7,{className:"absolute bottom-4 right-6 w-10 h-10 text-orange-500"})),g.createElement("div",{className:"bg-white text-black p-8 rounded-[1.5rem] relative min-h-[140px] flex items-center shadow-lg"},g.createElement("p",{className:"font-bold text-lg pr-12 leading-tight"},"m bo bn ng - khng upsell - khng lng ph"),g.createElement(bN,{className:"absolute bottom-4 right-6 w-10 h-10 text-orange-500"})),g.createElement("div",{className:"bg-white text-black p-8 rounded-[1.5rem] relative min-h-[140px] flex items-center shadow-lg"},g.createElement("p",{className:"font-bold text-lg pr-12 leading-tight"},"ng hnh & h tr sau bn"),g.createElement(wN,{className:"absolute bottom-4 right-6 w-10 h-10 text-orange-500"})),g.createElement("div",{className:"bg-white text-black p-8 rounded-[1.5rem] relative min-h-[140px] flex items-center shadow-lg"},g.createElement("p",{className:"font-bold text-lg pr-12 leading-tight"},"H thng ho kin thc m thanh  gip khch hng hiu - lm - kim sot cht lng theo cch n gin nht."),g.createElement(Jq,{className:"absolute bottom-4 right-6 w-10 h-10 text-orange-500"}))))))),g.createElement("section",{className:"bg-white py-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4"},g.createElement("div",{className:"grid md:grid-cols-2 gap-12 items-center"},g.createElement("div",null,g.createElement("h2",{className:"text-4xl font-bold text-orange-500 mb-6"},"LNH VC HOT NG"),g.createElement("h1",{className:" font-medium mb-6 text-gray-700 leading-relaxed"},"Chng ti cung cp thit b thu m chnh hng, ng thi h tr cc dch v i km nh set up live stream, ci cubase, cho thu linh ng cc thit b ty theo nhu cu ca khch hng.")),g.createElement("img",{src:"/LinhVucHoatDong.png",alt:"LNH VC HOT NG",className:"bg-white "})))),g.createElement("section",{className:"bg-white py-4 px-4"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"text-center mb-16"},g.createElement("h2",{className:"text-4xl font-bold text-orange-500 inline-block relative pb-4"},"GI TR CT LI",g.createElement("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-24 h-1 bg-black"}))),g.createElement("div",{className:"grid md:grid-cols-3 gap-y-12 gap-x-8"},g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(M7,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"NHIT TNH - TN TM - CHUYN NGHIP"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Mi khch hng u c h tr nghim tc")),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(gY,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"MINH BCH GI"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},'Khng i gi, khng "seller ni sao th mua vy".')),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(bN,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"KHNG UPSELL"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Nu thit b r hn m dng vn tt - chng ti chn phng n ")),g.createElement("div",{className:"hidden md:block col-span-3 h-[10px] bg-black my-4"}),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(yN,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"T VN NG NHU CU"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Khng phi ai cng cn soundcard 3-4 triu; i khi ch cn micro 900k.")),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(wN,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"NG HNH SAU BN"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Setup 1:1, h tr chnh v khc phc vn  v m thanh")),g.createElement("div",{className:"flex flex-col items-center text-center group"},g.createElement("div",{className:"mb-6 p-5 bg-orange-50 rounded-full group-hover:bg-orange-500 transition-colors duration-300"},g.createElement(kY,{className:"w-10 h-10 text-orange-500 group-hover:text-white"})),g.createElement("h3",{className:"font-extrabold text-lg mb-3 uppercase tracking-tight"},"TI U CHI PH"),g.createElement("p",{className:"text-gray-600 leading-relaxed max-w-[280px]"},"Gip khch trnh mua sai, trnh lng ph"))))),g.createElement("section",{className:"max-w-7xl mx-auto px-4 py-20"},g.createElement("h2",{className:"text-4xl font-bold text-orange-500 text-center mb-16"},"NH SNG LP CMIC STUDIO"),g.createElement("div",{className:"relative w-full bg-white overflow-hidden py-20"},g.createElement("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -skew-x-6"},g.createElement("img",{src:"/thao.jpg",alt:"NGUYN THANH THO",className:"h-[380px] object-cover"})),g.createElement("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 skew-x-6"},g.createElement("img",{src:"/quynh.jpg",alt:"L XUN QUNH",className:"h-[380px] object-cover"})),g.createElement("div",{className:"relative z-10 max-w-3xl mx-auto text-center space-y-16"},g.createElement("div",{className:"-translate-x-40"},g.createElement("h3",{className:"text-3xl font-bold tracking-wide"},"NGUYN THANH THO"),g.createElement("p",{className:"mt-2 text-gray-600 tracking-widest"},"FOUNDER")),g.createElement("div",{className:"h-px bg-gray-200 w-full"}),g.createElement("div",{className:"translate-x-50"},g.createElement("h3",{className:"text-3xl font-bold tracking-wide"},"L XUN QUNH"),g.createElement("p",{className:"mt-2 text-gray-600 tracking-widest"},"CO-FOUNDER"))))))}const ob={clipPath:"polygon(50% 0%, 93% 25%, 93% 75%, 50% 100%, 7% 75%, 7% 25%)"},COe={cyan:"bg-cyan-400",slate:"bg-slate-700",yellow:"bg-yellow-400",orange:"bg-orange-400"},AOe=()=>g.createElement("div",{className:"bg-orange-50 min-h-screen font-sans text-gray-800 pb-20"},g.createElement("section",{className:"relative w-full bg-[#f9f4f0] pt-16 pb-32 overflow-hidden"},g.createElement("div",{className:"absolute bottom-0 right-0 w-64 h-64 opacity-20",style:{backgroundImage:"radial-gradient(#000 1.5px, transparent 1.5px)",backgroundSize:"20px 20px"}}),g.createElement("div",{className:"absolute bottom-24 right-0 w-[55%] h-20 bg-orange-500 -z-0 rounded-l-full hidden md:block"}),g.createElement("div",{className:"max-w-7xl mx-auto px-6 relative z-10"},g.createElement("div",{className:"grid md:grid-cols-2 items-center gap-4"},g.createElement("div",{className:"flex flex-col space-y-4"},g.createElement("div",{className:"relative"},g.createElement("h2",{className:"text-[#e67e22] text-6xl md:text-8xl font-black leading-none mb-2 tracking-tighter"},"Dch v"),g.createElement("h1",{className:"text-gray-900 text-4xl md:text-5xl font-black uppercase tracking-tight leading-tight"},"SETUP PHNG HT ",g.createElement("br",null),"LIVESTREAM"),g.createElement("p",{className:"text-gray-600 italic font-semibold text-lg mt-4"},"m bo ng yu cu, chuyn nghip")),g.createElement("div",{className:"pt-6"},g.createElement("div",{className:"inline-flex items-center bg-white border-[3px] border-black rounded-2xl px-5 py-3 gap-4 shadow-[5px_5px_0px_0px_rgba(0,0,0,1)] hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all cursor-pointer"},g.createElement("div",{className:"bg-black p-2 rounded-full"},g.createElement(bu,{size:20,className:"text-white fill-white"})),g.createElement("span",{className:"text-2xl font-black text-gray-900 tracking-wider"},"037.267.2396")))),g.createElement("div",{className:"relative h-[450px] mt-12 md:mt-0 hidden md:block"},g.createElement("div",{className:"absolute top-0 left-20 grid grid-cols-5 gap-2 z-0"},[...Array(10)].map((n,e)=>g.createElement("div",{key:e,className:"font-bold text-xl"},"+"))),g.createElement("div",{className:"absolute -right-6 -top-38  w-90 h-90 drop-shadow-xl z-10"},g.createElement("div",{className:"w-full h-full bg-orange-500 p-1.5",style:ob},g.createElement("div",{className:"w-full h-full bg-white overflow-hidden",style:ob},g.createElement("img",{src:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=500",className:"w-full h-full object-cover",alt:"setup 1"})))),g.createElement("div",{className:"absolute left-6 top-[20%] translate-y-1 w-90 h-90 drop-shadow-2xl z-20"},g.createElement("div",{className:"w-full h-full bg-orange-500 p-1.5",style:ob},g.createElement("div",{className:"w-full h-full bg-white overflow-hidden",style:ob},g.createElement("img",{src:"https://images.unsplash.com/photo-1478737270239-2fccd2c7862a?w=600",className:"w-full h-full object-cover",alt:"setup 2"})))))))),g.createElement("section",{className:"max-w-6xl mx-auto px-4 py-12"},g.createElement("p",{className:"text-center text-lg mb-12 max-w-4xl mx-auto leading-relaxed"},"Cht lng livestream ph thuc trc tip vo m thanh, nh sng v khng gian. Nhng vn  nh hnh nh thiu sng, m thanh khng n nh hoc khng gian khng ph hp thng khin bui livestream km hiu qu v thiu chuyn nghip. CMIC STUDIO cung cp dch v setup gc livestream ht trn gi, gip ngi dng sn sng ln sng vi cht lng n nh ngay t u."),g.createElement("div",{className:"grid md:grid-cols-3 gap-8"},g.createElement("div",{className:"bg-white p-6 rounded-3xl border-2 border-orange-400 relative shadow-sm"},g.createElement("div",{className:"bg-orange-500 text-white px-6 py-2 rounded-xl absolute -top-5 left-6 font-bold"},"Gii php m thanh"),g.createElement("p",{className:"mt-6 text-sm leading-relaxed"},"H thng m thanh c thit lp v cn chnh ph hp cho livestream ht, m bo ging ht r rng, n nh v hn ch ti a cc li thng gp nh h, r hoc v ting. Thit b c la chn da trn nhu cu s dng v ngn sch thc t ca khch hng.")),g.createElement("div",{className:"bg-white p-6 rounded-3xl border-2 border-orange-400 relative shadow-sm"},g.createElement("div",{className:"bg-orange-500 text-white px-6 py-2 rounded-xl absolute -top-5 left-6 font-bold"},"Hnh nh v nh sng"),g.createElement("p",{className:"mt-6 text-sm leading-relaxed"},"CMIC STUDIO thit k b cc nh sng ph hp vi tng khng gian v gc quay, gip hnh nh ln sng r nt, cn bng sng v ni bt ch th. Ngi dng c th livestream ngay m khng cn x l hnh nh phc tp.")),g.createElement("div",{className:"bg-white p-6 rounded-3xl border-2 border-orange-400 relative shadow-sm"},g.createElement("div",{className:"bg-orange-500 text-white px-6 py-2 rounded-xl absolute -top-5 left-6 font-bold"},"Khng gian livestream"),g.createElement("p",{className:"mt-6 text-sm leading-relaxed"},"Khng gian c b tr ring t, gn gng v ph hp cho hot ng livestream ht. Cch sp xp ti u gip to cm gic chuyn nghip, ng thi nng cao tri nghim cho c ngi livestream v ngi xem.")))),g.createElement("section",{className:"max-w-5xl mx-auto px-4 py-16"},g.createElement("h2",{className:"text-orange-600 text-3xl font-bold text-center mb-12 uppercase tracking-wide"},"Quy trnh setup ht livestream"),g.createElement("div",{className:"relative flex flex-col md:flex-row justify-between gap-16 md:gap-4 mt-10"},g.createElement("div",{className:"hidden md:block absolute top-1/2 left-0 w-full h-0.5 border-t-2 border-dashed border-gray-300 -z-0"}),[{title:"Tip nhn nhu cu & ngn sch",color:"cyan"},{title:"T vn gii php ph hp",color:"slate"},{title:"Setup m thanh - nh sng - gc quay",color:"yellow"},{title:"Hng dn s dng & h tr",color:"orange"}].map((n,e)=>g.createElement("div",{key:e,className:"relative z-10 bg-white border-2 border-gray-100 rounded-2xl p-6 w-full md:w-60 shadow-md text-center flex flex-col items-center"},g.createElement("div",{className:`
                                absolute -top-10 w-20 h-20 rounded-full 
                                flex items-center justify-center text-white font-bold text-xl
                                ${COe[n.color]}
                            `}),g.createElement("p",{className:"mt-8 text-base font-semibold leading-relaxed"},n.title))))),g.createElement("section",{className:"max-w-4xl mx-auto px-4 py-12"},g.createElement("h2",{className:"text-orange-600 text-3xl font-bold text-center mb-10 uppercase"},"Ti sao chn CMIC Studio?"),g.createElement("div",{className:"space-y-6"},["Phng live mu thc t ti TP.HCM  test live trc khi trin khai","Gii php live trn gi: nh sng  m thanh  thit b y ","i ng k thut vin nhiu nm kinh nghim, tng setup cho idol live v ca s ti nhiu tnh thnh"].map((n,e)=>g.createElement("div",{key:e,className:"flex items-center bg-white rounded-full shadow-md p-1 border border-orange-200"},g.createElement("div",{className:"bg-white border-2 border-orange-500 text-black font-bold w-12 h-12 rounded-full flex items-center justify-center mr-4 shadow-inner"},e+1),g.createElement("p",{className:"font-medium pr-6"},n))))),g.createElement("section",{className:"max-w-6xl mx-auto px-4 py-12"},g.createElement("h2",{className:"text-orange-600 text-3xl font-bold text-center mb-10 uppercase"},"Mt s d n tiu biu"),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 border-4 border-yellow-200 p-6 rounded-3xl bg-white"},g.createElement("div",{className:"aspect-[3/4] bg-gray-200 rounded-xl overflow-hidden shadow-lg"},g.createElement("img",{src:"/api/placeholder/400/600",alt:"Project 1",className:"w-full h-full object-cover"})),g.createElement("div",{className:"aspect-[3/4] bg-gray-200 rounded-xl overflow-hidden shadow-lg"},g.createElement("img",{src:"/api/placeholder/400/600",alt:"Project 2",className:"w-full h-full object-cover"})),g.createElement("div",{className:"aspect-[3/4] bg-gray-200 rounded-xl overflow-hidden shadow-lg"},g.createElement("img",{src:"/api/placeholder/400/600",alt:"Project 3",className:"w-full h-full object-cover"})))),g.createElement("section",{className:"max-w-xl mx-auto px-4 py-16 text-center"},g.createElement("h2",{className:"text-orange-600 text-3xl font-bold mb-8 uppercase"},"ng k t vn ngay"),g.createElement("form",{className:"space-y-6 text-left"},g.createElement("div",null,g.createElement("label",{className:"block font-bold mb-2"},"*H v tn"),g.createElement("input",{type:"text",placeholder:"Nhp h v tn",className:"w-full p-3 border-2 border-orange-400 rounded-xl focus:outline-none focus:ring-2 ring-orange-200"})),g.createElement("div",null,g.createElement("label",{className:"block font-bold mb-2"},"*S in thoi"),g.createElement("input",{type:"text",placeholder:"Nhp s in thoi",className:"w-full p-3 border-2 border-orange-400 rounded-xl focus:outline-none focus:ring-2 ring-orange-200"})),g.createElement("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 rounded-2xl transition shadow-lg text-xl uppercase"},"Gi")),g.createElement("p",{className:"mt-6 text-gray-500 italic text-sm"},"CMIC STUDIO s lin h trong vng 24h. Thng tin ca bn s c bo mt."))),NOe=[{value:"all",label:"Tt c mc gi",min:0,max:1/0},{value:"under500k",label:"Di 500.000",min:0,max:499999},{value:"500kto1m",label:"500.000 - 1.000.000",min:5e5,max:1e6},{value:"over1m",label:"Trn 1.000.000",min:1000001,max:1/0}],POe=({selectedCategory:n,filters:e,onFilterChange:t})=>g.createElement("div",{className:" w-full md:w-64 lg:w-72 flex-shrink-0 p-6 bg-white rounded-2xl shadow-xl top-4 self-start"},g.createElement("h2",{className:"text-2xl font-black text-gray-800 mb-6 flex items-center gap-2"},g.createElement(TG,{className:"w-5 h-5 text-orange-500"}),"B Lc"),g.createElement("div",{className:"mb-8 border-b border-gray-100 pb-6"},g.createElement("h3",{className:"text-lg font-bold text-gray-700 mb-3"},"Mc gi"),g.createElement("div",{className:"space-y-3"},NOe.map(r=>g.createElement("label",{key:r.value,className:"flex items-center space-x-3 cursor-pointer group"},g.createElement("input",{type:"radio",name:"priceRange",value:r.value,checked:e.priceRange===r.value,onChange:()=>t("priceRange",r.value),className:"w-5 h-5 text-orange-500 bg-gray-100 border-gray-300 focus:ring-orange-500"}),g.createElement("span",{className:`text-base font-medium transition-colors ${e.priceRange===r.value?"text-orange-600 font-semibold":"text-gray-600 group-hover:text-gray-800"}`},r.label)))))),ROe=({categoryList:n,selectedCategory:e,onSelectCategory:t,onSelectSub:r})=>g.createElement("div",{className:"flex justify-center mb-10"},g.createElement("div",{className:"flex flex-wrap justify-center gap-4"},g.createElement("button",{onClick:()=>t("all"),className:`px-6 py-3 rounded-2xl text-lg font-bold transition
                        ${e==="all"?"bg-orange-500 text-white shadow-lg":"bg-white shadow hover:bg-orange-50"}
                    `},"Tt c"),n.map(i=>g.createElement("div",{key:i.name,className:"relative group px-2 py-2"},g.createElement("button",{onClick:()=>t(i.name),className:`px-6 py-3 rounded-2xl text-lg font-bold transition
                                ${e===i.name?"bg-orange-500 text-white shadow-lg":"bg-white shadow hover:bg-orange-50"}
                            `},i.name),i.children.length>0&&g.createElement(g.Fragment,null,g.createElement("div",{className:"absolute left-0 right-0 top-full h-4"}),g.createElement("div",{className:`absolute left-1/2 -translate-x-1/2 top-full mt-1\r
                                        hidden group-hover:block\r
                                        bg-white shadow-xl rounded-2xl\r
                                        min-w-[240px] z-50`},i.children.map(s=>g.createElement("button",{key:s.name,onClick:()=>{t(i.name),r(s.name)},className:`block w-full text-left px-5 py-3\r
                                                text-base font-medium\r
                                                hover:bg-orange-50 text-gray-700`},s.name)))))))),IOe=({products:n,currentPage:e,totalPages:t,onPageChange:r,loading:i})=>g.createElement("div",{className:"flex-1 md:pl-8"},g.createElement("div",{className:"mb-6 pb-4 border-b border-gray-200 flex justify-between items-center"},g.createElement("h1",{className:"text-2xl font-black text-gray-900"},"Sn Phm"),g.createElement("p",{className:"text-gray-600 font-medium"},n.length," kt qu")),i?g.createElement("div",{className:"text-center p-12"},g.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),g.createElement("p",{className:"mt-4 text-gray-600"},"ang ti sn phm...")):n.length>0?g.createElement("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6"},n.map(s=>g.createElement(ew,{key:s.id,product:s}))):g.createElement("div",{className:"text-center p-12 bg-white rounded-xl shadow-inner mt-10"},g.createElement("h3",{className:"text-xl font-bold text-gray-700"},"Khng tm thy sn phm no"),g.createElement("p",{className:"text-gray-500 mt-2"},"Vui lng th iu chnh b lc ca bn.")),t>1&&g.createElement("div",{className:"flex justify-center items-center space-x-2 mt-10"},g.createElement("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-3 bg-white border border-gray-300 rounded-lg hover:bg-orange-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},g.createElement(gc,{className:"w-5 h-5 text-gray-700"})),Array.from({length:t},(s,o)=>{const a=o+1;return g.createElement("button",{key:`page-${a}-total-${t}`,onClick:()=>r(a),className:`px-4 py-2 font-bold rounded-lg transition-all
                                    ${e===a?"bg-orange-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-orange-100 border border-gray-300"}`},a)}),g.createElement("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-3 bg-white border border-gray-300 rounded-lg hover:bg-orange-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},g.createElement(dl,{className:"w-5 h-5 text-gray-700"}))));function OOe(){const n=mr(),{CategoryList:e,CategoryTotal:t}=Jn(T=>T.category),[r,i]=O.useState("all"),[s,o]=O.useState({priceRange:"all",subCategory:"all"}),[a,l]=O.useState([]),[u,f]=O.useState(1),[m,p]=O.useState(1),[y,v]=O.useState(!1),w=async()=>{await n(bf({page:1,limit:20})).unwrap()},E=async(T=1)=>{v(!0);try{let S="all";if(r!=="all"){const D=e.find(A=>A.name===r);D&&(S=D.id)}const P=s.priceRange,R=await mu.filterProductApi(T,8,S,P);l(R.DT.products||[]),p(Math.ceil(R.DT.total/R.DT.limit)),f(R.DT.page)}catch(S){console.error(S),Te.error("Li khi ti sn phm")}finally{v(!1)}};O.useEffect(()=>{w()},[]),O.useEffect(()=>{e.length>0&&E(1)},[r,s.priceRange,e]);const k=(T,S)=>{o(P=>({...P,[T]:S}))};return g.createElement("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 lg:p-12 font-sans"},g.createElement(ROe,{categoryList:e,selectedCategory:r,onSelectCategory:T=>{i(T),o(S=>({...S,subCategory:"all"}))},onSelectSub:T=>o(S=>({...S,subCategory:T}))}),g.createElement("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row gap-8"},g.createElement(POe,{selectedCategory:r,filters:s,onFilterChange:k}),g.createElement(IOe,{products:a,currentPage:u,totalPages:m,onPageChange:E,loading:y})))}const MOe=({news:n})=>g.createElement(ec,{to:`/post/${n.id}`,className:"block"},g.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow hover:shadow-lg transition-shadow duration-300 h-full flex flex-col cursor-pointer"},g.createElement("div",{className:"w-full h-40 bg-gray-300 flex items-center justify-center text-gray-500"},g.createElement(gl,{imagePath:n.image,className:"w-10 h-10 rounded-md border object-cover"})),g.createElement("div",{className:"p-4 flex flex-col flex-grow"},g.createElement("h3",{className:"text-base font-bold text-gray-800 line-clamp-2 hover:text-orange-700 transition mb-2"},n.title),g.createElement("p",{className:"text-sm text-gray-600 line-clamp-3 flex-grow"},n.description)))),DOe=({currentPage:n,totalPages:e,onPageChange:t,itemsPerPage:r,totalItems:i})=>{let o,a;e<=5?(o=1,a=e):n<=3?(o=1,a=5):n+1>=e?(o=e-5+1,a=e):(o=n-2,a=n+2);const l=Array.from({length:a-o+1},(u,f)=>o+f);return g.createElement("div",{className:"flex flex-col gap-6 mt-10"},g.createElement("div",{className:"flex items-center justify-center gap-2 flex-wrap"},g.createElement("button",{onClick:()=>t(n-1),disabled:n===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",title:"Trang trc"},g.createElement(gc,{className:"w-5 h-5 text-gray-700"})),o>1&&g.createElement("span",{className:"px-2 text-gray-400"},"..."),l.map(u=>g.createElement("button",{key:u,onClick:()=>t(u),className:`min-w-10 h-10 border rounded-lg transition-all duration-200 text-sm font-medium
                            ${n===u?"bg-orange-600 text-white border-orange-600 shadow-md":"border-gray-300 text-gray-700 hover:bg-orange-50 hover:border-orange-400"}
                        `},u)),a<e&&g.createElement("span",{className:"px-2 text-gray-400"},"..."),g.createElement("button",{onClick:()=>t(n+1),disabled:n===e,className:"p-2 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",title:"Trang tip theo"},g.createElement(dl,{className:"w-5 h-5 text-gray-700"}))))},FOe=({search:n,setSearch:e,className:t=""})=>g.createElement("div",{className:`bg-white p-4 rounded-xl shadow-md ${t}`},g.createElement("h2",{className:"text-xl font-semibold mb-3 text-gray-800"},"Tm kim"),g.createElement("div",{className:"relative w-full"},g.createElement(k0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),g.createElement("input",{type:"text",placeholder:"Tm kim tiu  hoc ni dung...",value:n,onChange:r=>e(r.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition"}))),LOe=()=>{const n=Jr(),e=mr(),{PostList:t,PostTotal:r}=Jn(p=>p.post),[i,s]=O.useState(""),[o,a]=O.useState(1),l=20,u=Math.ceil(r/l),f=async()=>{let p=await e(Cf({page:o,limit:l})).unwrap();p&&p.EC!==0&&Te.error(p.EM)};O.useEffect(()=>{f()},[o]),O.useEffect(()=>{a(1)},[i]),O.useEffect(()=>{r===1&&t.length===1&&o===1&&n(`/post/${t[0].id}`,{replace:!0})},[r,t,o,n]);const m=O.useMemo(()=>{if(!i)return t;const p=i.toLowerCase();return t.filter(y=>y.title?.toLowerCase().includes(p)||y.description?.toLowerCase().includes(p))},[i,t]);return g.createElement("div",{className:"min-h-screen bg-gray-50"},g.createElement("main",{className:"max-w-0xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},g.createElement("h1",{className:"text-3xl md:text-4xl font-black mb-12 bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent"},"TIN TC"),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8"},g.createElement("div",{className:"lg:col-span-3"},g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},m.map(p=>g.createElement(MOe,{key:p.id,news:p}))),u>1&&g.createElement(DOe,{currentPage:o,totalPages:u,onPageChange:a,itemsPerPage:l,totalItems:r})),g.createElement("div",{className:"lg:col-span-1 space-y-8"},g.createElement("div",{className:"hidden lg:block"},g.createElement(FOe,{search:i,setSearch:s})),g.createElement("div",{className:"w-full aspect-[3/4] rounded-2xl shadow-xl relative overflow-hidden group cursor-pointer"},g.createElement("img",{src:"/BannerBLivestream.png",alt:"Combo livestream",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}),g.createElement("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all"}),g.createElement("div",{className:"relative z-10 flex items-center justify-center h-full text-center text-white p-6"},g.createElement("div",null,g.createElement("div",{className:"text-2xl font-black mb-4 leading-tight"},"Combo Livestream Cht Lng Cao"),g.createElement("div",{className:"text-sm opacity-90 mb-6"},"Khuyn mi c bit"),g.createElement("div",{className:"inline-flex items-center gap-2 text-sm font-bold bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full group-hover:bg-white/30 transition-all"},"Xem ngay "))))))))},BOe=({news:n})=>g.createElement(ec,{to:`/careers/${n.id}`,className:"block"},g.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow hover:shadow-lg transition-shadow duration-300 h-full flex flex-col cursor-pointer"},g.createElement("div",{className:"w-full h-40 bg-gray-300 flex items-center justify-center text-gray-500"},g.createElement(gl,{imagePath:n.image,className:"w-10 h-10 rounded-md border object-cover"})),g.createElement("div",{className:"p-4 flex flex-col flex-grow"},g.createElement("h3",{className:"text-base font-bold text-gray-800 line-clamp-2 hover:text-orange-700 transition mb-2"},n.title),g.createElement("p",{className:"text-sm text-gray-600 line-clamp-3 flex-grow"},n.description)))),VOe=({currentPage:n,totalPages:e,onPageChange:t,itemsPerPage:r,totalItems:i})=>{let o,a;e<=5?(o=1,a=e):n<=3?(o=1,a=5):n+1>=e?(o=e-5+1,a=e):(o=n-2,a=n+2);const l=Array.from({length:a-o+1},(u,f)=>o+f);return g.createElement("div",{className:"flex flex-col gap-6 mt-10"},g.createElement("div",{className:"flex items-center justify-center gap-2 flex-wrap"},g.createElement("button",{onClick:()=>t(n-1),disabled:n===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",title:"Trang trc"},g.createElement(gc,{className:"w-5 h-5 text-gray-700"})),o>1&&g.createElement("span",{className:"px-2 text-gray-400"},"..."),l.map(u=>g.createElement("button",{key:u,onClick:()=>t(u),className:`min-w-10 h-10 border rounded-lg transition-all duration-200 text-sm font-medium
                            ${n===u?"bg-orange-600 text-white border-orange-600 shadow-md":"border-gray-300 text-gray-700 hover:bg-orange-50 hover:border-orange-400"}
                        `},u)),a<e&&g.createElement("span",{className:"px-2 text-gray-400"},"..."),g.createElement("button",{onClick:()=>t(n+1),disabled:n===e,className:"p-2 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",title:"Trang tip theo"},g.createElement(dl,{className:"w-5 h-5 text-gray-700"}))))},UOe=()=>{const n=Jr(),e=mr(),{RecruitmentList:t,RecruitmentTotal:r}=Jn(u=>u.recruitment),[i,s]=O.useState(1),o=20,a=Math.ceil(r/o),l=async()=>{let u=await e(Ng({page:i,limit:o})).unwrap();u&&u.EC!==0&&Te.error(u.EM)};return O.useEffect(()=>{l()},[i]),O.useEffect(()=>{r===1&&t.length===1&&i===1&&n(`/careers/${t[0].id}`,{replace:!0})},[r,t,i,n]),g.createElement("div",{className:"min-h-screen bg-gray-50"},g.createElement("main",{className:"max-w-0xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},g.createElement("h1",{className:"text-3xl md:text-4xl font-black mb-12 bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent"},"TUYN DNG"),g.createElement("div",{className:"grid grid-cols-1 gap-8"},g.createElement("div",{className:"lg:col-span-4"},g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},t.map(u=>g.createElement(BOe,{key:u.id,news:u}))),a>1&&g.createElement(VOe,{currentPage:i,totalPages:a,onPageChange:s,itemsPerPage:o,totalItems:r})))))},AE=({name:n,placeholder:e,required:t=!0,type:r="text",value:i,onChange:s})=>g.createElement("input",{type:r,name:n,placeholder:e,value:i,onChange:s,required:t,className:" bg-white w-full px-4 py-3 border border-gray-900 focus:outline-none focus:ring-2 focus:ring-black transition duration-200 text-base placeholder-gray-500"}),zOe=()=>{const[n,e]=O.useState(!1),[t,r]=O.useState({fullName:"",email:"",phone:"",content:""}),i=o=>{r({...t,[o.target.name]:o.target.value})},s=async o=>{o.preventDefault();try{e(!0);const a={name:t.fullName,email:t.email,message:t.content+" .Ti ang quan tm n sn phm ca bn.Hy lin h ti s in thoi: "+t.phone};await PD.sendContactApi(a),Te.success(" gi thng tin lin h thnh cng!"),r({fullName:"",email:"",phone:"",content:""})}catch(a){console.error("Error sending contact:",a),Te.error("Gi thng tin lin h tht bi. Vui lng th li.")}finally{e(!1)}};return g.createElement("div",{className:"space-y-4"},g.createElement("h2",{className:"text-xl font-bold text-orange-800 uppercase"},"Lin h vi chng ti"),g.createElement("form",{onSubmit:s,className:"space-y-4"},g.createElement(AE,{name:"fullName",placeholder:"H v tn",value:t.fullName,onChange:i}),g.createElement(AE,{name:"email",placeholder:"Email (khng bt buc)",required:!1,type:"email",value:t.email,onChange:i}),g.createElement(AE,{name:"phone",placeholder:"S in thoi",type:"tel",value:t.phone,onChange:i}),g.createElement("textarea",{name:"content",placeholder:"Ni dung",rows:"5",value:t.content,onChange:i,required:!0,className:"bg-white w-full px-4 py-3 border border-gray-900 focus:outline-none focus:ring-2 focus:ring-black transition duration-200 text-base resize-none"}),g.createElement("button",{type:"submit",disabled:n,className:`
                        px-8 py-3 text-lg font-bold transition duration-300 cursor-pointer
                        ${n?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}
                        text-white
                    `},n?"ANG GI...":"GI")))},HOe=()=>{const[n,e]=O.useState({fullName:"",email:"",phone:"",content:""});return g.createElement("div",{className:"min-h-screen bg-white"},g.createElement("main",{className:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8 py-16"},g.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-10"},"Lin H Vi Chng Ti"),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10"},g.createElement("div",{className:"space-y-8"},g.createElement("div",{className:"space-y-4 text-gray-800"},g.createElement("div",{className:"flex items-start gap-4"},g.createElement(OG,{className:"w-6 h-6 mt-1"}),g.createElement("div",null,g.createElement("p",{className:"font-semibold"},"Chung c Khang gia, Phng 14, G Vp,"),g.createElement("p",{className:"text-sm"},"Tp. H Ch Minh"))),g.createElement("div",{className:"flex items-center gap-4"},g.createElement(bu,{className:"w-6 h-6"}),g.createElement("p",null,"Hotline t hng: 037.2672.396")),g.createElement("div",{className:"flex items-center gap-4"},g.createElement(bu,{className:"w-6 h-6"}),g.createElement("p",null,"Hotline truyn thng: 034. 7577. 034")),g.createElement("div",{className:"flex items-center gap-4"},g.createElement(CT,{className:"w-6 h-6"}),g.createElement("p",null,"contact@creatimichub.vn"))),g.createElement(zOe,null)),g.createElement("div",{className:"lg:min-h-full"},g.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.5775884053332!2d106.6338516108667!3d10.843602757905886!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3175298438641ae7%3A0xff62706173136f71!2zQ2h1bmcgQ8awIEtoYW5nIEdpYSwgTMO0IEEvMDA2QSDEkC4gNDUsIFBoxrDhu51uZyAxNCwgR8OyIFbhuqVwLCBUaMOgbmggcGjhu5EgSOG7kyBDaMOtIE1pbmggNzAwMDAsIFZp4buHdCBOYW0!5e0!3m2!1svi!2sbd!4v1763259832646!5m2!1svi!2sbd",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full h-[300px] md:h-[300px] lg:h-[630px] border-0 rounded-xl shadow-lg"})))))},$Oe=()=>{const{id:n}=vT();Jr();const[e,t]=O.useState([]);O.useEffect(()=>{n&&r(n)},[n]);const r=async i=>{const s=await Ff.getRecruitmentByIdApi(i);s&&s.DT&&(s.DT,t(s.DT))};return g.createElement("div",{className:"min-h-screen bg-gray-50"},g.createElement("main",{className:"max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 py-12"},g.createElement("header",{className:"bg-white p-6 md:p-8 rounded-xl shadow-lg mb-10"},g.createElement("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2"},e.title),g.createElement("p",{className:"text-xl text-orange-600 font-semibold mb-4"},"CMIC STUDIO"),g.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 border-t pt-4 mt-4"},g.createElement("span",{className:"flex items-center gap-2"},g.createElement(k7,{className:"w-5 h-5 text-indigo-500"}),"Chung c Khang gia, Phng 14, G Vp"),g.createElement("span",{className:"flex items-center gap-2"},g.createElement(fG,{className:"w-5 h-5 text-blue-500"}),e.type),g.createElement("span",{className:"flex items-center gap-2"},g.createElement(AY,{className:"w-5 h-5 text-red-500"}),e.experience," nm"))),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10"},g.createElement("div",{className:"lg:col-span-2 space-y-4 prose max-w-none",dangerouslySetInnerHTML:{__html:e.detail}}),g.createElement("aside",{className:"lg:col-span-1"},g.createElement("div",{className:"sticky top-10 space-y-6"},g.createElement("div",{className:"bg-orange-500 p-6 rounded-xl shadow-xl text-white text-center"},g.createElement("p",{className:"text-lg font-semibold mb-3"},"Sn sng th thch?"),g.createElement("a",{href:e.ctaLink,className:"w-full inline-flex items-center justify-center bg-white text-orange-600 font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-gray-100 transition duration-300 text-lg group cursor-pointer"},"ng Tuyn Ngay",g.createElement(ST,{className:"w-5 h-5 ml-2 transition-transform group-hover:translate-x-1"}))))))))},WOe=()=>{const{id:n}=vT();Jr();const[e,t]=O.useState([]);O.useEffect(()=>{n&&r(n)},[n]);const r=async i=>{const s=await Sf.getPostByIdApi(i);s&&s.DT&&(s.DT,t(s.DT))};return g.createElement("div",{className:"min-h-screen bg-gray-50"},g.createElement("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},g.createElement("header",{className:"p-4 md:p-6 rounded-xl mb-5"},g.createElement("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2"},e.title)),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10"},g.createElement("div",{className:"lg:col-span-2 space-y-4 prose max-w-none",dangerouslySetInnerHTML:{__html:e.detail}}))))},jOe=()=>{const{id:n}=vT(),e=mr();let[t,r]=O.useState({});if(O.useEffect(()=>{n&&(async()=>{let o=await mu.getProductByIdApi(n).unwrap();o&&o.DT&&r(o.DT)})()},[n,e]),!t)return g.createElement("div",{className:"flex items-center justify-center min-h-screen"},g.createElement("div",{className:"text-center"},g.createElement("p",{className:"text-xl text-gray-600"},"ang ti...")));const i=[{label:"Kiu micro",value:t.specifications?.type||"Dynamic"},{label:"Tn s p ng",value:t.specifications?.frequency||"40Hz  18kHz"},{label:"Phm vi hot ng",value:t.specifications?.range||"Ti a 30 mt"},{label:"Pin micro",value:t.specifications?.batteryMic||"1200mAh (4-5 gi)"},{label:"Pin u thu",value:t.specifications?.batteryReceiver||"Dng trn 10 gi"},{label:"Thi gian sc",value:t.specifications?.chargeTime||"1-2 gi"},{label:"Trng lng",value:t.specifications?.weight||"230g"},{label:"Kt ni u ra",value:t.specifications?.connection||"Jack TRS 3.5mm"},{label:"Tn s UHF",value:t.specifications?.uhfFrequency||"2 di A/B, 30 knh mi di"}];return g.createElement("div",{className:"bg-gray-50 min-h-screen pb-20"},g.createElement("section",{className:"bg-white border-b"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-10 lg:py-16"},g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center"},g.createElement("div",{className:"relative bg-[#f8f8f8] rounded-3xl p-8 flex justify-center items-center overflow-hidden group"},t.discount&&g.createElement("div",{className:"absolute top-0 left-0 bg-[#ed792f] text-white px-6 py-2 rounded-br-2xl font-bold uppercase tracking-widest shadow-lg"},"-",t.discount,"%"),g.createElement(gl,{imagePath:t.image||t.images?.[0],className:"w-auto h-[400px] object-contain transform group-hover:scale-105 transition-transform duration-500"})),g.createElement("div",null,g.createElement("h1",{className:"text-4xl lg:text-5xl font-black text-gray-900 mb-6 uppercase tracking-tighter"},t.name),g.createElement("p",{className:"text-gray-600 text-lg leading-relaxed mb-8"},t.description),g.createElement("div",{className:"flex items-center gap-4 mb-10"},g.createElement("span",{className:"text-4xl font-black text-[#ed792f]"},t.price?.toLocaleString?.("vi-VN"),""),t.oldPrice&&g.createElement("span",{className:"text-xl text-gray-400 line-through"},t.oldPrice?.toLocaleString?.("vi-VN"),""),g.createElement("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-bold"},t.stock>0?"Cn hng":"Ht hng")),g.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},g.createElement("button",{className:"flex-1 bg-black text-white px-8 py-4 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-all shadow-xl"},g.createElement(wY,{size:20})," MUA NGAY"),g.createElement("a",{href:`tel:${t.phone||"0372672396"}`,className:"flex-1 border-2 border-green-600 text-green-600 px-8 py-4 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-green-50 transition-all"},g.createElement(bu,{size:20})," ",t.phone||"037.267.2396")))))),g.createElement("section",{className:"max-w-7xl mx-auto px-4 py-16"},g.createElement("h2",{className:"text-2xl font-black mb-10 border-l-8 border-[#ed792f] pl-4 uppercase"},"Tnh nng ni bt"),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},g.createElement(Hm,{icon:g.createElement(bY,{className:"text-[#ed792f]"}),title:"Thit k chc chn",desc:"Thn micro lm hon ton bng kim loi vi lp sn en m tinh t."}),g.createElement(Hm,{icon:g.createElement(P7,{className:"text-[#ed792f]"}),title:"Sng UHF n nh",desc:"Hot ng mt m trong phm vi ln n 30m, hn ch nhiu."}),g.createElement(Hm,{icon:g.createElement(M7,{className:"text-[#ed792f]"}),title:"Chip x l DSP",desc:"H tr gim nhiu v nng cao cht lng thu m chuyn nghip."}),g.createElement(Hm,{icon:g.createElement(Gq,{className:"text-[#ed792f]"}),title:"Pin n tng",desc:"Micro hot ng lin tc 4-5 gi, u thu dng trn 10 gi."}),g.createElement(Hm,{icon:g.createElement(S7,{className:"text-[#ed792f]"}),title:"Cht m vt tm gi",desc:"Phn li dynamic bt ting r rng,  nhy cao, trung thc."}))),g.createElement("section",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-3 gap-12"},g.createElement("div",{className:"lg:col-span-2"},g.createElement("h2",{className:"text-2xl font-black mb-6 uppercase"},"M t sn phm"),g.createElement("div",{className:"prose prose-lg text-gray-600 max-w-none"},g.createElement("p",null,t.fullDescription||t.description))),g.createElement("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100"},g.createElement("h2",{className:"text-xl font-black mb-6 uppercase"},"Thng s k thut"),g.createElement("div",{className:"space-y-4"},i.map((s,o)=>g.createElement("div",{key:o,className:"flex justify-between border-b border-gray-50 pb-2"},g.createElement("span",{className:"text-gray-500 text-sm"},s.label),g.createElement("span",{className:"font-semibold text-sm text-right"},s.value)))))))},Hm=({icon:n,title:e,desc:t})=>g.createElement("div",{className:"bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow border border-gray-100"},g.createElement("div",{className:"mb-4 bg-orange-50 w-12 h-12 rounded-xl flex items-center justify-center"},n),g.createElement("h3",{className:"font-bold text-gray-900 mb-2"},e),g.createElement("p",{className:"text-sm text-gray-500 leading-relaxed"},t)),qOe=({children:n})=>{const{userInfo:e,isLoading:t}=Jn(r=>r.auth);return t?g.createElement(CH,null):!e||Object.keys(e).length===0?g.createElement(pf,{to:"/login",replace:!0}):e.role==="client"?g.createElement(pf,{to:"/profile/info",replace:!0}):n},ZM=({children:n})=>{const{userInfo:e,isLoading:t}=Jn(r=>r.auth);return t?g.createElement(CH,null):e&&Object.keys(e).length>0?g.createElement(pf,{to:"/profile/info",replace:!0}):n};function GOe(){const n=mr(),{userInfo:e,isLoading:t,hasCheckedAuth:r}=Jn(i=>i.auth);return O.useEffect(()=>{du.get("fr")&&!r&&!t&&n(gb())},[n,r,t]),g.createElement(oq,null,g.createElement(Dj,null,g.createElement(Xt,{path:"/login",element:g.createElement(ZM,null,g.createElement(mOe,null))}),g.createElement(Xt,{path:"/register",element:g.createElement(ZM,null,g.createElement(xOe,null))}),g.createElement(Xt,{path:"/",element:g.createElement(lQ,null)},g.createElement(Xt,{index:!0,element:g.createElement(pf,{to:"home",replace:!0})}),g.createElement(Xt,{path:"home",element:g.createElement(TOe,null)}),g.createElement(Xt,{path:"about",element:g.createElement(SOe,null)}),g.createElement(Xt,{path:"products",element:g.createElement(OOe,null)}),g.createElement(Xt,{path:"/product/:id",element:g.createElement(jOe,null)}),g.createElement(Xt,{path:"service",element:g.createElement(AOe,null)}),g.createElement(Xt,{path:"post",element:g.createElement(LOe,null)}),g.createElement(Xt,{path:"/post/:id",element:g.createElement(WOe,null)}),g.createElement(Xt,{path:"careers",element:g.createElement(UOe,null)}),g.createElement(Xt,{path:"/careers/:id",element:g.createElement($Oe,null)}),g.createElement(Xt,{path:"contact",element:g.createElement(HOe,null)})),g.createElement(Xt,{path:"/",element:g.createElement(qOe,null,g.createElement(rQ,null))},g.createElement(Xt,{index:!0,element:g.createElement(pf,{to:"dashboard",replace:!0})}),g.createElement(Xt,{path:"dashboard",element:g.createElement(cQ,null)}),g.createElement(Xt,{path:"profile/info",element:g.createElement(hOe,null)}),g.createElement(Xt,{path:"profile/change-password",element:g.createElement(uOe,null)}),g.createElement(Xt,{path:"profile/change-password-staff",element:g.createElement(dOe,null)}),g.createElement(Xt,{path:"products/categories",element:g.createElement(sue,null)}),"        ",g.createElement(Xt,{path:"products/list",element:g.createElement(nue,null)}),"      ",g.createElement(Xt,{path:"news/detail",element:g.createElement(sOe,null)}),"   ",g.createElement(Xt,{path:"news/manager",element:g.createElement(aue,null)}),"           ",g.createElement(Xt,{path:"recruitment/manager",element:g.createElement(aOe,null)}),g.createElement(Xt,{path:"recruitment/detail",element:g.createElement(fOe,null)}),g.createElement(Xt,{path:"hr/employees",element:g.createElement(cOe,null)}),"   ",g.createElement(Xt,{path:"hr/roles",element:g.createElement(uue,null)}),"      "),g.createElement(Xt,{path:"*",element:g.createElement(pf,{to:"/login",replace:!0})})))}function YOe(){return g.createElement(g.Fragment,null,g.createElement(GOe,null),g.createElement(kD,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}))}const KOe=aK({reducer:{auth:tQ,staff:cue,product:tue,category:aQ,post:oue,recruitment:oOe}});HW.createRoot(document.getElementById("root")).render(g.createElement(Rq,{store:KOe},g.createElement(g.StrictMode,null,g.createElement(YOe,null))))});export default XOe();
